import{r as yp,a as YT,g as Rr,b as x,u as aj,c as GT,L as fn,N as A5,O as wD,d as gi,e as Se,f as hs,R as De,h as rj,i as ZT,B as XT}from"./react-vendor-CcSoP7QY.js";import{c as ND}from"./state-CGPujecI.js";import{f as q,s as nt,a as os,p as ue,b as Ta,e as La,d as Gr,i as ps,c as lo,g as QT,h as JT,j as eL,k as tL,l as nL,m as aL,n as rL,o as sL,q as iL,r as lL,t as oL,u as cL,v as dL,w as uL,x as mL,y as fL,z as hL,A as pL,B as xL,C as gL,D as yL,E as vL,F as bL,G as jL,H as wL,I as NL,J as SL,K as AL,L as SD}from"./date-utils-BZYJwz5H.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function a(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=a(s);fetch(s.href,l)}})();var _0={exports:{}},qd={};var C5;function CL(){if(C5)return qd;C5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(r,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:e,type:r,key:c,ref:s!==void 0?s:null,props:l}}return qd.Fragment=t,qd.jsx=a,qd.jsxs=a,qd}var M5;function ML(){return M5||(M5=1,_0.exports=CL()),_0.exports}var n=ML(),T0={exports:{}},Hd={},L0={exports:{}},I0={};var D5;function DL(){return D5||(D5=1,(function(e){function t(V,B){var U=V.length;V.push(B);e:for(;0<U;){var F=U-1>>>1,W=V[F];if(0<s(W,B))V[F]=B,V[U]=W,U=F;else break e}}function a(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var B=V[0],U=V.pop();if(U!==B){V[0]=U;e:for(var F=0,W=V.length,ne=W>>>1;F<ne;){var je=2*(F+1)-1,H=V[je],fe=je+1,we=V[fe];if(0>s(H,U))fe<W&&0>s(we,H)?(V[F]=we,V[fe]=U,F=fe):(V[F]=H,V[je]=U,F=je);else if(fe<W&&0>s(we,U))V[F]=we,V[fe]=U,F=fe;else break e}}return B}function s(V,B){var U=V.sortIndex-B.sortIndex;return U!==0?U:V.id-B.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],f=[],h=1,g=null,y=3,v=!1,j=!1,b=!1,S=!1,M=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function O(V){for(var B=a(f);B!==null;){if(B.callback===null)r(f);else if(B.startTime<=V)r(f),B.sortIndex=B.expirationTime,t(m,B);else break;B=a(f)}}function D(V){if(b=!1,O(V),!j)if(a(m)!==null)j=!0,k||(k=!0,I());else{var B=a(f);B!==null&&Y(D,B.startTime-V)}}var k=!1,_=-1,E=5,P=-1;function z(){return S?!0:!(e.unstable_now()-P<E)}function L(){if(S=!1,k){var V=e.unstable_now();P=V;var B=!0;try{e:{j=!1,b&&(b=!1,N(_),_=-1),v=!0;var U=y;try{t:{for(O(V),g=a(m);g!==null&&!(g.expirationTime>V&&z());){var F=g.callback;if(typeof F=="function"){g.callback=null,y=g.priorityLevel;var W=F(g.expirationTime<=V);if(V=e.unstable_now(),typeof W=="function"){g.callback=W,O(V),B=!0;break t}g===a(m)&&r(m),O(V)}else r(m);g=a(m)}if(g!==null)B=!0;else{var ne=a(f);ne!==null&&Y(D,ne.startTime-V),B=!1}}break e}finally{g=null,y=U,v=!1}B=void 0}}finally{B?I():k=!1}}}var I;if(typeof A=="function")I=function(){A(L)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,T=J.port2;J.port1.onmessage=L,I=function(){T.postMessage(null)}}else I=function(){M(L,0)};function Y(V,B){_=M(function(){V(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(V){switch(y){case 1:case 2:case 3:var B=3;break;default:B=y}var U=y;y=B;try{return V()}finally{y=U}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(V,B){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var U=y;y=V;try{return B()}finally{y=U}},e.unstable_scheduleCallback=function(V,B,U){var F=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?F+U:F):U=F,V){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=U+W,V={id:h++,callback:B,priorityLevel:V,startTime:U,expirationTime:W,sortIndex:-1},U>F?(V.sortIndex=U,t(f,V),a(m)===null&&V===a(f)&&(b?(N(_),_=-1):b=!0,Y(D,U-F))):(V.sortIndex=W,t(m,V),j||v||(j=!0,k||(k=!0,I()))),V},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(V){var B=y;return function(){var U=y;y=B;try{return V.apply(this,arguments)}finally{y=U}}}})(I0)),I0}var O5;function OL(){return O5||(O5=1,L0.exports=DL()),L0.exports}var E5;function EL(){if(E5)return Hd;E5=1;var e=OL(),t=yp(),a=YT();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(r(188))}function f(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,p=o;;){var w=u.return;if(w===null)break;var C=w.alternate;if(C===null){if(p=w.return,p!==null){u=p;continue}break}if(w.child===C.child){for(C=w.child;C;){if(C===u)return m(w),i;if(C===p)return m(w),o;C=C.sibling}throw Error(r(188))}if(u.return!==p.return)u=w,p=C;else{for(var R=!1,$=w.child;$;){if($===u){R=!0,u=w,p=C;break}if($===p){R=!0,p=w,u=C;break}$=$.sibling}if(!R){for($=C.child;$;){if($===u){R=!0,u=C,p=w;break}if($===p){R=!0,p=C,u=w;break}$=$.sibling}if(!R)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function I(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var J=Symbol.for("react.client.reference");function T(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===J?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case b:return"Fragment";case M:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case k:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case A:return i.displayName||"Context";case N:return(i._context.displayName||"Context")+".Consumer";case O:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case _:return o=i.displayName||null,o!==null?o:T(i.type)||"Memo";case E:o=i._payload,i=i._init;try{return T(i(o))}catch{}}return null}var Y=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},F=[],W=-1;function ne(i){return{current:i}}function je(i){0>W||(i.current=F[W],F[W]=null,W--)}function H(i,o){W++,F[W]=i.current,i.current=o}var fe=ne(null),we=ne(null),se=ne(null),ee=ne(null);function ie(i,o){switch(H(se,o),H(we,i),H(fe,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?YS(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=YS(o),i=GS(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}je(fe),H(fe,i)}function ae(){je(fe),je(we),je(se)}function Me(i){i.memoizedState!==null&&H(ee,i);var o=fe.current,u=GS(o,i.type);o!==u&&(H(we,i),H(fe,u))}function Ce(i){we.current===i&&(je(fe),je(we)),ee.current===i&&(je(ee),$d._currentValue=U)}var xe,lt;function Re(i){if(xe===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);xe=o&&o[1]||"",lt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+i+lt}var Ke=!1;function Fe(i,o){if(!i||Ke)return"";Ke=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(me){var de=me}Reflect.construct(i,[],ve)}else{try{ve.call()}catch(me){de=me}i.call(ve.prototype)}}else{try{throw Error()}catch(me){de=me}(ve=i())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(me){if(me&&de&&typeof me.stack=="string")return[me.stack,de.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=p.DetermineComponentFrameRoot(),R=C[0],$=C[1];if(R&&$){var G=R.split(`
`),ce=$.split(`
`);for(w=p=0;p<G.length&&!G[p].includes("DetermineComponentFrameRoot");)p++;for(;w<ce.length&&!ce[w].includes("DetermineComponentFrameRoot");)w++;if(p===G.length||w===ce.length)for(p=G.length-1,w=ce.length-1;1<=p&&0<=w&&G[p]!==ce[w];)w--;for(;1<=p&&0<=w;p--,w--)if(G[p]!==ce[w]){if(p!==1||w!==1)do if(p--,w--,0>w||G[p]!==ce[w]){var pe=`
`+G[p].replace(" at new "," at ");return i.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",i.displayName)),pe}while(1<=p&&0<=w);break}}}finally{Ke=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Re(u):""}function tn(i,o){switch(i.tag){case 26:case 27:case 5:return Re(i.type);case 16:return Re("Lazy");case 13:return i.child!==o&&o!==null?Re("Suspense Fallback"):Re("Suspense");case 19:return Re("SuspenseList");case 0:case 15:return Fe(i.type,!1);case 11:return Fe(i.type.render,!1);case 1:return Fe(i.type,!0);case 31:return Re("Activity");default:return""}}function Ge(i){try{var o="",u=null;do o+=tn(i,u),u=i,i=i.return;while(i);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Ct=Object.prototype.hasOwnProperty,Z=e.unstable_scheduleCallback,le=e.unstable_cancelCallback,he=e.unstable_shouldYield,Ee=e.unstable_requestPaint,be=e.unstable_now,Ne=e.unstable_getCurrentPriorityLevel,ke=e.unstable_ImmediatePriority,Ze=e.unstable_UserBlockingPriority,rt=e.unstable_NormalPriority,Mn=e.unstable_LowPriority,or=e.unstable_IdlePriority,zn=e.log,ua=e.unstable_setDisableYieldValue,ta=null,pn=null;function cr(i){if(typeof zn=="function"&&ua(i),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(ta,i)}catch{}}var Hn=Math.clz32?Math.clz32:st,jo=Math.log,wo=Math.LN2;function st(i){return i>>>=0,i===0?32:31-(jo(i)/wo|0)|0}var Mt=256,Je=262144,wt=4194304;function Vn(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function mt(i,o,u){var p=i.pendingLanes;if(p===0)return 0;var w=0,C=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var $=p&134217727;return $!==0?(p=$&~C,p!==0?w=Vn(p):(R&=$,R!==0?w=Vn(R):u||(u=$&~i,u!==0&&(w=Vn(u))))):($=p&~C,$!==0?w=Vn($):R!==0?w=Vn(R):u||(u=p&~i,u!==0&&(w=Vn(u)))),w===0?0:o!==0&&o!==w&&(o&C)===0&&(C=w&-w,u=o&-o,C>=u||C===32&&(u&4194048)!==0)?o:w}function gl(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function wx(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jm(){var i=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),i}function yl(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Cs(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function L6(i,o,u,p,w,C){var R=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var $=i.entanglements,G=i.expirationTimes,ce=i.hiddenUpdates;for(u=R&~u;0<u;){var pe=31-Hn(u),ve=1<<pe;$[pe]=0,G[pe]=-1;var de=ce[pe];if(de!==null)for(ce[pe]=null,pe=0;pe<de.length;pe++){var me=de[pe];me!==null&&(me.lane&=-536870913)}u&=~ve}p!==0&&Ew(i,p,0),C!==0&&w===0&&i.tag!==0&&(i.suspendedLanes|=C&~(R&~o))}function Ew(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-Hn(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|u&261930}function kw(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var p=31-Hn(u),w=1<<p;w&o|i[p]&o&&(i[p]|=o),u&=~w}}function Pw(i,o){var u=o&-o;return u=(u&42)!==0?1:Nx(u),(u&(i.suspendedLanes|o))!==0?0:u}function Nx(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Sx(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Rw(){var i=B.p;return i!==0?i:(i=window.event,i===void 0?32:y5(i.type))}function _w(i,o){var u=B.p;try{return B.p=i,o()}finally{B.p=u}}var Di=Math.random().toString(36).slice(2),na="__reactFiber$"+Di,wa="__reactProps$"+Di,No="__reactContainer$"+Di,Ax="__reactEvents$"+Di,I6="__reactListeners$"+Di,z6="__reactHandles$"+Di,Tw="__reactResources$"+Di,ed="__reactMarker$"+Di;function Cx(i){delete i[na],delete i[wa],delete i[Ax],delete i[I6],delete i[z6]}function So(i){var o=i[na];if(o)return o;for(var u=i.parentNode;u;){if(o=u[No]||u[na]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=n5(i);i!==null;){if(u=i[na])return u;i=n5(i)}return o}i=u,u=i.parentNode}return null}function Ao(i){if(i=i[na]||i[No]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function td(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function Co(i){var o=i[Tw];return o||(o=i[Tw]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Kn(i){i[ed]=!0}var Lw=new Set,Iw={};function vl(i,o){Mo(i,o),Mo(i+"Capture",o)}function Mo(i,o){for(Iw[i]=o,i=0;i<o.length;i++)Lw.add(o[i])}var $6=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zw={},$w={};function B6(i){return Ct.call($w,i)?!0:Ct.call(zw,i)?!1:$6.test(i)?$w[i]=!0:(zw[i]=!0,!1)}function wm(i,o,u){if(B6(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function Nm(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function Ms(i,o,u,p){if(p===null)i.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+p)}}function dr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Bw(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function F6(i,o,u){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var w=p.get,C=p.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return w.call(this)},set:function(R){u=""+R,C.call(this,R)}}),Object.defineProperty(i,o,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(R){u=""+R},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Mx(i){if(!i._valueTracker){var o=Bw(i)?"checked":"value";i._valueTracker=F6(i,o,""+i[o])}}function Fw(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return i&&(p=Bw(i)?i.checked?"true":"false":i.value),i=p,i!==u?(o.setValue(i),!0):!1}function Sm(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var U6=/[\n"\\]/g;function ur(i){return i.replace(U6,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Dx(i,o,u,p,w,C,R,$){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),o!=null?R==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+dr(o)):i.value!==""+dr(o)&&(i.value=""+dr(o)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),o!=null?Ox(i,R,dr(o)):u!=null?Ox(i,R,dr(u)):p!=null&&i.removeAttribute("value"),w==null&&C!=null&&(i.defaultChecked=!!C),w!=null&&(i.checked=w&&typeof w!="function"&&typeof w!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?i.name=""+dr($):i.removeAttribute("name")}function Uw(i,o,u,p,w,C,R,$){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.type=C),o!=null||u!=null){if(!(C!=="submit"&&C!=="reset"||o!=null)){Mx(i);return}u=u!=null?""+dr(u):"",o=o!=null?""+dr(o):u,$||o===i.value||(i.value=o),i.defaultValue=o}p=p??w,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=$?i.checked:!!p,i.defaultChecked=!!p,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R),Mx(i)}function Ox(i,o,u){o==="number"&&Sm(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Do(i,o,u,p){if(i=i.options,o){o={};for(var w=0;w<u.length;w++)o["$"+u[w]]=!0;for(u=0;u<i.length;u++)w=o.hasOwnProperty("$"+i[u].value),i[u].selected!==w&&(i[u].selected=w),w&&p&&(i[u].defaultSelected=!0)}else{for(u=""+dr(u),o=null,w=0;w<i.length;w++){if(i[w].value===u){i[w].selected=!0,p&&(i[w].defaultSelected=!0);return}o!==null||i[w].disabled||(o=i[w])}o!==null&&(o.selected=!0)}}function qw(i,o,u){if(o!=null&&(o=""+dr(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+dr(u):""}function Hw(i,o,u,p){if(o==null){if(p!=null){if(u!=null)throw Error(r(92));if(Y(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),o=u}u=dr(o),i.defaultValue=u,p=i.textContent,p===u&&p!==""&&p!==null&&(i.value=p),Mx(i)}function Oo(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var q6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vw(i,o,u){var p=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,u):typeof u!="number"||u===0||q6.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function Kw(i,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var w in o)p=o[w],o.hasOwnProperty(w)&&u[w]!==p&&Vw(i,w,p)}else for(var C in o)o.hasOwnProperty(C)&&Vw(i,C,o[C])}function Ex(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var H6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),V6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Am(i){return V6.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ds(){}var kx=null;function Px(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Eo=null,ko=null;function Ww(i){var o=Ao(i);if(o&&(i=o.stateNode)){var u=i[wa]||null;e:switch(i=o.stateNode,o.type){case"input":if(Dx(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ur(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==i&&p.form===i.form){var w=p[wa]||null;if(!w)throw Error(r(90));Dx(p,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(o=0;o<u.length;o++)p=u[o],p.form===i.form&&Fw(p)}break e;case"textarea":qw(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Do(i,!!u.multiple,o,!1)}}}var Rx=!1;function Yw(i,o,u){if(Rx)return i(o,u);Rx=!0;try{var p=i(o);return p}finally{if(Rx=!1,(Eo!==null||ko!==null)&&(ff(),Eo&&(o=Eo,i=ko,ko=Eo=null,Ww(o),i)))for(o=0;o<i.length;o++)Ww(i[o])}}function nd(i,o){var u=i.stateNode;if(u===null)return null;var p=u[wa]||null;if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_x=!1;if(Os)try{var ad={};Object.defineProperty(ad,"passive",{get:function(){_x=!0}}),window.addEventListener("test",ad,ad),window.removeEventListener("test",ad,ad)}catch{_x=!1}var Oi=null,Tx=null,Cm=null;function Gw(){if(Cm)return Cm;var i,o=Tx,u=o.length,p,w="value"in Oi?Oi.value:Oi.textContent,C=w.length;for(i=0;i<u&&o[i]===w[i];i++);var R=u-i;for(p=1;p<=R&&o[u-p]===w[C-p];p++);return Cm=w.slice(i,1<p?1-p:void 0)}function Mm(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Dm(){return!0}function Zw(){return!1}function Na(i){function o(u,p,w,C,R){this._reactName=u,this._targetInst=w,this.type=p,this.nativeEvent=C,this.target=R,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(u=i[$],this[$]=u?u(C):C[$]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Dm:Zw,this.isPropagationStopped=Zw,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Dm)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Dm)},persist:function(){},isPersistent:Dm}),o}var bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Om=Na(bl),rd=g({},bl,{view:0,detail:0}),K6=Na(rd),Lx,Ix,sd,Em=g({},rd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$x,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==sd&&(sd&&i.type==="mousemove"?(Lx=i.screenX-sd.screenX,Ix=i.screenY-sd.screenY):Ix=Lx=0,sd=i),Lx)},movementY:function(i){return"movementY"in i?i.movementY:Ix}}),Xw=Na(Em),W6=g({},Em,{dataTransfer:0}),Y6=Na(W6),G6=g({},rd,{relatedTarget:0}),zx=Na(G6),Z6=g({},bl,{animationName:0,elapsedTime:0,pseudoElement:0}),X6=Na(Z6),Q6=g({},bl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),J6=Na(Q6),e_=g({},bl,{data:0}),Qw=Na(e_),t_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r_(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=a_[i])?!!o[i]:!1}function $x(){return r_}var s_=g({},rd,{key:function(i){if(i.key){var o=t_[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Mm(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?n_[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$x,charCode:function(i){return i.type==="keypress"?Mm(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Mm(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),i_=Na(s_),l_=g({},Em,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jw=Na(l_),o_=g({},rd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$x}),c_=Na(o_),d_=g({},bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),u_=Na(d_),m_=g({},Em,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),f_=Na(m_),h_=g({},bl,{newState:0,oldState:0}),p_=Na(h_),x_=[9,13,27,32],Bx=Os&&"CompositionEvent"in window,id=null;Os&&"documentMode"in document&&(id=document.documentMode);var g_=Os&&"TextEvent"in window&&!id,eN=Os&&(!Bx||id&&8<id&&11>=id),tN=" ",nN=!1;function aN(i,o){switch(i){case"keyup":return x_.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rN(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Po=!1;function y_(i,o){switch(i){case"compositionend":return rN(o);case"keypress":return o.which!==32?null:(nN=!0,tN);case"textInput":return i=o.data,i===tN&&nN?null:i;default:return null}}function v_(i,o){if(Po)return i==="compositionend"||!Bx&&aN(i,o)?(i=Gw(),Cm=Tx=Oi=null,Po=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return eN&&o.locale!=="ko"?null:o.data;default:return null}}var b_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sN(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!b_[i.type]:o==="textarea"}function iN(i,o,u,p){Eo?ko?ko.push(p):ko=[p]:Eo=p,o=bf(o,"onChange"),0<o.length&&(u=new Om("onChange","change",null,u,p),i.push({event:u,listeners:o}))}var ld=null,od=null;function j_(i){US(i,0)}function km(i){var o=td(i);if(Fw(o))return i}function lN(i,o){if(i==="change")return o}var oN=!1;if(Os){var Fx;if(Os){var Ux="oninput"in document;if(!Ux){var cN=document.createElement("div");cN.setAttribute("oninput","return;"),Ux=typeof cN.oninput=="function"}Fx=Ux}else Fx=!1;oN=Fx&&(!document.documentMode||9<document.documentMode)}function dN(){ld&&(ld.detachEvent("onpropertychange",uN),od=ld=null)}function uN(i){if(i.propertyName==="value"&&km(od)){var o=[];iN(o,od,i,Px(i)),Yw(j_,o)}}function w_(i,o,u){i==="focusin"?(dN(),ld=o,od=u,ld.attachEvent("onpropertychange",uN)):i==="focusout"&&dN()}function N_(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return km(od)}function S_(i,o){if(i==="click")return km(o)}function A_(i,o){if(i==="input"||i==="change")return km(o)}function C_(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Ua=typeof Object.is=="function"?Object.is:C_;function cd(i,o){if(Ua(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var w=u[p];if(!Ct.call(o,w)||!Ua(i[w],o[w]))return!1}return!0}function mN(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function fN(i,o){var u=mN(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=o&&p>=o)return{node:u,offset:o-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=mN(u)}}function hN(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?hN(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function pN(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Sm(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Sm(i.document)}return o}function qx(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var M_=Os&&"documentMode"in document&&11>=document.documentMode,Ro=null,Hx=null,dd=null,Vx=!1;function xN(i,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Vx||Ro==null||Ro!==Sm(p)||(p=Ro,"selectionStart"in p&&qx(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),dd&&cd(dd,p)||(dd=p,p=bf(Hx,"onSelect"),0<p.length&&(o=new Om("onSelect","select",null,o,u),i.push({event:o,listeners:p}),o.target=Ro)))}function jl(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var _o={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionrun:jl("Transition","TransitionRun"),transitionstart:jl("Transition","TransitionStart"),transitioncancel:jl("Transition","TransitionCancel"),transitionend:jl("Transition","TransitionEnd")},Kx={},gN={};Os&&(gN=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function wl(i){if(Kx[i])return Kx[i];if(!_o[i])return i;var o=_o[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in gN)return Kx[i]=o[u];return i}var yN=wl("animationend"),vN=wl("animationiteration"),bN=wl("animationstart"),D_=wl("transitionrun"),O_=wl("transitionstart"),E_=wl("transitioncancel"),jN=wl("transitionend"),wN=new Map,Wx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wx.push("scrollEnd");function Ir(i,o){wN.set(i,o),vl(o,[i])}var Pm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},mr=[],To=0,Yx=0;function Rm(){for(var i=To,o=Yx=To=0;o<i;){var u=mr[o];mr[o++]=null;var p=mr[o];mr[o++]=null;var w=mr[o];mr[o++]=null;var C=mr[o];if(mr[o++]=null,p!==null&&w!==null){var R=p.pending;R===null?w.next=w:(w.next=R.next,R.next=w),p.pending=w}C!==0&&NN(u,w,C)}}function _m(i,o,u,p){mr[To++]=i,mr[To++]=o,mr[To++]=u,mr[To++]=p,Yx|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function Gx(i,o,u,p){return _m(i,o,u,p),Tm(i)}function Nl(i,o){return _m(i,null,null,o),Tm(i)}function NN(i,o,u){i.lanes|=u;var p=i.alternate;p!==null&&(p.lanes|=u);for(var w=!1,C=i.return;C!==null;)C.childLanes|=u,p=C.alternate,p!==null&&(p.childLanes|=u),C.tag===22&&(i=C.stateNode,i===null||i._visibility&1||(w=!0)),i=C,C=C.return;return i.tag===3?(C=i.stateNode,w&&o!==null&&(w=31-Hn(u),i=C.hiddenUpdates,p=i[w],p===null?i[w]=[o]:p.push(o),o.lane=u|536870912),C):null}function Tm(i){if(50<Pd)throw Pd=0,r0=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Lo={};function k_(i,o,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qa(i,o,u,p){return new k_(i,o,u,p)}function Zx(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Es(i,o){var u=i.alternate;return u===null?(u=qa(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function SN(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Lm(i,o,u,p,w,C){var R=0;if(p=i,typeof i=="function")Zx(i)&&(R=1);else if(typeof i=="string")R=LT(i,u,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=qa(31,u,o,w),i.elementType=P,i.lanes=C,i;case b:return Sl(u.children,w,C,o);case S:R=8,w|=24;break;case M:return i=qa(12,u,o,w|2),i.elementType=M,i.lanes=C,i;case D:return i=qa(13,u,o,w),i.elementType=D,i.lanes=C,i;case k:return i=qa(19,u,o,w),i.elementType=k,i.lanes=C,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:R=10;break e;case N:R=9;break e;case O:R=11;break e;case _:R=14;break e;case E:R=16,p=null;break e}R=29,u=Error(r(130,i===null?"null":typeof i,"")),p=null}return o=qa(R,u,o,w),o.elementType=i,o.type=p,o.lanes=C,o}function Sl(i,o,u,p){return i=qa(7,i,p,o),i.lanes=u,i}function Xx(i,o,u){return i=qa(6,i,null,o),i.lanes=u,i}function AN(i){var o=qa(18,null,null,0);return o.stateNode=i,o}function Qx(i,o,u){return o=qa(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var CN=new WeakMap;function fr(i,o){if(typeof i=="object"&&i!==null){var u=CN.get(i);return u!==void 0?u:(o={value:i,source:o,stack:Ge(o)},CN.set(i,o),o)}return{value:i,source:o,stack:Ge(o)}}var Io=[],zo=0,Im=null,ud=0,hr=[],pr=0,Ei=null,Jr=1,es="";function ks(i,o){Io[zo++]=ud,Io[zo++]=Im,Im=i,ud=o}function MN(i,o,u){hr[pr++]=Jr,hr[pr++]=es,hr[pr++]=Ei,Ei=i;var p=Jr;i=es;var w=32-Hn(p)-1;p&=~(1<<w),u+=1;var C=32-Hn(o)+w;if(30<C){var R=w-w%5;C=(p&(1<<R)-1).toString(32),p>>=R,w-=R,Jr=1<<32-Hn(o)+w|u<<w|p,es=C+i}else Jr=1<<C|u<<w|p,es=i}function Jx(i){i.return!==null&&(ks(i,1),MN(i,1,0))}function eg(i){for(;i===Im;)Im=Io[--zo],Io[zo]=null,ud=Io[--zo],Io[zo]=null;for(;i===Ei;)Ei=hr[--pr],hr[pr]=null,es=hr[--pr],hr[pr]=null,Jr=hr[--pr],hr[pr]=null}function DN(i,o){hr[pr++]=Jr,hr[pr++]=es,hr[pr++]=Ei,Jr=o.id,es=o.overflow,Ei=i}var aa=null,nn=null,jt=!1,ki=null,xr=!1,tg=Error(r(519));function Pi(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw md(fr(o,i)),tg}function ON(i){var o=i.stateNode,u=i.type,p=i.memoizedProps;switch(o[na]=i,o[wa]=p,u){case"dialog":xt("cancel",o),xt("close",o);break;case"iframe":case"object":case"embed":xt("load",o);break;case"video":case"audio":for(u=0;u<_d.length;u++)xt(_d[u],o);break;case"source":xt("error",o);break;case"img":case"image":case"link":xt("error",o),xt("load",o);break;case"details":xt("toggle",o);break;case"input":xt("invalid",o),Uw(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":xt("invalid",o);break;case"textarea":xt("invalid",o),Hw(o,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||p.suppressHydrationWarning===!0||KS(o.textContent,u)?(p.popover!=null&&(xt("beforetoggle",o),xt("toggle",o)),p.onScroll!=null&&xt("scroll",o),p.onScrollEnd!=null&&xt("scrollend",o),p.onClick!=null&&(o.onclick=Ds),o=!0):o=!1,o||Pi(i,!0)}function EN(i){for(aa=i.return;aa;)switch(aa.tag){case 5:case 31:case 13:xr=!1;return;case 27:case 3:xr=!0;return;default:aa=aa.return}}function $o(i){if(i!==aa)return!1;if(!jt)return EN(i),jt=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||v0(i.type,i.memoizedProps)),u=!u),u&&nn&&Pi(i),EN(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));nn=t5(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));nn=t5(i)}else o===27?(o=nn,Ki(i.type)?(i=S0,S0=null,nn=i):nn=o):nn=aa?yr(i.stateNode.nextSibling):null;return!0}function Al(){nn=aa=null,jt=!1}function ng(){var i=ki;return i!==null&&(Ma===null?Ma=i:Ma.push.apply(Ma,i),ki=null),i}function md(i){ki===null?ki=[i]:ki.push(i)}var ag=ne(null),Cl=null,Ps=null;function Ri(i,o,u){H(ag,o._currentValue),o._currentValue=u}function Rs(i){i._currentValue=ag.current,je(ag)}function rg(i,o,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===u)break;i=i.return}}function sg(i,o,u,p){var w=i.child;for(w!==null&&(w.return=i);w!==null;){var C=w.dependencies;if(C!==null){var R=w.child;C=C.firstContext;e:for(;C!==null;){var $=C;C=w;for(var G=0;G<o.length;G++)if($.context===o[G]){C.lanes|=u,$=C.alternate,$!==null&&($.lanes|=u),rg(C.return,u,i),p||(R=null);break e}C=$.next}}else if(w.tag===18){if(R=w.return,R===null)throw Error(r(341));R.lanes|=u,C=R.alternate,C!==null&&(C.lanes|=u),rg(R,u,i),R=null}else R=w.child;if(R!==null)R.return=w;else for(R=w;R!==null;){if(R===i){R=null;break}if(w=R.sibling,w!==null){w.return=R.return,R=w;break}R=R.return}w=R}}function Bo(i,o,u,p){i=null;for(var w=o,C=!1;w!==null;){if(!C){if((w.flags&524288)!==0)C=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var R=w.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var $=w.type;Ua(w.pendingProps.value,R.value)||(i!==null?i.push($):i=[$])}}else if(w===ee.current){if(R=w.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(i!==null?i.push($d):i=[$d])}w=w.return}i!==null&&sg(o,i,u,p),o.flags|=262144}function zm(i){for(i=i.firstContext;i!==null;){if(!Ua(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ml(i){Cl=i,Ps=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ra(i){return kN(Cl,i)}function $m(i,o){return Cl===null&&Ml(i),kN(i,o)}function kN(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Ps===null){if(i===null)throw Error(r(308));Ps=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Ps=Ps.next=o;return u}var P_=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},R_=e.unstable_scheduleCallback,__=e.unstable_NormalPriority,Dn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ig(){return{controller:new P_,data:new Map,refCount:0}}function fd(i){i.refCount--,i.refCount===0&&R_(__,function(){i.controller.abort()})}var hd=null,lg=0,Fo=0,Uo=null;function T_(i,o){if(hd===null){var u=hd=[];lg=0,Fo=d0(),Uo={status:"pending",value:void 0,then:function(p){u.push(p)}}}return lg++,o.then(PN,PN),o}function PN(){if(--lg===0&&hd!==null){Uo!==null&&(Uo.status="fulfilled");var i=hd;hd=null,Fo=0,Uo=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function L_(i,o){var u=[],p={status:"pending",value:null,reason:null,then:function(w){u.push(w)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var w=0;w<u.length;w++)(0,u[w])(o)},function(w){for(p.status="rejected",p.reason=w,w=0;w<u.length;w++)(0,u[w])(void 0)}),p}var RN=V.S;V.S=function(i,o){xS=be(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&T_(i,o),RN!==null&&RN(i,o)};var Dl=ne(null);function og(){var i=Dl.current;return i!==null?i:Vt.pooledCache}function Bm(i,o){o===null?H(Dl,Dl.current):H(Dl,o.pool)}function _N(){var i=og();return i===null?null:{parent:Dn._currentValue,pool:i}}var qo=Error(r(460)),cg=Error(r(474)),Fm=Error(r(542)),Um={then:function(){}};function TN(i){return i=i.status,i==="fulfilled"||i==="rejected"}function LN(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(Ds,Ds),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,zN(i),i;default:if(typeof o.status=="string")o.then(Ds,Ds);else{if(i=Vt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var w=o;w.status="fulfilled",w.value=p}},function(p){if(o.status==="pending"){var w=o;w.status="rejected",w.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,zN(i),i}throw El=o,qo}}function Ol(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(El=u,qo):u}}var El=null;function IN(){if(El===null)throw Error(r(459));var i=El;return El=null,i}function zN(i){if(i===qo||i===Fm)throw Error(r(483))}var Ho=null,pd=0;function qm(i){var o=pd;return pd+=1,Ho===null&&(Ho=[]),LN(Ho,i,o)}function xd(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Hm(i,o){throw o.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function $N(i){function o(re,Q){if(i){var oe=re.deletions;oe===null?(re.deletions=[Q],re.flags|=16):oe.push(Q)}}function u(re,Q){if(!i)return null;for(;Q!==null;)o(re,Q),Q=Q.sibling;return null}function p(re){for(var Q=new Map;re!==null;)re.key!==null?Q.set(re.key,re):Q.set(re.index,re),re=re.sibling;return Q}function w(re,Q){return re=Es(re,Q),re.index=0,re.sibling=null,re}function C(re,Q,oe){return re.index=oe,i?(oe=re.alternate,oe!==null?(oe=oe.index,oe<Q?(re.flags|=67108866,Q):oe):(re.flags|=67108866,Q)):(re.flags|=1048576,Q)}function R(re){return i&&re.alternate===null&&(re.flags|=67108866),re}function $(re,Q,oe,ye){return Q===null||Q.tag!==6?(Q=Xx(oe,re.mode,ye),Q.return=re,Q):(Q=w(Q,oe),Q.return=re,Q)}function G(re,Q,oe,ye){var He=oe.type;return He===b?pe(re,Q,oe.props.children,ye,oe.key):Q!==null&&(Q.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===E&&Ol(He)===Q.type)?(Q=w(Q,oe.props),xd(Q,oe),Q.return=re,Q):(Q=Lm(oe.type,oe.key,oe.props,null,re.mode,ye),xd(Q,oe),Q.return=re,Q)}function ce(re,Q,oe,ye){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==oe.containerInfo||Q.stateNode.implementation!==oe.implementation?(Q=Qx(oe,re.mode,ye),Q.return=re,Q):(Q=w(Q,oe.children||[]),Q.return=re,Q)}function pe(re,Q,oe,ye,He){return Q===null||Q.tag!==7?(Q=Sl(oe,re.mode,ye,He),Q.return=re,Q):(Q=w(Q,oe),Q.return=re,Q)}function ve(re,Q,oe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Xx(""+Q,re.mode,oe),Q.return=re,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return oe=Lm(Q.type,Q.key,Q.props,null,re.mode,oe),xd(oe,Q),oe.return=re,oe;case j:return Q=Qx(Q,re.mode,oe),Q.return=re,Q;case E:return Q=Ol(Q),ve(re,Q,oe)}if(Y(Q)||I(Q))return Q=Sl(Q,re.mode,oe,null),Q.return=re,Q;if(typeof Q.then=="function")return ve(re,qm(Q),oe);if(Q.$$typeof===A)return ve(re,$m(re,Q),oe);Hm(re,Q)}return null}function de(re,Q,oe,ye){var He=Q!==null?Q.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return He!==null?null:$(re,Q,""+oe,ye);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case v:return oe.key===He?G(re,Q,oe,ye):null;case j:return oe.key===He?ce(re,Q,oe,ye):null;case E:return oe=Ol(oe),de(re,Q,oe,ye)}if(Y(oe)||I(oe))return He!==null?null:pe(re,Q,oe,ye,null);if(typeof oe.then=="function")return de(re,Q,qm(oe),ye);if(oe.$$typeof===A)return de(re,Q,$m(re,oe),ye);Hm(re,oe)}return null}function me(re,Q,oe,ye,He){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return re=re.get(oe)||null,$(Q,re,""+ye,He);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case v:return re=re.get(ye.key===null?oe:ye.key)||null,G(Q,re,ye,He);case j:return re=re.get(ye.key===null?oe:ye.key)||null,ce(Q,re,ye,He);case E:return ye=Ol(ye),me(re,Q,oe,ye,He)}if(Y(ye)||I(ye))return re=re.get(oe)||null,pe(Q,re,ye,He,null);if(typeof ye.then=="function")return me(re,Q,oe,qm(ye),He);if(ye.$$typeof===A)return me(re,Q,oe,$m(Q,ye),He);Hm(Q,ye)}return null}function Te(re,Q,oe,ye){for(var He=null,Dt=null,Ie=Q,ot=Q=0,yt=null;Ie!==null&&ot<oe.length;ot++){Ie.index>ot?(yt=Ie,Ie=null):yt=Ie.sibling;var Ot=de(re,Ie,oe[ot],ye);if(Ot===null){Ie===null&&(Ie=yt);break}i&&Ie&&Ot.alternate===null&&o(re,Ie),Q=C(Ot,Q,ot),Dt===null?He=Ot:Dt.sibling=Ot,Dt=Ot,Ie=yt}if(ot===oe.length)return u(re,Ie),jt&&ks(re,ot),He;if(Ie===null){for(;ot<oe.length;ot++)Ie=ve(re,oe[ot],ye),Ie!==null&&(Q=C(Ie,Q,ot),Dt===null?He=Ie:Dt.sibling=Ie,Dt=Ie);return jt&&ks(re,ot),He}for(Ie=p(Ie);ot<oe.length;ot++)yt=me(Ie,re,ot,oe[ot],ye),yt!==null&&(i&&yt.alternate!==null&&Ie.delete(yt.key===null?ot:yt.key),Q=C(yt,Q,ot),Dt===null?He=yt:Dt.sibling=yt,Dt=yt);return i&&Ie.forEach(function(Xi){return o(re,Xi)}),jt&&ks(re,ot),He}function Ve(re,Q,oe,ye){if(oe==null)throw Error(r(151));for(var He=null,Dt=null,Ie=Q,ot=Q=0,yt=null,Ot=oe.next();Ie!==null&&!Ot.done;ot++,Ot=oe.next()){Ie.index>ot?(yt=Ie,Ie=null):yt=Ie.sibling;var Xi=de(re,Ie,Ot.value,ye);if(Xi===null){Ie===null&&(Ie=yt);break}i&&Ie&&Xi.alternate===null&&o(re,Ie),Q=C(Xi,Q,ot),Dt===null?He=Xi:Dt.sibling=Xi,Dt=Xi,Ie=yt}if(Ot.done)return u(re,Ie),jt&&ks(re,ot),He;if(Ie===null){for(;!Ot.done;ot++,Ot=oe.next())Ot=ve(re,Ot.value,ye),Ot!==null&&(Q=C(Ot,Q,ot),Dt===null?He=Ot:Dt.sibling=Ot,Dt=Ot);return jt&&ks(re,ot),He}for(Ie=p(Ie);!Ot.done;ot++,Ot=oe.next())Ot=me(Ie,re,ot,Ot.value,ye),Ot!==null&&(i&&Ot.alternate!==null&&Ie.delete(Ot.key===null?ot:Ot.key),Q=C(Ot,Q,ot),Dt===null?He=Ot:Dt.sibling=Ot,Dt=Ot);return i&&Ie.forEach(function(WT){return o(re,WT)}),jt&&ks(re,ot),He}function Ht(re,Q,oe,ye){if(typeof oe=="object"&&oe!==null&&oe.type===b&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case v:e:{for(var He=oe.key;Q!==null;){if(Q.key===He){if(He=oe.type,He===b){if(Q.tag===7){u(re,Q.sibling),ye=w(Q,oe.props.children),ye.return=re,re=ye;break e}}else if(Q.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===E&&Ol(He)===Q.type){u(re,Q.sibling),ye=w(Q,oe.props),xd(ye,oe),ye.return=re,re=ye;break e}u(re,Q);break}else o(re,Q);Q=Q.sibling}oe.type===b?(ye=Sl(oe.props.children,re.mode,ye,oe.key),ye.return=re,re=ye):(ye=Lm(oe.type,oe.key,oe.props,null,re.mode,ye),xd(ye,oe),ye.return=re,re=ye)}return R(re);case j:e:{for(He=oe.key;Q!==null;){if(Q.key===He)if(Q.tag===4&&Q.stateNode.containerInfo===oe.containerInfo&&Q.stateNode.implementation===oe.implementation){u(re,Q.sibling),ye=w(Q,oe.children||[]),ye.return=re,re=ye;break e}else{u(re,Q);break}else o(re,Q);Q=Q.sibling}ye=Qx(oe,re.mode,ye),ye.return=re,re=ye}return R(re);case E:return oe=Ol(oe),Ht(re,Q,oe,ye)}if(Y(oe))return Te(re,Q,oe,ye);if(I(oe)){if(He=I(oe),typeof He!="function")throw Error(r(150));return oe=He.call(oe),Ve(re,Q,oe,ye)}if(typeof oe.then=="function")return Ht(re,Q,qm(oe),ye);if(oe.$$typeof===A)return Ht(re,Q,$m(re,oe),ye);Hm(re,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,Q!==null&&Q.tag===6?(u(re,Q.sibling),ye=w(Q,oe),ye.return=re,re=ye):(u(re,Q),ye=Xx(oe,re.mode,ye),ye.return=re,re=ye),R(re)):u(re,Q)}return function(re,Q,oe,ye){try{pd=0;var He=Ht(re,Q,oe,ye);return Ho=null,He}catch(Ie){if(Ie===qo||Ie===Fm)throw Ie;var Dt=qa(29,Ie,null,re.mode);return Dt.lanes=ye,Dt.return=re,Dt}finally{}}}var kl=$N(!0),BN=$N(!1),_i=!1;function dg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ug(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ti(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Li(i,o,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(kt&2)!==0){var w=p.pending;return w===null?o.next=o:(o.next=w.next,w.next=o),p.pending=o,o=Tm(i),NN(i,null,u),o}return _m(i,p,o,u),Tm(i)}function gd(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,kw(i,u)}}function mg(i,o){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var w=null,C=null;if(u=u.firstBaseUpdate,u!==null){do{var R={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};C===null?w=C=R:C=C.next=R,u=u.next}while(u!==null);C===null?w=C=o:C=C.next=o}else w=C=o;u={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:C,shared:p.shared,callbacks:p.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var fg=!1;function yd(){if(fg){var i=Uo;if(i!==null)throw i}}function vd(i,o,u,p){fg=!1;var w=i.updateQueue;_i=!1;var C=w.firstBaseUpdate,R=w.lastBaseUpdate,$=w.shared.pending;if($!==null){w.shared.pending=null;var G=$,ce=G.next;G.next=null,R===null?C=ce:R.next=ce,R=G;var pe=i.alternate;pe!==null&&(pe=pe.updateQueue,$=pe.lastBaseUpdate,$!==R&&($===null?pe.firstBaseUpdate=ce:$.next=ce,pe.lastBaseUpdate=G))}if(C!==null){var ve=w.baseState;R=0,pe=ce=G=null,$=C;do{var de=$.lane&-536870913,me=de!==$.lane;if(me?(gt&de)===de:(p&de)===de){de!==0&&de===Fo&&(fg=!0),pe!==null&&(pe=pe.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Te=i,Ve=$;de=o;var Ht=u;switch(Ve.tag){case 1:if(Te=Ve.payload,typeof Te=="function"){ve=Te.call(Ht,ve,de);break e}ve=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ve.payload,de=typeof Te=="function"?Te.call(Ht,ve,de):Te,de==null)break e;ve=g({},ve,de);break e;case 2:_i=!0}}de=$.callback,de!==null&&(i.flags|=64,me&&(i.flags|=8192),me=w.callbacks,me===null?w.callbacks=[de]:me.push(de))}else me={lane:de,tag:$.tag,payload:$.payload,callback:$.callback,next:null},pe===null?(ce=pe=me,G=ve):pe=pe.next=me,R|=de;if($=$.next,$===null){if($=w.shared.pending,$===null)break;me=$,$=me.next,me.next=null,w.lastBaseUpdate=me,w.shared.pending=null}}while(!0);pe===null&&(G=ve),w.baseState=G,w.firstBaseUpdate=ce,w.lastBaseUpdate=pe,C===null&&(w.shared.lanes=0),Fi|=R,i.lanes=R,i.memoizedState=ve}}function FN(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function UN(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)FN(u[i],o)}var Vo=ne(null),Vm=ne(0);function qN(i,o){i=Us,H(Vm,i),H(Vo,o),Us=i|o.baseLanes}function hg(){H(Vm,Us),H(Vo,Vo.current)}function pg(){Us=Vm.current,je(Vo),je(Vm)}var Ha=ne(null),gr=null;function Ii(i){var o=i.alternate;H(bn,bn.current&1),H(Ha,i),gr===null&&(o===null||Vo.current!==null||o.memoizedState!==null)&&(gr=i)}function xg(i){H(bn,bn.current),H(Ha,i),gr===null&&(gr=i)}function HN(i){i.tag===22?(H(bn,bn.current),H(Ha,i),gr===null&&(gr=i)):zi()}function zi(){H(bn,bn.current),H(Ha,Ha.current)}function Va(i){je(Ha),gr===i&&(gr=null),je(bn)}var bn=ne(0);function Km(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||w0(u)||N0(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var _s=0,it=null,Ut=null,On=null,Wm=!1,Ko=!1,Pl=!1,Ym=0,bd=0,Wo=null,I_=0;function xn(){throw Error(r(321))}function gg(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Ua(i[u],o[u]))return!1;return!0}function yg(i,o,u,p,w,C){return _s=C,it=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,V.H=i===null||i.memoizedState===null?M2:Rg,Pl=!1,C=u(p,w),Pl=!1,Ko&&(C=KN(o,u,p,w)),VN(i),C}function VN(i){V.H=Nd;var o=Ut!==null&&Ut.next!==null;if(_s=0,On=Ut=it=null,Wm=!1,bd=0,Wo=null,o)throw Error(r(300));i===null||En||(i=i.dependencies,i!==null&&zm(i)&&(En=!0))}function KN(i,o,u,p){it=i;var w=0;do{if(Ko&&(Wo=null),bd=0,Ko=!1,25<=w)throw Error(r(301));if(w+=1,On=Ut=null,i.updateQueue!=null){var C=i.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}V.H=D2,C=o(u,p)}while(Ko);return C}function z_(){var i=V.H,o=i.useState()[0];return o=typeof o.then=="function"?jd(o):o,i=i.useState()[0],(Ut!==null?Ut.memoizedState:null)!==i&&(it.flags|=1024),o}function vg(){var i=Ym!==0;return Ym=0,i}function bg(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function jg(i){if(Wm){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Wm=!1}_s=0,On=Ut=it=null,Ko=!1,bd=Ym=0,Wo=null}function ga(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?it.memoizedState=On=i:On=On.next=i,On}function jn(){if(Ut===null){var i=it.alternate;i=i!==null?i.memoizedState:null}else i=Ut.next;var o=On===null?it.memoizedState:On.next;if(o!==null)On=o,Ut=i;else{if(i===null)throw it.alternate===null?Error(r(467)):Error(r(310));Ut=i,i={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},On===null?it.memoizedState=On=i:On=On.next=i}return On}function Gm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jd(i){var o=bd;return bd+=1,Wo===null&&(Wo=[]),i=LN(Wo,i,o),o=it,(On===null?o.memoizedState:On.next)===null&&(o=o.alternate,V.H=o===null||o.memoizedState===null?M2:Rg),i}function Zm(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return jd(i);if(i.$$typeof===A)return ra(i)}throw Error(r(438,String(i)))}function wg(i){var o=null,u=it.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var p=it.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(w){return w.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Gm(),it.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),p=0;p<i;p++)u[p]=z;return o.index++,u}function Ts(i,o){return typeof o=="function"?o(i):o}function Xm(i){var o=jn();return Ng(o,Ut,i)}function Ng(i,o,u){var p=i.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var w=i.baseQueue,C=p.pending;if(C!==null){if(w!==null){var R=w.next;w.next=C.next,C.next=R}o.baseQueue=w=C,p.pending=null}if(C=i.baseState,w===null)i.memoizedState=C;else{o=w.next;var $=R=null,G=null,ce=o,pe=!1;do{var ve=ce.lane&-536870913;if(ve!==ce.lane?(gt&ve)===ve:(_s&ve)===ve){var de=ce.revertLane;if(de===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),ve===Fo&&(pe=!0);else if((_s&de)===de){ce=ce.next,de===Fo&&(pe=!0);continue}else ve={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},G===null?($=G=ve,R=C):G=G.next=ve,it.lanes|=de,Fi|=de;ve=ce.action,Pl&&u(C,ve),C=ce.hasEagerState?ce.eagerState:u(C,ve)}else de={lane:ve,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},G===null?($=G=de,R=C):G=G.next=de,it.lanes|=ve,Fi|=ve;ce=ce.next}while(ce!==null&&ce!==o);if(G===null?R=C:G.next=$,!Ua(C,i.memoizedState)&&(En=!0,pe&&(u=Uo,u!==null)))throw u;i.memoizedState=C,i.baseState=R,i.baseQueue=G,p.lastRenderedState=C}return w===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function Sg(i){var o=jn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var p=u.dispatch,w=u.pending,C=o.memoizedState;if(w!==null){u.pending=null;var R=w=w.next;do C=i(C,R.action),R=R.next;while(R!==w);Ua(C,o.memoizedState)||(En=!0),o.memoizedState=C,o.baseQueue===null&&(o.baseState=C),u.lastRenderedState=C}return[C,p]}function WN(i,o,u){var p=it,w=jn(),C=jt;if(C){if(u===void 0)throw Error(r(407));u=u()}else u=o();var R=!Ua((Ut||w).memoizedState,u);if(R&&(w.memoizedState=u,En=!0),w=w.queue,Mg(ZN.bind(null,p,w,i),[i]),w.getSnapshot!==o||R||On!==null&&On.memoizedState.tag&1){if(p.flags|=2048,Yo(9,{destroy:void 0},GN.bind(null,p,w,u,o),null),Vt===null)throw Error(r(349));C||(_s&127)!==0||YN(p,o,u)}return u}function YN(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=it.updateQueue,o===null?(o=Gm(),it.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function GN(i,o,u,p){o.value=u,o.getSnapshot=p,XN(o)&&QN(i)}function ZN(i,o,u){return u(function(){XN(o)&&QN(i)})}function XN(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Ua(i,u)}catch{return!0}}function QN(i){var o=Nl(i,2);o!==null&&Da(o,i,2)}function Ag(i){var o=ga();if(typeof i=="function"){var u=i;if(i=u(),Pl){cr(!0);try{u()}finally{cr(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:i},o}function JN(i,o,u,p){return i.baseState=u,Ng(i,Ut,typeof p=="function"?p:Ts)}function $_(i,o,u,p,w){if(ef(i))throw Error(r(485));if(i=o.action,i!==null){var C={payload:w,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){C.listeners.push(R)}};V.T!==null?u(!0):C.isTransition=!1,p(C),u=o.pending,u===null?(C.next=o.pending=C,e2(o,C)):(C.next=u.next,o.pending=u.next=C)}}function e2(i,o){var u=o.action,p=o.payload,w=i.state;if(o.isTransition){var C=V.T,R={};V.T=R;try{var $=u(w,p),G=V.S;G!==null&&G(R,$),t2(i,o,$)}catch(ce){Cg(i,o,ce)}finally{C!==null&&R.types!==null&&(C.types=R.types),V.T=C}}else try{C=u(w,p),t2(i,o,C)}catch(ce){Cg(i,o,ce)}}function t2(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){n2(i,o,p)},function(p){return Cg(i,o,p)}):n2(i,o,u)}function n2(i,o,u){o.status="fulfilled",o.value=u,a2(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,e2(i,u)))}function Cg(i,o,u){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=u,a2(o),o=o.next;while(o!==p)}i.action=null}function a2(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function r2(i,o){return o}function s2(i,o){if(jt){var u=Vt.formState;if(u!==null){e:{var p=it;if(jt){if(nn){t:{for(var w=nn,C=xr;w.nodeType!==8;){if(!C){w=null;break t}if(w=yr(w.nextSibling),w===null){w=null;break t}}C=w.data,w=C==="F!"||C==="F"?w:null}if(w){nn=yr(w.nextSibling),p=w.data==="F!";break e}}Pi(p)}p=!1}p&&(o=u[0])}}return u=ga(),u.memoizedState=u.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r2,lastRenderedState:o},u.queue=p,u=S2.bind(null,it,p),p.dispatch=u,p=Ag(!1),C=Pg.bind(null,it,!1,p.queue),p=ga(),w={state:o,dispatch:null,action:i,pending:null},p.queue=w,u=$_.bind(null,it,w,C,u),w.dispatch=u,p.memoizedState=i,[o,u,!1]}function i2(i){var o=jn();return l2(o,Ut,i)}function l2(i,o,u){if(o=Ng(i,o,r2)[0],i=Xm(Ts)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=jd(o)}catch(R){throw R===qo?Fm:R}else p=o;o=jn();var w=o.queue,C=w.dispatch;return u!==o.memoizedState&&(it.flags|=2048,Yo(9,{destroy:void 0},B_.bind(null,w,u),null)),[p,C,i]}function B_(i,o){i.action=o}function o2(i){var o=jn(),u=Ut;if(u!==null)return l2(o,u,i);jn(),o=o.memoizedState,u=jn();var p=u.queue.dispatch;return u.memoizedState=i,[o,p,!1]}function Yo(i,o,u,p){return i={tag:i,create:u,deps:p,inst:o,next:null},o=it.updateQueue,o===null&&(o=Gm(),it.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,o.lastEffect=i),i}function c2(){return jn().memoizedState}function Qm(i,o,u,p){var w=ga();it.flags|=i,w.memoizedState=Yo(1|o,{destroy:void 0},u,p===void 0?null:p)}function Jm(i,o,u,p){var w=jn();p=p===void 0?null:p;var C=w.memoizedState.inst;Ut!==null&&p!==null&&gg(p,Ut.memoizedState.deps)?w.memoizedState=Yo(o,C,u,p):(it.flags|=i,w.memoizedState=Yo(1|o,C,u,p))}function d2(i,o){Qm(8390656,8,i,o)}function Mg(i,o){Jm(2048,8,i,o)}function F_(i){it.flags|=4;var o=it.updateQueue;if(o===null)o=Gm(),it.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function u2(i){var o=jn().memoizedState;return F_({ref:o,nextImpl:i}),function(){if((kt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function m2(i,o){return Jm(4,2,i,o)}function f2(i,o){return Jm(4,4,i,o)}function h2(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function p2(i,o,u){u=u!=null?u.concat([i]):null,Jm(4,4,h2.bind(null,o,i),u)}function Dg(){}function x2(i,o){var u=jn();o=o===void 0?null:o;var p=u.memoizedState;return o!==null&&gg(o,p[1])?p[0]:(u.memoizedState=[i,o],i)}function g2(i,o){var u=jn();o=o===void 0?null:o;var p=u.memoizedState;if(o!==null&&gg(o,p[1]))return p[0];if(p=i(),Pl){cr(!0);try{i()}finally{cr(!1)}}return u.memoizedState=[p,o],p}function Og(i,o,u){return u===void 0||(_s&1073741824)!==0&&(gt&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=yS(),it.lanes|=i,Fi|=i,u)}function y2(i,o,u,p){return Ua(u,o)?u:Vo.current!==null?(i=Og(i,u,p),Ua(i,o)||(En=!0),i):(_s&42)===0||(_s&1073741824)!==0&&(gt&261930)===0?(En=!0,i.memoizedState=u):(i=yS(),it.lanes|=i,Fi|=i,o)}function v2(i,o,u,p,w){var C=B.p;B.p=C!==0&&8>C?C:8;var R=V.T,$={};V.T=$,Pg(i,!1,o,u);try{var G=w(),ce=V.S;if(ce!==null&&ce($,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var pe=L_(G,p);wd(i,o,pe,Ya(i))}else wd(i,o,p,Ya(i))}catch(ve){wd(i,o,{then:function(){},status:"rejected",reason:ve},Ya())}finally{B.p=C,R!==null&&$.types!==null&&(R.types=$.types),V.T=R}}function U_(){}function Eg(i,o,u,p){if(i.tag!==5)throw Error(r(476));var w=b2(i).queue;v2(i,w,o,U,u===null?U_:function(){return j2(i),u(p)})}function b2(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:U},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function j2(i){var o=b2(i);o.next===null&&(o=i.alternate.memoizedState),wd(i,o.next.queue,{},Ya())}function kg(){return ra($d)}function w2(){return jn().memoizedState}function N2(){return jn().memoizedState}function q_(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=Ya();i=Ti(u);var p=Li(o,i,u);p!==null&&(Da(p,o,u),gd(p,o,u)),o={cache:ig()},i.payload=o;return}o=o.return}}function H_(i,o,u){var p=Ya();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ef(i)?A2(o,u):(u=Gx(i,o,u,p),u!==null&&(Da(u,i,p),C2(u,o,p)))}function S2(i,o,u){var p=Ya();wd(i,o,u,p)}function wd(i,o,u,p){var w={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(ef(i))A2(o,w);else{var C=i.alternate;if(i.lanes===0&&(C===null||C.lanes===0)&&(C=o.lastRenderedReducer,C!==null))try{var R=o.lastRenderedState,$=C(R,u);if(w.hasEagerState=!0,w.eagerState=$,Ua($,R))return _m(i,o,w,0),Vt===null&&Rm(),!1}catch{}finally{}if(u=Gx(i,o,w,p),u!==null)return Da(u,i,p),C2(u,o,p),!0}return!1}function Pg(i,o,u,p){if(p={lane:2,revertLane:d0(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},ef(i)){if(o)throw Error(r(479))}else o=Gx(i,u,p,2),o!==null&&Da(o,i,2)}function ef(i){var o=i.alternate;return i===it||o!==null&&o===it}function A2(i,o){Ko=Wm=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function C2(i,o,u){if((u&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,kw(i,u)}}var Nd={readContext:ra,use:Zm,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useLayoutEffect:xn,useInsertionEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useSyncExternalStore:xn,useId:xn,useHostTransitionStatus:xn,useFormState:xn,useActionState:xn,useOptimistic:xn,useMemoCache:xn,useCacheRefresh:xn};Nd.useEffectEvent=xn;var M2={readContext:ra,use:Zm,useCallback:function(i,o){return ga().memoizedState=[i,o===void 0?null:o],i},useContext:ra,useEffect:d2,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,Qm(4194308,4,h2.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Qm(4194308,4,i,o)},useInsertionEffect:function(i,o){Qm(4,2,i,o)},useMemo:function(i,o){var u=ga();o=o===void 0?null:o;var p=i();if(Pl){cr(!0);try{i()}finally{cr(!1)}}return u.memoizedState=[p,o],p},useReducer:function(i,o,u){var p=ga();if(u!==void 0){var w=u(o);if(Pl){cr(!0);try{u(o)}finally{cr(!1)}}}else w=o;return p.memoizedState=p.baseState=w,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:w},p.queue=i,i=i.dispatch=H_.bind(null,it,i),[p.memoizedState,i]},useRef:function(i){var o=ga();return i={current:i},o.memoizedState=i},useState:function(i){i=Ag(i);var o=i.queue,u=S2.bind(null,it,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:Dg,useDeferredValue:function(i,o){var u=ga();return Og(u,i,o)},useTransition:function(){var i=Ag(!1);return i=v2.bind(null,it,i.queue,!0,!1),ga().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var p=it,w=ga();if(jt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Vt===null)throw Error(r(349));(gt&127)!==0||YN(p,o,u)}w.memoizedState=u;var C={value:u,getSnapshot:o};return w.queue=C,d2(ZN.bind(null,p,C,i),[i]),p.flags|=2048,Yo(9,{destroy:void 0},GN.bind(null,p,C,u,o),null),u},useId:function(){var i=ga(),o=Vt.identifierPrefix;if(jt){var u=es,p=Jr;u=(p&~(1<<32-Hn(p)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Ym++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=I_++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:kg,useFormState:s2,useActionState:s2,useOptimistic:function(i){var o=ga();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Pg.bind(null,it,!0,u),u.dispatch=o,[i,o]},useMemoCache:wg,useCacheRefresh:function(){return ga().memoizedState=q_.bind(null,it)},useEffectEvent:function(i){var o=ga(),u={impl:i};return o.memoizedState=u,function(){if((kt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Rg={readContext:ra,use:Zm,useCallback:x2,useContext:ra,useEffect:Mg,useImperativeHandle:p2,useInsertionEffect:m2,useLayoutEffect:f2,useMemo:g2,useReducer:Xm,useRef:c2,useState:function(){return Xm(Ts)},useDebugValue:Dg,useDeferredValue:function(i,o){var u=jn();return y2(u,Ut.memoizedState,i,o)},useTransition:function(){var i=Xm(Ts)[0],o=jn().memoizedState;return[typeof i=="boolean"?i:jd(i),o]},useSyncExternalStore:WN,useId:w2,useHostTransitionStatus:kg,useFormState:i2,useActionState:i2,useOptimistic:function(i,o){var u=jn();return JN(u,Ut,i,o)},useMemoCache:wg,useCacheRefresh:N2};Rg.useEffectEvent=u2;var D2={readContext:ra,use:Zm,useCallback:x2,useContext:ra,useEffect:Mg,useImperativeHandle:p2,useInsertionEffect:m2,useLayoutEffect:f2,useMemo:g2,useReducer:Sg,useRef:c2,useState:function(){return Sg(Ts)},useDebugValue:Dg,useDeferredValue:function(i,o){var u=jn();return Ut===null?Og(u,i,o):y2(u,Ut.memoizedState,i,o)},useTransition:function(){var i=Sg(Ts)[0],o=jn().memoizedState;return[typeof i=="boolean"?i:jd(i),o]},useSyncExternalStore:WN,useId:w2,useHostTransitionStatus:kg,useFormState:o2,useActionState:o2,useOptimistic:function(i,o){var u=jn();return Ut!==null?JN(u,Ut,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:wg,useCacheRefresh:N2};D2.useEffectEvent=u2;function _g(i,o,u,p){o=i.memoizedState,u=u(p,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Tg={enqueueSetState:function(i,o,u){i=i._reactInternals;var p=Ya(),w=Ti(p);w.payload=o,u!=null&&(w.callback=u),o=Li(i,w,p),o!==null&&(Da(o,i,p),gd(o,i,p))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var p=Ya(),w=Ti(p);w.tag=1,w.payload=o,u!=null&&(w.callback=u),o=Li(i,w,p),o!==null&&(Da(o,i,p),gd(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Ya(),p=Ti(u);p.tag=2,o!=null&&(p.callback=o),o=Li(i,p,u),o!==null&&(Da(o,i,u),gd(o,i,u))}};function O2(i,o,u,p,w,C,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,C,R):o.prototype&&o.prototype.isPureReactComponent?!cd(u,p)||!cd(w,C):!0}function E2(i,o,u,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==i&&Tg.enqueueReplaceState(o,o.state,null)}function Rl(i,o){var u=o;if("ref"in o){u={};for(var p in o)p!=="ref"&&(u[p]=o[p])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var w in i)u[w]===void 0&&(u[w]=i[w])}return u}function k2(i){Pm(i)}function P2(i){console.error(i)}function R2(i){Pm(i)}function tf(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function _2(i,o,u){try{var p=i.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Lg(i,o,u){return u=Ti(u),u.tag=3,u.payload={element:null},u.callback=function(){tf(i,o)},u}function T2(i){return i=Ti(i),i.tag=3,i}function L2(i,o,u,p){var w=u.type.getDerivedStateFromError;if(typeof w=="function"){var C=p.value;i.payload=function(){return w(C)},i.callback=function(){_2(o,u,p)}}var R=u.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){_2(o,u,p),typeof w!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var $=p.stack;this.componentDidCatch(p.value,{componentStack:$!==null?$:""})})}function V_(i,o,u,p,w){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=u.alternate,o!==null&&Bo(o,u,w,!0),u=Ha.current,u!==null){switch(u.tag){case 31:case 13:return gr===null?hf():u.alternate===null&&gn===0&&(gn=3),u.flags&=-257,u.flags|=65536,u.lanes=w,p===Um?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([p]):o.add(p),l0(i,p,w)),!1;case 22:return u.flags|=65536,p===Um?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([p]):u.add(p)),l0(i,p,w)),!1}throw Error(r(435,u.tag))}return l0(i,p,w),hf(),!1}if(jt)return o=Ha.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=w,p!==tg&&(i=Error(r(422),{cause:p}),md(fr(i,u)))):(p!==tg&&(o=Error(r(423),{cause:p}),md(fr(o,u))),i=i.current.alternate,i.flags|=65536,w&=-w,i.lanes|=w,p=fr(p,u),w=Lg(i.stateNode,p,w),mg(i,w),gn!==4&&(gn=2)),!1;var C=Error(r(520),{cause:p});if(C=fr(C,u),kd===null?kd=[C]:kd.push(C),gn!==4&&(gn=2),o===null)return!0;p=fr(p,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=w&-w,u.lanes|=i,i=Lg(u.stateNode,p,i),mg(u,i),!1;case 1:if(o=u.type,C=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ui===null||!Ui.has(C))))return u.flags|=65536,w&=-w,u.lanes|=w,w=T2(w),L2(w,i,u,p),mg(u,w),!1}u=u.return}while(u!==null);return!1}var Ig=Error(r(461)),En=!1;function sa(i,o,u,p){o.child=i===null?BN(o,null,u,p):kl(o,i.child,u,p)}function I2(i,o,u,p,w){u=u.render;var C=o.ref;if("ref"in p){var R={};for(var $ in p)$!=="ref"&&(R[$]=p[$])}else R=p;return Ml(o),p=yg(i,o,u,R,C,w),$=vg(),i!==null&&!En?(bg(i,o,w),Ls(i,o,w)):(jt&&$&&Jx(o),o.flags|=1,sa(i,o,p,w),o.child)}function z2(i,o,u,p,w){if(i===null){var C=u.type;return typeof C=="function"&&!Zx(C)&&C.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=C,$2(i,o,C,p,w)):(i=Lm(u.type,null,p,o,o.mode,w),i.ref=o.ref,i.return=o,o.child=i)}if(C=i.child,!Vg(i,w)){var R=C.memoizedProps;if(u=u.compare,u=u!==null?u:cd,u(R,p)&&i.ref===o.ref)return Ls(i,o,w)}return o.flags|=1,i=Es(C,p),i.ref=o.ref,i.return=o,o.child=i}function $2(i,o,u,p,w){if(i!==null){var C=i.memoizedProps;if(cd(C,p)&&i.ref===o.ref)if(En=!1,o.pendingProps=p=C,Vg(i,w))(i.flags&131072)!==0&&(En=!0);else return o.lanes=i.lanes,Ls(i,o,w)}return zg(i,o,u,p,w)}function B2(i,o,u,p){var w=p.children,C=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(C=C!==null?C.baseLanes|u:u,i!==null){for(p=o.child=i.child,w=0;p!==null;)w=w|p.lanes|p.childLanes,p=p.sibling;p=w&~C}else p=0,o.child=null;return F2(i,o,C,u,p)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Bm(o,C!==null?C.cachePool:null),C!==null?qN(o,C):hg(),HN(o);else return p=o.lanes=536870912,F2(i,o,C!==null?C.baseLanes|u:u,u,p)}else C!==null?(Bm(o,C.cachePool),qN(o,C),zi(),o.memoizedState=null):(i!==null&&Bm(o,null),hg(),zi());return sa(i,o,w,u),o.child}function Sd(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function F2(i,o,u,p,w){var C=og();return C=C===null?null:{parent:Dn._currentValue,pool:C},o.memoizedState={baseLanes:u,cachePool:C},i!==null&&Bm(o,null),hg(),HN(o),i!==null&&Bo(i,o,p,!0),o.childLanes=w,null}function nf(i,o){return o=rf({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function U2(i,o,u){return kl(o,i.child,null,u),i=nf(o,o.pendingProps),i.flags|=2,Va(o),o.memoizedState=null,i}function K_(i,o,u){var p=o.pendingProps,w=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(jt){if(p.mode==="hidden")return i=nf(o,p),o.lanes=536870912,Sd(null,i);if(xg(o),(i=nn)?(i=e5(i,xr),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Ei!==null?{id:Jr,overflow:es}:null,retryLane:536870912,hydrationErrors:null},u=AN(i),u.return=o,o.child=u,aa=o,nn=null)):i=null,i===null)throw Pi(o);return o.lanes=536870912,null}return nf(o,p)}var C=i.memoizedState;if(C!==null){var R=C.dehydrated;if(xg(o),w)if(o.flags&256)o.flags&=-257,o=U2(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(En||Bo(i,o,u,!1),w=(u&i.childLanes)!==0,En||w){if(p=Vt,p!==null&&(R=Pw(p,u),R!==0&&R!==C.retryLane))throw C.retryLane=R,Nl(i,R),Da(p,i,R),Ig;hf(),o=U2(i,o,u)}else i=C.treeContext,nn=yr(R.nextSibling),aa=o,jt=!0,ki=null,xr=!1,i!==null&&DN(o,i),o=nf(o,p),o.flags|=4096;return o}return i=Es(i.child,{mode:p.mode,children:p.children}),i.ref=o.ref,o.child=i,i.return=o,i}function af(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function zg(i,o,u,p,w){return Ml(o),u=yg(i,o,u,p,void 0,w),p=vg(),i!==null&&!En?(bg(i,o,w),Ls(i,o,w)):(jt&&p&&Jx(o),o.flags|=1,sa(i,o,u,w),o.child)}function q2(i,o,u,p,w,C){return Ml(o),o.updateQueue=null,u=KN(o,p,u,w),VN(i),p=vg(),i!==null&&!En?(bg(i,o,C),Ls(i,o,C)):(jt&&p&&Jx(o),o.flags|=1,sa(i,o,u,C),o.child)}function H2(i,o,u,p,w){if(Ml(o),o.stateNode===null){var C=Lo,R=u.contextType;typeof R=="object"&&R!==null&&(C=ra(R)),C=new u(p,C),o.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Tg,o.stateNode=C,C._reactInternals=o,C=o.stateNode,C.props=p,C.state=o.memoizedState,C.refs={},dg(o),R=u.contextType,C.context=typeof R=="object"&&R!==null?ra(R):Lo,C.state=o.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(_g(o,u,R,p),C.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(R=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),R!==C.state&&Tg.enqueueReplaceState(C,C.state,null),vd(o,p,C,w),yd(),C.state=o.memoizedState),typeof C.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){C=o.stateNode;var $=o.memoizedProps,G=Rl(u,$);C.props=G;var ce=C.context,pe=u.contextType;R=Lo,typeof pe=="object"&&pe!==null&&(R=ra(pe));var ve=u.getDerivedStateFromProps;pe=typeof ve=="function"||typeof C.getSnapshotBeforeUpdate=="function",$=o.pendingProps!==$,pe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||($||ce!==R)&&E2(o,C,p,R),_i=!1;var de=o.memoizedState;C.state=de,vd(o,p,C,w),yd(),ce=o.memoizedState,$||de!==ce||_i?(typeof ve=="function"&&(_g(o,u,ve,p),ce=o.memoizedState),(G=_i||O2(o,u,G,p,de,ce,R))?(pe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=ce),C.props=p,C.state=ce,C.context=R,p=G):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{C=o.stateNode,ug(i,o),R=o.memoizedProps,pe=Rl(u,R),C.props=pe,ve=o.pendingProps,de=C.context,ce=u.contextType,G=Lo,typeof ce=="object"&&ce!==null&&(G=ra(ce)),$=u.getDerivedStateFromProps,(ce=typeof $=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(R!==ve||de!==G)&&E2(o,C,p,G),_i=!1,de=o.memoizedState,C.state=de,vd(o,p,C,w),yd();var me=o.memoizedState;R!==ve||de!==me||_i||i!==null&&i.dependencies!==null&&zm(i.dependencies)?(typeof $=="function"&&(_g(o,u,$,p),me=o.memoizedState),(pe=_i||O2(o,u,pe,p,de,me,G)||i!==null&&i.dependencies!==null&&zm(i.dependencies))?(ce||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(p,me,G),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(p,me,G)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||R===i.memoizedProps&&de===i.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&de===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=me),C.props=p,C.state=me,C.context=G,p=pe):(typeof C.componentDidUpdate!="function"||R===i.memoizedProps&&de===i.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&de===i.memoizedState||(o.flags|=1024),p=!1)}return C=p,af(i,o),p=(o.flags&128)!==0,C||p?(C=o.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:C.render(),o.flags|=1,i!==null&&p?(o.child=kl(o,i.child,null,w),o.child=kl(o,null,u,w)):sa(i,o,u,w),o.memoizedState=C.state,i=o.child):i=Ls(i,o,w),i}function V2(i,o,u,p){return Al(),o.flags|=256,sa(i,o,u,p),o.child}var $g={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bg(i){return{baseLanes:i,cachePool:_N()}}function Fg(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=Wa),i}function K2(i,o,u){var p=o.pendingProps,w=!1,C=(o.flags&128)!==0,R;if((R=C)||(R=i!==null&&i.memoizedState===null?!1:(bn.current&2)!==0),R&&(w=!0,o.flags&=-129),R=(o.flags&32)!==0,o.flags&=-33,i===null){if(jt){if(w?Ii(o):zi(),(i=nn)?(i=e5(i,xr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Ei!==null?{id:Jr,overflow:es}:null,retryLane:536870912,hydrationErrors:null},u=AN(i),u.return=o,o.child=u,aa=o,nn=null)):i=null,i===null)throw Pi(o);return N0(i)?o.lanes=32:o.lanes=536870912,null}var $=p.children;return p=p.fallback,w?(zi(),w=o.mode,$=rf({mode:"hidden",children:$},w),p=Sl(p,w,u,null),$.return=o,p.return=o,$.sibling=p,o.child=$,p=o.child,p.memoizedState=Bg(u),p.childLanes=Fg(i,R,u),o.memoizedState=$g,Sd(null,p)):(Ii(o),Ug(o,$))}var G=i.memoizedState;if(G!==null&&($=G.dehydrated,$!==null)){if(C)o.flags&256?(Ii(o),o.flags&=-257,o=qg(i,o,u)):o.memoizedState!==null?(zi(),o.child=i.child,o.flags|=128,o=null):(zi(),$=p.fallback,w=o.mode,p=rf({mode:"visible",children:p.children},w),$=Sl($,w,u,null),$.flags|=2,p.return=o,$.return=o,p.sibling=$,o.child=p,kl(o,i.child,null,u),p=o.child,p.memoizedState=Bg(u),p.childLanes=Fg(i,R,u),o.memoizedState=$g,o=Sd(null,p));else if(Ii(o),N0($)){if(R=$.nextSibling&&$.nextSibling.dataset,R)var ce=R.dgst;R=ce,p=Error(r(419)),p.stack="",p.digest=R,md({value:p,source:null,stack:null}),o=qg(i,o,u)}else if(En||Bo(i,o,u,!1),R=(u&i.childLanes)!==0,En||R){if(R=Vt,R!==null&&(p=Pw(R,u),p!==0&&p!==G.retryLane))throw G.retryLane=p,Nl(i,p),Da(R,i,p),Ig;w0($)||hf(),o=qg(i,o,u)}else w0($)?(o.flags|=192,o.child=i.child,o=null):(i=G.treeContext,nn=yr($.nextSibling),aa=o,jt=!0,ki=null,xr=!1,i!==null&&DN(o,i),o=Ug(o,p.children),o.flags|=4096);return o}return w?(zi(),$=p.fallback,w=o.mode,G=i.child,ce=G.sibling,p=Es(G,{mode:"hidden",children:p.children}),p.subtreeFlags=G.subtreeFlags&65011712,ce!==null?$=Es(ce,$):($=Sl($,w,u,null),$.flags|=2),$.return=o,p.return=o,p.sibling=$,o.child=p,Sd(null,p),p=o.child,$=i.child.memoizedState,$===null?$=Bg(u):(w=$.cachePool,w!==null?(G=Dn._currentValue,w=w.parent!==G?{parent:G,pool:G}:w):w=_N(),$={baseLanes:$.baseLanes|u,cachePool:w}),p.memoizedState=$,p.childLanes=Fg(i,R,u),o.memoizedState=$g,Sd(i.child,p)):(Ii(o),u=i.child,i=u.sibling,u=Es(u,{mode:"visible",children:p.children}),u.return=o,u.sibling=null,i!==null&&(R=o.deletions,R===null?(o.deletions=[i],o.flags|=16):R.push(i)),o.child=u,o.memoizedState=null,u)}function Ug(i,o){return o=rf({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function rf(i,o){return i=qa(22,i,null,o),i.lanes=0,i}function qg(i,o,u){return kl(o,i.child,null,u),i=Ug(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function W2(i,o,u){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),rg(i.return,o,u)}function Hg(i,o,u,p,w,C){var R=i.memoizedState;R===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:w,treeForkCount:C}:(R.isBackwards=o,R.rendering=null,R.renderingStartTime=0,R.last=p,R.tail=u,R.tailMode=w,R.treeForkCount=C)}function Y2(i,o,u){var p=o.pendingProps,w=p.revealOrder,C=p.tail;p=p.children;var R=bn.current,$=(R&2)!==0;if($?(R=R&1|2,o.flags|=128):R&=1,H(bn,R),sa(i,o,p,u),p=jt?ud:0,!$&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&W2(i,u,o);else if(i.tag===19)W2(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(w){case"forwards":for(u=o.child,w=null;u!==null;)i=u.alternate,i!==null&&Km(i)===null&&(w=u),u=u.sibling;u=w,u===null?(w=o.child,o.child=null):(w=u.sibling,u.sibling=null),Hg(o,!1,w,u,C,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,w=o.child,o.child=null;w!==null;){if(i=w.alternate,i!==null&&Km(i)===null){o.child=w;break}i=w.sibling,w.sibling=u,u=w,w=i}Hg(o,!0,u,null,C,p);break;case"together":Hg(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function Ls(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Fi|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(Bo(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=Es(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Es(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Vg(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&zm(i)))}function W_(i,o,u){switch(o.tag){case 3:ie(o,o.stateNode.containerInfo),Ri(o,Dn,i.memoizedState.cache),Al();break;case 27:case 5:Me(o);break;case 4:ie(o,o.stateNode.containerInfo);break;case 10:Ri(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,xg(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(Ii(o),o.flags|=128,null):(u&o.child.childLanes)!==0?K2(i,o,u):(Ii(o),i=Ls(i,o,u),i!==null?i.sibling:null);Ii(o);break;case 19:var w=(i.flags&128)!==0;if(p=(u&o.childLanes)!==0,p||(Bo(i,o,u,!1),p=(u&o.childLanes)!==0),w){if(p)return Y2(i,o,u);o.flags|=128}if(w=o.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),H(bn,bn.current),p)break;return null;case 22:return o.lanes=0,B2(i,o,u,o.pendingProps);case 24:Ri(o,Dn,i.memoizedState.cache)}return Ls(i,o,u)}function G2(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)En=!0;else{if(!Vg(i,u)&&(o.flags&128)===0)return En=!1,W_(i,o,u);En=(i.flags&131072)!==0}else En=!1,jt&&(o.flags&1048576)!==0&&MN(o,ud,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(i=Ol(o.elementType),o.type=i,typeof i=="function")Zx(i)?(p=Rl(i,p),o.tag=1,o=H2(null,o,i,p,u)):(o.tag=0,o=zg(null,o,i,p,u));else{if(i!=null){var w=i.$$typeof;if(w===O){o.tag=11,o=I2(null,o,i,p,u);break e}else if(w===_){o.tag=14,o=z2(null,o,i,p,u);break e}}throw o=T(i)||i,Error(r(306,o,""))}}return o;case 0:return zg(i,o,o.type,o.pendingProps,u);case 1:return p=o.type,w=Rl(p,o.pendingProps),H2(i,o,p,w,u);case 3:e:{if(ie(o,o.stateNode.containerInfo),i===null)throw Error(r(387));p=o.pendingProps;var C=o.memoizedState;w=C.element,ug(i,o),vd(o,p,null,u);var R=o.memoizedState;if(p=R.cache,Ri(o,Dn,p),p!==C.cache&&sg(o,[Dn],u,!0),yd(),p=R.element,C.isDehydrated)if(C={element:p,isDehydrated:!1,cache:R.cache},o.updateQueue.baseState=C,o.memoizedState=C,o.flags&256){o=V2(i,o,p,u);break e}else if(p!==w){w=fr(Error(r(424)),o),md(w),o=V2(i,o,p,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(nn=yr(i.firstChild),aa=o,jt=!0,ki=null,xr=!0,u=BN(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Al(),p===w){o=Ls(i,o,u);break e}sa(i,o,p,u)}o=o.child}return o;case 26:return af(i,o),i===null?(u=i5(o.type,null,o.pendingProps,null))?o.memoizedState=u:jt||(u=o.type,i=o.pendingProps,p=jf(se.current).createElement(u),p[na]=o,p[wa]=i,ia(p,u,i),Kn(p),o.stateNode=p):o.memoizedState=i5(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Me(o),i===null&&jt&&(p=o.stateNode=a5(o.type,o.pendingProps,se.current),aa=o,xr=!0,w=nn,Ki(o.type)?(S0=w,nn=yr(p.firstChild)):nn=w),sa(i,o,o.pendingProps.children,u),af(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&jt&&((w=p=nn)&&(p=NT(p,o.type,o.pendingProps,xr),p!==null?(o.stateNode=p,aa=o,nn=yr(p.firstChild),xr=!1,w=!0):w=!1),w||Pi(o)),Me(o),w=o.type,C=o.pendingProps,R=i!==null?i.memoizedProps:null,p=C.children,v0(w,C)?p=null:R!==null&&v0(w,R)&&(o.flags|=32),o.memoizedState!==null&&(w=yg(i,o,z_,null,null,u),$d._currentValue=w),af(i,o),sa(i,o,p,u),o.child;case 6:return i===null&&jt&&((i=u=nn)&&(u=ST(u,o.pendingProps,xr),u!==null?(o.stateNode=u,aa=o,nn=null,i=!0):i=!1),i||Pi(o)),null;case 13:return K2(i,o,u);case 4:return ie(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=kl(o,null,p,u):sa(i,o,p,u),o.child;case 11:return I2(i,o,o.type,o.pendingProps,u);case 7:return sa(i,o,o.pendingProps,u),o.child;case 8:return sa(i,o,o.pendingProps.children,u),o.child;case 12:return sa(i,o,o.pendingProps.children,u),o.child;case 10:return p=o.pendingProps,Ri(o,o.type,p.value),sa(i,o,p.children,u),o.child;case 9:return w=o.type._context,p=o.pendingProps.children,Ml(o),w=ra(w),p=p(w),o.flags|=1,sa(i,o,p,u),o.child;case 14:return z2(i,o,o.type,o.pendingProps,u);case 15:return $2(i,o,o.type,o.pendingProps,u);case 19:return Y2(i,o,u);case 31:return K_(i,o,u);case 22:return B2(i,o,u,o.pendingProps);case 24:return Ml(o),p=ra(Dn),i===null?(w=og(),w===null&&(w=Vt,C=ig(),w.pooledCache=C,C.refCount++,C!==null&&(w.pooledCacheLanes|=u),w=C),o.memoizedState={parent:p,cache:w},dg(o),Ri(o,Dn,w)):((i.lanes&u)!==0&&(ug(i,o),vd(o,null,null,u),yd()),w=i.memoizedState,C=o.memoizedState,w.parent!==p?(w={parent:p,cache:p},o.memoizedState=w,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=w),Ri(o,Dn,p)):(p=C.cache,Ri(o,Dn,p),p!==w.cache&&sg(o,[Dn],u,!0))),sa(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Is(i){i.flags|=4}function Kg(i,o,u,p,w){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(w&335544128)===w)if(i.stateNode.complete)i.flags|=8192;else if(wS())i.flags|=8192;else throw El=Um,cg}else i.flags&=-16777217}function Z2(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!u5(o))if(wS())i.flags|=8192;else throw El=Um,cg}function sf(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?jm():536870912,i.lanes|=o,Qo|=o)}function Ad(i,o){if(!jt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function an(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(o)for(var w=i.child;w!==null;)u|=w.lanes|w.childLanes,p|=w.subtreeFlags&65011712,p|=w.flags&65011712,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)u|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=p,i.childLanes=u,o}function Y_(i,o,u){var p=o.pendingProps;switch(eg(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(o),null;case 1:return an(o),null;case 3:return u=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),Rs(Dn),ae(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&($o(o)?Is(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ng())),an(o),null;case 26:var w=o.type,C=o.memoizedState;return i===null?(Is(o),C!==null?(an(o),Z2(o,C)):(an(o),Kg(o,w,null,p,u))):C?C!==i.memoizedState?(Is(o),an(o),Z2(o,C)):(an(o),o.flags&=-16777217):(i=i.memoizedProps,i!==p&&Is(o),an(o),Kg(o,w,i,p,u)),null;case 27:if(Ce(o),u=se.current,w=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&Is(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return an(o),null}i=fe.current,$o(o)?ON(o):(i=a5(w,p,u),o.stateNode=i,Is(o))}return an(o),null;case 5:if(Ce(o),w=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&Is(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return an(o),null}if(C=fe.current,$o(o))ON(o);else{var R=jf(se.current);switch(C){case 1:C=R.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:C=R.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":C=R.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":C=R.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":C=R.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof p.is=="string"?R.createElement("select",{is:p.is}):R.createElement("select"),p.multiple?C.multiple=!0:p.size&&(C.size=p.size);break;default:C=typeof p.is=="string"?R.createElement(w,{is:p.is}):R.createElement(w)}}C[na]=o,C[wa]=p;e:for(R=o.child;R!==null;){if(R.tag===5||R.tag===6)C.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===o)break e;for(;R.sibling===null;){if(R.return===null||R.return===o)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}o.stateNode=C;e:switch(ia(C,w,p),w){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Is(o)}}return an(o),Kg(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&Is(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(i=se.current,$o(o)){if(i=o.stateNode,u=o.memoizedProps,p=null,w=aa,w!==null)switch(w.tag){case 27:case 5:p=w.memoizedProps}i[na]=o,i=!!(i.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||KS(i.nodeValue,u)),i||Pi(o,!0)}else i=jf(i).createTextNode(p),i[na]=o,o.stateNode=i}return an(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(p=$o(o),u!==null){if(i===null){if(!p)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[na]=o}else Al(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;an(o),i=!1}else u=ng(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(Va(o),o):(Va(o),null);if((o.flags&128)!==0)throw Error(r(558))}return an(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(w=$o(o),p!==null&&p.dehydrated!==null){if(i===null){if(!w)throw Error(r(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[na]=o}else Al(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;an(o),w=!1}else w=ng(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=w),w=!0;if(!w)return o.flags&256?(Va(o),o):(Va(o),null)}return Va(o),(o.flags&128)!==0?(o.lanes=u,o):(u=p!==null,i=i!==null&&i.memoizedState!==null,u&&(p=o.child,w=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(w=p.alternate.memoizedState.cachePool.pool),C=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(C=p.memoizedState.cachePool.pool),C!==w&&(p.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),sf(o,o.updateQueue),an(o),null);case 4:return ae(),i===null&&h0(o.stateNode.containerInfo),an(o),null;case 10:return Rs(o.type),an(o),null;case 19:if(je(bn),p=o.memoizedState,p===null)return an(o),null;if(w=(o.flags&128)!==0,C=p.rendering,C===null)if(w)Ad(p,!1);else{if(gn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(C=Km(i),C!==null){for(o.flags|=128,Ad(p,!1),i=C.updateQueue,o.updateQueue=i,sf(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)SN(u,i),u=u.sibling;return H(bn,bn.current&1|2),jt&&ks(o,p.treeForkCount),o.child}i=i.sibling}p.tail!==null&&be()>uf&&(o.flags|=128,w=!0,Ad(p,!1),o.lanes=4194304)}else{if(!w)if(i=Km(C),i!==null){if(o.flags|=128,w=!0,i=i.updateQueue,o.updateQueue=i,sf(o,i),Ad(p,!0),p.tail===null&&p.tailMode==="hidden"&&!C.alternate&&!jt)return an(o),null}else 2*be()-p.renderingStartTime>uf&&u!==536870912&&(o.flags|=128,w=!0,Ad(p,!1),o.lanes=4194304);p.isBackwards?(C.sibling=o.child,o.child=C):(i=p.last,i!==null?i.sibling=C:o.child=C,p.last=C)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=be(),i.sibling=null,u=bn.current,H(bn,w?u&1|2:u&1),jt&&ks(o,p.treeForkCount),i):(an(o),null);case 22:case 23:return Va(o),pg(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(u&536870912)!==0&&(o.flags&128)===0&&(an(o),o.subtreeFlags&6&&(o.flags|=8192)):an(o),u=o.updateQueue,u!==null&&sf(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048),i!==null&&je(Dl),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Rs(Dn),an(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function G_(i,o){switch(eg(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Rs(Dn),ae(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Ce(o),null;case 31:if(o.memoizedState!==null){if(Va(o),o.alternate===null)throw Error(r(340));Al()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(Va(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Al()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return je(bn),null;case 4:return ae(),null;case 10:return Rs(o.type),null;case 22:case 23:return Va(o),pg(),i!==null&&je(Dl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Rs(Dn),null;case 25:return null;default:return null}}function X2(i,o){switch(eg(o),o.tag){case 3:Rs(Dn),ae();break;case 26:case 27:case 5:Ce(o);break;case 4:ae();break;case 31:o.memoizedState!==null&&Va(o);break;case 13:Va(o);break;case 19:je(bn);break;case 10:Rs(o.type);break;case 22:case 23:Va(o),pg(),i!==null&&je(Dl);break;case 24:Rs(Dn)}}function Cd(i,o){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var w=p.next;u=w;do{if((u.tag&i)===i){p=void 0;var C=u.create,R=u.inst;p=C(),R.destroy=p}u=u.next}while(u!==w)}}catch($){zt(o,o.return,$)}}function $i(i,o,u){try{var p=o.updateQueue,w=p!==null?p.lastEffect:null;if(w!==null){var C=w.next;p=C;do{if((p.tag&i)===i){var R=p.inst,$=R.destroy;if($!==void 0){R.destroy=void 0,w=o;var G=u,ce=$;try{ce()}catch(pe){zt(w,G,pe)}}}p=p.next}while(p!==C)}}catch(pe){zt(o,o.return,pe)}}function Q2(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{UN(o,u)}catch(p){zt(i,i.return,p)}}}function J2(i,o,u){u.props=Rl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(p){zt(i,o,p)}}function Md(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof u=="function"?i.refCleanup=u(p):u.current=p}}catch(w){zt(i,o,w)}}function ts(i,o){var u=i.ref,p=i.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(w){zt(i,o,w)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(w){zt(i,o,w)}else u.current=null}function eS(i){var o=i.type,u=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(w){zt(i,i.return,w)}}function Wg(i,o,u){try{var p=i.stateNode;gT(p,i.type,u,o),p[wa]=o}catch(w){zt(i,i.return,w)}}function tS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ki(i.type)||i.tag===4}function Yg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||tS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ki(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Gg(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ds));else if(p!==4&&(p===27&&Ki(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(Gg(i,o,u),i=i.sibling;i!==null;)Gg(i,o,u),i=i.sibling}function lf(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(p!==4&&(p===27&&Ki(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(lf(i,o,u),i=i.sibling;i!==null;)lf(i,o,u),i=i.sibling}function nS(i){var o=i.stateNode,u=i.memoizedProps;try{for(var p=i.type,w=o.attributes;w.length;)o.removeAttributeNode(w[0]);ia(o,p,u),o[na]=i,o[wa]=u}catch(C){zt(i,i.return,C)}}var zs=!1,kn=!1,Zg=!1,aS=typeof WeakSet=="function"?WeakSet:Set,Wn=null;function Z_(i,o){if(i=i.containerInfo,g0=Df,i=pN(i),qx(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var w=p.anchorOffset,C=p.focusNode;p=p.focusOffset;try{u.nodeType,C.nodeType}catch{u=null;break e}var R=0,$=-1,G=-1,ce=0,pe=0,ve=i,de=null;t:for(;;){for(var me;ve!==u||w!==0&&ve.nodeType!==3||($=R+w),ve!==C||p!==0&&ve.nodeType!==3||(G=R+p),ve.nodeType===3&&(R+=ve.nodeValue.length),(me=ve.firstChild)!==null;)de=ve,ve=me;for(;;){if(ve===i)break t;if(de===u&&++ce===w&&($=R),de===C&&++pe===p&&(G=R),(me=ve.nextSibling)!==null)break;ve=de,de=ve.parentNode}ve=me}u=$===-1||G===-1?null:{start:$,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(y0={focusedElem:i,selectionRange:u},Df=!1,Wn=o;Wn!==null;)if(o=Wn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Wn=i;else for(;Wn!==null;){switch(o=Wn,C=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)w=i[u],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&C!==null){i=void 0,u=o,w=C.memoizedProps,C=C.memoizedState,p=u.stateNode;try{var Te=Rl(u.type,w);i=p.getSnapshotBeforeUpdate(Te,C),p.__reactInternalSnapshotBeforeUpdate=i}catch(Ve){zt(u,u.return,Ve)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)j0(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":j0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Wn=i;break}Wn=o.return}}function rS(i,o,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:Bs(i,u),p&4&&Cd(5,u);break;case 1:if(Bs(i,u),p&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(R){zt(u,u.return,R)}else{var w=Rl(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(w,o,i.__reactInternalSnapshotBeforeUpdate)}catch(R){zt(u,u.return,R)}}p&64&&Q2(u),p&512&&Md(u,u.return);break;case 3:if(Bs(i,u),p&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{UN(i,o)}catch(R){zt(u,u.return,R)}}break;case 27:o===null&&p&4&&nS(u);case 26:case 5:Bs(i,u),o===null&&p&4&&eS(u),p&512&&Md(u,u.return);break;case 12:Bs(i,u);break;case 31:Bs(i,u),p&4&&lS(i,u);break;case 13:Bs(i,u),p&4&&oS(i,u),p&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=sT.bind(null,u),AT(i,u))));break;case 22:if(p=u.memoizedState!==null||zs,!p){o=o!==null&&o.memoizedState!==null||kn,w=zs;var C=kn;zs=p,(kn=o)&&!C?Fs(i,u,(u.subtreeFlags&8772)!==0):Bs(i,u),zs=w,kn=C}break;case 30:break;default:Bs(i,u)}}function sS(i){var o=i.alternate;o!==null&&(i.alternate=null,sS(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Cx(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ln=null,Sa=!1;function $s(i,o,u){for(u=u.child;u!==null;)iS(i,o,u),u=u.sibling}function iS(i,o,u){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(ta,u)}catch{}switch(u.tag){case 26:kn||ts(u,o),$s(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:kn||ts(u,o);var p=ln,w=Sa;Ki(u.type)&&(ln=u.stateNode,Sa=!1),$s(i,o,u),Ld(u.stateNode),ln=p,Sa=w;break;case 5:kn||ts(u,o);case 6:if(p=ln,w=Sa,ln=null,$s(i,o,u),ln=p,Sa=w,ln!==null)if(Sa)try{(ln.nodeType===9?ln.body:ln.nodeName==="HTML"?ln.ownerDocument.body:ln).removeChild(u.stateNode)}catch(C){zt(u,o,C)}else try{ln.removeChild(u.stateNode)}catch(C){zt(u,o,C)}break;case 18:ln!==null&&(Sa?(i=ln,QS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),ic(i)):QS(ln,u.stateNode));break;case 4:p=ln,w=Sa,ln=u.stateNode.containerInfo,Sa=!0,$s(i,o,u),ln=p,Sa=w;break;case 0:case 11:case 14:case 15:$i(2,u,o),kn||$i(4,u,o),$s(i,o,u);break;case 1:kn||(ts(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"&&J2(u,o,p)),$s(i,o,u);break;case 21:$s(i,o,u);break;case 22:kn=(p=kn)||u.memoizedState!==null,$s(i,o,u),kn=p;break;default:$s(i,o,u)}}function lS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ic(i)}catch(u){zt(o,o.return,u)}}}function oS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ic(i)}catch(u){zt(o,o.return,u)}}function X_(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new aS),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new aS),o;default:throw Error(r(435,i.tag))}}function of(i,o){var u=X_(i);o.forEach(function(p){if(!u.has(p)){u.add(p);var w=iT.bind(null,i,p);p.then(w,w)}})}function Aa(i,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var w=u[p],C=i,R=o,$=R;e:for(;$!==null;){switch($.tag){case 27:if(Ki($.type)){ln=$.stateNode,Sa=!1;break e}break;case 5:ln=$.stateNode,Sa=!1;break e;case 3:case 4:ln=$.stateNode.containerInfo,Sa=!0;break e}$=$.return}if(ln===null)throw Error(r(160));iS(C,R,w),ln=null,Sa=!1,C=w.alternate,C!==null&&(C.return=null),w.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)cS(o,i),o=o.sibling}var zr=null;function cS(i,o){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Aa(o,i),Ca(i),p&4&&($i(3,i,i.return),Cd(3,i),$i(5,i,i.return));break;case 1:Aa(o,i),Ca(i),p&512&&(kn||u===null||ts(u,u.return)),p&64&&zs&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var w=zr;if(Aa(o,i),Ca(i),p&512&&(kn||u===null||ts(u,u.return)),p&4){var C=u!==null?u.memoizedState:null;if(p=i.memoizedState,u===null)if(p===null)if(i.stateNode===null){e:{p=i.type,u=i.memoizedProps,w=w.ownerDocument||w;t:switch(p){case"title":C=w.getElementsByTagName("title")[0],(!C||C[ed]||C[na]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=w.createElement(p),w.head.insertBefore(C,w.querySelector("head > title"))),ia(C,p,u),C[na]=i,Kn(C),p=C;break e;case"link":var R=c5("link","href",w).get(p+(u.href||""));if(R){for(var $=0;$<R.length;$++)if(C=R[$],C.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&C.getAttribute("rel")===(u.rel==null?null:u.rel)&&C.getAttribute("title")===(u.title==null?null:u.title)&&C.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){R.splice($,1);break t}}C=w.createElement(p),ia(C,p,u),w.head.appendChild(C);break;case"meta":if(R=c5("meta","content",w).get(p+(u.content||""))){for($=0;$<R.length;$++)if(C=R[$],C.getAttribute("content")===(u.content==null?null:""+u.content)&&C.getAttribute("name")===(u.name==null?null:u.name)&&C.getAttribute("property")===(u.property==null?null:u.property)&&C.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&C.getAttribute("charset")===(u.charSet==null?null:u.charSet)){R.splice($,1);break t}}C=w.createElement(p),ia(C,p,u),w.head.appendChild(C);break;default:throw Error(r(468,p))}C[na]=i,Kn(C),p=C}i.stateNode=p}else d5(w,i.type,i.stateNode);else i.stateNode=o5(w,p,i.memoizedProps);else C!==p?(C===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):C.count--,p===null?d5(w,i.type,i.stateNode):o5(w,p,i.memoizedProps)):p===null&&i.stateNode!==null&&Wg(i,i.memoizedProps,u.memoizedProps)}break;case 27:Aa(o,i),Ca(i),p&512&&(kn||u===null||ts(u,u.return)),u!==null&&p&4&&Wg(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Aa(o,i),Ca(i),p&512&&(kn||u===null||ts(u,u.return)),i.flags&32){w=i.stateNode;try{Oo(w,"")}catch(Te){zt(i,i.return,Te)}}p&4&&i.stateNode!=null&&(w=i.memoizedProps,Wg(i,w,u!==null?u.memoizedProps:w)),p&1024&&(Zg=!0);break;case 6:if(Aa(o,i),Ca(i),p&4){if(i.stateNode===null)throw Error(r(162));p=i.memoizedProps,u=i.stateNode;try{u.nodeValue=p}catch(Te){zt(i,i.return,Te)}}break;case 3:if(Sf=null,w=zr,zr=wf(o.containerInfo),Aa(o,i),zr=w,Ca(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{ic(o.containerInfo)}catch(Te){zt(i,i.return,Te)}Zg&&(Zg=!1,dS(i));break;case 4:p=zr,zr=wf(i.stateNode.containerInfo),Aa(o,i),Ca(i),zr=p;break;case 12:Aa(o,i),Ca(i);break;case 31:Aa(o,i),Ca(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,of(i,p)));break;case 13:Aa(o,i),Ca(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(df=be()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,of(i,p)));break;case 22:w=i.memoizedState!==null;var G=u!==null&&u.memoizedState!==null,ce=zs,pe=kn;if(zs=ce||w,kn=pe||G,Aa(o,i),kn=pe,zs=ce,Ca(i),p&8192)e:for(o=i.stateNode,o._visibility=w?o._visibility&-2:o._visibility|1,w&&(u===null||G||zs||kn||_l(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){G=u=o;try{if(C=G.stateNode,w)R=C.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{$=G.stateNode;var ve=G.memoizedProps.style,de=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;$.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(Te){zt(G,G.return,Te)}}}else if(o.tag===6){if(u===null){G=o;try{G.stateNode.nodeValue=w?"":G.memoizedProps}catch(Te){zt(G,G.return,Te)}}}else if(o.tag===18){if(u===null){G=o;try{var me=G.stateNode;w?JS(me,!0):JS(G.stateNode,!1)}catch(Te){zt(G,G.return,Te)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,of(i,u))));break;case 19:Aa(o,i),Ca(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,of(i,p)));break;case 30:break;case 21:break;default:Aa(o,i),Ca(i)}}function Ca(i){var o=i.flags;if(o&2){try{for(var u,p=i.return;p!==null;){if(tS(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var w=u.stateNode,C=Yg(i);lf(i,C,w);break;case 5:var R=u.stateNode;u.flags&32&&(Oo(R,""),u.flags&=-33);var $=Yg(i);lf(i,$,R);break;case 3:case 4:var G=u.stateNode.containerInfo,ce=Yg(i);Gg(i,ce,G);break;default:throw Error(r(161))}}catch(pe){zt(i,i.return,pe)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function dS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;dS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Bs(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)rS(i,o.alternate,o),o=o.sibling}function _l(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:$i(4,o,o.return),_l(o);break;case 1:ts(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&J2(o,o.return,u),_l(o);break;case 27:Ld(o.stateNode);case 26:case 5:ts(o,o.return),_l(o);break;case 22:o.memoizedState===null&&_l(o);break;case 30:_l(o);break;default:_l(o)}i=i.sibling}}function Fs(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,w=i,C=o,R=C.flags;switch(C.tag){case 0:case 11:case 15:Fs(w,C,u),Cd(4,C);break;case 1:if(Fs(w,C,u),p=C,w=p.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(ce){zt(p,p.return,ce)}if(p=C,w=p.updateQueue,w!==null){var $=p.stateNode;try{var G=w.shared.hiddenCallbacks;if(G!==null)for(w.shared.hiddenCallbacks=null,w=0;w<G.length;w++)FN(G[w],$)}catch(ce){zt(p,p.return,ce)}}u&&R&64&&Q2(C),Md(C,C.return);break;case 27:nS(C);case 26:case 5:Fs(w,C,u),u&&p===null&&R&4&&eS(C),Md(C,C.return);break;case 12:Fs(w,C,u);break;case 31:Fs(w,C,u),u&&R&4&&lS(w,C);break;case 13:Fs(w,C,u),u&&R&4&&oS(w,C);break;case 22:C.memoizedState===null&&Fs(w,C,u),Md(C,C.return);break;case 30:break;default:Fs(w,C,u)}o=o.sibling}}function Xg(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&fd(u))}function Qg(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&fd(i))}function $r(i,o,u,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)uS(i,o,u,p),o=o.sibling}function uS(i,o,u,p){var w=o.flags;switch(o.tag){case 0:case 11:case 15:$r(i,o,u,p),w&2048&&Cd(9,o);break;case 1:$r(i,o,u,p);break;case 3:$r(i,o,u,p),w&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&fd(i)));break;case 12:if(w&2048){$r(i,o,u,p),i=o.stateNode;try{var C=o.memoizedProps,R=C.id,$=C.onPostCommit;typeof $=="function"&&$(R,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(G){zt(o,o.return,G)}}else $r(i,o,u,p);break;case 31:$r(i,o,u,p);break;case 13:$r(i,o,u,p);break;case 23:break;case 22:C=o.stateNode,R=o.alternate,o.memoizedState!==null?C._visibility&2?$r(i,o,u,p):Dd(i,o):C._visibility&2?$r(i,o,u,p):(C._visibility|=2,Go(i,o,u,p,(o.subtreeFlags&10256)!==0||!1)),w&2048&&Xg(R,o);break;case 24:$r(i,o,u,p),w&2048&&Qg(o.alternate,o);break;default:$r(i,o,u,p)}}function Go(i,o,u,p,w){for(w=w&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var C=i,R=o,$=u,G=p,ce=R.flags;switch(R.tag){case 0:case 11:case 15:Go(C,R,$,G,w),Cd(8,R);break;case 23:break;case 22:var pe=R.stateNode;R.memoizedState!==null?pe._visibility&2?Go(C,R,$,G,w):Dd(C,R):(pe._visibility|=2,Go(C,R,$,G,w)),w&&ce&2048&&Xg(R.alternate,R);break;case 24:Go(C,R,$,G,w),w&&ce&2048&&Qg(R.alternate,R);break;default:Go(C,R,$,G,w)}o=o.sibling}}function Dd(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,p=o,w=p.flags;switch(p.tag){case 22:Dd(u,p),w&2048&&Xg(p.alternate,p);break;case 24:Dd(u,p),w&2048&&Qg(p.alternate,p);break;default:Dd(u,p)}o=o.sibling}}var Od=8192;function Zo(i,o,u){if(i.subtreeFlags&Od)for(i=i.child;i!==null;)mS(i,o,u),i=i.sibling}function mS(i,o,u){switch(i.tag){case 26:Zo(i,o,u),i.flags&Od&&i.memoizedState!==null&&IT(u,zr,i.memoizedState,i.memoizedProps);break;case 5:Zo(i,o,u);break;case 3:case 4:var p=zr;zr=wf(i.stateNode.containerInfo),Zo(i,o,u),zr=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=Od,Od=16777216,Zo(i,o,u),Od=p):Zo(i,o,u));break;default:Zo(i,o,u)}}function fS(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Ed(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Wn=p,pS(p,i)}fS(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)hS(i),i=i.sibling}function hS(i){switch(i.tag){case 0:case 11:case 15:Ed(i),i.flags&2048&&$i(9,i,i.return);break;case 3:Ed(i);break;case 12:Ed(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,cf(i)):Ed(i);break;default:Ed(i)}}function cf(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Wn=p,pS(p,i)}fS(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:$i(8,o,o.return),cf(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,cf(o));break;default:cf(o)}i=i.sibling}}function pS(i,o){for(;Wn!==null;){var u=Wn;switch(u.tag){case 0:case 11:case 15:$i(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:fd(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,Wn=p;else e:for(u=i;Wn!==null;){p=Wn;var w=p.sibling,C=p.return;if(sS(p),p===u){Wn=null;break e}if(w!==null){w.return=C,Wn=w;break e}Wn=C}}}var Q_={getCacheForType:function(i){var o=ra(Dn),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return ra(Dn).controller.signal}},J_=typeof WeakMap=="function"?WeakMap:Map,kt=0,Vt=null,pt=null,gt=0,It=0,Ka=null,Bi=!1,Xo=!1,Jg=!1,Us=0,gn=0,Fi=0,Tl=0,e0=0,Wa=0,Qo=0,kd=null,Ma=null,t0=!1,df=0,xS=0,uf=1/0,mf=null,Ui=null,$n=0,qi=null,Jo=null,qs=0,n0=0,a0=null,gS=null,Pd=0,r0=null;function Ya(){return(kt&2)!==0&&gt!==0?gt&-gt:V.T!==null?d0():Rw()}function yS(){if(Wa===0)if((gt&536870912)===0||jt){var i=Je;Je<<=1,(Je&3932160)===0&&(Je=262144),Wa=i}else Wa=536870912;return i=Ha.current,i!==null&&(i.flags|=32),Wa}function Da(i,o,u){(i===Vt&&(It===2||It===9)||i.cancelPendingCommit!==null)&&(ec(i,0),Hi(i,gt,Wa,!1)),Cs(i,u),((kt&2)===0||i!==Vt)&&(i===Vt&&((kt&2)===0&&(Tl|=u),gn===4&&Hi(i,gt,Wa,!1)),ns(i))}function vS(i,o,u){if((kt&6)!==0)throw Error(r(327));var p=!u&&(o&127)===0&&(o&i.expiredLanes)===0||gl(i,o),w=p?nT(i,o):i0(i,o,!0),C=p;do{if(w===0){Xo&&!p&&Hi(i,o,0,!1);break}else{if(u=i.current.alternate,C&&!eT(u)){w=i0(i,o,!1),C=!1;continue}if(w===2){if(C=o,i.errorRecoveryDisabledLanes&C)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){o=R;e:{var $=i;w=kd;var G=$.current.memoizedState.isDehydrated;if(G&&(ec($,R).flags|=256),R=i0($,R,!1),R!==2){if(Jg&&!G){$.errorRecoveryDisabledLanes|=C,Tl|=C,w=4;break e}C=Ma,Ma=w,C!==null&&(Ma===null?Ma=C:Ma.push.apply(Ma,C))}w=R}if(C=!1,w!==2)continue}}if(w===1){ec(i,0),Hi(i,o,0,!0);break}e:{switch(p=i,C=w,C){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Hi(p,o,Wa,!Bi);break e;case 2:Ma=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(w=df+300-be(),10<w)){if(Hi(p,o,Wa,!Bi),mt(p,0,!0)!==0)break e;qs=o,p.timeoutHandle=ZS(bS.bind(null,p,u,Ma,mf,t0,o,Wa,Tl,Qo,Bi,C,"Throttled",-0,0),w);break e}bS(p,u,Ma,mf,t0,o,Wa,Tl,Qo,Bi,C,null,-0,0)}}break}while(!0);ns(i)}function bS(i,o,u,p,w,C,R,$,G,ce,pe,ve,de,me){if(i.timeoutHandle=-1,ve=o.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ds},mS(o,C,ve);var Te=(C&62914560)===C?df-be():(C&4194048)===C?xS-be():0;if(Te=zT(ve,Te),Te!==null){qs=C,i.cancelPendingCommit=Te(DS.bind(null,i,o,C,u,p,w,R,$,G,pe,ve,null,de,me)),Hi(i,C,R,!ce);return}}DS(i,o,C,u,p,w,R,$,G)}function eT(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var w=u[p],C=w.getSnapshot;w=w.value;try{if(!Ua(C(),w))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Hi(i,o,u,p){o&=~e0,o&=~Tl,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var w=o;0<w;){var C=31-Hn(w),R=1<<C;p[C]=-1,w&=~R}u!==0&&Ew(i,u,o)}function ff(){return(kt&6)===0?(Rd(0),!1):!0}function s0(){if(pt!==null){if(It===0)var i=pt.return;else i=pt,Ps=Cl=null,jg(i),Ho=null,pd=0,i=pt;for(;i!==null;)X2(i.alternate,i),i=i.return;pt=null}}function ec(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,bT(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),qs=0,s0(),Vt=i,pt=u=Es(i.current,null),gt=o,It=0,Ka=null,Bi=!1,Xo=gl(i,o),Jg=!1,Qo=Wa=e0=Tl=Fi=gn=0,Ma=kd=null,t0=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var w=31-Hn(p),C=1<<w;o|=i[w],p&=~C}return Us=o,Rm(),u}function jS(i,o){it=null,V.H=Nd,o===qo||o===Fm?(o=IN(),It=3):o===cg?(o=IN(),It=4):It=o===Ig?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ka=o,pt===null&&(gn=1,tf(i,fr(o,i.current)))}function wS(){var i=Ha.current;return i===null?!0:(gt&4194048)===gt?gr===null:(gt&62914560)===gt||(gt&536870912)!==0?i===gr:!1}function NS(){var i=V.H;return V.H=Nd,i===null?Nd:i}function SS(){var i=V.A;return V.A=Q_,i}function hf(){gn=4,Bi||(gt&4194048)!==gt&&Ha.current!==null||(Xo=!0),(Fi&134217727)===0&&(Tl&134217727)===0||Vt===null||Hi(Vt,gt,Wa,!1)}function i0(i,o,u){var p=kt;kt|=2;var w=NS(),C=SS();(Vt!==i||gt!==o)&&(mf=null,ec(i,o)),o=!1;var R=gn;e:do try{if(It!==0&&pt!==null){var $=pt,G=Ka;switch(It){case 8:s0(),R=6;break e;case 3:case 2:case 9:case 6:Ha.current===null&&(o=!0);var ce=It;if(It=0,Ka=null,tc(i,$,G,ce),u&&Xo){R=0;break e}break;default:ce=It,It=0,Ka=null,tc(i,$,G,ce)}}tT(),R=gn;break}catch(pe){jS(i,pe)}while(!0);return o&&i.shellSuspendCounter++,Ps=Cl=null,kt=p,V.H=w,V.A=C,pt===null&&(Vt=null,gt=0,Rm()),R}function tT(){for(;pt!==null;)AS(pt)}function nT(i,o){var u=kt;kt|=2;var p=NS(),w=SS();Vt!==i||gt!==o?(mf=null,uf=be()+500,ec(i,o)):Xo=gl(i,o);e:do try{if(It!==0&&pt!==null){o=pt;var C=Ka;t:switch(It){case 1:It=0,Ka=null,tc(i,o,C,1);break;case 2:case 9:if(TN(C)){It=0,Ka=null,CS(o);break}o=function(){It!==2&&It!==9||Vt!==i||(It=7),ns(i)},C.then(o,o);break e;case 3:It=7;break e;case 4:It=5;break e;case 7:TN(C)?(It=0,Ka=null,CS(o)):(It=0,Ka=null,tc(i,o,C,7));break;case 5:var R=null;switch(pt.tag){case 26:R=pt.memoizedState;case 5:case 27:var $=pt;if(R?u5(R):$.stateNode.complete){It=0,Ka=null;var G=$.sibling;if(G!==null)pt=G;else{var ce=$.return;ce!==null?(pt=ce,pf(ce)):pt=null}break t}}It=0,Ka=null,tc(i,o,C,5);break;case 6:It=0,Ka=null,tc(i,o,C,6);break;case 8:s0(),gn=6;break e;default:throw Error(r(462))}}aT();break}catch(pe){jS(i,pe)}while(!0);return Ps=Cl=null,V.H=p,V.A=w,kt=u,pt!==null?0:(Vt=null,gt=0,Rm(),gn)}function aT(){for(;pt!==null&&!he();)AS(pt)}function AS(i){var o=G2(i.alternate,i,Us);i.memoizedProps=i.pendingProps,o===null?pf(i):pt=o}function CS(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=q2(u,o,o.pendingProps,o.type,void 0,gt);break;case 11:o=q2(u,o,o.pendingProps,o.type.render,o.ref,gt);break;case 5:jg(o);default:X2(u,o),o=pt=SN(o,Us),o=G2(u,o,Us)}i.memoizedProps=i.pendingProps,o===null?pf(i):pt=o}function tc(i,o,u,p){Ps=Cl=null,jg(o),Ho=null,pd=0;var w=o.return;try{if(V_(i,w,o,u,gt)){gn=1,tf(i,fr(u,i.current)),pt=null;return}}catch(C){if(w!==null)throw pt=w,C;gn=1,tf(i,fr(u,i.current)),pt=null;return}o.flags&32768?(jt||p===1?i=!0:Xo||(gt&536870912)!==0?i=!1:(Bi=i=!0,(p===2||p===9||p===3||p===6)&&(p=Ha.current,p!==null&&p.tag===13&&(p.flags|=16384))),MS(o,i)):pf(o)}function pf(i){var o=i;do{if((o.flags&32768)!==0){MS(o,Bi);return}i=o.return;var u=Y_(o.alternate,o,Us);if(u!==null){pt=u;return}if(o=o.sibling,o!==null){pt=o;return}pt=o=i}while(o!==null);gn===0&&(gn=5)}function MS(i,o){do{var u=G_(i.alternate,i);if(u!==null){u.flags&=32767,pt=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){pt=i;return}pt=i=u}while(i!==null);gn=6,pt=null}function DS(i,o,u,p,w,C,R,$,G){i.cancelPendingCommit=null;do xf();while($n!==0);if((kt&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(C=o.lanes|o.childLanes,C|=Yx,L6(i,u,C,R,$,G),i===Vt&&(pt=Vt=null,gt=0),Jo=o,qi=i,qs=u,n0=C,a0=w,gS=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,lT(rt,function(){return RS(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=V.T,V.T=null,w=B.p,B.p=2,R=kt,kt|=4;try{Z_(i,o,u)}finally{kt=R,B.p=w,V.T=p}}$n=1,OS(),ES(),kS()}}function OS(){if($n===1){$n=0;var i=qi,o=Jo,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=V.T,V.T=null;var p=B.p;B.p=2;var w=kt;kt|=4;try{cS(o,i);var C=y0,R=pN(i.containerInfo),$=C.focusedElem,G=C.selectionRange;if(R!==$&&$&&$.ownerDocument&&hN($.ownerDocument.documentElement,$)){if(G!==null&&qx($)){var ce=G.start,pe=G.end;if(pe===void 0&&(pe=ce),"selectionStart"in $)$.selectionStart=ce,$.selectionEnd=Math.min(pe,$.value.length);else{var ve=$.ownerDocument||document,de=ve&&ve.defaultView||window;if(de.getSelection){var me=de.getSelection(),Te=$.textContent.length,Ve=Math.min(G.start,Te),Ht=G.end===void 0?Ve:Math.min(G.end,Te);!me.extend&&Ve>Ht&&(R=Ht,Ht=Ve,Ve=R);var re=fN($,Ve),Q=fN($,Ht);if(re&&Q&&(me.rangeCount!==1||me.anchorNode!==re.node||me.anchorOffset!==re.offset||me.focusNode!==Q.node||me.focusOffset!==Q.offset)){var oe=ve.createRange();oe.setStart(re.node,re.offset),me.removeAllRanges(),Ve>Ht?(me.addRange(oe),me.extend(Q.node,Q.offset)):(oe.setEnd(Q.node,Q.offset),me.addRange(oe))}}}}for(ve=[],me=$;me=me.parentNode;)me.nodeType===1&&ve.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<ve.length;$++){var ye=ve[$];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}Df=!!g0,y0=g0=null}finally{kt=w,B.p=p,V.T=u}}i.current=o,$n=2}}function ES(){if($n===2){$n=0;var i=qi,o=Jo,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=V.T,V.T=null;var p=B.p;B.p=2;var w=kt;kt|=4;try{rS(i,o.alternate,o)}finally{kt=w,B.p=p,V.T=u}}$n=3}}function kS(){if($n===4||$n===3){$n=0,Ee();var i=qi,o=Jo,u=qs,p=gS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?$n=5:($n=0,Jo=qi=null,PS(i,i.pendingLanes));var w=i.pendingLanes;if(w===0&&(Ui=null),Sx(u),o=o.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(ta,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=V.T,w=B.p,B.p=2,V.T=null;try{for(var C=i.onRecoverableError,R=0;R<p.length;R++){var $=p[R];C($.value,{componentStack:$.stack})}}finally{V.T=o,B.p=w}}(qs&3)!==0&&xf(),ns(i),w=i.pendingLanes,(u&261930)!==0&&(w&42)!==0?i===r0?Pd++:(Pd=0,r0=i):Pd=0,Rd(0)}}function PS(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,fd(o)))}function xf(){return OS(),ES(),kS(),RS()}function RS(){if($n!==5)return!1;var i=qi,o=n0;n0=0;var u=Sx(qs),p=V.T,w=B.p;try{B.p=32>u?32:u,V.T=null,u=a0,a0=null;var C=qi,R=qs;if($n=0,Jo=qi=null,qs=0,(kt&6)!==0)throw Error(r(331));var $=kt;if(kt|=4,hS(C.current),uS(C,C.current,R,u),kt=$,Rd(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(ta,C)}catch{}return!0}finally{B.p=w,V.T=p,PS(i,o)}}function _S(i,o,u){o=fr(u,o),o=Lg(i.stateNode,o,2),i=Li(i,o,2),i!==null&&(Cs(i,2),ns(i))}function zt(i,o,u){if(i.tag===3)_S(i,i,u);else for(;o!==null;){if(o.tag===3){_S(o,i,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ui===null||!Ui.has(p))){i=fr(u,i),u=T2(2),p=Li(o,u,2),p!==null&&(L2(u,p,o,i),Cs(p,2),ns(p));break}}o=o.return}}function l0(i,o,u){var p=i.pingCache;if(p===null){p=i.pingCache=new J_;var w=new Set;p.set(o,w)}else w=p.get(o),w===void 0&&(w=new Set,p.set(o,w));w.has(u)||(Jg=!0,w.add(u),i=rT.bind(null,i,o,u),o.then(i,i))}function rT(i,o,u){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Vt===i&&(gt&u)===u&&(gn===4||gn===3&&(gt&62914560)===gt&&300>be()-df?(kt&2)===0&&ec(i,0):e0|=u,Qo===gt&&(Qo=0)),ns(i)}function TS(i,o){o===0&&(o=jm()),i=Nl(i,o),i!==null&&(Cs(i,o),ns(i))}function sT(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),TS(i,u)}function iT(i,o){var u=0;switch(i.tag){case 31:case 13:var p=i.stateNode,w=i.memoizedState;w!==null&&(u=w.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(o),TS(i,u)}function lT(i,o){return Z(i,o)}var gf=null,nc=null,o0=!1,yf=!1,c0=!1,Vi=0;function ns(i){i!==nc&&i.next===null&&(nc===null?gf=nc=i:nc=nc.next=i),yf=!0,o0||(o0=!0,cT())}function Rd(i,o){if(!c0&&yf){c0=!0;do for(var u=!1,p=gf;p!==null;){if(i!==0){var w=p.pendingLanes;if(w===0)var C=0;else{var R=p.suspendedLanes,$=p.pingedLanes;C=(1<<31-Hn(42|i)+1)-1,C&=w&~(R&~$),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(u=!0,$S(p,C))}else C=gt,C=mt(p,p===Vt?C:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(C&3)===0||gl(p,C)||(u=!0,$S(p,C));p=p.next}while(u);c0=!1}}function oT(){LS()}function LS(){yf=o0=!1;var i=0;Vi!==0&&vT()&&(i=Vi);for(var o=be(),u=null,p=gf;p!==null;){var w=p.next,C=IS(p,o);C===0?(p.next=null,u===null?gf=w:u.next=w,w===null&&(nc=u)):(u=p,(i!==0||(C&3)!==0)&&(yf=!0)),p=w}$n!==0&&$n!==5||Rd(i),Vi!==0&&(Vi=0)}function IS(i,o){for(var u=i.suspendedLanes,p=i.pingedLanes,w=i.expirationTimes,C=i.pendingLanes&-62914561;0<C;){var R=31-Hn(C),$=1<<R,G=w[R];G===-1?(($&u)===0||($&p)!==0)&&(w[R]=wx($,o)):G<=o&&(i.expiredLanes|=$),C&=~$}if(o=Vt,u=gt,u=mt(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,u===0||i===o&&(It===2||It===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&le(p),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||gl(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(p!==null&&le(p),Sx(u)){case 2:case 8:u=Ze;break;case 32:u=rt;break;case 268435456:u=or;break;default:u=rt}return p=zS.bind(null,i),u=Z(u,p),i.callbackPriority=o,i.callbackNode=u,o}return p!==null&&p!==null&&le(p),i.callbackPriority=2,i.callbackNode=null,2}function zS(i,o){if($n!==0&&$n!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(xf()&&i.callbackNode!==u)return null;var p=gt;return p=mt(i,i===Vt?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(vS(i,p,o),IS(i,be()),i.callbackNode!=null&&i.callbackNode===u?zS.bind(null,i):null)}function $S(i,o){if(xf())return null;vS(i,o,!0)}function cT(){jT(function(){(kt&6)!==0?Z(ke,oT):LS()})}function d0(){if(Vi===0){var i=Fo;i===0&&(i=Mt,Mt<<=1,(Mt&261888)===0&&(Mt=256)),Vi=i}return Vi}function BS(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Am(""+i)}function FS(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function dT(i,o,u,p,w){if(o==="submit"&&u&&u.stateNode===w){var C=BS((w[wa]||null).action),R=p.submitter;R&&(o=(o=R[wa]||null)?BS(o.formAction):R.getAttribute("formAction"),o!==null&&(C=o,R=null));var $=new Om("action","action",null,p,w);i.push({event:$,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Vi!==0){var G=R?FS(w,R):new FormData(w);Eg(u,{pending:!0,data:G,method:w.method,action:C},null,G)}}else typeof C=="function"&&($.preventDefault(),G=R?FS(w,R):new FormData(w),Eg(u,{pending:!0,data:G,method:w.method,action:C},C,G))},currentTarget:w}]})}}for(var u0=0;u0<Wx.length;u0++){var m0=Wx[u0],uT=m0.toLowerCase(),mT=m0[0].toUpperCase()+m0.slice(1);Ir(uT,"on"+mT)}Ir(yN,"onAnimationEnd"),Ir(vN,"onAnimationIteration"),Ir(bN,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(D_,"onTransitionRun"),Ir(O_,"onTransitionStart"),Ir(E_,"onTransitionCancel"),Ir(jN,"onTransitionEnd"),Mo("onMouseEnter",["mouseout","mouseover"]),Mo("onMouseLeave",["mouseout","mouseover"]),Mo("onPointerEnter",["pointerout","pointerover"]),Mo("onPointerLeave",["pointerout","pointerover"]),vl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vl("onBeforeInput",["compositionend","keypress","textInput","paste"]),vl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_d));function US(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],w=p.event;p=p.listeners;e:{var C=void 0;if(o)for(var R=p.length-1;0<=R;R--){var $=p[R],G=$.instance,ce=$.currentTarget;if($=$.listener,G!==C&&w.isPropagationStopped())break e;C=$,w.currentTarget=ce;try{C(w)}catch(pe){Pm(pe)}w.currentTarget=null,C=G}else for(R=0;R<p.length;R++){if($=p[R],G=$.instance,ce=$.currentTarget,$=$.listener,G!==C&&w.isPropagationStopped())break e;C=$,w.currentTarget=ce;try{C(w)}catch(pe){Pm(pe)}w.currentTarget=null,C=G}}}}function xt(i,o){var u=o[Ax];u===void 0&&(u=o[Ax]=new Set);var p=i+"__bubble";u.has(p)||(qS(o,i,2,!1),u.add(p))}function f0(i,o,u){var p=0;o&&(p|=4),qS(u,i,p,o)}var vf="_reactListening"+Math.random().toString(36).slice(2);function h0(i){if(!i[vf]){i[vf]=!0,Lw.forEach(function(u){u!=="selectionchange"&&(fT.has(u)||f0(u,!1,i),f0(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[vf]||(o[vf]=!0,f0("selectionchange",!1,o))}}function qS(i,o,u,p){switch(y5(o)){case 2:var w=FT;break;case 8:w=UT;break;default:w=O0}u=w.bind(null,o,u,i),w=void 0,!_x||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(w=!0),p?w!==void 0?i.addEventListener(o,u,{capture:!0,passive:w}):i.addEventListener(o,u,!0):w!==void 0?i.addEventListener(o,u,{passive:w}):i.addEventListener(o,u,!1)}function p0(i,o,u,p,w){var C=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var R=p.tag;if(R===3||R===4){var $=p.stateNode.containerInfo;if($===w)break;if(R===4)for(R=p.return;R!==null;){var G=R.tag;if((G===3||G===4)&&R.stateNode.containerInfo===w)return;R=R.return}for(;$!==null;){if(R=So($),R===null)return;if(G=R.tag,G===5||G===6||G===26||G===27){p=C=R;continue e}$=$.parentNode}}p=p.return}Yw(function(){var ce=C,pe=Px(u),ve=[];e:{var de=wN.get(i);if(de!==void 0){var me=Om,Te=i;switch(i){case"keypress":if(Mm(u)===0)break e;case"keydown":case"keyup":me=i_;break;case"focusin":Te="focus",me=zx;break;case"focusout":Te="blur",me=zx;break;case"beforeblur":case"afterblur":me=zx;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Xw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Y6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=c_;break;case yN:case vN:case bN:me=X6;break;case jN:me=u_;break;case"scroll":case"scrollend":me=K6;break;case"wheel":me=f_;break;case"copy":case"cut":case"paste":me=J6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Jw;break;case"toggle":case"beforetoggle":me=p_}var Ve=(o&4)!==0,Ht=!Ve&&(i==="scroll"||i==="scrollend"),re=Ve?de!==null?de+"Capture":null:de;Ve=[];for(var Q=ce,oe;Q!==null;){var ye=Q;if(oe=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||oe===null||re===null||(ye=nd(Q,re),ye!=null&&Ve.push(Td(Q,ye,oe))),Ht)break;Q=Q.return}0<Ve.length&&(de=new me(de,Te,null,u,pe),ve.push({event:de,listeners:Ve}))}}if((o&7)===0){e:{if(de=i==="mouseover"||i==="pointerover",me=i==="mouseout"||i==="pointerout",de&&u!==kx&&(Te=u.relatedTarget||u.fromElement)&&(So(Te)||Te[No]))break e;if((me||de)&&(de=pe.window===pe?pe:(de=pe.ownerDocument)?de.defaultView||de.parentWindow:window,me?(Te=u.relatedTarget||u.toElement,me=ce,Te=Te?So(Te):null,Te!==null&&(Ht=l(Te),Ve=Te.tag,Te!==Ht||Ve!==5&&Ve!==27&&Ve!==6)&&(Te=null)):(me=null,Te=ce),me!==Te)){if(Ve=Xw,ye="onMouseLeave",re="onMouseEnter",Q="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=Jw,ye="onPointerLeave",re="onPointerEnter",Q="pointer"),Ht=me==null?de:td(me),oe=Te==null?de:td(Te),de=new Ve(ye,Q+"leave",me,u,pe),de.target=Ht,de.relatedTarget=oe,ye=null,So(pe)===ce&&(Ve=new Ve(re,Q+"enter",Te,u,pe),Ve.target=oe,Ve.relatedTarget=Ht,ye=Ve),Ht=ye,me&&Te)t:{for(Ve=hT,re=me,Q=Te,oe=0,ye=re;ye;ye=Ve(ye))oe++;ye=0;for(var He=Q;He;He=Ve(He))ye++;for(;0<oe-ye;)re=Ve(re),oe--;for(;0<ye-oe;)Q=Ve(Q),ye--;for(;oe--;){if(re===Q||Q!==null&&re===Q.alternate){Ve=re;break t}re=Ve(re),Q=Ve(Q)}Ve=null}else Ve=null;me!==null&&HS(ve,de,me,Ve,!1),Te!==null&&Ht!==null&&HS(ve,Ht,Te,Ve,!0)}}e:{if(de=ce?td(ce):window,me=de.nodeName&&de.nodeName.toLowerCase(),me==="select"||me==="input"&&de.type==="file")var Dt=lN;else if(sN(de))if(oN)Dt=A_;else{Dt=N_;var Ie=w_}else me=de.nodeName,!me||me.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ce&&Ex(ce.elementType)&&(Dt=lN):Dt=S_;if(Dt&&(Dt=Dt(i,ce))){iN(ve,Dt,u,pe);break e}Ie&&Ie(i,de,ce),i==="focusout"&&ce&&de.type==="number"&&ce.memoizedProps.value!=null&&Ox(de,"number",de.value)}switch(Ie=ce?td(ce):window,i){case"focusin":(sN(Ie)||Ie.contentEditable==="true")&&(Ro=Ie,Hx=ce,dd=null);break;case"focusout":dd=Hx=Ro=null;break;case"mousedown":Vx=!0;break;case"contextmenu":case"mouseup":case"dragend":Vx=!1,xN(ve,u,pe);break;case"selectionchange":if(M_)break;case"keydown":case"keyup":xN(ve,u,pe)}var ot;if(Bx)e:{switch(i){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else Po?aN(i,u)&&(yt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(yt="onCompositionStart");yt&&(eN&&u.locale!=="ko"&&(Po||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Po&&(ot=Gw()):(Oi=pe,Tx="value"in Oi?Oi.value:Oi.textContent,Po=!0)),Ie=bf(ce,yt),0<Ie.length&&(yt=new Qw(yt,i,null,u,pe),ve.push({event:yt,listeners:Ie}),ot?yt.data=ot:(ot=rN(u),ot!==null&&(yt.data=ot)))),(ot=g_?y_(i,u):v_(i,u))&&(yt=bf(ce,"onBeforeInput"),0<yt.length&&(Ie=new Qw("onBeforeInput","beforeinput",null,u,pe),ve.push({event:Ie,listeners:yt}),Ie.data=ot)),dT(ve,i,ce,u,pe)}US(ve,o)})}function Td(i,o,u){return{instance:i,listener:o,currentTarget:u}}function bf(i,o){for(var u=o+"Capture",p=[];i!==null;){var w=i,C=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||C===null||(w=nd(i,u),w!=null&&p.unshift(Td(i,w,C)),w=nd(i,o),w!=null&&p.push(Td(i,w,C))),i.tag===3)return p;i=i.return}return[]}function hT(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function HS(i,o,u,p,w){for(var C=o._reactName,R=[];u!==null&&u!==p;){var $=u,G=$.alternate,ce=$.stateNode;if($=$.tag,G!==null&&G===p)break;$!==5&&$!==26&&$!==27||ce===null||(G=ce,w?(ce=nd(u,C),ce!=null&&R.unshift(Td(u,ce,G))):w||(ce=nd(u,C),ce!=null&&R.push(Td(u,ce,G)))),u=u.return}R.length!==0&&i.push({event:o,listeners:R})}var pT=/\r\n?/g,xT=/\u0000|\uFFFD/g;function VS(i){return(typeof i=="string"?i:""+i).replace(pT,`
`).replace(xT,"")}function KS(i,o){return o=VS(o),VS(i)===o}function qt(i,o,u,p,w,C){switch(u){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Oo(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Oo(i,""+p);break;case"className":Nm(i,"class",p);break;case"tabIndex":Nm(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Nm(i,u,p);break;case"style":Kw(i,p,C);break;case"data":if(o!=="object"){Nm(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(u);break}p=Am(""+p),i.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(u==="formAction"?(o!=="input"&&qt(i,o,"name",w.name,w,null),qt(i,o,"formEncType",w.formEncType,w,null),qt(i,o,"formMethod",w.formMethod,w,null),qt(i,o,"formTarget",w.formTarget,w,null)):(qt(i,o,"encType",w.encType,w,null),qt(i,o,"method",w.method,w,null),qt(i,o,"target",w.target,w,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(u);break}p=Am(""+p),i.setAttribute(u,p);break;case"onClick":p!=null&&(i.onclick=Ds);break;case"onScroll":p!=null&&xt("scroll",i);break;case"onScrollEnd":p!=null&&xt("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(w.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}u=Am(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,""+p):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":p===!0?i.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,p):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(u,p):i.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(u):i.setAttribute(u,p);break;case"popover":xt("beforetoggle",i),xt("toggle",i),wm(i,"popover",p);break;case"xlinkActuate":Ms(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Ms(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Ms(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Ms(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Ms(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Ms(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Ms(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Ms(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Ms(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":wm(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=H6.get(u)||u,wm(i,u,p))}}function x0(i,o,u,p,w,C){switch(u){case"style":Kw(i,p,C);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(w.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof p=="string"?Oo(i,p):(typeof p=="number"||typeof p=="bigint")&&Oo(i,""+p);break;case"onScroll":p!=null&&xt("scroll",i);break;case"onScrollEnd":p!=null&&xt("scrollend",i);break;case"onClick":p!=null&&(i.onclick=Ds);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Iw.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(w=u.endsWith("Capture"),o=u.slice(2,w?u.length-7:void 0),C=i[wa]||null,C=C!=null?C[u]:null,typeof C=="function"&&i.removeEventListener(o,C,w),typeof p=="function")){typeof C!="function"&&C!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,p,w);break e}u in i?i[u]=p:p===!0?i.setAttribute(u,""):wm(i,u,p)}}}function ia(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",i),xt("load",i);var p=!1,w=!1,C;for(C in u)if(u.hasOwnProperty(C)){var R=u[C];if(R!=null)switch(C){case"src":p=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:qt(i,o,C,R,u,null)}}w&&qt(i,o,"srcSet",u.srcSet,u,null),p&&qt(i,o,"src",u.src,u,null);return;case"input":xt("invalid",i);var $=C=R=w=null,G=null,ce=null;for(p in u)if(u.hasOwnProperty(p)){var pe=u[p];if(pe!=null)switch(p){case"name":w=pe;break;case"type":R=pe;break;case"checked":G=pe;break;case"defaultChecked":ce=pe;break;case"value":C=pe;break;case"defaultValue":$=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,o));break;default:qt(i,o,p,pe,u,null)}}Uw(i,C,$,G,ce,R,w,!1);return;case"select":xt("invalid",i),p=R=C=null;for(w in u)if(u.hasOwnProperty(w)&&($=u[w],$!=null))switch(w){case"value":C=$;break;case"defaultValue":R=$;break;case"multiple":p=$;default:qt(i,o,w,$,u,null)}o=C,u=R,i.multiple=!!p,o!=null?Do(i,!!p,o,!1):u!=null&&Do(i,!!p,u,!0);return;case"textarea":xt("invalid",i),C=w=p=null;for(R in u)if(u.hasOwnProperty(R)&&($=u[R],$!=null))switch(R){case"value":p=$;break;case"defaultValue":w=$;break;case"children":C=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:qt(i,o,R,$,u,null)}Hw(i,p,w,C);return;case"option":for(G in u)if(u.hasOwnProperty(G)&&(p=u[G],p!=null))switch(G){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:qt(i,o,G,p,u,null)}return;case"dialog":xt("beforetoggle",i),xt("toggle",i),xt("cancel",i),xt("close",i);break;case"iframe":case"object":xt("load",i);break;case"video":case"audio":for(p=0;p<_d.length;p++)xt(_d[p],i);break;case"image":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"embed":case"source":case"link":xt("error",i),xt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in u)if(u.hasOwnProperty(ce)&&(p=u[ce],p!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:qt(i,o,ce,p,u,null)}return;default:if(Ex(o)){for(pe in u)u.hasOwnProperty(pe)&&(p=u[pe],p!==void 0&&x0(i,o,pe,p,u,void 0));return}}for($ in u)u.hasOwnProperty($)&&(p=u[$],p!=null&&qt(i,o,$,p,u,null))}function gT(i,o,u,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,C=null,R=null,$=null,G=null,ce=null,pe=null;for(me in u){var ve=u[me];if(u.hasOwnProperty(me)&&ve!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":G=ve;default:p.hasOwnProperty(me)||qt(i,o,me,null,p,ve)}}for(var de in p){var me=p[de];if(ve=u[de],p.hasOwnProperty(de)&&(me!=null||ve!=null))switch(de){case"type":C=me;break;case"name":w=me;break;case"checked":ce=me;break;case"defaultChecked":pe=me;break;case"value":R=me;break;case"defaultValue":$=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,o));break;default:me!==ve&&qt(i,o,de,me,p,ve)}}Dx(i,R,$,G,ce,pe,C,w);return;case"select":me=R=$=de=null;for(C in u)if(G=u[C],u.hasOwnProperty(C)&&G!=null)switch(C){case"value":break;case"multiple":me=G;default:p.hasOwnProperty(C)||qt(i,o,C,null,p,G)}for(w in p)if(C=p[w],G=u[w],p.hasOwnProperty(w)&&(C!=null||G!=null))switch(w){case"value":de=C;break;case"defaultValue":$=C;break;case"multiple":R=C;default:C!==G&&qt(i,o,w,C,p,G)}o=$,u=R,p=me,de!=null?Do(i,!!u,de,!1):!!p!=!!u&&(o!=null?Do(i,!!u,o,!0):Do(i,!!u,u?[]:"",!1));return;case"textarea":me=de=null;for($ in u)if(w=u[$],u.hasOwnProperty($)&&w!=null&&!p.hasOwnProperty($))switch($){case"value":break;case"children":break;default:qt(i,o,$,null,p,w)}for(R in p)if(w=p[R],C=u[R],p.hasOwnProperty(R)&&(w!=null||C!=null))switch(R){case"value":de=w;break;case"defaultValue":me=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==C&&qt(i,o,R,w,p,C)}qw(i,de,me);return;case"option":for(var Te in u)if(de=u[Te],u.hasOwnProperty(Te)&&de!=null&&!p.hasOwnProperty(Te))switch(Te){case"selected":i.selected=!1;break;default:qt(i,o,Te,null,p,de)}for(G in p)if(de=p[G],me=u[G],p.hasOwnProperty(G)&&de!==me&&(de!=null||me!=null))switch(G){case"selected":i.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:qt(i,o,G,de,p,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in u)de=u[Ve],u.hasOwnProperty(Ve)&&de!=null&&!p.hasOwnProperty(Ve)&&qt(i,o,Ve,null,p,de);for(ce in p)if(de=p[ce],me=u[ce],p.hasOwnProperty(ce)&&de!==me&&(de!=null||me!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:qt(i,o,ce,de,p,me)}return;default:if(Ex(o)){for(var Ht in u)de=u[Ht],u.hasOwnProperty(Ht)&&de!==void 0&&!p.hasOwnProperty(Ht)&&x0(i,o,Ht,void 0,p,de);for(pe in p)de=p[pe],me=u[pe],!p.hasOwnProperty(pe)||de===me||de===void 0&&me===void 0||x0(i,o,pe,de,p,me);return}}for(var re in u)de=u[re],u.hasOwnProperty(re)&&de!=null&&!p.hasOwnProperty(re)&&qt(i,o,re,null,p,de);for(ve in p)de=p[ve],me=u[ve],!p.hasOwnProperty(ve)||de===me||de==null&&me==null||qt(i,o,ve,de,p,me)}function WS(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yT(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var w=u[p],C=w.transferSize,R=w.initiatorType,$=w.duration;if(C&&$&&WS(R)){for(R=0,$=w.responseEnd,p+=1;p<u.length;p++){var G=u[p],ce=G.startTime;if(ce>$)break;var pe=G.transferSize,ve=G.initiatorType;pe&&WS(ve)&&(G=G.responseEnd,R+=pe*(G<$?1:($-ce)/(G-ce)))}if(--p,o+=8*(C+R)/(w.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var g0=null,y0=null;function jf(i){return i.nodeType===9?i:i.ownerDocument}function YS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GS(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function v0(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var b0=null;function vT(){var i=window.event;return i&&i.type==="popstate"?i===b0?!1:(b0=i,!0):(b0=null,!1)}var ZS=typeof setTimeout=="function"?setTimeout:void 0,bT=typeof clearTimeout=="function"?clearTimeout:void 0,XS=typeof Promise=="function"?Promise:void 0,jT=typeof queueMicrotask=="function"?queueMicrotask:typeof XS<"u"?function(i){return XS.resolve(null).then(i).catch(wT)}:ZS;function wT(i){setTimeout(function(){throw i})}function Ki(i){return i==="head"}function QS(i,o){var u=o,p=0;do{var w=u.nextSibling;if(i.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"||u==="/&"){if(p===0){i.removeChild(w),ic(o);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")Ld(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Ld(u);for(var C=u.firstChild;C;){var R=C.nextSibling,$=C.nodeName;C[ed]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&C.rel.toLowerCase()==="stylesheet"||u.removeChild(C),C=R}}else u==="body"&&Ld(i.ownerDocument.body);u=w}while(u);ic(o)}function JS(i,o){var u=i;i=0;do{var p=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=p}while(u)}function j0(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":j0(u),Cx(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function NT(i,o,u,p){for(;i.nodeType===1;){var w=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[ed])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(C=i.getAttribute("rel"),C==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(C!==w.rel||i.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||i.getAttribute("title")!==(w.title==null?null:w.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(C=i.getAttribute("src"),(C!==(w.src==null?null:w.src)||i.getAttribute("type")!==(w.type==null?null:w.type)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&C&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var C=w.name==null?null:""+w.name;if(w.type==="hidden"&&i.getAttribute("name")===C)return i}else return i;if(i=yr(i.nextSibling),i===null)break}return null}function ST(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=yr(i.nextSibling),i===null))return null;return i}function e5(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=yr(i.nextSibling),i===null))return null;return i}function w0(i){return i.data==="$?"||i.data==="$~"}function N0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function AT(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var p=function(){o(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function yr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var S0=null;function t5(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return yr(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function n5(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function a5(i,o,u){switch(o=jf(u),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Ld(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Cx(i)}var vr=new Map,r5=new Set;function wf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Hs=B.d;B.d={f:CT,r:MT,D:DT,C:OT,L:ET,m:kT,X:RT,S:PT,M:_T};function CT(){var i=Hs.f(),o=ff();return i||o}function MT(i){var o=Ao(i);o!==null&&o.tag===5&&o.type==="form"?j2(o):Hs.r(i)}var ac=typeof document>"u"?null:document;function s5(i,o,u){var p=ac;if(p&&typeof o=="string"&&o){var w=ur(o);w='link[rel="'+i+'"][href="'+w+'"]',typeof u=="string"&&(w+='[crossorigin="'+u+'"]'),r5.has(w)||(r5.add(w),i={rel:i,crossOrigin:u,href:o},p.querySelector(w)===null&&(o=p.createElement("link"),ia(o,"link",i),Kn(o),p.head.appendChild(o)))}}function DT(i){Hs.D(i),s5("dns-prefetch",i,null)}function OT(i,o){Hs.C(i,o),s5("preconnect",i,o)}function ET(i,o,u){Hs.L(i,o,u);var p=ac;if(p&&i&&o){var w='link[rel="preload"][as="'+ur(o)+'"]';o==="image"&&u&&u.imageSrcSet?(w+='[imagesrcset="'+ur(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(w+='[imagesizes="'+ur(u.imageSizes)+'"]')):w+='[href="'+ur(i)+'"]';var C=w;switch(o){case"style":C=rc(i);break;case"script":C=sc(i)}vr.has(C)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),vr.set(C,i),p.querySelector(w)!==null||o==="style"&&p.querySelector(Id(C))||o==="script"&&p.querySelector(zd(C))||(o=p.createElement("link"),ia(o,"link",i),Kn(o),p.head.appendChild(o)))}}function kT(i,o){Hs.m(i,o);var u=ac;if(u&&i){var p=o&&typeof o.as=="string"?o.as:"script",w='link[rel="modulepreload"][as="'+ur(p)+'"][href="'+ur(i)+'"]',C=w;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=sc(i)}if(!vr.has(C)&&(i=g({rel:"modulepreload",href:i},o),vr.set(C,i),u.querySelector(w)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(zd(C)))return}p=u.createElement("link"),ia(p,"link",i),Kn(p),u.head.appendChild(p)}}}function PT(i,o,u){Hs.S(i,o,u);var p=ac;if(p&&i){var w=Co(p).hoistableStyles,C=rc(i);o=o||"default";var R=w.get(C);if(!R){var $={loading:0,preload:null};if(R=p.querySelector(Id(C)))$.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=vr.get(C))&&A0(i,u);var G=R=p.createElement("link");Kn(G),ia(G,"link",i),G._p=new Promise(function(ce,pe){G.onload=ce,G.onerror=pe}),G.addEventListener("load",function(){$.loading|=1}),G.addEventListener("error",function(){$.loading|=2}),$.loading|=4,Nf(R,o,p)}R={type:"stylesheet",instance:R,count:1,state:$},w.set(C,R)}}}function RT(i,o){Hs.X(i,o);var u=ac;if(u&&i){var p=Co(u).hoistableScripts,w=sc(i),C=p.get(w);C||(C=u.querySelector(zd(w)),C||(i=g({src:i,async:!0},o),(o=vr.get(w))&&C0(i,o),C=u.createElement("script"),Kn(C),ia(C,"link",i),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},p.set(w,C))}}function _T(i,o){Hs.M(i,o);var u=ac;if(u&&i){var p=Co(u).hoistableScripts,w=sc(i),C=p.get(w);C||(C=u.querySelector(zd(w)),C||(i=g({src:i,async:!0,type:"module"},o),(o=vr.get(w))&&C0(i,o),C=u.createElement("script"),Kn(C),ia(C,"link",i),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},p.set(w,C))}}function i5(i,o,u,p){var w=(w=se.current)?wf(w):null;if(!w)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=rc(u.href),u=Co(w).hoistableStyles,p=u.get(o),p||(p={type:"style",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=rc(u.href);var C=Co(w).hoistableStyles,R=C.get(i);if(R||(w=w.ownerDocument||w,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(i,R),(C=w.querySelector(Id(i)))&&!C._p&&(R.instance=C,R.state.loading=5),vr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},vr.set(i,u),C||TT(w,i,u,R.state))),o&&p===null)throw Error(r(528,""));return R}if(o&&p!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=sc(u),u=Co(w).hoistableScripts,p=u.get(o),p||(p={type:"script",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function rc(i){return'href="'+ur(i)+'"'}function Id(i){return'link[rel="stylesheet"]['+i+"]"}function l5(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function TT(i,o,u,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),ia(o,"link",u),Kn(o),i.head.appendChild(o))}function sc(i){return'[src="'+ur(i)+'"]'}function zd(i){return"script[async]"+i}function o5(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+ur(u.href)+'"]');if(p)return o.instance=p,Kn(p),p;var w=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),Kn(p),ia(p,"style",w),Nf(p,u.precedence,i),o.instance=p;case"stylesheet":w=rc(u.href);var C=i.querySelector(Id(w));if(C)return o.state.loading|=4,o.instance=C,Kn(C),C;p=l5(u),(w=vr.get(w))&&A0(p,w),C=(i.ownerDocument||i).createElement("link"),Kn(C);var R=C;return R._p=new Promise(function($,G){R.onload=$,R.onerror=G}),ia(C,"link",p),o.state.loading|=4,Nf(C,u.precedence,i),o.instance=C;case"script":return C=sc(u.src),(w=i.querySelector(zd(C)))?(o.instance=w,Kn(w),w):(p=u,(w=vr.get(C))&&(p=g({},u),C0(p,w)),i=i.ownerDocument||i,w=i.createElement("script"),Kn(w),ia(w,"link",p),i.head.appendChild(w),o.instance=w);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Nf(p,u.precedence,i));return o.instance}function Nf(i,o,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=p.length?p[p.length-1]:null,C=w,R=0;R<p.length;R++){var $=p[R];if($.dataset.precedence===o)C=$;else if(C!==w)break}C?C.parentNode.insertBefore(i,C.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function A0(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function C0(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Sf=null;function c5(i,o,u){if(Sf===null){var p=new Map,w=Sf=new Map;w.set(u,p)}else w=Sf,p=w.get(u),p||(p=new Map,w.set(u,p));if(p.has(i))return p;for(p.set(i,null),u=u.getElementsByTagName(i),w=0;w<u.length;w++){var C=u[w];if(!(C[ed]||C[na]||i==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var R=C.getAttribute(o)||"";R=i+R;var $=p.get(R);$?$.push(C):p.set(R,[C])}}return p}function d5(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function LT(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function u5(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function IT(i,o,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var w=rc(p.href),C=o.querySelector(Id(w));if(C){o=C._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Af.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=C,Kn(C);return}C=o.ownerDocument||o,p=l5(p),(w=vr.get(w))&&A0(p,w),C=C.createElement("link"),Kn(C);var R=C;R._p=new Promise(function($,G){R.onload=$,R.onerror=G}),ia(C,"link",p),u.instance=C}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Af.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var M0=0;function zT(i,o){return i.stylesheets&&i.count===0&&Mf(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var p=setTimeout(function(){if(i.stylesheets&&Mf(i,i.stylesheets),i.unsuspend){var C=i.unsuspend;i.unsuspend=null,C()}},6e4+o);0<i.imgBytes&&M0===0&&(M0=62500*yT());var w=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Mf(i,i.stylesheets),i.unsuspend)){var C=i.unsuspend;i.unsuspend=null,C()}},(i.imgBytes>M0?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(w)}}:null}function Af(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Cf=null;function Mf(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Cf=new Map,o.forEach($T,i),Cf=null,Af.call(i))}function $T(i,o){if(!(o.state.loading&4)){var u=Cf.get(i);if(u)var p=u.get(null);else{u=new Map,Cf.set(i,u);for(var w=i.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<w.length;C++){var R=w[C];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(u.set(R.dataset.precedence,R),p=R)}p&&u.set(null,p)}w=o.instance,R=w.getAttribute("data-precedence"),C=u.get(R)||p,C===p&&u.set(null,w),u.set(R,w),this.count++,p=Af.bind(this),w.addEventListener("load",p),w.addEventListener("error",p),C?C.parentNode.insertBefore(w,C.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(w,i.firstChild)),o.state.loading|=4}}var $d={$$typeof:A,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function BT(i,o,u,p,w,C,R,$,G){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yl(0),this.hiddenUpdates=yl(null),this.identifierPrefix=p,this.onUncaughtError=w,this.onCaughtError=C,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function m5(i,o,u,p,w,C,R,$,G,ce,pe,ve){return i=new BT(i,o,u,R,G,ce,pe,ve,$),o=1,C===!0&&(o|=24),C=qa(3,null,null,o),i.current=C,C.stateNode=i,o=ig(),o.refCount++,i.pooledCache=o,o.refCount++,C.memoizedState={element:p,isDehydrated:u,cache:o},dg(C),i}function f5(i){return i?(i=Lo,i):Lo}function h5(i,o,u,p,w,C){w=f5(w),p.context===null?p.context=w:p.pendingContext=w,p=Ti(o),p.payload={element:u},C=C===void 0?null:C,C!==null&&(p.callback=C),u=Li(i,p,o),u!==null&&(Da(u,i,o),gd(u,i,o))}function p5(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function D0(i,o){p5(i,o),(i=i.alternate)&&p5(i,o)}function x5(i){if(i.tag===13||i.tag===31){var o=Nl(i,67108864);o!==null&&Da(o,i,67108864),D0(i,67108864)}}function g5(i){if(i.tag===13||i.tag===31){var o=Ya();o=Nx(o);var u=Nl(i,o);u!==null&&Da(u,i,o),D0(i,o)}}var Df=!0;function FT(i,o,u,p){var w=V.T;V.T=null;var C=B.p;try{B.p=2,O0(i,o,u,p)}finally{B.p=C,V.T=w}}function UT(i,o,u,p){var w=V.T;V.T=null;var C=B.p;try{B.p=8,O0(i,o,u,p)}finally{B.p=C,V.T=w}}function O0(i,o,u,p){if(Df){var w=E0(p);if(w===null)p0(i,o,p,Of,u),v5(i,p);else if(HT(w,i,o,u,p))p.stopPropagation();else if(v5(i,p),o&4&&-1<qT.indexOf(i)){for(;w!==null;){var C=Ao(w);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var R=Vn(C.pendingLanes);if(R!==0){var $=C;for($.pendingLanes|=2,$.entangledLanes|=2;R;){var G=1<<31-Hn(R);$.entanglements[1]|=G,R&=~G}ns(C),(kt&6)===0&&(uf=be()+500,Rd(0))}}break;case 31:case 13:$=Nl(C,2),$!==null&&Da($,C,2),ff(),D0(C,2)}if(C=E0(p),C===null&&p0(i,o,p,Of,u),C===w)break;w=C}w!==null&&p.stopPropagation()}else p0(i,o,p,null,u)}}function E0(i){return i=Px(i),k0(i)}var Of=null;function k0(i){if(Of=null,i=So(i),i!==null){var o=l(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=c(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Of=i,null}function y5(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ne()){case ke:return 2;case Ze:return 8;case rt:case Mn:return 32;case or:return 268435456;default:return 32}default:return 32}}var P0=!1,Wi=null,Yi=null,Gi=null,Bd=new Map,Fd=new Map,Zi=[],qT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v5(i,o){switch(i){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":Bd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fd.delete(o.pointerId)}}function Ud(i,o,u,p,w,C){return i===null||i.nativeEvent!==C?(i={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:C,targetContainers:[w]},o!==null&&(o=Ao(o),o!==null&&x5(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,w!==null&&o.indexOf(w)===-1&&o.push(w),i)}function HT(i,o,u,p,w){switch(o){case"focusin":return Wi=Ud(Wi,i,o,u,p,w),!0;case"dragenter":return Yi=Ud(Yi,i,o,u,p,w),!0;case"mouseover":return Gi=Ud(Gi,i,o,u,p,w),!0;case"pointerover":var C=w.pointerId;return Bd.set(C,Ud(Bd.get(C)||null,i,o,u,p,w)),!0;case"gotpointercapture":return C=w.pointerId,Fd.set(C,Ud(Fd.get(C)||null,i,o,u,p,w)),!0}return!1}function b5(i){var o=So(i.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){i.blockedOn=o,_w(i.priority,function(){g5(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,_w(i.priority,function(){g5(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ef(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=E0(i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);kx=p,u.target.dispatchEvent(p),kx=null}else return o=Ao(u),o!==null&&x5(o),i.blockedOn=u,!1;o.shift()}return!0}function j5(i,o,u){Ef(i)&&u.delete(o)}function VT(){P0=!1,Wi!==null&&Ef(Wi)&&(Wi=null),Yi!==null&&Ef(Yi)&&(Yi=null),Gi!==null&&Ef(Gi)&&(Gi=null),Bd.forEach(j5),Fd.forEach(j5)}function kf(i,o){i.blockedOn===o&&(i.blockedOn=null,P0||(P0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,VT)))}var Pf=null;function w5(i){Pf!==i&&(Pf=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Pf===i&&(Pf=null);for(var o=0;o<i.length;o+=3){var u=i[o],p=i[o+1],w=i[o+2];if(typeof p!="function"){if(k0(p||u)===null)continue;break}var C=Ao(u);C!==null&&(i.splice(o,3),o-=3,Eg(C,{pending:!0,data:w,method:u.method,action:p},p,w))}}))}function ic(i){function o(G){return kf(G,i)}Wi!==null&&kf(Wi,i),Yi!==null&&kf(Yi,i),Gi!==null&&kf(Gi,i),Bd.forEach(o),Fd.forEach(o);for(var u=0;u<Zi.length;u++){var p=Zi[u];p.blockedOn===i&&(p.blockedOn=null)}for(;0<Zi.length&&(u=Zi[0],u.blockedOn===null);)b5(u),u.blockedOn===null&&Zi.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var w=u[p],C=u[p+1],R=w[wa]||null;if(typeof C=="function")R||w5(u);else if(R){var $=null;if(C&&C.hasAttribute("formAction")){if(w=C,R=C[wa]||null)$=R.formAction;else if(k0(w)!==null)continue}else $=R.action;typeof $=="function"?u[p+1]=$:(u.splice(p,3),p-=3),w5(u)}}}function N5(){function i(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(R){return w=R})},focusReset:"manual",scroll:"manual"})}function o(){w!==null&&(w(),w=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,w=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),w!==null&&(w(),w=null)}}}function R0(i){this._internalRoot=i}Rf.prototype.render=R0.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,p=Ya();h5(u,p,i,o,null,null)},Rf.prototype.unmount=R0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;h5(i.current,2,null,i,null,null),ff(),o[No]=null}};function Rf(i){this._internalRoot=i}Rf.prototype.unstable_scheduleHydration=function(i){if(i){var o=Rw();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Zi.length&&o!==0&&o<Zi[u].priority;u++);Zi.splice(u,0,i),u===0&&b5(i)}};var S5=t.version;if(S5!=="19.2.0")throw Error(r(527,S5,"19.2.0"));B.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var KT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{ta=_f.inject(KT),pn=_f}catch{}}return Hd.createRoot=function(i,o){if(!s(i))throw Error(r(299));var u=!1,p="",w=k2,C=P2,R=R2;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(w=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError)),o=m5(i,1,!1,null,null,u,p,null,w,C,R,N5),i[No]=o.current,h0(i),new R0(o)},Hd.hydrateRoot=function(i,o,u){if(!s(i))throw Error(r(299));var p=!1,w="",C=k2,R=P2,$=R2,G=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onUncaughtError!==void 0&&(C=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&($=u.onRecoverableError),u.formState!==void 0&&(G=u.formState)),o=m5(i,1,!0,o,u??null,p,w,G,C,R,$,N5),o.context=f5(null),u=o.current,p=Ya(),p=Nx(p),w=Ti(p),w.callback=null,Li(u,w,p),u=p,o.current.lanes=u,Cs(o,u),ns(o),i[No]=o.current,h0(i),new Rf(o)},Hd.version="19.2.0",Hd}var k5;function kL(){if(k5)return T0.exports;k5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),T0.exports=EL(),T0.exports}var PL=kL();const RL=Rr(PL);function _L(e,t){let a;try{a=e()}catch{return}return{getItem:s=>{var l;const c=m=>m===null?null:JSON.parse(m,void 0),d=(l=a.getItem(s))!=null?l:null;return d instanceof Promise?d.then(c):c(d)},setItem:(s,l)=>a.setItem(s,JSON.stringify(l,void 0)),removeItem:s=>a.removeItem(s)}}const Uv=e=>t=>{try{const a=e(t);return a instanceof Promise?a:{then(r){return Uv(r)(a)},catch(r){return this}}}catch(a){return{then(r){return this},catch(r){return Uv(r)(a)}}}},TL=(e,t)=>(a,r,s)=>{let l={storage:_L(()=>localStorage),partialize:b=>b,version:0,merge:(b,S)=>({...S,...b}),...t},c=!1;const d=new Set,m=new Set;let f=l.storage;if(!f)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),a(...b)},r,s);const h=()=>{const b=l.partialize({...r()});return f.setItem(l.name,{state:b,version:l.version})},g=s.setState;s.setState=(b,S)=>(g(b,S),h());const y=e((...b)=>(a(...b),h()),r,s);s.getInitialState=()=>y;let v;const j=()=>{var b,S;if(!f)return;c=!1,d.forEach(N=>{var A;return N((A=r())!=null?A:y)});const M=((S=l.onRehydrateStorage)==null?void 0:S.call(l,(b=r())!=null?b:y))||void 0;return Uv(f.getItem.bind(f))(l.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==l.version){if(l.migrate){const A=l.migrate(N.state,N.version);return A instanceof Promise?A.then(O=>[!0,O]):[!0,A]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var A;const[O,D]=N;if(v=l.merge(D,(A=r())!=null?A:y),a(v,!0),O)return h()}).then(()=>{M?.(v,void 0),v=r(),c=!0,m.forEach(N=>N(v))}).catch(N=>{M?.(void 0,N)})};return s.persist={setOptions:b=>{l={...l,...b},b.storage&&(f=b.storage)},clearStorage:()=>{f?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>j(),hasHydrated:()=>c,onHydrate:b=>(d.add(b),()=>{d.delete(b)}),onFinishHydration:b=>(m.add(b),()=>{m.delete(b)})},l.skipHydration||j(),v||y},AD=TL,Ll={oric:{id:"u-oric",name:"ORIC Officer",email:"oric@cecos.edu.pk",avatar:null,roles:["oric"],primaryRole:"oric",department:"ORIC",faculty:"Research"},finance:{id:"u-finance",name:"Finance Officer",email:"finance@cecos.edu.pk",avatar:null,roles:["finance"],primaryRole:"finance",department:"Finance",faculty:"Administration"},admin:{id:"u-admin",name:"System Administrator",email:"admin@cecos.edu.pk",avatar:null,roles:["admin"],primaryRole:"admin",department:null,faculty:null},hr:{id:"u-hr",name:"Sarah Khan",email:"hr@cecos.edu.pk",avatar:null,roles:["hr","employee"],primaryRole:"hr",department:"Human Resources",faculty:"Administration"},president:{id:"u-president",name:"University President",email:"president@cecos.edu.pk",avatar:null,roles:["president","employee"],primaryRole:"president",department:"Executive Office",faculty:null},dean:{id:"u-dean",name:"Prof. Fatima Ali",email:"dean.computing@cecos.edu.pk",avatar:null,roles:["dean","employee"],primaryRole:"dean",department:"CS",faculty:"Computing"},hod:{id:"u-hod",name:"Dr. Imran Shah",email:"hod.cs@cecos.edu.pk",avatar:null,roles:["hod","employee"],primaryRole:"hod",department:"CS",faculty:"Computing"},employee:{id:"e1",name:"Alice Smith",email:"alice@cecos.edu.pk",avatar:null,roles:["employee"],primaryRole:"employee",department:"CS",faculty:"Computing",designation:"Senior Lecturer",employeeCode:"EMP001"},demo:{id:"u-demo",name:"Demo User",email:"demo@cecos.edu.pk",avatar:null,roles:["employee","hr","president","dean","hod","admin"],primaryRole:"employee",department:"CS",faculty:"Computing"},vc:{id:"u-vc",name:"Vice Chancellor",email:"vc@cecos.edu.pk",password:"password",avatar:null,roles:["vc","employee"],primaryRole:"vc",department:"Executive Office",faculty:null}},P5={admin:100,president:95,vc:85,dean:70,hod:60,hr:50,employee:10},nu={admin:"/admin",president:"/president",vc:"/vc",dean:"/dean",hod:"/hod",hr:"/hr",employee:"/employee",finance:"/finance/dashboard",oric:"/oric"},Bl={admin:"Administrator",president:"President",vc:"Vice Chancellor",dean:"Dean",hod:"Head of Department",hr:"HR Manager",employee:"Employee",oric:"ORIC"},Qe=ND(AD((e,t)=>({user:null,activeRole:null,isAuthenticated:!1,login:(a,r)=>{const s=Object.keys(Ll).find(l=>Ll[l].email===a);if(s&&r){const l=Ll[s];return e({user:l,activeRole:l.primaryRole,isAuthenticated:!0}),{success:!0,user:l,redirectTo:nu[l.primaryRole]}}if(Ll[a.toLowerCase()]){const l=Ll[a.toLowerCase()];return e({user:l,activeRole:l.primaryRole,isAuthenticated:!0}),{success:!0,user:l,redirectTo:nu[l.primaryRole]}}return{success:!1,error:"Invalid credentials"}},loginAsRole:a=>{const r=Ll[a]||Ll.demo;return e({user:{...r,primaryRole:a},activeRole:a,isAuthenticated:!0}),a==="finance"?"/finance/dashboard":nu[a]||"/employee"},logout:()=>{e({user:null,activeRole:null,isAuthenticated:!1})},switchRole:a=>{const{user:r}=t();return r&&r.roles.includes(a)?(e({activeRole:a}),nu[a]):null},hasRole:a=>{const{user:r}=t();return r?.roles?.includes(a)||!1},isRole:a=>t().activeRole===a,canAccess:a=>{const{activeRole:r}=t();return r?P5[r]>=P5[a]:!1},getAvailableRoles:()=>{const{user:a}=t();return a?.roles||[]},updateProfile:a=>{e(r=>({user:r.user?{...r.user,...a}:null}))}}),{name:"hrms-auth",partialize:e=>({user:e.user,activeRole:e.activeRole,isAuthenticated:e.isAuthenticated})}));function hh({className:e="",variant:t="full",size:a="md"}){const r={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-12 w-12",xl:"h-16 w-16"};return t==="icon"?n.jsxs("svg",{className:`${r[a]} ${e}`,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M32 4L8 16V28C8 43.5 17.5 57 32 60C46.5 57 56 43.5 56 28V16L32 4Z",fill:"#0066CC"}),n.jsx("path",{d:"M32 4L8 16V28C8 43.5 17.5 57 32 60C46.5 57 56 43.5 56 28V16L32 4Z",stroke:"#003366",strokeWidth:"1.5"}),n.jsx("path",{d:"M38 24C38 19.5817 34.4183 16 30 16C25.5817 16 22 19.5817 22 24V40C22 44.4183 25.5817 48 30 48C34.4183 48 38 44.4183 38 40",stroke:"#FF9900",strokeWidth:"4",strokeLinecap:"round"}),n.jsx("circle",{cx:"30",cy:"32",r:"3",fill:"white"}),n.jsx("path",{d:"M40 28L48 26L40 24",stroke:"#FF9900",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M40 32L48 30L40 28",stroke:"#FF9900",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):n.jsxs("div",{className:`flex items-center gap-3 ${e}`,children:[n.jsxs("svg",{className:"h-12 w-12",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M32 4L8 16V28C8 43.5 17.5 57 32 60C46.5 57 56 43.5 56 28V16L32 4Z",fill:"#800020"}),n.jsx("path",{d:"M32 4L8 16V28C8 43.5 17.5 57 32 60C46.5 57 56 43.5 56 28V16L32 4Z",stroke:"#001F3F",strokeWidth:"1.5"}),n.jsx("path",{d:"M38 24C38 19.5817 34.4183 16 30 16C25.5817 16 22 19.5817 22 24V40C22 44.4183 25.5817 48 30 48C34.4183 48 38 44.4183 38 40",stroke:"#D4AF37",strokeWidth:"4",strokeLinecap:"round"}),n.jsx("circle",{cx:"30",cy:"32",r:"3",fill:"white"}),n.jsx("path",{d:"M40 28L48 26L40 24",stroke:"#D4AF37",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M40 32L48 30L40 28",stroke:"#D4AF37",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-xl font-bold text-[#800020] leading-tight",children:"CECOS"}),n.jsx("span",{className:"text-xs font-semibold text-[#001F3F] leading-tight",children:"University, Peshawar"})]})]})}function Cn({icon:e,type:t="text",value:a,onChange:r,name:s,id:l,placeholder:c,className:d="",inputClassName:m="",iconClassName:f="",disabled:h,autoComplete:g,required:y,onBlur:v,onFocus:j,"aria-label":b,children:S}){return n.jsxs("div",{className:`relative ${d}`,children:[e&&n.jsx(e,{className:`input-icon ${f}`}),n.jsx("input",{type:t,name:s,id:l,value:a,onChange:r,placeholder:c,disabled:h,autoComplete:g,required:y,onBlur:v,onFocus:j,"aria-label":b,className:`input-with-icon ${m}`}),S]})}function X({children:e,onClick:t,variant:a="primary",size:r="md",className:s="",type:l="button",disabled:c=!1}){const d="inline-flex items-center justify-center gap-2 rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",m={xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},f={primary:"bg-linear-to-r from-[hsl(var(--color-primary))] to-[hsl(var(--color-secondary))] text-white hover:shadow-lg hover:shadow-[hsl(var(--color-primary)/0.3)] border border-transparent",secondary:"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 hover:border-gray-300 shadow-xs",outline:"bg-transparent border border-[hsl(var(--color-primary))] text-[hsl(var(--color-primary))] hover:bg-[hsl(var(--color-primary)/0.05)]",danger:"bg-red-600 text-white hover:bg-red-700 shadow-sm hover:shadow-red-200",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 hover:text-gray-900",success:"bg-green-600 text-white hover:bg-green-700 shadow-sm"};return n.jsx("button",{type:l,className:`${d} ${m[r]||m.md} ${f[a]||f.primary} ${s}`,onClick:t,disabled:c,children:e})}function LL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const si=x.forwardRef(LL);function IL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Wt=x.forwardRef(IL);function zL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const CD=x.forwardRef(zL);function $L({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const wc=x.forwardRef($L);function BL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const lu=x.forwardRef(BL);function FL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const sj=x.forwardRef(FL);function UL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const xs=x.forwardRef(UL);function qL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const HL=x.forwardRef(qL);function VL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const pu=x.forwardRef(VL);function KL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}const ij=x.forwardRef(KL);function WL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const tr=x.forwardRef(WL);function YL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const GL=x.forwardRef(YL);function ZL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Zr=x.forwardRef(ZL);function XL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const qv=x.forwardRef(XL);function QL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"}))}const MD=x.forwardRef(QL);function JL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const Ql=x.forwardRef(JL);function e7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const Xe=x.forwardRef(e7);function t7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const DD=x.forwardRef(t7);function n7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const za=x.forwardRef(n7);function a7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"}))}const lj=x.forwardRef(a7);function r7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const oj=x.forwardRef(r7);function s7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"}))}const R5=x.forwardRef(s7);function i7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Le=x.forwardRef(i7);function l7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const o7=x.forwardRef(l7);function c7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const OD=x.forwardRef(c7);function d7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const u7=x.forwardRef(d7);function m7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const f7=x.forwardRef(m7);function h7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const _5=x.forwardRef(h7);function p7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const ii=x.forwardRef(p7);function x7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const gs=x.forwardRef(x7);function g7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Be=x.forwardRef(g7);function y7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const _r=x.forwardRef(y7);function v7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const nr=x.forwardRef(v7);function b7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const xu=x.forwardRef(b7);function j7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const li=x.forwardRef(j7);function w7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const ht=x.forwardRef(w7);function N7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Ar=x.forwardRef(N7);function S7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const ED=x.forwardRef(S7);function A7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const ph=x.forwardRef(A7);function C7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Jn=x.forwardRef(C7);function M7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const D7=x.forwardRef(M7);function O7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const cj=x.forwardRef(O7);function E7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const oo=x.forwardRef(E7);function k7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const zu=x.forwardRef(k7);function P7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const R7=x.forwardRef(P7);function _7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 3.75H6.912a2.25 2.25 0 0 0-2.15 1.588L2.35 13.177a2.25 2.25 0 0 0-.1.661V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 0 0-2.15-1.588H15M2.25 13.5h3.86a2.25 2.25 0 0 1 2.012 1.244l.256.512a2.25 2.25 0 0 0 2.013 1.244h3.218a2.25 2.25 0 0 0 2.013-1.244l.256-.512a2.25 2.25 0 0 1 2.013-1.244h3.859M12 3v8.25m0 0-3-3m3 3 3-3"}))}const T7=x.forwardRef(_7);function L7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const au=x.forwardRef(L7);function I7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const z7=x.forwardRef(I7);function $7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const B7=x.forwardRef($7);function F7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"}))}const T5=x.forwardRef(F7);function U7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const vp=x.forwardRef(U7);function q7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const kD=x.forwardRef(q7);function H7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const V7=x.forwardRef(H7);function K7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const oi=x.forwardRef(K7);function W7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const Y7=x.forwardRef(W7);function G7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 14.25 6-6m4.5-3.493V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185ZM9.75 9h.008v.008H9.75V9Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm4.125 4.5h.008v.008h-.008V13.5Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Z7=x.forwardRef(G7);function X7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))}const L5=x.forwardRef(X7);function Q7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const ci=x.forwardRef(Q7);function J7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const dj=x.forwardRef(J7);function e8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const bp=x.forwardRef(e8);function t8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Mr=x.forwardRef(t8);function n8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const us=x.forwardRef(n8);function a8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M22 10.5h-6m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM4 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 10.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const PD=x.forwardRef(a8);function r8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const xh=x.forwardRef(r8);function s8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const $u=x.forwardRef(s8);function i8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const en=x.forwardRef(i8);function l8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Tt=x.forwardRef(l8);function o8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const jp=x.forwardRef(o8),c8={employee:$u,hr:us,dean:si,hod:Ql,president:qv,vc:qv,admin:_r,finance:tr,oric:z7};function d8(){const e=aj(),t=GT(),[a,r]=x.useState(""),[s,l]=x.useState(""),[c,d]=x.useState(!1),[m,f]=x.useState(""),[h,g]=x.useState(!1),{login:y,loginAsRole:v}=Qe(),j=t.state?.from?.pathname||null,b=async M=>{M.preventDefault(),f(""),g(!0),await new Promise(A=>setTimeout(A,500));const N=y(a,s);N.success?e(j||N.redirectTo,{replace:!0}):f(N.error||"Invalid credentials"),g(!1)},S=async M=>{g(!0),await new Promise(A=>setTimeout(A,300));const N=v(M);e(N,{replace:!0}),g(!1)};return n.jsxs("div",{className:"min-h-screen flex",children:[n.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-linear-to-br from-[hsl(var(--cecos-maroon))] via-[hsl(var(--cecos-navy))] to-[hsl(345,100%,15%)]"}),n.jsxs("div",{className:"absolute inset-0 opacity-10",children:[n.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-white rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-[hsl(var(--cecos-gold))] rounded-full blur-3xl"})]}),n.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-12 xl:px-20 text-white",children:[n.jsx("div",{className:"mb-8",children:n.jsx(hh,{variant:"full",size:"xl",className:"text-white"})}),n.jsxs("h1",{className:"text-4xl xl:text-5xl font-bold mb-4 leading-tight",children:["Human Resource",n.jsx("br",{}),"Management System"]}),n.jsx("p",{className:"text-lg text-blue-100/80 max-w-md",children:"Streamline your HR operations with our comprehensive management platform. Manage employees, track attendance, process leaves, and handle payroll efficiently."}),n.jsxs("div",{className:"mt-12 grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"glass-dark rounded-xl p-4",children:[n.jsx("p",{className:"text-3xl font-bold text-white",children:"500+"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Employees"})]}),n.jsxs("div",{className:"glass-dark rounded-xl p-4",children:[n.jsx("p",{className:"text-3xl font-bold text-white",children:"6"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Faculties"})]}),n.jsxs("div",{className:"glass-dark rounded-xl p-4",children:[n.jsx("p",{className:"text-3xl font-bold text-white",children:"24"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Departments"})]}),n.jsxs("div",{className:"glass-dark rounded-xl p-4",children:[n.jsx("p",{className:"text-3xl font-bold text-white",children:"99%"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Uptime"})]})]})]})]}),n.jsx("div",{className:"flex-1 flex items-center justify-center p-6 sm:p-12 bg-gray-50",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"lg:hidden text-center mb-8",children:[n.jsx(hh,{variant:"full",size:"lg"}),n.jsx("p",{className:"mt-2 text-gray-500",children:"Human Resource Management System"})]}),n.jsxs("div",{className:"glass rounded-2xl p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Welcome Back"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Sign in to access your portal"})]}),n.jsxs("form",{onSubmit:b,className:"space-y-5",children:[m&&n.jsx("div",{className:"p-3 rounded-lg bg-red-50 border border-red-200 text-red-700 text-sm",children:m}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email Address"}),n.jsx(Cn,{type:"email",value:a,onChange:M=>r(M.target.value),placeholder:"you@cecos.edu.pk",inputClassName:"pr-4 py-2.5",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Password"}),n.jsx(Cn,{type:c?"text":"password",value:s,onChange:M=>l(M.target.value),placeholder:"",inputClassName:"pr-12 py-2.5",required:!0,children:n.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?n.jsx(D7,{className:"w-5 h-5"}):n.jsx(cj,{className:"w-5 h-5"})})})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-[hsl(var(--cecos-maroon))]"}),n.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),n.jsx("a",{href:"#",className:"text-[hsl(var(--cecos-maroon))] hover:underline",children:"Forgot password?"})]}),n.jsx(X,{type:"submit",className:"w-full py-2.5",disabled:h,children:h?n.jsxs("span",{className:"flex items-center justify-center gap-2",children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):n.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Sign In",n.jsx(lu,{className:"w-4 h-4"})]})})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-200"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-4 bg-gray-50 text-gray-500",children:"Demo Quick Access"})})]}),n.jsx("div",{className:"mt-6 grid grid-cols-2 sm:grid-cols-3 gap-3",children:["employee","hr","hod","dean","president","vc","admin","finance","oric"].map(M=>{const N=c8[M];return n.jsxs("button",{onClick:()=>S(M),disabled:h,className:"flex flex-col items-center gap-2 p-4 rounded-xl border border-gray-200 bg-white hover:border-[hsl(var(--cecos-maroon))] hover:shadow-md transition-all group disabled:opacity-50",children:[n.jsx("div",{className:"p-2 rounded-lg bg-gray-100 group-hover:bg-[hsl(var(--cecos-maroon)/0.1)] transition-colors",children:n.jsx(N,{className:"w-5 h-5 text-gray-600 group-hover:text-[hsl(var(--cecos-maroon))]"})}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:M==="finance"?"Finance":M==="oric"?"ORIC":Bl[M]})]},M)})}),n.jsx("p",{className:"mt-4 text-center text-xs text-gray-400",children:"Click any role above for instant demo access"})]})]})})]})}function u8(){return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-20 h-20 rounded-full bg-red-100 flex items-center justify-center",children:n.jsx(Jn,{className:"w-12 h-12 text-red-600"})})}),n.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Page Not Found"}),n.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"The page you're looking for doesn't exist or has been moved."}),n.jsx(fn,{to:"/",children:n.jsxs(X,{className:"inline-flex items-center gap-2",children:[n.jsx(zu,{className:"w-5 h-5"}),"Back to Home"]})})]})})}function yi({portalKey:e,portalName:t,navItems:a=[],switchableRoles:r=[],children:s}){const l=aj(),[c,d]=x.useState(!1),[m,f]=x.useState(!1),{user:h,activeRole:g,logout:y,switchRole:v,getAvailableRoles:j}=Qe(),b=j().filter(N=>N!==g),S=()=>{y(),l("/login")},M=N=>{const A=v(N);A&&l(A),f(!1)};return n.jsxs("div",{"data-portal":e,className:"min-h-screen flex flex-col lg:flex-row bg-gray-50",children:[n.jsxs("aside",{className:"hidden lg:flex flex-col w-72 glass-dark fixed inset-y-0 left-0 z-30",children:[n.jsx("div",{className:"p-6 border-b border-white/10",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(hh,{variant:"icon",size:"md"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg font-bold text-white tracking-tight",children:t}),n.jsx("p",{className:"text-xs text-blue-200/80",children:"CECOS University"})]})]})}),n.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:a.map(({path:N,label:A,icon:O,end:D})=>n.jsxs(A5,{to:N,end:D,className:({isActive:k})=>`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 ${k?"bg-linear-to-r from-[hsl(var(--color-primary))] to-[hsl(var(--color-secondary))] text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[n.jsx(O,{className:"w-5 h-5 shrink-0"}),n.jsx("span",{children:A})]},N))}),n.jsxs("div",{className:"p-4 border-t border-white/10 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-linear-to-br from-[hsl(var(--color-primary))] to-[hsl(var(--color-secondary))] flex items-center justify-center text-white font-bold",children:h?.name?.charAt(0)||"U"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-white truncate",children:h?.name}),n.jsx("p",{className:"text-xs text-gray-400 truncate",children:Bl[g]})]})]}),b.length>0&&n.jsxs("div",{className:"px-2",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2 px-2",children:"Switch Role"}),b.map(N=>n.jsxs("button",{onClick:()=>M(N),className:"w-full flex items-center gap-3 px-4 py-2 rounded-lg text-sm text-gray-400 hover:text-white hover:bg-white/5 transition-all",children:[n.jsx(Mr,{className:"w-4 h-4"}),n.jsx("span",{children:Bl[N]})]},N))]}),n.jsxs("button",{onClick:S,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-all",children:[n.jsx(wc,{className:"w-5 h-5"}),n.jsx("span",{children:"Logout"})]})]})]}),n.jsxs("main",{className:"flex-1 lg:ml-72 flex flex-col min-h-screen",children:[n.jsxs("header",{className:"hidden lg:flex glass sticky top-0 z-20 px-8 py-4 items-center justify-between border-b border-gray-200/50",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Welcome back, ",h?.name?.split(" ")[0]]}),n.jsx("p",{className:"text-sm text-gray-500",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[n.jsx(Zr,{className:"w-6 h-6 text-gray-600"}),n.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>f(!m),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-linear-to-br from-[hsl(var(--color-primary))] to-[hsl(var(--color-secondary))] flex items-center justify-center text-white text-sm font-bold",children:h?.name?.charAt(0)||"U"}),n.jsx(OD,{className:"w-4 h-4 text-gray-600"})]}),m&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>f(!1)}),n.jsxs("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white shadow-lg ring-1 ring-black/5 z-20 py-2",children:[n.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:h?.name}),n.jsx("p",{className:"text-xs text-gray-500",children:h?.email})]}),b.length>0&&n.jsxs("div",{className:"py-2 border-b border-gray-100",children:[n.jsx("p",{className:"px-4 py-1 text-xs text-gray-400 uppercase",children:"Switch Role"}),b.map(N=>n.jsx("button",{onClick:()=>M(N),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50",children:Bl[N]},N))]}),n.jsx("button",{onClick:S,className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50",children:"Sign out"})]})]})]})]})]}),n.jsxs("header",{className:"lg:hidden glass sticky top-0 z-30 px-4 py-3 flex items-center justify-between border-b border-gray-200/50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(hh,{variant:"icon",size:"sm"}),n.jsx("span",{className:"font-bold text-gray-900",children:t})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100",children:[n.jsx(Zr,{className:"w-5 h-5 text-gray-600"}),n.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),n.jsx("button",{onClick:()=>d(!0),className:"p-2 rounded-lg hover:bg-gray-100",children:n.jsx(GL,{className:"w-6 h-6 text-gray-700"})})]})]}),c&&n.jsxs("div",{className:"lg:hidden fixed inset-0 z-50",children:[n.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>d(!1)}),n.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-80 max-w-[85vw] glass-dark",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-linear-to-br from-[hsl(var(--color-primary))] to-[hsl(var(--color-secondary))] flex items-center justify-center text-white font-bold",children:h?.name?.charAt(0)||"U"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-white",children:h?.name}),n.jsx("p",{className:"text-xs text-gray-400",children:Bl[g]})]})]}),n.jsx("button",{onClick:()=>d(!1),className:"p-2 text-gray-400",children:n.jsx(jp,{className:"w-6 h-6"})})]}),n.jsx("nav",{className:"p-4 space-y-1",children:a.map(({path:N,label:A,icon:O,end:D})=>n.jsxs(A5,{to:N,end:D,onClick:()=>d(!1),className:({isActive:k})=>`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all ${k?"bg-linear-to-r from-[hsl(var(--color-primary))] to-[hsl(var(--color-secondary))] text-white":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[n.jsx(O,{className:"w-5 h-5"}),n.jsx("span",{children:A})]},N))}),b.length>0&&n.jsxs("div",{className:"px-4 py-2 border-t border-white/10",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2 px-2",children:"Switch Role"}),b.map(N=>n.jsxs("button",{onClick:()=>{M(N),d(!1)},className:"w-full flex items-center gap-3 px-4 py-2 rounded-lg text-sm text-gray-400 hover:text-white hover:bg-white/5",children:[n.jsx(Mr,{className:"w-4 h-4"}),n.jsx("span",{children:Bl[N]})]},N))]}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-white/10",children:n.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl text-sm font-medium text-red-400 hover:bg-red-500/10",children:[n.jsx(wc,{className:"w-5 h-5"}),n.jsx("span",{children:"Logout"})]})})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8",children:n.jsx("div",{className:"max-w-7xl mx-auto animate-fade-in",children:s||n.jsx(wD,{})})})]})]})}const m8=[{path:"/admin",label:"Dashboard",icon:zu,end:!0},{path:"/admin/users",label:"User Management",icon:en},{path:"/admin/settings",label:"System Settings",icon:_r},{path:"/admin/audit",label:"Audit Logs",icon:gs}];function f8(){return n.jsx(yi,{portalKey:"admin",portalName:"Admin Portal",navItems:m8})}function h8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v16.19l6.22-6.22a.75.75 0 1 1 1.06 1.06l-7.5 7.5a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 1 1 1.06-1.06l6.22 6.22V3a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const p8=x.forwardRef(h8);function x8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{fillRule:"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06l-6.22-6.22V21a.75.75 0 0 1-1.5 0V4.81l-6.22 6.22a.75.75 0 1 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const g8=x.forwardRef(x8);function St({title:e,value:t,subtitle:a,icon:r,iconBg:s,color:l="default",trend:c,trendValue:d,trendLabel:m="vs last month",onClick:f,className:h=""}){const g={primary:"bg-[hsl(var(--color-primary))]",success:"bg-green-500",warning:"bg-amber-500",danger:"bg-red-500",default:"bg-blue-500",info:"bg-blue-500"},y=c>0||d&&d.startsWith("+"),v=c!==void 0||d,j=s||g[l]||g.default;return n.jsx("div",{className:`glass rounded-2xl p-4 sm:p-6 card-hover ${f?"cursor-pointer":""} ${h}`,onClick:f,children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500 mb-1 truncate",children:e}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 tracking-tight truncate",children:t}),a&&n.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1 truncate",children:a}),v&&n.jsxs("div",{className:"flex items-center gap-1 mt-2 sm:mt-3 flex-wrap",children:[n.jsxs("span",{className:`inline-flex items-center gap-0.5 text-xs font-medium px-2 py-0.5 rounded-full ${y?"text-green-700 bg-green-100":"text-red-700 bg-red-100"}`,children:[y?n.jsx(g8,{className:"w-3 h-3"}):n.jsx(p8,{className:"w-3 h-3"}),d||`${Math.abs(c)}%`]}),n.jsx("span",{className:"text-xs text-gray-400",children:m})]})]}),r&&n.jsx("div",{className:`p-2 sm:p-3 rounded-xl ${j} text-white shadow-lg shrink-0`,children:n.jsx(r,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})})}function K({title:e,subtitle:t,children:a,actions:r,className:s="",noPadding:l=!1}){return n.jsxs("div",{className:`glass rounded-2xl ${l?"":"p-4 sm:p-6"} card-hover ${s}`,children:[(e||r)&&n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4 sm:mb-6",children:[n.jsxs("div",{children:[e&&n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 tracking-tight",children:e}),t&&n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t})]}),r&&n.jsx("div",{className:"flex gap-2 sm:gap-3 flex-wrap",children:r})]}),n.jsx("div",{className:"text-gray-700",children:a})]})}const $e=new Date,Gt=e=>`${e}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,y8=(e,t=6)=>{const a=ue(e),r=os(a,t*30);return q(r,"yyyy-MM-dd")},v8=e=>{if(!e)return{eligible:!1,reason:"Employee not found"};if(e.gender?.toLowerCase()!=="female")return{eligible:!1,reason:"Maternity leave is only available for female employees"};if(e.employmentStatus==="probation"){const t=e.probationEndDate;return t?{eligible:!1,reason:`You are currently on probation. Maternity leave will be available after probation ends on ${q(ue(t),"MMM d, yyyy")}`}:{eligible:!1,reason:"Maternity leave is not available during probation period. Only confirmed employees can apply."}}return{eligible:!0,reason:"Employee is eligible for maternity leave"}},b8=(e,t=q($e,"yyyy-MM-dd"))=>{if(!e)return{valid:!1,daysInAdvance:0,minRequired:60,reason:"Expected delivery date is required for maternity leave application"};const r=Gr(ue(e),ue(t));return r<60?{valid:!1,daysInAdvance:r,minRequired:60,reason:`Maternity leave requires at least 60 days advance notice. You have only ${r} days.`}:{valid:!0,daysInAdvance:r,minRequired:60,reason:`Valid application with ${r} days advance notice`}},ms={Computing:["CS","IT","SE","AI"],Engineering:["EE","ME","CE","CH"],Management:["BBA","MBA","HRM","Finance"],Sciences:["Physics","Chemistry","Mathematics","Biology"]},I5=Object.values(ms).flat(),j8=["Professor","Associate Professor","Assistant Professor","Senior Lecturer","Lecturer","Lab Engineer","Research Assistant","Administrative Officer","HR Manager","Registrar","Dean","HOD"],w8={"Research Assistant":"Lecturer",Lecturer:"Senior Lecturer","Senior Lecturer":"Assistant Professor","Assistant Professor":"Associate Professor","Associate Professor":"Professor","Lab Engineer":"Senior Lab Engineer","Administrative Officer":"Senior Administrative Officer"},Ys=[{id:"annual",name:"Annual Leave",days:30,color:"blue"},{id:"sick",name:"Sick Leave",days:10,color:"red"},{id:"casual",name:"Casual Leave",days:10,color:"purple"},{id:"maternity",name:"Maternity Leave",days:90,color:"pink",requiresDocuments:!1,genderRestriction:"female"},{id:"medical",name:"Medical Leave",days:30,color:"teal",requiresDocuments:!0,approvalFlow:["hod","vc","president"]},{id:"unpaid",name:"Unpaid Leave",days:0,color:"gray"}],N8=[{id:"marriage",name:"Marriage Leave",days:3,color:"green"},{id:"hajj",name:"Hajj Leave",days:30,color:"indigo"},{id:"umrah",name:"Umrah Leave",days:14,color:"indigo"},{id:"msphd",name:"MS/PhD Study Leave",days:60,color:"orange"},{id:"other",name:"Other Complementary Leave",days:5,color:"gray"}],Tf=[{id:"applied",name:"Applied"},{id:"screening",name:"Screening"},{id:"shortlisted",name:"Shortlisted"},{id:"technical",name:"Technical Interview"},{id:"panel",name:"Panel"},{id:"selection_board",name:"Selection Board"},{id:"offer",name:"Offer"},{id:"hired",name:"Hired"},{id:"rejected",name:"Rejected"}],lh={defaultMembers:["hod","dean","hr"],requiredApprovals:2,checklist:["Qualification verification","Experience validation","Salary fitment and grade check","Reference check initiated"]},S8=[{id:"reason",question:"Primary reason for leaving",type:"select",options:["Better Opportunity","Personal Reasons","Relocation","Health Issues","Career Change","Retirement","Higher Studies","Other"]},{id:"satisfaction",question:"Overall job satisfaction (1-5)",type:"rating"},{id:"management",question:"Management satisfaction (1-5)",type:"rating"},{id:"workEnvironment",question:"Work environment satisfaction (1-5)",type:"rating"},{id:"growth",question:"Career growth opportunities (1-5)",type:"rating"},{id:"wouldRecommend",question:"Would you recommend CECOS to others?",type:"boolean"},{id:"wouldReturn",question:"Would you consider returning in the future?",type:"boolean"},{id:"feedback",question:"Additional feedback or suggestions",type:"textarea"}],A8=[{id:"e1",code:"EMP001",name:"Alice Smith",email:"alice@cecos.edu.pk",phone:"+92-321-1234567",gender:"female",department:"CS",faculty:"Computing",designation:"Senior Lecturer",joinDate:"2022-06-01",employmentStatus:"confirmed",status:"Active",salaryBase:12e4,bankAccount:"HBL-123456789",cnic:"17301-1234567-1",address:"123 University Road, Peshawar",emergencyContact:"+92-321-9876543",leaveBalance:{annual:18,sick:8,casual:8,medical:30},dependents:[],qualifications:[],publications:[]},{id:"e2",code:"EMP002",name:"Bob Ahmed",email:"bob@cecos.edu.pk",phone:"+92-333-2345678",gender:"male",department:"HRM",faculty:"Management",designation:"HR Manager",joinDate:"2021-07-15",employmentStatus:"confirmed",status:"Active",salaryBase:15e4,bankAccount:"MCB-987654321",cnic:"17301-2345678-2",address:"456 Hayatabad, Peshawar",emergencyContact:"+92-333-8765432",leaveBalance:{annual:20,sick:10,casual:10,medical:30},dependents:[],qualifications:[],publications:[]},{id:"e3",code:"EMP003",name:"Dr. Diana Prince",email:"diana@cecos.edu.pk",phone:"+92-300-3456789",gender:"female",department:"BBA",faculty:"Management",designation:"Associate Professor",joinDate:"2020-08-01",employmentStatus:"confirmed",status:"Active",salaryBase:2e5,bankAccount:"UBL-456789123",cnic:"17301-3456789-3",address:"789 University Town, Peshawar",emergencyContact:"+92-300-9876543",leaveBalance:{annual:15,sick:8,casual:5,medical:30},dependents:[],qualifications:[],publications:[]},{id:"e4",code:"EMP004",name:"Prof. Rashid Ali",email:"rashid@cecos.edu.pk",phone:"+92-311-4567890",gender:"male",department:"CS",faculty:"Computing",designation:"Professor",joinDate:"2019-01-10",employmentStatus:"confirmed",status:"Active",salaryBase:25e4,bankAccount:"ABL-321654987",cnic:"17301-4567890-4",address:"101 Saddar, Peshawar",emergencyContact:"+92-311-6543210",leaveBalance:{annual:5,sick:12,casual:4,medical:30},dependents:[],qualifications:[],publications:[]},{id:"e5",code:"EMP005",name:"Eng. Faraz Khan",email:"faraz@cecos.edu.pk",phone:"+92-322-5678901",gender:"male",department:"EE",faculty:"Engineering",designation:"Lab Engineer",joinDate:"2023-03-15",employmentStatus:"probation",probationEndDate:"2023-09-15",status:"Active",salaryBase:8e4,bankAccount:"HBL-789456123",cnic:"17301-5678901-5",address:"202 Cantt, Peshawar",emergencyContact:"+92-300-1098765",leaveBalance:{annual:20,sick:12,casual:10,medical:30},dependents:[],qualifications:[],publications:[]},{id:"e6",code:"EMP006",name:"Sana Malik",email:"sana@cecos.edu.pk",phone:"+92-333-6789012",gender:"female",department:"Physics",faculty:"Sciences",designation:"Lecturer",joinDate:"2024-01-20",employmentStatus:"probation",probationEndDate:"2024-07-20",status:"Active",salaryBase:9e4,bankAccount:"MCB-654987321",cnic:"17301-6789012-6",address:"303 Cantt, Peshawar",emergencyContact:"+92-322-2109876",leaveBalance:{annual:20,sick:12,casual:10,medical:30},dependents:[],qualifications:[],publications:[]}],Hv=A8.map((e,t)=>{const a=e.joinDate||q($e,"yyyy-MM-dd"),r=e.salaryBase||0,s=[{id:Gt("sal"),type:"base",amount:r,previousAmount:null,reason:"Joining salary",effectiveDate:a,reference:"joining",createdAt:a}],l=[{id:Gt("life"),type:"joining",title:"Joining",effectiveDate:a,meta:{designation:e.designation,salary:r},createdAt:a}];return{...e,salaryBase:r,salaryHistory:e.salaryHistory||s,lifecycle:e.lifecycle||l,contract:e.contract||{status:"active",startDate:a,endDate:e.contractEndDate||null,renewals:[]},version:e.version||1,lastUpdated:e.lastUpdated||a}});function z5(){const e=[],t=["Present","Present","Present","Late","Absent"];return Hv.forEach(a=>{for(let r=0;r<30;r++){const s=q(nt($e,r),"yyyy-MM-dd"),l=nt($e,r).getDay();if(l===0||l===6)continue;const c=t[Math.floor(Math.random()*t.length)],d=c==="Absent"?null:`08:${15+Math.floor(Math.random()*30)}`,m=c==="Absent"?null:`17:${45+Math.floor(Math.random()*15)}`;e.push({id:`att-${a.id}-${s}`,employeeId:a.id,date:s,clockIn:d,clockOut:m,status:c,workHours:c==="Absent"?0:8+Math.random()})}}),e}const $5=[{id:"l1",employeeId:"e1",employeeName:"Alice Smith",department:"CS",faculty:"Computing",type:"annual",startDate:q(nt($e,5),"yyyy-MM-dd"),endDate:q(nt($e,3),"yyyy-MM-dd"),days:3,reason:"Family vacation",status:"Approved",appliedOn:q(nt($e,10),"yyyy-MM-dd"),reviewedBy:"Dr. HOD",reviewedOn:q(nt($e,8),"yyyy-MM-dd"),paidDays:null,unpaidDays:null,leaveCategory:null,approvalChain:[{role:"hod",status:"approved",by:"Dr. HOD",date:q(nt($e,8),"yyyy-MM-dd"),comment:null},{role:"dean",status:"approved",by:"Prof. Dean",date:q(nt($e,7),"yyyy-MM-dd"),comment:null},{role:"hr",status:"approved",by:"HR Manager",date:q(nt($e,6),"yyyy-MM-dd"),comment:null}]},{id:"l2",employeeId:"e3",employeeName:"Dr. Diana Prince",department:"BBA",faculty:"Management",type:"medical",startDate:q(nt($e,12),"yyyy-MM-dd"),endDate:q(nt($e,8),"yyyy-MM-dd"),days:5,reason:"Medical procedure",status:"Approved",appliedOn:q(nt($e,15),"yyyy-MM-dd"),reviewedBy:"President",reviewedOn:q(nt($e,5),"yyyy-MM-dd"),paidDays:3,unpaidDays:2,leaveCategory:"medical",documents:[{id:"doc1",name:"Medical Certificate.pdf",file:"/mock/medical-cert.pdf",size:125e3,uploadedAt:q(nt($e,15),"yyyy-MM-dd")}],approvalChain:[{role:"hod",status:"approved",by:"Dr. HOD",date:q(nt($e,14),"yyyy-MM-dd"),comment:"Medical documents verified"},{role:"vc",status:"approved",by:"Vice Chancellor",date:q(nt($e,10),"yyyy-MM-dd"),comment:"Recommended for approval"},{role:"president",status:"approved",by:"President",date:q(nt($e,5),"yyyy-MM-dd"),comment:"Approved",paidDays:3,unpaidDays:2,leaveCategory:"medical"}]},{id:"l3",employeeId:"e4",employeeName:"Prof. Rashid Ali",department:"CS",faculty:"Computing",type:"sick",startDate:q(nt($e,4),"yyyy-MM-dd"),endDate:q(nt($e,2),"yyyy-MM-dd"),days:3,reason:"Flu",status:"Pending",appliedOn:q(nt($e,5),"yyyy-MM-dd"),paidDays:null,unpaidDays:null,leaveCategory:null,approvalChain:[{role:"hod",status:"pending",by:null,date:null,comment:null},{role:"dean",status:"pending",by:null,date:null,comment:null},{role:"hr",status:"pending",by:null,date:null,comment:null}]}],B5=[],F5=[{id:"n1",userId:"all",title:"System Maintenance",message:"The HR system will be under maintenance on Saturday 10 PM - 2 AM",type:"info",read:!1,createdAt:q(nt($e,1),"yyyy-MM-dd HH:mm")},{id:"n2",userId:"e1",title:"Leave Approved",message:"Your leave request has been forwarded to Dean",type:"success",read:!1,createdAt:q($e,"yyyy-MM-dd HH:mm")}],U5=[{id:"pr1",employeeId:"e1",employeeName:"Alice Smith",department:"CS",faculty:"Computing",currentDesignation:"Senior Lecturer",requestedDesignation:"Assistant Professor",justification:"Completed PhD and published 5 research papers in reputed journals",status:"Pending",appliedOn:q(nt($e,10),"yyyy-MM-dd"),supportingDocuments:["PhD Certificate","Research Publications"],committeeReview:null,hrDecision:null}],q5=[{id:"r1",employeeId:"e1",employeeName:"Alice Smith",department:"CS",faculty:"Computing",noticeDate:q(nt($e,45),"yyyy-MM-dd"),lastWorkingDate:q(nt($e,15),"yyyy-MM-dd"),reason:"Better opportunity",status:"Pending",handoverStatus:"in-progress",exitInterview:null,exitDocuments:[],exitSurvey:null}],H5=[{id:Gt("pams"),category:"faculty",employeeId:"e1",employeeName:"Alice Smith",department:"CS",faculty:"Computing",period:"2025-Q3",status:"submitted",workload:{teachingLoad:"3 courses across 2 sections; labs included with prep and grading.",projectSupervision:"2 FYP teams supervised; co-supervision with clear role split.",advisory:"Advisor for CS-21 batch (~50 students).",admin:"Exam coordinator (weekly) plus QEC focal (biweekly)."},rubric:{teaching:"SETE strong; course files updated; 100% syllabus coverage.",research:"2 W-category publications; 1 grant proposal submitted to HEC.",service:"Seminar series coordination; curriculum review committee member."},grievance:"",attachments:[{id:Gt("doc"),name:"Workload Form.pdf",type:"workload",url:"#"}],submittedAt:q(nt($e,5),"yyyy-MM-dd"),hodReview:{status:"pending",comment:null,meetingDate:null,decidedAt:null},vcReview:{status:"pending",comment:null,decidedAt:null},history:[{action:"submitted",by:"employee",at:q(nt($e,5),"yyyy-MM-dd")}]},{id:Gt("pams"),category:"hod",employeeId:"u-hod",employeeName:"Dr. Imran Shah",department:"CS",faculty:"Computing",period:"2025-Q3",status:"dean-review",workload:{teachingLoad:"Led department teaching plan; taught 1 course to CS-21.",projectSupervision:"Oversaw FYP panel distribution; co-supervised 1 project.",advisory:"Advised faculty on curriculum mapping; weekly office hours.",admin:"Department budgeting, QEC liaison, hiring coordination."},rubric:{teaching:"Reviewed course files; ensured accreditation compliance.",research:"1 grant submitted; 1 journal paper under review.",service:"Chaired curriculum committee; external outreach to industry."},grievance:"",attachments:[],submittedAt:q(nt($e,6),"yyyy-MM-dd"),hodReview:null,deanReview:{status:"pending",comment:null,meetingDate:null,decidedAt:null},history:[{action:"submitted",by:"hod",at:q(nt($e,6),"yyyy-MM-dd")}]}],V5=[{id:"alum1",employeeId:"ex-e10",name:"Dr. Salman Khan",email:"salman.khan@alumni.cecos.edu.pk",department:"CS",faculty:"Computing",designation:"Associate Professor",joinDate:q(nt($e,8*365),"yyyy-MM-dd"),exitDate:q(nt($e,180),"yyyy-MM-dd"),yearsOfService:8,exitReason:"Better Opportunity",exitInterview:null,exitDocuments:[],publications:[],exitSurvey:{reason:"Better Opportunity",satisfaction:4,management:4,workEnvironment:4,growth:3,wouldRecommend:!0,wouldReturn:!0,feedback:"Great institution, wonderful colleagues. Left for a senior position abroad."}},{id:"alum2",employeeId:"ex-e11",name:"Prof. Amina Bibi",email:"amina.bibi@outlook.com",department:"Chemistry",faculty:"Sciences",designation:"Professor",joinDate:"2010-03-15",exitDate:q(nt($e,365),"yyyy-MM-dd"),yearsOfService:14,exitReason:"Retirement",exitInterview:null,exitDocuments:[],publications:[],exitSurvey:{reason:"Retirement",satisfaction:5,management:5,workEnvironment:5,growth:4,wouldRecommend:!0,wouldReturn:!1,feedback:"Wonderful career at CECOS. Will cherish the memories forever."}}],K5=[{id:"ann1",title:"Eid Holidays Schedule",message:"CECOS University will remain closed from June 28 to July 3 for Eid ul Adha. Wishing everyone a blessed Eid!",priority:"high",targetAudience:"all",createdBy:"HR Department",createdAt:q(nt($e,2),"yyyy-MM-dd HH:mm"),expiresAt:q(os($e,10),"yyyy-MM-dd"),isActive:!0},{id:"ann2",title:"Faculty Meeting Notice",message:"All faculty members are requested to attend the quarterly meeting on Friday at 2:00 PM in the main auditorium.",priority:"medium",targetAudience:"faculty",department:null,createdBy:"HR Department",createdAt:q(nt($e,1),"yyyy-MM-dd HH:mm"),expiresAt:q(os($e,5),"yyyy-MM-dd"),isActive:!0}],W5=[{id:Gt("prv"),employeeId:"e1",period:"2025-Q2",reviewer:"HOD CS",rating:4.2,kpis:{teaching:4.5,research:4,service:4,punctuality:4.3},comments:"Consistent performance; published 2 papers.",date:q(nt($e,90),"yyyy-MM-dd")},{id:Gt("prv"),employeeId:"e3",period:"2025-Q2",reviewer:"Dean Management",rating:4.6,kpis:{teaching:4.8,research:4.7,service:4.2,punctuality:4.4},comments:"Strong research output and mentorship.",date:q(nt($e,88),"yyyy-MM-dd")}],Y5=[],G5=[],z0=[{id:"cand1",name:"Adeel Rahman",email:"adeel.rahman@example.com",phone:"+92-300-1111111",department:"CS",role:"Assistant Professor",stage:"shortlisted",source:"LinkedIn",appliedOn:q(nt($e,7),"yyyy-MM-dd"),resumeUrl:"https://drive.google.com/file/d/abc123",documents:[{id:"doc1",name:"CV.pdf",url:"https://drive.google.com/file/d/abc123",type:"resume",version:1,storage:"google-drive"}],evaluations:[{stage:"screening",by:"HR Manager",score:7.5,notes:"Meets minimum criteria",date:q(nt($e,6),"yyyy-MM-dd")},{stage:"technical",by:"CS HOD",score:8.2,notes:"Good research portfolio and teaching demos",date:q(nt($e,3),"yyyy-MM-dd")}],selectionBoard:{status:"pending",members:["hod","dean","hr"],approvals:[],checklist:lh.checklist},status:"In Progress"}],$0=[{id:"doc-global-policy",title:"HR Policy Handbook",owner:"HR",type:"policy",version:3,storage:"google-drive",link:"https://drive.google.com/file/d/policy123",lastUpdated:q(nt($e,15),"yyyy-MM-dd"),access:"org",tags:["policy","handbook"]}],Lf={workingDays:22,allowanceConfig:{housePercent:45,medicalPercent:10,transportFixed:5e3},deductionConfig:{latePenalty:500,absentPenaltyType:"daily_rate",absentPenaltyValue:0,taxThreshold:1e5,taxRate:5},overtimeRate:1.5,operationalConfig:{overtimeWarningHours:40,expiryHorizonDays:30}},Z5=[],lc=(e,t)=>{const a=[...e.lifecycle||[],{...t,id:Gt("life")}];return{...e,lifecycle:a,version:(e.version||1)+1,lastUpdated:t.effectiveDate||q($e,"yyyy-MM-dd")}},Vd=(e,t)=>{const a=t.effectiveDate||q($e,"yyyy-MM-dd"),r=[...e.salaryHistory||[],{id:Gt("sal"),previousAmount:e.salaryBase||0,amount:t.amount,type:t.type||"adjustment",reason:t.reason||"Salary update",effectiveDate:a,reference:t.reference||null,createdAt:q($e,"yyyy-MM-dd"),createdBy:t.createdBy||"system"}];return{...e,salaryBase:t.amount,salaryHistory:r,version:(e.version||1)+1,lastUpdated:a}},X5=(e,t,a,r,s=[])=>{const l=r?.workingDays||22,c=e.salaryBase||0,d=t.filter(P=>P.status==="Present").length,m=t.filter(P=>P.status==="Late").length,f=t.filter(P=>P.status==="Absent").length,h=r?.allowanceConfig||{},g=r?.deductionConfig||{},y=Math.round(c*((h.housePercent||0)/100)),v=Math.round(c*((h.medicalPercent||0)/100)),j=Math.round(h.transportFixed||0),b=y+v+j,S=Math.round(m*(g.latePenalty||0)),M=g.absentPenaltyType==="none"?0:g.absentPenaltyType==="fixed"?Math.round(f*(g.absentPenaltyValue||0)):Math.round(c/l*f),N=c+b,A=g.taxThreshold||0,O=g.taxRate||0,D=N>A?Math.round(N*(O/100)):0,k=S+M+D,_=c+b,E=_-k;return{employeeId:e.id,employeeName:e.name,department:e.department,designation:e.designation,baseSalary:c,period:a,attendance:{present:d,late:m,absent:f},earnings:{basic:c,house:y,medical:v,transport:j,total:_},deductions:{late:S,absent:M,tax:D,total:k},netPay:E,status:"Draft",exceptions:s}},Ae=ND(AD((e,t)=>({employees:Hv,attendance:z5(),leaves:$5,notifications:F5,promotions:U5,resignations:q5,exEmployees:V5,announcements:K5,bulkIncrements:Y5,profileUpdateRequests:G5,candidates:z0,documents:$0,payrollSettings:Lf,payrollRuns:Z5,attendanceCorrections:B5,performanceReviews:W5,pamsSubmissions:H5,candidates:z0,documents:$0,addEmployee:a=>e(r=>{const s=a.joinDate||q($e,"yyyy-MM-dd"),l=a.employmentStatus==="probation"&&s?y8(s):null,c=parseInt(a.salaryBase,10)||0,d=Gt("e"),m=a.code||`EMP${String(r.employees.length+1).padStart(3,"0")}`,f={...a,id:d,code:m,status:"Active",leaveBalance:{annual:20,sick:12,casual:10,medical:30},probationEndDate:l,gender:a.gender||"male",employmentStatus:a.employmentStatus||"confirmed",salaryBase:c,salaryHistory:[],lifecycle:[],contract:{status:"active",startDate:s,endDate:a.contractEndDate||null,renewals:[]},version:1,lastUpdated:s},h=lc(f,{type:"joining",title:"Joining",effectiveDate:s,meta:{designation:f.designation,salary:c},createdAt:s}),g=Vd({...h,salaryBase:0},{amount:c,type:"base",reason:"Joining salary",effectiveDate:s,createdBy:"HR"});return{employees:[...r.employees,g]}}),updateEmployee:(a,r)=>e(s=>({employees:s.employees.map(l=>l.id!==a?l:r.salaryBase!==void 0&&r.salaryBase!==l.salaryBase?{...Vd(l,{amount:r.salaryBase,type:r.salaryChangeType||"revision",reason:r.salaryChangeReason||"Salary revision",effectiveDate:r.effectiveDate||q($e,"yyyy-MM-dd"),reference:r.reference||null,createdBy:r.updatedBy||"HR"}),...r,salaryChangeType:void 0,salaryChangeReason:void 0,reference:void 0}:{...l,...r,version:(l.version||1)+1,lastUpdated:q($e,"yyyy-MM-dd")})})),deleteEmployee:a=>e(r=>({employees:r.employees.filter(s=>s.id!==a)})),getEmployee:a=>t().employees.find(r=>r.id===a),getEmployeesByDepartment:a=>t().employees.filter(r=>r.department===a),getEmployeesByFaculty:a=>t().employees.filter(r=>r.faculty===a),clockIn:a=>{const r=new Date,s=q(r,"yyyy-MM-dd"),l=q(r,"HH:mm"),c=r.getHours()>=9||r.getHours()===9&&r.getMinutes()>0;e(d=>({attendance:[...d.attendance,{id:Gt("att"),employeeId:a,date:s,clockIn:l,clockOut:null,status:c?"Late":"Present",workHours:0}]}))},clockOut:a=>{const r=new Date,s=q(r,"yyyy-MM-dd"),l=q(r,"HH:mm");e(c=>({attendance:c.attendance.map(d=>d.employeeId===a&&d.date===s?{...d,clockOut:l,workHours:8}:d)}))},getTodayAttendance:a=>{const r=q($e,"yyyy-MM-dd");return t().attendance.find(s=>s.employeeId===a&&s.date===r)},getAttendanceByEmployee:a=>t().attendance.filter(r=>r.employeeId===a),getAttendanceByDate:a=>t().attendance.filter(r=>r.date===a),addLeave:a=>{const r=t().getEmployee(a.employeeId);e(s=>({leaves:[...s.leaves,{...a,id:Gt("l"),employeeName:r?.name,department:r?.department,faculty:r?.faculty,status:"Pending",appliedOn:q($e,"yyyy-MM-dd"),paidDays:a.paidDays??null,unpaidDays:a.unpaidDays??null,leaveCategory:a.leaveCategory??null,approvalChain:a.type==="medical"?[{role:"hod",status:"pending",by:null,date:null,comment:null},{role:"vc",status:"pending",by:null,date:null,comment:null},{role:"president",status:"pending",by:null,date:null,comment:null,paidDays:null,unpaidDays:null,leaveCategory:null}]:[{role:"hod",status:"pending",by:null,date:null,comment:null},{role:"dean",status:"pending",by:null,date:null,comment:null},{role:"hr",status:"pending",by:null,date:null,comment:null}]}]}))},updateLeaveStatus:(a,r,s,l,c="",d={})=>{e(m=>{const f=s;return{leaves:m.leaves.map(g=>{if(g.id!==a)return g;const y=new Date().toISOString();let v={...g};v.approvalChain||(g.type==="medical"?v.approvalChain=[{role:"hod",status:"pending",by:null,date:null,comment:null},{role:"vc",status:"pending",by:null,date:null,comment:null},{role:"president",status:"pending",by:null,date:null,comment:null,paidDays:null,unpaidDays:null,leaveCategory:null}]:v.approvalChain=[{role:"hod",status:"pending",by:null,date:null,comment:null},{role:"dean",status:"pending",by:null,date:null,comment:null,paidDays:null,unpaidDays:null},{role:"hr",status:"pending",by:null,date:null,comment:null}]);const j=v.approvalChain.findIndex(b=>b.role===f);if(j===-1)return g;if(v.approvalChain[j]={...v.approvalChain[j],status:r.toLowerCase(),by:l,date:y,comment:c||null},g.type==="medical"&&f==="president"&&r==="Approved"&&(d.paidDays!==void 0&&(v.approvalChain[j].paidDays=d.paidDays,v.approvalChain[j].unpaidDays=d.unpaidDays,v.paidDays=d.paidDays,v.unpaidDays=d.unpaidDays),d.leaveCategory&&(v.approvalChain[j].leaveCategory=d.leaveCategory,v.leaveCategory=d.leaveCategory)),s==="dean"&&d.paidDays!==void 0&&(v.approvalChain[j].paidDays=d.paidDays,v.approvalChain[j].unpaidDays=d.unpaidDays,v.paidDays=d.paidDays,v.unpaidDays=d.unpaidDays),s==="hr"&&d.leaveCategory&&(v.leaveCategory=d.leaveCategory),r==="Rejected")v.status="Rejected",v.reviewedBy=l,v.reviewedOn=y,v.comments=c;else if(r==="Approved"){const b=v.approvalChain.find((S,M)=>M>j&&S.status==="pending");b?(v.status="Forwarded",v.currentApprover=b.role):(v.status="Approved",v.reviewedBy=l,v.reviewedOn=y),c&&(v.comments=c)}return v})}})},getLeavesByEmployee:a=>t().leaves.filter(r=>r.employeeId===a),getLeavesByDepartment:a=>t().leaves.filter(r=>r.department===a),getLeavesByFaculty:a=>t().leaves.filter(r=>r.faculty===a),getPendingLeaves:()=>t().leaves.filter(a=>a.status==="Pending"||a.status==="Forwarded"),addNotification:a=>e(r=>({notifications:[{...a,id:Gt("n"),read:!1,createdAt:q($e,"yyyy-MM-dd HH:mm")},...r.notifications]})),markNotificationRead:a=>e(r=>({notifications:r.notifications.map(s=>s.id===a?{...s,read:!0}:s)})),getNotifications:a=>t().notifications.filter(r=>r.userId===a||r.userId==="all"),getUnreadCount:a=>t().notifications.filter(r=>!r.read&&(r.userId===a||r.userId==="all")).length,notificationPreferences:{},sendEmailNotification:(a,r,s)=>{console.log("[EMAIL NOTIFICATION]",{eventType:a,recipientId:r,data:s,timestamp:new Date().toISOString()})},updateNotificationPreferences:(a,r)=>{e(s=>({notificationPreferences:{...s.notificationPreferences,[a]:r}})),console.log("[NOTIFICATION PREFERENCES UPDATED]",{userId:a,preferences:r})},getNotificationPreferences:a=>{const r=t().notificationPreferences[a];return r||{leave_approved:{email:!0,inApp:!0},leave_rejected:{email:!0,inApp:!0},attendance_correction_approved:{email:!0,inApp:!0},attendance_correction_rejected:{email:!0,inApp:!0},probation_completion:{email:!0,inApp:!0},contract_expiry_warning:{email:!0,inApp:!0},maternity_leave_milestone:{email:!0,inApp:!0},promotion_approved:{email:!0,inApp:!0},resignation_acknowledgment:{email:!0,inApp:!0}}},addPromotion:a=>{const r=t().getEmployee(a.employeeId),s=a.effectiveDate||q($e,"yyyy-MM-dd"),l=a.proposedSalary!==void 0?a.proposedSalary:r?.salaryBase;e(c=>({promotions:[...c.promotions,{...a,id:Gt("pr"),employeeName:r?.name,department:r?.department,faculty:r?.faculty,currentDesignation:r?.designation,effectiveDate:s,proposedSalary:l,status:"Pending",appliedOn:q(new Date,"yyyy-MM-dd"),committeeReview:null,hrDecision:null}]}))},updatePromotionStatus:(a,r,s)=>e(l=>({promotions:l.promotions.map(c=>c.id===a?{...c,status:r,...s.type==="committee"&&{committeeReview:s},...s.type==="hr"&&{hrDecision:s}}:c)})),approvePromotion:(a,r={})=>{const s=t().promotions.find(l=>l.id===a);if(s){const l=t().getEmployee(s.employeeId),c=r.effectiveDate||s.effectiveDate||q($e,"yyyy-MM-dd"),d=r.newSalary!==void 0?r.newSalary:s.proposedSalary!==void 0?s.proposedSalary:l?.salaryBase;e(m=>({employees:m.employees.map(f=>{if(f.id!==s.employeeId)return f;const h=Vd(f,{amount:d,type:"promotion",reason:`Promotion to ${s.requestedDesignation}`,effectiveDate:c,reference:s.id,createdBy:r.decidedBy||"HR"});return{...lc(h,{type:"promotion",title:`Promotion to ${s.requestedDesignation}`,effectiveDate:c,meta:{from:s.currentDesignation,to:s.requestedDesignation,salary:d},createdAt:c}),designation:s.requestedDesignation}}),promotions:m.promotions.map(f=>f.id===a?{...f,status:"Approved",approvedOn:q(new Date,"yyyy-MM-dd"),effectiveDate:c,approvedSalary:d,hrDecision:{type:"hr",decidedBy:r.decidedBy||"HR",date:q(new Date,"yyyy-MM-dd"),notes:r.notes||null}}:f)}))}},getPromotionsByEmployee:a=>t().promotions.filter(r=>r.employeeId===a),getPendingPromotions:()=>t().promotions.filter(a=>a.status==="Pending"||a.status==="Under Review"),reviseSalary:(a,r,s={})=>e(l=>({employees:l.employees.map(c=>c.id===a?Vd(c,{amount:r,type:s.type||"revision",reason:s.reason||"Salary revision",effectiveDate:s.effectiveDate||q($e,"yyyy-MM-dd"),reference:s.reference||null,createdBy:s.updatedBy||"HR"}):c)})),addLifecycleEntry:(a,r)=>e(s=>({employees:s.employees.map(l=>l.id===a?lc(l,{...r,effectiveDate:r.effectiveDate||q($e,"yyyy-MM-dd")}):l)})),renewContract:(a,r)=>e(s=>({employees:s.employees.map(l=>{if(l.id!==a)return l;const c=[...l.contract?.renewals||[],{...r,id:Gt("ren")}],d={...l,contract:{...l.contract||{},status:r.status||l.contract?.status||"active",endDate:r.newEndDate||l.contract?.endDate||null,renewals:c}};return lc(d,{type:"contract",title:"Contract Renewal",effectiveDate:r.effectiveDate||r.newEndDate,meta:{previousEndDate:l.contract?.endDate||null,newEndDate:r.newEndDate||null}})})})),createBulkIncrementBatch:a=>e(r=>{const s=a.effectiveDate||q($e,"yyyy-MM-dd"),l=a.employeeIds&&a.employeeIds.length>0?r.employees.filter(f=>a.employeeIds.includes(f.id)):r.employees,c=Gt("inc"),d=l.map(f=>{const h=f.salaryBase||0,g=a.mode==="percent"?Math.round(h*(1+(a.value||0)/100)):h+(a.value||0);return{employeeId:f.id,employeeName:f.name,previousSalary:h,newSalary:g,status:"pending"}}),m=[{action:"created",by:a.createdBy||"HR",date:q(new Date,"yyyy-MM-dd"),note:a.note||null}];return{bulkIncrements:[{id:c,code:a.code||c.toUpperCase(),title:a.title||"Bulk Increment",type:a.type||"Adjustment",mode:a.mode||"percent",value:a.value||0,effectiveDate:s,note:a.note||null,status:"Pending",items:d,audit:m},...r.bulkIncrements]}}),applyBulkIncrementBatch:(a,r={})=>e(s=>{const l=s.bulkIncrements.find(f=>f.id===a);if(!l||l.status==="Applied")return{};const c=l.effectiveDate||q($e,"yyyy-MM-dd"),d=s.employees.map(f=>{const h=l.items.find(y=>y.employeeId===f.id);if(!h)return f;const g=Vd(f,{amount:h.newSalary,type:"increment",reason:`${l.type} increment`,effectiveDate:c,reference:l.id,createdBy:r.approvedBy||"HR"});return lc(g,{type:"increment",title:`${l.type} increment`,effectiveDate:c,meta:{from:h.previousSalary,to:h.newSalary,batch:l.code}})}),m={...l,status:"Applied",appliedOn:q(new Date,"yyyy-MM-dd"),audit:[...l.audit||[],{action:"applied",by:r.approvedBy||"HR",date:q(new Date,"yyyy-MM-dd"),note:r.note||null}],items:l.items.map(f=>({...f,status:"applied"}))};return{employees:d,bulkIncrements:s.bulkIncrements.map(f=>f.id===a?m:f)}}),submitProfileUpdateRequest:(a,r,s={})=>{const l=t().getEmployee(a),c={id:Gt("pur"),employeeId:a,employeeName:l?.name,department:l?.department,requestedOn:q(new Date,"yyyy-MM-dd"),status:"Pending",changes:r,notes:s.notes||null,requestedBy:s.requestedBy||l?.name||"Employee",audit:[{action:"submitted",by:s.requestedBy||l?.name||"Employee",date:q(new Date,"yyyy-MM-dd"),note:s.notes||null}]};e(d=>({profileUpdateRequests:[c,...d.profileUpdateRequests]}))},reviewProfileUpdateRequest:(a,r)=>e(s=>{const l=s.profileUpdateRequests.find(h=>h.id===a);if(!l)return{};const c=r.status,d=q(new Date,"yyyy-MM-dd");let m=s.employees;c==="Approved"&&(m=s.employees.map(h=>{if(h.id!==l.employeeId)return h;const g={...h,...l.changes,version:(h.version||1)+1,lastUpdated:d};return lc(g,{type:"profile-update",title:"Profile Updated",effectiveDate:d,meta:{fields:Object.keys(l.changes||{})}})}));const f=s.profileUpdateRequests.map(h=>h.id===a?{...h,status:c,reviewedOn:d,reviewedBy:r.reviewer||"HR",notes:r.notes||h.notes,audit:[...h.audit||[],{action:c.toLowerCase(),by:r.reviewer||"HR",date:d,note:r.notes||null}]}:h);return{employees:m,profileUpdateRequests:f}}),getPayrollSettings:()=>t().payrollSettings,updatePayrollSettings:a=>e(r=>({payrollSettings:{...r.payrollSettings,...a}})),computePayrollForEmployee:(a,r,s)=>{const l=t(),c=l.payrollSettings||Lf,d=Ta(new Date(s,r-1,1)),m=La(d),f=l.attendance.filter(j=>{if(j.employeeId!==a)return!1;const b=ue(j.date);return b>=d&&b<=m}),h=[];l.promotions.find(j=>j.employeeId===a&&(j.status==="Pending"||j.status==="Under Review"))&&h.push("Promotion pending HR approval"),l.profileUpdateRequests.find(j=>j.employeeId===a&&j.status==="Pending")&&h.push("Profile changes pending HR approval");const v=l.employees.find(j=>j.id===a);return v?X5(v,f,{month:r,year:s,startDate:q(d,"yyyy-MM-dd"),endDate:q(m,"yyyy-MM-dd")},c,h):null},generatePayrollRun:({month:a,year:r,createdBy:s})=>e(l=>{const c=l.payrollSettings||Lf,d=Ta(new Date(r,a-1,1)),m=La(d),f=l.employees.map(y=>{const v=l.attendance.filter(M=>{if(M.employeeId!==y.id)return!1;const N=ue(M.date);return N>=d&&N<=m}),j=[];return l.promotions.find(M=>M.employeeId===y.id&&(M.status==="Pending"||M.status==="Under Review"))&&j.push("Promotion pending HR approval"),l.profileUpdateRequests.find(M=>M.employeeId===y.id&&M.status==="Pending")&&j.push("Profile changes pending HR approval"),X5(y,v,{month:a,year:r,startDate:q(d,"yyyy-MM-dd"),endDate:q(m,"yyyy-MM-dd")},c,j)}),h=f.reduce((y,v)=>(y.totalGross+=v.earnings.total,y.totalDeductions+=v.deductions.total,y.totalNet+=v.netPay,y.exceptions+=v.exceptions?.length?1:0,y),{totalGross:0,totalDeductions:0,totalNet:0,exceptions:0});return{payrollRuns:[{id:Gt("pay"),period:{month:a,year:r,label:q(d,"MMM yyyy"),startDate:q(d,"yyyy-MM-dd"),endDate:q(m,"yyyy-MM-dd")},status:"Draft",createdAt:q(new Date,"yyyy-MM-dd HH:mm"),createdBy:s||"HR",approvals:[],postedOn:null,items:f,summary:h},...l.payrollRuns]}}),updatePayrollRunStatus:(a,r,s={})=>e(l=>({payrollRuns:l.payrollRuns.map(c=>c.id===a?{...c,status:r,approvals:r==="Approved"?[...c.approvals||[],{by:s.by||"HR",date:q(new Date,"yyyy-MM-dd")}]:c.approvals}:c)})),postPayrollRun:(a,r={})=>e(s=>({payrollRuns:s.payrollRuns.map(l=>l.id===a?{...l,status:"Posted",postedOn:q(new Date,"yyyy-MM-dd"),postedBy:r.postedBy||"HR",items:l.items.map(c=>({...c,status:"Posted"}))}:l)})),getPayrollRunForPeriod:(a,r)=>t().payrollRuns.find(l=>l.period?.month===a&&l.period?.year===r&&l.status==="Posted"),getEmployeePayrollHistory:a=>t().payrollRuns.filter(l=>l.status==="Posted").map(l=>{const c=l.items.find(d=>d.employeeId===a);return c?{...c,periodLabel:l.period?.label,status:l.status}:null}).filter(Boolean).sort((l,c)=>new Date(c.period?.endDate||0)-new Date(l.period?.endDate||0)),submitAttendanceCorrection:(a,r,s={})=>e(l=>{const c=l.employees.find(m=>m.id===a);return{attendanceCorrections:[{id:Gt("atc"),employeeId:a,employeeName:c?.name,department:c?.department,originalAttendance:r.originalAttendance,requestedChange:r.requestedChange,reason:r.reason,documents:r.documents||[],submittedOn:q(new Date,"yyyy-MM-dd"),status:"Pending",submittedBy:s.submittedBy||c?.name,notes:s.notes||null,audit:[{action:"submitted",by:s.submittedBy||c?.name,date:q(new Date,"yyyy-MM-dd"),comment:s.notes||null}]},...l.attendanceCorrections]}}),reviewAttendanceCorrection:(a,r)=>e(s=>{const l=s.attendanceCorrections.find(d=>d.id===a);if(!l)return{};let c=s.attendance;if(r.status==="Approved"){const d=s.attendance.find(m=>m.employeeId===l.employeeId&&m.date===l.originalAttendance.date);d&&(c=s.attendance.map(m=>m.id===d.id?{...m,status:l.requestedChange.status,notes:`[Corrected] ${l.requestedChange.reason||""}`,correctionId:a}:m))}return{attendance:c,attendanceCorrections:s.attendanceCorrections.map(d=>d.id===a?{...d,status:r.status,reviewedOn:q(new Date,"yyyy-MM-dd"),reviewedBy:r.reviewer||"HR",audit:[...d.audit||[],{action:r.status.toLowerCase(),by:r.reviewer||"HR",date:q(new Date,"yyyy-MM-dd"),comment:r.notes||null}]}:d)}}),flagAttendanceAnomalies:a=>{const r=t(),s=r.employees.find(g=>g.id===a);if(!s)return{anomalies:[],employee:null};const l=r.attendance.filter(g=>g.employeeId===a),c=[],d=nt(new Date,7),m=l.filter(g=>g.status==="Late"&&ue(g.date)>=d);m.length>3&&c.push({type:"excessive_lates",severity:"warning",message:`${m.length} late arrivals in past week`,count:m.length});let f=0;l.slice().reverse().forEach(g=>{g.status==="Absent"?(f++,f>2&&c.push({type:"consecutive_absences",severity:"error",message:`${f} consecutive absences detected`,count:f})):f=0});const h=r.leaves.filter(g=>g.employeeId===a&&g.status==="Pending");return h.length>0&&c.push({type:"pending_leave_approvals",severity:"info",message:`${h.length} pending leave approvals`,count:h.length}),{anomalies:c,employee:s}},getLeaveRecommendations:a=>{const r=t(),s=r.employees.find(h=>h.id===a.employeeId);if(!s)return{recommendation:"Cannot process",reason:"Employee not found",recommendations:[]};const l=[],c=a.type,d=s.leaveBalance?.[c]||0;d<a.days&&l.push({type:"insufficient_balance",severity:"error",message:`Insufficient ${c} leave balance (requested: ${a.days}, available: ${d})`});const m=r.leaves.filter(h=>h.employeeId===a.employeeId&&h.status==="Approved"&&ue(h.startDate)<=ue(a.endDate)&&ue(h.endDate)>=ue(a.startDate));m.length>0&&l.push({type:"date_overlap",severity:"warning",message:`Leave dates overlap with ${m.length} existing approved leave(s)`});const f=Gr(ue(a.startDate),new Date);return c!=="sick"&&f<3&&l.push({type:"insufficient_notice",severity:"warning",message:`Leave requested with only ${f} days advance notice (minimum 3 required)`}),{recommendation:l.length===0?"Approve":"Review",recommendations:l,leaveBalance:d,daysInAdvance:f}},addCandidate:a=>e(r=>({candidates:[{...a,id:Gt("cand"),appliedOn:a.appliedOn||q(new Date,"yyyy-MM-dd"),stage:a.stage||"applied",status:a.status||"In Progress",evaluations:a.evaluations||[],documents:a.documents||[],selectionBoard:{status:"pending",members:lh.defaultMembers,approvals:[],checklist:lh.checklist,...a.selectionBoard||{}}},...r.candidates]})),updateCandidateStage:(a,r,s={})=>e(l=>({candidates:l.candidates.map(c=>c.id===a?{...c,stage:r,status:r==="hired"?"Hired":c.status,stageUpdatedOn:q(new Date,"yyyy-MM-dd"),...s}:c)})),addCandidateEvaluation:(a,r)=>e(s=>({candidates:s.candidates.map(l=>l.id===a?{...l,evaluations:[...l.evaluations,{...r,date:r.date||q(new Date,"yyyy-MM-dd")}]}:l)})),addSelectionBoardApproval:(a,r)=>e(s=>({candidates:s.candidates.map(l=>{if(l.id!==a)return l;const c=[...l.selectionBoard?.approvals||[],{...r,date:r.date||q(new Date,"yyyy-MM-dd")}],m=c.filter(f=>f.decision==="approved").length>=lh.requiredApprovals?"approved":"pending";return{...l,selectionBoard:{...l.selectionBoard||{},approvals:c,status:m}}})})),linkCandidateDocument:(a,r)=>e(s=>({candidates:s.candidates.map(l=>l.id===a?{...l,documents:[...l.documents||[],r]}:l)})),addDocument:a=>e(r=>({documents:[{...a,id:Gt("doc"),version:a.version||1,lastUpdated:a.lastUpdated||q(new Date,"yyyy-MM-dd")},...r.documents]})),updateDocument:(a,r)=>e(s=>({documents:s.documents.map(l=>l.id===a?{...l,...r,lastUpdated:r.lastUpdated||q(new Date,"yyyy-MM-dd")}:l)})),addResignation:a=>{const r=t().getEmployee(a.employeeId);e(s=>({resignations:[...s.resignations,{...a,id:Gt("res"),employeeName:r?.name,department:r?.department,faculty:r?.faculty,designation:r?.designation,status:"Pending",appliedOn:q(new Date,"yyyy-MM-dd"),exitSurvey:null,exitInterview:null,exitDocuments:[],hrApproval:null,handoverStatus:"pending"}]}))},updateResignationStatus:(a,r,s={})=>e(l=>({resignations:l.resignations.map(c=>c.id===a?{...c,status:r,...s}:c)})),submitExitSurvey:(a,r)=>e(s=>({resignations:s.resignations.map(l=>l.id===a?{...l,exitSurvey:r,exitSurveyDate:q(new Date,"yyyy-MM-dd")}:l)})),addExitInterview:(a,r)=>e(s=>({resignations:s.resignations.map(l=>l.id===a?{...l,exitInterview:{...r,date:r.date||q(new Date,"yyyy-MM-dd")}}:l)})),attachExitDocument:(a,r)=>e(s=>({resignations:s.resignations.map(l=>l.id===a?{...l,exitDocuments:[...l.exitDocuments||[],r]}:l)})),processResignation:a=>{const r=t().resignations.find(s=>s.id===a);if(r){const s=t().getEmployee(r.employeeId);s&&e(l=>({exEmployees:[...l.exEmployees,{id:Gt("alum"),employeeId:s.id,name:s.name,email:s.email,department:s.department,faculty:s.faculty,designation:s.designation,joinDate:s.joinDate,exitDate:r.lastWorkingDate,yearsOfService:Math.floor((new Date(r.lastWorkingDate)-new Date(s.joinDate))/(365.25*24*60*60*1e3)),exitReason:r.reason,exitInterview:r.exitInterview,exitDocuments:r.exitDocuments,exitSurvey:r.exitSurvey}],employees:l.employees.filter(c=>c.id!==r.employeeId),resignations:l.resignations.map(c=>c.id===a?{...c,status:"Completed",processedOn:q(new Date,"yyyy-MM-dd")}:c)}))}},getResignationsByEmployee:a=>t().resignations.filter(r=>r.employeeId===a),getPendingResignations:()=>t().resignations.filter(a=>a.status==="Pending"||a.status==="Approved"),addPerformanceReview:a=>e(r=>({performanceReviews:[{...a,id:Gt("prv"),date:a.date||q(new Date,"yyyy-MM-dd")},...r.performanceReviews]})),updatePerformanceReview:(a,r)=>e(s=>({performanceReviews:s.performanceReviews.map(l=>l.id===a?{...l,...r}:l)})),getPerformanceAnalytics:(a={})=>{const r=t(),s=r.performanceReviews.filter(f=>{const h=r.employees.find(g=>g.id===f.employeeId);return!(!h||a.faculty&&h.faculty!==a.faculty||a.department&&h.department!==a.department)}),l={};s.forEach(f=>{const g=r.employees.find(y=>y.id===f.employeeId)?.department||"Unknown";l[g]||(l[g]={count:0,total:0}),l[g].count+=1,l[g].total+=f.rating||0});const c=Object.entries(l).map(([f,h])=>({department:f,averageRating:h.count?+(h.total/h.count).toFixed(2):0,count:h.count})),d=s.length?+(s.reduce((f,h)=>f+(h.rating||0),0)/s.length).toFixed(2):0,m=s.slice().sort((f,h)=>(h.rating||0)-(f.rating||0)).slice(0,5).map(f=>{const h=r.employees.find(g=>g.id===f.employeeId);return{employeeId:f.employeeId,name:h?.name,department:h?.department,rating:f.rating}});return{overallAvg:d,avgByDepartment:c,topPerformers:m,count:s.length}},submitPamsForm:a=>{const r=q(new Date,"yyyy-MM-dd"),s={id:Gt("pams"),status:"submitted",submittedAt:r,category:a.category||"faculty",hodReview:{status:"pending",comment:null,meetingDate:null,decidedAt:null},vcReview:{status:"pending",comment:null,decidedAt:null},deanReview:a.category==="hod"?{status:"pending",comment:null,meetingDate:null,decidedAt:null}:null,history:[{action:"submitted",by:a.by||"employee",at:r}]};e(l=>({pamsSubmissions:[{...s,...a},...l.pamsSubmissions]}))},updatePamsSubmission:(a,r)=>e(s=>({pamsSubmissions:s.pamsSubmissions.map(l=>l.id===a?{...l,...r,history:r.resubmitted?[...l.history,{action:"resubmitted",by:r.by||"employee",at:q(new Date,"yyyy-MM-dd")}]:l.history,status:r.resubmitted?"submitted":r.status||l.status,submittedAt:r.resubmitted?q(new Date,"yyyy-MM-dd"):l.submittedAt}:l)})),hodReviewPams:(a,r)=>e(s=>({pamsSubmissions:s.pamsSubmissions.map(l=>{if(l.id!==a||l.category==="hod")return l;const c=r.action==="confirm"?"hod-confirmed":"returned";return{...l,status:c,hodReview:{status:c,comment:r.comment||null,meetingDate:r.meetingDate||null,decidedAt:q(new Date,"yyyy-MM-dd")},followUpMeeting:r.action==="confirm"?{topic:"Department performance follow-up",scheduledAt:r.followUpDate||r.meetingDate||q(new Date,"yyyy-MM-dd"),status:"pending"}:l.followUpMeeting,history:[...l.history,{action:r.action==="confirm"?"hod-confirmed":"returned",by:r.by||"hod",at:q(new Date,"yyyy-MM-dd"),note:r.comment||null}]}})})),vcApprovePams:(a,r)=>e(s=>({pamsSubmissions:s.pamsSubmissions.map(l=>{if(l.id!==a||l.category==="hod")return l;const c=r.action==="return"?"returned":"vc-approved",d={status:c,comment:r.comment||null,decidedAt:q(new Date,"yyyy-MM-dd")};return{...l,status:c,vcReview:d,history:[...l.history,{action:c,by:r.by||"vc",at:d.decidedAt,note:r.comment||null}]}})})),getPamsForEmployee:a=>t().pamsSubmissions.filter(r=>r.employeeId===a),getPamsForHod:a=>t().pamsSubmissions.filter(r=>r.category==="faculty"&&r.department===a&&["submitted","returned"].includes(r.status)),getPamsForVc:()=>t().pamsSubmissions.filter(a=>a.status==="hod-confirmed"),getPamsForDean:a=>t().pamsSubmissions.filter(r=>r.category==="hod"&&r.faculty===a&&["dean-review","returned"].includes(r.status)),deanReviewPams:(a,r)=>e(s=>({pamsSubmissions:s.pamsSubmissions.map(l=>{if(l.id!==a||l.category!=="hod")return l;const c=r.action==="return"?"returned":"dean-confirmed",d={status:c,comment:r.comment||null,meetingDate:r.meetingDate||null,decidedAt:q(new Date,"yyyy-MM-dd")};return{...l,status:c,deanReview:d,followUpMeeting:r.action==="confirm"?{topic:"Department performance review with Dean",scheduledAt:r.followUpDate||r.meetingDate||d.decidedAt,status:"pending"}:l.followUpMeeting,history:[...l.history,{action:c,by:r.by||"dean",at:d.decidedAt,note:r.comment||null}]}})})),getOvertimeStats:({month:a=new Date().getMonth()+1,year:r=new Date().getFullYear()}={})=>{const s=t(),l=Ta(new Date(r,a-1,1)),c=La(l),d={};s.attendance.forEach(h=>{const g=ue(h.date);if(g<l||g>c)return;d[h.employeeId]||(d[h.employeeId]=0);const y=h.workHours||0,v=Math.max(0,y-8);d[h.employeeId]+=v});const m=Object.entries(d).map(([h,g])=>{const y=s.employees.find(v=>v.id===h);return{employeeId:h,name:y?.name,department:y?.department,hours:+g.toFixed(2)}}).filter(h=>h.hours>0).sort((h,g)=>g.hours-h.hours);return{totalHours:+m.reduce((h,g)=>h+g.hours,0).toFixed(2),rows:m}},getPendingApprovalsSummary:()=>{const a=t();return{leaves:a.leaves.filter(r=>r.status==="Pending"||r.status==="Forwarded").length,attendanceCorrections:a.attendanceCorrections.filter(r=>r.status==="Pending").length,promotions:a.promotions.filter(r=>r.status==="Pending"||r.status==="Under Review").length,profileUpdates:a.profileUpdateRequests.filter(r=>r.status==="Pending").length,selectionBoard:a.candidates.filter(r=>r.selectionBoard?.status==="pending").length}},getExpiringContracts:(a=30)=>{const r=t(),l=os(new Date,a);return r.employees.map(d=>{const m=d.employmentStatus==="probation"?d.probationEndDate:null,f=d.contract?.endDate||null,h=m&&ue(m)<=l,g=f&&ue(f)<=l;return!h&&!g?null:{id:d.id,name:d.name,department:d.department,faculty:d.faculty,type:h?"Probation End":"Contract End",dueDate:h?m:f}}).filter(Boolean).sort((d,m)=>ue(d.dueDate)-ue(m.dueDate))},getProfileCompletion:a=>{const r=t().employees.find(h=>h.id===a);if(!r)return{percent:0,missing:[]};const s=["email","phone","cnic","bankAccount","address","emergencyContact","department","faculty","designation"],l=s.filter(h=>!r[h]),c=(s.length-l.length)/s.length*100,d=["dependents","qualifications","publications","certifications","awards","skills","languages","professionalMemberships"],m=d.reduce((h,g)=>g==="skills"||g==="languages"?h+(r[g]&&r[g].length>0?3:0):h+(r[g]&&r[g].length>0?5:0),0);return{percent:Math.min(100,Math.round(c+m)),missing:l,bonusFields:d}},getAccreditationReport:()=>{const a=t(),r={male:0,female:0,other:0},s={},l={};return a.employees.forEach(c=>{const d=(c.gender||"").toLowerCase();d==="male"?r.male+=1:d==="female"?r.female+=1:r.other+=1,s[c.designation]=(s[c.designation]||0)+1,l[c.faculty]=(l[c.faculty]||0)+1}),{headcount:a.employees.length,genderDist:r,byDesignation:s,byFaculty:l,probationCount:a.employees.filter(c=>c.employmentStatus==="probation").length,contractExpiring30:t().getExpiringContracts(30).length}},getExEmployeesByDepartment:a=>t().exEmployees.filter(r=>r.department===a),getExEmployeesByFaculty:a=>t().exEmployees.filter(r=>r.faculty===a),searchExEmployees:a=>{const r=a.toLowerCase();return t().exEmployees.filter(s=>s.name.toLowerCase().includes(r)||s.department.toLowerCase().includes(r)||s.designation.toLowerCase().includes(r))},addAnnouncement:a=>e(r=>({announcements:[{...a,id:Gt("ann"),createdAt:q(new Date,"yyyy-MM-dd HH:mm"),isActive:!0},...r.announcements]})),updateAnnouncement:(a,r)=>e(s=>({announcements:s.announcements.map(l=>l.id===a?{...l,...r}:l)})),deleteAnnouncement:a=>e(r=>({announcements:r.announcements.filter(s=>s.id!==a)})),getActiveAnnouncements:()=>{const a=new Date;return t().announcements.filter(r=>r.isActive&&(!r.expiresAt||new Date(r.expiresAt)>a))},getAnnouncementsForUser:a=>t().getActiveAnnouncements().filter(s=>!!(s.targetAudience==="all"||s.targetAudience==="faculty"&&a?.faculty||s.department&&s.department===a?.department)),getStats:()=>{const a=t(),r=q($e,"yyyy-MM-dd"),s=a.attendance.filter(l=>l.date===r);return{totalEmployees:a.employees.length,activeEmployees:a.employees.filter(l=>l.status==="Active").length,presentToday:s.filter(l=>l.status==="Present").length,lateToday:s.filter(l=>l.status==="Late").length,absentToday:a.employees.length-s.length,pendingLeaves:a.leaves.filter(l=>l.status==="Pending").length,pendingPromotions:a.promotions.filter(l=>l.status==="Pending").length,pendingResignations:a.resignations.filter(l=>l.status==="Pending").length,onLeave:a.employees.filter(l=>l.status==="On Leave").length,totalPayroll:a.employees.reduce((l,c)=>l+c.salaryBase,0),totalExEmployees:a.exEmployees.length}},resetData:()=>e({employees:Hv,attendance:z5(),leaves:$5,notifications:F5,promotions:U5,resignations:q5,exEmployees:V5,announcements:K5,bulkIncrements:Y5,profileUpdateRequests:G5,candidates:z0,documents:$0,payrollSettings:Lf,payrollRuns:Z5,attendanceCorrections:B5,performanceReviews:W5,pamsSubmissions:H5})}),{name:"hrms-data",partialize:e=>({employees:e.employees,attendance:e.attendance,leaves:e.leaves,notifications:e.notifications,promotions:e.promotions,resignations:e.resignations,exEmployees:e.exEmployees,announcements:e.announcements,bulkIncrements:e.bulkIncrements,profileUpdateRequests:e.profileUpdateRequests,candidates:e.candidates,documents:e.documents,payrollSettings:e.payrollSettings,payrollRuns:e.payrollRuns,attendanceCorrections:e.attendanceCorrections,performanceReviews:e.performanceReviews,pamsSubmissions:e.pamsSubmissions})})),C8="18a0400c-1b05-4bbb-a7f9-8ba08012816e",M8="https://api.web3forms.com/submit",gu=async e=>{try{const t=new FormData;return t.append("access_key",C8),t.append("to_email",e.to),t.append("subject",e.subject),t.append("message",e.message),t.append("from_name",e.from_name||"HRMS System"),await(await fetch(M8,{method:"POST",body:t})).json()}catch(t){return console.error("Email sending failed:",t),{success:!1,error:t.message}}},D8=async(e,t)=>{const s=(Ae.getState().employees||[]).filter(d=>d.email&&d.email!==t).map(d=>d.email);if(s.length===0)return console.log("No recipients found for leave notification"),null;const l=`Dear Colleague,

A new leave request has been submitted:

Employee Name: ${e.employeeName}
Leave Type: ${e.leaveType.charAt(0).toUpperCase()+e.leaveType.slice(1)}
Start Date: ${e.startDate}
End Date: ${e.endDate}
Duration: ${e.days} day(s)
Reason: ${e.reason}
Status: ${e.status}

Please review and process this leave request through the HRMS dashboard.

Best regards,
HRMS System
CECOS University`,c=s.map(d=>gu({to:d,subject:`New Leave Request - ${e.employeeName} (${e.leaveType})`,message:l,from_name:"HRMS Leave Management"}));try{const d=await Promise.all(c);return console.log(`Leave notification emails sent successfully to ${s.length} recipients`,d),d}catch(d){return console.error("Leave notification emails failed:",d),null}},O8=async(e,t)=>{const s=(Ae.getState().employees||[]).filter(d=>d.email&&d.email!==t&&d.email!==e.email).map(d=>d.email),l=`Dear Team,

A new employee has been added to the system:

Employee Name: ${e.name}
Employee Code: ${e.code}
Email: ${e.email}
Designation: ${e.designation}
Department: ${e.department}
Join Date: ${e.joinDate}

Please update your records accordingly.

Best regards,
HRMS System
CECOS University`,c=s.map(d=>gu({to:d,subject:`New Employee Added - ${e.name}`,message:l,from_name:"HRMS Employee Management"}));try{const d=await Promise.all(c);return await gu({to:e.email,subject:"Welcome to CECOS University - Your Employee Account",message:`Dear ${e.name},

Welcome to CECOS University!

Your employee account has been created in the HRMS.

Your Employee Code: ${e.code}
Your Designation: ${e.designation}
Your Department: ${e.department}

You can now access the HRMS portal using your credentials.

Best regards,
HRMS System
CECOS University`,from_name:"HRMS Welcome"}),console.log(`New employee notification emails sent successfully to ${s.length} recipients`,d),d}catch(d){return console.error("New employee notification emails failed:",d),null}},E8=async(e,t)=>{const s=(Ae.getState().employees||[]).filter(d=>d.email&&d.email!==t).map(d=>d.email);if(s.length===0)return console.log("No recipients found for announcement notification"),null;const l=`New Announcement:

Title: ${e.title}

${e.description}

Audience: ${e.audience}
Posted by: ${e.postedBy}
Date: ${new Date().toLocaleString("en-PK")}

Please log in to the HRMS system to view full details.

Best regards,
HRMS System
CECOS University`,c=s.map(d=>gu({to:d,subject:`New Announcement - ${e.title}`,message:l,from_name:"HRMS Announcements"}));try{const d=await Promise.all(c);return console.log(`Announcement notification emails sent successfully to ${s.length} recipients`,d),d}catch(d){return console.error("Announcement notification emails failed:",d),null}},RD=async(e,t)=>{const s=(Ae.getState().employees||[]).filter(d=>d.email&&d.email!==t).map(d=>d.email);if(s.length===0)return console.log("No recipients found for meeting notification"),null;const l=`Dear Colleague,

You are cordially invited to attend a committee meeting.

Meeting Title: ${e.title}
Date: ${e.date}
Time: ${e.time}
Location: ${e.location}

Agenda:
${e.agenda}

Convener: ${e.convener}

Please confirm your attendance and inform if you have any specific topics to discuss.

Best regards,
HRMS System
CECOS University`,c=s.map(d=>gu({to:d,subject:`Committee Meeting Invitation - ${e.title}`,message:l,from_name:`Committee Meeting - ${e.convener}`}));try{const d=await Promise.all(c);return console.log(`Meeting notification emails sent successfully to ${s.length} recipients`,d),d}catch(d){return console.error("Meeting notification emails failed:",d),null}};function k8(){const e=Ae(l=>l.employees);Ae(l=>l.getStats)();const a=[{title:"Total Users",value:e.length+6,icon:en,iconBg:"bg-blue-500",trend:5},{title:"Active Sessions",value:12,icon:L5,iconBg:"bg-green-500",subtitle:"Across all portals"},{title:"Security Alerts",value:0,icon:ci,iconBg:"bg-purple-500",subtitle:"All systems secure"},{title:"Pending Issues",value:2,icon:Jn,iconBg:"bg-yellow-500",subtitle:"Requires attention"}],r=[{action:"User login",user:"Alice Smith",time:"2 minutes ago",status:"success"},{action:"Leave approved",user:"HR Manager",time:"15 minutes ago",status:"success"},{action:"Password reset",user:"Bob Ahmed",time:"1 hour ago",status:"warning"},{action:"New employee added",user:"HR Manager",time:"3 hours ago",status:"success"},{action:"System backup",user:"System",time:"6 hours ago",status:"success"}],s=[{name:"Database",status:"Operational",uptime:"99.9%"},{name:"Authentication",status:"Operational",uptime:"100%"},{name:"File Storage",status:"Operational",uptime:"99.8%"},{name:"Email Service",status:"Degraded",uptime:"98.5%"}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Administration"}),n.jsx("p",{className:"text-gray-500",children:"Monitor and manage HRMS system settings"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 stagger-animate",children:a.map((l,c)=>n.jsx(St,{...l},c))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Recent Activity",subtitle:"Latest system events",children:n.jsx("div",{className:"space-y-4",children:r.map((l,c)=>n.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-gray-50",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${l.status==="success"?"bg-green-500":l.status==="warning"?"bg-yellow-500":"bg-red-500"}`}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.action}),n.jsxs("p",{className:"text-xs text-gray-500",children:["by ",l.user]})]}),n.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[n.jsx(Be,{className:"w-3 h-3"}),l.time]})]},c))})}),n.jsx(K,{title:"System Health",subtitle:"Service status overview",children:n.jsx("div",{className:"space-y-4",children:s.map((l,c)=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[l.status==="Operational"?n.jsx(Le,{className:"w-5 h-5 text-green-500"}):n.jsx(Jn,{className:"w-5 h-5 text-yellow-500"}),n.jsx("span",{className:"font-medium text-gray-900",children:l.name})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:`text-sm font-medium ${l.status==="Operational"?"text-green-600":"text-yellow-600"}`,children:l.status}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Uptime: ",l.uptime]})]})]},c))})})]}),n.jsx(K,{title:"Quick Actions",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("button",{className:"p-4 rounded-xl border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all text-center",children:[n.jsx(en,{className:"w-8 h-8 mx-auto mb-2 text-gray-600"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Add User"})]}),n.jsxs("button",{className:"p-4 rounded-xl border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all text-center",children:[n.jsx(ci,{className:"w-8 h-8 mx-auto mb-2 text-gray-600"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Security Scan"})]}),n.jsxs("button",{className:"p-4 rounded-xl border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all text-center",children:[n.jsx(L5,{className:"w-8 h-8 mx-auto mb-2 text-gray-600"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Backup Data"})]}),n.jsxs("button",{className:"p-4 rounded-xl border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all text-center",children:[n.jsx(Jn,{className:"w-8 h-8 mx-auto mb-2 text-gray-600"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"View Alerts"})]})]})})]})}function ge({children:e,variant:t="default",size:a="sm"}){const r={default:"bg-gray-100 text-gray-700 border-gray-200",success:"bg-emerald-50 text-emerald-700 border-emerald-200",warning:"bg-amber-50 text-amber-700 border-amber-200",danger:"bg-red-50 text-red-700 border-red-200",error:"bg-red-50 text-red-700 border-red-200",info:"bg-blue-50 text-blue-700 border-blue-200",primary:"bg-[hsl(var(--color-primary)/0.1)] text-[hsl(var(--color-primary))] border-[hsl(var(--color-primary)/0.2)]",secondary:"bg-[hsl(var(--color-secondary)/0.1)] text-[hsl(var(--color-secondary))] border-[hsl(var(--color-secondary)/0.2)]",purple:"bg-purple-50 text-purple-700 border-purple-200"},s={xs:"px-1.5 py-0.5 text-[10px]",sm:"px-2.5 py-0.5 text-xs",md:"px-3 py-1 text-sm"};return n.jsx("span",{className:`inline-flex items-center rounded-full font-medium border whitespace-nowrap ${s[a]||s.sm} ${r[t]||r.default}`,children:e})}function vt({open:e,isOpen:t,onClose:a,title:r,children:s,actions:l,size:c="xl"}){if(!(e||t))return null;const m={sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl",full:"max-w-[98vw] lg:max-w-7xl"};return n.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-black/50 p-0 sm:p-4",style:{overscrollBehavior:"contain",paddingTop:"80px"},onClick:a,children:n.jsxs("div",{className:`bg-white rounded-t-2xl sm:rounded-xl shadow-2xl w-full ${m[c]||m.md} max-h-[90vh] sm:max-h-[85vh] overflow-hidden flex flex-col`,style:{position:"relative"},onClick:f=>f.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 py-3 sm:py-4 border-b bg-white shrink-0 sticky top-0 z-10",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 pr-4",children:r}),n.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 p-1.5 rounded-lg hover:bg-gray-100 transition-colors shrink-0",children:n.jsx(jp,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),n.jsx("div",{className:"px-4 sm:px-6 py-4 overflow-y-auto flex-1",style:{maxHeight:"calc(85vh - 64px)"},children:s}),l&&n.jsx("div",{className:"px-4 sm:px-6 py-3 sm:py-4 bg-gray-50 flex flex-col-reverse sm:flex-row gap-2 sm:gap-3 justify-end border-t shrink-0",children:l})]})})}function Nc({src:e,name:t="",size:a="md",status:r,className:s=""}){const l={xs:"w-6 h-6 text-xs",sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-12 h-12 text-lg",xl:"w-16 h-16 text-xl"},c={online:"bg-green-500",offline:"bg-gray-400",busy:"bg-red-500",away:"bg-yellow-500"},d={xs:"w-1.5 h-1.5",sm:"w-2 h-2",md:"w-2.5 h-2.5",lg:"w-3 h-3",xl:"w-4 h-4"},m=f=>{if(!f)return"?";const h=f.trim().split(" ");return h.length===1?h[0].charAt(0).toUpperCase():(h[0].charAt(0)+h[h.length-1].charAt(0)).toUpperCase()};return n.jsxs("div",{className:`relative inline-flex ${s}`,children:[e?n.jsx("img",{src:e,alt:t,className:`${l[a]} rounded-full object-cover ring-2 ring-white`}):n.jsx("div",{className:`${l[a]} rounded-full bg-linear-to-br from-[hsl(var(--color-primary))] to-[hsl(var(--color-secondary))] flex items-center justify-center text-white font-semibold ring-2 ring-white`,children:m(t)}),r&&n.jsx("span",{className:`absolute bottom-0 right-0 ${d[a]} ${c[r]} rounded-full ring-2 ring-white`})]})}function P8(){const{employees:e}=Ae(),[t,a]=x.useState(""),[r,s]=x.useState(!1),d=[...[{id:"u-admin",name:"System Administrator",email:"admin@cecos.edu.pk",role:"admin",status:"Active",lastLogin:"2 min ago"},{id:"u-hr",name:"Sarah Khan",email:"hr@cecos.edu.pk",role:"hr",status:"Active",lastLogin:"1 hour ago"},{id:"u-vp",name:"Dr. Ahmad Malik",email:"vp@cecos.edu.pk",role:"vp",status:"Active",lastLogin:"3 hours ago"},{id:"u-dean",name:"Prof. Fatima Ali",email:"dean.computing@cecos.edu.pk",role:"dean",status:"Active",lastLogin:"1 day ago"},{id:"u-hod",name:"Dr. Imran Shah",email:"hod.cs@cecos.edu.pk",role:"hod",status:"Active",lastLogin:"5 hours ago"}],...e.map(f=>({id:f.id,name:f.name,email:f.email,role:"employee",status:f.status,lastLogin:"N/A",department:f.department}))].filter(f=>f.name.toLowerCase().includes(t.toLowerCase())||f.email.toLowerCase().includes(t.toLowerCase())||f.role.toLowerCase().includes(t.toLowerCase())),m=f=>{switch(f){case"admin":return"danger";case"vp":return"primary";case"dean":return"warning";case"hod":return"success";case"hr":return"primary";default:return"default"}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),n.jsx("p",{className:"text-gray-500",children:"Manage system users and their roles"})]}),n.jsxs(X,{onClick:()=>s(!0),children:[n.jsx(oi,{className:"w-4 h-4"}),"Add User"]})]}),n.jsxs(K,{children:[n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"max-w-md",children:n.jsx(Cn,{type:"text",placeholder:"Search users...",value:t,onChange:f=>a(f.target.value),className:"w-full",inputClassName:"pr-4 py-2"})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"User"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Role"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Last Login"}),n.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:d.map(f=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Nc,{name:f.name,size:"sm"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:f.name}),n.jsx("p",{className:"text-sm text-gray-500",children:f.email})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(ge,{variant:m(f.role),children:Bl[f.role]||f.role})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(ge,{variant:f.status==="Active"?"success":"warning",children:f.status})}),n.jsx("td",{className:"px-4 py-4 text-sm text-gray-500",children:f.lastLogin}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 text-gray-500 hover:text-gray-700",children:n.jsx(ci,{className:"w-4 h-4"})}),n.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 text-gray-500 hover:text-gray-700",children:n.jsx(kD,{className:"w-4 h-4"})}),n.jsx("button",{className:"p-2 rounded-lg hover:bg-red-50 text-gray-500 hover:text-red-600",children:n.jsx(bp,{className:"w-4 h-4"})})]})})]},f.id))})]})}),d.length===0&&n.jsx("div",{className:"text-center py-12 text-gray-500",children:"No users found matching your search."})]}),n.jsx(vt,{isOpen:r,onClose:()=>s(!1),title:"Add New User",children:n.jsxs("form",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),n.jsx("input",{type:"text",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]",placeholder:"Enter full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{type:"email",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]",placeholder:"user@cecos.edu.pk"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),n.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]",children:[n.jsx("option",{value:"employee",children:"Employee"}),n.jsx("option",{value:"hr",children:"HR Manager"}),n.jsx("option",{value:"hod",children:"Head of Department"}),n.jsx("option",{value:"dean",children:"Dean"}),n.jsx("option",{value:"vp",children:"Vice President"}),n.jsx("option",{value:"admin",children:"Administrator"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx(X,{variant:"secondary",onClick:()=>s(!1),children:"Cancel"}),n.jsx(X,{type:"submit",children:"Create User"})]})]})})]})}const uj=x.createContext(null);function ca({children:e,value:t,onValueChange:a,defaultValue:r,className:s=""}){const[l,c]=x.useState(r||""),d=t!==void 0?t:l,m=a||c;return n.jsx(uj.Provider,{value:{value:d,onChange:m},children:n.jsx("div",{className:s,children:e})})}function da({children:e,className:t=""}){return n.jsx("div",{className:`flex gap-1 bg-gray-100 p-1 rounded-xl overflow-x-auto scrollbar-hide ${t}`,children:e})}function qe({children:e,value:t,className:a=""}){const r=x.useContext(uj),s=r?.value===t;return n.jsx("button",{type:"button",onClick:()=>r?.onChange?.(t),className:`px-4 py-2 text-sm font-medium rounded-lg transition-all whitespace-nowrap shrink-0 ${s?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"} ${a}`,children:e})}function Nt({children:e,value:t,className:a=""}){return x.useContext(uj)?.value!==t?null:n.jsx("div",{className:`animate-fade-in ${a}`,children:e})}function R8({tabs:e=[],activeTab:t,onChange:a,variant:r="underline",className:s=""}){const c={underline:{container:"border-b border-gray-200",tab:"px-4 py-3 text-sm font-medium border-b-2 -mb-px transition-colors",active:"border-[hsl(var(--color-primary))] text-[hsl(var(--color-primary))]",inactive:"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"},pills:{container:"flex gap-2 bg-gray-100 p-1 rounded-xl",tab:"px-4 py-2 text-sm font-medium rounded-lg transition-all",active:"bg-white text-gray-900 shadow-sm",inactive:"text-gray-500 hover:text-gray-700"},boxed:{container:"flex gap-1",tab:"px-4 py-2 text-sm font-medium rounded-lg border transition-all",active:"bg-[hsl(var(--color-primary))] text-white border-transparent",inactive:"bg-white text-gray-600 border-gray-200 hover:border-gray-300"}}[r];return n.jsx("div",{className:`${c.container} ${s}`,children:n.jsx("nav",{className:r==="underline"?"flex gap-4":"flex",children:e.map(d=>n.jsxs("button",{onClick:()=>a?.(d.id),className:`${c.tab} ${t===d.id?c.active:c.inactive} flex items-center gap-2`,children:[d.icon&&n.jsx(d.icon,{className:"w-4 h-4"}),n.jsx("span",{children:d.label}),d.count!==void 0&&n.jsx("span",{className:`ml-1 px-2 py-0.5 text-xs rounded-full ${t===d.id?"bg-white/20 text-current":"bg-gray-200 text-gray-600"}`,children:d.count})]},d.id))})})}function _8(){const[e,t]=x.useState("general"),{resetData:a}=Ae(),r=[{id:"general",label:"General"},{id:"security",label:"Security"},{id:"notifications",label:"Notifications"},{id:"integrations",label:"Integrations"}],s=()=>{window.confirm("Are you sure you want to reset all data to defaults? This cannot be undone.")&&(a(),alert("Data has been reset to defaults."))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Settings"}),n.jsx("p",{className:"text-gray-500",children:"Configure HRMS system preferences"})]}),n.jsx(R8,{tabs:r,activeTab:e,onChange:t}),e==="general"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs(K,{title:"Organization Info",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),n.jsx("input",{type:"text",defaultValue:"CECOS University",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),n.jsx("input",{type:"url",defaultValue:"https://cecos.edu.pk",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email"}),n.jsx("input",{type:"email",defaultValue:"info@cecos.edu.pk",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),n.jsx("input",{type:"tel",defaultValue:"+92-91-1234567",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),n.jsx("textarea",{rows:3,defaultValue:"F-5 Phase 6, Hayatabad, Peshawar, KPK, Pakistan",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]})]}),n.jsxs(K,{title:"Working Hours",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Start Time"}),n.jsx("input",{type:"time",defaultValue:"09:00",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work End Time"}),n.jsx("input",{type:"time",defaultValue:"17:00",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Late Threshold (minutes)"}),n.jsx("input",{type:"number",defaultValue:"15",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Working Days"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((l,c)=>n.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-gray-200 cursor-pointer hover:bg-gray-50",children:[n.jsx("input",{type:"checkbox",defaultChecked:c<5,className:"rounded text-[hsl(var(--color-primary))]"}),n.jsx("span",{className:"text-sm",children:l})]},l))})]})]}),n.jsx(K,{title:"Leave Configuration",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Annual Leave (days/year)"}),n.jsx("input",{type:"number",defaultValue:"20",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sick Leave (days/year)"}),n.jsx("input",{type:"number",defaultValue:"12",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Casual Leave (days/year)"}),n.jsx("input",{type:"number",defaultValue:"10",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsx(X,{children:"Save Changes"})})]}),e==="security"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(K,{title:"Password Policy",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("label",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Minimum Password Length"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Require at least 8 characters"})]}),n.jsx("input",{type:"number",defaultValue:"8",className:"w-20 px-3 py-2 rounded-lg border border-gray-200 text-center"})]}),n.jsxs("label",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Require Special Characters"}),n.jsx("p",{className:"text-sm text-gray-500",children:"At least one special character (!@#$%)"})]}),n.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded text-[hsl(var(--color-primary))]"})]}),n.jsxs("label",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Password Expiry"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Force password reset every 90 days"})]}),n.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded text-[hsl(var(--color-primary))]"})]})]})}),n.jsx(K,{title:"Session Settings",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("label",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Session Timeout (minutes)"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Auto logout after inactivity"})]}),n.jsx("input",{type:"number",defaultValue:"30",className:"w-20 px-3 py-2 rounded-lg border border-gray-200 text-center"})]}),n.jsxs("label",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Single Session Only"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Prevent multiple simultaneous logins"})]}),n.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded text-[hsl(var(--color-primary))]"})]})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsx(X,{children:"Save Security Settings"})})]}),e==="notifications"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(K,{title:"Email Notifications",children:n.jsx("div",{className:"space-y-4",children:[{title:"Leave Request Submitted",desc:"Notify HR when leave is applied"},{title:"Leave Approved/Rejected",desc:"Notify employee of leave decision"},{title:"New Employee Added",desc:"Notify HR and Admin"},{title:"Attendance Alert",desc:"Notify when late or absent"},{title:"Payroll Processed",desc:"Notify employees of salary credit"}].map((l,c)=>n.jsxs("label",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:l.title}),n.jsx("p",{className:"text-sm text-gray-500",children:l.desc})]}),n.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded text-[hsl(var(--color-primary))]"})]},c))})}),n.jsx("div",{className:"flex justify-end",children:n.jsx(X,{children:"Save Notification Settings"})})]}),e==="integrations"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(K,{title:"Connected Services",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600 font-bold",children:"MS"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Microsoft 365"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Calendar and email integration"})]})]}),n.jsx(X,{variant:"secondary",className:"text-sm",children:"Configure"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center text-green-600 font-bold",children:"WA"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"WhatsApp Business"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Notification delivery"})]})]}),n.jsx(X,{variant:"outline",className:"text-sm",children:"Connect"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-100 flex items-center justify-center text-purple-600 font-bold",children:"BM"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Biometric System"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Attendance hardware integration"})]})]}),n.jsx(X,{variant:"outline",className:"text-sm",children:"Connect"})]})]})}),n.jsx(K,{title:"Data Management",className:"border-red-200",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Reset all data to default values. This will remove all employees, attendance records, and leave requests. This action cannot be undone."}),n.jsx(X,{variant:"danger",onClick:s,children:"Reset All Data"})]})})]})]})}const T8=()=>{const e=[{action:"User Login",category:"Authentication",severity:"info"},{action:"User Logout",category:"Authentication",severity:"info"},{action:"Employee Created",category:"Employee",severity:"info"},{action:"Employee Updated",category:"Employee",severity:"info"},{action:"Employee Deleted",category:"Employee",severity:"warning"},{action:"Leave Approved",category:"Leave",severity:"success"},{action:"Leave Rejected",category:"Leave",severity:"warning"},{action:"Password Changed",category:"Security",severity:"info"},{action:"Settings Updated",category:"System",severity:"info"},{action:"Failed Login Attempt",category:"Security",severity:"danger"},{action:"Role Changed",category:"Security",severity:"warning"},{action:"Data Export",category:"Data",severity:"info"}],t=["Admin","Sarah Khan","Dr. Ahmad Malik","System","Alice Smith"],a=[];for(let r=0;r<50;r++){const s=e[Math.floor(Math.random()*e.length)],l=t[Math.floor(Math.random()*t.length)],c=nt(new Date,Math.floor(Math.random()*30)),d=Math.floor(Math.random()*24),m=Math.floor(Math.random()*60);a.push({id:`log-${r}`,...s,user:l,timestamp:new Date(c.setHours(d,m)),ip:`192.168.1.${Math.floor(Math.random()*255)}`,details:`${s.action} performed successfully`})}return a.sort((r,s)=>s.timestamp-r.timestamp)},L8=T8();function I8(){const[e,t]=x.useState(""),[a,r]=x.useState("all"),[s,l]=x.useState("all"),c=["all","Authentication","Employee","Leave","Security","System","Data"],d=["all","info","success","warning","danger"],m=L8.filter(h=>{const g=h.action.toLowerCase().includes(e.toLowerCase())||h.user.toLowerCase().includes(e.toLowerCase()),y=a==="all"||h.category===a,v=s==="all"||h.severity===s;return g&&y&&v}),f=h=>{switch(h){case"success":return"success";case"warning":return"warning";case"danger":return"danger";default:return"default"}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Audit Logs"}),n.jsx("p",{className:"text-gray-500",children:"Track all system activities and changes"})]}),n.jsxs(X,{variant:"secondary",children:[n.jsx(Wt,{className:"w-4 h-4"}),"Export Logs"]})]}),n.jsxs(K,{children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Cn,{type:"text",placeholder:"Search logs...",value:e,onChange:h=>t(h.target.value),className:"w-full",inputClassName:"pr-4 py-2"})}),n.jsx("select",{value:a,onChange:h=>r(h.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]",children:c.map(h=>n.jsx("option",{value:h,children:h==="all"?"All Categories":h},h))}),n.jsx("select",{value:s,onChange:h=>l(h.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]",children:d.map(h=>n.jsx("option",{value:h,children:h==="all"?"All Severities":h.charAt(0).toUpperCase()+h.slice(1)},h))})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Timestamp"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Action"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"User"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Category"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Severity"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"IP Address"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:m.slice(0,20).map(h=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 whitespace-nowrap",children:q(h.timestamp,"MMM dd, yyyy HH:mm")}),n.jsxs("td",{className:"px-4 py-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:h.action}),n.jsx("p",{className:"text-xs text-gray-500",children:h.details})]}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:h.user}),n.jsx("td",{className:"px-4 py-3",children:n.jsx(ge,{variant:"default",children:h.category})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx(ge,{variant:f(h.severity),children:h.severity})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 font-mono",children:h.ip})]},h.id))})]})}),m.length===0&&n.jsx("div",{className:"text-center py-12 text-gray-500",children:"No logs found matching your filters."}),m.length>20&&n.jsx("div",{className:"mt-4 text-center",children:n.jsx(X,{variant:"secondary",children:"Load More"})})]})]})}function z8(){return n.jsx(gi,{children:n.jsxs(Se,{element:n.jsx(f8,{}),children:[n.jsx(Se,{index:!0,element:n.jsx(k8,{})}),n.jsx(Se,{path:"users",element:n.jsx(P8,{})}),n.jsx(Se,{path:"settings",element:n.jsx(_8,{})}),n.jsx(Se,{path:"audit",element:n.jsx(I8,{})}),n.jsx(Se,{path:"*",element:n.jsx(hs,{to:".",replace:!0})})]})})}const $8=[{path:"/hr",label:"Dashboard",icon:zu,end:!0,roles:["hr","admin","dean","hod"]},{path:"/hr/employees",label:"Employees",icon:en,roles:["hr","admin"]},{path:"/hr/attendance",label:"Attendance Mgmt",icon:Be,roles:["hr","admin"]},{path:"/hr/attendance-list",label:"Attendance List",icon:ht,roles:["hr","admin"]},{path:"/hr/recruitment",label:"Recruitment & ATS",icon:xh,roles:["hr","admin"]},{path:"/hr/operational",label:"Operational Dashboard",icon:za,roles:["hr","admin"]},{path:"/hr/promotions",label:"Promotions",icon:xs,roles:["hr","admin"]},{path:"/hr/increments",label:"Bulk Increments",icon:tr,roles:["hr","admin"]},{path:"/hr/payroll",label:"Payroll",icon:nr,roles:["hr","admin"]},{path:"/hr/resignations",label:"Resignations",icon:wc,roles:["hr","admin"]},{path:"/hr/profile-requests",label:"Profile Requests",icon:R7,roles:["hr","admin"]},{path:"/hr/ex-employees",label:"Ex-Employees",icon:si,roles:["hr","admin"]},{path:"/hr/analytics",label:"Analytics",icon:lj,roles:["hr","admin"]},{path:"/hr/reports",label:"Reports",icon:za,roles:["hr","admin"]},{path:"/hr/policy-advisory",label:"Policy Advisory",icon:ci,roles:["hr","admin"]},{path:"/hr/announcements",label:"Announcements",icon:Zr,roles:["hr","admin"]},{path:"/hr/settings",label:"Settings",icon:_r,roles:["hr","admin"]}];function B8(){const e=Qe(s=>s.user),t=e?.primaryRole||e?.role,a=x.useMemo(()=>$8.filter(s=>s.roles.includes(t)),[t]),r=t==="dean"?"Dean Portal":t==="hod"?"HOD Portal":"HR Portal";return n.jsx(yi,{portalKey:"hr",portalName:r,navItems:a})}function F8(){const e=aj(),t=Qe(N=>N.user),{employees:a,attendance:r,leaves:s}=Ae(),l=Ae(N=>N.getOvertimeStats),c=Ae(N=>N.getPendingApprovalsSummary),d=Ae(N=>N.getExpiringContracts),m=Ae(N=>N.payrollSettings),f=t?.primaryRole||t?.role,h=f==="dean",g=f==="hod",y=h||g,v=N=>{const A=Ys.find(O=>O.id===N);return A?A.name:N},j=x.useMemo(()=>{const N=new Date,A=q(N,"yyyy-MM-dd"),O=Ta(N),D=La(N),k=r.filter(Y=>Y.date===A),_=k.filter(Y=>Y.status==="Present").length,E=k.filter(Y=>Y.status==="Late").length,P=a.length-_-E,z=s.filter(Y=>Y.status==="Pending"),L=s.filter(Y=>{if(Y.status!=="Approved")return!1;const V=ue(Y.appliedOn);return ps(V,{start:O,end:D})}),I=a.filter(Y=>Y.status==="Active").length,J=a.filter(Y=>Y.status==="On Leave").length,T=a.filter(Y=>Y.status==="Active").reduce((Y,V)=>Y+(V.salaryBase||0),0);return{totalEmployees:a.length,activeEmployees:I,onLeave:J,presentToday:_,lateToday:E,absentToday:P,pendingLeaves:z.length,approvedThisMonth:L.length,totalPayroll:T,attendanceRate:a.length>0?Math.round((_+E)/a.length*100):0,overtimeThisMonth:l()?.totalHours||0,pendingApprovals:c(),expiringSoon:d(m?.operationalConfig?.expiryHorizonDays||30)}},[a,r,s,l,c,d,m]),b=x.useMemo(()=>{let N=s;if(y){const A=f?.toLowerCase();N=s.filter(O=>O.approvalChain?.find(k=>k.role===A)?.status==="pending"&&(O.status==="Pending"||O.status==="Forwarded"))}else N=s.filter(A=>A.status==="Pending");return N.sort((A,O)=>ue(O.appliedOn)-ue(A.appliedOn)).slice(0,5)},[s,y,f]),S=x.useMemo(()=>r.filter(N=>N.status==="Late"||N.status==="Absent").sort((N,A)=>ue(A.date)-ue(N.date)).slice(0,5).map(N=>({...N,employee:a.find(A=>A.id===N.employeeId)})),[r,a]),M=N=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(N);return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-linear-to-r from-red-800 to-red-900 rounded-2xl p-6 text-white",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:h?"Dean Dashboard":g?"HOD Dashboard":"HR Dashboard"}),n.jsxs("p",{className:"text-red-100 mt-1",children:["Welcome back, ",t?.name?.split(" ")[0],"!",y?" Review pending leave requests.":` Here's your overview for ${q(new Date,"EEEE, MMMM d")}`]})]}),!y&&n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-lg px-4 py-2",children:[n.jsx("p",{className:"text-sm text-red-100",children:"Attendance Rate"}),n.jsxs("p",{className:"text-2xl font-bold",children:[j.attendanceRate,"%"]})]})})]})}),y?n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[n.jsx(St,{title:"Pending Approvals",value:(j.pendingApprovals?.leaves||0)+(j.pendingApprovals?.attendanceCorrections||0)+(j.pendingApprovals?.promotions||0),subtitle:"Requests awaiting your approval",icon:ht,color:b.length>5?"warning":"default"}),n.jsx(St,{title:"Your Department",value:t?.faculty||"N/A",subtitle:`${t?.department||"Department"} Department`,icon:en,color:"primary"}),n.jsx(St,{title:"Approved This Month",value:j.approvedThisMonth,subtitle:"Leave requests approved",icon:Le,color:"success"})]}):n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx(St,{title:"Total Employees",value:j.totalEmployees,subtitle:`${j.activeEmployees} active, ${j.onLeave} on leave`,icon:en,trend:"up",trendValue:"+2 this month",color:"primary"}),n.jsx(St,{title:"Present Today",value:j.presentToday,subtitle:`${j.lateToday} late, ${j.absentToday} absent`,icon:Le,color:"success"}),n.jsx(St,{title:"Pending Leaves",value:j.pendingLeaves,subtitle:`${j.approvedThisMonth} approved this month`,icon:ht,color:j.pendingLeaves>5?"warning":"default"}),n.jsx(St,{title:"Monthly Payroll",value:M(j.totalPayroll),subtitle:"Total base salary expense",icon:nr,color:"success"}),n.jsx(St,{title:"Overtime (Month)",value:`${j.overtimeThisMonth.toFixed?j.overtimeThisMonth.toFixed(1):j.overtimeThisMonth} hrs`,subtitle:`Warning above ${m?.operationalConfig?.overtimeWarningHours||40} hrs`,icon:Be,color:j.overtimeThisMonth>(m?.operationalConfig?.overtimeWarningHours||40)?"warning":"default"}),n.jsx(St,{title:"Pending Approvals",value:(j.pendingApprovals?.leaves||0)+(j.pendingApprovals?.attendanceCorrections||0)+(j.pendingApprovals?.promotions||0)+(j.pendingApprovals?.profileUpdates||0)+(j.pendingApprovals?.selectionBoard||0),subtitle:"Leaves, corrections, promotions, profiles, board",icon:ht,color:(j.pendingApprovals?.leaves||0)>5?"warning":"default"}),n.jsx(St,{title:`Expiries (${m?.operationalConfig?.expiryHorizonDays||30}d)`,value:j.expiringSoon?.length||0,subtitle:"Probation & contracts due",icon:DD,color:(j.expiringSoon?.length||0)>0?"warning":"default"})]}),!y&&n.jsxs(K,{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[n.jsxs(fn,{to:"/hr/employees",className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-blue-50 hover:bg-blue-100 transition-colors group",children:[n.jsx(en,{className:"w-6 h-6 text-blue-600 group-hover:scale-110 transition-transform"}),n.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Manage Employees"})]}),n.jsxs(fn,{to:"/hr/leaves",className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-green-50 hover:bg-green-100 transition-colors group",children:[n.jsx(ht,{className:"w-6 h-6 text-green-600 group-hover:scale-110 transition-transform"}),n.jsx("span",{className:"text-sm font-medium text-green-900",children:"Approve Leaves"})]}),n.jsxs(fn,{to:"/hr/attendance",className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-amber-50 hover:bg-amber-100 transition-colors group",children:[n.jsx(Be,{className:"w-6 h-6 text-amber-600 group-hover:scale-110 transition-transform"}),n.jsx("span",{className:"text-sm font-medium text-amber-900",children:"View Attendance"})]}),n.jsxs(fn,{to:"/hr/reports",className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-purple-50 hover:bg-purple-100 transition-colors group",children:[n.jsx(za,{className:"w-6 h-6 text-purple-600 group-hover:scale-110 transition-transform"}),n.jsx("span",{className:"text-sm font-medium text-purple-900",children:"View Reports"})]})]})]}),n.jsxs("div",{className:y?"grid gap-6":"grid lg:grid-cols-2 gap-6",children:[n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:y?"Leave Requests Awaiting Your Approval":"Pending Leave Requests"}),n.jsxs(fn,{to:"/hr/leaves",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:["View All ",n.jsx(lu,{className:"w-4 h-4"})]})]}),b.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Le,{className:"w-12 h-12 text-green-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-700 font-medium",children:y?"All Caught Up!":"No pending leave requests"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y?"You have no leave requests awaiting your approval at this time.":"No pending leave requests"})]}):n.jsx("div",{className:"space-y-3",children:b.map(N=>n.jsxs("div",{onClick:()=>e("/hr/leaves"),className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-medium text-gray-600",children:N.employeeName?.split(" ").map(A=>A[0]).join("")})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:N.employeeName}),n.jsxs("p",{className:"text-xs text-gray-500",children:[v(N.type),"  ",N.days," day",N.days>1?"s":""," "," ",N.department]})]})]}),n.jsx(ge,{variant:"warning",children:"Pending"})]},N.id))})]}),!y&&n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Attendance Issues"}),n.jsxs(fn,{to:"/hr/attendance",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:["View All ",n.jsx(lu,{className:"w-4 h-4"})]})]}),S.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Le,{className:"w-12 h-12 text-green-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-500",children:"No attendance issues"})]}):n.jsx("div",{className:"space-y-3",children:S.map(N=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${N.status==="Late"?"bg-yellow-100":"bg-red-100"}`,children:n.jsx(Jn,{className:`w-5 h-5 ${N.status==="Late"?"text-yellow-600":"text-red-600"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:N.employee?.name||"Unknown"}),n.jsxs("p",{className:"text-xs text-gray-500",children:[q(ue(N.date),"MMM d, yyyy")," "," ",N.clockIn||"No clock in"]})]})]}),n.jsx(ge,{variant:N.status==="Late"?"warning":"error",children:N.status})]},N.id))})]}),!y&&n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:`Upcoming Probation/Contract Expiries (${m?.operationalConfig?.expiryHorizonDays||30}d)`}),n.jsxs(fn,{to:"/hr/employees",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:["Manage ",n.jsx(lu,{className:"w-4 h-4"})]})]}),!j.expiringSoon||j.expiringSoon.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Le,{className:"w-12 h-12 text-green-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-500",children:"No upcoming expiries"})]}):n.jsx("div",{className:"space-y-3",children:j.expiringSoon.map(N=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:N.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:[N.department,"  ",N.type]})]}),n.jsx(ge,{variant:"warning",children:q(ue(N.dueDate),"MMM d, yyyy")})]},`${N.id}-${N.dueDate}`))})]})]})," ",!y&&n.jsxs(K,{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Department Overview"}),n.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:["Computing","Engineering","Management","Sciences"].map(N=>{const A=a.filter(O=>O.faculty===N);return n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("p",{className:"font-medium text-gray-900",children:N}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:A.length}),n.jsxs("p",{className:"text-xs text-gray-500",children:[A.filter(O=>O.status==="Active").length," active"]})]},N)})})]})]})}var Bu=e=>e.type==="checkbox",Fl=e=>e instanceof Date,Ea=e=>e==null;const _D=e=>typeof e=="object";var Tn=e=>!Ea(e)&&!Array.isArray(e)&&_D(e)&&!Fl(e),U8=e=>Tn(e)&&e.target?Bu(e.target)?e.target.checked:e.target.value:e,q8=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,H8=(e,t)=>e.has(q8(t)),V8=e=>{const t=e.constructor&&e.constructor.prototype;return Tn(t)&&t.hasOwnProperty("isPrototypeOf")},mj=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Yn(e){let t;const a=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(mj&&(e instanceof Blob||r))&&(a||Tn(e)))if(t=a?[]:Object.create(Object.getPrototypeOf(e)),!a&&!V8(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Yn(e[s]));else return e;return t}var wp=e=>/^\w*$/.test(e),Nn=e=>e===void 0,fj=e=>Array.isArray(e)?e.filter(Boolean):[],hj=e=>fj(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ze=(e,t,a)=>{if(!t||!Tn(e))return a;const r=(wp(t)?[t]:hj(t)).reduce((s,l)=>Ea(s)?s:s[l],e);return Nn(r)||r===e?Nn(e[t])?a:e[t]:r},rs=e=>typeof e=="boolean",on=(e,t,a)=>{let r=-1;const s=wp(t)?[t]:hj(t),l=s.length,c=l-1;for(;++r<l;){const d=s[r];let m=a;if(r!==c){const f=e[d];m=Tn(f)||Array.isArray(f)?f:isNaN(+s[r+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=m,e=e[d]}};const Q5={BLUR:"blur",FOCUS_OUT:"focusout"},Br={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Vs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},K8=De.createContext(null);K8.displayName="HookFormContext";var W8=(e,t,a,r=!0)=>{const s={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(s,l,{get:()=>{const c=l;return t._proxyFormState[c]!==Br.all&&(t._proxyFormState[c]=!r||Br.all),e[c]}});return s};const Y8=typeof window<"u"?De.useLayoutEffect:De.useEffect;var Za=e=>typeof e=="string",G8=(e,t,a,r,s)=>Za(e)?(r&&t.watch.add(e),ze(a,e,s)):Array.isArray(e)?e.map(l=>(r&&t.watch.add(l),ze(a,l))):(r&&(t.watchAll=!0),a),Vv=e=>Ea(e)||!_D(e);function sl(e,t,a=new WeakSet){if(Vv(e)||Vv(t))return Object.is(e,t);if(Fl(e)&&Fl(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;if(a.has(e)||a.has(t))return!0;a.add(e),a.add(t);for(const l of r){const c=e[l];if(!s.includes(l))return!1;if(l!=="ref"){const d=t[l];if(Fl(c)&&Fl(d)||Tn(c)&&Tn(d)||Array.isArray(c)&&Array.isArray(d)?!sl(c,d,a):!Object.is(c,d))return!1}}return!0}var Z8=(e,t,a,r,s)=>t?{...a[e],types:{...a[e]&&a[e].types?a[e].types:{},[r]:s||!0}}:{},ou=e=>Array.isArray(e)?e:[e],J5=()=>{let e=[];return{get observers(){return e},next:s=>{for(const l of e)l.next&&l.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(l=>l!==s)}}),unsubscribe:()=>{e=[]}}};function TD(e,t){const a={};for(const r in e)if(e.hasOwnProperty(r)){const s=e[r],l=t[r];if(s&&Tn(s)&&l){const c=TD(s,l);Tn(c)&&(a[r]=c)}else e[r]&&(a[r]=l)}return a}var ya=e=>Tn(e)&&!Object.keys(e).length,pj=e=>e.type==="file",Fr=e=>typeof e=="function",gh=e=>{if(!mj)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},LD=e=>e.type==="select-multiple",xj=e=>e.type==="radio",X8=e=>xj(e)||Bu(e),B0=e=>gh(e)&&e.isConnected;function Q8(e,t){const a=t.slice(0,-1).length;let r=0;for(;r<a;)e=Nn(e)?r++:e[t[r++]];return e}function J8(e){for(const t in e)if(e.hasOwnProperty(t)&&!Nn(e[t]))return!1;return!0}function Pn(e,t){const a=Array.isArray(t)?t:wp(t)?[t]:hj(t),r=a.length===1?e:Q8(e,a),s=a.length-1,l=a[s];return r&&delete r[l],s!==0&&(Tn(r)&&ya(r)||Array.isArray(r)&&J8(r))&&Pn(e,a.slice(0,-1)),e}var e9=e=>{for(const t in e)if(Fr(e[t]))return!0;return!1};function ID(e){return Array.isArray(e)||Tn(e)&&!e9(e)}function Kv(e,t={}){for(const a in e){const r=e[a];ID(r)?(t[a]=Array.isArray(r)?[]:{},Kv(r,t[a])):Nn(r)||(t[a]=!0)}return t}function hc(e,t,a){a||(a=Kv(t));for(const r in e){const s=e[r];if(ID(s))Nn(t)||Vv(a[r])?a[r]=Kv(s,Array.isArray(s)?[]:{}):hc(s,Ea(t)?{}:t[r],a[r]);else{const l=t[r];a[r]=!sl(s,l)}}return a}const eA={value:!1,isValid:!1},tA={value:!0,isValid:!0};var zD=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Nn(e[0].attributes.value)?Nn(e[0].value)||e[0].value===""?tA:{value:e[0].value,isValid:!0}:tA:eA}return eA},$D=(e,{valueAsNumber:t,valueAsDate:a,setValueAs:r})=>Nn(e)?e:t?e===""?NaN:e&&+e:a&&Za(e)?new Date(e):r?r(e):e;const nA={isValid:!1,value:null};var BD=e=>Array.isArray(e)?e.reduce((t,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:t,nA):nA;function aA(e){const t=e.ref;return pj(t)?t.files:xj(t)?BD(e.refs).value:LD(t)?[...t.selectedOptions].map(({value:a})=>a):Bu(t)?zD(e.refs).value:$D(Nn(t.value)?e.ref.value:t.value,e)}var t9=(e,t,a,r)=>{const s={};for(const l of e){const c=ze(t,l);c&&on(s,l,c._f)}return{criteriaMode:a,names:[...e],fields:s,shouldUseNativeValidation:r}},yh=e=>e instanceof RegExp,Kd=e=>Nn(e)?e:yh(e)?e.source:Tn(e)?yh(e.value)?e.value.source:e.value:e,rA=e=>({isOnSubmit:!e||e===Br.onSubmit,isOnBlur:e===Br.onBlur,isOnChange:e===Br.onChange,isOnAll:e===Br.all,isOnTouch:e===Br.onTouched});const sA="AsyncFunction";var n9=e=>!!e&&!!e.validate&&!!(Fr(e.validate)&&e.validate.constructor.name===sA||Tn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===sA)),a9=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),iA=(e,t,a)=>!a&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const cu=(e,t,a,r)=>{for(const s of a||Object.keys(e)){const l=ze(e,s);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&t(c.refs[0],s)&&!r)return!0;if(c.ref&&t(c.ref,c.name)&&!r)return!0;if(cu(d,t))break}else if(Tn(d)&&cu(d,t))break}}};function lA(e,t,a){const r=ze(e,a);if(r||wp(a))return{error:r,name:a};const s=a.split(".");for(;s.length;){const l=s.join("."),c=ze(t,l),d=ze(e,l);if(c&&!Array.isArray(c)&&a!==l)return{name:a};if(d&&d.type)return{name:l,error:d};if(d&&d.root&&d.root.type)return{name:`${l}.root`,error:d.root};s.pop()}return{name:a}}var r9=(e,t,a,r)=>{a(e);const{name:s,...l}=e;return ya(l)||Object.keys(l).length>=Object.keys(t).length||Object.keys(l).find(c=>t[c]===(!r||Br.all))},s9=(e,t,a)=>!e||!t||e===t||ou(e).some(r=>r&&(a?r===t:r.startsWith(t)||t.startsWith(r))),i9=(e,t,a,r,s)=>s.isOnAll?!1:!a&&s.isOnTouch?!(t||e):(a?r.isOnBlur:s.isOnBlur)?!e:(a?r.isOnChange:s.isOnChange)?e:!0,l9=(e,t)=>!fj(ze(e,t)).length&&Pn(e,t),o9=(e,t,a)=>{const r=ou(ze(e,a));return on(r,"root",t[a]),on(e,a,r),e};function oA(e,t,a="validate"){if(Za(e)||Array.isArray(e)&&e.every(Za)||rs(e)&&!e)return{type:a,message:Za(e)?e:"",ref:t}}var oc=e=>Tn(e)&&!yh(e)?e:{value:e,message:""},cA=async(e,t,a,r,s,l)=>{const{ref:c,refs:d,required:m,maxLength:f,minLength:h,min:g,max:y,pattern:v,validate:j,name:b,valueAsNumber:S,mount:M}=e._f,N=ze(a,b);if(!M||t.has(b))return{};const A=d?d[0]:c,O=I=>{s&&A.reportValidity&&(A.setCustomValidity(rs(I)?"":I||""),A.reportValidity())},D={},k=xj(c),_=Bu(c),E=k||_,P=(S||pj(c))&&Nn(c.value)&&Nn(N)||gh(c)&&c.value===""||N===""||Array.isArray(N)&&!N.length,z=Z8.bind(null,b,r,D),L=(I,J,T,Y=Vs.maxLength,V=Vs.minLength)=>{const B=I?J:T;D[b]={type:I?Y:V,message:B,ref:c,...z(I?Y:V,B)}};if(l?!Array.isArray(N)||!N.length:m&&(!E&&(P||Ea(N))||rs(N)&&!N||_&&!zD(d).isValid||k&&!BD(d).isValid)){const{value:I,message:J}=Za(m)?{value:!!m,message:m}:oc(m);if(I&&(D[b]={type:Vs.required,message:J,ref:A,...z(Vs.required,J)},!r))return O(J),D}if(!P&&(!Ea(g)||!Ea(y))){let I,J;const T=oc(y),Y=oc(g);if(!Ea(N)&&!isNaN(N)){const V=c.valueAsNumber||N&&+N;Ea(T.value)||(I=V>T.value),Ea(Y.value)||(J=V<Y.value)}else{const V=c.valueAsDate||new Date(N),B=W=>new Date(new Date().toDateString()+" "+W),U=c.type=="time",F=c.type=="week";Za(T.value)&&N&&(I=U?B(N)>B(T.value):F?N>T.value:V>new Date(T.value)),Za(Y.value)&&N&&(J=U?B(N)<B(Y.value):F?N<Y.value:V<new Date(Y.value))}if((I||J)&&(L(!!I,T.message,Y.message,Vs.max,Vs.min),!r))return O(D[b].message),D}if((f||h)&&!P&&(Za(N)||l&&Array.isArray(N))){const I=oc(f),J=oc(h),T=!Ea(I.value)&&N.length>+I.value,Y=!Ea(J.value)&&N.length<+J.value;if((T||Y)&&(L(T,I.message,J.message),!r))return O(D[b].message),D}if(v&&!P&&Za(N)){const{value:I,message:J}=oc(v);if(yh(I)&&!N.match(I)&&(D[b]={type:Vs.pattern,message:J,ref:c,...z(Vs.pattern,J)},!r))return O(J),D}if(j){if(Fr(j)){const I=await j(N,a),J=oA(I,A);if(J&&(D[b]={...J,...z(Vs.validate,J.message)},!r))return O(J.message),D}else if(Tn(j)){let I={};for(const J in j){if(!ya(I)&&!r)break;const T=oA(await j[J](N,a),A,J);T&&(I={...T,...z(J,T.message)},O(T.message),r&&(D[b]=I))}if(!ya(I)&&(D[b]={ref:A,...I},!r))return D}}return O(!0),D};const c9={mode:Br.onSubmit,reValidateMode:Br.onChange,shouldFocusError:!0};function d9(e={}){let t={...c9,...e},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:Fr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=Tn(t.defaultValues)||Tn(t.values)?Yn(t.defaultValues||t.values)||{}:{},l=t.shouldUnregister?{}:Yn(s),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,f=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...h};const y={array:J5(),state:J5()},v=t.criteriaMode===Br.all,j=Z=>le=>{clearTimeout(f),f=setTimeout(Z,le)},b=async Z=>{if(!t.disabled&&(h.isValid||g.isValid||Z)){const le=t.resolver?ya((await _()).errors):await P(r,!0);le!==a.isValid&&y.state.next({isValid:le})}},S=(Z,le)=>{!t.disabled&&(h.isValidating||h.validatingFields||g.isValidating||g.validatingFields)&&((Z||Array.from(d.mount)).forEach(he=>{he&&(le?on(a.validatingFields,he,le):Pn(a.validatingFields,he))}),y.state.next({validatingFields:a.validatingFields,isValidating:!ya(a.validatingFields)}))},M=(Z,le=[],he,Ee,be=!0,Ne=!0)=>{if(Ee&&he&&!t.disabled){if(c.action=!0,Ne&&Array.isArray(ze(r,Z))){const ke=he(ze(r,Z),Ee.argA,Ee.argB);be&&on(r,Z,ke)}if(Ne&&Array.isArray(ze(a.errors,Z))){const ke=he(ze(a.errors,Z),Ee.argA,Ee.argB);be&&on(a.errors,Z,ke),l9(a.errors,Z)}if((h.touchedFields||g.touchedFields)&&Ne&&Array.isArray(ze(a.touchedFields,Z))){const ke=he(ze(a.touchedFields,Z),Ee.argA,Ee.argB);be&&on(a.touchedFields,Z,ke)}(h.dirtyFields||g.dirtyFields)&&(a.dirtyFields=hc(s,l)),y.state.next({name:Z,isDirty:L(Z,le),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else on(l,Z,le)},N=(Z,le)=>{on(a.errors,Z,le),y.state.next({errors:a.errors})},A=Z=>{a.errors=Z,y.state.next({errors:a.errors,isValid:!1})},O=(Z,le,he,Ee)=>{const be=ze(r,Z);if(be){const Ne=ze(l,Z,Nn(he)?ze(s,Z):he);Nn(Ne)||Ee&&Ee.defaultChecked||le?on(l,Z,le?Ne:aA(be._f)):T(Z,Ne),c.mount&&!c.action&&b()}},D=(Z,le,he,Ee,be)=>{let Ne=!1,ke=!1;const Ze={name:Z};if(!t.disabled){if(!he||Ee){(h.isDirty||g.isDirty)&&(ke=a.isDirty,a.isDirty=Ze.isDirty=L(),Ne=ke!==Ze.isDirty);const rt=sl(ze(s,Z),le);ke=!!ze(a.dirtyFields,Z),rt?Pn(a.dirtyFields,Z):on(a.dirtyFields,Z,!0),Ze.dirtyFields=a.dirtyFields,Ne=Ne||(h.dirtyFields||g.dirtyFields)&&ke!==!rt}if(he){const rt=ze(a.touchedFields,Z);rt||(on(a.touchedFields,Z,he),Ze.touchedFields=a.touchedFields,Ne=Ne||(h.touchedFields||g.touchedFields)&&rt!==he)}Ne&&be&&y.state.next(Ze)}return Ne?Ze:{}},k=(Z,le,he,Ee)=>{const be=ze(a.errors,Z),Ne=(h.isValid||g.isValid)&&rs(le)&&a.isValid!==le;if(t.delayError&&he?(m=j(()=>N(Z,he)),m(t.delayError)):(clearTimeout(f),m=null,he?on(a.errors,Z,he):Pn(a.errors,Z)),(he?!sl(be,he):be)||!ya(Ee)||Ne){const ke={...Ee,...Ne&&rs(le)?{isValid:le}:{},errors:a.errors,name:Z};a={...a,...ke},y.state.next(ke)}},_=async Z=>{S(Z,!0);const le=await t.resolver(l,t.context,t9(Z||d.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return S(Z),le},E=async Z=>{const{errors:le}=await _(Z);if(Z)for(const he of Z){const Ee=ze(le,he);Ee?on(a.errors,he,Ee):Pn(a.errors,he)}else a.errors=le;return le},P=async(Z,le,he={valid:!0})=>{for(const Ee in Z){const be=Z[Ee];if(be){const{_f:Ne,...ke}=be;if(Ne){const Ze=d.array.has(Ne.name),rt=be._f&&n9(be._f);rt&&h.validatingFields&&S([Ne.name],!0);const Mn=await cA(be,d.disabled,l,v,t.shouldUseNativeValidation&&!le,Ze);if(rt&&h.validatingFields&&S([Ne.name]),Mn[Ne.name]&&(he.valid=!1,le))break;!le&&(ze(Mn,Ne.name)?Ze?o9(a.errors,Mn,Ne.name):on(a.errors,Ne.name,Mn[Ne.name]):Pn(a.errors,Ne.name))}!ya(ke)&&await P(ke,le,he)}}return he.valid},z=()=>{for(const Z of d.unMount){const le=ze(r,Z);le&&(le._f.refs?le._f.refs.every(he=>!B0(he)):!B0(le._f.ref))&&ee(Z)}d.unMount=new Set},L=(Z,le)=>!t.disabled&&(Z&&le&&on(l,Z,le),!sl(W(),s)),I=(Z,le,he)=>G8(Z,d,{...c.mount?l:Nn(le)?s:Za(Z)?{[Z]:le}:le},he,le),J=Z=>fj(ze(c.mount?l:s,Z,t.shouldUnregister?ze(s,Z,[]):[])),T=(Z,le,he={})=>{const Ee=ze(r,Z);let be=le;if(Ee){const Ne=Ee._f;Ne&&(!Ne.disabled&&on(l,Z,$D(le,Ne)),be=gh(Ne.ref)&&Ea(le)?"":le,LD(Ne.ref)?[...Ne.ref.options].forEach(ke=>ke.selected=be.includes(ke.value)):Ne.refs?Bu(Ne.ref)?Ne.refs.forEach(ke=>{(!ke.defaultChecked||!ke.disabled)&&(Array.isArray(be)?ke.checked=!!be.find(Ze=>Ze===ke.value):ke.checked=be===ke.value||!!be)}):Ne.refs.forEach(ke=>ke.checked=ke.value===be):pj(Ne.ref)?Ne.ref.value="":(Ne.ref.value=be,Ne.ref.type||y.state.next({name:Z,values:Yn(l)})))}(he.shouldDirty||he.shouldTouch)&&D(Z,be,he.shouldTouch,he.shouldDirty,!0),he.shouldValidate&&F(Z)},Y=(Z,le,he)=>{for(const Ee in le){if(!le.hasOwnProperty(Ee))return;const be=le[Ee],Ne=Z+"."+Ee,ke=ze(r,Ne);(d.array.has(Z)||Tn(be)||ke&&!ke._f)&&!Fl(be)?Y(Ne,be,he):T(Ne,be,he)}},V=(Z,le,he={})=>{const Ee=ze(r,Z),be=d.array.has(Z),Ne=Yn(le);on(l,Z,Ne),be?(y.array.next({name:Z,values:Yn(l)}),(h.isDirty||h.dirtyFields||g.isDirty||g.dirtyFields)&&he.shouldDirty&&y.state.next({name:Z,dirtyFields:hc(s,l),isDirty:L(Z,Ne)})):Ee&&!Ee._f&&!Ea(Ne)?Y(Z,Ne,he):T(Z,Ne,he),iA(Z,d)&&y.state.next({...a,name:Z}),y.state.next({name:c.mount?Z:void 0,values:Yn(l)})},B=async Z=>{c.mount=!0;const le=Z.target;let he=le.name,Ee=!0;const be=ze(r,he),Ne=rt=>{Ee=Number.isNaN(rt)||Fl(rt)&&isNaN(rt.getTime())||sl(rt,ze(l,he,rt))},ke=rA(t.mode),Ze=rA(t.reValidateMode);if(be){let rt,Mn;const or=le.type?aA(be._f):U8(Z),zn=Z.type===Q5.BLUR||Z.type===Q5.FOCUS_OUT,ua=!a9(be._f)&&!t.resolver&&!ze(a.errors,he)&&!be._f.deps||i9(zn,ze(a.touchedFields,he),a.isSubmitted,Ze,ke),ta=iA(he,d,zn);on(l,he,or),zn?(!le||!le.readOnly)&&(be._f.onBlur&&be._f.onBlur(Z),m&&m(0)):be._f.onChange&&be._f.onChange(Z);const pn=D(he,or,zn),cr=!ya(pn)||ta;if(!zn&&y.state.next({name:he,type:Z.type,values:Yn(l)}),ua)return(h.isValid||g.isValid)&&(t.mode==="onBlur"?zn&&b():zn||b()),cr&&y.state.next({name:he,...ta?{}:pn});if(!zn&&ta&&y.state.next({...a}),t.resolver){const{errors:Hn}=await _([he]);if(Ne(or),Ee){const jo=lA(a.errors,r,he),wo=lA(Hn,r,jo.name||he);rt=wo.error,he=wo.name,Mn=ya(Hn)}}else S([he],!0),rt=(await cA(be,d.disabled,l,v,t.shouldUseNativeValidation))[he],S([he]),Ne(or),Ee&&(rt?Mn=!1:(h.isValid||g.isValid)&&(Mn=await P(r,!0)));Ee&&(be._f.deps&&(!Array.isArray(be._f.deps)||be._f.deps.length>0)&&F(be._f.deps),k(he,Mn,rt,pn))}},U=(Z,le)=>{if(ze(a.errors,le)&&Z.focus)return Z.focus(),1},F=async(Z,le={})=>{let he,Ee;const be=ou(Z);if(t.resolver){const Ne=await E(Nn(Z)?Z:be);he=ya(Ne),Ee=Z?!be.some(ke=>ze(Ne,ke)):he}else Z?(Ee=(await Promise.all(be.map(async Ne=>{const ke=ze(r,Ne);return await P(ke&&ke._f?{[Ne]:ke}:ke)}))).every(Boolean),!(!Ee&&!a.isValid)&&b()):Ee=he=await P(r);return y.state.next({...!Za(Z)||(h.isValid||g.isValid)&&he!==a.isValid?{}:{name:Z},...t.resolver||!Z?{isValid:he}:{},errors:a.errors}),le.shouldFocus&&!Ee&&cu(r,U,Z?be:d.mount),Ee},W=(Z,le)=>{let he={...c.mount?l:s};return le&&(he=TD(le.dirtyFields?a.dirtyFields:a.touchedFields,he)),Nn(Z)?he:Za(Z)?ze(he,Z):Z.map(Ee=>ze(he,Ee))},ne=(Z,le)=>({invalid:!!ze((le||a).errors,Z),isDirty:!!ze((le||a).dirtyFields,Z),error:ze((le||a).errors,Z),isValidating:!!ze(a.validatingFields,Z),isTouched:!!ze((le||a).touchedFields,Z)}),je=Z=>{Z&&ou(Z).forEach(le=>Pn(a.errors,le)),y.state.next({errors:Z?a.errors:{}})},H=(Z,le,he)=>{const Ee=(ze(r,Z,{_f:{}})._f||{}).ref,be=ze(a.errors,Z)||{},{ref:Ne,message:ke,type:Ze,...rt}=be;on(a.errors,Z,{...rt,...le,ref:Ee}),y.state.next({name:Z,errors:a.errors,isValid:!1}),he&&he.shouldFocus&&Ee&&Ee.focus&&Ee.focus()},fe=(Z,le)=>Fr(Z)?y.state.subscribe({next:he=>"values"in he&&Z(I(void 0,le),he)}):I(Z,le,!0),we=Z=>y.state.subscribe({next:le=>{s9(Z.name,le.name,Z.exact)&&r9(le,Z.formState||h,tn,Z.reRenderRoot)&&Z.callback({values:{...l},...a,...le,defaultValues:s})}}).unsubscribe,se=Z=>(c.mount=!0,g={...g,...Z.formState},we({...Z,formState:g})),ee=(Z,le={})=>{for(const he of Z?ou(Z):d.mount)d.mount.delete(he),d.array.delete(he),le.keepValue||(Pn(r,he),Pn(l,he)),!le.keepError&&Pn(a.errors,he),!le.keepDirty&&Pn(a.dirtyFields,he),!le.keepTouched&&Pn(a.touchedFields,he),!le.keepIsValidating&&Pn(a.validatingFields,he),!t.shouldUnregister&&!le.keepDefaultValue&&Pn(s,he);y.state.next({values:Yn(l)}),y.state.next({...a,...le.keepDirty?{isDirty:L()}:{}}),!le.keepIsValid&&b()},ie=({disabled:Z,name:le})=>{(rs(Z)&&c.mount||Z||d.disabled.has(le))&&(Z?d.disabled.add(le):d.disabled.delete(le))},ae=(Z,le={})=>{let he=ze(r,Z);const Ee=rs(le.disabled)||rs(t.disabled);return on(r,Z,{...he||{},_f:{...he&&he._f?he._f:{ref:{name:Z}},name:Z,mount:!0,...le}}),d.mount.add(Z),he?ie({disabled:rs(le.disabled)?le.disabled:t.disabled,name:Z}):O(Z,!0,le.value),{...Ee?{disabled:le.disabled||t.disabled}:{},...t.progressive?{required:!!le.required,min:Kd(le.min),max:Kd(le.max),minLength:Kd(le.minLength),maxLength:Kd(le.maxLength),pattern:Kd(le.pattern)}:{},name:Z,onChange:B,onBlur:B,ref:be=>{if(be){ae(Z,le),he=ze(r,Z);const Ne=Nn(be.value)&&be.querySelectorAll&&be.querySelectorAll("input,select,textarea")[0]||be,ke=X8(Ne),Ze=he._f.refs||[];if(ke?Ze.find(rt=>rt===Ne):Ne===he._f.ref)return;on(r,Z,{_f:{...he._f,...ke?{refs:[...Ze.filter(B0),Ne,...Array.isArray(ze(s,Z))?[{}]:[]],ref:{type:Ne.type,name:Z}}:{ref:Ne}}}),O(Z,!1,void 0,Ne)}else he=ze(r,Z,{}),he._f&&(he._f.mount=!1),(t.shouldUnregister||le.shouldUnregister)&&!(H8(d.array,Z)&&c.action)&&d.unMount.add(Z)}}},Me=()=>t.shouldFocusError&&cu(r,U,d.mount),Ce=Z=>{rs(Z)&&(y.state.next({disabled:Z}),cu(r,(le,he)=>{const Ee=ze(r,he);Ee&&(le.disabled=Ee._f.disabled||Z,Array.isArray(Ee._f.refs)&&Ee._f.refs.forEach(be=>{be.disabled=Ee._f.disabled||Z}))},0,!1))},xe=(Z,le)=>async he=>{let Ee;he&&(he.preventDefault&&he.preventDefault(),he.persist&&he.persist());let be=Yn(l);if(y.state.next({isSubmitting:!0}),t.resolver){const{errors:Ne,values:ke}=await _();a.errors=Ne,be=Yn(ke)}else await P(r);if(d.disabled.size)for(const Ne of d.disabled)Pn(be,Ne);if(Pn(a.errors,"root"),ya(a.errors)){y.state.next({errors:{}});try{await Z(be,he)}catch(Ne){Ee=Ne}}else le&&await le({...a.errors},he),Me(),setTimeout(Me);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ya(a.errors)&&!Ee,submitCount:a.submitCount+1,errors:a.errors}),Ee)throw Ee},lt=(Z,le={})=>{ze(r,Z)&&(Nn(le.defaultValue)?V(Z,Yn(ze(s,Z))):(V(Z,le.defaultValue),on(s,Z,Yn(le.defaultValue))),le.keepTouched||Pn(a.touchedFields,Z),le.keepDirty||(Pn(a.dirtyFields,Z),a.isDirty=le.defaultValue?L(Z,Yn(ze(s,Z))):L()),le.keepError||(Pn(a.errors,Z),h.isValid&&b()),y.state.next({...a}))},Re=(Z,le={})=>{const he=Z?Yn(Z):s,Ee=Yn(he),be=ya(Z),Ne=be?s:Ee;if(le.keepDefaultValues||(s=he),!le.keepValues){if(le.keepDirtyValues){const ke=new Set([...d.mount,...Object.keys(hc(s,l))]);for(const Ze of Array.from(ke))ze(a.dirtyFields,Ze)?on(Ne,Ze,ze(l,Ze)):V(Ze,ze(Ne,Ze))}else{if(mj&&Nn(Z))for(const ke of d.mount){const Ze=ze(r,ke);if(Ze&&Ze._f){const rt=Array.isArray(Ze._f.refs)?Ze._f.refs[0]:Ze._f.ref;if(gh(rt)){const Mn=rt.closest("form");if(Mn){Mn.reset();break}}}}if(le.keepFieldsRef)for(const ke of d.mount)V(ke,ze(Ne,ke));else r={}}l=t.shouldUnregister?le.keepDefaultValues?Yn(s):{}:Yn(Ne),y.array.next({values:{...Ne}}),y.state.next({values:{...Ne}})}d={mount:le.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!h.isValid||!!le.keepIsValid||!!le.keepDirtyValues||!t.shouldUnregister&&!ya(Ne),c.watch=!!t.shouldUnregister,y.state.next({submitCount:le.keepSubmitCount?a.submitCount:0,isDirty:be?!1:le.keepDirty?a.isDirty:!!(le.keepDefaultValues&&!sl(Z,s)),isSubmitted:le.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:be?{}:le.keepDirtyValues?le.keepDefaultValues&&l?hc(s,l):a.dirtyFields:le.keepDefaultValues&&Z?hc(s,Z):le.keepDirty?a.dirtyFields:{},touchedFields:le.keepTouched?a.touchedFields:{},errors:le.keepErrors?a.errors:{},isSubmitSuccessful:le.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Ke=(Z,le)=>Re(Fr(Z)?Z(l):Z,le),Fe=(Z,le={})=>{const he=ze(r,Z),Ee=he&&he._f;if(Ee){const be=Ee.refs?Ee.refs[0]:Ee.ref;be.focus&&(be.focus(),le.shouldSelect&&Fr(be.select)&&be.select())}},tn=Z=>{a={...a,...Z}},Ct={control:{register:ae,unregister:ee,getFieldState:ne,handleSubmit:xe,setError:H,_subscribe:we,_runSchema:_,_focusError:Me,_getWatch:I,_getDirty:L,_setValid:b,_setFieldArray:M,_setDisabledField:ie,_setErrors:A,_getFieldArray:J,_reset:Re,_resetDefaultValues:()=>Fr(t.defaultValues)&&t.defaultValues().then(Z=>{Ke(Z,t.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:z,_disableForm:Ce,_subjects:y,_proxyFormState:h,get _fields(){return r},get _formValues(){return l},get _state(){return c},set _state(Z){c=Z},get _defaultValues(){return s},get _names(){return d},set _names(Z){d=Z},get _formState(){return a},get _options(){return t},set _options(Z){t={...t,...Z}}},subscribe:se,trigger:F,register:ae,handleSubmit:xe,watch:fe,setValue:V,getValues:W,reset:Ke,resetField:lt,clearErrors:je,unregister:ee,setError:H,setFocus:Fe,getFieldState:ne};return{...Ct,formControl:Ct}}function Lc(e={}){const t=De.useRef(void 0),a=De.useRef(void 0),[r,s]=De.useState({isDirty:!1,isValidating:!1,isLoading:Fr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Fr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Fr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:c,...d}=d9(e);t.current={...d,formState:r}}const l=t.current.control;return l._options=e,Y8(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>s({...l._formState}),reRenderRoot:!0});return s(d=>({...d,isReady:!0})),l._formState.isReady=!0,c},[l]),De.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),De.useEffect(()=>{e.mode&&(l._options.mode=e.mode),e.reValidateMode&&(l._options.reValidateMode=e.reValidateMode)},[l,e.mode,e.reValidateMode]),De.useEffect(()=>{e.errors&&(l._setErrors(e.errors),l._focusError())},[l,e.errors]),De.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,e.shouldUnregister]),De.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==r.isDirty&&l._subjects.state.next({isDirty:c})}},[l,r.isDirty]),De.useEffect(()=>{var c;e.values&&!sl(e.values,a.current)?(l._reset(e.values,{keepFieldsRef:!0,...l._options.resetOptions}),!((c=l._options.resetOptions)===null||c===void 0)&&c.keepIsValid||l._setValid(),a.current=e.values,s(d=>({...d}))):l._resetDefaultValues()},[l,e.values]),De.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),t.current.formState=W8(r,l),t.current}function u9(){const e=Qe(F=>F.user),{employees:t,addEmployee:a,updateEmployee:r,removeEmployee:s,addLifecycleEntry:l,renewContract:c}=Ae(),[d,m]=x.useState(!1),[f,h]=x.useState(null),[g,y]=x.useState(null),[v,j]=x.useState(""),[b,S]=x.useState("all"),[M,N]=x.useState("all"),[A,O]=x.useState(q(new Date,"yyyy-MM-dd")),{register:D,handleSubmit:k,reset:_,setValue:E,watch:P,formState:{errors:z,isSubmitting:L}}=Lc({mode:"onChange",defaultValues:{code:"",name:"",email:"",phone:"",department:"CS",faculty:"Computing",designation:"Lecturer",joinDate:q(new Date,"yyyy-MM-dd"),salaryBase:1e5,status:"Active",gender:"male",employmentStatus:"confirmed",probationEndDate:"",cnic:"",bankAccount:"",address:"",emergencyContact:""}}),I=x.useMemo(()=>t.filter(F=>{const W=F.name?.toLowerCase().includes(v.toLowerCase())||F.code?.toLowerCase().includes(v.toLowerCase())||F.email?.toLowerCase().includes(v.toLowerCase()),ne=b==="all"||F.department===b,je=M==="all"||F.status===M;return W&&ne&&je}),[t,v,b,M]),J=F=>{const W={...F,salaryBase:parseInt(F.salaryBase),probationEndDate:F.employmentStatus==="probation"&&F.probationEndDate?F.probationEndDate:null};f?r(f.id,W):(a(W),O8({name:W.name,code:W.code||`EMP${String(t.length+1).padStart(3,"0")}`,email:W.email,designation:W.designation,department:W.department,joinDate:W.joinDate},e?.email)),Y()},T=(F=null)=>{F?(h(F),Object.keys(F).forEach(W=>{E(W,F[W])})):(h(null),_()),m(!0)},Y=()=>{m(!1),h(null),_()},V=F=>{confirm("Are you sure you want to delete this employee?")&&s(F)},B=()=>{const F=["Code","Name","Email","Department","Faculty","Designation","Join Date","Status","Salary"],W=t.map(we=>[we.code,we.name,we.email,we.department,we.faculty,we.designation,we.joinDate,we.status,we.salaryBase]),ne=[F,...W].map(we=>we.join(",")).join(`
`),je=new Blob([ne],{type:"text/csv"}),H=URL.createObjectURL(je),fe=document.createElement("a");fe.href=H,fe.download="employees.csv",fe.click()},U=F=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(F||0);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Employees"}),n.jsx("p",{className:"text-gray-600",children:"Manage employee records and information"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{variant:"outline",onClick:B,className:"gap-2",children:[n.jsx(Wt,{className:"w-4 h-4"}),"Export CSV"]}),n.jsxs(X,{onClick:()=>T(),className:"gap-2",children:[n.jsx(oi,{className:"w-4 h-4"}),"Add Employee"]})]})]}),n.jsx(K,{children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Cn,{type:"text",placeholder:"Search by name, code, or email...",value:v,onChange:F=>j(F.target.value),className:"w-full",inputClassName:"pr-4 py-2"})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(oo,{className:"w-5 h-5 text-gray-400"}),n.jsxs("select",{value:b,onChange:F=>S(F.target.value),className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Departments"}),I5.map(F=>n.jsx("option",{value:F,children:F},F))]})]}),n.jsxs("select",{value:M,onChange:F=>N(F.target.value),className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"On Leave",children:"On Leave"}),n.jsx("option",{value:"Resigned",children:"Resigned"})]})]})}),n.jsxs(K,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Employee"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Department"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Designation"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Join Date"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Status"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Actions"})]})}),n.jsx("tbody",{children:I.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"text-center py-8 text-gray-500",children:"No employees found"})}):I.map(F=>n.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Nc,{name:F.name,size:"sm"}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium text-gray-900",children:F.name}),n.jsx(ge,{variant:F.gender==="female"?"info":"secondary",className:"text-xs",children:F.gender==="female"?" Female":" Male"}),F.employmentStatus==="probation"&&n.jsx(ge,{variant:"warning",className:"text-xs",children:"Probation"})]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[F.code,"  ",F.email]}),F.employmentStatus==="probation"&&F.probationEndDate&&n.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["Probation ends:"," ",q(ue(F.probationEndDate),"MMM d, yyyy")]})]})]})}),n.jsxs("td",{className:"py-3 px-4",children:[n.jsx("p",{className:"text-gray-900",children:F.department}),n.jsx("p",{className:"text-xs text-gray-500",children:F.faculty})]}),n.jsx("td",{className:"py-3 px-4 text-gray-900",children:F.designation}),n.jsx("td",{className:"py-3 px-4 text-gray-600",children:F.joinDate?q(ue(F.joinDate),"MMM d, yyyy"):"N/A"}),n.jsx("td",{className:"py-3 px-4",children:n.jsx(ge,{variant:F.status==="Active"?"success":F.status==="On Leave"?"warning":"error",children:F.status})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(X,{size:"sm",variant:"ghost",onClick:()=>y(F),children:n.jsx(cj,{className:"w-4 h-4"})}),n.jsx(X,{size:"sm",variant:"ghost",onClick:()=>T(F),children:n.jsx(vp,{className:"w-4 h-4"})}),n.jsx(X,{size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-700",onClick:()=>V(F.id),children:n.jsx(bp,{className:"w-4 h-4"})})]})})]},F.id))})]})}),n.jsx("div",{className:"flex items-center justify-between pt-4 border-t mt-4",children:n.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",I.length," of ",t.length," employees"]})})]}),n.jsx(vt,{isOpen:d,onClose:Y,title:f?"Edit Employee":"Add New Employee",size:"lg",children:n.jsxs("form",{onSubmit:k(J),className:"space-y-4",children:[n.jsxs(ca,{defaultValue:"basic",children:[n.jsxs(da,{children:[n.jsx(qe,{value:"basic",children:"Basic Info"}),n.jsx(qe,{value:"employment",children:"Employment"}),n.jsx(qe,{value:"additional",children:"Additional"})]}),n.jsxs(Nt,{value:"basic",className:"space-y-4 pt-4",children:[n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Employee Code ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{...D("code",{required:"Employee code is required"}),placeholder:"EMP001",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),z.code&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:z.code.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{...D("name",{required:"Name is required"}),placeholder:"John Doe",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),z.name&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:z.name.message})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",...D("email",{required:"Email is required"}),placeholder:"john@cecos.edu.pk",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),z.email&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:z.email.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),n.jsx("input",{...D("phone"),placeholder:"+92-XXX-XXXXXXX",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]}),n.jsxs(Nt,{value:"employment",className:"space-y-4 pt-4",children:[n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Faculty"}),n.jsx("select",{...D("faculty"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:Object.keys(ms).map(F=>n.jsx("option",{value:F,children:F},F))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),n.jsx("select",{...D("department"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:I5.map(F=>n.jsx("option",{value:F,children:F},F))})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designation"}),n.jsx("select",{...D("designation"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:j8.map(F=>n.jsx("option",{value:F,children:F},F))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{...D("status"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"On Leave",children:"On Leave"}),n.jsx("option",{value:"Resigned",children:"Resigned"})]})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),n.jsxs("select",{...D("gender"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"male",children:"Male"}),n.jsx("option",{value:"female",children:"Female"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employment Status"}),n.jsxs("select",{...D("employmentStatus"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"probation",children:"Probation"})]})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Join Date"}),n.jsx("input",{type:"date",...D("joinDate"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Salary (PKR)"}),n.jsx("input",{type:"number",...D("salaryBase"),placeholder:"100000",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Probation End Date",n.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"(Auto-calculated if on probation, otherwise leave empty)"})]}),n.jsx("input",{type:"date",...D("probationEndDate"),disabled:P("employmentStatus")!=="probation",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-100 disabled:text-gray-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only applicable for probation status"})]})]}),n.jsxs(Nt,{value:"additional",className:"space-y-4 pt-4",children:[n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CNIC ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{...D("cnic",{required:"CNIC is required"}),placeholder:"XXXXX-XXXXXXX-X",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),z.cnic&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:z.cnic.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Bank Account ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{...D("bankAccount",{required:"Bank account is required"}),placeholder:"Bank-AccountNumber",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),z.bankAccount&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:z.bankAccount.message})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{...D("address",{required:"Address is required"}),rows:2,placeholder:"Enter address",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),z.address&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:z.address.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Emergency Contact ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{...D("emergencyContact",{required:"Emergency contact is required"}),placeholder:"+92-XXX-XXXXXXX",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),z.emergencyContact&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:z.emergencyContact.message})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{type:"button",variant:"outline",onClick:Y,disabled:L,children:"Cancel"}),n.jsx(X,{type:"submit",disabled:L,children:L?"Saving...":f?"Update Employee":"Add Employee"})]})]})}),n.jsx(vt,{isOpen:!!g,onClose:()=>y(null),title:"Employee Details",size:"lg",children:g&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Nc,{name:g.name,size:"xl"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:g.name}),n.jsx("p",{className:"text-gray-500",children:g.designation}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx(ge,{variant:"primary",children:g.department}),n.jsx(ge,{variant:g.status==="Active"?"success":"warning",children:g.status}),n.jsx(ge,{variant:g.gender==="female"?"info":"secondary",children:g.gender==="female"?" Female":" Male"}),g.employmentStatus==="probation"&&n.jsx(ge,{variant:"warning",children:"Probation"})]})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(MD,{className:"w-5 h-5"}),n.jsx("span",{children:g.faculty})]}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(ED,{className:"w-5 h-5"}),n.jsx("span",{children:g.email})]}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(V7,{className:"w-5 h-5"}),n.jsx("span",{children:g.phone||"Not provided"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Employee Code"}),n.jsx("p",{className:"font-medium",children:g.code})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Join Date"}),n.jsx("p",{className:"font-medium",children:g.joinDate?q(ue(g.joinDate),"MMMM d, yyyy"):"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Base Salary"}),n.jsx("p",{className:"font-medium",children:U(g.salaryBase)})]}),g.employmentStatus==="probation"&&g.probationEndDate&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Probation End Date"}),n.jsx("p",{className:"font-medium text-orange-600",children:q(ue(g.probationEndDate),"MMMM d, yyyy")})]})]})]}),g.leaveBalance&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Leave Balance"}),n.jsx("div",{className:"grid grid-cols-3 gap-3",children:Object.entries(g.leaveBalance).map(([F,W])=>n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:W}),n.jsx("p",{className:"text-xs text-gray-500 capitalize",children:F})]},F))})]}),g.salaryHistory&&g.salaryHistory.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Salary History"}),n.jsx("div",{className:"max-h-60 overflow-y-auto divide-y border rounded-lg",children:g.salaryHistory.slice().reverse().map(F=>n.jsxs("div",{className:"flex items-center justify-between px-3 py-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:U(F.amount)}),n.jsxs("p",{className:"text-xs text-gray-500",children:[F.type,"  ",F.reason]})]}),n.jsx("p",{className:"text-xs text-gray-500",children:F.effectiveDate?q(ue(F.effectiveDate),"MMM d, yyyy"):"N/A"})]},F.id))})]}),g.lifecycle&&g.lifecycle.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Lifecycle"}),n.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:g.lifecycle.slice().reverse().map(F=>n.jsxs("div",{className:"p-3 rounded-lg bg-gray-50 border",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:F.title}),n.jsx("span",{className:"text-xs text-gray-500",children:F.effectiveDate?q(ue(F.effectiveDate),"MMM d, yyyy"):F.createdAt})]}),F.meta&&n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:Object.entries(F.meta).map(([W,ne])=>`${W}: ${ne}`).join("  ")})]},F.id))})]}),n.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[g.employmentStatus==="probation"&&n.jsx(X,{size:"sm",variant:"outline",onClick:()=>{l(g.id,{type:"confirmation",title:"Confirmation",meta:{from:"probation",to:"confirmed"}}),r(g.id,{employmentStatus:"confirmed"})},children:"Mark Confirmed"}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[n.jsx("span",{children:"Contract renewal"}),n.jsx("input",{type:"date",value:A,onChange:F=>O(F.target.value),className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500 text-sm"})]}),n.jsx(X,{size:"sm",variant:"outline",onClick:()=>c(g.id,{newEndDate:A,effectiveDate:A,status:"active"}),children:"Renew"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{variant:"outline",onClick:()=>y(null),children:"Close"}),n.jsx(X,{onClick:()=>{y(null),T(g)},children:"Edit Employee"})]})]})})]})}var oh={exports:{}};var m9=oh.exports,dA;function f9(){return dA||(dA=1,(function(e,t){((a,r)=>{e.exports=r()})(m9,function a(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s,l=!r.document&&!!r.postMessage,c=r.IS_PAPA_WORKER||!1,d={},m=0,f={};function h(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(P){var z=D(P);z.chunkSize=parseInt(z.chunkSize),P.step||P.chunk||(z.chunkSize=null),this._handle=new b(z),(this._handle.streamer=this)._config=z}).call(this,E),this.parseChunk=function(P,z){var L=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<L){let J=this._config.newline;J||(I=this._config.quoteChar||'"',J=this._handle.guessLineEndings(P,I)),P=[...P.split(J).slice(L)].join(J)}this.isFirstChunk&&_(this._config.beforeFirstChunk)&&(I=this._config.beforeFirstChunk(P))!==void 0&&(P=I),this.isFirstChunk=!1,this._halted=!1;var L=this._partialLine+P,I=(this._partialLine="",this._handle.parse(L,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(P=I.meta.cursor,L=(this._finished||(this._partialLine=L.substring(P-this._baseIndex),this._baseIndex=P),I&&I.data&&(this._rowCount+=I.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),c)r.postMessage({results:I,workerId:f.WORKER_ID,finished:L});else if(_(this._config.chunk)&&!z){if(this._config.chunk(I,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=I=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(I.data),this._completeResults.errors=this._completeResults.errors.concat(I.errors),this._completeResults.meta=I.meta),this._completed||!L||!_(this._config.complete)||I&&I.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),L||I&&I.meta.paused||this._nextChunk(),I}this._halted=!0},this._sendError=function(P){_(this._config.error)?this._config.error(P):c&&this._config.error&&r.postMessage({workerId:f.WORKER_ID,error:P,finished:!1})}}function g(E){var P;(E=E||{}).chunkSize||(E.chunkSize=f.RemoteChunkSize),h.call(this,E),this._nextChunk=l?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(z){this._input=z,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),l||(P.onload=k(this._chunkLoaded,this),P.onerror=k(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!l),this._config.downloadRequestHeaders){var z,L=this._config.downloadRequestHeaders;for(z in L)P.setRequestHeader(z,L[z])}var I;this._config.chunkSize&&(I=this._start+this._config.chunkSize-1,P.setRequestHeader("Range","bytes="+this._start+"-"+I));try{P.send(this._config.downloadRequestBody)}catch(J){this._chunkError(J.message)}l&&P.status===0&&this._chunkError()}},this._chunkLoaded=function(){P.readyState===4&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize||P.responseText.length,this._finished=!this._config.chunkSize||this._start>=(z=>(z=z.getResponseHeader("Content-Range"))!==null?parseInt(z.substring(z.lastIndexOf("/")+1)):-1)(P),this.parseChunk(P.responseText)))},this._chunkError=function(z){z=P.statusText||z,this._sendError(new Error(z))}}function y(E){(E=E||{}).chunkSize||(E.chunkSize=f.LocalChunkSize),h.call(this,E);var P,z,L=typeof FileReader<"u";this.stream=function(I){this._input=I,z=I.slice||I.webkitSlice||I.mozSlice,L?((P=new FileReader).onload=k(this._chunkLoaded,this),P.onerror=k(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var I=this._input,J=(this._config.chunkSize&&(J=Math.min(this._start+this._config.chunkSize,this._input.size),I=z.call(I,this._start,J)),P.readAsText(I,this._config.encoding));L||this._chunkLoaded({target:{result:J}})},this._chunkLoaded=function(I){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(I.target.result)},this._chunkError=function(){this._sendError(P.error)}}function v(E){var P;h.call(this,E=E||{}),this.stream=function(z){return P=z,this._nextChunk()},this._nextChunk=function(){var z,L;if(!this._finished)return z=this._config.chunkSize,P=z?(L=P.substring(0,z),P.substring(z)):(L=P,""),this._finished=!P,this.parseChunk(L)}}function j(E){h.call(this,E=E||{});var P=[],z=!0,L=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(I){this._input=I,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){L&&P.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):z=!0},this._streamData=k(function(I){try{P.push(typeof I=="string"?I:I.toString(this._config.encoding)),z&&(z=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(J){this._streamError(J)}},this),this._streamError=k(function(I){this._streamCleanUp(),this._sendError(I)},this),this._streamEnd=k(function(){this._streamCleanUp(),L=!0,this._streamData("")},this),this._streamCleanUp=k(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(E){var P,z,L,I,J=Math.pow(2,53),T=-J,Y=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,V=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,B=this,U=0,F=0,W=!1,ne=!1,je=[],H={data:[],errors:[],meta:{}};function fe(ie){return E.skipEmptyLines==="greedy"?ie.join("").trim()==="":ie.length===1&&ie[0].length===0}function we(){if(H&&L&&(ee("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),L=!1),E.skipEmptyLines&&(H.data=H.data.filter(function(Ce){return!fe(Ce)})),se()){let Ce=function(xe,lt){_(E.transformHeader)&&(xe=E.transformHeader(xe,lt)),je.push(xe)};if(H)if(Array.isArray(H.data[0])){for(var ie=0;se()&&ie<H.data.length;ie++)H.data[ie].forEach(Ce);H.data.splice(0,1)}else H.data.forEach(Ce)}function ae(Ce,xe){for(var lt=E.header?{}:[],Re=0;Re<Ce.length;Re++){var Ke=Re,Fe=Ce[Re],Fe=((tn,Ge)=>(Ct=>(E.dynamicTypingFunction&&E.dynamicTyping[Ct]===void 0&&(E.dynamicTyping[Ct]=E.dynamicTypingFunction(Ct)),(E.dynamicTyping[Ct]||E.dynamicTyping)===!0))(tn)?Ge==="true"||Ge==="TRUE"||Ge!=="false"&&Ge!=="FALSE"&&((Ct=>{if(Y.test(Ct)&&(Ct=parseFloat(Ct),T<Ct&&Ct<J))return 1})(Ge)?parseFloat(Ge):V.test(Ge)?new Date(Ge):Ge===""?null:Ge):Ge)(Ke=E.header?Re>=je.length?"__parsed_extra":je[Re]:Ke,Fe=E.transform?E.transform(Fe,Ke):Fe);Ke==="__parsed_extra"?(lt[Ke]=lt[Ke]||[],lt[Ke].push(Fe)):lt[Ke]=Fe}return E.header&&(Re>je.length?ee("FieldMismatch","TooManyFields","Too many fields: expected "+je.length+" fields but parsed "+Re,F+xe):Re<je.length&&ee("FieldMismatch","TooFewFields","Too few fields: expected "+je.length+" fields but parsed "+Re,F+xe)),lt}var Me;H&&(E.header||E.dynamicTyping||E.transform)&&(Me=1,!H.data.length||Array.isArray(H.data[0])?(H.data=H.data.map(ae),Me=H.data.length):H.data=ae(H.data,0),E.header&&H.meta&&(H.meta.fields=je),F+=Me)}function se(){return E.header&&je.length===0}function ee(ie,ae,Me,Ce){ie={type:ie,code:ae,message:Me},Ce!==void 0&&(ie.row=Ce),H.errors.push(ie)}_(E.step)&&(I=E.step,E.step=function(ie){H=ie,se()?we():(we(),H.data.length!==0&&(U+=ie.data.length,E.preview&&U>E.preview?z.abort():(H.data=H.data[0],I(H,B))))}),this.parse=function(ie,ae,Me){var Ce=E.quoteChar||'"',Ce=(E.newline||(E.newline=this.guessLineEndings(ie,Ce)),L=!1,E.delimiter?_(E.delimiter)&&(E.delimiter=E.delimiter(ie),H.meta.delimiter=E.delimiter):((Ce=((xe,lt,Re,Ke,Fe)=>{var tn,Ge,Ct,Z;Fe=Fe||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var le=0;le<Fe.length;le++){for(var he,Ee=Fe[le],be=0,Ne=0,ke=0,Ze=(Ct=void 0,new M({comments:Ke,delimiter:Ee,newline:lt,preview:10}).parse(xe)),rt=0;rt<Ze.data.length;rt++)Re&&fe(Ze.data[rt])?ke++:(he=Ze.data[rt].length,Ne+=he,Ct===void 0?Ct=he:0<he&&(be+=Math.abs(he-Ct),Ct=he));0<Ze.data.length&&(Ne/=Ze.data.length-ke),(Ge===void 0||be<=Ge)&&(Z===void 0||Z<Ne)&&1.99<Ne&&(Ge=be,tn=Ee,Z=Ne)}return{successful:!!(E.delimiter=tn),bestDelimiter:tn}})(ie,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess)).successful?E.delimiter=Ce.bestDelimiter:(L=!0,E.delimiter=f.DefaultDelimiter),H.meta.delimiter=E.delimiter),D(E));return E.preview&&E.header&&Ce.preview++,P=ie,z=new M(Ce),H=z.parse(P,ae,Me),we(),W?{meta:{paused:!0}}:H||{meta:{paused:!1}}},this.paused=function(){return W},this.pause=function(){W=!0,z.abort(),P=_(E.chunk)?"":P.substring(z.getCharIndex())},this.resume=function(){B.streamer._halted?(W=!1,B.streamer.parseChunk(P,!0)):setTimeout(B.resume,3)},this.aborted=function(){return ne},this.abort=function(){ne=!0,z.abort(),H.meta.aborted=!0,_(E.complete)&&E.complete(H),P=""},this.guessLineEndings=function(xe,Ce){xe=xe.substring(0,1048576);var Ce=new RegExp(S(Ce)+"([^]*?)"+S(Ce),"gm"),Me=(xe=xe.replace(Ce,"")).split("\r"),Ce=xe.split(`
`),xe=1<Ce.length&&Ce[0].length<Me[0].length;if(Me.length===1||xe)return`
`;for(var lt=0,Re=0;Re<Me.length;Re++)Me[Re][0]===`
`&&lt++;return lt>=Me.length/2?`\r
`:"\r"}}function S(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function M(E){var P=(E=E||{}).delimiter,z=E.newline,L=E.comments,I=E.step,J=E.preview,T=E.fastMode,Y=null,V=!1,B=E.quoteChar==null?'"':E.quoteChar,U=B;if(E.escapeChar!==void 0&&(U=E.escapeChar),(typeof P!="string"||-1<f.BAD_DELIMITERS.indexOf(P))&&(P=","),L===P)throw new Error("Comment character same as delimiter");L===!0?L="#":(typeof L!="string"||-1<f.BAD_DELIMITERS.indexOf(L))&&(L=!1),z!==`
`&&z!=="\r"&&z!==`\r
`&&(z=`
`);var F=0,W=!1;this.parse=function(ne,je,H){if(typeof ne!="string")throw new Error("Input must be a string");var fe=ne.length,we=P.length,se=z.length,ee=L.length,ie=_(I),ae=[],Me=[],Ce=[],xe=F=0;if(!ne)return be();if(T||T!==!1&&ne.indexOf(B)===-1){for(var lt=ne.split(z),Re=0;Re<lt.length;Re++){if(Ce=lt[Re],F+=Ce.length,Re!==lt.length-1)F+=z.length;else if(H)return be();if(!L||Ce.substring(0,ee)!==L){if(ie){if(ae=[],Z(Ce.split(P)),Ne(),W)return be()}else Z(Ce.split(P));if(J&&J<=Re)return ae=ae.slice(0,J),be(!0)}}return be()}for(var Ke=ne.indexOf(P,F),Fe=ne.indexOf(z,F),tn=new RegExp(S(U)+S(B),"g"),Ge=ne.indexOf(B,F);;)if(ne[F]===B)for(Ge=F,F++;;){if((Ge=ne.indexOf(B,Ge+1))===-1)return H||Me.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ae.length,index:F}),he();if(Ge===fe-1)return he(ne.substring(F,Ge).replace(tn,B));if(B===U&&ne[Ge+1]===U)Ge++;else if(B===U||Ge===0||ne[Ge-1]!==U){Ke!==-1&&Ke<Ge+1&&(Ke=ne.indexOf(P,Ge+1));var Ct=le((Fe=Fe!==-1&&Fe<Ge+1?ne.indexOf(z,Ge+1):Fe)===-1?Ke:Math.min(Ke,Fe));if(ne.substr(Ge+1+Ct,we)===P){Ce.push(ne.substring(F,Ge).replace(tn,B)),ne[F=Ge+1+Ct+we]!==B&&(Ge=ne.indexOf(B,F)),Ke=ne.indexOf(P,F),Fe=ne.indexOf(z,F);break}if(Ct=le(Fe),ne.substring(Ge+1+Ct,Ge+1+Ct+se)===z){if(Ce.push(ne.substring(F,Ge).replace(tn,B)),Ee(Ge+1+Ct+se),Ke=ne.indexOf(P,F),Ge=ne.indexOf(B,F),ie&&(Ne(),W))return be();if(J&&ae.length>=J)return be(!0);break}Me.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ae.length,index:F}),Ge++}}else if(L&&Ce.length===0&&ne.substring(F,F+ee)===L){if(Fe===-1)return be();F=Fe+se,Fe=ne.indexOf(z,F),Ke=ne.indexOf(P,F)}else if(Ke!==-1&&(Ke<Fe||Fe===-1))Ce.push(ne.substring(F,Ke)),F=Ke+we,Ke=ne.indexOf(P,F);else{if(Fe===-1)break;if(Ce.push(ne.substring(F,Fe)),Ee(Fe+se),ie&&(Ne(),W))return be();if(J&&ae.length>=J)return be(!0)}return he();function Z(ke){ae.push(ke),xe=F}function le(ke){var Ze=0;return Ze=ke!==-1&&(ke=ne.substring(Ge+1,ke))&&ke.trim()===""?ke.length:Ze}function he(ke){return H||(ke===void 0&&(ke=ne.substring(F)),Ce.push(ke),F=fe,Z(Ce),ie&&Ne()),be()}function Ee(ke){F=ke,Z(Ce),Ce=[],Fe=ne.indexOf(z,F)}function be(ke){if(E.header&&!je&&ae.length&&!V){var Ze=ae[0],rt=Object.create(null),Mn=new Set(Ze);let or=!1;for(let zn=0;zn<Ze.length;zn++){let ua=Ze[zn];if(rt[ua=_(E.transformHeader)?E.transformHeader(ua,zn):ua]){let ta,pn=rt[ua];for(;ta=ua+"_"+pn,pn++,Mn.has(ta););Mn.add(ta),Ze[zn]=ta,rt[ua]++,or=!0,(Y=Y===null?{}:Y)[ta]=ua}else rt[ua]=1,Ze[zn]=ua;Mn.add(ua)}or&&console.warn("Duplicate headers found and renamed."),V=!0}return{data:ae,errors:Me,meta:{delimiter:P,linebreak:z,aborted:W,truncated:!!ke,cursor:xe+(je||0),renamedHeaders:Y}}}function Ne(){I(be()),ae=[],Me=[]}},this.abort=function(){W=!0},this.getCharIndex=function(){return F}}function N(E){var P=E.data,z=d[P.workerId],L=!1;if(P.error)z.userError(P.error,P.file);else if(P.results&&P.results.data){var I={abort:function(){L=!0,A(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(_(z.userStep)){for(var J=0;J<P.results.data.length&&(z.userStep({data:P.results.data[J],errors:P.results.errors,meta:P.results.meta},I),!L);J++);delete P.results}else _(z.userChunk)&&(z.userChunk(P.results,I,P.file),delete P.results)}P.finished&&!L&&A(P.workerId,P.results)}function A(E,P){var z=d[E];_(z.userComplete)&&z.userComplete(P),z.terminate(),delete d[E]}function O(){throw new Error("Not implemented.")}function D(E){if(typeof E!="object"||E===null)return E;var P,z=Array.isArray(E)?[]:{};for(P in E)z[P]=D(E[P]);return z}function k(E,P){return function(){E.apply(P,arguments)}}function _(E){return typeof E=="function"}return f.parse=function(E,P){var z=(P=P||{}).dynamicTyping||!1;if(_(z)&&(P.dynamicTypingFunction=z,z={}),P.dynamicTyping=z,P.transform=!!_(P.transform)&&P.transform,!P.worker||!f.WORKERS_SUPPORTED)return z=null,f.NODE_STREAM_INPUT,typeof E=="string"?(E=(L=>L.charCodeAt(0)!==65279?L:L.slice(1))(E),z=new(P.download?g:v)(P)):E.readable===!0&&_(E.read)&&_(E.on)?z=new j(P):(r.File&&E instanceof File||E instanceof Object)&&(z=new y(P)),z.stream(E);(z=(()=>{var L;return!!f.WORKERS_SUPPORTED&&(L=(()=>{var I=r.URL||r.webkitURL||null,J=a.toString();return f.BLOB_URL||(f.BLOB_URL=I.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",J,")();"],{type:"text/javascript"})))})(),(L=new r.Worker(L)).onmessage=N,L.id=m++,d[L.id]=L)})()).userStep=P.step,z.userChunk=P.chunk,z.userComplete=P.complete,z.userError=P.error,P.step=_(P.step),P.chunk=_(P.chunk),P.complete=_(P.complete),P.error=_(P.error),delete P.worker,z.postMessage({input:E,config:P,workerId:z.id})},f.unparse=function(E,P){var z=!1,L=!0,I=",",J=`\r
`,T='"',Y=T+T,V=!1,B=null,U=!1,F=((()=>{if(typeof P=="object"){if(typeof P.delimiter!="string"||f.BAD_DELIMITERS.filter(function(je){return P.delimiter.indexOf(je)!==-1}).length||(I=P.delimiter),typeof P.quotes!="boolean"&&typeof P.quotes!="function"&&!Array.isArray(P.quotes)||(z=P.quotes),typeof P.skipEmptyLines!="boolean"&&typeof P.skipEmptyLines!="string"||(V=P.skipEmptyLines),typeof P.newline=="string"&&(J=P.newline),typeof P.quoteChar=="string"&&(T=P.quoteChar),typeof P.header=="boolean"&&(L=P.header),Array.isArray(P.columns)){if(P.columns.length===0)throw new Error("Option columns is empty");B=P.columns}P.escapeChar!==void 0&&(Y=P.escapeChar+T),P.escapeFormulae instanceof RegExp?U=P.escapeFormulae:typeof P.escapeFormulae=="boolean"&&P.escapeFormulae&&(U=/^[=+\-@\t\r].*$/)}})(),new RegExp(S(T),"g"));if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return W(null,E,V);if(typeof E[0]=="object")return W(B||Object.keys(E[0]),E,V)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||B),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),W(E.fields||[],E.data||[],V);throw new Error("Unable to serialize unrecognized input");function W(je,H,fe){var we="",se=(typeof je=="string"&&(je=JSON.parse(je)),typeof H=="string"&&(H=JSON.parse(H)),Array.isArray(je)&&0<je.length),ee=!Array.isArray(H[0]);if(se&&L){for(var ie=0;ie<je.length;ie++)0<ie&&(we+=I),we+=ne(je[ie],ie);0<H.length&&(we+=J)}for(var ae=0;ae<H.length;ae++){var Me=(se?je:H[ae]).length,Ce=!1,xe=se?Object.keys(H[ae]).length===0:H[ae].length===0;if(fe&&!se&&(Ce=fe==="greedy"?H[ae].join("").trim()==="":H[ae].length===1&&H[ae][0].length===0),fe==="greedy"&&se){for(var lt=[],Re=0;Re<Me;Re++){var Ke=ee?je[Re]:Re;lt.push(H[ae][Ke])}Ce=lt.join("").trim()===""}if(!Ce){for(var Fe=0;Fe<Me;Fe++){0<Fe&&!xe&&(we+=I);var tn=se&&ee?je[Fe]:Fe;we+=ne(H[ae][tn],Fe)}ae<H.length-1&&(!fe||0<Me&&!xe)&&(we+=J)}}return we}function ne(je,H){var fe,we;return je==null?"":je.constructor===Date?JSON.stringify(je).slice(1,25):(we=!1,U&&typeof je=="string"&&U.test(je)&&(je="'"+je,we=!0),fe=je.toString().replace(F,Y),(we=we||z===!0||typeof z=="function"&&z(je,H)||Array.isArray(z)&&z[H]||((se,ee)=>{for(var ie=0;ie<ee.length;ie++)if(-1<se.indexOf(ee[ie]))return!0;return!1})(fe,f.BAD_DELIMITERS)||-1<fe.indexOf(I)||fe.charAt(0)===" "||fe.charAt(fe.length-1)===" ")?T+fe+T:fe)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!l&&!!r.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=M,f.ParserHandle=b,f.NetworkStreamer=g,f.FileStreamer=y,f.StringStreamer=v,f.ReadableStreamStreamer=j,r.jQuery&&((s=r.jQuery).fn.parse=function(E){var P=E.config||{},z=[];return this.each(function(J){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var T=0;T<this.files.length;T++)z.push({file:this.files[T],inputElem:this,instanceConfig:s.extend({},P)})}),L(),this;function L(){if(z.length===0)_(E.complete)&&E.complete();else{var J,T,Y,V,B=z[0];if(_(E.before)){var U=E.before(B.file,B.inputElem);if(typeof U=="object"){if(U.action==="abort")return J="AbortError",T=B.file,Y=B.inputElem,V=U.reason,void(_(E.error)&&E.error({name:J},T,Y,V));if(U.action==="skip")return void I();typeof U.config=="object"&&(B.instanceConfig=s.extend(B.instanceConfig,U.config))}else if(U==="skip")return void I()}var F=B.instanceConfig.complete;B.instanceConfig.complete=function(W){_(F)&&F(W,B.file,B.inputElem),I()},f.parse(B.file,B.instanceConfig)}}function I(){z.splice(0,1),L()}}),c&&(r.onmessage=function(E){E=E.data,f.WORKER_ID===void 0&&E&&(f.WORKER_ID=E.workerId),typeof E.input=="string"?r.postMessage({workerId:f.WORKER_ID,results:f.parse(E.input,E.config),finished:!0}):(r.File&&E.input instanceof File||E.input instanceof Object)&&(E=f.parse(E.input,E.config))&&r.postMessage({workerId:f.WORKER_ID,results:E,finished:!0})}),(g.prototype=Object.create(h.prototype)).constructor=g,(y.prototype=Object.create(h.prototype)).constructor=y,(v.prototype=Object.create(v.prototype)).constructor=v,(j.prototype=Object.create(h.prototype)).constructor=j,f})})(oh)),oh.exports}var h9=f9();const Ns=Rr(h9);function p9(){const{employees:e,attendance:t}=Ae(),a=t.map(l=>{const c=e.find(d=>d.id===l.employeeId);return{...l,employeeName:c?.name,employeeCode:c?.code}}),r=()=>{const l=Ns.unparse(a),c=new Blob([l],{type:"text/csv"}),d=URL.createObjectURL(c),m=document.createElement("a");m.href=d,m.download="attendance.csv",m.click()},s=l=>l==="Present"?"success":l==="Late"?"warning":l==="Absent"?"error":"default";return n.jsx(K,{title:"Attendance Records",subtitle:"View employee attendance",actions:n.jsxs(X,{variant:"outline",onClick:r,children:[n.jsx(Wt,{className:"w-4 h-4"})," Export CSV"]}),children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Code"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Employee"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Clock In"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Clock Out"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:a.map(l=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:l.employeeCode}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:l.employeeName}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:l.date}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:l.clockIn}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:l.clockOut}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsx(ge,{variant:s(l.status),children:l.status})})]},l.id))})]})})})}function tt({label:e,id:t,error:a,children:r,required:s,hint:l,className:c=""}){return n.jsxs("div",{className:`space-y-1.5 ${c}`,children:[e&&n.jsxs("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700",children:[e," ",s&&n.jsx("span",{className:"text-red-500",children:"*"})]}),r,l&&!a&&n.jsx("p",{className:"text-xs text-gray-500",children:l}),a&&n.jsx("p",{className:"text-xs text-red-600",children:a})]})}function x9(){const e=Qe(H=>H.user),{employees:t,leaves:a,updateLeaveStatus:r}=Ae(),[s,l]=x.useState(null),[c,d]=x.useState(""),[m,f]=x.useState("all"),[h,g]=x.useState("all"),[y,v]=x.useState(""),[j,b]=x.useState(0),[S,M]=x.useState(0),[N,A]=x.useState(""),[O,D]=x.useState(null),[k,_]=x.useState(null),E=x.useMemo(()=>({total:a.length,pending:a.filter(H=>H.status==="Pending").length,approved:a.filter(H=>H.status==="Approved").length,rejected:a.filter(H=>H.status==="Rejected").length}),[a]),P=x.useMemo(()=>a.map(H=>{const fe=t.find(we=>we.id===H.employeeId);return{...H,employee:fe,employeeName:H.employeeName||fe?.name,department:H.department||fe?.department,faculty:H.faculty||fe?.faculty}}),[a,t]),z=x.useMemo(()=>P.filter(H=>{const fe=H.employeeName?.toLowerCase().includes(c.toLowerCase())||H.department?.toLowerCase().includes(c.toLowerCase()),we=m==="all"||H.type===m,se=h==="all"||H.status===h;return fe&&we&&se}).sort((H,fe)=>ue(fe.appliedOn)-ue(H.appliedOn)),[P,c,m,h]),L=z.filter(H=>H.status==="Pending"),I=z.filter(H=>H.status==="Approved"),J=z.filter(H=>H.status==="Rejected"),Y=(()=>{const H=(e?.primaryRole||e?.role)?.toLowerCase()||"hr";return{hod:"hod",dean:"dean",hr:"hr","manager-hr":"hr",vc:"vc","vice-chancellor":"vc",president:"president"}[H]||"hr"})();x.useEffect(()=>{if(!s){D(null);return}const H=s.paidDays??s.days??0,fe=s.unpaidDays??0;b(H),M(fe),A(""),D(s.leaveCategory||null)},[s]);const V=H=>{if(H.type!=="maternity")return{eligible:!0,reason:""};const fe=t.find(ee=>ee.id===H.employeeId);return fe?fe.gender&&fe.gender.toLowerCase()==="female"?fe.status==="confirmed"||fe.employmentStatus==="confirmed"?{eligible:!0,reason:""}:{eligible:!1,reason:"Probationary employees are not eligible for maternity leave. Only confirmed female employees can apply."}:{eligible:!1,reason:"Maternity leave is only available for female employees"}:{eligible:!1,reason:"Employee not found"}},B=(H,fe,we="")=>{if(s?.type==="maternity"&&fe==="Approved"){const se=V(s);if(!se.eligible){alert(`Cannot approve: ${se.reason}`);return}}if(s?.type==="medical"&&Y==="president"&&fe==="Approved"){const se=Number(j)||0,ee=Number(S)||0,ie=se+ee,ae=s?.days||0;if(ie!==ae){A(`Days don't match: ${se} + ${ee} = ${ie}, but leave is ${ae} days`);return}if(!O){alert("Please select a classification for this medical leave (Paid Medical or Unpaid Medical)");return}A(""),r(H,fe,Y,e?.name||"System",we,{paidDays:se,unpaidDays:ee,leaveCategory:O}),l(null),D(null),b(0),M(0);return}if(Y==="dean"&&fe==="Approved"){const se=Number(j)||0,ee=Number(S)||0,ie=se+ee,ae=s?.days||0;if(ie!==ae){A(`Days don't match: ${se} + ${ee} = ${ie}, but leave is ${ae} days`);return}A(""),r(H,fe,Y,e?.name||"System",we,{paidDays:se,unpaidDays:ee}),l(null),b(0),M(0);return}r(H,fe,Y,e?.name||"System",we),l(null)},U=H=>{const fe=H?.file?URL.createObjectURL(H.file):H?.fileUrl||H?.url;if(!fe)return;const we=document.createElement("a");we.href=fe,we.download=H?.name||"document",document.body.appendChild(we),we.click(),document.body.removeChild(we),H?.file&&URL.revokeObjectURL(fe)},F=H=>H.status!=="Pending"&&H.status!=="Forwarded"?!1:H.approvalChain?.find(we=>we.role===Y)?.status==="pending",W=H=>H==="Approved"?"success":H==="Pending"?"warning":H==="Rejected"?"error":"info",ne=H=>Ys.find(fe=>fe.id===H)?.name||H,je=H=>n.jsxs("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>l(H),children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4",children:[n.jsx(Nc,{name:H.employeeName,size:"md"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:H.employeeName}),n.jsx(ge,{variant:W(H.status),children:H.status})]}),n.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[H.department,"  ",ne(H.type)]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-gray-600",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Xe,{className:"w-4 h-4"}),q(ue(H.startDate),"MMM d")," -"," ",q(ue(H.endDate),"MMM d, yyyy")]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Be,{className:"w-4 h-4"}),H.days," day",H.days>1?"s":""]})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-2 line-clamp-1",children:H.reason}),(H.paidDays!==null||H.unpaidDays!==null)&&n.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-xs",children:[H.paidDays!==null&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-green-50 text-green-700 border border-green-100",children:["Paid: ",H.paidDays]}),H.unpaidDays!==null&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-amber-50 text-amber-700 border border-amber-100",children:["Unpaid: ",H.unpaidDays]})]})]}),n.jsxs("div",{className:"text-right text-sm text-gray-500",children:[n.jsx("p",{children:"Applied"}),n.jsx("p",{className:"font-medium",children:q(ue(H.appliedOn),"MMM d")})]})]}),F(H)&&n.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[n.jsxs(X,{size:"sm",onClick:fe=>{fe.stopPropagation(),Y==="dean"?(l(H),b(H.paidDays??H.days??0),M(H.unpaidDays??0),A("")):B(H.id,"Approved")},className:"gap-1",children:[n.jsx(Le,{className:"w-4 h-4"}),"Approve"]}),n.jsxs(X,{size:"sm",variant:"outline",onClick:fe=>{fe.stopPropagation(),B(H.id,"Rejected")},className:"gap-1 text-red-600 border-red-200 hover:bg-red-50",children:[n.jsx(Tt,{className:"w-4 h-4"}),"Reject"]}),n.jsxs(X,{size:"sm",variant:"outline",onClick:fe=>{fe.stopPropagation(),l(H)},className:"gap-1",children:[n.jsx(CD,{className:"w-4 h-4"}),"Details & Comments"]})]}),!F(H)&&H.status!=="Pending"&&n.jsx("div",{className:"mt-3 pt-3 border-t",children:n.jsxs(ge,{variant:"info",size:"sm",children:["Awaiting ",H.approvalChain?.find(fe=>fe.status==="pending")?.role.toUpperCase()," ","approval"]})})]},H.id);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Leave Requests"}),n.jsx("p",{className:"text-gray-600",children:"Review and manage employee leave applications"})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx(St,{title:"Total Requests",value:E.total,icon:ht,color:"primary"}),n.jsx(St,{title:"Pending",value:E.pending,subtitle:"Awaiting approval",icon:Be,color:"warning"}),n.jsx(St,{title:"Approved",value:E.approved,icon:Le,color:"success"}),n.jsx(St,{title:"Rejected",value:E.rejected,icon:Tt,color:"error"})]}),n.jsx(K,{children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Cn,{type:"text",placeholder:"Search by employee name or department...",value:c,onChange:H=>d(H.target.value),className:"w-full",inputClassName:"pr-4 py-2"})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(oo,{className:"w-5 h-5 text-gray-400"}),n.jsxs("select",{value:m,onChange:H=>f(H.target.value),className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Types"}),Ys.map(H=>n.jsx("option",{value:H.id,children:H.name},H.id))]})]}),n.jsxs("select",{value:h,onChange:H=>g(H.target.value),className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"Pending",children:"Pending"}),n.jsx("option",{value:"Approved",children:"Approved"}),n.jsx("option",{value:"Rejected",children:"Rejected"})]})]})}),n.jsxs(ca,{defaultValue:"pending",children:[n.jsxs(da,{children:[n.jsxs(qe,{value:"pending",children:["Pending (",L.length,")"]}),n.jsxs(qe,{value:"approved",children:["Approved (",I.length,")"]}),n.jsxs(qe,{value:"rejected",children:["Rejected (",J.length,")"]}),n.jsxs(qe,{value:"all",children:["All (",z.length,")"]})]}),[{key:"pending",data:L},{key:"approved",data:I},{key:"rejected",data:J},{key:"all",data:z}].map(({key:H,data:fe})=>n.jsx(Nt,{value:H,children:n.jsx(K,{children:fe.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ht,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),n.jsxs("p",{className:"text-gray-500",children:["No ",H==="all"?"":H," leave requests"]})]}):n.jsx("div",{className:"space-y-4",children:fe.map(je)})})},H))]}),n.jsx(vt,{isOpen:!!s,onClose:()=>{l(null),v(""),b(0),M(0),A(""),D(null),_(null)},title:"Leave Request Details",size:"lg",children:s&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Nc,{name:s.employeeName,size:"lg"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:s.employeeName}),n.jsxs("p",{className:"text-sm text-gray-500",children:[s.department,"  ",s.faculty]}),n.jsx(ge,{variant:W(s.status),className:"mt-1",children:s.status})]})]}),s.type==="maternity"&&(()=>{const H=V(s);return H.eligible?n.jsx("div",{className:"bg-linear-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl p-5",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center shrink-0",children:n.jsx(Le,{className:"w-6 h-6 text-green-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-bold text-green-900 text-lg mb-2",children:" Maternity Leave Eligible"}),n.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Employee meets all eligibility criteria for maternity leave benefits."}),n.jsx("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Gender"}),n.jsx("p",{className:"font-semibold text-green-700",children:s.employee?.gender||"Female"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Status"}),n.jsx("p",{className:"font-semibold text-green-700",children:s.employee?.status||s.employee?.employmentStatus||"Confirmed"})]})]})})]})]})}):n.jsx("div",{className:"bg-linear-to-r from-red-50 to-rose-50 border-2 border-red-300 rounded-xl p-5",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center shrink-0",children:n.jsx(Tt,{className:"w-6 h-6 text-red-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-bold text-red-900 text-lg mb-2",children:" Maternity Leave Ineligible"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{className:"text-red-700",children:[n.jsx("span",{className:"font-semibold",children:"Reason:"})," ",H.reason]}),n.jsx("div",{className:"bg-white p-3 rounded-lg border border-red-200",children:n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Gender"}),n.jsx("p",{className:"font-medium text-gray-900",children:s.employee?.gender||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Status"}),n.jsx("p",{className:"font-medium text-gray-900",children:s.employee?.status||s.employee?.employmentStatus||"Unknown"})]})]})}),n.jsx("div",{className:"bg-red-100 p-3 rounded-lg border border-red-200",children:n.jsx("p",{className:"text-xs text-red-800 font-semibold",children:" Policy Requirement: Maternity leave is available only for confirmed female employees"})})]})]})]})})})(),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Leave Type"}),n.jsx("p",{className:"font-medium",children:ne(s.type)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Duration"}),n.jsxs("p",{className:"font-medium",children:[s.days," day",s.days>1?"s":""]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Employee Status"}),n.jsx("p",{className:"font-medium",children:s.employee?.status||s.employee?.employmentStatus||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Days Allowed"}),n.jsxs("p",{className:"font-medium",children:[s.employee?.leaveBalance?.[s.type]??"N/A"," days"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Remaining After"}),n.jsx("p",{className:"font-medium",children:(s.employee?.leaveBalance?.[s.type]??0)-s.days>=0?(s.employee?.leaveBalance?.[s.type]??0)-s.days+" days":n.jsx("span",{className:"text-red-600",children:"Insufficient balance"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"From"}),n.jsx("p",{className:"font-medium",children:q(ue(s.startDate),"MMMM d, yyyy")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"To"}),n.jsx("p",{className:"font-medium",children:q(ue(s.endDate),"MMMM d, yyyy")})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase mb-1",children:"Reason"}),n.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:s.reason})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase mb-1",children:"Applied On"}),n.jsx("p",{className:"font-medium",children:q(ue(s.appliedOn),"MMMM d, yyyy")})]}),(s.paidDays!==null||s.unpaidDays!==null)&&n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 bg-gray-50 border border-gray-200 rounded-lg p-3",children:[s.paidDays!==null&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Paid Days"}),n.jsx("p",{className:"font-medium text-green-700",children:s.paidDays})]}),s.unpaidDays!==null&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Unpaid Days"}),n.jsx("p",{className:"font-medium text-amber-700",children:s.unpaidDays})]})]}),s.documents&&s.documents.length>0&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-gray-500 uppercase mb-2 flex items-center gap-2",children:[n.jsx(ht,{className:"w-4 h-4"}),"Supporting Documents"]}),n.jsx("div",{className:"space-y-2",children:s.documents.map(H=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[n.jsx(ht,{className:"w-4 h-4 text-gray-400 shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:H.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:[(H.size/1024).toFixed(1)," KB"]})]})]}),n.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 transition-colors ml-2",title:"Download document",type:"button",onClick:()=>U(H),children:n.jsx(Wt,{className:"w-4 h-4"})})]},H.id))})]}),F(s)&&s.type==="medical"&&Y==="president"&&n.jsxs("div",{className:"space-y-5 bg-linear-to-br from-purple-50 via-indigo-50 to-blue-50 border-2 border-purple-300 rounded-xl p-6 shadow-lg",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-linear-to-br from-purple-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:n.jsx(Ar,{className:"w-7 h-7 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-purple-900 text-xl",children:" President's Final Medical Leave Decision"}),n.jsx("p",{className:"text-sm text-purple-700",children:"As the final authority, classify days and categorize this medical leave"})]})]}),n.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-xl p-5 shadow-sm",children:[n.jsx("p",{className:"font-bold text-purple-900 mb-1 text-lg",children:"Step 1: Classify Leave Days"}),n.jsxs("p",{className:"text-sm text-purple-700 mb-4",children:["Total days to classify:"," ",n.jsx("span",{className:"font-bold text-xl",children:s.days})," days"]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Paid Days"}),n.jsx("input",{type:"number",min:0,max:s.days,value:j,onChange:H=>{b(H.target.value),A("")},className:"w-full px-4 py-3 border-2 border-green-300 rounded-xl text-lg font-bold text-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 bg-green-50",placeholder:"0"}),n.jsx("p",{className:"text-xs text-green-600 mt-2 font-medium",children:" Employee receives full salary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Unpaid Days"}),n.jsx("input",{type:"number",min:0,max:s.days,value:S,onChange:H=>{M(H.target.value),A("")},className:"w-full px-4 py-3 border-2 border-amber-300 rounded-xl text-lg font-bold text-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500 bg-amber-50",placeholder:"0"}),n.jsx("p",{className:"text-xs text-amber-600 mt-2 font-medium",children:" Employee receives no salary"})]})]}),(()=>{const H=Number(j)||0,fe=Number(S)||0,we=H+fe,se=we===s.days,ee=we>s.days;return s.days-we,n.jsxs("div",{className:`flex items-center gap-4 p-5 rounded-xl border-2 transition-all ${se?"bg-linear-to-r from-green-50 to-emerald-50 border-green-400":ee?"bg-linear-to-r from-red-50 to-rose-50 border-red-400":"bg-linear-to-r from-yellow-50 to-amber-50 border-yellow-400"}`,children:[n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:"text-3xl font-bold text-green-600",children:H}),n.jsx("p",{className:"text-xs text-green-700 font-bold uppercase",children:"Paid"})]}),n.jsx("div",{className:"text-4xl text-gray-300 font-bold",children:"+"}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:"text-3xl font-bold text-amber-600",children:fe}),n.jsx("p",{className:"text-xs text-amber-700 font-bold uppercase",children:"Unpaid"})]}),n.jsx("div",{className:"text-4xl text-gray-300 font-bold",children:"="}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:`text-3xl font-bold ${se?"text-green-600":ee?"text-red-600":"text-yellow-600"}`,children:we}),n.jsxs("p",{className:"text-xs text-gray-700 font-bold uppercase",children:["of ",s.days]})]})]})})(),N&&n.jsx("div",{className:"bg-red-100 border border-red-300 rounded-lg p-3 mt-3",children:n.jsxs("p",{className:"text-sm text-red-700 font-semibold",children:[" ",N]})})]}),n.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-xl p-5 shadow-sm",children:[n.jsx("p",{className:"font-bold text-purple-900 mb-1 text-lg",children:"Step 2: Final Medical Leave Category"}),n.jsx("p",{className:"text-sm text-purple-700 mb-4",children:"Based on submitted medical documentation and paid days allocation, select final classification:"}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("button",{type:"button",onClick:()=>D("medical"),className:`group p-5 rounded-xl border-3 transition-all text-left ${O==="medical"?"border-green-500 bg-linear-to-br from-green-50 to-emerald-50 shadow-lg scale-105":"border-gray-200 bg-white hover:border-green-300 hover:shadow-md"}`,children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${O==="medical"?"bg-green-500":"bg-gray-100"}`,children:n.jsx(Le,{className:`w-6 h-6 ${O==="medical"?"text-white":"text-gray-400"}`})}),n.jsx("p",{className:"font-bold text-gray-900 text-lg",children:" Paid Medical Leave"})]}),n.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Approved with medical benefits. Employee receives full salary for paid days. Deducted from medical leave balance."})]}),n.jsxs("button",{type:"button",onClick:()=>D("unpaid"),className:`group p-5 rounded-xl border-3 transition-all text-left ${O==="unpaid"?"border-amber-500 bg-linear-to-br from-amber-50 to-orange-50 shadow-lg scale-105":"border-gray-200 bg-white hover:border-amber-300 hover:shadow-md"}`,children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${O==="unpaid"?"bg-amber-500":"bg-gray-100"}`,children:n.jsx(Tt,{className:`w-6 h-6 ${O==="unpaid"?"text-white":"text-gray-400"}`})}),n.jsx("p",{className:"font-bold text-gray-900 text-lg",children:" Unpaid Medical Leave"})]}),n.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Not eligible for medical benefits. Employee receives no salary. No balance deduction."})]})]}),O&&n.jsx("div",{className:"bg-linear-to-r from-blue-50 to-indigo-50 border border-blue-300 rounded-lg p-4 mt-4",children:n.jsxs("p",{className:"text-sm text-blue-900 font-bold",children:[" Final Classification Selected:"," ",n.jsx("span",{className:"text-lg",children:O==="medical"?"Paid Medical Leave":"Unpaid Medical Leave"})]})})]}),s.approvalChain?.find(H=>H.role==="vc")?.comment&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(au,{className:"w-5 h-5 text-blue-600 shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-bold text-blue-900 mb-1",children:" Vice Chancellor's Recommendation:"}),n.jsx("p",{className:"text-sm text-blue-700 leading-relaxed",children:s.approvalChain.find(H=>H.role==="vc").comment})]})]})})]}),s.approvalChain&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase mb-2",children:"Approval Chain"}),n.jsx("div",{className:"space-y-2",children:s.approvalChain.map((H,fe)=>n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[H.status==="approved"?n.jsx(Le,{className:"w-5 h-5 text-green-500"}):H.status==="rejected"?n.jsx(Tt,{className:"w-5 h-5 text-red-500"}):n.jsx(Be,{className:"w-5 h-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium uppercase text-sm",children:H.role}),H.date&&n.jsx("p",{className:"text-xs text-gray-500",children:q(ue(H.date),"MMM d, yyyy")})]})]}),n.jsxs("div",{className:"flex-1",children:[H.by&&n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"By:"})," ",H.by]}),H.comment&&n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[n.jsx("span",{className:"font-medium",children:"Comment:"})," ",H.comment]})]}),n.jsx("span",{className:`text-sm font-medium capitalize whitespace-nowrap ${H.status==="approved"?"text-green-600":H.status==="rejected"?"text-red-600":"text-gray-500"}`,children:H.status})]},fe))})]}),F(s)&&n.jsx("div",{children:n.jsx(tt,{label:"Comments (Optional)",children:n.jsx("textarea",{value:y,onChange:H=>v(H.target.value),placeholder:"Add comments for this approval (e.g., medical documents verified, alternative arrangements made, etc.)",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})})}),F(s)&&Y==="dean"&&n.jsxs("div",{className:"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-blue-900 mb-3",children:"Classify Leave Days as Paid or Unpaid"}),n.jsxs("p",{className:"text-sm text-blue-700 mb-4",children:["Total days to classify: ",n.jsx("span",{className:"font-bold",children:s.days})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Paid Days"}),n.jsx("input",{type:"number",min:0,max:s.days,value:j,onChange:H=>{b(H.target.value),A("")},className:"w-full px-3 py-2 border border-green-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 bg-white",placeholder:"0"}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Employee receives full pay"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unpaid Days"}),n.jsx("input",{type:"number",min:0,max:s.days,value:S,onChange:H=>{M(H.target.value),A("")},className:"w-full px-3 py-2 border border-amber-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-500 bg-white",placeholder:"0"}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Employee receives no pay"})]})]}),n.jsxs("div",{className:"flex gap-3 p-3 bg-white rounded-lg border border-blue-100",children:[n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:j}),n.jsx("p",{className:"text-xs text-green-700 font-medium",children:"PAID"})]}),n.jsx("div",{className:"text-center text-2xl text-gray-300 font-bold",children:"+"}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:S}),n.jsx("p",{className:"text-xs text-amber-700 font-medium",children:"UNPAID"})]}),n.jsx("div",{className:"text-center text-2xl text-gray-300 font-bold",children:"="}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.days}),n.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"TOTAL"})]})]}),N&&n.jsxs("p",{className:"text-sm text-red-600 bg-red-50 p-2 rounded border border-red-200",children:[" ",N]})]}),k==="approve"&&s.type==="Medical"&&s.approvalChain?.dean?.status==="Approved"&&n.jsxs("div",{className:"space-y-4 bg-teal-50 border border-teal-200 rounded-lg p-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-teal-900 mb-3",children:" Final Medical Leave Classification"}),n.jsx("p",{className:"text-sm text-teal-700 mb-4",children:"Based on Dean's assessment and submitted documentation, select the final category:"})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("button",{onClick:()=>D("medical"),className:`p-4 rounded-lg border-2 transition-all ${O==="medical"?"bg-green-100 border-green-500":"bg-white border-gray-200 hover:border-green-300"}`,children:[n.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:" Paid Medical Leave"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Employee receives full salary"})]}),n.jsxs("button",{onClick:()=>D("unpaid"),className:`p-4 rounded-lg border-2 transition-all ${O==="unpaid"?"bg-red-100 border-red-500":"bg-white border-gray-200 hover:border-red-300"}`,children:[n.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:" Unpaid Medical Leave"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Employee receives no salary"})]})]}),O&&n.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded text-sm text-blue-900",children:[" Selected:"," ",O==="medical"?"Paid Medical Leave":"Unpaid Medical Leave"]})]}),F(s)&&n.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t-2",children:[n.jsx(X,{variant:"outline",onClick:()=>{B(s.id,"Rejected",y),v(""),b(0),M(0),A(""),D(null),_(null)},className:"text-red-600 border-red-200 hover:bg-red-50 px-6 py-2",children:"Reject"}),n.jsx(X,{onClick:()=>{B(s.id,"Approved",y),v(""),b(0),M(0),A(""),D(null),_(null)},disabled:s.type==="maternity"&&!V(s).eligible||s.type==="medical"&&Y==="president"&&(!O||Number(j)+Number(S)!==s.days),className:"bg-linear-to-r from-emerald-500 to-green-500 hover:from-emerald-600 hover:to-green-600 text-white px-6 py-2",children:"Approve"})]}),!F(s)&&n.jsx("div",{className:"flex justify-end pt-4 border-t",children:n.jsx(X,{variant:"outline",onClick:()=>{l(null),v(""),b(0),M(0),A(""),D(null),_(null)},children:"Close"})})]})})]})}function Fu({icon:e,title:t,subtitle:a,description:r,action:s,className:l=""}){const c=a||r,d=e&&(typeof e=="function"||e.$$typeof);return n.jsxs("div",{className:`text-center py-8 sm:py-12 px-4 ${l}`,children:[e&&n.jsx("div",{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-gray-400",children:d?n.jsx(e,{className:"h-10 w-10 sm:h-12 sm:w-12"}):e}),n.jsx("h3",{className:"mt-3 text-sm sm:text-base font-medium text-gray-900",children:t}),c&&n.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500 max-w-sm mx-auto",children:c}),s&&n.jsx("div",{className:"mt-4 sm:mt-6",children:s})]})}function g9(){const e=Qe(T=>T.user),{promotions:t,updatePromotionStatus:a,approvePromotion:r}=Ae(),[s,l]=x.useState("pending"),[c,d]=x.useState(""),[m,f]=x.useState("all"),[h,g]=x.useState(null),[y,v]=x.useState(!1),[j,b]=x.useState(null),[S,M]=x.useState(""),[N,A]=x.useState(""),[O,D]=x.useState(q(new Date,"yyyy-MM-dd")),[k,_]=x.useState(""),E=x.useMemo(()=>t.filter(T=>{if(s==="pending"&&T.status!=="Pending"||s==="review"&&T.status!=="Under Review"||s==="completed"&&!["Approved","Rejected"].includes(T.status))return!1;if(c){const Y=c.toLowerCase();if(!T.employeeName?.toLowerCase().includes(Y)&&!T.department?.toLowerCase().includes(Y))return!1}return!(m!=="all"&&T.department!==m)}),[t,s,c,m]),P=(T,Y)=>{g(T),b(Y),v(!0),M(""),A(""),D(T.effectiveDate||q(new Date,"yyyy-MM-dd")),_(T.proposedSalary||T.currentSalary||T.salaryBase||"")},z=()=>{h&&(j==="approve"?r(h.id,{decidedBy:e?.name,notes:S,newSalary:k?parseInt(k,10):h.proposedSalary,effectiveDate:O}):j==="reject"&&a(h.id,"Rejected",{type:"hr",notes:S,decidedBy:e?.name,date:q(new Date,"yyyy-MM-dd")}),v(!1),g(null))},L=T=>{const Y={Pending:"warning","Under Review":"info",Approved:"success",Rejected:"error"};return n.jsx(ge,{variant:Y[T]||"default",children:T})},I=Object.values(ms).flat(),J={pending:t.filter(T=>T.status==="Pending").length,underReview:t.filter(T=>T.status==="Under Review").length,approved:t.filter(T=>T.status==="Approved").length,rejected:t.filter(T=>T.status==="Rejected").length};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Promotion Management"}),n.jsx("p",{className:"text-gray-600",children:"Review and process promotion requests"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Pending",value:J.pending,color:"amber",icon:Be},{label:"Under Review",value:J.underReview,color:"blue",icon:us},{label:"Approved",value:J.approved,color:"green",icon:Le},{label:"Rejected",value:J.rejected,color:"red",icon:Tt}].map(T=>n.jsx(K,{className:`bg-${T.color}-50 border-${T.color}-100`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm text-${T.color}-600`,children:T.label}),n.jsx("p",{className:`text-2xl font-bold text-${T.color}-700`,children:T.value})]}),n.jsx(T.icon,{className:`w-8 h-8 text-${T.color}-400`})]})},T.label))}),n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsx(ca,{value:s,onValueChange:l,children:n.jsxs(da,{children:[n.jsxs(qe,{value:"pending",children:["Pending (",J.pending,")"]}),n.jsxs(qe,{value:"review",children:["Under Review (",J.underReview,")"]}),n.jsxs(qe,{value:"completed",children:["Completed (",J.approved+J.rejected,")"]})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsx(Cn,{type:"text",placeholder:"Search employees...",value:c,onChange:T=>d(T.target.value),className:"w-full sm:w-64",inputClassName:"pr-4 py-2 text-sm"}),n.jsxs("select",{value:m,onChange:T=>f(T.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Departments"}),I.map(T=>n.jsx("option",{value:T,children:T},T))]})]})]}),n.jsx(K,{className:"bg-blue-50 border-blue-200",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(us,{className:"w-6 h-6 text-blue-600 shrink-0 mt-1"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-blue-900",children:"Committee Meeting Scheduling"}),n.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"As HR, you can monitor promotion requests. Committee meeting scheduling is handled by the Dean, who serves as the convener for promotion reviews."})]})]})}),n.jsx(K,{children:E.length===0?n.jsx(Fu,{icon:dj,title:"No Promotions Found",description:s==="pending"?"No pending promotion requests":s==="review"?"No promotions under review":"No completed promotions"}):n.jsx("div",{className:"space-y-4",children:E.map(T=>n.jsxs("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold",children:T.employeeName?.charAt(0)||"?"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:T.employeeName}),n.jsxs("p",{className:"text-sm text-gray-500",children:[T.department,"  ",T.faculty]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-indigo-600",children:[n.jsx("span",{children:T.currentDesignation}),n.jsx(pu,{className:"w-4 h-4"}),n.jsx("span",{className:"font-medium",children:T.requestedDesignation}),T.proposedSalary&&n.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-lg",children:["Proposed Salary: ",T.proposedSalary.toLocaleString()]})]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:[n.jsx(Xe,{className:"w-4 h-4 inline mr-1"}),q(ue(T.appliedOn),"MMM d, yyyy")]}),n.jsxs("div",{className:"text-sm text-gray-500",children:[T.yearsInService," years service"]}),L(T.status)]}),T.status==="Pending"&&n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"px-3 py-2 bg-blue-50 border border-blue-200 rounded-lg text-xs text-blue-700",children:" Committee scheduling is handled by Dean"}),n.jsx(X,{size:"sm",variant:"outline",onClick:()=>P(T,"reject"),className:"text-red-600 border-red-200 hover:bg-red-50",children:"Reject"})]}),T.status==="Under Review"&&n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{size:"sm",onClick:()=>P(T,"approve"),className:"bg-green-600 hover:bg-green-700 gap-1",children:[n.jsx(Le,{className:"w-4 h-4"}),"Approve"]}),n.jsx(X,{size:"sm",variant:"outline",onClick:()=>P(T,"reject"),className:"text-red-600 border-red-200 hover:bg-red-50",children:"Reject"})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t",children:[n.jsx("p",{className:"text-sm text-gray-600",children:T.reason}),T.documents?.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:T.documents.map((Y,V)=>n.jsxs("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs text-gray-600",children:[" ",Y]},V))})]}),T.committeeReview&&n.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Committee Meeting"}),n.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Scheduled: ",T.committeeReview.meetingDate," by"," ",T.committeeReview.scheduledBy]}),T.committeeReview.notes&&n.jsx("p",{className:"text-sm text-blue-600 mt-1",children:T.committeeReview.notes})]})]},T.id))})}),n.jsx(vt,{isOpen:y,onClose:()=>v(!1),title:j==="approve"?"Approve Promotion":"Reject Promotion",children:h&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"font-medium",children:h.employeeName}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[h.currentDesignation,"  ",h.requestedDesignation]})]}),j==="approve"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Salary (PKR)"}),n.jsx("input",{type:"number",value:k,onChange:T=>_(T.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., 180000"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Effective Date"}),n.jsx("input",{type:"date",value:O,onChange:T=>D(T.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments"}),n.jsx("textarea",{value:S,onChange:T=>M(T.target.value),rows:3,placeholder:j==="reject"?"Please provide reason for rejection...":"Add any notes...",className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),n.jsx(X,{onClick:z,className:j==="reject"?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700",children:j==="approve"?"Confirm Approval":"Confirm Rejection"})]})]})})]})}function y9(){const e=Qe(I=>I.user),{resignations:t,employees:a,updateResignationStatus:r,processResignation:s}=Ae(),[l,c]=x.useState("pending"),[d,m]=x.useState(""),[f,h]=x.useState("all"),[g,y]=x.useState(null),[v,j]=x.useState(!1),[b,S]=x.useState(!1),[M,N]=x.useState(null),[A,O]=x.useState(""),D=x.useMemo(()=>t.filter(I=>{if(l==="pending"&&I.status!=="Pending"||l==="approved"&&I.status!=="Approved"||l==="completed"&&I.status!=="Completed")return!1;if(d){const J=d.toLowerCase();if(!I.employeeName?.toLowerCase().includes(J)&&!I.department?.toLowerCase().includes(J))return!1}return!(f!=="all"&&I.department!==f)}),[t,l,d,f]),k=(I,J)=>{y(I),N(J),j(!0),O("")},_=()=>{g&&(M==="approve"?r(g.id,"Approved",{hrApproval:{approvedBy:e?.name,date:q(new Date,"yyyy-MM-dd"),comments:A}}):M==="reject"?r(g.id,"Rejected",{hrApproval:{rejectedBy:e?.name,date:q(new Date,"yyyy-MM-dd"),comments:A}}):M==="process"&&s(g.id),j(!1),y(null))},E=I=>{const J={Pending:"warning",Approved:"info",Completed:"success",Rejected:"error",Withdrawn:"default"};return n.jsx(ge,{variant:J[I]||"default",children:I})},P=I=>{const J=Gr(ue(I),new Date);return J>0?J:0},z=Object.values(ms).flat(),L={pending:t.filter(I=>I.status==="Pending").length,approved:t.filter(I=>I.status==="Approved").length,completed:t.filter(I=>I.status==="Completed").length};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Resignation Management"}),n.jsx("p",{className:"text-gray-600",children:"Process employee resignations and exit procedures"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{label:"Pending Review",value:L.pending,color:"amber",icon:Be},{label:"In Process",value:L.approved,color:"blue",icon:wc},{label:"Completed",value:L.completed,color:"green",icon:Le}].map(I=>n.jsx(K,{className:`bg-${I.color}-50 border-${I.color}-100`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm text-${I.color}-600`,children:I.label}),n.jsx("p",{className:`text-2xl font-bold text-${I.color}-700`,children:I.value})]}),n.jsx(I.icon,{className:`w-8 h-8 text-${I.color}-400`})]})},I.label))}),n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsx(ca,{value:l,onValueChange:c,children:n.jsxs(da,{children:[n.jsxs(qe,{value:"pending",children:["Pending (",L.pending,")"]}),n.jsxs(qe,{value:"approved",children:["In Process (",L.approved,")"]}),n.jsxs(qe,{value:"completed",children:["Completed (",L.completed,")"]})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsx(Cn,{type:"text",placeholder:"Search employees...",value:d,onChange:I=>m(I.target.value),className:"w-full sm:w-64",inputClassName:"pr-4 py-2 text-sm"}),n.jsxs("select",{value:f,onChange:I=>h(I.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Departments"}),z.map(I=>n.jsx("option",{value:I,children:I},I))]})]})]}),n.jsx(K,{children:D.length===0?n.jsx(Fu,{icon:PD,title:"No Resignations Found",description:l==="pending"?"No pending resignation requests":l==="approved"?"No resignations in process":"No completed resignations"}):n.jsx("div",{className:"space-y-4",children:D.map(I=>n.jsxs("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-red-400 to-orange-400 flex items-center justify-center text-white font-bold",children:I.employeeName?.charAt(0)||"?"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:I.employeeName}),n.jsxs("p",{className:"text-sm text-gray-500",children:[I.designation,"  ",I.department]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Reason: ",I.reason]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Applied:"})," ",q(ue(I.appliedOn),"MMM d")]}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Last Day:"})," ",n.jsx("span",{className:"font-medium text-red-600",children:q(ue(I.lastWorkingDate),"MMM d, yyyy")})]}),I.status==="Approved"&&n.jsxs("div",{className:"px-3 py-1 bg-amber-100 rounded-full text-sm text-amber-700",children:[P(I.lastWorkingDate)," days left"]}),E(I.status)]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{size:"sm",variant:"outline",onClick:()=>{y(I),S(!0)},children:"View Details"}),I.status==="Pending"&&n.jsxs(n.Fragment,{children:[n.jsx(X,{size:"sm",onClick:()=>k(I,"approve"),className:"bg-green-600 hover:bg-green-700",children:"Approve"}),n.jsx(X,{size:"sm",variant:"outline",onClick:()=>k(I,"reject"),className:"text-red-600 border-red-200 hover:bg-red-50",children:"Reject"})]}),I.status==="Approved"&&I.exitSurvey&&n.jsxs(X,{size:"sm",onClick:()=>k(I,"process"),className:"gap-1",children:[n.jsx(Le,{className:"w-4 h-4"}),"Complete Exit"]})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t flex flex-wrap gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[I.exitSurvey?n.jsx(Le,{className:"w-5 h-5 text-green-500"}):n.jsx(Be,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Exit Survey"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[I.handoverStatus==="completed"?n.jsx(Le,{className:"w-5 h-5 text-green-500"}):n.jsx(Be,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Handover"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[I.status==="Completed"?n.jsx(Le,{className:"w-5 h-5 text-green-500"}):n.jsx(Be,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Clearance"})]})]})]},I.id))})}),n.jsx(vt,{isOpen:v,onClose:()=>j(!1),title:M==="approve"?"Approve Resignation":M==="reject"?"Reject Resignation":"Complete Exit Process",children:g&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"font-medium",children:g.employeeName}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[g.designation,"  ",g.department]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Last Working Day:"," ",q(ue(g.lastWorkingDate),"MMM d, yyyy")]})]}),M==="process"&&n.jsx("div",{className:"p-4 bg-amber-50 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Jn,{className:"w-5 h-5 text-amber-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-amber-800",children:"Confirm Exit Completion"}),n.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"This will move the employee to ex-employee records and remove them from active employees. This action cannot be undone."})]})]})}),M!=="process"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments"}),n.jsx("textarea",{value:A,onChange:I=>O(I.target.value),rows:3,placeholder:M==="reject"?"Reason for rejection...":"Add any notes...",className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),n.jsx(X,{onClick:_,className:M==="reject"?"bg-red-600 hover:bg-red-700":M==="approve"?"bg-green-600 hover:bg-green-700":"",children:M==="approve"?"Approve Resignation":M==="reject"?"Reject Request":"Complete Exit"})]})]})}),n.jsx(vt,{isOpen:b,onClose:()=>S(!1),title:"Resignation Details",size:"lg",children:g&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-linear-to-br from-red-400 to-orange-400 flex items-center justify-center text-white text-2xl font-bold",children:g.employeeName?.charAt(0)}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:g.employeeName}),n.jsxs("p",{className:"text-gray-500",children:[g.designation,"  ",g.department]})]}),E(g.status)]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Applied On"}),n.jsx("p",{className:"font-medium",children:q(ue(g.appliedOn),"MMM d, yyyy")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Last Working Day"}),n.jsx("p",{className:"font-medium text-red-600",children:q(ue(g.lastWorkingDate),"MMM d, yyyy")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Notice Period"}),n.jsxs("p",{className:"font-medium",children:[g.noticePeriod," days"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Reason"}),n.jsx("p",{className:"font-medium",children:g.reason})]})]}),g.detailedReason&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Detailed Explanation"}),n.jsx("p",{className:"text-sm text-gray-700 p-3 bg-gray-50 rounded-lg",children:g.detailedReason})]}),g.exitSurvey&&n.jsxs("div",{className:"border rounded-xl p-4",children:[n.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(ii,{className:"w-5 h-5 text-green-500"}),"Exit Survey Responses"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Primary Reason"}),n.jsx("p",{className:"font-medium",children:g.exitSurvey.reason})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Job Satisfaction"}),n.jsx("div",{className:"flex gap-1 mt-1",children:[1,2,3,4,5].map(I=>n.jsx("span",{className:`w-6 h-6 rounded flex items-center justify-center text-xs ${I<=g.exitSurvey.satisfaction?"bg-yellow-400 text-white":"bg-gray-200"}`,children:I},I))})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Would Recommend"}),n.jsx("p",{className:"font-medium",children:g.exitSurvey.wouldRecommend?" Yes":" No"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Would Return"}),n.jsx("p",{className:"font-medium",children:g.exitSurvey.wouldReturn?" Yes":" No"})]})]}),g.exitSurvey.feedback&&n.jsxs("div",{className:"mt-4 pt-4 border-t",children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Feedback"}),n.jsx("p",{className:"text-sm text-gray-700",children:g.exitSurvey.feedback})]})]})]})})]})}function FD(e){var t,a,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(a=FD(e[t]))&&(r&&(r+=" "),r+=a)}else for(a in e)e[a]&&(r&&(r+=" "),r+=a);return r}function at(){for(var e,t,a=0,r="",s=arguments.length;a<s;a++)(e=arguments[a])&&(t=FD(e))&&(r&&(r+=" "),r+=t);return r}var v9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function gj(e){if(typeof e!="string")return!1;var t=v9;return t.includes(e)}var b9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],j9=new Set(b9);function UD(e){return typeof e!="string"?!1:j9.has(e)}function qD(e){return typeof e=="string"&&e.startsWith("data-")}function Bt(e){if(typeof e!="object"||e===null)return{};var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(UD(a)||qD(a))&&(t[a]=e[a]);return t}function Xr(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Bt(t)}return typeof e=="object"&&!Array.isArray(e)?Bt(e):null}function Sn(e){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(UD(a)||qD(a)||gj(a))&&(t[a]=e[a]);return t}function w9(e){return e==null?null:x.isValidElement(e)?Sn(e.props):typeof e=="object"&&!Array.isArray(e)?Sn(e):null}var N9=["children","width","height","viewBox","className","style","title","desc"];function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Wv.apply(null,arguments)}function S9(e,t){if(e==null)return{};var a,r,s=A9(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function A9(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var yj=x.forwardRef((e,t)=>{var{children:a,width:r,height:s,viewBox:l,className:c,style:d,title:m,desc:f}=e,h=S9(e,N9),g=l||{width:r,height:s,x:0,y:0},y=at("recharts-surface",c);return x.createElement("svg",Wv({},Sn(h),{className:y,width:r,height:s,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),x.createElement("title",null,m),x.createElement("desc",null,f),a)}),C9=["children","className"];function Yv(){return Yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Yv.apply(null,arguments)}function M9(e,t){if(e==null)return{};var a,r,s=D9(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function D9(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var ft=x.forwardRef((e,t)=>{var{children:a,className:r}=e,s=M9(e,C9),l=at("recharts-layer",r);return x.createElement("g",Yv({className:l},Sn(s),{ref:t}),a)}),HD=x.createContext(null),O9=()=>x.useContext(HD);function Zt(e){return function(){return e}}const VD=Math.cos,vh=Math.sin,Qr=Math.sqrt,bh=Math.PI,Np=2*bh,Gv=Math.PI,Zv=2*Gv,Il=1e-6,E9=Zv-Il;function KD(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=arguments[t]+e[t]}function k9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return KD;const a=10**t;return function(r){this._+=r[0];for(let s=1,l=r.length;s<l;++s)this._+=Math.round(arguments[s]*a)/a+r[s]}}class P9{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?KD:k9(t)}moveTo(t,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,a){this._append`L${this._x1=+t},${this._y1=+a}`}quadraticCurveTo(t,a,r,s){this._append`Q${+t},${+a},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,a,r,s,l,c){this._append`C${+t},${+a},${+r},${+s},${this._x1=+l},${this._y1=+c}`}arcTo(t,a,r,s,l){if(t=+t,a=+a,r=+r,s=+s,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,d=this._y1,m=r-t,f=s-a,h=c-t,g=d-a,y=h*h+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=a}`;else if(y>Il)if(!(Math.abs(g*m-f*h)>Il)||!l)this._append`L${this._x1=t},${this._y1=a}`;else{let v=r-c,j=s-d,b=m*m+f*f,S=v*v+j*j,M=Math.sqrt(b),N=Math.sqrt(y),A=l*Math.tan((Gv-Math.acos((b+y-S)/(2*M*N)))/2),O=A/N,D=A/M;Math.abs(O-1)>Il&&this._append`L${t+O*h},${a+O*g}`,this._append`A${l},${l},0,0,${+(g*v>h*j)},${this._x1=t+D*m},${this._y1=a+D*f}`}}arc(t,a,r,s,l,c){if(t=+t,a=+a,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(s),m=r*Math.sin(s),f=t+d,h=a+m,g=1^c,y=c?s-l:l-s;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Il||Math.abs(this._y1-h)>Il)&&this._append`L${f},${h}`,r&&(y<0&&(y=y%Zv+Zv),y>E9?this._append`A${r},${r},0,1,${g},${t-d},${a-m}A${r},${r},0,1,${g},${this._x1=f},${this._y1=h}`:y>Il&&this._append`A${r},${r},0,${+(y>=Gv)},${g},${this._x1=t+r*Math.cos(l)},${this._y1=a+r*Math.sin(l)}`)}rect(t,a,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function vj(e){let t=3;return e.digits=function(a){if(!arguments.length)return t;if(a==null)t=null;else{const r=Math.floor(a);if(!(r>=0))throw new RangeError(`invalid digits: ${a}`);t=r}return e},()=>new P9(t)}function bj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function WD(e){this._context=e}WD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Sp(e){return new WD(e)}function YD(e){return e[0]}function GD(e){return e[1]}function ZD(e,t){var a=Zt(!0),r=null,s=Sp,l=null,c=vj(d);e=typeof e=="function"?e:e===void 0?YD:Zt(e),t=typeof t=="function"?t:t===void 0?GD:Zt(t);function d(m){var f,h=(m=bj(m)).length,g,y=!1,v;for(r==null&&(l=s(v=c())),f=0;f<=h;++f)!(f<h&&a(g=m[f],f,m))===y&&((y=!y)?l.lineStart():l.lineEnd()),y&&l.point(+e(g,f,m),+t(g,f,m));if(v)return l=null,v+""||null}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:Zt(+m),d):e},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:Zt(+m),d):t},d.defined=function(m){return arguments.length?(a=typeof m=="function"?m:Zt(!!m),d):a},d.curve=function(m){return arguments.length?(s=m,r!=null&&(l=s(r)),d):s},d.context=function(m){return arguments.length?(m==null?r=l=null:l=s(r=m),d):r},d}function If(e,t,a){var r=null,s=Zt(!0),l=null,c=Sp,d=null,m=vj(f);e=typeof e=="function"?e:e===void 0?YD:Zt(+e),t=typeof t=="function"?t:Zt(t===void 0?0:+t),a=typeof a=="function"?a:a===void 0?GD:Zt(+a);function f(g){var y,v,j,b=(g=bj(g)).length,S,M=!1,N,A=new Array(b),O=new Array(b);for(l==null&&(d=c(N=m())),y=0;y<=b;++y){if(!(y<b&&s(S=g[y],y,g))===M)if(M=!M)v=y,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),j=y-1;j>=v;--j)d.point(A[j],O[j]);d.lineEnd(),d.areaEnd()}M&&(A[y]=+e(S,y,g),O[y]=+t(S,y,g),d.point(r?+r(S,y,g):A[y],a?+a(S,y,g):O[y]))}if(N)return d=null,N+""||null}function h(){return ZD().defined(s).curve(c).context(l)}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:Zt(+g),r=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Zt(+g),f):e},f.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Zt(+g),f):r},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:Zt(+g),a=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Zt(+g),f):t},f.y1=function(g){return arguments.length?(a=g==null?null:typeof g=="function"?g:Zt(+g),f):a},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(a)},f.lineX1=function(){return h().x(r).y(t)},f.defined=function(g){return arguments.length?(s=typeof g=="function"?g:Zt(!!g),f):s},f.curve=function(g){return arguments.length?(c=g,l!=null&&(d=c(l)),f):c},f.context=function(g){return arguments.length?(g==null?l=d=null:d=c(l=g),f):l},f}class XD{constructor(t,a){this._context=t,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,a){switch(t=+t,a=+a,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,a):this._context.moveTo(t,a);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,a,t,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,t,this._y0,t,a);break}}this._x0=t,this._y0=a}}function R9(e){return new XD(e,!0)}function _9(e){return new XD(e,!1)}const jj={draw(e,t){const a=Qr(t/bh);e.moveTo(a,0),e.arc(0,0,a,0,Np)}},T9={draw(e,t){const a=Qr(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}},QD=Qr(1/3),L9=QD*2,I9={draw(e,t){const a=Qr(t/L9),r=a*QD;e.moveTo(0,-a),e.lineTo(r,0),e.lineTo(0,a),e.lineTo(-r,0),e.closePath()}},z9={draw(e,t){const a=Qr(t),r=-a/2;e.rect(r,r,a,a)}},$9=.8908130915292852,JD=vh(bh/10)/vh(7*bh/10),B9=vh(Np/10)*JD,F9=-VD(Np/10)*JD,U9={draw(e,t){const a=Qr(t*$9),r=B9*a,s=F9*a;e.moveTo(0,-a),e.lineTo(r,s);for(let l=1;l<5;++l){const c=Np*l/5,d=VD(c),m=vh(c);e.lineTo(m*a,-d*a),e.lineTo(d*r-m*s,m*r+d*s)}e.closePath()}},F0=Qr(3),q9={draw(e,t){const a=-Qr(t/(F0*3));e.moveTo(0,a*2),e.lineTo(-F0*a,-a),e.lineTo(F0*a,-a),e.closePath()}},br=-.5,jr=Qr(3)/2,Xv=1/Qr(12),H9=(Xv/2+1)*3,V9={draw(e,t){const a=Qr(t/H9),r=a/2,s=a*Xv,l=r,c=a*Xv+a,d=-l,m=c;e.moveTo(r,s),e.lineTo(l,c),e.lineTo(d,m),e.lineTo(br*r-jr*s,jr*r+br*s),e.lineTo(br*l-jr*c,jr*l+br*c),e.lineTo(br*d-jr*m,jr*d+br*m),e.lineTo(br*r+jr*s,br*s-jr*r),e.lineTo(br*l+jr*c,br*c-jr*l),e.lineTo(br*d+jr*m,br*m-jr*d),e.closePath()}};function K9(e,t){let a=null,r=vj(s);e=typeof e=="function"?e:Zt(e||jj),t=typeof t=="function"?t:Zt(t===void 0?64:+t);function s(){let l;if(a||(a=l=r()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),l)return a=null,l+""||null}return s.type=function(l){return arguments.length?(e=typeof l=="function"?l:Zt(l),s):e},s.size=function(l){return arguments.length?(t=typeof l=="function"?l:Zt(+l),s):t},s.context=function(l){return arguments.length?(a=l??null,s):a},s}function jh(){}function wh(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function eO(e){this._context=e}eO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function W9(e){return new eO(e)}function tO(e){this._context=e}tO.prototype={areaStart:jh,areaEnd:jh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:wh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Y9(e){return new tO(e)}function nO(e){this._context=e}nO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:wh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function G9(e){return new nO(e)}function aO(e){this._context=e}aO.prototype={areaStart:jh,areaEnd:jh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Z9(e){return new aO(e)}function uA(e){return e<0?-1:1}function mA(e,t,a){var r=e._x1-e._x0,s=t-e._x1,l=(e._y1-e._y0)/(r||s<0&&-0),c=(a-e._y1)/(s||r<0&&-0),d=(l*s+c*r)/(r+s);return(uA(l)+uA(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(d))||0}function fA(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function U0(e,t,a){var r=e._x0,s=e._y0,l=e._x1,c=e._y1,d=(l-r)/3;e._context.bezierCurveTo(r+d,s+d*t,l-d,c-d*a,l,c)}function Nh(e){this._context=e}Nh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:U0(this,this._t0,fA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,U0(this,fA(this,a=mA(this,e,t)),a);break;default:U0(this,this._t0,a=mA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function rO(e){this._context=new sO(e)}(rO.prototype=Object.create(Nh.prototype)).point=function(e,t){Nh.prototype.point.call(this,t,e)};function sO(e){this._context=e}sO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,r,s,l){this._context.bezierCurveTo(t,e,r,a,l,s)}};function X9(e){return new Nh(e)}function Q9(e){return new rO(e)}function iO(e){this._context=e}iO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var r=hA(e),s=hA(t),l=0,c=1;c<a;++l,++c)this._context.bezierCurveTo(r[0][l],s[0][l],r[1][l],s[1][l],e[c],t[c]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function hA(e){var t,a=e.length-1,r,s=new Array(a),l=new Array(a),c=new Array(a);for(s[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<a-1;++t)s[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[a-1]=2,l[a-1]=7,c[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)r=s[t]/l[t-1],l[t]-=r,c[t]-=r*c[t-1];for(s[a-1]=c[a-1]/l[a-1],t=a-2;t>=0;--t)s[t]=(c[t]-s[t+1])/l[t];for(l[a-1]=(e[a]+s[a-1])/2,t=0;t<a-1;++t)l[t]=2*e[t+1]-s[t+1];return[s,l]}function J9(e){return new iO(e)}function Ap(e,t){this._context=e,this._t=t}Ap.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function eI(e){return new Ap(e,.5)}function tI(e){return new Ap(e,0)}function nI(e){return new Ap(e,1)}function Sc(e,t){if((c=e.length)>1)for(var a=1,r,s,l=e[t[0]],c,d=l.length;a<c;++a)for(s=l,l=e[t[a]],r=0;r<d;++r)l[r][1]+=l[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function Qv(e){for(var t=e.length,a=new Array(t);--t>=0;)a[t]=t;return a}function aI(e,t){return e[t]}function rI(e){const t=[];return t.key=e,t}function sI(){var e=Zt([]),t=Qv,a=Sc,r=aI;function s(l){var c=Array.from(e.apply(this,arguments),rI),d,m=c.length,f=-1,h;for(const g of l)for(d=0,++f;d<m;++d)(c[d][f]=[0,+r(g,c[d].key,f,l)]).data=g;for(d=0,h=bj(t(c));d<m;++d)c[h[d]].index=d;return a(c,h),c}return s.keys=function(l){return arguments.length?(e=typeof l=="function"?l:Zt(Array.from(l)),s):e},s.value=function(l){return arguments.length?(r=typeof l=="function"?l:Zt(+l),s):r},s.order=function(l){return arguments.length?(t=l==null?Qv:typeof l=="function"?l:Zt(Array.from(l)),s):t},s.offset=function(l){return arguments.length?(a=l??Sc,s):a},s}function iI(e,t){if((r=e.length)>0){for(var a,r,s=0,l=e[0].length,c;s<l;++s){for(c=a=0;a<r;++a)c+=e[a][s][1]||0;if(c)for(a=0;a<r;++a)e[a][s][1]/=c}Sc(e,t)}}function lI(e,t){if((s=e.length)>0){for(var a=0,r=e[t[0]],s,l=r.length;a<l;++a){for(var c=0,d=0;c<s;++c)d+=e[c][a][1]||0;r[a][1]+=r[a][0]=-d/2}Sc(e,t)}}function oI(e,t){if(!(!((c=e.length)>0)||!((l=(s=e[t[0]]).length)>0))){for(var a=0,r=1,s,l,c;r<l;++r){for(var d=0,m=0,f=0;d<c;++d){for(var h=e[t[d]],g=h[r][1]||0,y=h[r-1][1]||0,v=(g-y)/2,j=0;j<d;++j){var b=e[t[j]],S=b[r][1]||0,M=b[r-1][1]||0;v+=S-M}m+=g,f+=v*g}s[r-1][1]+=s[r-1][0]=a,m&&(a-=f/m)}s[r-1][1]+=s[r-1][0]=a,Sc(e,t)}}var q0={},H0={},pA;function cI(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==="__proto__"}e.isUnsafeProperty=t})(H0)),H0}var V0={},xA;function lO(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){switch(typeof a){case"number":case"symbol":return!1;case"string":return a.includes(".")||a.includes("[")||a.includes("]")}}e.isDeepKey=t})(V0)),V0}var K0={},gA;function wj(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="string"||typeof a=="symbol"?a:Object.is(a?.valueOf?.(),-0)?"-0":String(a)}e.toKey=t})(K0)),K0}var W0={},Y0={},yA;function dI(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){if(a==null)return"";if(typeof a=="string")return a;if(Array.isArray(a))return a.map(t).join(",");const r=String(a);return r==="0"&&Object.is(Number(a),-0)?"-0":r}e.toString=t})(Y0)),Y0}var vA;function Nj(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dI(),a=wj();function r(s){if(Array.isArray(s))return s.map(a.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const l=[],c=s.length;if(c===0)return l;let d=0,m="",f="",h=!1;for(s.charCodeAt(0)===46&&(l.push(""),d++);d<c;){const g=s[d];f?g==="\\"&&d+1<c?(d++,m+=s[d]):g===f?f="":m+=g:h?g==='"'||g==="'"?f=g:g==="]"?(h=!1,l.push(m),m=""):m+=g:g==="["?(h=!0,m&&(l.push(m),m="")):g==="."?m&&(l.push(m),m=""):m+=g,d++}return m&&l.push(m),l}e.toPath=r})(W0)),W0}var bA;function Sj(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cI(),a=lO(),r=wj(),s=Nj();function l(d,m,f){if(d==null)return f;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return f;const h=d[m];return h===void 0?a.isDeepKey(m)?l(d,s.toPath(m),f):f:h}case"number":case"symbol":{typeof m=="number"&&(m=r.toKey(m));const h=d[m];return h===void 0?f:h}default:{if(Array.isArray(m))return c(d,m,f);if(Object.is(m?.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return f;const h=d[m];return h===void 0?f:h}}}function c(d,m,f){if(m.length===0)return f;let h=d;for(let g=0;g<m.length;g++){if(h==null||t.isUnsafeProperty(m[g]))return f;h=h[m[g]]}return h===void 0?f:h}e.get=l})(q0)),q0}var G0,jA;function uI(){return jA||(jA=1,G0=Sj().get),G0}var mI=uI();const Jl=Rr(mI);var _n=e=>e===0?0:e>0?1:-1,Dr=e=>typeof e=="number"&&e!=+e,di=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Pe=e=>(typeof e=="number"||e instanceof Number)&&!Dr(e),ys=e=>Pe(e)||typeof e=="string",fI=0,yu=e=>{var t=++fI;return"".concat(e||"").concat(t)},xa=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(t)&&typeof t!="string")return r;var l;if(di(t)){if(a==null)return r;var c=t.indexOf("%");l=a*parseFloat(t.slice(0,c))/100}else l=+t;return Dr(l)&&(l=r),s&&a!=null&&l>a&&(l=a),l},oO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,a={},r=0;r<t;r++)if(!a[e[r]])a[e[r]]=!0;else return!0;return!1};function ct(e,t,a){return Pe(e)&&Pe(t)?e+a*(t-e):t}function cO(e,t,a){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Jl(r,t))===a)}var hI=e=>{for(var t=e.length,a=0,r=0,s=0,l=0,c=1/0,d=-1/0,m=0,f=0,h=0;h<t;h++)m=e[h].cx||0,f=e[h].cy||0,a+=m,r+=f,s+=m*f,l+=m*m,c=Math.min(c,m),d=Math.max(d,m);var g=t*l!==a*a?(t*s-a*r)/(t*l-a*a):0;return{xmin:c,xmax:d,a:g,b:(r-g*a)/t}},At=e=>e===null||typeof e>"u",Uu=e=>At(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function pI(e){return e!=null}function qu(){}var xI=["type","size","sizeType"];function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Jv.apply(null,arguments)}function wA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function NA(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(a),!0).forEach(function(r){gI(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function gI(e,t,a){return(t=yI(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function yI(e){var t=vI(e,"string");return typeof t=="symbol"?t:t+""}function vI(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bI(e,t){if(e==null)return{};var a,r,s=jI(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function jI(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var dO={symbolCircle:jj,symbolCross:T9,symbolDiamond:I9,symbolSquare:z9,symbolStar:U9,symbolTriangle:q9,symbolWye:V9},wI=Math.PI/180,NI=e=>{var t="symbol".concat(Uu(e));return dO[t]||jj},SI=(e,t,a)=>{if(t==="area")return e;switch(a){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*wI;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},AI=(e,t)=>{dO["symbol".concat(Uu(e))]=t},Cp=e=>{var{type:t="circle",size:a=64,sizeType:r="area"}=e,s=bI(e,xI),l=NA(NA({},s),{},{type:t,size:a,sizeType:r}),c="circle";typeof t=="string"&&(c=t);var d=()=>{var y=NI(c),v=K9().type(y).size(SI(a,r,c)),j=v();if(j!==null)return j},{className:m,cx:f,cy:h}=l,g=Sn(l);return Pe(f)&&Pe(h)&&Pe(a)?x.createElement("path",Jv({},g,{className:at("recharts-symbols",m),transform:"translate(".concat(f,", ").concat(h,")"),d:d()})):null};Cp.registerSymbol=AI;var uO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Aj=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(x.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var r={};return Object.keys(a).forEach(s=>{gj(s)&&(r[s]=(l=>a[s](a,l)))}),r},CI=(e,t,a)=>r=>(e(t,a,r),null),Ss=(e,t,a)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(s=>{var l=e[s];gj(s)&&typeof l=="function"&&(r||(r={}),r[s]=CI(l,t,a))}),r},MI=e=>Array.isArray(e)&&e.length>0;function SA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function DI(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(a),!0).forEach(function(r){OI(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):SA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function OI(e,t,a){return(t=EI(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function EI(e){var t=kI(e,"string");return typeof t=="symbol"?t:t+""}function kI(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rt(e,t){var a=DI({},e),r=t,s=Object.keys(t),l=s.reduce((c,d)=>(c[d]===void 0&&r[d]!==void 0&&(c[d]=r[d]),c),a);return l}function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Sh.apply(null,arguments)}function AA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function PI(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(a),!0).forEach(function(r){RI(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):AA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function RI(e,t,a){return(t=_I(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _I(e){var t=TI(e,"string");return typeof t=="symbol"?t:t+""}function TI(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nr=32,LI={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function II(e){var{data:t,iconType:a,inactiveColor:r}=e,s=Nr/2,l=Nr/6,c=Nr/3,d=t.inactive?r:t.color,m=a??t.type;if(m==="none")return null;if(m==="plainline"){var f;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(f=t.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:s,x2:Nr,y2:s,className:"recharts-legend-icon"})}if(m==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(Nr,"M").concat(2*c,",").concat(s,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(m==="rect")return x.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Nr/8,"h").concat(Nr,"v").concat(Nr*3/4,"h").concat(-Nr,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var h=PI({},t);return delete h.legendIcon,x.cloneElement(t.legendIcon,h)}return x.createElement(Cp,{fill:d,cx:s,cy:s,size:Nr,sizeType:"diameter",type:m})}function zI(e){var{payload:t,iconSize:a,layout:r,formatter:s,inactiveColor:l,iconType:c}=e,d={x:0,y:0,width:Nr,height:Nr},m={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,g)=>{var y=h.formatter||s,v=at({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:h.inactive});if(h.type==="none")return null;var j=h.inactive?l:h.color,b=y?y(h.value,h,g):h.value;return x.createElement("li",Sh({className:v,style:m,key:"legend-item-".concat(g)},Ss(e,h,g)),x.createElement(yj,{width:a,height:a,viewBox:d,style:f,"aria-label":"".concat(b," legend icon")},x.createElement(II,{data:h,iconType:c,inactiveColor:l})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},b))})}var $I=e=>{var t=Rt(e,LI),{payload:a,layout:r,align:s}=t;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:r==="horizontal"?s:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:l},x.createElement(zI,Sh({},t,{payload:a})))},Z0={},X0={},CA;function BI(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){const s=new Map;for(let l=0;l<a.length;l++){const c=a[l],d=r(c);s.has(d)||s.set(d,c)}return Array.from(s.values())}e.uniqBy=t})(X0)),X0}var Q0={},MA;function Mp(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a}e.identity=t})(Q0)),Q0}var J0={},ey={},ty={},DA;function FI(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Number.isSafeInteger(a)&&a>=0}e.isLength=t})(ty)),ty}var OA;function Cj(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FI();function a(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=a})(ey)),ey}var ny={},EA;function UI(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="object"&&a!==null}e.isObjectLike=t})(ny)),ny}var kA;function qI(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cj(),a=UI();function r(s){return a.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=r})(J0)),J0}var ay={},ry={},PA;function HI(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sj();function a(r){return function(s){return t.get(s,r)}}e.property=a})(ry)),ry}var sy={},iy={},ly={},oy={},RA;function mO(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a!==null&&(typeof a=="object"||typeof a=="function")}e.isObject=t})(oy)),oy}var cy={},_A;function fO(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null||typeof a!="object"&&typeof a!="function"}e.isPrimitive=t})(cy)),cy}var dy={},TA;function hO(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){return a===r||Number.isNaN(a)&&Number.isNaN(r)}e.eq=t})(dy)),dy}var LA;function VI(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mO(),a=fO(),r=hO();function s(h,g,y){return typeof y!="function"?s(h,g,()=>{}):l(h,g,function v(j,b,S,M,N,A){const O=y(j,b,S,M,N,A);return O!==void 0?!!O:l(j,b,v,A)},new Map)}function l(h,g,y,v){if(g===h)return!0;switch(typeof g){case"object":return c(h,g,y,v);case"function":return Object.keys(g).length>0?l(h,{...g},y,v):r.eq(h,g);default:return t.isObject(h)?typeof g=="string"?g==="":!0:r.eq(h,g)}}function c(h,g,y,v){if(g==null)return!0;if(Array.isArray(g))return m(h,g,y,v);if(g instanceof Map)return d(h,g,y,v);if(g instanceof Set)return f(h,g,y,v);const j=Object.keys(g);if(h==null)return j.length===0;if(j.length===0)return!0;if(v?.has(g))return v.get(g)===h;v?.set(g,h);try{for(let b=0;b<j.length;b++){const S=j[b];if(!a.isPrimitive(h)&&!(S in h)||g[S]===void 0&&h[S]!==void 0||g[S]===null&&h[S]!==null||!y(h[S],g[S],S,h,g,v))return!1}return!0}finally{v?.delete(g)}}function d(h,g,y,v){if(g.size===0)return!0;if(!(h instanceof Map))return!1;for(const[j,b]of g.entries()){const S=h.get(j);if(y(S,b,j,h,g,v)===!1)return!1}return!0}function m(h,g,y,v){if(g.length===0)return!0;if(!Array.isArray(h))return!1;const j=new Set;for(let b=0;b<g.length;b++){const S=g[b];let M=!1;for(let N=0;N<h.length;N++){if(j.has(N))continue;const A=h[N];let O=!1;if(y(A,S,b,h,g,v)&&(O=!0),O){j.add(N),M=!0;break}}if(!M)return!1}return!0}function f(h,g,y,v){return g.size===0?!0:h instanceof Set?m([...h],[...g],y,v):!1}e.isMatchWith=s,e.isSetMatch=f})(ly)),ly}var IA;function pO(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VI();function a(r,s){return t.isMatchWith(r,s,()=>{})}e.isMatch=a})(iy)),iy}var uy={},my={},fy={},zA;function KI(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Object.getOwnPropertySymbols(a).filter(r=>Object.prototype.propertyIsEnumerable.call(a,r))}e.getSymbols=t})(fy)),fy}var hy={},$A;function xO(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}e.getTag=t})(hy)),hy}var py={},BA;function gO(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",a="[object String]",r="[object Number]",s="[object Boolean]",l="[object Arguments]",c="[object Symbol]",d="[object Date]",m="[object Map]",f="[object Set]",h="[object Array]",g="[object Function]",y="[object ArrayBuffer]",v="[object Object]",j="[object Error]",b="[object DataView]",S="[object Uint8Array]",M="[object Uint8ClampedArray]",N="[object Uint16Array]",A="[object Uint32Array]",O="[object BigUint64Array]",D="[object Int8Array]",k="[object Int16Array]",_="[object Int32Array]",E="[object BigInt64Array]",P="[object Float32Array]",z="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=y,e.arrayTag=h,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=O,e.booleanTag=s,e.dataViewTag=b,e.dateTag=d,e.errorTag=j,e.float32ArrayTag=P,e.float64ArrayTag=z,e.functionTag=g,e.int16ArrayTag=k,e.int32ArrayTag=_,e.int8ArrayTag=D,e.mapTag=m,e.numberTag=r,e.objectTag=v,e.regexpTag=t,e.setTag=f,e.stringTag=a,e.symbolTag=c,e.uint16ArrayTag=N,e.uint32ArrayTag=A,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=M})(py)),py}var xy={},FA;function WI(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}e.isTypedArray=t})(xy)),xy}var UA;function yO(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KI(),a=xO(),r=gO(),s=fO(),l=WI();function c(h,g){return d(h,void 0,h,new Map,g)}function d(h,g,y,v=new Map,j=void 0){const b=j?.(h,g,y,v);if(b!==void 0)return b;if(s.isPrimitive(h))return h;if(v.has(h))return v.get(h);if(Array.isArray(h)){const S=new Array(h.length);v.set(h,S);for(let M=0;M<h.length;M++)S[M]=d(h[M],M,y,v,j);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;v.set(h,S);for(const[M,N]of h)S.set(M,d(N,M,y,v,j));return S}if(h instanceof Set){const S=new Set;v.set(h,S);for(const M of h)S.add(d(M,void 0,y,v,j));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);v.set(h,S);for(let M=0;M<h.length;M++)S[M]=d(h[M],M,y,v,j);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return v.set(h,S),m(S,h,y,v,j),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return v.set(h,S),m(S,h,y,v,j),S}if(typeof Blob<"u"&&h instanceof Blob){const S=new Blob([h],{type:h.type});return v.set(h,S),m(S,h,y,v,j),S}if(h instanceof Error){const S=new h.constructor;return v.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,m(S,h,y,v,j),S}if(h instanceof Boolean){const S=new Boolean(h.valueOf());return v.set(h,S),m(S,h,y,v,j),S}if(h instanceof Number){const S=new Number(h.valueOf());return v.set(h,S),m(S,h,y,v,j),S}if(h instanceof String){const S=new String(h.valueOf());return v.set(h,S),m(S,h,y,v,j),S}if(typeof h=="object"&&f(h)){const S=Object.create(Object.getPrototypeOf(h));return v.set(h,S),m(S,h,y,v,j),S}return h}function m(h,g,y=h,v,j){const b=[...Object.keys(g),...t.getSymbols(g)];for(let S=0;S<b.length;S++){const M=b[S],N=Object.getOwnPropertyDescriptor(h,M);(N==null||N.writable)&&(h[M]=d(g[M],M,y,v,j))}}function f(h){switch(a.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=d,e.copyProperties=m})(my)),my}var qA;function YI(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yO();function a(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=a})(uy)),uy}var HA;function GI(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pO(),a=YI();function r(s){return s=a.cloneDeep(s),l=>t.isMatch(l,s)}e.matches=r})(sy)),sy}var gy={},yy={},vy={},VA;function ZI(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yO(),a=gO();function r(s,l){return t.cloneDeepWith(s,(c,d,m,f)=>{const h=l?.(c,d,m,f);if(h!==void 0)return h;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case a.numberTag:case a.stringTag:case a.booleanTag:{const g=new s.constructor(s?.valueOf());return t.copyProperties(g,s),g}case a.argumentsTag:{const g={};return t.copyProperties(g,s),g.length=s.length,g[Symbol.iterator]=s[Symbol.iterator],g}default:return}})}e.cloneDeepWith=r})(vy)),vy}var KA;function XI(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZI();function a(r){return t.cloneDeepWith(r)}e.cloneDeep=a})(yy)),yy}var by={},jy={},WA;function vO(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function a(r,s=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<s;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=a})(jy)),jy}var wy={},YA;function QI(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xO();function a(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=a})(wy)),wy}var GA;function JI(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lO(),a=vO(),r=QI(),s=Nj();function l(c,d){let m;if(Array.isArray(d)?m=d:typeof d=="string"&&t.isDeepKey(d)&&c?.[d]==null?m=s.toPath(d):m=[d],m.length===0)return!1;let f=c;for(let h=0;h<m.length;h++){const g=m[h];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||r.isArguments(f))&&a.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}e.has=l})(by)),by}var ZA;function ez(){return ZA||(ZA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pO(),a=wj(),r=XI(),s=Sj(),l=JI();function c(d,m){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=a.toKey(d);break}}return m=r.cloneDeep(m),function(f){const h=s.get(f,d);return h===void 0?l.has(f,d):m===void 0?h===void 0:t.isMatch(h,m)}}e.matchesProperty=c})(gy)),gy}var XA;function Mj(){return XA||(XA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mp(),a=HI(),r=GI(),s=ez();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return a.property(c)}}e.iteratee=l})(ay)),ay}var QA;function tz(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BI(),a=Mp(),r=qI(),s=Mj();function l(c,d=a.identity){return r.isArrayLikeObject(c)?t.uniqBy(Array.from(c),s.iteratee(d)):[]}e.uniqBy=l})(Z0)),Z0}var Ny,JA;function nz(){return JA||(JA=1,Ny=tz().uniqBy),Ny}var az=nz();const eC=Rr(az);function bO(e,t,a){return t===!0?eC(e,a):typeof t=="function"?eC(e,t):e}var Sy={exports:{}},Ay={},Cy={exports:{}},My={};var tC;function rz(){if(tC)return My;tC=1;var e=yp();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var a=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function d(g,y){var v=y(),j=r({inst:{value:v,getSnapshot:y}}),b=j[0].inst,S=j[1];return l(function(){b.value=v,b.getSnapshot=y,m(b)&&S({inst:b})},[g,v,y]),s(function(){return m(b)&&S({inst:b}),g(function(){m(b)&&S({inst:b})})},[g]),c(v),v}function m(g){var y=g.getSnapshot;g=g.value;try{var v=y();return!a(g,v)}catch{return!0}}function f(g,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return My.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,My}var nC;function sz(){return nC||(nC=1,Cy.exports=rz()),Cy.exports}var aC;function iz(){if(aC)return Ay;aC=1;var e=yp(),t=sz();function a(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:a,s=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,d=e.useMemo,m=e.useDebugValue;return Ay.useSyncExternalStoreWithSelector=function(f,h,g,y,v){var j=l(null);if(j.current===null){var b={hasValue:!1,value:null};j.current=b}else b=j.current;j=d(function(){function M(k){if(!N){if(N=!0,A=k,k=y(k),v!==void 0&&b.hasValue){var _=b.value;if(v(_,k))return O=_}return O=k}if(_=O,r(A,k))return _;var E=y(k);return v!==void 0&&v(_,E)?(A=k,_):(A=k,O=E)}var N=!1,A,O,D=g===void 0?null:g;return[function(){return M(h())},D===null?void 0:function(){return M(D())}]},[h,g,y,v]);var S=s(f,j[0],j[1]);return c(function(){b.hasValue=!0,b.value=S},[S]),m(S),S},Ay}var rC;function lz(){return rC||(rC=1,Sy.exports=iz()),Sy.exports}var oz=lz(),Dj=x.createContext(null),cz=e=>e,Ft=()=>{var e=x.useContext(Dj);return e?e.store.dispatch:cz},ch=()=>{},dz=()=>ch,uz=(e,t)=>e===t;function Oe(e){var t=x.useContext(Dj);return oz.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:dz,t?t.store.getState:ch,t?t.store.getState:ch,t?e:ch,uz)}function mz(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function fz(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function hz(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(a=>typeof a=="function")){const a=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${a}]`)}}var sC=e=>Array.isArray(e)?e:[e];function pz(e){const t=Array.isArray(e[0])?e[0]:e;return hz(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function xz(e,t){const a=[],{length:r}=e;for(let s=0;s<r;s++)a.push(e[s].apply(null,t));return a}var gz=class{constructor(e){this.value=e}deref(){return this.value}},yz=typeof WeakRef<"u"?WeakRef:gz,vz=0,iC=1;function zf(){return{s:vz,v:void 0,o:null,p:null}}function jO(e,t={}){let a=zf();const{resultEqualityCheck:r}=t;let s,l=0;function c(){let d=a;const{length:m}=arguments;for(let g=0,y=m;g<y;g++){const v=arguments[g];if(typeof v=="function"||typeof v=="object"&&v!==null){let j=d.o;j===null&&(d.o=j=new WeakMap);const b=j.get(v);b===void 0?(d=zf(),j.set(v,d)):d=b}else{let j=d.p;j===null&&(d.p=j=new Map);const b=j.get(v);b===void 0?(d=zf(),j.set(v,d)):d=b}}const f=d;let h;if(d.s===iC)h=d.v;else if(h=e.apply(null,arguments),l++,r){const g=s?.deref?.()??s;g!=null&&r(g,h)&&(h=g,l!==0&&l--),s=typeof h=="object"&&h!==null||typeof h=="function"?new yz(h):h}return f.s=iC,f.v=h,h}return c.clearCache=()=>{a=zf(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function bz(e,...t){const a=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...s)=>{let l=0,c=0,d,m={},f=s.pop();typeof f=="object"&&(m=f,f=s.pop()),mz(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...a,...m},{memoize:g,memoizeOptions:y=[],argsMemoize:v=jO,argsMemoizeOptions:j=[]}=h,b=sC(y),S=sC(j),M=pz(s),N=g(function(){return l++,f.apply(null,arguments)},...b),A=v(function(){c++;const D=xz(M,arguments);return d=N.apply(null,D),d},...S);return Object.assign(A,{resultFunc:f,memoizedResultFunc:N,dependencies:M,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:g,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var te=bz(jO),jz=Object.assign((e,t=te)=>{fz(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const a=Object.keys(e),r=a.map(l=>e[l]);return t(r,(...l)=>l.reduce((c,d,m)=>(c[a[m]]=d,c),{}))},{withTypes:()=>jz}),Dy={},Oy={},Ey={},lC;function wz(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const a=(r,s,l)=>{if(r!==s){const c=t(r),d=t(s);if(c===d&&c===0){if(r<s)return l==="desc"?1:-1;if(r>s)return l==="desc"?-1:1}return l==="desc"?d-c:c-d}return 0};e.compareValues=a})(Ey)),Ey}var ky={},Py={},oC;function wO(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"||a instanceof Symbol}e.isSymbol=t})(Py)),Py}var cC;function Nz(){return cC||(cC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wO(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(r.test(l)||!a.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=s})(ky)),ky}var dC;function Sz(){return dC||(dC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wz(),a=Nz(),r=Nj();function s(l,c,d,m){if(l==null)return[];d=m?void 0:d,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(v=>String(v));const f=(v,j)=>{let b=v;for(let S=0;S<j.length&&b!=null;++S)b=b[j[S]];return b},h=(v,j)=>j==null||v==null?j:typeof v=="object"&&"key"in v?Object.hasOwn(j,v.key)?j[v.key]:f(j,v.path):typeof v=="function"?v(j):Array.isArray(v)?f(j,v):typeof j=="object"?j[v]:j,g=c.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||a.isKey(v)?v:{key:v,path:r.toPath(v)}));return l.map(v=>({original:v,criteria:g.map(j=>h(j,v))})).slice().sort((v,j)=>{for(let b=0;b<g.length;b++){const S=t.compareValues(v.criteria[b],j.criteria[b],d[b]);if(S!==0)return S}return 0}).map(v=>v.original)}e.orderBy=s})(Oy)),Oy}var Ry={},uC;function Az(){return uC||(uC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r=1){const s=[],l=Math.floor(r),c=(d,m)=>{for(let f=0;f<d.length;f++){const h=d[f];Array.isArray(h)&&m<l?c(h,m+1):s.push(h)}};return c(a,0),s}e.flatten=t})(Ry)),Ry}var _y={},mC;function NO(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vO(),a=Cj(),r=mO(),s=hO();function l(c,d,m){return r.isObject(m)&&(typeof d=="number"&&a.isArrayLike(m)&&t.isIndex(d)&&d<m.length||typeof d=="string"&&d in m)?s.eq(m[d],c):!1}e.isIterateeCall=l})(_y)),_y}var fC;function Cz(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sz(),a=Az(),r=NO();function s(l,...c){const d=c.length;return d>1&&r.isIterateeCall(l,c[0],c[1])?c=[]:d>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,a.flatten(c),["asc"])}e.sortBy=s})(Dy)),Dy}var Ty,hC;function Mz(){return hC||(hC=1,Ty=Cz().sortBy),Ty}var Dz=Mz();const Dp=Rr(Dz);var SO=e=>e.legend.settings,Oz=e=>e.legend.size,Ez=e=>e.legend.payload,kz=te([Ez,SO],(e,t)=>{var{itemSorter:a}=t,r=e.flat(1);return a?Dp(r,a):r});function Pz(){return Oe(kz)}var $f=1;function AO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,a]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(s=>{if(s!=null){var l=s.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>$f||Math.abs(c.left-t.left)>$f||Math.abs(c.top-t.top)>$f||Math.abs(c.width-t.width)>$f)&&a({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function la(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Rz=typeof Symbol=="function"&&Symbol.observable||"@@observable",pC=Rz,Ly=()=>Math.random().toString(36).substring(7).split("").join("."),_z={INIT:`@@redux/INIT${Ly()}`,REPLACE:`@@redux/REPLACE${Ly()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ly()}`},Ah=_z;function Oj(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function CO(e,t,a){if(typeof e!="function")throw new Error(la(2));if(typeof t=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(la(0));if(typeof t=="function"&&typeof a>"u"&&(a=t,t=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(la(1));return a(CO)(e,t)}let r=e,s=t,l=new Map,c=l,d=0,m=!1;function f(){c===l&&(c=new Map,l.forEach((S,M)=>{c.set(M,S)}))}function h(){if(m)throw new Error(la(3));return s}function g(S){if(typeof S!="function")throw new Error(la(4));if(m)throw new Error(la(5));let M=!0;f();const N=d++;return c.set(N,S),function(){if(M){if(m)throw new Error(la(6));M=!1,f(),c.delete(N),l=null}}}function y(S){if(!Oj(S))throw new Error(la(7));if(typeof S.type>"u")throw new Error(la(8));if(typeof S.type!="string")throw new Error(la(17));if(m)throw new Error(la(9));try{m=!0,s=r(s,S)}finally{m=!1}return(l=c).forEach(N=>{N()}),S}function v(S){if(typeof S!="function")throw new Error(la(10));r=S,y({type:Ah.REPLACE})}function j(){const S=g;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error(la(11));function N(){const O=M;O.next&&O.next(h())}return N(),{unsubscribe:S(N)}},[pC](){return this}}}return y({type:Ah.INIT}),{dispatch:y,subscribe:g,getState:h,replaceReducer:v,[pC]:j}}function Tz(e){Object.keys(e).forEach(t=>{const a=e[t];if(typeof a(void 0,{type:Ah.INIT})>"u")throw new Error(la(12));if(typeof a(void 0,{type:Ah.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(la(13))})}function MO(e){const t=Object.keys(e),a={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(a[c]=e[c])}const r=Object.keys(a);let s;try{Tz(a)}catch(l){s=l}return function(c={},d){if(s)throw s;let m=!1;const f={};for(let h=0;h<r.length;h++){const g=r[h],y=a[g],v=c[g],j=y(v,d);if(typeof j>"u")throw d&&d.type,new Error(la(14));f[g]=j,m=m||j!==v}return m=m||r.length!==Object.keys(c).length,m?f:c}}function Ch(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,a)=>(...r)=>t(a(...r)))}function Lz(...e){return t=>(a,r)=>{const s=t(a,r);let l=()=>{throw new Error(la(15))};const c={getState:s.getState,dispatch:(m,...f)=>l(m,...f)},d=e.map(m=>m(c));return l=Ch(...d)(s.dispatch),{...s,dispatch:l}}}function DO(e){return Oj(e)&&"type"in e&&typeof e.type=="string"}var OO=Symbol.for("immer-nothing"),xC=Symbol.for("immer-draftable"),ja=Symbol.for("immer-state");function Ur(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Qa=Object,Ac=Qa.getPrototypeOf,Mh="constructor",Op="prototype",eb="configurable",Dh="enumerable",dh="writable",vu="value",ui=e=>!!e&&!!e[ja];function vs(e){return e?EO(e)||Ep(e)||!!e[xC]||!!e[Mh]?.[xC]||kp(e)||Pp(e):!1}var Iz=Qa[Op][Mh].toString(),gC=new WeakMap;function EO(e){if(!e||!Ej(e))return!1;const t=Ac(e);if(t===null||t===Qa[Op])return!0;const a=Qa.hasOwnProperty.call(t,Mh)&&t[Mh];if(a===Object)return!0;if(!pc(a))return!1;let r=gC.get(a);return r===void 0&&(r=Function.toString.call(a),gC.set(a,r)),r===Iz}function Hu(e,t,a=!0){Vu(e)===0?(a?Reflect.ownKeys(e):Qa.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((r,s)=>t(s,r,e))}function Vu(e){const t=e[ja];return t?t.type_:Ep(e)?1:kp(e)?2:Pp(e)?3:0}var yC=(e,t,a=Vu(e))=>a===2?e.has(t):Qa[Op].hasOwnProperty.call(e,t),tb=(e,t,a=Vu(e))=>a===2?e.get(t):e[t],Oh=(e,t,a,r=Vu(e))=>{r===2?e.set(t,a):r===3?e.add(a):e[t]=a};function zz(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ep=Array.isArray,kp=e=>e instanceof Map,Pp=e=>e instanceof Set,Ej=e=>typeof e=="object",pc=e=>typeof e=="function",Iy=e=>typeof e=="boolean",Ws=e=>e.copy_||e.base_,kj=e=>e.modified_?e.copy_:e.base_;function nb(e,t){if(kp(e))return new Map(e);if(Pp(e))return new Set(e);if(Ep(e))return Array[Op].slice.call(e);const a=EO(e);if(t===!0||t==="class_only"&&!a){const r=Qa.getOwnPropertyDescriptors(e);delete r[ja];let s=Reflect.ownKeys(r);for(let l=0;l<s.length;l++){const c=s[l],d=r[c];d[dh]===!1&&(d[dh]=!0,d[eb]=!0),(d.get||d.set)&&(r[c]={[eb]:!0,[dh]:!0,[Dh]:d[Dh],[vu]:e[c]})}return Qa.create(Ac(e),r)}else{const r=Ac(e);if(r!==null&&a)return{...e};const s=Qa.create(r);return Qa.assign(s,e)}}function Pj(e,t=!1){return Rp(e)||ui(e)||(Vu(e)>1&&Qa.defineProperties(e,{set:Bf,add:Bf,clear:Bf,delete:Bf}),Qa.freeze(e),t&&Hu(e,(a,r)=>{Pj(r,!0)},!1)),e}function $z(){Ur(2)}var Bf={[vu]:$z};function Rp(e){return e===null||!Ej(e)?!0:Qa.isFrozen(e)}var Eh="MapSet",ab="Patches",kO={};function Cc(e){const t=kO[e];return t||Ur(0,e),t}var Bz=e=>!!kO[e],bu,PO=()=>bu,Fz=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Bz(Eh)?Cc(Eh):void 0});function vC(e,t){t&&(e.patchPlugin_=Cc(ab),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function rb(e){sb(e),e.drafts_.forEach(Uz),e.drafts_=null}function sb(e){e===bu&&(bu=e.parent_)}var bC=e=>bu=Fz(bu,e);function Uz(e){const t=e[ja];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function jC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const a=t.drafts_[0];if(e!==void 0&&e!==a){a[ja].modified_&&(rb(t),Ur(4)),vs(e)&&(e=wC(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(a[ja].base_,e,t)}else e=wC(t,a);return qz(t,e,!0),rb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==OO?e:void 0}function wC(e,t){if(Rp(t))return t;const a=t[ja];if(!a)return Rj(t,e.handledSet_,e);if(!_p(a,e))return t;if(!a.modified_)return a.base_;if(!a.finalized_){const{callbacks_:r}=a;if(r)for(;r.length>0;)r.pop()(e);TO(a,e)}return a.copy_}function qz(e,t,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Pj(t,a)}function RO(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var _p=(e,t)=>e.scope_===t,Hz=[];function _O(e,t,a,r){const s=Ws(e),l=e.type_;if(r!==void 0&&tb(s,r,l)===t){Oh(s,r,a,l);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;Hu(s,(m,f)=>{if(ui(f)){const h=d.get(f)||[];h.push(m),d.set(f,h)}})}const c=e.draftLocations_.get(t)??Hz;for(const d of c)Oh(s,d,a,l)}function Vz(e,t,a){e.callbacks_.push(function(s){const l=t;if(!l||!_p(l,s))return;s.mapSetPlugin_?.fixSetContents(l);const c=kj(l);_O(e,l.draft_??l,c,a),TO(l,s)})}function TO(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const s=r.getPath(e);s&&r.generatePatches_(e,s,t)}RO(e)}}function Kz(e,t,a){const{scope_:r}=e;if(ui(a)){const s=a[ja];_p(s,r)&&s.callbacks_.push(function(){uh(e);const c=kj(s);_O(e,a,c,t)})}else vs(a)&&e.callbacks_.push(function(){const l=Ws(e);tb(l,t,e.type_)===a&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Rj(tb(e.copy_,t,e.type_),r.handledSet_,r)})}function Rj(e,t,a){return!a.immer_.autoFreeze_&&a.unfinalizedDrafts_<1||ui(e)||t.has(e)||!vs(e)||Rp(e)||(t.add(e),Hu(e,(r,s)=>{if(ui(s)){const l=s[ja];if(_p(l,a)){const c=kj(l);Oh(e,r,c,e.type_),RO(l)}}else vs(s)&&Rj(s,t,a)})),e}function Wz(e,t){const a=Ep(e),r={type_:a?1:0,scope_:t?t.scope_:PO(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=r,l=_j;a&&(s=[r],l=ju);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return r.draft_=d,r.revoke_=c,[d,r]}var _j={get(e,t){if(t===ja)return e;const a=Ws(e);if(!yC(a,t,e.type_))return Yz(e,a,t);const r=a[t];if(e.finalized_||!vs(r))return r;if(r===zy(e.base_,t)){uh(e);const s=e.type_===1?+t:t,l=lb(e.scope_,r,e,s);return e.copy_[s]=l}return r},has(e,t){return t in Ws(e)},ownKeys(e){return Reflect.ownKeys(Ws(e))},set(e,t,a){const r=LO(Ws(e),t);if(r?.set)return r.set.call(e.draft_,a),!0;if(!e.modified_){const s=zy(Ws(e),t),l=s?.[ja];if(l&&l.base_===a)return e.copy_[t]=a,e.assigned_.set(t,!1),!0;if(zz(a,s)&&(a!==void 0||yC(e.base_,t,e.type_)))return!0;uh(e),ib(e)}return e.copy_[t]===a&&(a!==void 0||t in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=a,e.assigned_.set(t,!0),Kz(e,t,a)),!0},deleteProperty(e,t){return uh(e),zy(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),ib(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const a=Ws(e),r=Reflect.getOwnPropertyDescriptor(a,t);return r&&{[dh]:!0,[eb]:e.type_!==1||t!=="length",[Dh]:r[Dh],[vu]:a[t]}},defineProperty(){Ur(11)},getPrototypeOf(e){return Ac(e.base_)},setPrototypeOf(){Ur(12)}},ju={};Hu(_j,(e,t)=>{ju[e]=function(){const a=arguments;return a[0]=a[0][0],t.apply(this,a)}});ju.deleteProperty=function(e,t){return ju.set.call(this,e,t,void 0)};ju.set=function(e,t,a){return _j.set.call(this,e[0],t,a,e[0])};function zy(e,t){const a=e[ja];return(a?Ws(a):e)[t]}function Yz(e,t,a){const r=LO(t,a);return r?vu in r?r[vu]:r.get?.call(e.draft_):void 0}function LO(e,t){if(!(t in e))return;let a=Ac(e);for(;a;){const r=Object.getOwnPropertyDescriptor(a,t);if(r)return r;a=Ac(a)}}function ib(e){e.modified_||(e.modified_=!0,e.parent_&&ib(e.parent_))}function uh(e){e.copy_||(e.assigned_=new Map,e.copy_=nb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Gz=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(a,r,s)=>{if(pc(a)&&!pc(r)){const c=r;r=a;const d=this;return function(f=c,...h){return d.produce(f,g=>r.call(this,g,...h))}}pc(r)||Ur(6),s!==void 0&&!pc(s)&&Ur(7);let l;if(vs(a)){const c=bC(this),d=lb(c,a,void 0);let m=!0;try{l=r(d),m=!1}finally{m?rb(c):sb(c)}return vC(c,s),jC(l,c)}else if(!a||!Ej(a)){if(l=r(a),l===void 0&&(l=a),l===OO&&(l=void 0),this.autoFreeze_&&Pj(l,!0),s){const c=[],d=[];Cc(ab).generateReplacementPatches_(a,l,{patches_:c,inversePatches_:d}),s(c,d)}return l}else Ur(1,a)},this.produceWithPatches=(a,r)=>{if(pc(a))return(d,...m)=>this.produceWithPatches(d,f=>a(f,...m));let s,l;return[this.produce(a,r,(d,m)=>{s=d,l=m}),s,l]},Iy(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Iy(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Iy(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){vs(t)||Ur(8),ui(t)&&(t=Wr(t));const a=bC(this),r=lb(a,t,void 0);return r[ja].isManual_=!0,sb(a),r}finishDraft(t,a){const r=t&&t[ja];(!r||!r.isManual_)&&Ur(9);const{scope_:s}=r;return vC(s,a),jC(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,a){let r;for(r=a.length-1;r>=0;r--){const l=a[r];if(l.path.length===0&&l.op==="replace"){t=l.value;break}}r>-1&&(a=a.slice(r+1));const s=Cc(ab).applyPatches_;return ui(t)?s(t,a):this.produce(t,l=>s(l,a))}};function lb(e,t,a,r){const[s,l]=kp(t)?Cc(Eh).proxyMap_(t,a):Pp(t)?Cc(Eh).proxySet_(t,a):Wz(t,a);return(a?.scope_??PO()).drafts_.push(s),l.callbacks_=a?.callbacks_??[],l.key_=r,a&&r!==void 0?Vz(a,l,r):l.callbacks_.push(function(m){m.mapSetPlugin_?.fixSetContents(l);const{patchPlugin_:f}=m;l.modified_&&f&&f.generatePatches_(l,[],m)}),s}function Wr(e){return ui(e)||Ur(10,e),IO(e)}function IO(e){if(!vs(e)||Rp(e))return e;const t=e[ja];let a,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,a=nb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else a=nb(e,!0);return Hu(a,(s,l)=>{Oh(a,s,IO(l))},r),t&&(t.finalized_=!1),a}var Zz=new Gz,zO=Zz.produce;function $O(e){return({dispatch:a,getState:r})=>s=>l=>typeof l=="function"?l(a,r,e):s(l)}var Xz=$O(),Qz=$O,Jz=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ch:Ch.apply(null,arguments)};function Or(e,t){function a(...r){if(t){let s=t(...r);if(!s)throw new Error(Ja(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return a.toString=()=>`${e}`,a.type=e,a.match=r=>DO(r)&&r.type===e,a}var BO=class ru extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ru.prototype)}static get[Symbol.species](){return ru}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ru(...t[0].concat(this)):new ru(...t.concat(this))}};function NC(e){return vs(e)?zO(e,()=>{}):e}function Ff(e,t,a){return e.has(t)?e.get(t):e.set(t,a(t)).get(t)}function e$(e){return typeof e=="boolean"}var t$=()=>function(t){const{thunk:a=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=t??{};let c=new BO;return a&&(e$(a)?c.push(Xz):c.push(Qz(a.extraArgument))),c},FO="RTK_autoBatch",cn=()=>e=>({payload:e,meta:{[FO]:!0}}),SC=e=>t=>{setTimeout(t,e)},UO=(e={type:"raf"})=>t=>(...a)=>{const r=t(...a);let s=!0,l=!1,c=!1;const d=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:SC(10):e.type==="callback"?e.queueNotification:SC(e.timeout),f=()=>{c=!1,l&&(l=!1,d.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const g=()=>s&&h(),y=r.subscribe(g);return d.add(h),()=>{y(),d.delete(h)}},dispatch(h){try{return s=!h?.meta?.[FO],l=!s,l&&(c||(c=!0,m(f))),r.dispatch(h)}finally{s=!0}}})},n$=e=>function(a){const{autoBatch:r=!0}=a??{};let s=new BO(e);return r&&s.push(UO(typeof r=="object"?r:void 0)),s};function a$(e){const t=t$(),{reducer:a=void 0,middleware:r,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let d;if(typeof a=="function")d=a;else if(Oj(a))d=MO(a);else throw new Error(Ja(1));let m;typeof r=="function"?m=r(t):m=t();let f=Ch;s&&(f=Jz({trace:!1,...typeof s=="object"&&s}));const h=Lz(...m),g=n$(h);let y=typeof c=="function"?c(g):g();const v=f(...y);return CO(d,l,v)}function qO(e){const t={},a=[];let r;const s={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Ja(28));if(d in t)throw new Error(Ja(29));return t[d]=c,s},addAsyncThunk(l,c){return c.pending&&(t[l.pending.type]=c.pending),c.rejected&&(t[l.rejected.type]=c.rejected),c.fulfilled&&(t[l.fulfilled.type]=c.fulfilled),c.settled&&a.push({matcher:l.settled,reducer:c.settled}),s},addMatcher(l,c){return a.push({matcher:l,reducer:c}),s},addDefaultCase(l){return r=l,s}};return e(s),[t,a,r]}function r$(e){return typeof e=="function"}function s$(e,t){let[a,r,s]=qO(t),l;if(r$(e))l=()=>NC(e());else{const d=NC(e);l=()=>d}function c(d=l(),m){let f=[a[m.type],...r.filter(({matcher:h})=>h(m)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[s]),f.reduce((h,g)=>{if(g)if(ui(h)){const v=g(h,m);return v===void 0?h:v}else{if(vs(h))return zO(h,y=>g(y,m));{const y=g(h,m);if(y===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return h},d)}return c.getInitialState=l,c}var i$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",l$=(e=21)=>{let t="",a=e;for(;a--;)t+=i$[Math.random()*64|0];return t},o$=Symbol.for("rtk-slice-createasyncthunk");function c$(e,t){return`${e}/${t}`}function d$({creators:e}={}){const t=e?.asyncThunk?.[o$];return function(r){const{name:s,reducerPath:l=s}=r;if(!s)throw new Error(Ja(11));const c=(typeof r.reducers=="function"?r.reducers(m$()):r.reducers)||{},d=Object.keys(c),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(A,O){const D=typeof A=="string"?A:A.type;if(!D)throw new Error(Ja(12));if(D in m.sliceCaseReducersByType)throw new Error(Ja(13));return m.sliceCaseReducersByType[D]=O,f},addMatcher(A,O){return m.sliceMatchers.push({matcher:A,reducer:O}),f},exposeAction(A,O){return m.actionCreators[A]=O,f},exposeCaseReducer(A,O){return m.sliceCaseReducersByName[A]=O,f}};d.forEach(A=>{const O=c[A],D={reducerName:A,type:c$(s,A),createNotation:typeof r.reducers=="function"};h$(O)?x$(D,O,f,t):f$(D,O,f)});function h(){const[A={},O=[],D=void 0]=typeof r.extraReducers=="function"?qO(r.extraReducers):[r.extraReducers],k={...A,...m.sliceCaseReducersByType};return s$(r.initialState,_=>{for(let E in k)_.addCase(E,k[E]);for(let E of m.sliceMatchers)_.addMatcher(E.matcher,E.reducer);for(let E of O)_.addMatcher(E.matcher,E.reducer);D&&_.addDefaultCase(D)})}const g=A=>A,y=new Map,v=new WeakMap;let j;function b(A,O){return j||(j=h()),j(A,O)}function S(){return j||(j=h()),j.getInitialState()}function M(A,O=!1){function D(_){let E=_[A];return typeof E>"u"&&O&&(E=Ff(v,D,S)),E}function k(_=g){const E=Ff(y,O,()=>new WeakMap);return Ff(E,_,()=>{const P={};for(const[z,L]of Object.entries(r.selectors??{}))P[z]=u$(L,_,()=>Ff(v,_,S),O);return P})}return{reducerPath:A,getSelectors:k,get selectors(){return k(D)},selectSlice:D}}const N={name:s,reducer:b,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:S,...M(l),injectInto(A,{reducerPath:O,...D}={}){const k=O??l;return A.inject({reducerPath:k,reducer:b},D),{...N,...M(k,!0)}}};return N}}function u$(e,t,a,r){function s(l,...c){let d=t(l);return typeof d>"u"&&r&&(d=a()),e(d,...c)}return s.unwrapped=e,s}var Fa=d$();function m$(){function e(t,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...a}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...a){return t(...a)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:a}},asyncThunk:e}}function f$({type:e,reducerName:t,createNotation:a},r,s){let l,c;if("reducer"in r){if(a&&!p$(r))throw new Error(Ja(17));l=r.reducer,c=r.prepare}else l=r;s.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?Or(e,c):Or(e))}function h$(e){return e._reducerDefinitionType==="asyncThunk"}function p$(e){return e._reducerDefinitionType==="reducerWithPrepare"}function x$({type:e,reducerName:t},a,r,s){if(!s)throw new Error(Ja(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:m,settled:f,options:h}=a,g=s(e,l,h);r.exposeAction(t,g),c&&r.addCase(g.fulfilled,c),d&&r.addCase(g.pending,d),m&&r.addCase(g.rejected,m),f&&r.addMatcher(g.settled,f),r.exposeCaseReducer(t,{fulfilled:c||Uf,pending:d||Uf,rejected:m||Uf,settled:f||Uf})}function Uf(){}var g$="task",HO="listener",VO="completed",Tj="cancelled",y$=`task-${Tj}`,v$=`task-${VO}`,ob=`${HO}-${Tj}`,b$=`${HO}-${VO}`,Tp=class{constructor(e){this.code=e,this.message=`${g$} ${Tj} (reason: ${e})`}name="TaskAbortError";message},Lj=(e,t)=>{if(typeof e!="function")throw new TypeError(Ja(32))},kh=()=>{},KO=(e,t=kh)=>(e.catch(t),e),WO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Kl=(e,t)=>{const a=e.signal;a.aborted||("reason"in a||Object.defineProperty(a,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Wl=e=>{if(e.aborted){const{reason:t}=e;throw new Tp(t)}};function YO(e,t){let a=kh;return new Promise((r,s)=>{const l=()=>s(new Tp(e.reason));if(e.aborted){l();return}a=WO(e,l),t.finally(()=>a()).then(r,s)}).finally(()=>{a=kh})}var j$=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(a){return{status:a instanceof Tp?"cancelled":"rejected",error:a}}finally{t?.()}},Ph=e=>t=>KO(YO(e,t).then(a=>(Wl(e),a))),GO=e=>{const t=Ph(e);return a=>t(new Promise(r=>setTimeout(r,a)))},{assign:bc}=Object,AC={},Lp="listenerMiddleware",w$=(e,t)=>{const a=r=>WO(e,()=>Kl(r,e.reason));return(r,s)=>{Lj(r);const l=new AbortController;a(l);const c=j$(async()=>{Wl(e),Wl(l.signal);const d=await r({pause:Ph(l.signal),delay:GO(l.signal),signal:l.signal});return Wl(l.signal),d},()=>Kl(l,v$));return s?.autoJoin&&t.push(c.catch(kh)),{result:Ph(e)(c),cancel(){Kl(l,y$)}}}},N$=(e,t)=>{const a=async(r,s)=>{Wl(t);let l=()=>{};const d=[new Promise((m,f)=>{let h=e({predicate:r,effect:(g,y)=>{y.unsubscribe(),m([g,y.getState(),y.getOriginalState()])}});l=()=>{h(),f()}})];s!=null&&d.push(new Promise(m=>setTimeout(m,s,null)));try{const m=await YO(t,Promise.race(d));return Wl(t),m}finally{l()}};return(r,s)=>KO(a(r,s))},ZO=e=>{let{type:t,actionCreator:a,matcher:r,predicate:s,effect:l}=e;if(t)s=Or(t).match;else if(a)t=a.type,s=a.match;else if(r)s=r;else if(!s)throw new Error(Ja(21));return Lj(l),{predicate:s,type:t,effect:l}},XO=bc(e=>{const{type:t,predicate:a,effect:r}=ZO(e);return{id:l$(),effect:r,type:t,predicate:a,pending:new Set,unsubscribe:()=>{throw new Error(Ja(22))}}},{withTypes:()=>XO}),CC=(e,t)=>{const{type:a,effect:r,predicate:s}=ZO(t);return Array.from(e.values()).find(l=>(typeof a=="string"?l.type===a:l.predicate===s)&&l.effect===r)},cb=e=>{e.pending.forEach(t=>{Kl(t,ob)})},S$=(e,t)=>()=>{for(const a of t.keys())cb(a);e.clear()},MC=(e,t,a)=>{try{e(t,a)}catch(r){setTimeout(()=>{throw r},0)}},QO=bc(Or(`${Lp}/add`),{withTypes:()=>QO}),A$=Or(`${Lp}/removeAll`),JO=bc(Or(`${Lp}/remove`),{withTypes:()=>JO}),C$=(...e)=>{console.error(`${Lp}/error`,...e)},Ku=(e={})=>{const t=new Map,a=new Map,r=v=>{const j=a.get(v)??0;a.set(v,j+1)},s=v=>{const j=a.get(v)??1;j===1?a.delete(v):a.set(v,j-1)},{extra:l,onError:c=C$}=e;Lj(c);const d=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),j=>{v.unsubscribe(),j?.cancelActive&&cb(v)}),m=v=>{const j=CC(t,v)??XO(v);return d(j)};bc(m,{withTypes:()=>m});const f=v=>{const j=CC(t,v);return j&&(j.unsubscribe(),v.cancelActive&&cb(j)),!!j};bc(f,{withTypes:()=>f});const h=async(v,j,b,S)=>{const M=new AbortController,N=N$(m,M.signal),A=[];try{v.pending.add(M),r(v),await Promise.resolve(v.effect(j,bc({},b,{getOriginalState:S,condition:(O,D)=>N(O,D).then(Boolean),take:N,delay:GO(M.signal),pause:Ph(M.signal),extra:l,signal:M.signal,fork:w$(M.signal,A),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((O,D,k)=>{O!==M&&(Kl(O,ob),k.delete(O))})},cancel:()=>{Kl(M,ob),v.pending.delete(M)},throwIfCancelled:()=>{Wl(M.signal)}})))}catch(O){O instanceof Tp||MC(c,O,{raisedBy:"effect"})}finally{await Promise.all(A),Kl(M,b$),s(v),v.pending.delete(M)}},g=S$(t,a);return{middleware:v=>j=>b=>{if(!DO(b))return j(b);if(QO.match(b))return m(b.payload);if(A$.match(b)){g();return}if(JO.match(b))return f(b.payload);let S=v.getState();const M=()=>{if(S===AC)throw new Error(Ja(23));return S};let N;try{if(N=j(b),t.size>0){const A=v.getState(),O=Array.from(t.values());for(const D of O){let k=!1;try{k=D.predicate(b,A,S)}catch(_){k=!1,MC(c,_,{raisedBy:"predicate"})}k&&h(D,b,v,M)}}}finally{S=AC}return N},startListening:m,stopListening:f,clearListeners:g}};function Ja(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var M$={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},eE=Fa({name:"chartLayout",initialState:M$,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var a,r,s,l;e.margin.top=(a=t.payload.top)!==null&&a!==void 0?a:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(l=t.payload.left)!==null&&l!==void 0?l:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:D$,setLayout:O$,setChartSize:E$,setScale:k$}=eE.actions,P$=eE.reducer;function tE(e,t,a){return Array.isArray(e)&&e&&t+a!==0?e.slice(t,a+1):e}function DC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function xc(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(a),!0).forEach(function(r){R$(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):DC(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function R$(e,t,a){return(t=_$(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _$(e){var t=T$(e,"string");return typeof t=="symbol"?t:t+""}function T$(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bt(e,t,a){return At(e)||At(t)?a:ys(t)?Jl(e,t,a):typeof t=="function"?t(e):a}var L$=(e,t,a)=>{if(t&&a){var{width:r,height:s}=a,{align:l,verticalAlign:c,layout:d}=t;if((d==="vertical"||d==="horizontal"&&c==="middle")&&l!=="center"&&Pe(e[l]))return xc(xc({},e),{},{[l]:e[l]+(r||0)});if((d==="horizontal"||d==="vertical"&&l==="center")&&c!=="middle"&&Pe(e[c]))return xc(xc({},e),{},{[c]:e[c]+(s||0)})}return e},Tr=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",nE=(e,t,a,r)=>{if(r)return e.map(d=>d.coordinate);var s,l,c=e.map(d=>(d.coordinate===t&&(s=!0),d.coordinate===a&&(l=!0),d.coordinate));return s||c.push(t),l||c.push(a),c},aE=(e,t,a)=>{if(!e)return null;var{duplicateDomain:r,type:s,range:l,scale:c,realScaleType:d,isCategorical:m,categoricalDomain:f,tickCount:h,ticks:g,niceTicks:y,axisType:v}=e;if(!c)return null;var j=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,b=s==="category"&&c.bandwidth?c.bandwidth()/j:0;if(b=v==="angleAxis"&&l&&l.length>=2?_n(l[0]-l[1])*2*b:b,g||y){var S=(g||y||[]).map((M,N)=>{var A=r?r.indexOf(M):M;return{coordinate:c(A)+b,value:M,offset:b,index:N}});return S.filter(M=>!Dr(M.coordinate))}return m&&f?f.map((M,N)=>({coordinate:c(M)+b,value:M,index:N,offset:b})):c.ticks&&h!=null?c.ticks(h).map((M,N)=>({coordinate:c(M)+b,value:M,offset:b,index:N})):c.domain().map((M,N)=>({coordinate:c(M)+b,value:r?r[M]:M,index:N,offset:b}))},OC=1e-4,I$=e=>{var t=e.domain();if(!(!t||t.length<=2)){var a=t.length,r=e.range(),s=Math.min(r[0],r[1])-OC,l=Math.max(r[0],r[1])+OC,c=e(t[0]),d=e(t[a-1]);(c<s||c>l||d<s||d>l)&&e.domain([t[0],t[a-1]])}},rE=(e,t)=>{if(!t||t.length!==2||!Pe(t[0])||!Pe(t[1]))return e;var a=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Pe(e[0])||e[0]<a)&&(s[0]=a),(!Pe(e[1])||e[1]>r)&&(s[1]=r),s[0]>r&&(s[0]=r),s[1]<a&&(s[1]=a),s},z$=e=>{var t=e.length;if(!(t<=0))for(var a=0,r=e[0].length;a<r;++a)for(var s=0,l=0,c=0;c<t;++c){var d=Dr(e[c][a][1])?e[c][a][0]:e[c][a][1];d>=0?(e[c][a][0]=s,e[c][a][1]=s+d,s=e[c][a][1]):(e[c][a][0]=l,e[c][a][1]=l+d,l=e[c][a][1])}},$$=e=>{var t=e.length;if(!(t<=0))for(var a=0,r=e[0].length;a<r;++a)for(var s=0,l=0;l<t;++l){var c=Dr(e[l][a][1])?e[l][a][0]:e[l][a][1];c>=0?(e[l][a][0]=s,e[l][a][1]=s+c,s=e[l][a][1]):(e[l][a][0]=0,e[l][a][1]=0)}},B$={sign:z$,expand:iI,none:Sc,silhouette:lI,wiggle:oI,positive:$$},F$=(e,t,a)=>{var r=B$[a],s=sI().keys(t).value((l,c)=>Number(bt(l,c,0))).order(Qv).offset(r);return s(e)};function Ip(e){return e==null?void 0:String(e)}function Mc(e){var{axis:t,ticks:a,bandSize:r,entry:s,index:l,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!At(s[t.dataKey])){var d=cO(a,"value",s[t.dataKey]);if(d)return d.coordinate+r/2}return a[l]?a[l].coordinate+r/2:null}var m=bt(s,At(c)?t.dataKey:c);return At(m)?null:t.scale(m)}var Rh=e=>{var{axis:t,ticks:a,offset:r,bandSize:s,entry:l,index:c}=e;if(t.type==="category")return a[c]?a[c].coordinate+r:null;var d=bt(l,t.dataKey,t.scale.domain()[c]);return At(d)?null:t.scale(d)-s/2+r},sE=e=>{var{numericAxis:t}=e,a=t.scale.domain();if(t.type==="number"){var r=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);return r<=0&&s>=0?0:s<0?s:r}return a[0]},U$=e=>{var t=e.flat(2).filter(Pe);return[Math.min(...t),Math.max(...t)]},q$=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],H$=(e,t,a)=>{if(e!=null)return q$(Object.keys(e).reduce((r,s)=>{var l=e[s],{stackedData:c}=l,d=c.reduce((m,f)=>{var h=tE(f,t,a),g=U$(h);return[Math.min(m[0],g[0]),Math.max(m[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},EC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$a=(e,t,a)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!a||r>0)return r}if(e&&t&&t.length>=2){for(var s=Dp(t,h=>h.coordinate),l=1/0,c=1,d=s.length;c<d;c++){var m=s[c],f=s[c-1];l=Math.min((m.coordinate||0)-(f.coordinate||0),l)}return l===1/0?0:l}return a?void 0:0};function PC(e){var{tooltipEntrySettings:t,dataKey:a,payload:r,value:s,name:l}=e;return xc(xc({},t),{},{dataKey:a,payload:r,value:s,name:l})}function lr(e,t){if(e)return String(e);if(typeof t=="string")return t}var V$=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},K$=(e,t)=>t==="centric"?e.angle:e.radius,vi=e=>e.layout.width,bi=e=>e.layout.height,W$=e=>e.layout.scale,iE=e=>e.layout.margin,zp=te(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),$p=te(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Ij="data-recharts-item-index",zj="data-recharts-item-data-key",Wu=60;function RC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function qf(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(a),!0).forEach(function(r){Y$(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):RC(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Y$(e,t,a){return(t=G$(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function G$(e){var t=Z$(e,"string");return typeof t=="symbol"?t:t+""}function Z$(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X$=e=>e.brush.height;function Q$(e){var t=$p(e);return t.reduce((a,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var s=typeof r.width=="number"?r.width:Wu;return a+s}return a},0)}function J$(e){var t=$p(e);return t.reduce((a,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var s=typeof r.width=="number"?r.width:Wu;return a+s}return a},0)}function eB(e){var t=zp(e);return t.reduce((a,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?a+r.height:a,0)}function tB(e){var t=zp(e);return t.reduce((a,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?a+r.height:a,0)}var Fn=te([vi,bi,iE,X$,Q$,J$,eB,tB,SO,Oz],(e,t,a,r,s,l,c,d,m,f)=>{var h={left:(a.left||0)+s,right:(a.right||0)+l},g={top:(a.top||0)+c,bottom:(a.bottom||0)+d},y=qf(qf({},g),h),v=y.bottom;y.bottom+=r,y=L$(y,m,f);var j=e-y.left-y.right,b=t-y.top-y.bottom;return qf(qf({brushBottom:v},y),{},{width:Math.max(j,0),height:Math.max(b,0)})}),nB=te(Fn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),$j=te(vi,bi,(e,t)=>({x:0,y:0,width:e,height:t})),aB=x.createContext(null),vn=()=>x.useContext(aB)!=null,Bp=e=>e.brush,Fp=te([Bp,Fn,iE],(e,t,a)=>({height:e.height,x:Pe(e.x)?e.x:t.left,y:Pe(e.y)?e.y:t.top+t.height+t.brushBottom-(a?.bottom||0),width:Pe(e.width)?e.width:t.width})),$y={},By={},Fy={},_C;function rB(){return _C||(_C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r,{signal:s,edges:l}={}){let c,d=null;const m=l!=null&&l.includes("leading"),f=l==null||l.includes("trailing"),h=()=>{d!==null&&(a.apply(c,d),c=void 0,d=null)},g=()=>{f&&h(),b()};let y=null;const v=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},r)},j=()=>{y!==null&&(clearTimeout(y),y=null)},b=()=>{j(),c=void 0,d=null},S=()=>{h()},M=function(...N){if(s?.aborted)return;c=this,d=N;const A=y==null;v(),m&&A&&h()};return M.schedule=v,M.cancel=b,M.flush=S,s?.addEventListener("abort",b,{once:!0}),M}e.debounce=t})(Fy)),Fy}var TC;function sB(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rB();function a(r,s=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:d=!0,maxWait:m}=l,f=Array(2);c&&(f[0]="leading"),d&&(f[1]="trailing");let h,g=null;const y=t.debounce(function(...b){h=r.apply(this,b),g=null},s,{edges:f}),v=function(...b){return m!=null&&(g===null&&(g=Date.now()),Date.now()-g>=m)?(h=r.apply(this,b),g=Date.now(),y.cancel(),y.schedule(),h):(y.apply(this,b),h)},j=()=>(y.flush(),h);return v.cancel=y.cancel,v.flush=j,v}e.debounce=a})(By)),By}var LC;function iB(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sB();function a(r,s=0,l={}){const{leading:c=!0,trailing:d=!0}=l;return t.debounce(r,s,{leading:c,maxWait:s,trailing:d})}e.throttle=a})($y)),$y}var Uy,IC;function lB(){return IC||(IC=1,Uy=iB().throttle),Uy}var oB=lB();const cB=Rr(oB);var _h=function(t,a){for(var r=arguments.length,s=new Array(r>2?r-2:0),l=2;l<r;l++)s[l-2]=arguments[l];if(typeof console<"u"&&console.warn&&(a===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(a===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(a.replace(/%s/g,()=>s[c++]))}},lE=(e,t,a)=>{var{width:r="100%",height:s="100%",aspect:l,maxHeight:c}=a,d=di(r)?e:Number(r),m=di(s)?t:Number(s);return l&&l>0&&(d?m=d/l:m&&(d=m*l),c&&m!=null&&m>c&&(m=c)),{calculatedWidth:d,calculatedHeight:m}},dB={width:0,height:0,overflow:"visible"},uB={width:0,overflowX:"visible"},mB={height:0,overflowY:"visible"},fB={},hB=e=>{var{width:t,height:a}=e,r=di(t),s=di(a);return r&&s?dB:r?uB:s?mB:fB};function pB(e){var{width:t,height:a,aspect:r}=e,s=t,l=a;return s===void 0&&l===void 0?(s="100%",l="100%"):s===void 0?s=r&&r>0?void 0:"100%":l===void 0&&(l=r&&r>0?void 0:"100%"),{width:s,height:l}}function sn(e){return Number.isFinite(e)}function bs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function db(){return db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},db.apply(null,arguments)}function zC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function $C(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?zC(Object(a),!0).forEach(function(r){xB(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zC(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function xB(e,t,a){return(t=gB(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function gB(e){var t=yB(e,"string");return typeof t=="symbol"?t:t+""}function yB(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oE=x.createContext({width:-1,height:-1});function vB(e){return bs(e.width)&&bs(e.height)}function cE(e){var{children:t,width:a,height:r}=e,s=x.useMemo(()=>({width:a,height:r}),[a,r]);return vB(s)?x.createElement(oE.Provider,{value:s},t):null}var Bj=()=>x.useContext(oE),bB=x.forwardRef((e,t)=>{var{aspect:a,initialDimension:r={width:-1,height:-1},width:s,height:l,minWidth:c=0,minHeight:d,maxHeight:m,children:f,debounce:h=0,id:g,className:y,onResize:v,style:j={}}=e,b=x.useRef(null),S=x.useRef();S.current=v,x.useImperativeHandle(t,()=>b.current);var[M,N]=x.useState({containerWidth:r.width,containerHeight:r.height}),A=x.useCallback((E,P)=>{N(z=>{var L=Math.round(E),I=Math.round(P);return z.containerWidth===L&&z.containerHeight===I?z:{containerWidth:L,containerHeight:I}})},[]);x.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return qu;var E=I=>{var J,{width:T,height:Y}=I[0].contentRect;A(T,Y),(J=S.current)===null||J===void 0||J.call(S,T,Y)};h>0&&(E=cB(E,h,{trailing:!0,leading:!1}));var P=new ResizeObserver(E),{width:z,height:L}=b.current.getBoundingClientRect();return A(z,L),P.observe(b.current),()=>{P.disconnect()}},[A,h]);var{containerWidth:O,containerHeight:D}=M;_h(!a||a>0,"The aspect(%s) must be greater than zero.",a);var{calculatedWidth:k,calculatedHeight:_}=lE(O,D,{width:s,height:l,aspect:a,maxHeight:m});return _h(k!=null&&k>0||_!=null&&_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,_,s,l,c,d,a),x.createElement("div",{id:g?"".concat(g):void 0,className:at("recharts-responsive-container",y),style:$C($C({},j),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:m}),ref:b},x.createElement("div",{style:hB({width:s,height:l})},x.createElement(cE,{width:k,height:_},f)))}),dt=x.forwardRef((e,t)=>{var a=Bj();if(bs(a.width)&&bs(a.height))return e.children;var{width:r,height:s}=pB({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:l,calculatedHeight:c}=lE(void 0,void 0,{width:r,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Pe(l)&&Pe(c)?x.createElement(cE,{width:l,height:c},e.children):x.createElement(bB,db({},e,{width:r,height:s,ref:t}))});function dE(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Yu=()=>{var e,t=vn(),a=Oe(nB),r=Oe(Fp),s=(e=Oe(Bp))===null||e===void 0?void 0:e.padding;return!t||!r||!s?a:{width:r.width-s.left-s.right,height:r.height-s.top-s.bottom,x:s.left,y:s.top}},jB={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},uE=()=>{var e;return(e=Oe(Fn))!==null&&e!==void 0?e:jB},Fj=()=>Oe(vi),Uj=()=>Oe(bi),wB=()=>Oe(e=>e.layout.margin),et=e=>e.layout.layoutType,co=()=>Oe(et),NB=()=>{var e=co();if(e==="horizontal"||e==="vertical")return e},SB=()=>{var e=co();return e!==void 0},Up=e=>{var t=Ft(),a=vn(),{width:r,height:s}=e,l=Bj(),c=r,d=s;return l&&(c=l.width>0?l.width:r,d=l.height>0?l.height:s),x.useEffect(()=>{!a&&bs(c)&&bs(d)&&t(E$({width:c,height:d}))},[t,a,c,d]),null},mE=Symbol.for("immer-nothing"),BC=Symbol.for("immer-draftable"),ar=Symbol.for("immer-state");function qr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var wu=Object.getPrototypeOf;function Dc(e){return!!e&&!!e[ar]}function eo(e){return e?fE(e)||Array.isArray(e)||!!e[BC]||!!e.constructor?.[BC]||Gu(e)||Hp(e):!1}var AB=Object.prototype.constructor.toString(),FC=new WeakMap;function fE(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const a=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(a===Object)return!0;if(typeof a!="function")return!1;let r=FC.get(a);return r===void 0&&(r=Function.toString.call(a),FC.set(a,r)),r===AB}function Th(e,t,a=!0){qp(e)===0?(a?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((r,s)=>t(s,r,e))}function qp(e){const t=e[ar];return t?t.type_:Array.isArray(e)?1:Gu(e)?2:Hp(e)?3:0}function ub(e,t){return qp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function hE(e,t,a){const r=qp(e);r===2?e.set(t,a):r===3?e.add(a):e[t]=a}function CB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Gu(e){return e instanceof Map}function Hp(e){return e instanceof Set}function zl(e){return e.copy_||e.base_}function mb(e,t){if(Gu(e))return new Map(e);if(Hp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const a=fE(e);if(t===!0||t==="class_only"&&!a){const r=Object.getOwnPropertyDescriptors(e);delete r[ar];let s=Reflect.ownKeys(r);for(let l=0;l<s.length;l++){const c=s[l],d=r[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(wu(e),r)}else{const r=wu(e);if(r!==null&&a)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function qj(e,t=!1){return Vp(e)||Dc(e)||!eo(e)||(qp(e)>1&&Object.defineProperties(e,{set:Hf,add:Hf,clear:Hf,delete:Hf}),Object.freeze(e),t&&Object.values(e).forEach(a=>qj(a,!0))),e}function MB(){qr(2)}var Hf={value:MB};function Vp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var DB={};function to(e){const t=DB[e];return t||qr(0,e),t}var Nu;function pE(){return Nu}function OB(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function UC(e,t){t&&(to("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fb(e){hb(e),e.drafts_.forEach(EB),e.drafts_=null}function hb(e){e===Nu&&(Nu=e.parent_)}function qC(e){return Nu=OB(Nu,e)}function EB(e){const t=e[ar];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function HC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const a=t.drafts_[0];return e!==void 0&&e!==a?(a[ar].modified_&&(fb(t),qr(4)),eo(e)&&(e=Lh(t,e),t.parent_||Ih(t,e)),t.patches_&&to("Patches").generateReplacementPatches_(a[ar].base_,e,t.patches_,t.inversePatches_)):e=Lh(t,a,[]),fb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==mE?e:void 0}function Lh(e,t,a){if(Vp(t))return t;const r=e.immer_.shouldUseStrictIteration(),s=t[ar];if(!s)return Th(t,(l,c)=>VC(e,s,t,l,c,a),r),t;if(s.scope_!==e)return t;if(!s.modified_)return Ih(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const l=s.copy_;let c=l,d=!1;s.type_===3&&(c=new Set(l),l.clear(),d=!0),Th(c,(m,f)=>VC(e,s,l,m,f,a,d),r),Ih(e,l,!1),a&&e.patches_&&to("Patches").generatePatches_(s,a,e.patches_,e.inversePatches_)}return s.copy_}function VC(e,t,a,r,s,l,c){if(s==null||typeof s!="object"&&!c)return;const d=Vp(s);if(!(d&&!c)){if(Dc(s)){const m=l&&t&&t.type_!==3&&!ub(t.assigned_,r)?l.concat(r):void 0,f=Lh(e,s,m);if(hE(a,r,f),Dc(f))e.canAutoFreeze_=!1;else return}else c&&a.add(s);if(eo(s)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===s&&d)return;Lh(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Gu(a)?a.has(r):Object.prototype.propertyIsEnumerable.call(a,r))&&Ih(e,s)}}}function Ih(e,t,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&qj(t,a)}function kB(e,t){const a=Array.isArray(e),r={type_:a?1:0,scope_:t?t.scope_:pE(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,l=Hj;a&&(s=[r],l=Su);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return r.draft_=d,r.revoke_=c,d}var Hj={get(e,t){if(t===ar)return e;const a=zl(e);if(!ub(a,t))return PB(e,a,t);const r=a[t];return e.finalized_||!eo(r)?r:r===qy(e.base_,t)?(Hy(e),e.copy_[t]=xb(r,e)):r},has(e,t){return t in zl(e)},ownKeys(e){return Reflect.ownKeys(zl(e))},set(e,t,a){const r=xE(zl(e),t);if(r?.set)return r.set.call(e.draft_,a),!0;if(!e.modified_){const s=qy(zl(e),t),l=s?.[ar];if(l&&l.base_===a)return e.copy_[t]=a,e.assigned_[t]=!1,!0;if(CB(a,s)&&(a!==void 0||ub(e.base_,t)))return!0;Hy(e),pb(e)}return e.copy_[t]===a&&(a!==void 0||t in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=a,e.assigned_[t]=!0),!0},deleteProperty(e,t){return qy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Hy(e),pb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const a=zl(e),r=Reflect.getOwnPropertyDescriptor(a,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:a[t]}},defineProperty(){qr(11)},getPrototypeOf(e){return wu(e.base_)},setPrototypeOf(){qr(12)}},Su={};Th(Hj,(e,t)=>{Su[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Su.deleteProperty=function(e,t){return Su.set.call(this,e,t,void 0)};Su.set=function(e,t,a){return Hj.set.call(this,e[0],t,a,e[0])};function qy(e,t){const a=e[ar];return(a?zl(a):e)[t]}function PB(e,t,a){const r=xE(t,a);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function xE(e,t){if(!(t in e))return;let a=wu(e);for(;a;){const r=Object.getOwnPropertyDescriptor(a,t);if(r)return r;a=wu(a)}}function pb(e){e.modified_||(e.modified_=!0,e.parent_&&pb(e.parent_))}function Hy(e){e.copy_||(e.copy_=mb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var RB=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,a,r)=>{if(typeof t=="function"&&typeof a!="function"){const l=a;a=t;const c=this;return function(m=l,...f){return c.produce(m,h=>a.call(this,h,...f))}}typeof a!="function"&&qr(6),r!==void 0&&typeof r!="function"&&qr(7);let s;if(eo(t)){const l=qC(this),c=xb(t,void 0);let d=!0;try{s=a(c),d=!1}finally{d?fb(l):hb(l)}return UC(l,r),HC(s,l)}else if(!t||typeof t!="object"){if(s=a(t),s===void 0&&(s=t),s===mE&&(s=void 0),this.autoFreeze_&&qj(s,!0),r){const l=[],c=[];to("Patches").generateReplacementPatches_(t,s,l,c),r(l,c)}return s}else qr(1,t)},this.produceWithPatches=(t,a)=>{if(typeof t=="function")return(c,...d)=>this.produceWithPatches(c,m=>t(m,...d));let r,s;return[this.produce(t,a,(c,d)=>{r=c,s=d}),r,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){eo(e)||qr(8),Dc(e)&&(e=_B(e));const t=qC(this),a=xb(e,void 0);return a[ar].isManual_=!0,hb(t),a}finishDraft(e,t){const a=e&&e[ar];(!a||!a.isManual_)&&qr(9);const{scope_:r}=a;return UC(r,t),HC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let a;for(a=t.length-1;a>=0;a--){const s=t[a];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}a>-1&&(t=t.slice(a+1));const r=to("Patches").applyPatches_;return Dc(e)?r(e,t):this.produce(e,s=>r(s,t))}};function xb(e,t){const a=Gu(e)?to("MapSet").proxyMap_(e,t):Hp(e)?to("MapSet").proxySet_(e,t):kB(e,t);return(t?t.scope_:pE()).drafts_.push(a),a}function _B(e){return Dc(e)||qr(10,e),gE(e)}function gE(e){if(!eo(e)||Vp(e))return e;const t=e[ar];let a,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,a=mb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else a=mb(e,!0);return Th(a,(s,l)=>{hE(a,s,gE(l))},r),t&&(t.finalized_=!1),a}var TB=new RB;TB.produce;var LB={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},yE=Fa({name:"legend",initialState:LB,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:cn()},replaceLegendPayload:{reducer(e,t){var{prev:a,next:r}=t.payload,s=Wr(e).payload.indexOf(a);s>-1&&(e.payload[s]=r)},prepare:cn()},removeLegendPayload:{reducer(e,t){var a=Wr(e).payload.indexOf(t.payload);a>-1&&e.payload.splice(a,1)},prepare:cn()}}}),{setLegendSize:KC,setLegendSettings:IB,addLegendPayload:vE,replaceLegendPayload:bE,removeLegendPayload:jE}=yE.actions,zB=yE.reducer,$B=["contextPayload"];function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},gb.apply(null,arguments)}function WC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Oc(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(a),!0).forEach(function(r){BB(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):WC(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function BB(e,t,a){return(t=FB(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function FB(e){var t=UB(e,"string");return typeof t=="symbol"?t:t+""}function UB(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qB(e,t){if(e==null)return{};var a,r,s=HB(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function HB(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function VB(e){return e.value}function KB(e){var{contextPayload:t}=e,a=qB(e,$B),r=bO(t,e.payloadUniqBy,VB),s=Oc(Oc({},a),{},{payload:r});return x.isValidElement(e.content)?x.cloneElement(e.content,s):typeof e.content=="function"?x.createElement(e.content,s):x.createElement($I,s)}function WB(e,t,a,r,s,l){var{layout:c,align:d,verticalAlign:m}=t,f,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&c==="vertical"?f={left:((r||0)-l.width)/2}:f=d==="right"?{right:a&&a.right||0}:{left:a&&a.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(m==="middle"?h={top:((s||0)-l.height)/2}:h=m==="bottom"?{bottom:a&&a.bottom||0}:{top:a&&a.top||0}),Oc(Oc({},f),h)}function YB(e){var t=Ft();return x.useEffect(()=>{t(IB(e))},[t,e]),null}function GB(e){var t=Ft();return x.useEffect(()=>(t(KC(e)),()=>{t(KC({width:0,height:0}))}),[t,e]),null}function ZB(e,t,a,r){return e==="vertical"&&Pe(t)?{height:t}:e==="horizontal"?{width:a||r}:null}var XB={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function er(e){var t=Rt(e,XB),a=Pz(),r=O9(),s=wB(),{width:l,height:c,wrapperStyle:d,portal:m}=t,[f,h]=AO([a]),g=Fj(),y=Uj();if(g==null||y==null)return null;var v=g-(s?.left||0)-(s?.right||0),j=ZB(t.layout,c,l,v),b=m?d:Oc(Oc({position:"absolute",width:j?.width||l||"auto",height:j?.height||c||"auto"},WB(d,t,s,g,y,f)),d),S=m??r;if(S==null||a==null)return null;var M=x.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:h},x.createElement(YB,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!m&&x.createElement(GB,{width:f.width,height:f.height}),x.createElement(KB,gb({},t,j,{margin:s,chartWidth:g,chartHeight:y,contextPayload:a})));return rj.createPortal(M,S)}er.displayName="Legend";function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},yb.apply(null,arguments)}function YC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Vy(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(a),!0).forEach(function(r){QB(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):YC(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function QB(e,t,a){return(t=JB(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function JB(e){var t=eF(e,"string");return typeof t=="symbol"?t:t+""}function eF(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tF(e){return Array.isArray(e)&&ys(e[0])&&ys(e[1])?e.join(" ~ "):e}var nF=e=>{var{separator:t=" : ",contentStyle:a={},itemStyle:r={},labelStyle:s={},payload:l,formatter:c,itemSorter:d,wrapperClassName:m,labelClassName:f,label:h,labelFormatter:g,accessibilityLayer:y=!1}=e,v=()=>{if(l&&l.length){var D={padding:0,margin:0},k=(d?Dp(l,d):l).map((_,E)=>{if(_.type==="none")return null;var P=_.formatter||c||tF,{value:z,name:L}=_,I=z,J=L;if(P){var T=P(z,L,_,E,l);if(Array.isArray(T))[I,J]=T;else if(T!=null)I=T;else return null}var Y=Vy({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:Y},ys(J)?x.createElement("span",{className:"recharts-tooltip-item-name"},J):null,ys(J)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},I),x.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:D},k)}return null},j=Vy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),b=Vy({margin:0},s),S=!At(h),M=S?h:"",N=at("recharts-default-tooltip",m),A=at("recharts-tooltip-label",f);S&&g&&l!==void 0&&l!==null&&(M=g(h,l));var O=y?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",yb({className:N,style:j},O),x.createElement("p",{className:A,style:b},x.isValidElement(M)?M:"".concat(M)),v())},Wd="recharts-tooltip-wrapper",aF={visibility:"hidden"};function rF(e){var{coordinate:t,translateX:a,translateY:r}=e;return at(Wd,{["".concat(Wd,"-right")]:Pe(a)&&t&&Pe(t.x)&&a>=t.x,["".concat(Wd,"-left")]:Pe(a)&&t&&Pe(t.x)&&a<t.x,["".concat(Wd,"-bottom")]:Pe(r)&&t&&Pe(t.y)&&r>=t.y,["".concat(Wd,"-top")]:Pe(r)&&t&&Pe(t.y)&&r<t.y})}function GC(e){var{allowEscapeViewBox:t,coordinate:a,key:r,offsetTopLeft:s,position:l,reverseDirection:c,tooltipDimension:d,viewBox:m,viewBoxDimension:f}=e;if(l&&Pe(l[r]))return l[r];var h=a[r]-d-(s>0?s:0),g=a[r]+s;if(t[r])return c[r]?h:g;var y=m[r];if(y==null)return 0;if(c[r]){var v=h,j=y;return v<j?Math.max(g,y):Math.max(h,y)}if(f==null)return 0;var b=g+d,S=y+f;return b>S?Math.max(h,y):Math.max(g,y)}function sF(e){var{translateX:t,translateY:a,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(a,"px, 0)"):"translate(".concat(t,"px, ").concat(a,"px)")}}function iF(e){var{allowEscapeViewBox:t,coordinate:a,offsetTopLeft:r,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:m}=e,f,h,g;return c.height>0&&c.width>0&&a?(h=GC({allowEscapeViewBox:t,coordinate:a,key:"x",offsetTopLeft:r,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:m,viewBoxDimension:m.width}),g=GC({allowEscapeViewBox:t,coordinate:a,key:"y",offsetTopLeft:r,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:m,viewBoxDimension:m.height}),f=sF({translateX:h,translateY:g,useTranslate3d:d})):f=aF,{cssProperties:f,cssClasses:rF({translateX:h,translateY:g,coordinate:a})}}function ZC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Vf(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ZC(Object(a),!0).forEach(function(r){vb(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ZC(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function vb(e,t,a){return(t=lF(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function lF(e){var t=oF(e,"string");return typeof t=="symbol"?t:t+""}function oF(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class cF extends x.PureComponent{constructor(){super(...arguments),vb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),vb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var a,r,s,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&a!==void 0?a:0,y:(s=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,a;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:a,animationDuration:r,animationEasing:s,children:l,coordinate:c,hasPayload:d,isAnimationActive:m,offset:f,position:h,reverseDirection:g,useTranslate3d:y,viewBox:v,wrapperStyle:j,lastBoundingBox:b,innerRef:S,hasPortalFromProps:M}=this.props,{cssClasses:N,cssProperties:A}=iF({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:f,position:h,reverseDirection:g,tooltipBox:{height:b.height,width:b.width},useTranslate3d:y,viewBox:v}),O=M?{}:Vf(Vf({transition:m&&t?"transform ".concat(r,"ms ").concat(s):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),D=Vf(Vf({},O),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},j);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:D,ref:S},l)}}var wE=()=>{var e;return(e=Oe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},bb.apply(null,arguments)}function XC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function QC(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?XC(Object(a),!0).forEach(function(r){dF(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):XC(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function dF(e,t,a){return(t=uF(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function uF(e){var t=mF(e,"string");return typeof t=="symbol"?t:t+""}function mF(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JC={curveBasisClosed:Y9,curveBasisOpen:G9,curveBasis:W9,curveBumpX:R9,curveBumpY:_9,curveLinearClosed:Z9,curveLinear:Sp,curveMonotoneX:X9,curveMonotoneY:Q9,curveNatural:J9,curveStep:eI,curveStepAfter:nI,curveStepBefore:tI},zh=e=>sn(e.x)&&sn(e.y),eM=e=>e.base!=null&&zh(e.base)&&zh(e),Yd=e=>e.x,Gd=e=>e.y,fF=(e,t)=>{if(typeof e=="function")return e;var a="curve".concat(Uu(e));return(a==="curveMonotone"||a==="curveBump")&&t?JC["".concat(a).concat(t==="vertical"?"Y":"X")]:JC[a]||Sp},hF=e=>{var{type:t="linear",points:a=[],baseLine:r,layout:s,connectNulls:l=!1}=e,c=fF(t,s),d=l?a.filter(zh):a,m;if(Array.isArray(r)){var f=a.map((v,j)=>QC(QC({},v),{},{base:r[j]}));s==="vertical"?m=If().y(Gd).x1(Yd).x0(v=>v.base.x):m=If().x(Yd).y1(Gd).y0(v=>v.base.y);var h=m.defined(eM).curve(c),g=l?f.filter(eM):f;return h(g)}s==="vertical"&&Pe(r)?m=If().y(Gd).x1(Yd).x0(r):Pe(r)?m=If().x(Yd).y1(Gd).y0(r):m=ZD().x(Yd).y(Gd);var y=m.defined(zh).curve(c);return y(d)},Yl=e=>{var{className:t,points:a,path:r,pathRef:s}=e;if((!a||!a.length)&&!r)return null;var l=a&&a.length?hF(e):r;return x.createElement("path",bb({},Bt(e),Aj(e),{className:at("recharts-curve",t),d:l===null?void 0:l,ref:s}))},pF=["x","y","top","left","width","height","className"];function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},jb.apply(null,arguments)}function tM(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function xF(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?tM(Object(a),!0).forEach(function(r){gF(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function gF(e,t,a){return(t=yF(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function yF(e){var t=vF(e,"string");return typeof t=="symbol"?t:t+""}function vF(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bF(e,t){if(e==null)return{};var a,r,s=jF(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function jF(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var wF=(e,t,a,r,s,l)=>"M".concat(e,",").concat(s,"v").concat(r,"M").concat(l,",").concat(t,"h").concat(a),NF=e=>{var{x:t=0,y:a=0,top:r=0,left:s=0,width:l=0,height:c=0,className:d}=e,m=bF(e,pF),f=xF({x:t,y:a,top:r,left:s,width:l,height:c},m);return!Pe(t)||!Pe(a)||!Pe(l)||!Pe(c)||!Pe(r)||!Pe(s)?null:x.createElement("path",jb({},Sn(f),{className:at("recharts-cross",d),d:wF(t,a,l,c,r,s)}))};function SF(e,t,a,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:a.left+.5,y:e==="horizontal"?a.top+.5:t.y-s,width:e==="horizontal"?r:a.width-1,height:e==="horizontal"?a.height-1:r}}function nM(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function aM(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?nM(Object(a),!0).forEach(function(r){AF(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function AF(e,t,a){return(t=CF(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function CF(e){var t=MF(e,"string");return typeof t=="symbol"?t:t+""}function MF(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DF=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),NE=(e,t,a)=>e.map(r=>"".concat(DF(r)," ").concat(t,"ms ").concat(a)).join(","),OF=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((a,r)=>a.filter(s=>r.includes(s))),Au=(e,t)=>Object.keys(t).reduce((a,r)=>aM(aM({},a),{},{[r]:e(r,t[r])}),{});function rM(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Bn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?rM(Object(a),!0).forEach(function(r){EF(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function EF(e,t,a){return(t=kF(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function kF(e){var t=PF(e,"string");return typeof t=="symbol"?t:t+""}function PF(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $h=(e,t,a)=>e+(t-e)*a,wb=e=>{var{from:t,to:a}=e;return t!==a},SE=(e,t,a)=>{var r=Au((s,l)=>{if(wb(l)){var[c,d]=e(l.from,l.to,l.velocity);return Bn(Bn({},l),{},{from:c,velocity:d})}return l},t);return a<1?Au((s,l)=>wb(l)?Bn(Bn({},l),{},{velocity:$h(l.velocity,r[s].velocity,a),from:$h(l.from,r[s].from,a)}):l,t):SE(e,r,a-1)};function RF(e,t,a,r,s,l){var c,d=r.reduce((y,v)=>Bn(Bn({},y),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),m=()=>Au((y,v)=>v.from,d),f=()=>!Object.values(d).filter(wb).length,h=null,g=y=>{c||(c=y);var v=y-c,j=v/a.dt;d=SE(a,d,j),s(Bn(Bn(Bn({},e),t),m())),c=y,f()||(h=l.setTimeout(g))};return()=>(h=l.setTimeout(g),()=>{var y;(y=h)===null||y===void 0||y()})}function _F(e,t,a,r,s,l,c){var d=null,m=s.reduce((g,y)=>Bn(Bn({},g),{},{[y]:[e[y],t[y]]}),{}),f,h=g=>{f||(f=g);var y=(g-f)/r,v=Au((b,S)=>$h(...S,a(y)),m);if(l(Bn(Bn(Bn({},e),t),v)),y<1)d=c.setTimeout(h);else{var j=Au((b,S)=>$h(...S,a(1)),m);l(Bn(Bn(Bn({},e),t),j))}};return()=>(d=c.setTimeout(h),()=>{var g;(g=d)===null||g===void 0||g()})}const TF=(e,t,a,r,s,l)=>{var c=OF(e,t);return a==null?()=>(s(Bn(Bn({},e),t)),()=>{}):a.isStepper===!0?RF(e,t,a,c,s,l):_F(e,t,a,r,c,s,l)};var Bh=1e-4,AE=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],CE=(e,t)=>e.map((a,r)=>a*t**r).reduce((a,r)=>a+r),sM=(e,t)=>a=>{var r=AE(e,t);return CE(r,a)},LF=(e,t)=>a=>{var r=AE(e,t),s=[...r.map((l,c)=>l*c).slice(1),0];return CE(s,a)},IF=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];if(a.length===1)switch(a[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s,l=a[0].split("(");if(l[0]==="cubic-bezier"&&((s=l[1])===null||s===void 0?void 0:s.split(")")[0].split(",").length)===4){var c=l[1].split(")")[0].split(",").map(d=>parseFloat(d));return[c[0],c[1],c[2],c[3]]}}}return a.length===4?a:[0,0,1,1]},zF=(e,t,a,r)=>{var s=sM(e,a),l=sM(t,r),c=LF(e,a),d=f=>f>1?1:f<0?0:f,m=f=>{for(var h=f>1?1:f,g=h,y=0;y<8;++y){var v=s(g)-h,j=c(g);if(Math.abs(v-h)<Bh||j<Bh)return l(g);g=d(g-v/j)}return l(g)};return m.isStepper=!1,m},iM=function(){return zF(...IF(...arguments))},$F=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:a=100,damping:r=8,dt:s=17}=t,l=(c,d,m)=>{var f=-(c-d)*a,h=m*r,g=m+(f-h)*s/1e3,y=m*s/1e3+c;return Math.abs(y-d)<Bh&&Math.abs(g)<Bh?[d,0]:[y,g]};return l.isStepper=!0,l.dt=s,l},BF=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iM(e);case"spring":return $F();default:if(e.split("(")[0]==="cubic-bezier")return iM(e)}return typeof e=="function"?e:null};function FF(e){var t,a=()=>null,r=!1,s=null,l=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var d=c,[m,...f]=d;if(typeof m=="number"){s=e.setTimeout(l.bind(null,f),m);return}l(m),s=e.setTimeout(l.bind(null,f));return}typeof c=="string"&&(t=c,a(t)),typeof c=="object"&&(t=c,a(t)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,s&&(s(),s=null),l(c)},subscribe:c=>(a=c,()=>{a=()=>null}),getTimeoutController:()=>e}}class UF{setTimeout(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),s=null,l=c=>{c-r>=a?t(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(l))};return s=requestAnimationFrame(l),()=>{s!=null&&cancelAnimationFrame(s)}}}function qF(){return FF(new UF)}var HF=x.createContext(qF);function VF(e,t){var a=x.useContext(HF);return x.useMemo(()=>t??a(e),[e,t,a])}var KF=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ic={devToolsEnabled:!1,isSsr:KF()},WF={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},lM={t:0},Ky={t:1};function ji(e){var t=Rt(e,WF),{isActive:a,canBegin:r,duration:s,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:m,children:f}=t,h=a==="auto"?!Ic.isSsr:a,g=VF(t.animationId,t.animationManager),[y,v]=x.useState(h?lM:Ky),j=x.useRef(null);return x.useEffect(()=>{h||v(Ky)},[h]),x.useEffect(()=>{if(!h||!r)return qu;var b=TF(lM,Ky,BF(l),s,v,g.getTimeoutController()),S=()=>{j.current=b()};return g.start([m,c,S,s,d]),()=>{g.stop(),j.current&&j.current(),d()}},[h,r,s,l,c,m,d,g]),f(y.t)}function wi(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",a=x.useRef(yu(t)),r=x.useRef(e);return r.current!==e&&(a.current=yu(t),r.current=e),a.current}var YF=["radius"],GF=["radius"];function oM(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function cM(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?oM(Object(a),!0).forEach(function(r){ZF(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function ZF(e,t,a){return(t=XF(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function XF(e){var t=QF(e,"string");return typeof t=="symbol"?t:t+""}function QF(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Fh.apply(null,arguments)}function dM(e,t){if(e==null)return{};var a,r,s=JF(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function JF(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var uM=(e,t,a,r,s)=>{var l=Math.min(Math.abs(a)/2,Math.abs(r)/2),c=r>=0?1:-1,d=a>=0?1:-1,m=r>=0&&a>=0||r<0&&a<0?1:0,f;if(l>0&&s instanceof Array){for(var h=[0,0,0,0],g=0,y=4;g<y;g++)h[g]=s[g]>l?l:s[g];f="M".concat(e,",").concat(t+c*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(m,",").concat(e+d*h[0],",").concat(t)),f+="L ".concat(e+a-d*h[1],",").concat(t),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(m,`,
        `).concat(e+a,",").concat(t+c*h[1])),f+="L ".concat(e+a,",").concat(t+r-c*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(m,`,
        `).concat(e+a-d*h[2],",").concat(t+r)),f+="L ".concat(e+d*h[3],",").concat(t+r),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(t+r-c*h[3])),f+="Z"}else if(l>0&&s===+s&&s>0){var v=Math.min(l,s);f="M ".concat(e,",").concat(t+c*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(m,",").concat(e+d*v,",").concat(t,`
            L `).concat(e+a-d*v,",").concat(t,`
            A `).concat(v,",").concat(v,",0,0,").concat(m,",").concat(e+a,",").concat(t+c*v,`
            L `).concat(e+a,",").concat(t+r-c*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(m,",").concat(e+a-d*v,",").concat(t+r,`
            L `).concat(e+d*v,",").concat(t+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(m,",").concat(e,",").concat(t+r-c*v," Z")}else f="M ".concat(e,",").concat(t," h ").concat(a," v ").concat(r," h ").concat(-a," Z");return f},mM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ME=e=>{var t=Rt(e,mM),a=x.useRef(null),[r,s]=x.useState(-1);x.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var B=a.current.getTotalLength();B&&s(B)}catch{}},[]);var{x:l,y:c,width:d,height:m,radius:f,className:h}=t,{animationEasing:g,animationDuration:y,animationBegin:v,isAnimationActive:j,isUpdateAnimationActive:b}=t,S=x.useRef(d),M=x.useRef(m),N=x.useRef(l),A=x.useRef(c),O=x.useMemo(()=>({x:l,y:c,width:d,height:m,radius:f}),[l,c,d,m,f]),D=wi(O,"rectangle-");if(l!==+l||c!==+c||d!==+d||m!==+m||d===0||m===0)return null;var k=at("recharts-rectangle",h);if(!b){var _=Sn(t),{radius:E}=_,P=dM(_,YF);return x.createElement("path",Fh({},P,{radius:typeof f=="number"?f:void 0,className:k,d:uM(l,c,d,m,f)}))}var z=S.current,L=M.current,I=N.current,J=A.current,T="0px ".concat(r===-1?1:r,"px"),Y="".concat(r,"px 0px"),V=NE(["strokeDasharray"],y,typeof g=="string"?g:mM.animationEasing);return x.createElement(ji,{animationId:D,key:D,canBegin:r>0,duration:y,easing:g,isActive:b,begin:v},B=>{var U=ct(z,d,B),F=ct(L,m,B),W=ct(I,l,B),ne=ct(J,c,B);a.current&&(S.current=U,M.current=F,N.current=W,A.current=ne);var je;j?B>0?je={transition:V,strokeDasharray:Y}:je={strokeDasharray:T}:je={strokeDasharray:Y};var H=Sn(t),{radius:fe}=H,we=dM(H,GF);return x.createElement("path",Fh({},we,{radius:typeof f=="number"?f:void 0,className:k,d:uM(W,ne,U,F,f),ref:a,style:cM(cM({},je),t.style)}))})};function fM(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function hM(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?fM(Object(a),!0).forEach(function(r){eU(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function eU(e,t,a){return(t=tU(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function tU(e){var t=nU(e,"string");return typeof t=="symbol"?t:t+""}function nU(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uh=Math.PI/180,qh=e=>e*Math.PI/180,aU=e=>e*180/Math.PI,Pt=(e,t,a,r)=>({x:e+Math.cos(-Uh*r)*a,y:t+Math.sin(-Uh*r)*a}),DE=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(a-(r.top||0)-(r.bottom||0)))/2},rU=(e,t)=>{var{x:a,y:r}=e,{x:s,y:l}=t;return Math.sqrt((a-s)**2+(r-l)**2)},sU=(e,t)=>{var{x:a,y:r}=e,{cx:s,cy:l}=t,c=rU({x:a,y:r},{x:s,y:l});if(c<=0)return{radius:c,angle:0};var d=(a-s)/c,m=Math.acos(d);return r>l&&(m=2*Math.PI-m),{radius:c,angle:aU(m),angleInRadian:m}},iU=e=>{var{startAngle:t,endAngle:a}=e,r=Math.floor(t/360),s=Math.floor(a/360),l=Math.min(r,s);return{startAngle:t-l*360,endAngle:a-l*360}},lU=(e,t)=>{var{startAngle:a,endAngle:r}=t,s=Math.floor(a/360),l=Math.floor(r/360),c=Math.min(s,l);return e+c*360},oU=(e,t)=>{var{chartX:a,chartY:r}=e,{radius:s,angle:l}=sU({x:a,y:r},t),{innerRadius:c,outerRadius:d}=t;if(s<c||s>d||s===0)return null;var{startAngle:m,endAngle:f}=iU(t),h=l,g;if(m<=f){for(;h>f;)h-=360;for(;h<m;)h+=360;g=h>=m&&h<=f}else{for(;h>m;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=m}return g?hM(hM({},t),{},{radius:s,angle:lU(h,t)}):null},OE=e=>!x.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function EE(e){var{cx:t,cy:a,radius:r,startAngle:s,endAngle:l}=e,c=Pt(t,a,r,s),d=Pt(t,a,r,l);return{points:[c,d],cx:t,cy:a,radius:r,startAngle:s,endAngle:l}}function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Nb.apply(null,arguments)}var cU=(e,t)=>{var a=_n(t-e),r=Math.min(Math.abs(t-e),359.999);return a*r},Kf=e=>{var{cx:t,cy:a,radius:r,angle:s,sign:l,isExternal:c,cornerRadius:d,cornerIsExternal:m}=e,f=d*(c?1:-1)+r,h=Math.asin(d/f)/Uh,g=m?s:s+l*h,y=Pt(t,a,f,g),v=Pt(t,a,r,g),j=m?s-l*h:s,b=Pt(t,a,f*Math.cos(h*Uh),j);return{center:y,circleTangency:v,lineTangency:b,theta:h}},kE=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:s,startAngle:l,endAngle:c}=e,d=cU(l,c),m=l+d,f=Pt(t,a,s,l),h=Pt(t,a,s,m),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>m),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var y=Pt(t,a,r,l),v=Pt(t,a,r,m);g+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=m),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(t,",").concat(a," Z");return g},dU=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:m,endAngle:f}=e,h=_n(f-m),{circleTangency:g,lineTangency:y,theta:v}=Kf({cx:t,cy:a,radius:s,angle:m,sign:h,cornerRadius:l,cornerIsExternal:d}),{circleTangency:j,lineTangency:b,theta:S}=Kf({cx:t,cy:a,radius:s,angle:f,sign:-h,cornerRadius:l,cornerIsExternal:d}),M=d?Math.abs(m-f):Math.abs(m-f)-v-S;if(M<0)return c?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):kE({cx:t,cy:a,innerRadius:r,outerRadius:s,startAngle:m,endAngle:f});var N="M ".concat(y.x,",").concat(y.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(M>180),",").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(r>0){var{circleTangency:A,lineTangency:O,theta:D}=Kf({cx:t,cy:a,radius:r,angle:m,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),{circleTangency:k,lineTangency:_,theta:E}=Kf({cx:t,cy:a,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),P=d?Math.abs(m-f):Math.abs(m-f)-D-E;if(P<0&&l===0)return"".concat(N,"L").concat(t,",").concat(a,"Z");N+="L".concat(_.x,",").concat(_.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(P>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,"Z")}else N+="L".concat(t,",").concat(a,"Z");return N},uU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PE=e=>{var t=Rt(e,uU),{cx:a,cy:r,innerRadius:s,outerRadius:l,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:m,startAngle:f,endAngle:h,className:g}=t;if(l<s||f===h)return null;var y=at("recharts-sector",g),v=l-s,j=xa(c,v,0,!0),b;return j>0&&Math.abs(f-h)<360?b=dU({cx:a,cy:r,innerRadius:s,outerRadius:l,cornerRadius:Math.min(j,v/2),forceCornerRadius:d,cornerIsExternal:m,startAngle:f,endAngle:h}):b=kE({cx:a,cy:r,innerRadius:s,outerRadius:l,startAngle:f,endAngle:h}),x.createElement("path",Nb({},Sn(t),{className:y,d:b}))};function mU(e,t,a){if(e==="horizontal")return[{x:t.x,y:a.top},{x:t.x,y:a.top+a.height}];if(e==="vertical")return[{x:a.left,y:t.y},{x:a.left+a.width,y:t.y}];if(uO(t)){if(e==="centric"){var{cx:r,cy:s,innerRadius:l,outerRadius:c,angle:d}=t,m=Pt(r,s,l,d),f=Pt(r,s,c,d);return[{x:m.x,y:m.y},{x:f.x,y:f.y}]}return EE(t)}}var Wy={},Yy={},Gy={},pM;function fU(){return pM||(pM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wO();function a(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=a})(Gy)),Gy}var xM;function hU(){return xM||(xM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fU();function a(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=a})(Yy)),Yy}var gM;function pU(){return gM||(gM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NO(),a=hU();function r(s,l,c){c&&typeof c!="number"&&t.isIterateeCall(s,l,c)&&(l=c=void 0),s=a.toFinite(s),l===void 0?(l=s,s=0):l=a.toFinite(l),c=c===void 0?s<l?1:-1:a.toFinite(c);const d=Math.max(Math.ceil((l-s)/(c||1)),0),m=new Array(d);for(let f=0;f<d;f++)m[f]=s,s+=c;return m}e.range=r})(Wy)),Wy}var Zy,yM;function xU(){return yM||(yM=1,Zy=pU().range),Zy}var gU=xU();const RE=Rr(gU);function ol(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Vj(e){let t,a,r;e.length!==2?(t=ol,a=(d,m)=>ol(e(d),m),r=(d,m)=>e(d)-m):(t=e===ol||e===yU?e:vU,a=e,r=e);function s(d,m,f=0,h=d.length){if(f<h){if(t(m,m)!==0)return h;do{const g=f+h>>>1;a(d[g],m)<0?f=g+1:h=g}while(f<h)}return f}function l(d,m,f=0,h=d.length){if(f<h){if(t(m,m)!==0)return h;do{const g=f+h>>>1;a(d[g],m)<=0?f=g+1:h=g}while(f<h)}return f}function c(d,m,f=0,h=d.length){const g=s(d,m,f,h-1);return g>f&&r(d[g-1],m)>-r(d[g],m)?g-1:g}return{left:s,center:c,right:l}}function vU(){return 0}function _E(e){return e===null?NaN:+e}function*bU(e,t){for(let a of e)a!=null&&(a=+a)>=a&&(yield a)}const jU=Vj(ol),Zu=jU.right;Vj(_E).center;class vM extends Map{constructor(t,a=SU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(bM(this,t))}has(t){return super.has(bM(this,t))}set(t,a){return super.set(wU(this,t),a)}delete(t){return super.delete(NU(this,t))}}function bM({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):a}function wU({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):(e.set(r,a),a)}function NU({_intern:e,_key:t},a){const r=t(a);return e.has(r)&&(a=e.get(r),e.delete(r)),a}function SU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function AU(e=ol){if(e===ol)return TE;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,a)=>{const r=e(t,a);return r||r===0?r:(e(a,a)===0)-(e(t,t)===0)}}function TE(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const CU=Math.sqrt(50),MU=Math.sqrt(10),DU=Math.sqrt(2);function Hh(e,t,a){const r=(t-e)/Math.max(0,a),s=Math.floor(Math.log10(r)),l=r/Math.pow(10,s),c=l>=CU?10:l>=MU?5:l>=DU?2:1;let d,m,f;return s<0?(f=Math.pow(10,-s)/c,d=Math.round(e*f),m=Math.round(t*f),d/f<e&&++d,m/f>t&&--m,f=-f):(f=Math.pow(10,s)*c,d=Math.round(e/f),m=Math.round(t/f),d*f<e&&++d,m*f>t&&--m),m<d&&.5<=a&&a<2?Hh(e,t,a*2):[d,m,f]}function Sb(e,t,a){if(t=+t,e=+e,a=+a,!(a>0))return[];if(e===t)return[e];const r=t<e,[s,l,c]=r?Hh(t,e,a):Hh(e,t,a);if(!(l>=s))return[];const d=l-s+1,m=new Array(d);if(r)if(c<0)for(let f=0;f<d;++f)m[f]=(l-f)/-c;else for(let f=0;f<d;++f)m[f]=(l-f)*c;else if(c<0)for(let f=0;f<d;++f)m[f]=(s+f)/-c;else for(let f=0;f<d;++f)m[f]=(s+f)*c;return m}function Ab(e,t,a){return t=+t,e=+e,a=+a,Hh(e,t,a)[2]}function Cb(e,t,a){t=+t,e=+e,a=+a;const r=t<e,s=r?Ab(t,e,a):Ab(e,t,a);return(r?-1:1)*(s<0?1/-s:s)}function jM(e,t){let a;for(const r of e)r!=null&&(a<r||a===void 0&&r>=r)&&(a=r);return a}function wM(e,t){let a;for(const r of e)r!=null&&(a>r||a===void 0&&r>=r)&&(a=r);return a}function LE(e,t,a=0,r=1/0,s){if(t=Math.floor(t),a=Math.floor(Math.max(0,a)),r=Math.floor(Math.min(e.length-1,r)),!(a<=t&&t<=r))return e;for(s=s===void 0?TE:AU(s);r>a;){if(r-a>600){const m=r-a+1,f=t-a+1,h=Math.log(m),g=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*g*(m-g)/m)*(f-m/2<0?-1:1),v=Math.max(a,Math.floor(t-f*g/m+y)),j=Math.min(r,Math.floor(t+(m-f)*g/m+y));LE(e,t,v,j,s)}const l=e[t];let c=a,d=r;for(Zd(e,a,t),s(e[r],l)>0&&Zd(e,a,r);c<d;){for(Zd(e,c,d),++c,--d;s(e[c],l)<0;)++c;for(;s(e[d],l)>0;)--d}s(e[a],l)===0?Zd(e,a,d):(++d,Zd(e,d,r)),d<=t&&(a=d+1),t<=d&&(r=d-1)}return e}function Zd(e,t,a){const r=e[t];e[t]=e[a],e[a]=r}function OU(e,t,a){if(e=Float64Array.from(bU(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return wM(e);if(t>=1)return jM(e);var r,s=(r-1)*t,l=Math.floor(s),c=jM(LE(e,l).subarray(0,l+1)),d=wM(e.subarray(l+1));return c+(d-c)*(s-l)}}function EU(e,t,a=_E){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+a(e[0],0,e);if(t>=1)return+a(e[r-1],r-1,e);var r,s=(r-1)*t,l=Math.floor(s),c=+a(e[l],l,e),d=+a(e[l+1],l+1,e);return c+(d-c)*(s-l)}}function kU(e,t,a){e=+e,t=+t,a=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+a;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/a))|0,l=new Array(s);++r<s;)l[r]=e+r*a;return l}function Lr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ni(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Mb=Symbol("implicit");function Kj(){var e=new vM,t=[],a=[],r=Mb;function s(l){let c=e.get(l);if(c===void 0){if(r!==Mb)return r;e.set(l,c=t.push(l)-1)}return a[c%a.length]}return s.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new vM;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(l){return arguments.length?(a=Array.from(l),s):a.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return Kj(t,a).unknown(r)},Lr.apply(s,arguments),s}function Wj(){var e=Kj().unknown(void 0),t=e.domain,a=e.range,r=0,s=1,l,c,d=!1,m=0,f=0,h=.5;delete e.unknown;function g(){var y=t().length,v=s<r,j=v?s:r,b=v?r:s;l=(b-j)/Math.max(1,y-m+f*2),d&&(l=Math.floor(l)),j+=(b-j-l*(y-m))*h,c=l*(1-m),d&&(j=Math.round(j),c=Math.round(c));var S=kU(y).map(function(M){return j+l*M});return a(v?S.reverse():S)}return e.domain=function(y){return arguments.length?(t(y),g()):t()},e.range=function(y){return arguments.length?([r,s]=y,r=+r,s=+s,g()):[r,s]},e.rangeRound=function(y){return[r,s]=y,r=+r,s=+s,d=!0,g()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(y){return arguments.length?(d=!!y,g()):d},e.padding=function(y){return arguments.length?(m=Math.min(1,f=+y),g()):m},e.paddingInner=function(y){return arguments.length?(m=Math.min(1,y),g()):m},e.paddingOuter=function(y){return arguments.length?(f=+y,g()):f},e.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),g()):h},e.copy=function(){return Wj(t(),[r,s]).round(d).paddingInner(m).paddingOuter(f).align(h)},Lr.apply(g(),arguments)}function IE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return IE(t())},e}function PU(){return IE(Wj.apply(null,arguments).paddingInner(1))}function Yj(e,t,a){e.prototype=t.prototype=a,a.constructor=e}function zE(e,t){var a=Object.create(e.prototype);for(var r in t)a[r]=t[r];return a}function Xu(){}var Cu=.7,Vh=1/Cu,jc="\\s*([+-]?\\d+)\\s*",Mu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",RU=/^#([0-9a-f]{3,8})$/,_U=new RegExp(`^rgb\\(${jc},${jc},${jc}\\)$`),TU=new RegExp(`^rgb\\(${fs},${fs},${fs}\\)$`),LU=new RegExp(`^rgba\\(${jc},${jc},${jc},${Mu}\\)$`),IU=new RegExp(`^rgba\\(${fs},${fs},${fs},${Mu}\\)$`),zU=new RegExp(`^hsl\\(${Mu},${fs},${fs}\\)$`),$U=new RegExp(`^hsla\\(${Mu},${fs},${fs},${Mu}\\)$`),NM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yj(Xu,Du,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:SM,formatHex:SM,formatHex8:BU,formatHsl:FU,formatRgb:AM,toString:AM});function SM(){return this.rgb().formatHex()}function BU(){return this.rgb().formatHex8()}function FU(){return $E(this).formatHsl()}function AM(){return this.rgb().formatRgb()}function Du(e){var t,a;return e=(e+"").trim().toLowerCase(),(t=RU.exec(e))?(a=t[1].length,t=parseInt(t[1],16),a===6?CM(t):a===3?new Pa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):a===8?Wf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):a===4?Wf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_U.exec(e))?new Pa(t[1],t[2],t[3],1):(t=TU.exec(e))?new Pa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=LU.exec(e))?Wf(t[1],t[2],t[3],t[4]):(t=IU.exec(e))?Wf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zU.exec(e))?OM(t[1],t[2]/100,t[3]/100,1):(t=$U.exec(e))?OM(t[1],t[2]/100,t[3]/100,t[4]):NM.hasOwnProperty(e)?CM(NM[e]):e==="transparent"?new Pa(NaN,NaN,NaN,0):null}function CM(e){return new Pa(e>>16&255,e>>8&255,e&255,1)}function Wf(e,t,a,r){return r<=0&&(e=t=a=NaN),new Pa(e,t,a,r)}function UU(e){return e instanceof Xu||(e=Du(e)),e?(e=e.rgb(),new Pa(e.r,e.g,e.b,e.opacity)):new Pa}function Db(e,t,a,r){return arguments.length===1?UU(e):new Pa(e,t,a,r??1)}function Pa(e,t,a,r){this.r=+e,this.g=+t,this.b=+a,this.opacity=+r}Yj(Pa,Db,zE(Xu,{brighter(e){return e=e==null?Vh:Math.pow(Vh,e),new Pa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cu:Math.pow(Cu,e),new Pa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Pa(Gl(this.r),Gl(this.g),Gl(this.b),Kh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MM,formatHex:MM,formatHex8:qU,formatRgb:DM,toString:DM}));function MM(){return`#${Ul(this.r)}${Ul(this.g)}${Ul(this.b)}`}function qU(){return`#${Ul(this.r)}${Ul(this.g)}${Ul(this.b)}${Ul((isNaN(this.opacity)?1:this.opacity)*255)}`}function DM(){const e=Kh(this.opacity);return`${e===1?"rgb(":"rgba("}${Gl(this.r)}, ${Gl(this.g)}, ${Gl(this.b)}${e===1?")":`, ${e})`}`}function Kh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ul(e){return e=Gl(e),(e<16?"0":"")+e.toString(16)}function OM(e,t,a,r){return r<=0?e=t=a=NaN:a<=0||a>=1?e=t=NaN:t<=0&&(e=NaN),new Hr(e,t,a,r)}function $E(e){if(e instanceof Hr)return new Hr(e.h,e.s,e.l,e.opacity);if(e instanceof Xu||(e=Du(e)),!e)return new Hr;if(e instanceof Hr)return e;e=e.rgb();var t=e.r/255,a=e.g/255,r=e.b/255,s=Math.min(t,a,r),l=Math.max(t,a,r),c=NaN,d=l-s,m=(l+s)/2;return d?(t===l?c=(a-r)/d+(a<r)*6:a===l?c=(r-t)/d+2:c=(t-a)/d+4,d/=m<.5?l+s:2-l-s,c*=60):d=m>0&&m<1?0:c,new Hr(c,d,m,e.opacity)}function HU(e,t,a,r){return arguments.length===1?$E(e):new Hr(e,t,a,r??1)}function Hr(e,t,a,r){this.h=+e,this.s=+t,this.l=+a,this.opacity=+r}Yj(Hr,HU,zE(Xu,{brighter(e){return e=e==null?Vh:Math.pow(Vh,e),new Hr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cu:Math.pow(Cu,e),new Hr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,r=a+(a<.5?a:1-a)*t,s=2*a-r;return new Pa(Xy(e>=240?e-240:e+120,s,r),Xy(e,s,r),Xy(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Hr(EM(this.h),Yf(this.s),Yf(this.l),Kh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kh(this.opacity);return`${e===1?"hsl(":"hsla("}${EM(this.h)}, ${Yf(this.s)*100}%, ${Yf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function EM(e){return e=(e||0)%360,e<0?e+360:e}function Yf(e){return Math.max(0,Math.min(1,e||0))}function Xy(e,t,a){return(e<60?t+(a-t)*e/60:e<180?a:e<240?t+(a-t)*(240-e)/60:t)*255}const Gj=e=>()=>e;function VU(e,t){return function(a){return e+a*t}}function KU(e,t,a){return e=Math.pow(e,a),t=Math.pow(t,a)-e,a=1/a,function(r){return Math.pow(e+r*t,a)}}function WU(e){return(e=+e)==1?BE:function(t,a){return a-t?KU(t,a,e):Gj(isNaN(t)?a:t)}}function BE(e,t){var a=t-e;return a?VU(e,a):Gj(isNaN(e)?t:e)}const kM=(function e(t){var a=WU(t);function r(s,l){var c=a((s=Db(s)).r,(l=Db(l)).r),d=a(s.g,l.g),m=a(s.b,l.b),f=BE(s.opacity,l.opacity);return function(h){return s.r=c(h),s.g=d(h),s.b=m(h),s.opacity=f(h),s+""}}return r.gamma=e,r})(1);function YU(e,t){t||(t=[]);var a=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(l){for(s=0;s<a;++s)r[s]=e[s]*(1-l)+t[s]*l;return r}}function GU(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ZU(e,t){var a=t?t.length:0,r=e?Math.min(a,e.length):0,s=new Array(r),l=new Array(a),c;for(c=0;c<r;++c)s[c]=zc(e[c],t[c]);for(;c<a;++c)l[c]=t[c];return function(d){for(c=0;c<r;++c)l[c]=s[c](d);return l}}function XU(e,t){var a=new Date;return e=+e,t=+t,function(r){return a.setTime(e*(1-r)+t*r),a}}function Wh(e,t){return e=+e,t=+t,function(a){return e*(1-a)+t*a}}function QU(e,t){var a={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?a[s]=zc(e[s],t[s]):r[s]=t[s];return function(l){for(s in a)r[s]=a[s](l);return r}}var Ob=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qy=new RegExp(Ob.source,"g");function JU(e){return function(){return e}}function eq(e){return function(t){return e(t)+""}}function tq(e,t){var a=Ob.lastIndex=Qy.lastIndex=0,r,s,l,c=-1,d=[],m=[];for(e=e+"",t=t+"";(r=Ob.exec(e))&&(s=Qy.exec(t));)(l=s.index)>a&&(l=t.slice(a,l),d[c]?d[c]+=l:d[++c]=l),(r=r[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,m.push({i:c,x:Wh(r,s)})),a=Qy.lastIndex;return a<t.length&&(l=t.slice(a),d[c]?d[c]+=l:d[++c]=l),d.length<2?m[0]?eq(m[0].x):JU(t):(t=m.length,function(f){for(var h=0,g;h<t;++h)d[(g=m[h]).i]=g.x(f);return d.join("")})}function zc(e,t){var a=typeof t,r;return t==null||a==="boolean"?Gj(t):(a==="number"?Wh:a==="string"?(r=Du(t))?(t=r,kM):tq:t instanceof Du?kM:t instanceof Date?XU:GU(t)?YU:Array.isArray(t)?ZU:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?QU:Wh)(e,t)}function Zj(e,t){return e=+e,t=+t,function(a){return Math.round(e*(1-a)+t*a)}}function nq(e,t){t===void 0&&(t=e,e=zc);for(var a=0,r=t.length-1,s=t[0],l=new Array(r<0?0:r);a<r;)l[a]=e(s,s=t[++a]);return function(c){var d=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return l[d](c-d)}}function aq(e){return function(){return e}}function Yh(e){return+e}var PM=[0,1];function ba(e){return e}function Eb(e,t){return(t-=e=+e)?function(a){return(a-e)/t}:aq(isNaN(t)?NaN:.5)}function rq(e,t){var a;return e>t&&(a=e,e=t,t=a),function(r){return Math.max(e,Math.min(t,r))}}function sq(e,t,a){var r=e[0],s=e[1],l=t[0],c=t[1];return s<r?(r=Eb(s,r),l=a(c,l)):(r=Eb(r,s),l=a(l,c)),function(d){return l(r(d))}}function iq(e,t,a){var r=Math.min(e.length,t.length)-1,s=new Array(r),l=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<r;)s[c]=Eb(e[c],e[c+1]),l[c]=a(t[c],t[c+1]);return function(d){var m=Zu(e,d,1,r)-1;return l[m](s[m](d))}}function Qu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Kp(){var e=PM,t=PM,a=zc,r,s,l,c=ba,d,m,f;function h(){var y=Math.min(e.length,t.length);return c!==ba&&(c=rq(e[0],e[y-1])),d=y>2?iq:sq,m=f=null,g}function g(y){return y==null||isNaN(y=+y)?l:(m||(m=d(e.map(r),t,a)))(r(c(y)))}return g.invert=function(y){return c(s((f||(f=d(t,e.map(r),Wh)))(y)))},g.domain=function(y){return arguments.length?(e=Array.from(y,Yh),h()):e.slice()},g.range=function(y){return arguments.length?(t=Array.from(y),h()):t.slice()},g.rangeRound=function(y){return t=Array.from(y),a=Zj,h()},g.clamp=function(y){return arguments.length?(c=y?!0:ba,h()):c!==ba},g.interpolate=function(y){return arguments.length?(a=y,h()):a},g.unknown=function(y){return arguments.length?(l=y,g):l},function(y,v){return r=y,s=v,h()}}function Xj(){return Kp()(ba,ba)}function lq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Gh(e,t){if((a=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var a,r=e.slice(0,a);return[r.length>1?r[0]+r.slice(2):r,+e.slice(a+1)]}function Ec(e){return e=Gh(Math.abs(e)),e?e[1]:NaN}function oq(e,t){return function(a,r){for(var s=a.length,l=[],c=0,d=e[0],m=0;s>0&&d>0&&(m+d+1>r&&(d=Math.max(1,r-m)),l.push(a.substring(s-=d,s+d)),!((m+=d+1)>r));)d=e[c=(c+1)%e.length];return l.reverse().join(t)}}function cq(e){return function(t){return t.replace(/[0-9]/g,function(a){return e[+a]})}}var dq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ou(e){if(!(t=dq.exec(e)))throw new Error("invalid format: "+e);var t;return new Qj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ou.prototype=Qj.prototype;function Qj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Qj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uq(e){e:for(var t=e.length,a=1,r=-1,s;a<t;++a)switch(e[a]){case".":r=s=a;break;case"0":r===0&&(r=a),s=a;break;default:if(!+e[a])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var FE;function mq(e,t){var a=Gh(e,t);if(!a)return e+"";var r=a[0],s=a[1],l=s-(FE=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=r.length;return l===c?r:l>c?r+new Array(l-c+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+Gh(e,Math.max(0,t+l-1))[0]}function RM(e,t){var a=Gh(e,t);if(!a)return e+"";var r=a[0],s=a[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const _M={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:lq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>RM(e*100,t),r:RM,s:mq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function TM(e){return e}var LM=Array.prototype.map,IM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fq(e){var t=e.grouping===void 0||e.thousands===void 0?TM:oq(LM.call(e.grouping,Number),e.thousands+""),a=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?TM:cq(LM.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function f(g){g=Ou(g);var y=g.fill,v=g.align,j=g.sign,b=g.symbol,S=g.zero,M=g.width,N=g.comma,A=g.precision,O=g.trim,D=g.type;D==="n"?(N=!0,D="g"):_M[D]||(A===void 0&&(A=12),O=!0,D="g"),(S||y==="0"&&v==="=")&&(S=!0,y="0",v="=");var k=b==="$"?a:b==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",_=b==="$"?r:/[%p]/.test(D)?c:"",E=_M[D],P=/[defgprs%]/.test(D);A=A===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function z(L){var I=k,J=_,T,Y,V;if(D==="c")J=E(L)+J,L="";else{L=+L;var B=L<0||1/L<0;if(L=isNaN(L)?m:E(Math.abs(L),A),O&&(L=uq(L)),B&&+L==0&&j!=="+"&&(B=!1),I=(B?j==="("?j:d:j==="-"||j==="("?"":j)+I,J=(D==="s"?IM[8+FE/3]:"")+J+(B&&j==="("?")":""),P){for(T=-1,Y=L.length;++T<Y;)if(V=L.charCodeAt(T),48>V||V>57){J=(V===46?s+L.slice(T+1):L.slice(T))+J,L=L.slice(0,T);break}}}N&&!S&&(L=t(L,1/0));var U=I.length+L.length+J.length,F=U<M?new Array(M-U+1).join(y):"";switch(N&&S&&(L=t(F+L,F.length?M-J.length:1/0),F=""),v){case"<":L=I+L+J+F;break;case"=":L=I+F+L+J;break;case"^":L=F.slice(0,U=F.length>>1)+I+L+J+F.slice(U);break;default:L=F+I+L+J;break}return l(L)}return z.toString=function(){return g+""},z}function h(g,y){var v=f((g=Ou(g),g.type="f",g)),j=Math.max(-8,Math.min(8,Math.floor(Ec(y)/3)))*3,b=Math.pow(10,-j),S=IM[8+j/3];return function(M){return v(b*M)+S}}return{format:f,formatPrefix:h}}var Gf,Jj,UE;hq({thousands:",",grouping:[3],currency:["$",""]});function hq(e){return Gf=fq(e),Jj=Gf.format,UE=Gf.formatPrefix,Gf}function pq(e){return Math.max(0,-Ec(Math.abs(e)))}function xq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ec(t)/3)))*3-Ec(Math.abs(e)))}function gq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ec(t)-Ec(e))+1}function qE(e,t,a,r){var s=Cb(e,t,a),l;switch(r=Ou(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(l=xq(s,c))&&(r.precision=l),UE(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=gq(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=pq(s))&&(r.precision=l-(r.type==="%")*2);break}}return Jj(r)}function fl(e){var t=e.domain;return e.ticks=function(a){var r=t();return Sb(r[0],r[r.length-1],a??10)},e.tickFormat=function(a,r){var s=t();return qE(s[0],s[s.length-1],a??10,r)},e.nice=function(a){a==null&&(a=10);var r=t(),s=0,l=r.length-1,c=r[s],d=r[l],m,f,h=10;for(d<c&&(f=c,c=d,d=f,f=s,s=l,l=f);h-- >0;){if(f=Ab(c,d,a),f===m)return r[s]=c,r[l]=d,t(r);if(f>0)c=Math.floor(c/f)*f,d=Math.ceil(d/f)*f;else if(f<0)c=Math.ceil(c*f)/f,d=Math.floor(d*f)/f;else break;m=f}return e},e}function HE(){var e=Xj();return e.copy=function(){return Qu(e,HE())},Lr.apply(e,arguments),fl(e)}function VE(e){var t;function a(r){return r==null||isNaN(r=+r)?t:r}return a.invert=a,a.domain=a.range=function(r){return arguments.length?(e=Array.from(r,Yh),a):e.slice()},a.unknown=function(r){return arguments.length?(t=r,a):t},a.copy=function(){return VE(e).unknown(t)},e=arguments.length?Array.from(e,Yh):[0,1],fl(a)}function KE(e,t){e=e.slice();var a=0,r=e.length-1,s=e[a],l=e[r],c;return l<s&&(c=a,a=r,r=c,c=s,s=l,l=c),e[a]=t.floor(s),e[r]=t.ceil(l),e}function zM(e){return Math.log(e)}function $M(e){return Math.exp(e)}function yq(e){return-Math.log(-e)}function vq(e){return-Math.exp(-e)}function bq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jq(e){return e===10?bq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function wq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function BM(e){return(t,a)=>-e(-t,a)}function e1(e){const t=e(zM,$M),a=t.domain;let r=10,s,l;function c(){return s=wq(r),l=jq(r),a()[0]<0?(s=BM(s),l=BM(l),e(yq,vq)):e(zM,$M),t}return t.base=function(d){return arguments.length?(r=+d,c()):r},t.domain=function(d){return arguments.length?(a(d),c()):a()},t.ticks=d=>{const m=a();let f=m[0],h=m[m.length-1];const g=h<f;g&&([f,h]=[h,f]);let y=s(f),v=s(h),j,b;const S=d==null?10:+d;let M=[];if(!(r%1)&&v-y<S){if(y=Math.floor(y),v=Math.ceil(v),f>0){for(;y<=v;++y)for(j=1;j<r;++j)if(b=y<0?j/l(-y):j*l(y),!(b<f)){if(b>h)break;M.push(b)}}else for(;y<=v;++y)for(j=r-1;j>=1;--j)if(b=y>0?j/l(-y):j*l(y),!(b<f)){if(b>h)break;M.push(b)}M.length*2<S&&(M=Sb(f,h,S))}else M=Sb(y,v,Math.min(v-y,S)).map(l);return g?M.reverse():M},t.tickFormat=(d,m)=>{if(d==null&&(d=10),m==null&&(m=r===10?"s":","),typeof m!="function"&&(!(r%1)&&(m=Ou(m)).precision==null&&(m.trim=!0),m=Jj(m)),d===1/0)return m;const f=Math.max(1,r*d/t.ticks().length);return h=>{let g=h/l(Math.round(s(h)));return g*r<r-.5&&(g*=r),g<=f?m(h):""}},t.nice=()=>a(KE(a(),{floor:d=>l(Math.floor(s(d))),ceil:d=>l(Math.ceil(s(d)))})),t}function WE(){const e=e1(Kp()).domain([1,10]);return e.copy=()=>Qu(e,WE()).base(e.base()),Lr.apply(e,arguments),e}function FM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function UM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function t1(e){var t=1,a=e(FM(t),UM(t));return a.constant=function(r){return arguments.length?e(FM(t=+r),UM(t)):t},fl(a)}function YE(){var e=t1(Kp());return e.copy=function(){return Qu(e,YE()).constant(e.constant())},Lr.apply(e,arguments)}function qM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Nq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Sq(e){return e<0?-e*e:e*e}function n1(e){var t=e(ba,ba),a=1;function r(){return a===1?e(ba,ba):a===.5?e(Nq,Sq):e(qM(a),qM(1/a))}return t.exponent=function(s){return arguments.length?(a=+s,r()):a},fl(t)}function a1(){var e=n1(Kp());return e.copy=function(){return Qu(e,a1()).exponent(e.exponent())},Lr.apply(e,arguments),e}function Aq(){return a1.apply(null,arguments).exponent(.5)}function HM(e){return Math.sign(e)*e*e}function Cq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function GE(){var e=Xj(),t=[0,1],a=!1,r;function s(l){var c=Cq(e(l));return isNaN(c)?r:a?Math.round(c):c}return s.invert=function(l){return e.invert(HM(l))},s.domain=function(l){return arguments.length?(e.domain(l),s):e.domain()},s.range=function(l){return arguments.length?(e.range((t=Array.from(l,Yh)).map(HM)),s):t.slice()},s.rangeRound=function(l){return s.range(l).round(!0)},s.round=function(l){return arguments.length?(a=!!l,s):a},s.clamp=function(l){return arguments.length?(e.clamp(l),s):e.clamp()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return GE(e.domain(),t).round(a).clamp(e.clamp()).unknown(r)},Lr.apply(s,arguments),fl(s)}function ZE(){var e=[],t=[],a=[],r;function s(){var c=0,d=Math.max(1,t.length);for(a=new Array(d-1);++c<d;)a[c-1]=EU(e,c/d);return l}function l(c){return c==null||isNaN(c=+c)?r:t[Zu(a,c)]}return l.invertExtent=function(c){var d=t.indexOf(c);return d<0?[NaN,NaN]:[d>0?a[d-1]:e[0],d<a.length?a[d]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(ol),s()},l.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},l.unknown=function(c){return arguments.length?(r=c,l):r},l.quantiles=function(){return a.slice()},l.copy=function(){return ZE().domain(e).range(t).unknown(r)},Lr.apply(l,arguments)}function XE(){var e=0,t=1,a=1,r=[.5],s=[0,1],l;function c(m){return m!=null&&m<=m?s[Zu(r,m,0,a)]:l}function d(){var m=-1;for(r=new Array(a);++m<a;)r[m]=((m+1)*t-(m-a)*e)/(a+1);return c}return c.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,d()):[e,t]},c.range=function(m){return arguments.length?(a=(s=Array.from(m)).length-1,d()):s.slice()},c.invertExtent=function(m){var f=s.indexOf(m);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=a?[r[a-1],t]:[r[f-1],r[f]]},c.unknown=function(m){return arguments.length&&(l=m),c},c.thresholds=function(){return r.slice()},c.copy=function(){return XE().domain([e,t]).range(s).unknown(l)},Lr.apply(fl(c),arguments)}function QE(){var e=[.5],t=[0,1],a,r=1;function s(l){return l!=null&&l<=l?t[Zu(e,l,0,r)]:a}return s.domain=function(l){return arguments.length?(e=Array.from(l),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(l){return arguments.length?(t=Array.from(l),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},s.unknown=function(l){return arguments.length?(a=l,s):a},s.copy=function(){return QE().domain(e).range(t).unknown(a)},Lr.apply(s,arguments)}const Jy=new Date,ev=new Date;function Un(e,t,a,r){function s(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return s.floor=l=>(e(l=new Date(+l)),l),s.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),s.round=l=>{const c=s(l),d=s.ceil(l);return l-c<d-l?c:d},s.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),s.range=(l,c,d)=>{const m=[];if(l=s.ceil(l),d=d==null?1:Math.floor(d),!(l<c)||!(d>0))return m;let f;do m.push(f=new Date(+l)),t(l,d),e(l);while(f<l&&l<c);return m},s.filter=l=>Un(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;t(c,-1),!l(c););else for(;--d>=0;)for(;t(c,1),!l(c););}),a&&(s.count=(l,c)=>(Jy.setTime(+l),ev.setTime(+c),e(Jy),e(ev),Math.floor(a(Jy,ev))),s.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?s.filter(r?c=>r(c)%l===0:c=>s.count(0,c)%l===0):s)),s}const Zh=Un(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Zh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Un(t=>{t.setTime(Math.floor(t/e)*e)},(t,a)=>{t.setTime(+t+a*e)},(t,a)=>(a-t)/e):Zh);Zh.range;const Zs=1e3,Sr=Zs*60,Xs=Sr*60,mi=Xs*24,r1=mi*7,VM=mi*30,tv=mi*365,ql=Un(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Zs)},(e,t)=>(t-e)/Zs,e=>e.getUTCSeconds());ql.range;const s1=Un(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zs)},(e,t)=>{e.setTime(+e+t*Sr)},(e,t)=>(t-e)/Sr,e=>e.getMinutes());s1.range;const i1=Un(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Sr)},(e,t)=>(t-e)/Sr,e=>e.getUTCMinutes());i1.range;const l1=Un(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zs-e.getMinutes()*Sr)},(e,t)=>{e.setTime(+e+t*Xs)},(e,t)=>(t-e)/Xs,e=>e.getHours());l1.range;const o1=Un(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Xs)},(e,t)=>(t-e)/Xs,e=>e.getUTCHours());o1.range;const Ju=Un(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Sr)/mi,e=>e.getDate()-1);Ju.range;const Wp=Un(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mi,e=>e.getUTCDate()-1);Wp.range;const JE=Un(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mi,e=>Math.floor(e/mi));JE.range;function uo(e){return Un(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,a)=>{t.setDate(t.getDate()+a*7)},(t,a)=>(a-t-(a.getTimezoneOffset()-t.getTimezoneOffset())*Sr)/r1)}const Yp=uo(0),Xh=uo(1),Mq=uo(2),Dq=uo(3),kc=uo(4),Oq=uo(5),Eq=uo(6);Yp.range;Xh.range;Mq.range;Dq.range;kc.range;Oq.range;Eq.range;function mo(e){return Un(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCDate(t.getUTCDate()+a*7)},(t,a)=>(a-t)/r1)}const Gp=mo(0),Qh=mo(1),kq=mo(2),Pq=mo(3),Pc=mo(4),Rq=mo(5),_q=mo(6);Gp.range;Qh.range;kq.range;Pq.range;Pc.range;Rq.range;_q.range;const c1=Un(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());c1.range;const d1=Un(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());d1.range;const fi=Un(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());fi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Un(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,a)=>{t.setFullYear(t.getFullYear()+a*e)});fi.range;const hi=Un(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Un(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCFullYear(t.getUTCFullYear()+a*e)});hi.range;function ek(e,t,a,r,s,l){const c=[[ql,1,Zs],[ql,5,5*Zs],[ql,15,15*Zs],[ql,30,30*Zs],[l,1,Sr],[l,5,5*Sr],[l,15,15*Sr],[l,30,30*Sr],[s,1,Xs],[s,3,3*Xs],[s,6,6*Xs],[s,12,12*Xs],[r,1,mi],[r,2,2*mi],[a,1,r1],[t,1,VM],[t,3,3*VM],[e,1,tv]];function d(f,h,g){const y=h<f;y&&([f,h]=[h,f]);const v=g&&typeof g.range=="function"?g:m(f,h,g),j=v?v.range(f,+h+1):[];return y?j.reverse():j}function m(f,h,g){const y=Math.abs(h-f)/g,v=Vj(([,,S])=>S).right(c,y);if(v===c.length)return e.every(Cb(f/tv,h/tv,g));if(v===0)return Zh.every(Math.max(Cb(f,h,g),1));const[j,b]=c[y/c[v-1][2]<c[v][2]/y?v-1:v];return j.every(b)}return[d,m]}const[Tq,Lq]=ek(hi,d1,Gp,JE,o1,i1),[Iq,zq]=ek(fi,c1,Yp,Ju,l1,s1);function nv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function av(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Xd(e,t,a){return{y:e,m:t,d:a,H:0,M:0,S:0,L:0}}function $q(e){var t=e.dateTime,a=e.date,r=e.time,s=e.periods,l=e.days,c=e.shortDays,d=e.months,m=e.shortMonths,f=Qd(s),h=Jd(s),g=Qd(l),y=Jd(l),v=Qd(c),j=Jd(c),b=Qd(d),S=Jd(d),M=Qd(m),N=Jd(m),A={a:B,A:U,b:F,B:W,c:null,d:XM,e:XM,f:oH,g:yH,G:bH,H:sH,I:iH,j:lH,L:tk,m:cH,M:dH,p:ne,q:je,Q:e4,s:t4,S:uH,u:mH,U:fH,V:hH,w:pH,W:xH,x:null,X:null,y:gH,Y:vH,Z:jH,"%":JM},O={a:H,A:fe,b:we,B:se,c:null,d:QM,e:QM,f:AH,g:TH,G:IH,H:wH,I:NH,j:SH,L:ak,m:CH,M:MH,p:ee,q:ie,Q:e4,s:t4,S:DH,u:OH,U:EH,V:kH,w:PH,W:RH,x:null,X:null,y:_H,Y:LH,Z:zH,"%":JM},D={a:z,A:L,b:I,B:J,c:T,d:GM,e:GM,f:tH,g:YM,G:WM,H:ZM,I:ZM,j:Xq,L:eH,m:Zq,M:Qq,p:P,q:Gq,Q:aH,s:rH,S:Jq,u:Hq,U:Vq,V:Kq,w:qq,W:Wq,x:Y,X:V,y:YM,Y:WM,Z:Yq,"%":nH};A.x=k(a,A),A.X=k(r,A),A.c=k(t,A),O.x=k(a,O),O.X=k(r,O),O.c=k(t,O);function k(ae,Me){return function(Ce){var xe=[],lt=-1,Re=0,Ke=ae.length,Fe,tn,Ge;for(Ce instanceof Date||(Ce=new Date(+Ce));++lt<Ke;)ae.charCodeAt(lt)===37&&(xe.push(ae.slice(Re,lt)),(tn=KM[Fe=ae.charAt(++lt)])!=null?Fe=ae.charAt(++lt):tn=Fe==="e"?" ":"0",(Ge=Me[Fe])&&(Fe=Ge(Ce,tn)),xe.push(Fe),Re=lt+1);return xe.push(ae.slice(Re,lt)),xe.join("")}}function _(ae,Me){return function(Ce){var xe=Xd(1900,void 0,1),lt=E(xe,ae,Ce+="",0),Re,Ke;if(lt!=Ce.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(Me&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(Re=av(Xd(xe.y,0,1)),Ke=Re.getUTCDay(),Re=Ke>4||Ke===0?Qh.ceil(Re):Qh(Re),Re=Wp.offset(Re,(xe.V-1)*7),xe.y=Re.getUTCFullYear(),xe.m=Re.getUTCMonth(),xe.d=Re.getUTCDate()+(xe.w+6)%7):(Re=nv(Xd(xe.y,0,1)),Ke=Re.getDay(),Re=Ke>4||Ke===0?Xh.ceil(Re):Xh(Re),Re=Ju.offset(Re,(xe.V-1)*7),xe.y=Re.getFullYear(),xe.m=Re.getMonth(),xe.d=Re.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),Ke="Z"in xe?av(Xd(xe.y,0,1)).getUTCDay():nv(Xd(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(Ke+5)%7:xe.w+xe.U*7-(Ke+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,av(xe)):nv(xe)}}function E(ae,Me,Ce,xe){for(var lt=0,Re=Me.length,Ke=Ce.length,Fe,tn;lt<Re;){if(xe>=Ke)return-1;if(Fe=Me.charCodeAt(lt++),Fe===37){if(Fe=Me.charAt(lt++),tn=D[Fe in KM?Me.charAt(lt++):Fe],!tn||(xe=tn(ae,Ce,xe))<0)return-1}else if(Fe!=Ce.charCodeAt(xe++))return-1}return xe}function P(ae,Me,Ce){var xe=f.exec(Me.slice(Ce));return xe?(ae.p=h.get(xe[0].toLowerCase()),Ce+xe[0].length):-1}function z(ae,Me,Ce){var xe=v.exec(Me.slice(Ce));return xe?(ae.w=j.get(xe[0].toLowerCase()),Ce+xe[0].length):-1}function L(ae,Me,Ce){var xe=g.exec(Me.slice(Ce));return xe?(ae.w=y.get(xe[0].toLowerCase()),Ce+xe[0].length):-1}function I(ae,Me,Ce){var xe=M.exec(Me.slice(Ce));return xe?(ae.m=N.get(xe[0].toLowerCase()),Ce+xe[0].length):-1}function J(ae,Me,Ce){var xe=b.exec(Me.slice(Ce));return xe?(ae.m=S.get(xe[0].toLowerCase()),Ce+xe[0].length):-1}function T(ae,Me,Ce){return E(ae,t,Me,Ce)}function Y(ae,Me,Ce){return E(ae,a,Me,Ce)}function V(ae,Me,Ce){return E(ae,r,Me,Ce)}function B(ae){return c[ae.getDay()]}function U(ae){return l[ae.getDay()]}function F(ae){return m[ae.getMonth()]}function W(ae){return d[ae.getMonth()]}function ne(ae){return s[+(ae.getHours()>=12)]}function je(ae){return 1+~~(ae.getMonth()/3)}function H(ae){return c[ae.getUTCDay()]}function fe(ae){return l[ae.getUTCDay()]}function we(ae){return m[ae.getUTCMonth()]}function se(ae){return d[ae.getUTCMonth()]}function ee(ae){return s[+(ae.getUTCHours()>=12)]}function ie(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Me=k(ae+="",A);return Me.toString=function(){return ae},Me},parse:function(ae){var Me=_(ae+="",!1);return Me.toString=function(){return ae},Me},utcFormat:function(ae){var Me=k(ae+="",O);return Me.toString=function(){return ae},Me},utcParse:function(ae){var Me=_(ae+="",!0);return Me.toString=function(){return ae},Me}}}var KM={"-":"",_:" ",0:"0"},ea=/^\s*\d+/,Bq=/^%/,Fq=/[\\^$*+?|[\]().{}]/g;function Et(e,t,a){var r=e<0?"-":"",s=(r?-e:e)+"",l=s.length;return r+(l<a?new Array(a-l+1).join(t)+s:s)}function Uq(e){return e.replace(Fq,"\\$&")}function Qd(e){return new RegExp("^(?:"+e.map(Uq).join("|")+")","i")}function Jd(e){return new Map(e.map((t,a)=>[t.toLowerCase(),a]))}function qq(e,t,a){var r=ea.exec(t.slice(a,a+1));return r?(e.w=+r[0],a+r[0].length):-1}function Hq(e,t,a){var r=ea.exec(t.slice(a,a+1));return r?(e.u=+r[0],a+r[0].length):-1}function Vq(e,t,a){var r=ea.exec(t.slice(a,a+2));return r?(e.U=+r[0],a+r[0].length):-1}function Kq(e,t,a){var r=ea.exec(t.slice(a,a+2));return r?(e.V=+r[0],a+r[0].length):-1}function Wq(e,t,a){var r=ea.exec(t.slice(a,a+2));return r?(e.W=+r[0],a+r[0].length):-1}function WM(e,t,a){var r=ea.exec(t.slice(a,a+4));return r?(e.y=+r[0],a+r[0].length):-1}function YM(e,t,a){var r=ea.exec(t.slice(a,a+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),a+r[0].length):-1}function Yq(e,t,a){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(a,a+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),a+r[0].length):-1}function Gq(e,t,a){var r=ea.exec(t.slice(a,a+1));return r?(e.q=r[0]*3-3,a+r[0].length):-1}function Zq(e,t,a){var r=ea.exec(t.slice(a,a+2));return r?(e.m=r[0]-1,a+r[0].length):-1}function GM(e,t,a){var r=ea.exec(t.slice(a,a+2));return r?(e.d=+r[0],a+r[0].length):-1}function Xq(e,t,a){var r=ea.exec(t.slice(a,a+3));return r?(e.m=0,e.d=+r[0],a+r[0].length):-1}function ZM(e,t,a){var r=ea.exec(t.slice(a,a+2));return r?(e.H=+r[0],a+r[0].length):-1}function Qq(e,t,a){var r=ea.exec(t.slice(a,a+2));return r?(e.M=+r[0],a+r[0].length):-1}function Jq(e,t,a){var r=ea.exec(t.slice(a,a+2));return r?(e.S=+r[0],a+r[0].length):-1}function eH(e,t,a){var r=ea.exec(t.slice(a,a+3));return r?(e.L=+r[0],a+r[0].length):-1}function tH(e,t,a){var r=ea.exec(t.slice(a,a+6));return r?(e.L=Math.floor(r[0]/1e3),a+r[0].length):-1}function nH(e,t,a){var r=Bq.exec(t.slice(a,a+1));return r?a+r[0].length:-1}function aH(e,t,a){var r=ea.exec(t.slice(a));return r?(e.Q=+r[0],a+r[0].length):-1}function rH(e,t,a){var r=ea.exec(t.slice(a));return r?(e.s=+r[0],a+r[0].length):-1}function XM(e,t){return Et(e.getDate(),t,2)}function sH(e,t){return Et(e.getHours(),t,2)}function iH(e,t){return Et(e.getHours()%12||12,t,2)}function lH(e,t){return Et(1+Ju.count(fi(e),e),t,3)}function tk(e,t){return Et(e.getMilliseconds(),t,3)}function oH(e,t){return tk(e,t)+"000"}function cH(e,t){return Et(e.getMonth()+1,t,2)}function dH(e,t){return Et(e.getMinutes(),t,2)}function uH(e,t){return Et(e.getSeconds(),t,2)}function mH(e){var t=e.getDay();return t===0?7:t}function fH(e,t){return Et(Yp.count(fi(e)-1,e),t,2)}function nk(e){var t=e.getDay();return t>=4||t===0?kc(e):kc.ceil(e)}function hH(e,t){return e=nk(e),Et(kc.count(fi(e),e)+(fi(e).getDay()===4),t,2)}function pH(e){return e.getDay()}function xH(e,t){return Et(Xh.count(fi(e)-1,e),t,2)}function gH(e,t){return Et(e.getFullYear()%100,t,2)}function yH(e,t){return e=nk(e),Et(e.getFullYear()%100,t,2)}function vH(e,t){return Et(e.getFullYear()%1e4,t,4)}function bH(e,t){var a=e.getDay();return e=a>=4||a===0?kc(e):kc.ceil(e),Et(e.getFullYear()%1e4,t,4)}function jH(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Et(t/60|0,"0",2)+Et(t%60,"0",2)}function QM(e,t){return Et(e.getUTCDate(),t,2)}function wH(e,t){return Et(e.getUTCHours(),t,2)}function NH(e,t){return Et(e.getUTCHours()%12||12,t,2)}function SH(e,t){return Et(1+Wp.count(hi(e),e),t,3)}function ak(e,t){return Et(e.getUTCMilliseconds(),t,3)}function AH(e,t){return ak(e,t)+"000"}function CH(e,t){return Et(e.getUTCMonth()+1,t,2)}function MH(e,t){return Et(e.getUTCMinutes(),t,2)}function DH(e,t){return Et(e.getUTCSeconds(),t,2)}function OH(e){var t=e.getUTCDay();return t===0?7:t}function EH(e,t){return Et(Gp.count(hi(e)-1,e),t,2)}function rk(e){var t=e.getUTCDay();return t>=4||t===0?Pc(e):Pc.ceil(e)}function kH(e,t){return e=rk(e),Et(Pc.count(hi(e),e)+(hi(e).getUTCDay()===4),t,2)}function PH(e){return e.getUTCDay()}function RH(e,t){return Et(Qh.count(hi(e)-1,e),t,2)}function _H(e,t){return Et(e.getUTCFullYear()%100,t,2)}function TH(e,t){return e=rk(e),Et(e.getUTCFullYear()%100,t,2)}function LH(e,t){return Et(e.getUTCFullYear()%1e4,t,4)}function IH(e,t){var a=e.getUTCDay();return e=a>=4||a===0?Pc(e):Pc.ceil(e),Et(e.getUTCFullYear()%1e4,t,4)}function zH(){return"+0000"}function JM(){return"%"}function e4(e){return+e}function t4(e){return Math.floor(+e/1e3)}var cc,sk,ik;$H({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $H(e){return cc=$q(e),sk=cc.format,cc.parse,ik=cc.utcFormat,cc.utcParse,cc}function BH(e){return new Date(e)}function FH(e){return e instanceof Date?+e:+new Date(+e)}function u1(e,t,a,r,s,l,c,d,m,f){var h=Xj(),g=h.invert,y=h.domain,v=f(".%L"),j=f(":%S"),b=f("%I:%M"),S=f("%I %p"),M=f("%a %d"),N=f("%b %d"),A=f("%B"),O=f("%Y");function D(k){return(m(k)<k?v:d(k)<k?j:c(k)<k?b:l(k)<k?S:r(k)<k?s(k)<k?M:N:a(k)<k?A:O)(k)}return h.invert=function(k){return new Date(g(k))},h.domain=function(k){return arguments.length?y(Array.from(k,FH)):y().map(BH)},h.ticks=function(k){var _=y();return e(_[0],_[_.length-1],k??10)},h.tickFormat=function(k,_){return _==null?D:f(_)},h.nice=function(k){var _=y();return(!k||typeof k.range!="function")&&(k=t(_[0],_[_.length-1],k??10)),k?y(KE(_,k)):h},h.copy=function(){return Qu(h,u1(e,t,a,r,s,l,c,d,m,f))},h}function UH(){return Lr.apply(u1(Iq,zq,fi,c1,Yp,Ju,l1,s1,ql,sk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qH(){return Lr.apply(u1(Tq,Lq,hi,d1,Gp,Wp,o1,i1,ql,ik).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zp(){var e=0,t=1,a,r,s,l,c=ba,d=!1,m;function f(g){return g==null||isNaN(g=+g)?m:c(s===0?.5:(g=(l(g)-a)*s,d?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t]=g,a=l(e=+e),r=l(t=+t),s=a===r?0:1/(r-a),f):[e,t]},f.clamp=function(g){return arguments.length?(d=!!g,f):d},f.interpolator=function(g){return arguments.length?(c=g,f):c};function h(g){return function(y){var v,j;return arguments.length?([v,j]=y,c=g(v,j),f):[c(0),c(1)]}}return f.range=h(zc),f.rangeRound=h(Zj),f.unknown=function(g){return arguments.length?(m=g,f):m},function(g){return l=g,a=g(e),r=g(t),s=a===r?0:1/(r-a),f}}function hl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function lk(){var e=fl(Zp()(ba));return e.copy=function(){return hl(e,lk())},Ni.apply(e,arguments)}function ok(){var e=e1(Zp()).domain([1,10]);return e.copy=function(){return hl(e,ok()).base(e.base())},Ni.apply(e,arguments)}function ck(){var e=t1(Zp());return e.copy=function(){return hl(e,ck()).constant(e.constant())},Ni.apply(e,arguments)}function m1(){var e=n1(Zp());return e.copy=function(){return hl(e,m1()).exponent(e.exponent())},Ni.apply(e,arguments)}function HH(){return m1.apply(null,arguments).exponent(.5)}function dk(){var e=[],t=ba;function a(r){if(r!=null&&!isNaN(r=+r))return t((Zu(e,r,1)-1)/(e.length-1))}return a.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ol),a},a.interpolator=function(r){return arguments.length?(t=r,a):t},a.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},a.quantiles=function(r){return Array.from({length:r+1},(s,l)=>OU(e,l/r))},a.copy=function(){return dk(t).domain(e)},Ni.apply(a,arguments)}function Xp(){var e=0,t=.5,a=1,r=1,s,l,c,d,m,f=ba,h,g=!1,y;function v(b){return isNaN(b=+b)?y:(b=.5+((b=+h(b))-l)*(r*b<r*l?d:m),f(g?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([e,t,a]=b,s=h(e=+e),l=h(t=+t),c=h(a=+a),d=s===l?0:.5/(l-s),m=l===c?0:.5/(c-l),r=l<s?-1:1,v):[e,t,a]},v.clamp=function(b){return arguments.length?(g=!!b,v):g},v.interpolator=function(b){return arguments.length?(f=b,v):f};function j(b){return function(S){var M,N,A;return arguments.length?([M,N,A]=S,f=nq(b,[M,N,A]),v):[f(0),f(.5),f(1)]}}return v.range=j(zc),v.rangeRound=j(Zj),v.unknown=function(b){return arguments.length?(y=b,v):y},function(b){return h=b,s=b(e),l=b(t),c=b(a),d=s===l?0:.5/(l-s),m=l===c?0:.5/(c-l),r=l<s?-1:1,v}}function uk(){var e=fl(Xp()(ba));return e.copy=function(){return hl(e,uk())},Ni.apply(e,arguments)}function mk(){var e=e1(Xp()).domain([.1,1,10]);return e.copy=function(){return hl(e,mk()).base(e.base())},Ni.apply(e,arguments)}function fk(){var e=t1(Xp());return e.copy=function(){return hl(e,fk()).constant(e.constant())},Ni.apply(e,arguments)}function f1(){var e=n1(Xp());return e.copy=function(){return hl(e,f1()).exponent(e.exponent())},Ni.apply(e,arguments)}function VH(){return f1.apply(null,arguments).exponent(.5)}const su=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Wj,scaleDiverging:uk,scaleDivergingLog:mk,scaleDivergingPow:f1,scaleDivergingSqrt:VH,scaleDivergingSymlog:fk,scaleIdentity:VE,scaleImplicit:Mb,scaleLinear:HE,scaleLog:WE,scaleOrdinal:Kj,scalePoint:PU,scalePow:a1,scaleQuantile:ZE,scaleQuantize:XE,scaleRadial:GE,scaleSequential:lk,scaleSequentialLog:ok,scaleSequentialPow:m1,scaleSequentialQuantile:dk,scaleSequentialSqrt:HH,scaleSequentialSymlog:ck,scaleSqrt:Aq,scaleSymlog:YE,scaleThreshold:QE,scaleTime:UH,scaleUtc:qH,tickFormat:qE},Symbol.toStringTag,{value:"Module"}));var Si=e=>e.chartData,$c=te([Si],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Bc=(e,t,a,r)=>r?$c(e):Si(e);function dl(e){if(Array.isArray(e)&&e.length===2){var[t,a]=e;if(sn(t)&&sn(a))return!0}return!1}function n4(e,t,a){return a?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function hk(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[a,r]=e,s,l;if(sn(a))s=a;else if(typeof a=="function")return;if(sn(r))l=r;else if(typeof r=="function")return;var c=[s,l];if(dl(c))return c}}function KH(e,t,a){if(!(!a&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,a);if(dl(r))return n4(r,t,a)}catch{}if(Array.isArray(e)&&e.length===2){var[s,l]=e,c,d;if(s==="auto")t!=null&&(c=Math.min(...t));else if(Pe(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t?.[0]))}catch{}else if(typeof s=="string"&&EC.test(s)){var m=EC.exec(s);if(m==null||t==null)c=void 0;else{var f=+m[1];c=t[0]-f}}else c=t?.[0];if(l==="auto")t!=null&&(d=Math.max(...t));else if(Pe(l))d=l;else if(typeof l=="function")try{t!=null&&(d=l(t?.[1]))}catch{}else if(typeof l=="string"&&kC.test(l)){var h=kC.exec(l);if(h==null||t==null)d=void 0;else{var g=+h[1];d=t[1]+g}}else d=t?.[1];var y=[c,d];if(dl(y))return t==null?y:n4(y,t,a)}}}var Fc=1e9,WH={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},p1,dn=!0,Er="[DecimalError] ",Zl=Er+"Invalid argument: ",h1=Er+"Exponent out of range: ",Uc=Math.floor,$l=Math.pow,YH=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xa,Xn=1e7,rn=7,pk=9007199254740991,Jh=Uc(pk/rn),_e={};_e.absoluteValue=_e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};_e.comparedTo=_e.cmp=function(e){var t,a,r,s,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(r=l.d.length,s=e.d.length,t=0,a=r<s?r:s;t<a;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return r===s?0:r>s^l.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var e=this,t=e.d.length-1,a=(t-e.e)*rn;if(t=e.d[t],t)for(;t%10==0;t/=10)a--;return a<0?0:a};_e.dividedBy=_e.div=function(e){return ai(this,new this.constructor(e))};_e.dividedToIntegerBy=_e.idiv=function(e){var t=this,a=t.constructor;return Kt(ai(t,new a(e),0,1),a.precision)};_e.equals=_e.eq=function(e){return!this.cmp(e)};_e.exponent=function(){return Ln(this)};_e.greaterThan=_e.gt=function(e){return this.cmp(e)>0};_e.greaterThanOrEqualTo=_e.gte=function(e){return this.cmp(e)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(e){return this.cmp(e)<0};_e.lessThanOrEqualTo=_e.lte=function(e){return this.cmp(e)<1};_e.logarithm=_e.log=function(e){var t,a=this,r=a.constructor,s=r.precision,l=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Xa))throw Error(Er+"NaN");if(a.s<1)throw Error(Er+(a.s?"NaN":"-Infinity"));return a.eq(Xa)?new r(0):(dn=!1,t=ai(Eu(a,l),Eu(e,l),l),dn=!0,Kt(t,s))};_e.minus=_e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yk(t,e):xk(t,(e.s=-e.s,e))};_e.modulo=_e.mod=function(e){var t,a=this,r=a.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(Er+"NaN");return a.s?(dn=!1,t=ai(a,e,0,1).times(e),dn=!0,a.minus(t)):Kt(new r(a),s)};_e.naturalExponential=_e.exp=function(){return gk(this)};_e.naturalLogarithm=_e.ln=function(){return Eu(this)};_e.negated=_e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};_e.plus=_e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xk(t,e):yk(t,(e.s=-e.s,e))};_e.precision=_e.sd=function(e){var t,a,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Zl+e);if(t=Ln(s)+1,r=s.d.length-1,a=r*rn+1,r=s.d[r],r){for(;r%10==0;r/=10)a--;for(r=s.d[0];r>=10;r/=10)a++}return e&&t>a?t:a};_e.squareRoot=_e.sqrt=function(){var e,t,a,r,s,l,c,d=this,m=d.constructor;if(d.s<1){if(!d.s)return new m(0);throw Error(Er+"NaN")}for(e=Ln(d),dn=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=cs(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Uc((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new m(t)):r=new m(s.toString()),a=m.precision,s=c=a+3;;)if(l=r,r=l.plus(ai(d,l,c+2)).times(.5),cs(l.d).slice(0,c)===(t=cs(r.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(Kt(l,a+1,0),l.times(l).eq(d)){r=l;break}}else if(t!="9999")break;c+=4}return dn=!0,Kt(r,a)};_e.times=_e.mul=function(e){var t,a,r,s,l,c,d,m,f,h=this,g=h.constructor,y=h.d,v=(e=new g(e)).d;if(!h.s||!e.s)return new g(0);for(e.s*=h.s,a=h.e+e.e,m=y.length,f=v.length,m<f&&(l=y,y=v,v=l,c=m,m=f,f=c),l=[],c=m+f,r=c;r--;)l.push(0);for(r=f;--r>=0;){for(t=0,s=m+r;s>r;)d=l[s]+v[r]*y[s-r-1]+t,l[s--]=d%Xn|0,t=d/Xn|0;l[s]=(l[s]+t)%Xn|0}for(;!l[--c];)l.pop();return t?++a:l.shift(),e.d=l,e.e=a,dn?Kt(e,g.precision):e};_e.toDecimalPlaces=_e.todp=function(e,t){var a=this,r=a.constructor;return a=new r(a),e===void 0?a:(js(e,0,Fc),t===void 0?t=r.rounding:js(t,0,8),Kt(a,e+Ln(a)+1,t))};_e.toExponential=function(e,t){var a,r=this,s=r.constructor;return e===void 0?a=no(r,!0):(js(e,0,Fc),t===void 0?t=s.rounding:js(t,0,8),r=Kt(new s(r),e+1,t),a=no(r,!0,e+1)),a};_e.toFixed=function(e,t){var a,r,s=this,l=s.constructor;return e===void 0?no(s):(js(e,0,Fc),t===void 0?t=l.rounding:js(t,0,8),r=Kt(new l(s),e+Ln(s)+1,t),a=no(r.abs(),!1,e+Ln(r)+1),s.isneg()&&!s.isZero()?"-"+a:a)};_e.toInteger=_e.toint=function(){var e=this,t=e.constructor;return Kt(new t(e),Ln(e)+1,t.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(e){var t,a,r,s,l,c,d=this,m=d.constructor,f=12,h=+(e=new m(e));if(!e.s)return new m(Xa);if(d=new m(d),!d.s){if(e.s<1)throw Error(Er+"Infinity");return d}if(d.eq(Xa))return d;if(r=m.precision,e.eq(Xa))return Kt(d,r);if(t=e.e,a=e.d.length-1,c=t>=a,l=d.s,c){if((a=h<0?-h:h)<=pk){for(s=new m(Xa),t=Math.ceil(r/rn+4),dn=!1;a%2&&(s=s.times(d),r4(s.d,t)),a=Uc(a/2),a!==0;)d=d.times(d),r4(d.d,t);return dn=!0,e.s<0?new m(Xa).div(s):Kt(s,r)}}else if(l<0)throw Error(Er+"NaN");return l=l<0&&e.d[Math.max(t,a)]&1?-1:1,d.s=1,dn=!1,s=e.times(Eu(d,r+f)),dn=!0,s=gk(s),s.s=l,s};_e.toPrecision=function(e,t){var a,r,s=this,l=s.constructor;return e===void 0?(a=Ln(s),r=no(s,a<=l.toExpNeg||a>=l.toExpPos)):(js(e,1,Fc),t===void 0?t=l.rounding:js(t,0,8),s=Kt(new l(s),e,t),a=Ln(s),r=no(s,e<=a||a<=l.toExpNeg,e)),r};_e.toSignificantDigits=_e.tosd=function(e,t){var a=this,r=a.constructor;return e===void 0?(e=r.precision,t=r.rounding):(js(e,1,Fc),t===void 0?t=r.rounding:js(t,0,8)),Kt(new r(a),e,t)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ln(e),a=e.constructor;return no(e,t<=a.toExpNeg||t>=a.toExpPos)};function xk(e,t){var a,r,s,l,c,d,m,f,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),dn?Kt(t,g):t;if(m=e.d,f=t.d,c=e.e,s=t.e,m=m.slice(),l=c-s,l){for(l<0?(r=m,l=-l,d=f.length):(r=f,s=c,d=m.length),c=Math.ceil(g/rn),d=c>d?c+1:d+1,l>d&&(l=d,r.length=1),r.reverse();l--;)r.push(0);r.reverse()}for(d=m.length,l=f.length,d-l<0&&(l=d,r=f,f=m,m=r),a=0;l;)a=(m[--l]=m[l]+f[l]+a)/Xn|0,m[l]%=Xn;for(a&&(m.unshift(a),++s),d=m.length;m[--d]==0;)m.pop();return t.d=m,t.e=s,dn?Kt(t,g):t}function js(e,t,a){if(e!==~~e||e<t||e>a)throw Error(Zl+e)}function cs(e){var t,a,r,s=e.length-1,l="",c=e[0];if(s>0){for(l+=c,t=1;t<s;t++)r=e[t]+"",a=rn-r.length,a&&(l+=al(a)),l+=r;c=e[t],r=c+"",a=rn-r.length,a&&(l+=al(a))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var ai=(function(){function e(r,s){var l,c=0,d=r.length;for(r=r.slice();d--;)l=r[d]*s+c,r[d]=l%Xn|0,c=l/Xn|0;return c&&r.unshift(c),r}function t(r,s,l,c){var d,m;if(l!=c)m=l>c?1:-1;else for(d=m=0;d<l;d++)if(r[d]!=s[d]){m=r[d]>s[d]?1:-1;break}return m}function a(r,s,l){for(var c=0;l--;)r[l]-=c,c=r[l]<s[l]?1:0,r[l]=c*Xn+r[l]-s[l];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,l,c){var d,m,f,h,g,y,v,j,b,S,M,N,A,O,D,k,_,E,P=r.constructor,z=r.s==s.s?1:-1,L=r.d,I=s.d;if(!r.s)return new P(r);if(!s.s)throw Error(Er+"Division by zero");for(m=r.e-s.e,_=I.length,D=L.length,v=new P(z),j=v.d=[],f=0;I[f]==(L[f]||0);)++f;if(I[f]>(L[f]||0)&&--m,l==null?N=l=P.precision:c?N=l+(Ln(r)-Ln(s))+1:N=l,N<0)return new P(0);if(N=N/rn+2|0,f=0,_==1)for(h=0,I=I[0],N++;(f<D||h)&&N--;f++)A=h*Xn+(L[f]||0),j[f]=A/I|0,h=A%I|0;else{for(h=Xn/(I[0]+1)|0,h>1&&(I=e(I,h),L=e(L,h),_=I.length,D=L.length),O=_,b=L.slice(0,_),S=b.length;S<_;)b[S++]=0;E=I.slice(),E.unshift(0),k=I[0],I[1]>=Xn/2&&++k;do h=0,d=t(I,b,_,S),d<0?(M=b[0],_!=S&&(M=M*Xn+(b[1]||0)),h=M/k|0,h>1?(h>=Xn&&(h=Xn-1),g=e(I,h),y=g.length,S=b.length,d=t(g,b,y,S),d==1&&(h--,a(g,_<y?E:I,y))):(h==0&&(d=h=1),g=I.slice()),y=g.length,y<S&&g.unshift(0),a(b,g,S),d==-1&&(S=b.length,d=t(I,b,_,S),d<1&&(h++,a(b,_<S?E:I,S))),S=b.length):d===0&&(h++,b=[0]),j[f++]=h,d&&b[0]?b[S++]=L[O]||0:(b=[L[O]],S=1);while((O++<D||b[0]!==void 0)&&N--)}return j[0]||j.shift(),v.e=m,Kt(v,c?l+Ln(v)+1:l)}})();function gk(e,t){var a,r,s,l,c,d,m=0,f=0,h=e.constructor,g=h.precision;if(Ln(e)>16)throw Error(h1+Ln(e));if(!e.s)return new h(Xa);for(dn=!1,d=g,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),f+=5;for(r=Math.log($l(2,f))/Math.LN10*2+5|0,d+=r,a=s=l=new h(Xa),h.precision=d;;){if(s=Kt(s.times(e),d),a=a.times(++m),c=l.plus(ai(s,a,d)),cs(c.d).slice(0,d)===cs(l.d).slice(0,d)){for(;f--;)l=Kt(l.times(l),d);return h.precision=g,t==null?(dn=!0,Kt(l,g)):l}l=c}}function Ln(e){for(var t=e.e*rn,a=e.d[0];a>=10;a/=10)t++;return t}function rv(e,t,a){if(t>e.LN10.sd())throw dn=!0,a&&(e.precision=a),Error(Er+"LN10 precision limit exceeded");return Kt(new e(e.LN10),t)}function al(e){for(var t="";e--;)t+="0";return t}function Eu(e,t){var a,r,s,l,c,d,m,f,h,g=1,y=10,v=e,j=v.d,b=v.constructor,S=b.precision;if(v.s<1)throw Error(Er+(v.s?"NaN":"-Infinity"));if(v.eq(Xa))return new b(0);if(t==null?(dn=!1,f=S):f=t,v.eq(10))return t==null&&(dn=!0),rv(b,f);if(f+=y,b.precision=f,a=cs(j),r=a.charAt(0),l=Ln(v),Math.abs(l)<15e14){for(;r<7&&r!=1||r==1&&a.charAt(1)>3;)v=v.times(e),a=cs(v.d),r=a.charAt(0),g++;l=Ln(v),r>1?(v=new b("0."+a),l++):v=new b(r+"."+a.slice(1))}else return m=rv(b,f+2,S).times(l+""),v=Eu(new b(r+"."+a.slice(1)),f-y).plus(m),b.precision=S,t==null?(dn=!0,Kt(v,S)):v;for(d=c=v=ai(v.minus(Xa),v.plus(Xa),f),h=Kt(v.times(v),f),s=3;;){if(c=Kt(c.times(h),f),m=d.plus(ai(c,new b(s),f)),cs(m.d).slice(0,f)===cs(d.d).slice(0,f))return d=d.times(2),l!==0&&(d=d.plus(rv(b,f+2,S).times(l+""))),d=ai(d,new b(g),f),b.precision=S,t==null?(dn=!0,Kt(d,S)):d;d=m,s+=2}}function a4(e,t){var a,r,s;for((a=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(a<0&&(a=r),a+=+t.slice(r+1),t=t.substring(0,r)):a<0&&(a=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,a=a-r-1,e.e=Uc(a/rn),e.d=[],r=(a+1)%rn,a<0&&(r+=rn),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=rn;r<s;)e.d.push(+t.slice(r,r+=rn));t=t.slice(r),r=rn-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),dn&&(e.e>Jh||e.e<-Jh))throw Error(h1+a)}else e.s=0,e.e=0,e.d=[0];return e}function Kt(e,t,a){var r,s,l,c,d,m,f,h,g=e.d;for(c=1,l=g[0];l>=10;l/=10)c++;if(r=t-c,r<0)r+=rn,s=t,f=g[h=0];else{if(h=Math.ceil((r+1)/rn),l=g.length,h>=l)return e;for(f=l=g[h],c=1;l>=10;l/=10)c++;r%=rn,s=r-rn+c}if(a!==void 0&&(l=$l(10,c-s-1),d=f/l%10|0,m=t<0||g[h+1]!==void 0||f%l,m=a<4?(d||m)&&(a==0||a==(e.s<0?3:2)):d>5||d==5&&(a==4||m||a==6&&(r>0?s>0?f/$l(10,c-s):0:g[h-1])%10&1||a==(e.s<0?8:7))),t<1||!g[0])return m?(l=Ln(e),g.length=1,t=t-l-1,g[0]=$l(10,(rn-t%rn)%rn),e.e=Uc(-t/rn)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=h,l=1,h--):(g.length=h+1,l=$l(10,rn-r),g[h]=s>0?(f/$l(10,c-s)%$l(10,s)|0)*l:0),m)for(;;)if(h==0){(g[0]+=l)==Xn&&(g[0]=1,++e.e);break}else{if(g[h]+=l,g[h]!=Xn)break;g[h--]=0,l=1}for(r=g.length;g[--r]===0;)g.pop();if(dn&&(e.e>Jh||e.e<-Jh))throw Error(h1+Ln(e));return e}function yk(e,t){var a,r,s,l,c,d,m,f,h,g,y=e.constructor,v=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),dn?Kt(t,v):t;if(m=e.d,g=t.d,r=t.e,f=e.e,m=m.slice(),c=f-r,c){for(h=c<0,h?(a=m,c=-c,d=g.length):(a=g,r=f,d=m.length),s=Math.max(Math.ceil(v/rn),d)+2,c>s&&(c=s,a.length=1),a.reverse(),s=c;s--;)a.push(0);a.reverse()}else{for(s=m.length,d=g.length,h=s<d,h&&(d=s),s=0;s<d;s++)if(m[s]!=g[s]){h=m[s]<g[s];break}c=0}for(h&&(a=m,m=g,g=a,t.s=-t.s),d=m.length,s=g.length-d;s>0;--s)m[d++]=0;for(s=g.length;s>c;){if(m[--s]<g[s]){for(l=s;l&&m[--l]===0;)m[l]=Xn-1;--m[l],m[s]+=Xn}m[s]-=g[s]}for(;m[--d]===0;)m.pop();for(;m[0]===0;m.shift())--r;return m[0]?(t.d=m,t.e=r,dn?Kt(t,v):t):new y(0)}function no(e,t,a){var r,s=Ln(e),l=cs(e.d),c=l.length;return t?(a&&(r=a-c)>0?l=l.charAt(0)+"."+l.slice(1)+al(r):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(s<0?"e":"e+")+s):s<0?(l="0."+al(-s-1)+l,a&&(r=a-c)>0&&(l+=al(r))):s>=c?(l+=al(s+1-c),a&&(r=a-s-1)>0&&(l=l+"."+al(r))):((r=s+1)<c&&(l=l.slice(0,r)+"."+l.slice(r)),a&&(r=a-c)>0&&(s+1===c&&(l+="."),l+=al(r))),e.s<0?"-"+l:l}function r4(e,t){if(e.length>t)return e.length=t,!0}function vk(e){var t,a,r;function s(l){var c=this;if(!(c instanceof s))return new s(l);if(c.constructor=s,l instanceof s){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(Zl+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return a4(c,l.toString())}else if(typeof l!="string")throw Error(Zl+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,YH.test(l))a4(c,l);else throw Error(Zl+l)}if(s.prototype=_e,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=vk,s.config=s.set=GH,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(a=r[t++])||(e[a]=this[a]);return s.config(e),s}function GH(e){if(!e||typeof e!="object")throw Error(Er+"Object expected");var t,a,r,s=["precision",1,Fc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[a=s[t]])!==void 0)if(Uc(r)===r&&r>=s[t+1]&&r<=s[t+2])this[a]=r;else throw Error(Zl+a+": "+r);if((r=e[a="LN10"])!==void 0)if(r==Math.LN10)this[a]=new this(r);else throw Error(Zl+a+": "+r);return this}var p1=vk(WH);Xa=new p1(1);const $t=p1;var ZH=e=>e,bk={},jk=e=>e===bk,s4=e=>function t(){return arguments.length===0||arguments.length===1&&jk(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},wk=(e,t)=>e===1?t:s4(function(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];var l=r.filter(c=>c!==bk).length;return l>=e?t(...r):wk(e-l,s4(function(){for(var c=arguments.length,d=new Array(c),m=0;m<c;m++)d[m]=arguments[m];var f=r.map(h=>jk(h)?d.shift():h);return t(...f,...d)}))}),XH=e=>wk(e.length,e),kb=(e,t)=>{for(var a=[],r=e;r<t;++r)a[r-e]=r;return a},QH=XH((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(a=>t[a]).map(e)),JH=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];if(!a.length)return ZH;var s=a.reverse(),l=s[0],c=s.slice(1);return function(){return c.reduce((d,m)=>m(d),l(...arguments))}},Pb=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function Nk(e){var t;return e===0?t=1:t=Math.floor(new $t(e).abs().log(10).toNumber())+1,t}function Sk(e,t,a){for(var r=new $t(e),s=0,l=[];r.lt(t)&&s<1e5;)l.push(r.toNumber()),r=r.add(a),s++;return l}var Ak=e=>{var[t,a]=e,[r,s]=[t,a];return t>a&&([r,s]=[a,t]),[r,s]},Ck=(e,t,a)=>{if(e.lte(0))return new $t(0);var r=Nk(e.toNumber()),s=new $t(10).pow(r),l=e.div(s),c=r!==1?.05:.1,d=new $t(Math.ceil(l.div(c).toNumber())).add(a).mul(c),m=d.mul(s);return t?new $t(m.toNumber()):new $t(Math.ceil(m.toNumber()))},eV=(e,t,a)=>{var r=new $t(1),s=new $t(e);if(!s.isint()&&a){var l=Math.abs(e);l<1?(r=new $t(10).pow(Nk(e)-1),s=new $t(Math.floor(s.div(r).toNumber())).mul(r)):l>1&&(s=new $t(Math.floor(e)))}else e===0?s=new $t(Math.floor((t-1)/2)):a||(s=new $t(Math.floor(e)));var c=Math.floor((t-1)/2),d=JH(QH(m=>s.add(new $t(m-c).mul(r)).toNumber()),kb);return d(0,t)},Mk=function(t,a,r,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((a-t)/(r-1)))return{step:new $t(0),tickMin:new $t(0),tickMax:new $t(0)};var c=Ck(new $t(a).sub(t).div(r-1),s,l),d;t<=0&&a>=0?d=new $t(0):(d=new $t(t).add(a).div(2),d=d.sub(new $t(d).mod(c)));var m=Math.ceil(d.sub(t).div(c).toNumber()),f=Math.ceil(new $t(a).sub(d).div(c).toNumber()),h=m+f+1;return h>r?Mk(t,a,r,s,l+1):(h<r&&(f=a>0?f+(r-h):f,m=a>0?m:m+(r-h)),{step:c,tickMin:d.sub(new $t(m).mul(c)),tickMax:d.add(new $t(f).mul(c))})},tV=function(t){var[a,r]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(s,2),[d,m]=Ak([a,r]);if(d===-1/0||m===1/0){var f=m===1/0?[d,...kb(0,s-1).map(()=>1/0)]:[...kb(0,s-1).map(()=>-1/0),m];return a>r?Pb(f):f}if(d===m)return eV(d,s,l);var{step:h,tickMin:g,tickMax:y}=Mk(d,m,c,l,0),v=Sk(g,y.add(new $t(.1).mul(h)),h);return a>r?Pb(v):v},nV=function(t,a){var[r,s]=t,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=Ak([r,s]);if(c===-1/0||d===1/0)return[r,s];if(c===d)return[c];var m=Math.max(a,2),f=Ck(new $t(d).sub(c).div(m-1),l,0),h=[...Sk(new $t(c),new $t(d),f),d];return l===!1&&(h=h.map(g=>Math.round(g))),r>s?Pb(h):h},Qp=e=>e.rootProps.maxBarSize,Dk=e=>e.rootProps.barGap,x1=e=>e.rootProps.barCategoryGap,Ok=e=>e.rootProps.barSize,qc=e=>e.rootProps.stackOffset,g1=e=>e.rootProps.reverseStackOrder,y1=e=>e.options.chartName,v1=e=>e.rootProps.syncId,Ek=e=>e.rootProps.syncMethod,b1=e=>e.options.eventEmitter,aV=e=>e.rootProps.baseValue,Lt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},is={allowDecimals:!1,allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category",zIndex:Lt.axis},ka={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number",zIndex:Lt.axis},Jp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},rV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:is.angleAxisId,includeHidden:!1,name:void 0,reversed:is.reversed,scale:is.scale,tick:is.tick,tickCount:void 0,ticks:void 0,type:is.type,unit:void 0},sV={allowDataOverflow:ka.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ka.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ka.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ka.scale,tick:ka.tick,tickCount:ka.tickCount,ticks:void 0,type:ka.type,unit:void 0},iV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:is.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:is.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:is.scale,tick:is.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},lV={allowDataOverflow:ka.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ka.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ka.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ka.scale,tick:ka.tick,tickCount:ka.tickCount,ticks:void 0,type:"category",unit:void 0},fo=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?iV:rV,Hc=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?lV:sV,ex=e=>e.polarOptions,j1=te([vi,bi,Fn],DE),kk=te([ex,j1],(e,t)=>{if(e!=null)return xa(e.innerRadius,t,0)}),Pk=te([ex,j1],(e,t)=>{if(e!=null)return xa(e.outerRadius,t,t*.8)}),oV=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:a}=e;return[t,a]},Rk=te([ex],oV),cV=te([fo,Rk],Jp),_k=te([j1,kk,Pk],(e,t,a)=>{if(!(e==null||t==null||a==null))return[t,a]}),dV=te([Hc,_k],Jp),ho=te([et,ex,kk,Pk,vi,bi],(e,t,a,r,s,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||a==null||r==null)){var{cx:c,cy:d,startAngle:m,endAngle:f}=t;return{cx:xa(c,s,s/2),cy:xa(d,l,l/2),innerRadius:a,outerRadius:r,startAngle:m,endAngle:f,clockWise:!1}}}),Yt=(e,t)=>t,em=(e,t,a)=>a;function tx(e){return e?.id}function w1(e,t,a){var{chartData:r=[]}=t,{allowDuplicatedCategory:s,dataKey:l}=a,c=new Map;return e.forEach(d=>{var m,f=(m=d.data)!==null&&m!==void 0?m:r;if(!(f==null||f.length===0)){var h=tx(d);f.forEach((g,y)=>{var v=l==null||s?y:String(bt(g,l,null)),j=bt(g,d.dataKey,0),b;c.has(v)?b=c.get(v):b={},Object.assign(b,{[h]:j}),c.set(v,b)})}}),Array.from(c.values())}function tm(e){return e.stackId!=null&&e.dataKey!=null}var nx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ax(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function uV(e,t){if(e.length===t.length){for(var a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}return!1}var qn=e=>{var t=et(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Vc=e=>e.tooltip.settings.axisId;function i4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ep(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?i4(Object(a),!0).forEach(function(r){mV(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function mV(e,t,a){return(t=fV(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function fV(e){var t=hV(e,"string");return typeof t=="symbol"?t:t+""}function hV(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rb=[0,"auto"],Gn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Tk=(e,t)=>e.cartesianAxis.xAxis[t],Ai=(e,t)=>{var a=Tk(e,t);return a??Gn},Zn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Rb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Wu},Lk=(e,t)=>e.cartesianAxis.yAxis[t],Ci=(e,t)=>{var a=Lk(e,t);return a??Zn},Qs={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},N1=(e,t)=>{var a=e.cartesianAxis.zAxis[t];return a??Qs},hn=(e,t,a)=>{switch(t){case"xAxis":return Ai(e,a);case"yAxis":return Ci(e,a);case"zAxis":return N1(e,a);case"angleAxis":return fo(e,a);case"radiusAxis":return Hc(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},pV=(e,t,a)=>{switch(t){case"xAxis":return Ai(e,a);case"yAxis":return Ci(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},Kc=(e,t,a)=>{switch(t){case"xAxis":return Ai(e,a);case"yAxis":return Ci(e,a);case"angleAxis":return fo(e,a);case"radiusAxis":return Hc(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},Ik=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function S1(e,t){return a=>{switch(e){case"xAxis":return"xAxisId"in a&&a.xAxisId===t;case"yAxis":return"yAxisId"in a&&a.yAxisId===t;case"zAxis":return"zAxisId"in a&&a.zAxisId===t;case"angleAxis":return"angleAxisId"in a&&a.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in a&&a.radiusAxisId===t;default:return!1}}}var Wc=e=>e.graphicalItems.cartesianItems,xV=te([Yt,em],S1),A1=(e,t,a)=>e.filter(a).filter(r=>t?.includeHidden===!0?!0:!r.hide),nm=te([Wc,hn,xV],A1,{memoizeOptions:{resultEqualityCheck:ax}}),zk=te([nm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(tm)),$k=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),gV=te([nm],$k),C1=e=>e.map(t=>t.data).filter(Boolean).flat(1),yV=te([nm],C1,{memoizeOptions:{resultEqualityCheck:ax}}),M1=(e,t)=>{var{chartData:a=[],dataStartIndex:r,dataEndIndex:s}=t;return e.length>0?e:a.slice(r,s+1)},D1=te([yV,Bc],M1),O1=(e,t,a)=>t?.dataKey!=null?e.map(r=>({value:bt(r,t.dataKey)})):a.length>0?a.map(r=>r.dataKey).flatMap(r=>e.map(s=>({value:bt(s,r)}))):e.map(r=>({value:r})),rx=te([D1,hn,nm],O1);function Bk(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function mh(e){if(ys(e)||e instanceof Date){var t=Number(e);if(sn(t))return t}}function l4(e){if(Array.isArray(e)){var t=[mh(e[0]),mh(e[1])];return dl(t)?t:void 0}var a=mh(e);if(a!=null)return[a,a]}function pi(e){return e.map(mh).filter(pI)}function vV(e,t,a){return!a||typeof t!="number"||Dr(t)?[]:a.length?pi(a.flatMap(r=>{var s=bt(e,r.dataKey),l,c;if(Array.isArray(s)?[l,c]=s:l=c=s,!(!sn(l)||!sn(c)))return[t-l,t+c]})):[]}var In=e=>{var t=qn(e),a=Vc(e);return Kc(e,t,a)},am=te([In],e=>e?.dataKey),bV=te([zk,Bc,In],w1),E1=(e,t,a,r)=>{var s={},l=t.reduce((c,d)=>(d.stackId==null||(c[d.stackId]==null&&(c[d.stackId]=[]),c[d.stackId].push(d)),c),s);return Object.fromEntries(Object.entries(l).map(c=>{var[d,m]=c,f=r?[...m].reverse():m,h=f.map(tx);return[d,{stackedData:F$(e,h,a),graphicalItems:f}]}))},ku=te([bV,zk,qc,g1],E1),Fk=(e,t,a,r)=>{var{dataStartIndex:s,dataEndIndex:l}=t;if(r==null&&a!=="zAxis"){var c=H$(e,s,l);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},jV=te([hn],e=>e.allowDataOverflow),k1=e=>{var t;if(e==null||!("domain"in e))return Rb;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var a=pi(e.ticks);return[Math.min(...a),Math.max(...a)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Rb},P1=te([hn],k1),R1=te([P1,jV],hk),wV=te([ku,Si,Yt,R1],Fk,{memoizeOptions:{resultEqualityCheck:nx}}),sx=e=>e.errorBars,NV=(e,t,a)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>Bk(a,r)),tp=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];var s=a.filter(Boolean);if(s.length!==0){var l=s.flat(),c=Math.min(...l),d=Math.max(...l);return[c,d]}},_1=(e,t,a,r,s)=>{var l,c;if(a.length>0&&e.forEach(d=>{a.forEach(m=>{var f,h,g=(f=r[m.id])===null||f===void 0?void 0:f.filter(M=>Bk(s,M)),y=bt(d,(h=t.dataKey)!==null&&h!==void 0?h:m.dataKey),v=vV(d,y,g);if(v.length>=2){var j=Math.min(...v),b=Math.max(...v);(l==null||j<l)&&(l=j),(c==null||b>c)&&(c=b)}var S=l4(y);S!=null&&(l=l==null?S[0]:Math.min(l,S[0]),c=c==null?S[1]:Math.max(c,S[1]))})}),t?.dataKey!=null&&e.forEach(d=>{var m=l4(bt(d,t.dataKey));m!=null&&(l=l==null?m[0]:Math.min(l,m[0]),c=c==null?m[1]:Math.max(c,m[1]))}),sn(l)&&sn(c))return[l,c]},SV=te([D1,hn,gV,sx,Yt],_1,{memoizeOptions:{resultEqualityCheck:nx}});function AV(e){var{value:t}=e;if(ys(t)||t instanceof Date)return t}var CV=(e,t,a)=>{var r=e.map(AV).filter(s=>s!=null);return a&&(t.dataKey==null||t.allowDuplicatedCategory&&oO(r))?RE(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Uk=e=>e.referenceElements.dots,Yc=(e,t,a)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===a:r.yAxisId===a),MV=te([Uk,Yt,em],Yc),qk=e=>e.referenceElements.areas,DV=te([qk,Yt,em],Yc),Hk=e=>e.referenceElements.lines,OV=te([Hk,Yt,em],Yc),Vk=(e,t)=>{var a=pi(e.map(r=>t==="xAxis"?r.x:r.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},EV=te(MV,Yt,Vk),Kk=(e,t)=>{var a=pi(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},kV=te([DV,Yt],Kk);function PV(e){var t;if(e.x!=null)return pi([e.x]);var a=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return a==null||a.length===0?[]:pi(a)}function RV(e){var t;if(e.y!=null)return pi([e.y]);var a=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return a==null||a.length===0?[]:pi(a)}var Wk=(e,t)=>{var a=e.flatMap(r=>t==="xAxis"?PV(r):RV(r));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},_V=te([OV,Yt],Wk),TV=te(EV,_V,kV,(e,t,a)=>tp(e,a,t)),T1=(e,t,a,r,s,l,c,d)=>{if(a!=null)return a;var m=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",f=m?tp(r,l,s):tp(l,s);return KH(t,f,e.allowDataOverflow)},LV=te([hn,P1,R1,wV,SV,TV,et,Yt],T1,{memoizeOptions:{resultEqualityCheck:nx}}),IV=[0,1],L1=(e,t,a,r,s,l,c)=>{if(!((e==null||a==null||a.length===0)&&c===void 0)){var{dataKey:d,type:m}=e,f=Tr(t,l);if(f&&d==null){var h;return RE(0,(h=a?.length)!==null&&h!==void 0?h:0)}return m==="category"?CV(r,e,f):s==="expand"?IV:c}},I1=te([hn,et,D1,rx,qc,Yt,LV],L1),Yk=(e,t,a,r,s)=>{if(e!=null){var{scale:l,type:c}=e;if(l==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?"point":c==="category"?"band":"linear";if(typeof l=="string"){var d="scale".concat(Uu(l));return d in su?d:"point"}}},pl=te([hn,et,Ik,y1,Yt],Yk);function zV(e){if(e!=null){if(e in su)return su[e]();var t="scale".concat(Uu(e));if(t in su)return su[t]()}}function ix(e,t,a,r){if(!(a==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(a).range(r);var s=zV(t);if(s!=null){var l=s.domain(a).range(r);return I$(l),l}}}var z1=(e,t,a)=>{var r=k1(t);if(!(a!=="auto"&&a!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&dl(e))return tV(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&dl(e))return nV(e,t.tickCount,t.allowDecimals)}},$1=te([I1,Kc,pl],z1),B1=(e,t,a,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&dl(t)&&Array.isArray(a)&&a.length>0){var s=t[0],l=a[0],c=t[1],d=a[a.length-1];return[Math.min(s,l),Math.max(c,d)]}return t},$V=te([hn,I1,$1,Yt],B1),BV=te(rx,hn,(e,t)=>{if(!(!t||t.type!=="number")){var a=1/0,r=Array.from(pi(e.map(d=>d.value))).sort((d,m)=>d-m);if(r.length<2)return 1/0;var s=r[r.length-1]-r[0];if(s===0)return 1/0;for(var l=0;l<r.length-1;l++){var c=r[l+1]-r[l];a=Math.min(a,c)}return a/s}}),Gk=te(BV,et,x1,Fn,(e,t,a,r)=>r,(e,t,a,r,s)=>{if(!sn(e))return 0;var l=t==="vertical"?r.height:r.width;if(s==="gap")return e*l/2;if(s==="no-gap"){var c=xa(a,e*l),d=e*l/2;return d-c-(d-c)/l*c}return 0}),FV=(e,t)=>{var a=Ai(e,t);return a==null||typeof a.padding!="string"?0:Gk(e,"xAxis",t,a.padding)},UV=(e,t)=>{var a=Ci(e,t);return a==null||typeof a.padding!="string"?0:Gk(e,"yAxis",t,a.padding)},qV=te(Ai,FV,(e,t)=>{var a,r;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((a=s.left)!==null&&a!==void 0?a:0)+t,right:((r=s.right)!==null&&r!==void 0?r:0)+t}}),HV=te(Ci,UV,(e,t)=>{var a,r;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((a=s.top)!==null&&a!==void 0?a:0)+t,bottom:((r=s.bottom)!==null&&r!==void 0?r:0)+t}}),VV=te([Fn,qV,Fp,Bp,(e,t,a)=>a],(e,t,a,r,s)=>{var{padding:l}=r;return s?[l.left,a.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),KV=te([Fn,et,HV,Fp,Bp,(e,t,a)=>a],(e,t,a,r,s,l)=>{var{padding:c}=s;return l?[r.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-a.bottom,e.top+a.top]:[e.top+a.top,e.top+e.height-a.bottom]}),rm=(e,t,a,r)=>{var s;switch(t){case"xAxis":return VV(e,a,r);case"yAxis":return KV(e,a,r);case"zAxis":return(s=N1(e,a))===null||s===void 0?void 0:s.range;case"angleAxis":return Rk(e);case"radiusAxis":return _k(e,a);default:return}},Zk=te([hn,rm],Jp),Gc=te([hn,pl,$V,Zk],ix);te([nm,sx,Yt],NV);function Xk(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var lx=(e,t)=>t,ox=(e,t,a)=>a,WV=te(zp,lx,ox,(e,t,a)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===a).sort(Xk)),YV=te($p,lx,ox,(e,t,a)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===a).sort(Xk)),Qk=(e,t)=>({width:e.width,height:t.height}),GV=(e,t)=>{var a=typeof t.width=="number"?t.width:Wu;return{width:a,height:e.height}},Jk=te(Fn,Ai,Qk),ZV=(e,t,a)=>{switch(t){case"top":return e.top;case"bottom":return a-e.bottom;default:return 0}},XV=(e,t,a)=>{switch(t){case"left":return e.left;case"right":return a-e.right;default:return 0}},QV=te(bi,Fn,WV,lx,ox,(e,t,a,r,s)=>{var l={},c;return a.forEach(d=>{var m=Qk(t,d);c==null&&(c=ZV(t,r,e));var f=r==="top"&&!s||r==="bottom"&&s;l[d.id]=c-Number(f)*m.height,c+=(f?-1:1)*m.height}),l}),JV=te(vi,Fn,YV,lx,ox,(e,t,a,r,s)=>{var l={},c;return a.forEach(d=>{var m=GV(t,d);c==null&&(c=XV(t,r,e));var f=r==="left"&&!s||r==="right"&&s;l[d.id]=c-Number(f)*m.width,c+=(f?-1:1)*m.width}),l}),eK=(e,t)=>{var a=Ai(e,t);if(a!=null)return QV(e,a.orientation,a.mirror)},tK=te([Fn,Ai,eK,(e,t)=>t],(e,t,a,r)=>{if(t!=null){var s=a?.[r];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),nK=(e,t)=>{var a=Ci(e,t);if(a!=null)return JV(e,a.orientation,a.mirror)},aK=te([Fn,Ci,nK,(e,t)=>t],(e,t,a,r)=>{if(t!=null){var s=a?.[r];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),eP=te(Fn,Ci,(e,t)=>{var a=typeof t.width=="number"?t.width:Wu;return{width:a,height:e.height}}),o4=(e,t,a)=>{switch(t){case"xAxis":return Jk(e,a).width;case"yAxis":return eP(e,a).height;default:return}},tP=(e,t,a,r)=>{if(a!=null){var{allowDuplicatedCategory:s,type:l,dataKey:c}=a,d=Tr(e,r),m=t.map(f=>f.value);if(c&&d&&l==="category"&&s&&oO(m))return m}},sm=te([et,rx,hn,Yt],tP),F1=(e,t,a,r)=>{if(!(a==null||a.dataKey==null)){var{type:s,scale:l}=a,c=Tr(e,r);if(c&&(s==="number"||l!=="auto"))return t.map(d=>d.value)}},U1=te([et,rx,Kc,Yt],F1),c4=te([et,pV,pl,Gc,sm,U1,rm,$1,Yt],(e,t,a,r,s,l,c,d,m)=>{if(t!=null){var f=Tr(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:l,duplicateDomain:s,isCategorical:f,niceTicks:d,range:c,realScaleType:a,scale:r}}}),nP=(e,t,a,r,s,l,c,d,m)=>{if(!(t==null||r==null)){var f=Tr(e,m),{type:h,ticks:g,tickCount:y}=t,v=a==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,j=h==="category"&&r.bandwidth?r.bandwidth()/v:0;j=m==="angleAxis"&&l!=null&&l.length>=2?_n(l[0]-l[1])*2*j:j;var b=g||s;if(b){var S=b.map((M,N)=>{var A=c?c.indexOf(M):M;return{index:N,coordinate:r(A)+j,value:M,offset:j}});return S.filter(M=>sn(M.coordinate))}return f&&d?d.map((M,N)=>({coordinate:r(M)+j,value:M,index:N,offset:j})).filter(M=>sn(M.coordinate)):r.ticks?r.ticks(y).map(M=>({coordinate:r(M)+j,value:M,offset:j})):r.domain().map((M,N)=>({coordinate:r(M)+j,value:c?c[M]:M,index:N,offset:j}))}},aP=te([et,Kc,pl,Gc,$1,rm,sm,U1,Yt],nP),rP=(e,t,a,r,s,l,c)=>{if(!(t==null||a==null||r==null||r[0]===r[1])){var d=Tr(e,c),{tickCount:m}=t,f=0;return f=c==="angleAxis"&&r?.length>=2?_n(r[0]-r[1])*2*f:f,d&&l?l.map((h,g)=>({coordinate:a(h)+f,value:h,index:g,offset:f})):a.ticks?a.ticks(m).map(h=>({coordinate:a(h)+f,value:h,offset:f})):a.domain().map((h,g)=>({coordinate:a(h)+f,value:s?s[h]:h,index:g,offset:f}))}},kr=te([et,Kc,Gc,rm,sm,U1,Yt],rP),Pr=te(hn,Gc,(e,t)=>{if(!(e==null||t==null))return ep(ep({},e),{},{scale:t})}),rK=te([hn,pl,I1,Zk],ix),sK=te((e,t,a)=>N1(e,a),rK,(e,t)=>{if(!(e==null||t==null))return ep(ep({},e),{},{scale:t})}),iK=te([et,zp,$p],(e,t,a)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return a.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),sP=e=>e.options.defaultTooltipEventType,iP=e=>e.options.validateTooltipEventTypes;function lP(e,t,a){if(e==null)return t;var r=e?"axis":"item";return a==null?t:a.includes(r)?r:t}function q1(e,t){var a=sP(e),r=iP(e);return lP(t,a,r)}function lK(e){return Oe(t=>q1(t,e))}var oP=(e,t)=>{var a,r=Number(t);if(!(Dr(r)||t==null))return r>=0?e==null||(a=e[r])===null||a===void 0?void 0:a.value:void 0},oK=e=>e.tooltip.settings,il={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},cK={itemInteraction:{click:il,hover:il},axisInteraction:{click:il,hover:il},keyboardInteraction:il,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},cP=Fa({name:"tooltip",initialState:cK,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:cn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:a,next:r}=t.payload,s=Wr(e).tooltipItemPayloads.indexOf(a);s>-1&&(e.tooltipItemPayloads[s]=r)},prepare:cn()},removeTooltipEntrySettings:{reducer(e,t){var a=Wr(e).tooltipItemPayloads.indexOf(t.payload);a>-1&&e.tooltipItemPayloads.splice(a,1)},prepare:cn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:dK,replaceTooltipEntrySettings:uK,removeTooltipEntrySettings:mK,setTooltipSettingsState:fK,setActiveMouseOverItemIndex:dP,mouseLeaveItem:hK,mouseLeaveChart:uP,setActiveClickItemIndex:pK,setMouseOverAxisIndex:mP,setMouseClickAxisIndex:xK,setSyncInteraction:_b,setKeyboardInteraction:Tb}=cP.actions,gK=cP.reducer;function d4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Zf(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?d4(Object(a),!0).forEach(function(r){yK(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function yK(e,t,a){return(t=vK(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function vK(e){var t=bK(e,"string");return typeof t=="symbol"?t:t+""}function bK(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jK(e,t,a){return t==="axis"?a==="click"?e.axisInteraction.click:e.axisInteraction.hover:a==="click"?e.itemInteraction.click:e.itemInteraction.hover}function wK(e){return e.index!=null}var fP=(e,t,a,r)=>{if(t==null)return il;var s=jK(e,t,a);if(s==null)return il;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(wK(s)){if(l)return Zf(Zf({},s),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Zf(Zf({},il),{},{coordinate:s.coordinate})};function NK(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var a=Number(e);return Number.isFinite(a)?a:void 0}function SK(e,t){var a=NK(e),r=t[0],s=t[1];if(a===void 0)return!1;var l=Math.min(r,s),c=Math.max(r,s);return a>=l&&a<=c}function AK(e,t,a){if(a==null||t==null)return!0;var r=bt(e,t);return r==null||!dl(a)?!0:SK(r,a)}var H1=(e,t,a,r)=>{var s=e?.index;if(s==null)return null;var l=Number(s);if(!sn(l))return s;var c=0,d=1/0;t.length>0&&(d=t.length-1);var m=Math.max(c,Math.min(l,d)),f=t[m];return f==null||AK(f,a,r)?String(m):null},hP=(e,t,a,r,s,l,c,d)=>{if(!(l==null||d==null)){var m=c[0],f=m==null?void 0:d(m.positions,l);if(f!=null)return f;var h=s?.[Number(l)];if(h)switch(a){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},pP=(e,t,a,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return a==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.dataKey)===s})},im=e=>e.options.tooltipPayloadSearcher,Zc=e=>e.tooltip;function u4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function m4(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?u4(Object(a),!0).forEach(function(r){CK(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function CK(e,t,a){return(t=MK(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function MK(e){var t=DK(e,"string");return typeof t=="symbol"?t:t+""}function DK(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OK(e,t){return e??t}var xP=(e,t,a,r,s,l,c)=>{if(!(t==null||l==null)){var{chartData:d,computedData:m,dataStartIndex:f,dataEndIndex:h}=a,g=[];return e.reduce((y,v)=>{var j,{dataDefinedOnItem:b,settings:S}=v,M=OK(b,d),N=Array.isArray(M)?tE(M,f,h):M,A=(j=S?.dataKey)!==null&&j!==void 0?j:r,O=S?.nameKey,D;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&c==="axis"?D=cO(N,r,s):D=l(N,t,m,O),Array.isArray(D))D.forEach(_=>{var E=m4(m4({},S),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});y.push(PC({tooltipEntrySettings:E,dataKey:_.dataKey,payload:_.payload,value:bt(_.payload,_.dataKey),name:_.name}))});else{var k;y.push(PC({tooltipEntrySettings:S,dataKey:A,payload:D,value:bt(D,A),name:(k=bt(D,O))!==null&&k!==void 0?k:S?.name}))}return y},g)}},V1=te([In,et,Ik,y1,qn],Yk),EK=te([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),kK=te([qn,Vc],S1),lm=te([EK,In,kK],A1,{memoizeOptions:{resultEqualityCheck:ax}}),PK=te([lm],e=>e.filter(tm)),RK=te([lm],C1,{memoizeOptions:{resultEqualityCheck:ax}}),Xc=te([RK,Si],M1),_K=te([PK,Si,In],w1),K1=te([Xc,In,lm],O1),gP=te([In],k1),TK=te([In],e=>e.allowDataOverflow),yP=te([gP,TK],hk),LK=te([lm],e=>e.filter(tm)),IK=te([_K,LK,qc,g1],E1),zK=te([IK,Si,qn,yP],Fk),$K=te([lm],$k),BK=te([Xc,In,$K,sx,qn],_1,{memoizeOptions:{resultEqualityCheck:nx}}),FK=te([Uk,qn,Vc],Yc),UK=te([FK,qn],Vk),qK=te([qk,qn,Vc],Yc),HK=te([qK,qn],Kk),VK=te([Hk,qn,Vc],Yc),KK=te([VK,qn],Wk),WK=te([UK,KK,HK],tp),YK=te([In,gP,yP,zK,BK,WK,et,qn],T1),om=te([In,et,Xc,K1,qc,qn,YK],L1),GK=te([om,In,V1],z1),ZK=te([In,om,GK,qn],B1),vP=e=>{var t=qn(e),a=Vc(e),r=!1;return rm(e,t,a,r)},bP=te([In,vP],Jp),jP=te([In,V1,ZK,bP],ix),XK=te([et,K1,In,qn],tP),QK=te([et,K1,In,qn],F1),JK=(e,t,a,r,s,l,c,d)=>{if(t){var{type:m}=t,f=Tr(e,d);if(r){var h=a==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=m==="category"&&r.bandwidth?r.bandwidth()/h:0;return g=d==="angleAxis"&&s!=null&&s?.length>=2?_n(s[0]-s[1])*2*g:g,f&&c?c.map((y,v)=>({coordinate:r(y)+g,value:y,index:v,offset:g})):r.domain().map((y,v)=>({coordinate:r(y)+g,value:l?l[y]:y,index:v,offset:g}))}}},Mi=te([et,In,V1,jP,vP,XK,QK,qn],JK),W1=te([sP,iP,oK],(e,t,a)=>lP(a.shared,e,t)),wP=e=>e.tooltip.settings.trigger,Y1=e=>e.tooltip.settings.defaultIndex,cm=te([Zc,W1,wP,Y1],fP),ws=te([cm,Xc,am,om],H1),NP=te([Mi,ws],oP),G1=te([cm],e=>{if(e)return e.dataKey}),eW=te([cm],e=>{if(e)return e.graphicalItemId}),SP=te([Zc,W1,wP,Y1],pP),tW=te([vi,bi,et,Fn,Mi,Y1,SP,im],hP),nW=te([cm,tW],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),aW=te([cm],e=>e.active),rW=te([SP,ws,Si,am,NP,im,W1],xP),sW=te([rW],e=>{if(e!=null){var t=e.map(a=>a.payload).filter(a=>a!=null);return Array.from(new Set(t))}});function f4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function h4(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?f4(Object(a),!0).forEach(function(r){iW(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function iW(e,t,a){return(t=lW(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function lW(e){var t=oW(e,"string");return typeof t=="symbol"?t:t+""}function oW(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cW=()=>Oe(In),dW=()=>{var e=cW(),t=Oe(Mi),a=Oe(jP);return $a(!e||!a?void 0:h4(h4({},e),{},{scale:a}),t)};function p4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function dc(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?p4(Object(a),!0).forEach(function(r){uW(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function uW(e,t,a){return(t=mW(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function mW(e){var t=fW(e,"string");return typeof t=="symbol"?t:t+""}function fW(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hW=(e,t,a,r)=>{var s=t.find(l=>l&&l.index===a);if(s){if(e==="horizontal")return{x:s.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:s.coordinate}}return{x:0,y:0}},pW=(e,t,a,r)=>{var s=t.find(f=>f&&f.index===a);if(s){if(e==="centric"){var l=s.coordinate,{radius:c}=r;return dc(dc(dc({},r),Pt(r.cx,r.cy,c,l)),{},{angle:l,radius:c})}var d=s.coordinate,{angle:m}=r;return dc(dc(dc({},r),Pt(r.cx,r.cy,d,m)),{},{angle:m,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function xW(e,t){var{chartX:a,chartY:r}=e;return a>=t.left&&a<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var AP=(e,t,a,r,s)=>{var l,c=-1,d=(l=t?.length)!==null&&l!==void 0?l:0;if(d<=1||e==null)return 0;if(r==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var m=0;m<d;m++){var f=m>0?a[m-1].coordinate:a[d-1].coordinate,h=a[m].coordinate,g=m>=d-1?a[0].coordinate:a[m+1].coordinate,y=void 0;if(_n(h-f)!==_n(g-h)){var v=[];if(_n(g-h)===_n(s[1]-s[0])){y=g;var j=h+s[1]-s[0];v[0]=Math.min(j,(j+f)/2),v[1]=Math.max(j,(j+f)/2)}else{y=f;var b=g+s[1]-s[0];v[0]=Math.min(h,(b+h)/2),v[1]=Math.max(h,(b+h)/2)}var S=[Math.min(h,(y+h)/2),Math.max(h,(y+h)/2)];if(e>S[0]&&e<=S[1]||e>=v[0]&&e<=v[1]){({index:c}=a[m]);break}}else{var M=Math.min(f,g),N=Math.max(f,g);if(e>(M+h)/2&&e<=(N+h)/2){({index:c}=a[m]);break}}}else if(t){for(var A=0;A<d;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<d-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===d-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:c}=t[A]);break}}return c},CP=()=>Oe(y1),Z1=(e,t)=>t,MP=(e,t,a)=>a,X1=(e,t,a,r)=>r,gW=te(Mi,e=>Dp(e,t=>t.coordinate)),Q1=te([Zc,Z1,MP,X1],fP),J1=te([Q1,Xc,am,om],H1),yW=(e,t,a)=>{if(t!=null){var r=Zc(e);return t==="axis"?a==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:a==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},DP=te([Zc,Z1,MP,X1],pP),np=te([vi,bi,et,Fn,Mi,X1,DP,im],hP),vW=te([Q1,np],(e,t)=>{var a;return(a=e.coordinate)!==null&&a!==void 0?a:t}),OP=te([Mi,J1],oP),bW=te([DP,J1,Si,am,OP,im,Z1],xP),jW=te([Q1,J1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),wW=(e,t,a,r,s,l,c)=>{if(!(!e||!a||!r||!s)&&xW(e,c)){var d=V$(e,t),m=AP(d,l,s,a,r),f=hW(t,s,m,e);return{activeIndex:String(m),activeCoordinate:f}}},NW=(e,t,a,r,s,l,c)=>{if(!(!e||!r||!s||!l||!a)){var d=oU(e,a);if(d){var m=K$(d,t),f=AP(m,c,l,r,s),h=pW(t,l,f,d);return{activeIndex:String(f),activeCoordinate:h}}}},SW=(e,t,a,r,s,l,c,d)=>{if(!(!e||!t||!r||!s||!l))return t==="horizontal"||t==="vertical"?wW(e,t,r,s,l,c,d):NW(e,t,a,r,s,l,c)},AW=te(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,a)=>a,(e,t,a)=>{if(t!=null){var r=e[t];if(r!=null)return a?r.panoramaElementId:r.elementId}}),CW=te(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Lt)),a=Array.from(new Set(t));return a.sort((r,s)=>r-s)},{memoizeOptions:{resultEqualityCheck:uV}});function x4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function g4(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?x4(Object(a),!0).forEach(function(r){MW(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function MW(e,t,a){return(t=DW(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function DW(e){var t=OW(e,"string");return typeof t=="symbol"?t:t+""}function OW(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EW={},kW={zIndexMap:Object.values(Lt).reduce((e,t)=>g4(g4({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),EW)},PW=new Set(Object.values(Lt));function RW(e){return PW.has(e)}var EP=Fa({name:"zIndex",initialState:kW,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:a}=t.payload;e.zIndexMap[a]?e.zIndexMap[a].consumers+=1:e.zIndexMap[a]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:cn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:a}=t.payload;e.zIndexMap[a]&&(e.zIndexMap[a].consumers-=1,e.zIndexMap[a].consumers<=0&&!RW(a)&&delete e.zIndexMap[a])},prepare:cn()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:a,elementId:r,isPanorama:s}=t.payload;e.zIndexMap[a]?s?e.zIndexMap[a].panoramaElementId=r:e.zIndexMap[a].elementId=r:e.zIndexMap[a]={consumers:0,elementId:s?void 0:r,panoramaElementId:s?r:void 0}},prepare:cn()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:a}=t.payload;e.zIndexMap[a]&&(t.payload.isPanorama?e.zIndexMap[a].panoramaElementId=void 0:e.zIndexMap[a].elementId=void 0)},prepare:cn()}}}),{registerZIndexPortal:_W,unregisterZIndexPortal:TW,registerZIndexPortalId:LW,unregisterZIndexPortalId:IW}=EP.actions,zW=EP.reducer;function un(e){var{zIndex:t,children:a}=e,r=SB(),s=r&&t!==void 0&&t!==0,l=vn(),c=Ft();x.useLayoutEffect(()=>s?(c(_W({zIndex:t})),()=>{c(TW({zIndex:t}))}):qu,[c,t,s]);var d=Oe(f=>AW(f,t,l));if(!s)return a;if(!d)return null;var m=document.getElementById(d);return m?rj.createPortal(a,m):null}function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Lb.apply(null,arguments)}function y4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Xf(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(a),!0).forEach(function(r){$W(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function $W(e,t,a){return(t=BW(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function BW(e){var t=FW(e,"string");return typeof t=="symbol"?t:t+""}function FW(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UW(e){var{cursor:t,cursorComp:a,cursorProps:r}=e;return x.isValidElement(t)?x.cloneElement(t,r):x.createElement(a,r)}function qW(e){var t,{coordinate:a,payload:r,index:s,offset:l,tooltipAxisBandSize:c,layout:d,cursor:m,tooltipEventType:f,chartName:h}=e,g=a,y=r,v=s;if(!m||!g||h!=="ScatterChart"&&f!=="axis")return null;var j,b,S;if(h==="ScatterChart")j=g,b=NF,S=Lt.cursorLine;else if(h==="BarChart")j=SF(d,g,l,c),b=ME,S=Lt.cursorRectangle;else if(d==="radial"&&uO(g)){var{cx:M,cy:N,radius:A,startAngle:O,endAngle:D}=EE(g);j={cx:M,cy:N,startAngle:O,endAngle:D,innerRadius:A,outerRadius:A},b=PE,S=Lt.cursorLine}else j={points:mU(d,g,l)},b=Yl,S=Lt.cursorLine;var k=typeof m=="object"&&"className"in m?m.className:void 0,_=Xf(Xf(Xf(Xf({stroke:"#ccc",pointerEvents:"none"},l),j),Xr(m)),{},{payload:y,payloadIndex:v,className:at("recharts-tooltip-cursor",k)});return x.createElement(un,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:S},x.createElement(UW,{cursor:m,cursorComp:b,cursorProps:_}))}function HW(e){var t=dW(),a=uE(),r=co(),s=CP();return t==null||a==null||r==null||s==null?null:x.createElement(qW,Lb({},e,{offset:a,layout:r,tooltipAxisBandSize:t,chartName:s}))}var kP=x.createContext(null),VW=()=>x.useContext(kP),sv={exports:{}},v4;function KW(){return v4||(v4=1,(function(e){var t=Object.prototype.hasOwnProperty,a="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(a=!1));function s(m,f,h){this.fn=m,this.context=f,this.once=h||!1}function l(m,f,h,g,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new s(h,g||m,y),j=a?a+f:f;return m._events[j]?m._events[j].fn?m._events[j]=[m._events[j],v]:m._events[j].push(v):(m._events[j]=v,m._eventsCount++),m}function c(m,f){--m._eventsCount===0?m._events=new r:delete m._events[f]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var f=[],h,g;if(this._eventsCount===0)return f;for(g in h=this._events)t.call(h,g)&&f.push(a?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},d.prototype.listeners=function(f){var h=a?a+f:f,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,v=g.length,j=new Array(v);y<v;y++)j[y]=g[y].fn;return j},d.prototype.listenerCount=function(f){var h=a?a+f:f,g=this._events[h];return g?g.fn?1:g.length:0},d.prototype.emit=function(f,h,g,y,v,j){var b=a?a+f:f;if(!this._events[b])return!1;var S=this._events[b],M=arguments.length,N,A;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),M){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,g),!0;case 4:return S.fn.call(S.context,h,g,y),!0;case 5:return S.fn.call(S.context,h,g,y,v),!0;case 6:return S.fn.call(S.context,h,g,y,v,j),!0}for(A=1,N=new Array(M-1);A<M;A++)N[A-1]=arguments[A];S.fn.apply(S.context,N)}else{var O=S.length,D;for(A=0;A<O;A++)switch(S[A].once&&this.removeListener(f,S[A].fn,void 0,!0),M){case 1:S[A].fn.call(S[A].context);break;case 2:S[A].fn.call(S[A].context,h);break;case 3:S[A].fn.call(S[A].context,h,g);break;case 4:S[A].fn.call(S[A].context,h,g,y);break;default:if(!N)for(D=1,N=new Array(M-1);D<M;D++)N[D-1]=arguments[D];S[A].fn.apply(S[A].context,N)}}return!0},d.prototype.on=function(f,h,g){return l(this,f,h,g,!1)},d.prototype.once=function(f,h,g){return l(this,f,h,g,!0)},d.prototype.removeListener=function(f,h,g,y){var v=a?a+f:f;if(!this._events[v])return this;if(!h)return c(this,v),this;var j=this._events[v];if(j.fn)j.fn===h&&(!y||j.once)&&(!g||j.context===g)&&c(this,v);else{for(var b=0,S=[],M=j.length;b<M;b++)(j[b].fn!==h||y&&!j[b].once||g&&j[b].context!==g)&&S.push(j[b]);S.length?this._events[v]=S.length===1?S[0]:S:c(this,v)}return this},d.prototype.removeAllListeners=function(f){var h;return f?(h=a?a+f:f,this._events[h]&&c(this,h)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=a,d.EventEmitter=d,e.exports=d})(sv)),sv.exports}var WW=KW();const YW=Rr(WW);var Pu=new YW,Ib="recharts.syncEvent.tooltip",b4="recharts.syncEvent.brush";function po(e,t){if(t){var a=Number.parseInt(t,10);if(!Dr(a))return e?.[a]}}var GW={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},PP=Fa({name:"options",initialState:GW,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ZW=PP.reducer,{createEventEmitter:XW}=PP.actions;function QW(e){return e.tooltip.syncInteraction}var JW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},RP=Fa({name:"chartData",initialState:JW,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:a,endIndex:r}=t.payload;a!=null&&(e.dataStartIndex=a),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:j4,setDataStartEndIndexes:eY,setComputedData:Kce}=RP.actions,tY=RP.reducer,nY=["x","y"];function w4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function uc(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(a),!0).forEach(function(r){aY(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function aY(e,t,a){return(t=rY(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function rY(e){var t=sY(e,"string");return typeof t=="symbol"?t:t+""}function sY(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iY(e,t){if(e==null)return{};var a,r,s=lY(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function lY(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function oY(){var e=Oe(v1),t=Oe(b1),a=Ft(),r=Oe(Ek),s=Oe(Mi),l=co(),c=Yu(),d=Oe(m=>m.rootProps.className);x.useEffect(()=>{if(e==null)return qu;var m=(f,h,g)=>{if(t!==g&&e===f){if(r==="index"){var y;if(c&&h!==null&&h!==void 0&&(y=h.payload)!==null&&y!==void 0&&y.coordinate&&h.payload.sourceViewBox){var v=h.payload.coordinate,{x:j,y:b}=v,S=iY(v,nY),{x:M,y:N,width:A,height:O}=h.payload.sourceViewBox,D=uc(uc({},S),{},{x:c.x+(A?(j-M)/A:0)*c.width,y:c.y+(O?(b-N)/O:0)*c.height});a(uc(uc({},h),{},{payload:uc(uc({},h.payload),{},{coordinate:D})}))}else a(h);return}if(s!=null){var k;if(typeof r=="function"){var _={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},E=r(s,_);k=s[E]}else r==="value"&&(k=s.find(V=>String(V.value)===h.payload.label));var{coordinate:P}=h.payload;if(k==null||h.payload.active===!1||P==null||c==null){a(_b({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:z,y:L}=P,I=Math.min(z,c.x+c.width),J=Math.min(L,c.y+c.height),T={x:l==="horizontal"?k.coordinate:I,y:l==="horizontal"?J:k.coordinate},Y=_b({active:h.payload.active,coordinate:T,dataKey:h.payload.dataKey,index:String(k.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});a(Y)}}};return Pu.on(Ib,m),()=>{Pu.off(Ib,m)}},[d,a,t,e,r,s,l,c])}function cY(){var e=Oe(v1),t=Oe(b1),a=Ft();x.useEffect(()=>{if(e==null)return qu;var r=(s,l,c)=>{t!==c&&e===s&&a(eY(l))};return Pu.on(b4,r),()=>{Pu.off(b4,r)}},[a,t,e])}function dY(){var e=Ft();x.useEffect(()=>{e(XW())},[e]),oY(),cY()}function uY(e,t,a,r,s,l){var c=Oe(v=>yW(v,e,t)),d=Oe(b1),m=Oe(v1),f=Oe(Ek),h=Oe(QW),g=h?.active,y=Yu();x.useEffect(()=>{if(!g&&m!=null&&d!=null){var v=_b({active:l,coordinate:a,dataKey:c,index:s,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});Pu.emit(Ib,m,v,d)}},[g,a,c,s,r,d,m,f,l,y])}function N4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function S4(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?N4(Object(a),!0).forEach(function(r){mY(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function mY(e,t,a){return(t=fY(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function fY(e){var t=hY(e,"string");return typeof t=="symbol"?t:t+""}function hY(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pY(e){return e.dataKey}function xY(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(nF,t)}var A4=[],gY={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ut(e){var t,a,r=Rt(e,gY),{active:s,allowEscapeViewBox:l,animationDuration:c,animationEasing:d,content:m,filterNull:f,isAnimationActive:h,offset:g,payloadUniqBy:y,position:v,reverseDirection:j,useTranslate3d:b,wrapperStyle:S,cursor:M,shared:N,trigger:A,defaultIndex:O,portal:D,axisId:k}=r,_=Ft(),E=typeof O=="number"?String(O):O;x.useEffect(()=>{_(fK({shared:N,trigger:A,axisId:k,active:s,defaultIndex:E}))},[_,N,A,k,s,E]);var P=Yu(),z=wE(),L=lK(N),{activeIndex:I,isActive:J}=(t=Oe(ee=>jW(ee,L,A,E)))!==null&&t!==void 0?t:{},T=Oe(ee=>bW(ee,L,A,E)),Y=Oe(ee=>OP(ee,L,A,E)),V=Oe(ee=>vW(ee,L,A,E)),B=T,U=VW(),F=(a=s??J)!==null&&a!==void 0?a:!1,[W,ne]=AO([B,F]),je=L==="axis"?Y:void 0;uY(L,A,V,je,I,F);var H=D??U;if(H==null||P==null||L==null)return null;var fe=B??A4;F||(fe=A4),f&&fe.length&&(fe=bO(fe.filter(ee=>ee.value!=null&&(ee.hide!==!0||r.includeHidden)),y,pY));var we=fe.length>0,se=x.createElement(cF,{allowEscapeViewBox:l,animationDuration:c,animationEasing:d,isAnimationActive:h,active:F,coordinate:V,hasPayload:we,offset:g,position:v,reverseDirection:j,useTranslate3d:b,viewBox:P,wrapperStyle:S,lastBoundingBox:W,innerRef:ne,hasPortalFromProps:!!D},xY(m,S4(S4({},r),{},{payload:fe,label:je,active:F,activeIndex:I,coordinate:V,accessibilityLayer:z})));return x.createElement(x.Fragment,null,rj.createPortal(se,H),F&&x.createElement(HW,{cursor:M,tooltipEventType:L,coordinate:V,payload:fe,index:I}))}var An=e=>null;An.displayName="Cell";function yY(e,t,a){return(t=vY(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function vY(e){var t=bY(e,"string");return typeof t=="symbol"?t:t+""}function bY(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jY{constructor(t){yY(this,"cache",new Map),this.maxSize=t}get(t){var a=this.cache.get(t);return a!==void 0&&(this.cache.delete(t),this.cache.set(t,a)),a}set(t,a){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,a)}clear(){this.cache.clear()}size(){return this.cache.size}}function C4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function wY(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?C4(Object(a),!0).forEach(function(r){NY(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function NY(e,t,a){return(t=SY(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function SY(e){var t=AY(e,"string");return typeof t=="symbol"?t:t+""}function AY(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CY={cacheSize:2e3,enableCache:!0},_P=wY({},CY),M4=new jY(_P.cacheSize),MY={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},D4="recharts_measurement_span";function DY(e,t){var a=t.fontSize||"",r=t.fontFamily||"",s=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(a,"|").concat(r,"|").concat(s,"|").concat(l,"|").concat(c,"|").concat(d)}var O4=(e,t)=>{try{var a=document.getElementById(D4);a||(a=document.createElement("span"),a.setAttribute("id",D4),a.setAttribute("aria-hidden","true"),document.body.appendChild(a)),Object.assign(a.style,MY,t),a.textContent="".concat(e);var r=a.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},du=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ic.isSsr)return{width:0,height:0};if(!_P.enableCache)return O4(t,a);var r=DY(t,a),s=M4.get(r);if(s)return s;var l=O4(t,a);return M4.set(r,l),l},E4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,k4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OY=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,EY=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,TP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kY=Object.keys(TP),gc="NaN";function PY(e,t){return e*TP[t]}class Oa{static parse(t){var a,[,r,s]=(a=EY.exec(t))!==null&&a!==void 0?a:[];return new Oa(parseFloat(r),s??"")}constructor(t,a){this.num=t,this.unit=a,this.num=t,this.unit=a,Dr(t)&&(this.unit=""),a!==""&&!OY.test(a)&&(this.num=NaN,this.unit=""),kY.includes(a)&&(this.num=PY(t,a),this.unit="px")}add(t){return this.unit!==t.unit?new Oa(NaN,""):new Oa(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Oa(NaN,""):new Oa(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Oa(NaN,""):new Oa(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Oa(NaN,""):new Oa(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Dr(this.num)}}function LP(e){if(e.includes(gc))return gc;for(var t=e;t.includes("*")||t.includes("/");){var a,[,r,s,l]=(a=E4.exec(t))!==null&&a!==void 0?a:[],c=Oa.parse(r??""),d=Oa.parse(l??""),m=s==="*"?c.multiply(d):c.divide(d);if(m.isNaN())return gc;t=t.replace(E4,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,g,y]=(f=k4.exec(t))!==null&&f!==void 0?f:[],v=Oa.parse(h??""),j=Oa.parse(y??""),b=g==="+"?v.add(j):v.subtract(j);if(b.isNaN())return gc;t=t.replace(k4,b.toString())}return t}var P4=/\(([^()]*)\)/;function RY(e){for(var t=e,a;(a=P4.exec(t))!=null;){var[,r]=a;t=t.replace(P4,LP(r))}return t}function _Y(e){var t=e.replace(/\s+/g,"");return t=RY(t),t=LP(t),t}function TY(e){try{return _Y(e)}catch{return gc}}function iv(e){var t=TY(e.slice(5,-1));return t===gc?"":t}var LY=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],IY=["dx","dy","angle","className","breakAll"];function zb(){return zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},zb.apply(null,arguments)}function R4(e,t){if(e==null)return{};var a,r,s=zY(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function zY(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var IP=/[ \f\n\r\t\v\u2028\u2029]+/,zP=e=>{var{children:t,breakAll:a,style:r}=e;try{var s=[];At(t)||(a?s=t.toString().split(""):s=t.toString().split(IP));var l=s.map(d=>({word:d,width:du(d,r).width})),c=a?0:du("",r).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}};function $Y(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var $P=(e,t,a,r)=>e.reduce((s,l)=>{var{word:c,width:d}=l,m=s[s.length-1];if(m&&d!=null&&(t==null||r||m.width+d+a<Number(t)))m.words.push(c),m.width+=d+a;else{var f={words:[c],width:d};s.push(f)}return s},[]),BP=e=>e.reduce((t,a)=>t.width>a.width?t:a),BY="",_4=(e,t,a,r,s,l,c,d)=>{var m=e.slice(0,t),f=zP({breakAll:a,style:r,children:m+BY});if(!f)return[!1,[]];var h=$P(f.wordsWithComputedWidth,l,c,d),g=h.length>s||BP(h).width>Number(l);return[g,h]},FY=(e,t,a,r,s)=>{var{maxLines:l,children:c,style:d,breakAll:m}=e,f=Pe(l),h=String(c),g=$P(t,r,a,s);if(!f||s)return g;var y=g.length>l||BP(g).width>Number(r);if(!y)return g;for(var v=0,j=h.length-1,b=0,S;v<=j&&b<=h.length-1;){var M=Math.floor((v+j)/2),N=M-1,[A,O]=_4(h,N,m,d,l,r,a,s),[D]=_4(h,M,m,d,l,r,a,s);if(!A&&!D&&(v=M+1),A&&D&&(j=M-1),!A&&D){S=O;break}b++}return S||g},T4=e=>{var t=At(e)?[]:e.toString().split(IP);return[{words:t,width:void 0}]},UY=e=>{var{width:t,scaleToFit:a,children:r,style:s,breakAll:l,maxLines:c}=e;if((t||a)&&!Ic.isSsr){var d,m,f=zP({breakAll:l,children:r,style:s});if(f){var{wordsWithComputedWidth:h,spaceWidth:g}=f;d=h,m=g}else return T4(r);return FY({breakAll:l,children:r,maxLines:c,style:s},d,m,t,!!a)}return T4(r)},FP="#808080",qY={angle:0,breakAll:!1,capHeight:"0.71em",fill:FP,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Qc=x.forwardRef((e,t)=>{var a=Rt(e,qY),{x:r,y:s,lineHeight:l,capHeight:c,fill:d,scaleToFit:m,textAnchor:f,verticalAnchor:h}=a,g=R4(a,LY),y=x.useMemo(()=>UY({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:m,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,m,g.style,g.width]),{dx:v,dy:j,angle:b,className:S,breakAll:M}=g,N=R4(g,IY);if(!ys(r)||!ys(s)||y.length===0)return null;var A=Number(r)+(Pe(v)?v:0),O=Number(s)+(Pe(j)?j:0);if(!sn(A)||!sn(O))return null;var D;switch(h){case"start":D=iv("calc(".concat(c,")"));break;case"middle":D=iv("calc(".concat((y.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:D=iv("calc(".concat(y.length-1," * -").concat(l,")"));break}var k=[];if(m){var _=y[0].width,{width:E}=g;k.push("scale(".concat(Pe(E)&&Pe(_)?E/_:1,")"))}return b&&k.push("rotate(".concat(b,", ").concat(A,", ").concat(O,")")),k.length&&(N.transform=k.join(" ")),x.createElement("text",zb({},Sn(N),{ref:t,x:A,y:O,className:at("recharts-text",S),textAnchor:f,fill:d.includes("url")?FP:d}),y.map((P,z)=>{var L=P.words.join(M?"":" ");return x.createElement("tspan",{x:A,dy:z===0?D:l,key:"".concat(L,"-").concat(z)},L)}))});Qc.displayName="Text";var HY=["labelRef"];function VY(e,t){if(e==null)return{};var a,r,s=KY(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function KY(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function L4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function wn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?L4(Object(a),!0).forEach(function(r){WY(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function WY(e,t,a){return(t=YY(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function YY(e){var t=GY(e,"string");return typeof t=="symbol"?t:t+""}function GY(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Gs.apply(null,arguments)}var UP=x.createContext(null),ZY=e=>{var{x:t,y:a,upperWidth:r,lowerWidth:s,width:l,height:c,children:d}=e,m=x.useMemo(()=>({x:t,y:a,upperWidth:r,lowerWidth:s,width:l,height:c}),[t,a,r,s,l,c]);return x.createElement(UP.Provider,{value:m},d)},qP=()=>{var e=x.useContext(UP),t=Yu();return e||dE(t)},HP=x.createContext(null),XY=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:s,startAngle:l,endAngle:c,clockWise:d,children:m}=e,f=x.useMemo(()=>({cx:t,cy:a,innerRadius:r,outerRadius:s,startAngle:l,endAngle:c,clockWise:d}),[t,a,r,s,l,c,d]);return x.createElement(HP.Provider,{value:f},m)},VP=()=>{var e=x.useContext(HP),t=Oe(ho);return e||t},QY=e=>{var{value:t,formatter:a}=e,r=At(e.children)?t:e.children;return typeof a=="function"?a(r):r},ew=e=>e!=null&&typeof e=="function",JY=(e,t)=>{var a=_n(t-e),r=Math.min(Math.abs(t-e),360);return a*r},eG=(e,t,a,r,s)=>{var{offset:l,className:c}=e,{cx:d,cy:m,innerRadius:f,outerRadius:h,startAngle:g,endAngle:y,clockWise:v}=s,j=(f+h)/2,b=JY(g,y),S=b>=0?1:-1,M,N;switch(t){case"insideStart":M=g+S*l,N=v;break;case"insideEnd":M=y-S*l,N=!v;break;case"end":M=y+S*l,N=v;break;default:throw new Error("Unsupported position ".concat(t))}N=b<=0?N:!N;var A=Pt(d,m,j,M),O=Pt(d,m,j,M+(N?1:-1)*359),D="M".concat(A.x,",").concat(A.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(N?0:1,`,
    `).concat(O.x,",").concat(O.y),k=At(e.id)?yu("recharts-radial-line-"):e.id;return x.createElement("text",Gs({},r,{dominantBaseline:"central",className:at("recharts-radial-bar-label",c)}),x.createElement("defs",null,x.createElement("path",{id:k,d:D})),x.createElement("textPath",{xlinkHref:"#".concat(k)},a))},tG=(e,t,a)=>{var{cx:r,cy:s,innerRadius:l,outerRadius:c,startAngle:d,endAngle:m}=e,f=(d+m)/2;if(a==="outside"){var{x:h,y:g}=Pt(r,s,c+t,f);return{x:h,y:g,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,{x:v,y:j}=Pt(r,s,y,f);return{x:v,y:j,textAnchor:"middle",verticalAnchor:"middle"}},$b=e=>"cx"in e&&Pe(e.cx),nG=(e,t)=>{var{parentViewBox:a,offset:r,position:s}=e,l;a!=null&&!$b(a)&&(l=a);var{x:c,y:d,upperWidth:m,lowerWidth:f,height:h}=t,g=c,y=c+(m-f)/2,v=(g+y)/2,j=(m+f)/2,b=g+m/2,S=h>=0?1:-1,M=S*r,N=S>0?"end":"start",A=S>0?"start":"end",O=m>=0?1:-1,D=O*r,k=O>0?"end":"start",_=O>0?"start":"end";if(s==="top"){var E={x:g+m/2,y:d-M,textAnchor:"middle",verticalAnchor:N};return wn(wn({},E),l?{height:Math.max(d-l.y,0),width:m}:{})}if(s==="bottom"){var P={x:y+f/2,y:d+h+M,textAnchor:"middle",verticalAnchor:A};return wn(wn({},P),l?{height:Math.max(l.y+l.height-(d+h),0),width:f}:{})}if(s==="left"){var z={x:v-D,y:d+h/2,textAnchor:k,verticalAnchor:"middle"};return wn(wn({},z),l?{width:Math.max(z.x-l.x,0),height:h}:{})}if(s==="right"){var L={x:v+j+D,y:d+h/2,textAnchor:_,verticalAnchor:"middle"};return wn(wn({},L),l?{width:Math.max(l.x+l.width-L.x,0),height:h}:{})}var I=l?{width:j,height:h}:{};return s==="insideLeft"?wn({x:v+D,y:d+h/2,textAnchor:_,verticalAnchor:"middle"},I):s==="insideRight"?wn({x:v+j-D,y:d+h/2,textAnchor:k,verticalAnchor:"middle"},I):s==="insideTop"?wn({x:g+m/2,y:d+M,textAnchor:"middle",verticalAnchor:A},I):s==="insideBottom"?wn({x:y+f/2,y:d+h-M,textAnchor:"middle",verticalAnchor:N},I):s==="insideTopLeft"?wn({x:g+D,y:d+M,textAnchor:_,verticalAnchor:A},I):s==="insideTopRight"?wn({x:g+m-D,y:d+M,textAnchor:k,verticalAnchor:A},I):s==="insideBottomLeft"?wn({x:y+D,y:d+h-M,textAnchor:_,verticalAnchor:N},I):s==="insideBottomRight"?wn({x:y+f-D,y:d+h-M,textAnchor:k,verticalAnchor:N},I):s&&typeof s=="object"&&(Pe(s.x)||di(s.x))&&(Pe(s.y)||di(s.y))?wn({x:c+xa(s.x,j),y:d+xa(s.y,h),textAnchor:"end",verticalAnchor:"end"},I):wn({x:b,y:d+h/2,textAnchor:"middle",verticalAnchor:"middle"},I)},aG={angle:0,offset:5,zIndex:Lt.label,position:"middle",textBreakAll:!1};function rl(e){var t=Rt(e,aG),{viewBox:a,position:r,value:s,children:l,content:c,className:d="",textBreakAll:m,labelRef:f}=t,h=VP(),g=qP(),y=r==="center"?g:h??g,v,j,b;if(a==null?v=y:$b(a)?v=a:v=dE(a),!v||At(s)&&At(l)&&!x.isValidElement(c)&&typeof c!="function")return null;var S=wn(wn({},t),{},{viewBox:v});if(x.isValidElement(c)){var{labelRef:M}=S,N=VY(S,HY);return x.cloneElement(c,N)}if(typeof c=="function"){if(j=x.createElement(c,S),x.isValidElement(j))return j}else j=QY(t);var A=Sn(t);if($b(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return eG(t,r,j,A,v);b=tG(v,t.offset,t.position)}else b=nG(t,v);return x.createElement(un,{zIndex:t.zIndex},x.createElement(Qc,Gs({ref:f,className:at("recharts-label",d)},A,b,{textAnchor:$Y(A.textAnchor)?A.textAnchor:b.textAnchor,breakAll:m}),j))}rl.displayName="Label";var KP=(e,t,a)=>{if(!e)return null;var r={viewBox:t,labelRef:a};return e===!0?x.createElement(rl,Gs({key:"label-implicit"},r)):ys(e)?x.createElement(rl,Gs({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===rl?x.cloneElement(e,wn({key:"label-implicit"},r)):x.createElement(rl,Gs({key:"label-implicit",content:e},r)):ew(e)?x.createElement(rl,Gs({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(rl,Gs({},e,{key:"label-implicit"},r)):null};function rG(e){var{label:t,labelRef:a}=e,r=qP();return KP(t,r,a)||null}function sG(e){var{label:t}=e,a=VP();return KP(t,a)||null}var lv={},ov={},I4;function iG(){return I4||(I4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a[a.length-1]}e.last=t})(ov)),ov}var cv={},z4;function lG(){return z4||(z4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Array.isArray(a)?a:Array.from(a)}e.toArray=t})(cv)),cv}var $4;function oG(){return $4||($4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iG(),a=lG(),r=Cj();function s(l){if(r.isArrayLike(l))return t.last(a.toArray(l))}e.last=s})(lv)),lv}var dv,B4;function cG(){return B4||(B4=1,dv=oG().last),dv}var dG=cG();const WP=Rr(dG);var uG=["valueAccessor"],mG=["dataKey","clockWise","id","textBreakAll","zIndex"];function ap(){return ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ap.apply(null,arguments)}function F4(e,t){if(e==null)return{};var a,r,s=fG(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function fG(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var hG=e=>Array.isArray(e.value)?WP(e.value):e.value,YP=x.createContext(void 0),dm=YP.Provider,GP=x.createContext(void 0),ZP=GP.Provider;function pG(){return x.useContext(YP)}function xG(){return x.useContext(GP)}function fh(e){var{valueAccessor:t=hG}=e,a=F4(e,uG),{dataKey:r,clockWise:s,id:l,textBreakAll:c,zIndex:d}=a,m=F4(a,mG),f=pG(),h=xG(),g=f||h;return!g||!g.length?null:x.createElement(un,{zIndex:d??Lt.label},x.createElement(ft,{className:"recharts-label-list"},g.map((y,v)=>{var j,b=At(r)?t(y,v):bt(y&&y.payload,r),S=At(l)?{}:{id:"".concat(l,"-").concat(v)};return x.createElement(rl,ap({key:"label-".concat(v)},Sn(y),m,S,{fill:(j=a.fill)!==null&&j!==void 0?j:y.fill,parentViewBox:y.parentViewBox,value:b,textBreakAll:c,viewBox:y.viewBox,index:v,zIndex:0}))})))}fh.displayName="LabelList";function xo(e){var{label:t}=e;return t?t===!0?x.createElement(fh,{key:"labelList-implicit"}):x.isValidElement(t)||ew(t)?x.createElement(fh,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(fh,ap({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var gG=["points","className","baseLinePoints","connectNulls"];function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},yc.apply(null,arguments)}function yG(e,t){if(e==null)return{};var a,r,s=vG(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function vG(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var U4=e=>e&&e.x===+e.x&&e.y===+e.y,bG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=[[]];return t.forEach(r=>{U4(r)?a[a.length-1].push(r):a[a.length-1].length>0&&a.push([])}),U4(t[0])&&a[a.length-1].push(t[0]),a[a.length-1].length<=0&&(a=a.slice(0,-1)),a},uu=(e,t)=>{var a=bG(e);t&&(a=[a.reduce((s,l)=>[...s,...l],[])]);var r=a.map(s=>s.reduce((l,c,d)=>"".concat(l).concat(d===0?"M":"L").concat(c.x,",").concat(c.y),"")).join("");return a.length===1?"".concat(r,"Z"):r},jG=(e,t,a)=>{var r=uu(e,a);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(uu(Array.from(t).reverse(),a).slice(1))},XP=e=>{var{points:t,className:a,baseLinePoints:r,connectNulls:s}=e,l=yG(e,gG);if(!t||!t.length)return null;var c=at("recharts-polygon",a);if(r&&r.length){var d=l.stroke&&l.stroke!=="none",m=jG(t,r,s);return x.createElement("g",{className:c},x.createElement("path",yc({},Sn(l),{fill:m.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:m})),d?x.createElement("path",yc({},Sn(l),{fill:"none",d:uu(t,s)})):null,d?x.createElement("path",yc({},Sn(l),{fill:"none",d:uu(r,s)})):null)}var f=uu(t,s);return x.createElement("path",yc({},Sn(l),{fill:f.slice(-1)==="Z"?l.fill:"none",className:c,d:f}))};function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Bb.apply(null,arguments)}var tw=e=>{var{cx:t,cy:a,r,className:s}=e,l=at("recharts-dot",s);return Pe(t)&&Pe(a)&&Pe(r)?x.createElement("circle",Bb({},Bt(e),Aj(e),{className:l,cx:t,cy:a,r})):null},um=e=>e.graphicalItems.polarItems,wG=te([Yt,em],S1),mm=te([um,hn,wG],A1),NG=te([mm],C1),cx=te([NG,$c],M1),QP=te([cx,hn,mm],O1);te([cx,hn,mm],(e,t,a)=>a.length>0?e.flatMap(r=>a.flatMap(s=>{var l,c=bt(r,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:bt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var q4=()=>{},SG=te([cx,hn,mm,sx,Yt],_1),AG=te([hn,P1,R1,q4,SG,q4,et,Yt],T1),JP=te([hn,et,cx,QP,qc,Yt,AG],L1),eR=te([JP,hn,pl],z1),CG=te([hn,JP,eR,Yt],B1),nw=(e,t,a)=>{switch(t){case"angleAxis":return fo(e,a);case"radiusAxis":return Hc(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},aw=(e,t,a)=>{switch(t){case"angleAxis":return cV(e,a);case"radiusAxis":return dV(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},xl=te([nw,pl,CG,aw],ix),tR=te([et,QP,Kc,Yt],F1),go=te([et,nw,pl,xl,eR,aw,sm,tR,Yt],nP),MG=te([go],e=>{if(e){var t=new Map;return e.forEach(a=>{var r=(a.coordinate+360)%360;t.has(r)||t.set(r,a)}),Array.from(t.values())}}),DG=te([et,nw,xl,aw,sm,tR,Yt],rP),OG=(e,t)=>go(e,"angleAxis",t,!1),EG=te([OG],e=>{if(e)return e.map(t=>t.coordinate)}),kG=(e,t)=>go(e,"radiusAxis",t,!1),PG=te([kG],e=>{if(e)return e.map(t=>t.coordinate)}),RG=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius"];function _G(e,t){if(e==null)return{};var a,r,s=TG(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function TG(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Vr(){return Vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Vr.apply(null,arguments)}function H4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Ru(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?H4(Object(a),!0).forEach(function(r){LG(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function LG(e,t,a){return(t=IG(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function IG(e){var t=zG(e,"string");return typeof t=="symbol"?t:t+""}function zG(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $G=(e,t,a,r)=>{var s="";return r.forEach((l,c)=>{var d=Pt(t,a,e,l);c?s+="L ".concat(d.x,",").concat(d.y):s+="M ".concat(d.x,",").concat(d.y)}),s+="Z",s},BG=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:s,polarAngles:l,radialLines:c}=e;if(!l||!l.length||!c)return null;var d=Ru({stroke:"#ccc"},Bt(e));return x.createElement("g",{className:"recharts-polar-grid-angle"},l.map(m=>{var f=Pt(t,a,r,m),h=Pt(t,a,s,m);return x.createElement("line",Vr({key:"line-".concat(m)},d,{x1:f.x,y1:f.y,x2:h.x,y2:h.y}))}))},V4=e=>{var{cx:t,cy:a,radius:r}=e,s=Ru({stroke:"#ccc",fill:"none"},Bt(e));return x.createElement("circle",Vr({},s,{className:at("recharts-polar-grid-concentric-circle",e.className),cx:t,cy:a,r}))},K4=e=>{var{radius:t}=e,a=Ru({stroke:"#ccc",fill:"none"},Bt(e));return x.createElement("path",Vr({},a,{className:at("recharts-polar-grid-concentric-polygon",e.className),d:$G(t,e.cx,e.cy,e.polarAngles)}))},FG=e=>{var{polarRadius:t,gridType:a}=e;if(!t||!t.length)return null;var r=Math.max(...t),s=e.fill&&e.fill!=="none";return x.createElement("g",{className:"recharts-polar-grid-concentric"},s&&a==="circle"&&x.createElement(V4,Vr({},e,{radius:r})),s&&a!=="circle"&&x.createElement(K4,Vr({},e,{radius:r})),t.map((l,c)=>{var d=c;return a==="circle"?x.createElement(V4,Vr({key:d},e,{fill:"none",radius:l})):x.createElement(K4,Vr({key:d},e,{fill:"none",radius:l}))}))},nR=e=>{var t,a,r,s,l,c,d,m,f,{gridType:h="polygon",radialLines:g=!0,angleAxisId:y=0,radiusAxisId:v=0,cx:j,cy:b,innerRadius:S,outerRadius:M,polarAngles:N,polarRadius:A}=e,O=_G(e,RG),D=Oe(ho),k=Oe(I=>EG(I,y)),_=Oe(I=>PG(I,v)),E=Array.isArray(N)?N:k,P=Array.isArray(A)?A:_;if(E==null||P==null)return null;var z=Ru(Ru({cx:(t=(a=D?.cx)!==null&&a!==void 0?a:j)!==null&&t!==void 0?t:0,cy:(r=(s=D?.cy)!==null&&s!==void 0?s:b)!==null&&r!==void 0?r:0,innerRadius:(l=(c=D?.innerRadius)!==null&&c!==void 0?c:S)!==null&&l!==void 0?l:0,outerRadius:(d=(m=D?.outerRadius)!==null&&m!==void 0?m:M)!==null&&d!==void 0?d:0,polarAngles:E,polarRadius:P},O),{},{zIndex:(f=O.zIndex)!==null&&f!==void 0?f:Lt.grid}),{outerRadius:L}=z;return L<=0?null:x.createElement(un,{zIndex:z.zIndex},x.createElement("g",{className:"recharts-polar-grid"},x.createElement(FG,Vr({gridType:h,radialLines:g},z,{polarAngles:E,polarRadius:P})),x.createElement(BG,Vr({gridType:h,radialLines:g},z,{polarAngles:E,polarRadius:P}))))};nR.displayName="PolarGrid";var uv={},mv={},W4;function UG(){return W4||(W4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){if(a.length===0)return;let s=a[0],l=r(s);for(let c=1;c<a.length;c++){const d=a[c],m=r(d);m>l&&(l=m,s=d)}return s}e.maxBy=t})(mv)),mv}var Y4;function qG(){return Y4||(Y4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UG(),a=Mp(),r=Mj();function s(l,c){if(l!=null)return t.maxBy(Array.from(l),r.iteratee(c??a.identity))}e.maxBy=s})(uv)),uv}var fv,G4;function HG(){return G4||(G4=1,fv=qG().maxBy),fv}var VG=HG();const KG=Rr(VG);var hv={},pv={},Z4;function WG(){return Z4||(Z4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){if(a.length===0)return;let s=a[0],l=r(s);for(let c=1;c<a.length;c++){const d=a[c],m=r(d);m<l&&(l=m,s=d)}return s}e.minBy=t})(pv)),pv}var X4;function YG(){return X4||(X4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WG(),a=Mp(),r=Mj();function s(l,c){if(l!=null)return t.minBy(Array.from(l),r.iteratee(c??a.identity))}e.minBy=s})(hv)),hv}var xv,Q4;function GG(){return Q4||(Q4=1,xv=YG().minBy),xv}var ZG=GG();const XG=Rr(ZG);var QG={radiusAxis:{},angleAxis:{}},aR=Fa({name:"polarAxis",initialState:QG,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:JG,removeRadiusAxis:eZ,addAngleAxis:tZ,removeAngleAxis:nZ}=aR.actions,aZ=aR.reducer,rZ=["cx","cy","angle","axisLine"],sZ=["angle","tickFormatter","stroke","tick"];function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},_u.apply(null,arguments)}function J4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Js(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(a),!0).forEach(function(r){iZ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function iZ(e,t,a){return(t=lZ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function lZ(e){var t=oZ(e,"string");return typeof t=="symbol"?t:t+""}function oZ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rR(e,t){if(e==null)return{};var a,r,s=cZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function cZ(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var dZ="radiusAxis";function uZ(e){var t=Ft();return x.useEffect(()=>(t(JG(e)),()=>{t(eZ(e))})),null}var mZ=(e,t,a,r)=>{var{coordinate:s}=e;return Pt(a,r,s,t)},fZ=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},hZ=(e,t,a,r)=>{var s=KG(r,c=>c.coordinate||0),l=XG(r,c=>c.coordinate||0);return{cx:t,cy:a,startAngle:e,endAngle:e,innerRadius:l?.coordinate||0,outerRadius:s?.coordinate||0,clockWise:!1}},pZ=(e,t)=>{var{cx:a,cy:r,angle:s,axisLine:l}=e,c=rR(e,rZ),d=t.reduce((g,y)=>[Math.min(g[0],y.coordinate),Math.max(g[1],y.coordinate)],[1/0,-1/0]),m=Pt(a,r,d[0],s),f=Pt(a,r,d[1],s),h=Js(Js(Js({},Bt(c)),{},{fill:"none"},Bt(l)),{},{x1:m.x,y1:m.y,x2:f.x,y2:f.y});return x.createElement("line",_u({className:"recharts-polar-radius-axis-line"},h))},xZ=(e,t,a)=>{var r;return x.isValidElement(e)?r=x.cloneElement(e,t):typeof e=="function"?r=e(t):r=x.createElement(Qc,_u({},t,{className:"recharts-polar-radius-axis-tick-value"}),a),r},gZ=(e,t)=>{var{angle:a,tickFormatter:r,stroke:s,tick:l}=e,c=rR(e,sZ),d=fZ(e.orientation),m=Bt(c),f=Xr(l),h=t.map((g,y)=>{var v=mZ(g,e.angle,e.cx,e.cy),j=Js(Js(Js(Js({textAnchor:d,transform:"rotate(".concat(90-a,", ").concat(v.x,", ").concat(v.y,")")},m),{},{stroke:"none",fill:s},f),{},{index:y},v),{},{payload:g});return x.createElement(ft,_u({className:at("recharts-polar-radius-axis-tick",OE(l)),key:"tick-".concat(g.coordinate)},Ss(e,g,y)),xZ(l,j,r?r(g.value,y):g.value))});return x.createElement(ft,{className:"recharts-polar-radius-axis-ticks"},h)},yZ=e=>{var{radiusAxisId:t}=e,a=Oe(ho),r=Oe(m=>xl(m,"radiusAxis",t)),s=Oe(m=>go(m,"radiusAxis",t,!1));if(a==null||!s||!s.length||r==null)return null;var l=Js(Js({},e),{},{scale:r},a),{tick:c,axisLine:d}=l;return x.createElement(un,{zIndex:l.zIndex},x.createElement(ft,{className:at("recharts-polar-radius-axis",dZ,l.className)},d&&pZ(l,s),c&&gZ(l,s),x.createElement(XY,hZ(l.angle,l.cx,l.cy,s),x.createElement(sG,{label:l.label}),l.children)))};function sR(e){var t=Rt(e,ka);return x.createElement(x.Fragment,null,x.createElement(uZ,{domain:t.domain,id:t.radiusAxisId,scale:t.scale,type:t.type,dataKey:t.dataKey,unit:void 0,name:t.name,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDataOverflow:t.allowDataOverflow,reversed:t.reversed,includeHidden:t.includeHidden,allowDecimals:t.allowDecimals,ticks:t.ticks,tickCount:t.tickCount,tick:t.tick}),x.createElement(yZ,t))}sR.displayName="PolarRadiusAxis";var vZ=["children"];function ao(){return ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ao.apply(null,arguments)}function e3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ls(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(a),!0).forEach(function(r){bZ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):e3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function bZ(e,t,a){return(t=jZ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function jZ(e){var t=wZ(e,"string");return typeof t=="symbol"?t:t+""}function wZ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NZ(e,t){if(e==null)return{};var a,r,s=SZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function SZ(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var t3=1e-5,AZ=Math.cos(qh(45)),CZ="angleAxis";function MZ(e){var t=Ft(),a=x.useMemo(()=>{var{children:l}=e,c=NZ(e,vZ);return c},[e]),r=Oe(l=>fo(l,a.id)),s=a===r;return x.useEffect(()=>(t(tZ(a)),()=>{t(nZ(a))}),[t,a]),s?e.children:null}var DZ=(e,t)=>{var{cx:a,cy:r,radius:s,orientation:l,tickSize:c}=t,d=c||8,m=Pt(a,r,s,e.coordinate),f=Pt(a,r,s+(l==="inner"?-1:1)*d,e.coordinate);return{x1:m.x,y1:m.y,x2:f.x,y2:f.y}},OZ=(e,t)=>{var a=Math.cos(qh(-e.coordinate));return a>t3?t==="outer"?"start":"end":a<-t3?t==="outer"?"end":"start":"middle"},EZ=e=>{var t=Math.cos(qh(-e.coordinate)),a=Math.sin(qh(-e.coordinate));return Math.abs(t)<=AZ?a>0?"start":"end":"middle"},kZ=e=>{var{cx:t,cy:a,radius:r,axisLineType:s,axisLine:l,ticks:c}=e;if(!l)return null;var d=ls(ls({},Bt(e)),{},{fill:"none"},Bt(l));if(s==="circle")return x.createElement(tw,ao({className:"recharts-polar-angle-axis-line"},d,{cx:t,cy:a,r}));var m=c.map(f=>Pt(t,a,r,f.coordinate));return x.createElement(XP,ao({className:"recharts-polar-angle-axis-line"},d,{points:m}))},PZ=e=>{var{tick:t,tickProps:a,value:r}=e;return t?x.isValidElement(t)?x.cloneElement(t,a):typeof t=="function"?t(a):x.createElement(Qc,ao({},a,{className:"recharts-polar-angle-axis-tick-value"}),r):null},RZ=e=>{var{tick:t,tickLine:a,tickFormatter:r,stroke:s,ticks:l}=e,c=Bt(e),d=Xr(t),m=ls(ls({},c),{},{fill:"none"},Bt(a)),f=l.map((h,g)=>{var y=DZ(h,e),v=OZ(h,e.orientation),j=EZ(h),b=ls(ls(ls({},c),{},{textAnchor:v,verticalAnchor:j,stroke:"none",fill:s},d),{},{index:g,payload:h,x:y.x2,y:y.y2});return x.createElement(ft,ao({className:at("recharts-polar-angle-axis-tick",OE(t)),key:"tick-".concat(h.coordinate)},Ss(e,h,g)),a&&x.createElement("line",ao({className:"recharts-polar-angle-axis-tick-line"},m,y)),x.createElement(PZ,{tick:t,tickProps:b,value:r?r(h.value,g):h.value}))});return x.createElement(ft,{className:"recharts-polar-angle-axis-ticks"},f)},_Z=e=>{var{angleAxisId:t}=e,a=Oe(ho),r=Oe(d=>xl(d,"angleAxis",t)),s=vn(),l=Oe(d=>MG(d,"angleAxis",t,s));if(a==null||!l||!l.length||r==null)return null;var c=ls(ls(ls({},e),{},{scale:r},a),{},{radius:a.outerRadius,ticks:l});return x.createElement(un,{zIndex:c.zIndex},x.createElement(ft,{className:at("recharts-polar-angle-axis",CZ,c.className)},x.createElement(kZ,c),x.createElement(RZ,c)))};function iR(e){var t=Rt(e,is);return x.createElement(MZ,{id:t.angleAxisId,scale:t.scale,type:t.type,dataKey:t.dataKey,unit:void 0,name:t.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:t.reversed,includeHidden:!1,allowDecimals:t.allowDecimals,tickCount:t.tickCount,ticks:t.ticks,tick:t.tick,domain:t.domain},x.createElement(_Z,t))}iR.displayName="PolarAngleAxis";function n3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function a3(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?n3(Object(a),!0).forEach(function(r){TZ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function TZ(e,t,a){return(t=LZ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function LZ(e){var t=IZ(e,"string");return typeof t=="symbol"?t:t+""}function IZ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zZ=(e,t)=>t,rw=te([um,zZ],(e,t)=>e.filter(a=>a.type==="pie").find(a=>a.id===t)),$Z=[],sw=(e,t,a)=>a?.length===0?$Z:a,lR=te([$c,rw,sw],(e,t,a)=>{var{chartData:r}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=r,(!s||!s.length)&&a!=null&&(s=a.map(l=>a3(a3({},t.presentationProps),l.props))),s!=null)return s}}),BZ=te([lR,rw,sw],(e,t,a)=>{if(!(e==null||t==null))return e.map((r,s)=>{var l,c=bt(r,t.nameKey,t.name),d;return a!=null&&(l=a[s])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?d=a[s].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=t.fill,{value:lr(c,t.dataKey),color:d,payload:r,type:t.legendType}})}),FZ=te([lR,rw,sw,Fn],(e,t,a,r)=>{if(!(t==null||e==null))return BX({offset:r,pieSettings:t,displayedData:e,cells:a})}),gv={exports:{}},_t={};var r3;function UZ(){if(r3)return _t;r3=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,a=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,l=e?Symbol.for("react.profiler"):60114,c=e?Symbol.for("react.provider"):60109,d=e?Symbol.for("react.context"):60110,m=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,g=e?Symbol.for("react.suspense"):60113,y=e?Symbol.for("react.suspense_list"):60120,v=e?Symbol.for("react.memo"):60115,j=e?Symbol.for("react.lazy"):60116,b=e?Symbol.for("react.block"):60121,S=e?Symbol.for("react.fundamental"):60117,M=e?Symbol.for("react.responder"):60118,N=e?Symbol.for("react.scope"):60119;function A(D){if(typeof D=="object"&&D!==null){var k=D.$$typeof;switch(k){case t:switch(D=D.type,D){case m:case f:case r:case l:case s:case g:return D;default:switch(D=D&&D.$$typeof,D){case d:case h:case j:case v:case c:return D;default:return k}}case a:return k}}}function O(D){return A(D)===f}return _t.AsyncMode=m,_t.ConcurrentMode=f,_t.ContextConsumer=d,_t.ContextProvider=c,_t.Element=t,_t.ForwardRef=h,_t.Fragment=r,_t.Lazy=j,_t.Memo=v,_t.Portal=a,_t.Profiler=l,_t.StrictMode=s,_t.Suspense=g,_t.isAsyncMode=function(D){return O(D)||A(D)===m},_t.isConcurrentMode=O,_t.isContextConsumer=function(D){return A(D)===d},_t.isContextProvider=function(D){return A(D)===c},_t.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===t},_t.isForwardRef=function(D){return A(D)===h},_t.isFragment=function(D){return A(D)===r},_t.isLazy=function(D){return A(D)===j},_t.isMemo=function(D){return A(D)===v},_t.isPortal=function(D){return A(D)===a},_t.isProfiler=function(D){return A(D)===l},_t.isStrictMode=function(D){return A(D)===s},_t.isSuspense=function(D){return A(D)===g},_t.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===r||D===f||D===l||D===s||D===g||D===y||typeof D=="object"&&D!==null&&(D.$$typeof===j||D.$$typeof===v||D.$$typeof===c||D.$$typeof===d||D.$$typeof===h||D.$$typeof===S||D.$$typeof===M||D.$$typeof===N||D.$$typeof===b)},_t.typeOf=A,_t}var s3;function qZ(){return s3||(s3=1,gv.exports=UZ()),gv.exports}var HZ=qZ(),i3=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",l3=null,yv=null,oR=e=>{if(e===l3&&Array.isArray(yv))return yv;var t=[];return x.Children.forEach(e,a=>{At(a)||(HZ.isFragment(a)?t=t.concat(oR(a.props.children)):t.push(a))}),yv=t,l3=e,t};function fm(e,t){var a=[],r=[];return Array.isArray(t)?r=t.map(s=>i3(s)):r=[i3(t)],oR(e).forEach(s=>{var l=Jl(s,"type.displayName")||Jl(s,"type.name");l&&r.indexOf(l)!==-1&&a.push(s)}),a}var iw=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,vv={},o3;function VZ(){return o3||(o3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){if(typeof a!="object"||a==null)return!1;if(Object.getPrototypeOf(a)===null)return!0;if(Object.prototype.toString.call(a)!=="[object Object]"){const s=a[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(a,Symbol.toStringTag)?.writable?!1:a.toString()===`[object ${s}]`}let r=a;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(a)===r}e.isPlainObject=t})(vv)),vv}var bv,c3;function KZ(){return c3||(c3=1,bv=VZ().isPlainObject),bv}var WZ=KZ();const YZ=Rr(WZ);function d3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function u3(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(a),!0).forEach(function(r){GZ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function GZ(e,t,a){return(t=ZZ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ZZ(e){var t=XZ(e,"string");return typeof t=="symbol"?t:t+""}function XZ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},rp.apply(null,arguments)}var m3=(e,t,a,r,s)=>{var l=a-r,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+a,",").concat(t),c+="L ".concat(e+a-l/2,",").concat(t+s),c+="L ".concat(e+a-l/2-r,",").concat(t+s),c+="L ".concat(e,",").concat(t," Z"),c},QZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JZ=e=>{var t=Rt(e,QZ),{x:a,y:r,upperWidth:s,lowerWidth:l,height:c,className:d}=t,{animationEasing:m,animationDuration:f,animationBegin:h,isUpdateAnimationActive:g}=t,y=x.useRef(null),[v,j]=x.useState(-1),b=x.useRef(s),S=x.useRef(l),M=x.useRef(c),N=x.useRef(a),A=x.useRef(r),O=wi(e,"trapezoid-");if(x.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var T=y.current.getTotalLength();T&&j(T)}catch{}},[]),a!==+a||r!==+r||s!==+s||l!==+l||c!==+c||s===0&&l===0||c===0)return null;var D=at("recharts-trapezoid",d);if(!g)return x.createElement("g",null,x.createElement("path",rp({},Sn(t),{className:D,d:m3(a,r,s,l,c)})));var k=b.current,_=S.current,E=M.current,P=N.current,z=A.current,L="0px ".concat(v===-1?1:v,"px"),I="".concat(v,"px 0px"),J=NE(["strokeDasharray"],f,m);return x.createElement(ji,{animationId:O,key:O,canBegin:v>0,duration:f,easing:m,isActive:g,begin:h},T=>{var Y=ct(k,s,T),V=ct(_,l,T),B=ct(E,c,T),U=ct(P,a,T),F=ct(z,r,T);y.current&&(b.current=Y,S.current=V,M.current=B,N.current=U,A.current=F);var W=T>0?{transition:J,strokeDasharray:I}:{strokeDasharray:L};return x.createElement("path",rp({},Sn(t),{className:D,d:m3(U,F,Y,V,B),ref:y,style:u3(u3({},W),t.style)}))})},eX=["option","shapeType","propTransformer","activeClassName"];function tX(e,t){if(e==null)return{};var a,r,s=nX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function nX(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function f3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function sp(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?f3(Object(a),!0).forEach(function(r){aX(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function aX(e,t,a){return(t=rX(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function rX(e){var t=sX(e,"string");return typeof t=="symbol"?t:t+""}function sX(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iX(e,t){return sp(sp({},t),e)}function lX(e,t){return e==="symbols"}function h3(e){var{shapeType:t,elementProps:a}=e;switch(t){case"rectangle":return x.createElement(ME,a);case"trapezoid":return x.createElement(JZ,a);case"sector":return x.createElement(PE,a);case"symbols":if(lX(t))return x.createElement(Cp,a);break;case"curve":return x.createElement(Yl,a);default:return null}}function oX(e){return x.isValidElement(e)?e.props:e}function Rc(e){var{option:t,shapeType:a,propTransformer:r=iX,activeClassName:s="recharts-active-shape"}=e,l=tX(e,eX),c;if(x.isValidElement(t))c=x.cloneElement(t,sp(sp({},l),oX(t)));else if(typeof t=="function")c=t(l,l.index);else if(YZ(t)&&typeof t!="boolean"){var d=r(t,l);c=x.createElement(h3,{shapeType:a,elementProps:d})}else{var m=l;c=x.createElement(h3,{shapeType:a,elementProps:m})}return l.isActive?x.createElement(ft,{className:s},c):c}var hm=(e,t,a)=>{var r=Ft();return(s,l)=>c=>{e?.(s,l,c),r(dP({activeIndex:String(l),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:a}))}},pm=e=>{var t=Ft();return(a,r)=>s=>{e?.(a,r,s),t(hK())}},xm=(e,t,a)=>{var r=Ft();return(s,l)=>c=>{e?.(s,l,c),r(pK({activeIndex:String(l),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:a}))}};function yo(e){var{tooltipEntrySettings:t}=e,a=Ft(),r=vn(),s=x.useRef(null);return x.useLayoutEffect(()=>{r||(s.current===null?a(dK(t)):s.current!==t&&a(uK({prev:s.current,next:t})),s.current=t)},[t,a,r]),x.useLayoutEffect(()=>()=>{s.current&&(a(mK(s.current)),s.current=null)},[a]),null}function dx(e){var{legendPayload:t}=e,a=Ft(),r=vn(),s=x.useRef(null);return x.useLayoutEffect(()=>{r||(s.current===null?a(vE(t)):s.current!==t&&a(bE({prev:s.current,next:t})),s.current=t)},[a,r,t]),x.useLayoutEffect(()=>()=>{s.current&&(a(jE(s.current)),s.current=null)},[a]),null}function lw(e){var{legendPayload:t}=e,a=Ft(),r=Oe(et),s=x.useRef(null);return x.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(s.current===null?a(vE(t)):s.current!==t&&a(bE({prev:s.current,next:t})),s.current=t)},[a,r,t]),x.useLayoutEffect(()=>()=>{s.current&&(a(jE(s.current)),s.current=null)},[a]),null}var jv,cX=()=>{var[e]=x.useState(()=>yu("uid-"));return e},dX=(jv=ZT.useId)!==null&&jv!==void 0?jv:cX;function cR(e,t){var a=dX();return t||(e?"".concat(e,"-").concat(a):a)}var uX=x.createContext(void 0),vo=e=>{var{id:t,type:a,children:r}=e,s=cR("recharts-".concat(a),t);return x.createElement(uX.Provider,{value:s},r(s))},mX={cartesianItems:[],polarItems:[]},dR=Fa({name:"graphicalItems",initialState:mX,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:cn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:a,next:r}=t.payload,s=Wr(e).cartesianItems.indexOf(a);s>-1&&(e.cartesianItems[s]=r)},prepare:cn()},removeCartesianGraphicalItem:{reducer(e,t){var a=Wr(e).cartesianItems.indexOf(t.payload);a>-1&&e.cartesianItems.splice(a,1)},prepare:cn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:cn()},removePolarGraphicalItem:{reducer(e,t){var a=Wr(e).polarItems.indexOf(t.payload);a>-1&&e.polarItems.splice(a,1)},prepare:cn()}}}),{addCartesianGraphicalItem:fX,replaceCartesianGraphicalItem:hX,removeCartesianGraphicalItem:pX,addPolarGraphicalItem:xX,removePolarGraphicalItem:gX}=dR.actions,yX=dR.reducer,vX=e=>{var t=Ft(),a=x.useRef(null);return x.useLayoutEffect(()=>{a.current===null?t(fX(e)):a.current!==e&&t(hX({prev:a.current,next:e})),a.current=e},[t,e]),x.useLayoutEffect(()=>()=>{a.current&&(t(pX(a.current)),a.current=null)},[t]),null},ux=x.memo(vX);function ow(e){var t=Ft();return x.useLayoutEffect(()=>(t(xX(e)),()=>{t(gX(e))}),[t,e]),null}var bX=["key"],jX=["onMouseEnter","onClick","onMouseLeave"],wX=["id"],NX=["id"];function p3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function yn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?p3(Object(a),!0).forEach(function(r){SX(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function SX(e,t,a){return(t=AX(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function AX(e){var t=CX(e,"string");return typeof t=="symbol"?t:t+""}function CX(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ul(){return ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ul.apply(null,arguments)}function mx(e,t){if(e==null)return{};var a,r,s=MX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function MX(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function DX(e){var t=x.useMemo(()=>fm(e.children,An),[e.children]),a=Oe(r=>BZ(r,e.id,t));return a==null?null:x.createElement(lw,{legendPayload:a})}var OX=x.memo(e=>{var{dataKey:t,nameKey:a,sectors:r,stroke:s,strokeWidth:l,fill:c,name:d,hide:m,tooltipType:f}=e,h={dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:s,strokeWidth:l,fill:c,dataKey:t,nameKey:a,name:lr(d,t),hide:m,type:f,color:c,unit:""}};return x.createElement(yo,{tooltipEntrySettings:h})}),EX=(e,t)=>e>t?"start":e<t?"end":"middle",kX=(e,t,a)=>xa(typeof t=="function"?t(e):t,a,a*.8),PX=(e,t,a)=>{var{top:r,left:s,width:l,height:c}=t,d=DE(l,c),m=s+xa(e.cx,l,l/2),f=r+xa(e.cy,c,c/2),h=xa(e.innerRadius,d,0),g=kX(a,e.outerRadius,d),y=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:m,cy:f,innerRadius:h,outerRadius:g,maxRadius:y}},RX=(e,t)=>{var a=_n(t-e),r=Math.min(Math.abs(t-e),360);return a*r};function _X(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var TX=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var a=at("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,s=mx(t,bX);return x.createElement(Yl,ul({},s,{type:"linear",className:a}))},LX=(e,t,a)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var r=a;if(typeof e=="function"&&(r=e(t),x.isValidElement(r)))return r;var s=at("recharts-pie-label-text",_X(e));return x.createElement(Qc,ul({},t,{alignmentBaseline:"middle",className:s}),r)};function IX(e){var{sectors:t,props:a,showLabels:r}=e,{label:s,labelLine:l,dataKey:c}=a;if(!r||!s||!t)return null;var d=Bt(a),m=Xr(s),f=Xr(l),h=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,g=t.map((y,v)=>{var j=(y.startAngle+y.endAngle)/2,b=Pt(y.cx,y.cy,y.outerRadius+h,j),S=yn(yn(yn(yn({},d),y),{},{stroke:"none"},m),{},{index:v,textAnchor:EX(b.x,y.cx)},b),M=yn(yn(yn(yn({},d),y),{},{fill:"none",stroke:y.fill},f),{},{index:v,points:[Pt(y.cx,y.cy,y.outerRadius,j),b],key:"line"});return x.createElement(un,{zIndex:Lt.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},x.createElement(ft,null,l&&TX(l,M),LX(s,S,bt(y,c))))});return x.createElement(ft,{className:"recharts-pie-labels"},g)}function zX(e){var{sectors:t,props:a,showLabels:r}=e,{label:s}=a;return typeof s=="object"&&s!=null&&"position"in s?x.createElement(xo,{label:s}):x.createElement(IX,{sectors:t,props:a,showLabels:r})}function $X(e){var{sectors:t,activeShape:a,inactiveShape:r,allOtherPieProps:s,shape:l,id:c}=e,d=Oe(ws),m=Oe(G1),f=Oe(eW),{onMouseEnter:h,onClick:g,onMouseLeave:y}=s,v=mx(s,jX),j=hm(h,s.dataKey,c),b=pm(y),S=xm(g,s.dataKey,c);return t==null||t.length===0?null:x.createElement(x.Fragment,null,t.map((M,N)=>{if(M?.startAngle===0&&M?.endAngle===0&&t.length!==1)return null;var A=f==null||f===c,O=String(N)===d&&(m==null||s.dataKey===m)&&A,D=d?r:null,k=a&&O?a:D,_=yn(yn({},M),{},{stroke:M.stroke,tabIndex:-1,[Ij]:N,[zj]:s.dataKey});return x.createElement(ft,ul({key:"sector-".concat(M?.startAngle,"-").concat(M?.endAngle,"-").concat(M.midAngle,"-").concat(N),tabIndex:-1,className:"recharts-pie-sector"},Ss(v,M,N),{onMouseEnter:j(M,N),onMouseLeave:b(M,N),onClick:S(M,N)}),x.createElement(Rc,ul({option:l??k,index:N,shapeType:"sector",isActive:O},_)))}))}function BX(e){var t,{pieSettings:a,displayedData:r,cells:s,offset:l}=e,{cornerRadius:c,startAngle:d,endAngle:m,dataKey:f,nameKey:h,tooltipType:g}=a,y=Math.abs(a.minAngle),v=RX(d,m),j=Math.abs(v),b=r.length<=1?0:(t=a.paddingAngle)!==null&&t!==void 0?t:0,S=r.filter(k=>bt(k,f,0)!==0).length,M=(j>=360?S:S-1)*b,N=j-S*y-M,A=r.reduce((k,_)=>{var E=bt(_,f,0);return k+(Pe(E)?E:0)},0),O;if(A>0){var D;O=r.map((k,_)=>{var E=bt(k,f,0),P=bt(k,h,_),z=PX(a,l,k),L=(Pe(E)?E:0)/A,I,J=yn(yn({},k),s&&s[_]&&s[_].props);_?I=D.endAngle+_n(v)*b*(E!==0?1:0):I=d;var T=I+_n(v)*((E!==0?y:0)+L*N),Y=(I+T)/2,V=(z.innerRadius+z.outerRadius)/2,B=[{name:P,value:E,payload:J,dataKey:f,type:g}],U=Pt(z.cx,z.cy,V,Y);return D=yn(yn(yn(yn({},a.presentationProps),{},{percent:L,cornerRadius:typeof c=="string"?parseFloat(c):c,name:P,tooltipPayload:B,midAngle:Y,middleRadius:V,tooltipPosition:U},J),z),{},{value:E,dataKey:f,startAngle:I,endAngle:T,payload:J,paddingAngle:_n(v)*b}),D})}return O}function FX(e){var{showLabels:t,sectors:a,children:r}=e,s=x.useMemo(()=>!t||!a?[]:a.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[a,t]);return x.createElement(ZP,{value:t?s:void 0},r)}function UX(e){var{props:t,previousSectorsRef:a,id:r}=e,{sectors:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:m,activeShape:f,inactiveShape:h,onAnimationStart:g,onAnimationEnd:y}=t,v=wi(t,"recharts-pie-"),j=a.current,[b,S]=x.useState(!1),M=x.useCallback(()=>{typeof y=="function"&&y(),S(!1)},[y]),N=x.useCallback(()=>{typeof g=="function"&&g(),S(!0)},[g]);return x.createElement(FX,{showLabels:!b,sectors:s},x.createElement(ji,{animationId:v,begin:c,duration:d,isActive:l,easing:m,onAnimationStart:N,onAnimationEnd:M,key:v},A=>{var O=[],D=s&&s[0],k=D?.startAngle;return s?.forEach((_,E)=>{var P=j&&j[E],z=E>0?Jl(_,"paddingAngle",0):0;if(P){var L=ct(P.endAngle-P.startAngle,_.endAngle-_.startAngle,A),I=yn(yn({},_),{},{startAngle:k+z,endAngle:k+L+z});O.push(I),k=I.endAngle}else{var{endAngle:J,startAngle:T}=_,Y=ct(0,J-T,A),V=yn(yn({},_),{},{startAngle:k+z,endAngle:k+Y+z});O.push(V),k=V.endAngle}}),a.current=O,x.createElement(ft,null,x.createElement($X,{sectors:O,activeShape:f,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:r}))}),x.createElement(zX,{showLabels:!b,sectors:s,props:t}),t.children)}var qX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Lt.area};function HX(e){var{id:t}=e,a=mx(e,wX),{hide:r,className:s,rootTabIndex:l}=e,c=x.useMemo(()=>fm(e.children,An),[e.children]),d=Oe(h=>FZ(h,t,c)),m=x.useRef(null),f=at("recharts-pie",s);return r||d==null?(m.current=null,x.createElement(ft,{tabIndex:l,className:f})):x.createElement(un,{zIndex:e.zIndex},x.createElement(OX,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:d,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),x.createElement(ft,{tabIndex:l,className:f},x.createElement(UX,{props:yn(yn({},a),{},{sectors:d}),previousSectorsRef:m,id:t})))}function Ba(e){var t=Rt(e,qX),{id:a}=t,r=mx(t,NX),s=Bt(r);return x.createElement(vo,{id:a,type:"pie"},l=>x.createElement(x.Fragment,null,x.createElement(ow,{type:"pie",id:l,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),x.createElement(DX,ul({},r,{id:l})),x.createElement(HX,ul({},r,{id:l}))))}Ba.displayName="Pie";var VX=["points"];function x3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function wv(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?x3(Object(a),!0).forEach(function(r){KX(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function KX(e,t,a){return(t=WX(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function WX(e){var t=YX(e,"string");return typeof t=="symbol"?t:t+""}function YX(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ip.apply(null,arguments)}function GX(e,t){if(e==null)return{};var a,r,s=ZX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function ZX(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function XX(e){var{option:t,dotProps:a,className:r}=e;if(x.isValidElement(t))return x.cloneElement(t,a);if(typeof t=="function")return t(a);var s=at(r,typeof t!="boolean"?t.className:""),l=a??{},{points:c}=l,d=GX(l,VX);return x.createElement(tw,ip({},d,{className:s}))}function QX(e,t){return e==null?!1:t?!0:e.length===1}function cw(e){var{points:t,dot:a,className:r,dotClassName:s,dataKey:l,baseProps:c,needClip:d,clipPathId:m,zIndex:f=Lt.scatter}=e;if(!QX(t,a))return null;var h=iw(a),g=w9(a),y=t.map((j,b)=>{var S,M,N=wv(wv(wv({r:3},c),g),{},{index:b,cx:(S=j.x)!==null&&S!==void 0?S:void 0,cy:(M=j.y)!==null&&M!==void 0?M:void 0,dataKey:l,value:j.value,payload:j.payload,points:t});return x.createElement(XX,{key:"dot-".concat(b),option:a,dotProps:N,className:s})}),v={};return d&&m!=null&&(v.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(m,")")),x.createElement(un,{zIndex:f},x.createElement(ft,ip({className:r},v),y))}function g3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function y3(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?g3(Object(a),!0).forEach(function(r){JX(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function JX(e,t,a){return(t=eQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function eQ(e){var t=tQ(e,"string");return typeof t=="symbol"?t:t+""}function tQ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nQ={xAxis:{},yAxis:{},zAxis:{}},uR=Fa({name:"cartesianAxis",initialState:nQ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:cn()},replaceXAxis:{reducer(e,t){var{prev:a,next:r}=t.payload;e.xAxis[a.id]!==void 0&&(a.id!==r.id&&delete e.xAxis[a.id],e.xAxis[r.id]=r)},prepare:cn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:cn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:cn()},replaceYAxis:{reducer(e,t){var{prev:a,next:r}=t.payload;e.yAxis[a.id]!==void 0&&(a.id!==r.id&&delete e.yAxis[a.id],e.yAxis[r.id]=r)},prepare:cn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:cn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:cn()},replaceZAxis:{reducer(e,t){var{prev:a,next:r}=t.payload;e.zAxis[a.id]!==void 0&&(a.id!==r.id&&delete e.zAxis[a.id],e.zAxis[r.id]=r)},prepare:cn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:cn()},updateYAxisWidth(e,t){var{id:a,width:r}=t.payload,s=e.yAxis[a];if(s){var l=s.widthHistory||[];if(l.length===3&&l[0]===l[2]&&r===l[1]&&r!==s.width&&Math.abs(r-l[0])<=1)return;var c=[...l,r].slice(-3);e.yAxis[a]=y3(y3({},e.yAxis[a]),{},{width:r,widthHistory:c})}}}}),{addXAxis:aQ,replaceXAxis:rQ,removeXAxis:sQ,addYAxis:iQ,replaceYAxis:lQ,removeYAxis:oQ,addZAxis:cQ,replaceZAxis:dQ,removeZAxis:uQ,updateYAxisWidth:mQ}=uR.actions,fQ=uR.reducer,hQ=te([Fn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),pQ=te([hQ,vi,bi],(e,t,a)=>{if(!(!e||t==null||a==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,a-e.top-e.bottom)}}),fx=()=>Oe(pQ),xQ=()=>Oe(sW);function v3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Nv(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?v3(Object(a),!0).forEach(function(r){gQ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function gQ(e,t,a){return(t=yQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function yQ(e){var t=vQ(e,"string");return typeof t=="symbol"?t:t+""}function vQ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bQ=e=>{var{point:t,childIndex:a,mainColor:r,activeDot:s,dataKey:l,clipPath:c}=e;if(s===!1||t.x==null||t.y==null)return null;var d={index:a,dataKey:l,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},m=Nv(Nv(Nv({},d),Xr(s)),Aj(s)),f;return x.isValidElement(s)?f=x.cloneElement(s,m):typeof s=="function"?f=s(m):f=x.createElement(tw,m),x.createElement(ft,{className:"recharts-active-dot",clipPath:c},f)};function lp(e){var{points:t,mainColor:a,activeDot:r,itemDataKey:s,clipPath:l,zIndex:c=Lt.activeDot}=e,d=Oe(ws),m=xQ();if(t==null||m==null)return null;var f=t.find(h=>m.includes(h.payload));return At(f)?null:x.createElement(un,{zIndex:c},x.createElement(bQ,{point:f,childIndex:Number(d),mainColor:a,dataKey:s,activeDot:r,clipPath:l}))}function b3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function op(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?b3(Object(a),!0).forEach(function(r){jQ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function jQ(e,t,a){return(t=wQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function wQ(e){var t=NQ(e,"string");return typeof t=="symbol"?t:t+""}function NQ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mR=(e,t)=>xl(e,"radiusAxis",t),SQ=te([mR],e=>{if(e!=null)return{scale:e}}),AQ=te([Hc,mR],(e,t)=>{if(!(e==null||t==null))return op(op({},e),{},{scale:t})}),CQ=(e,t,a,r)=>go(e,"radiusAxis",t,r),fR=(e,t,a)=>fo(e,a),hR=(e,t,a)=>xl(e,"angleAxis",a),MQ=te([fR,hR],(e,t)=>{if(!(e==null||t==null))return op(op({},e),{},{scale:t})}),DQ=(e,t,a,r)=>go(e,"angleAxis",a,r),OQ=te([fR,hR,ho],(e,t,a)=>{if(!(a==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:a.cx,cy:a.cy}}),EQ=(e,t,a,r,s)=>s,kQ=te([et,AQ,CQ,MQ,DQ],(e,t,a,r,s)=>Tr(e,"radiusAxis")?$a(t,a,!1):$a(r,s,!1)),PQ=te([um,EQ],(e,t)=>{if(e!=null){var a=e.find(r=>r.type==="radar"&&t===r.id);return a?.dataKey}}),RQ=te([SQ,OQ,$c,PQ,kQ],(e,t,a,r,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=a;if(!(e==null||t==null||l==null||s==null||r==null)){var m=l.slice(c,d+1);return qQ({radiusAxis:e,angleAxis:t,displayedData:m,dataKey:r,bandSize:s})}}),_Q=["id"];function Tu(){return Tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Tu.apply(null,arguments)}function j3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Ra(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(a),!0).forEach(function(r){TQ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function TQ(e,t,a){return(t=LQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function LQ(e){var t=IQ(e,"string");return typeof t=="symbol"?t:t+""}function IQ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zQ(e,t){if(e==null)return{};var a,r,s=$Q(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function $Q(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function dw(e,t){return e&&e!=="none"?e:t}var BQ=e=>{var{dataKey:t,name:a,stroke:r,fill:s,legendType:l,hide:c}=e;return[{inactive:c,dataKey:t,type:l,color:dw(r,s),value:lr(a,t),payload:e}]},FQ=x.memo(e=>{var{dataKey:t,stroke:a,strokeWidth:r,fill:s,name:l,hide:c,tooltipType:d}=e,m={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:r,fill:s,nameKey:void 0,dataKey:t,name:lr(l,t),hide:c,type:d,color:dw(a,s),unit:""}};return x.createElement(yo,{tooltipEntrySettings:m})});function UQ(e){var{points:t,props:a}=e,{dot:r,dataKey:s}=a,{id:l}=a,c=zQ(a,_Q),d=Bt(c);return x.createElement(cw,{points:t,dot:r,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:s,baseProps:d})}function qQ(e){var{radiusAxis:t,angleAxis:a,displayedData:r,dataKey:s,bandSize:l}=e,{cx:c,cy:d}=a,m=!1,f=[],h=a.type!=="number"?l??0:0;r.forEach((y,v)=>{var j=bt(y,a.dataKey,v),b=bt(y,s),S=a.scale(j)+h,M=Array.isArray(b)?WP(b):b,N=At(M)?0:t.scale(M);Array.isArray(b)&&b.length>=2&&(m=!0),f.push(Ra(Ra({},Pt(c,d,N,S)),{},{name:j,value:b,cx:c,cy:d,radius:N,angle:S,payload:y}))});var g=[];return m&&f.forEach(y=>{if(Array.isArray(y.value)){var v=y.value[0],j=At(v)?0:t.scale(v);g.push(Ra(Ra({},y),{},{radius:j},Pt(c,d,j,y.angle)))}else g.push(y)}),{points:f,isRange:m,baseLinePoints:g}}function HQ(e){var{showLabels:t,points:a,children:r}=e,s=a.map(l=>{var c,d={x:l.x,y:l.y,width:0,lowerWidth:0,upperWidth:0,height:0};return Ra(Ra({},d),{},{value:(c=l.value)!==null&&c!==void 0?c:"",payload:l.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return x.createElement(dm,{value:t?s:void 0},r)}function VQ(e){var{points:t,baseLinePoints:a,props:r}=e;if(t==null)return null;var{shape:s,isRange:l,connectNulls:c}=r,d=h=>{var{onMouseEnter:g}=r;g&&g(r,h)},m=h=>{var{onMouseLeave:g}=r;g&&g(r,h)},f;return x.isValidElement(s)?f=x.cloneElement(s,Ra(Ra({},r),{},{points:t})):typeof s=="function"?f=s(Ra(Ra({},r),{},{points:t})):f=x.createElement(XP,Tu({},Sn(r),{onMouseEnter:d,onMouseLeave:m,points:t,baseLinePoints:l?a:void 0,connectNulls:c})),x.createElement(ft,{className:"recharts-radar-polygon"},f,x.createElement(UQ,{props:r,points:t}))}var w3=(e,t,a)=>(r,s)=>{var l=e&&e[Math.floor(s*t)];return l?Ra(Ra({},r),{},{x:ct(l.x,r.x,a),y:ct(l.y,r.y,a)}):Ra(Ra({},r),{},{x:ct(r.cx,r.x,a),y:ct(r.cy,r.y,a)})};function KQ(e){var{props:t,previousPointsRef:a,previousBaseLinePointsRef:r}=e,{points:s,baseLinePoints:l,isAnimationActive:c,animationBegin:d,animationDuration:m,animationEasing:f,onAnimationEnd:h,onAnimationStart:g}=t,y=a.current,v=r.current,j=y?y.length/s.length:1,b=v?v.length/l.length:1,S=wi(t,"recharts-radar-"),[M,N]=x.useState(!1),A=!M,O=x.useCallback(()=>{typeof h=="function"&&h(),N(!1)},[h]),D=x.useCallback(()=>{typeof g=="function"&&g(),N(!0)},[g]);return x.createElement(HQ,{showLabels:A,points:s},x.createElement(ji,{animationId:S,begin:d,duration:m,isActive:c,easing:f,key:"radar-".concat(S),onAnimationEnd:O,onAnimationStart:D},k=>{var _=k===1?s:s.map(w3(y,j,k)),E=k===1?l:l?.map(w3(v,b,k));return k>0&&(a.current=_,r.current=E),x.createElement(VQ,{points:_,baseLinePoints:E,props:t})}),x.createElement(xo,{label:t.label}),t.children)}function WQ(e){var t=x.useRef(void 0),a=x.useRef(void 0);return x.createElement(KQ,{props:e,previousPointsRef:t,previousBaseLinePointsRef:a})}var YQ={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:Lt.area};function GQ(e){var{hide:t,className:a,points:r}=e;if(t)return null;var s=at("recharts-radar",a);return x.createElement(un,{zIndex:e.zIndex},x.createElement(ft,{className:s},x.createElement(WQ,e)),x.createElement(lp,{points:r,mainColor:dw(e.stroke,e.fill),itemDataKey:e.dataKey,activeDot:e.activeDot}))}function ZQ(e){var t=vn(),a=Oe(r=>RQ(r,e.radiusAxisId,e.angleAxisId,t,e.id));return a?.points==null?null:x.createElement(GQ,Tu({},e,{points:a?.points,baseLinePoints:a?.baseLinePoints,isRange:a?.isRange}))}function pR(e){var t=Rt(e,YQ);return x.createElement(vo,{id:t.id,type:"radar"},a=>x.createElement(x.Fragment,null,x.createElement(ow,{type:"radar",id:a,data:void 0,dataKey:t.dataKey,hide:t.hide,angleAxisId:t.angleAxisId,radiusAxisId:t.radiusAxisId}),x.createElement(lw,{legendPayload:BQ(t)}),x.createElement(FQ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),x.createElement(ZQ,Tu({},t,{id:a}))))}pR.displayName="Radar";function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Fb.apply(null,arguments)}function N3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Sv(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?N3(Object(a),!0).forEach(function(r){XQ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function XQ(e,t,a){return(t=QQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function QQ(e){var t=JQ(e,"string");return typeof t=="symbol"?t:t+""}function JQ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xR(e){return typeof e=="string"?parseInt(e,10):e}function eJ(e,t){var a="".concat(t.cx||e.cx),r=Number(a),s="".concat(t.cy||e.cy),l=Number(s);return Sv(Sv(Sv({},t),e),{},{cx:r,cy:l})}function Ub(e){return x.createElement(Rc,Fb({shapeType:"sector",propTransformer:eJ},e))}var tJ="Invariant failed";function nJ(e,t){throw new Error(tJ)}var aJ=["x","y"];function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},qb.apply(null,arguments)}function S3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function eu(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?S3(Object(a),!0).forEach(function(r){rJ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function rJ(e,t,a){return(t=sJ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function sJ(e){var t=iJ(e,"string");return typeof t=="symbol"?t:t+""}function iJ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lJ(e,t){if(e==null)return{};var a,r,s=oJ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function oJ(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function cJ(e,t){var{x:a,y:r}=e,s=lJ(e,aJ),l="".concat(a),c=parseInt(l,10),d="".concat(r),m=parseInt(d,10),f="".concat(t.height||s.height),h=parseInt(f,10),g="".concat(t.width||s.width),y=parseInt(g,10);return eu(eu(eu(eu(eu({},t),s),c?{x:c}:{}),m?{y:m}:{}),{},{height:h,width:y,name:t.name,radius:t.radius})}function cp(e){return x.createElement(Rc,qb({shapeType:"rectangle",propTransformer:cJ,activeClassName:"recharts-active-bar"},e))}var dJ=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,s)=>{if(Pe(t))return t;var l=Pe(r)||At(r);return l?t(r,s):(l||nJ(),a)}},uJ={},gR=Fa({name:"errorBars",initialState:uJ,reducers:{addErrorBar:(e,t)=>{var{itemId:a,errorBar:r}=t.payload;e[a]||(e[a]=[]),e[a].push(r)},replaceErrorBar:(e,t)=>{var{itemId:a,prev:r,next:s}=t.payload;e[a]&&(e[a]=e[a].map(l=>l.dataKey===r.dataKey&&l.direction===r.direction?s:l))},removeErrorBar:(e,t)=>{var{itemId:a,errorBar:r}=t.payload;e[a]&&(e[a]=e[a].filter(s=>s.dataKey!==r.dataKey||s.direction!==r.direction))}}}),{addErrorBar:Wce,replaceErrorBar:Yce,removeErrorBar:Gce}=gR.actions,mJ=gR.reducer,fJ=["children"];function hJ(e,t){if(e==null)return{};var a,r,s=pJ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function pJ(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var xJ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},gJ=x.createContext(xJ);function uw(e){var{children:t}=e,a=hJ(e,fJ);return x.createElement(gJ.Provider,{value:a},t)}function gm(e,t){var a,r,s=Oe(f=>Ai(f,e)),l=Oe(f=>Ci(f,t)),c=(a=s?.allowDataOverflow)!==null&&a!==void 0?a:Gn.allowDataOverflow,d=(r=l?.allowDataOverflow)!==null&&r!==void 0?r:Zn.allowDataOverflow,m=c||d;return{needClip:m,needClipX:c,needClipY:d}}function hx(e){var{xAxisId:t,yAxisId:a,clipPathId:r}=e,s=fx(),{needClipX:l,needClipY:c,needClip:d}=gm(t,a);if(!d||!s)return null;var{x:m,y:f,width:h,height:g}=s;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:l?m:m-h/2,y:c?f:f-g/2,width:l?h:h*2,height:c?g:g*2}))}function yR(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&sn(e.zIndex)?e.zIndex:t}var Av={exports:{}},Cv={};var A3;function yJ(){if(A3)return Cv;A3=1;var e=yp();function t(m,f){return m===f&&(m!==0||1/m===1/f)||m!==m&&f!==f}var a=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return Cv.useSyncExternalStoreWithSelector=function(m,f,h,g,y){var v=s(null);if(v.current===null){var j={hasValue:!1,value:null};v.current=j}else j=v.current;v=c(function(){function S(D){if(!M){if(M=!0,N=D,D=g(D),y!==void 0&&j.hasValue){var k=j.value;if(y(k,D))return A=k}return A=D}if(k=A,a(N,D))return k;var _=g(D);return y!==void 0&&y(k,_)?(N=D,k):(N=D,A=_)}var M=!1,N,A,O=h===void 0?null:h;return[function(){return S(f())},O===null?void 0:function(){return S(O())}]},[f,h,g,y]);var b=r(m,v[0],v[1]);return l(function(){j.hasValue=!0,j.value=b},[b]),d(b),b},Cv}var C3;function vJ(){return C3||(C3=1,Av.exports=yJ()),Av.exports}vJ();function bJ(e){e()}function jJ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){bJ(()=>{let a=e;for(;a;)a.callback(),a=a.next})},get(){const a=[];let r=e;for(;r;)a.push(r),r=r.next;return a},subscribe(a){let r=!0;const s=t={callback:a,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var M3={notify(){},get:()=>[]};function wJ(e,t){let a,r=M3,s=0,l=!1;function c(b){h();const S=r.subscribe(b);let M=!1;return()=>{M||(M=!0,S(),g())}}function d(){r.notify()}function m(){j.onStateChange&&j.onStateChange()}function f(){return l}function h(){s++,a||(a=e.subscribe(m),r=jJ())}function g(){s--,a&&s===0&&(a(),a=void 0,r.clear(),r=M3)}function y(){l||(l=!0,h())}function v(){l&&(l=!1,g())}const j={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:f,trySubscribe:y,tryUnsubscribe:v,getListeners:()=>r};return j}var NJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SJ=NJ(),AJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",CJ=AJ(),MJ=()=>SJ||CJ?x.useLayoutEffect:x.useEffect,DJ=MJ();function D3(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function OJ(e,t){if(D3(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(let s=0;s<a.length;s++)if(!Object.prototype.hasOwnProperty.call(t,a[s])||!D3(e[a[s]],t[a[s]]))return!1;return!0}var EJ=Symbol.for("react-redux-context"),kJ=typeof globalThis<"u"?globalThis:{};function PJ(){if(!x.createContext)return{};const e=kJ[EJ]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var RJ=PJ();function _J(e){const{children:t,context:a,serverState:r,store:s}=e,l=x.useMemo(()=>{const m=wJ(s);return{store:s,subscription:m,getServerState:r?()=>r:void 0}},[s,r]),c=x.useMemo(()=>s.getState(),[s]);DJ(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==s.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const d=a||RJ;return x.createElement(d.Provider,{value:l},t)}var TJ=_J,LJ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function IJ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Jc(e,t){var a=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of a)if(LJ.has(r)){if(e[r]==null&&t[r]==null)continue;if(!OJ(e[r],t[r]))return!1}else if(!IJ(e[r],t[r]))return!1;return!0}var zJ=["onMouseEnter","onMouseLeave","onClick"],$J=["value","background","tooltipPosition"],BJ=["id"],FJ=["onMouseEnter","onClick","onMouseLeave"];function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},xi.apply(null,arguments)}function O3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function va(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?O3(Object(a),!0).forEach(function(r){UJ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function UJ(e,t,a){return(t=qJ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function qJ(e){var t=HJ(e,"string");return typeof t=="symbol"?t:t+""}function HJ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dp(e,t){if(e==null)return{};var a,r,s=VJ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function VJ(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var KJ=e=>{var{dataKey:t,name:a,fill:r,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:r,value:lr(a,t),payload:e}]},WJ=x.memo(e=>{var{dataKey:t,stroke:a,strokeWidth:r,fill:s,name:l,hide:c,unit:d,tooltipType:m}=e,f={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:r,fill:s,dataKey:t,nameKey:void 0,name:lr(l,t),hide:c,type:m,color:s,unit:d}};return x.createElement(yo,{tooltipEntrySettings:f})});function YJ(e){var t=Oe(ws),{data:a,dataKey:r,background:s,allOtherBarProps:l}=e,{onMouseEnter:c,onMouseLeave:d,onClick:m}=l,f=dp(l,zJ),h=hm(c,r),g=pm(d),y=xm(m,r);if(!s||a==null)return null;var v=Xr(s);return x.createElement(un,{zIndex:yR(s,Lt.barBackground)},a.map((j,b)=>{var{value:S,background:M,tooltipPosition:N}=j,A=dp(j,$J);if(!M)return null;var O=h(j,b),D=g(j,b),k=y(j,b),_=va(va(va(va(va({option:s,isActive:String(b)===t},A),{},{fill:"#eee"},M),v),Ss(f,j,b)),{},{onMouseEnter:O,onMouseLeave:D,onClick:k,dataKey:r,index:b,className:"recharts-bar-background-rectangle"});return x.createElement(cp,xi({key:"background-bar-".concat(b)},_))}))}function GJ(e){var{showLabels:t,children:a,rects:r}=e,s=r?.map(l=>{var c={x:l.x,y:l.y,width:l.width,lowerWidth:l.width,upperWidth:l.width,height:l.height};return va(va({},c),{},{value:l.value,payload:l.payload,parentViewBox:l.parentViewBox,viewBox:c,fill:l.fill})});return x.createElement(dm,{value:t?s:void 0},a)}function ZJ(e){var{shape:t,activeBar:a,baseProps:r,entry:s,index:l,dataKey:c}=e,d=Oe(ws),m=Oe(G1),f=a&&String(l)===d&&(m==null||c===m),h=f?a:t;return f?x.createElement(un,{zIndex:Lt.activeBar},x.createElement(cp,xi({},r,{name:String(r.name)},s,{isActive:f,option:h,index:l,dataKey:c}))):x.createElement(cp,xi({},r,{name:String(r.name)},s,{isActive:f,option:h,index:l,dataKey:c}))}function XJ(e){var{shape:t,baseProps:a,entry:r,index:s,dataKey:l}=e;return x.createElement(cp,xi({},a,{name:String(a.name)},r,{isActive:!1,option:t,index:s,dataKey:l}))}function QJ(e){var t,{data:a,props:r}=e,s=(t=Bt(r))!==null&&t!==void 0?t:{},{id:l}=s,c=dp(s,BJ),{shape:d,dataKey:m,activeBar:f}=r,{onMouseEnter:h,onClick:g,onMouseLeave:y}=r,v=dp(r,FJ),j=hm(h,m),b=pm(y),S=xm(g,m);return a?x.createElement(x.Fragment,null,a.map((M,N)=>x.createElement(ft,xi({key:"rectangle-".concat(M?.x,"-").concat(M?.y,"-").concat(M?.value,"-").concat(N),className:"recharts-bar-rectangle"},Ss(v,M,N),{onMouseEnter:j(M,N),onMouseLeave:b(M,N),onClick:S(M,N)}),f?x.createElement(ZJ,{shape:d,activeBar:f,baseProps:c,entry:M,index:N,dataKey:m}):x.createElement(XJ,{shape:d,baseProps:c,entry:M,index:N,dataKey:m})))):null}function JJ(e){var{props:t,previousRectanglesRef:a}=e,{data:r,layout:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:m,onAnimationEnd:f,onAnimationStart:h}=t,g=a.current,y=wi(t,"recharts-bar-"),[v,j]=x.useState(!1),b=!v,S=x.useCallback(()=>{typeof f=="function"&&f(),j(!1)},[f]),M=x.useCallback(()=>{typeof h=="function"&&h(),j(!0)},[h]);return x.createElement(GJ,{showLabels:b,rects:r},x.createElement(ji,{animationId:y,begin:c,duration:d,isActive:l,easing:m,onAnimationEnd:S,onAnimationStart:M,key:y},N=>{var A=N===1?r:r?.map((O,D)=>{var k=g&&g[D];if(k)return va(va({},O),{},{x:ct(k.x,O.x,N),y:ct(k.y,O.y,N),width:ct(k.width,O.width,N),height:ct(k.height,O.height,N)});if(s==="horizontal"){var _=ct(0,O.height,N),E=ct(O.stackedBarStart,O.y,N);return va(va({},O),{},{y:E,height:_})}var P=ct(0,O.width,N),z=ct(O.stackedBarStart,O.x,N);return va(va({},O),{},{width:P,x:z})});return N>0&&(a.current=A??null),A==null?null:x.createElement(ft,null,x.createElement(QJ,{props:t,data:A}))}),x.createElement(xo,{label:t.label}),t.children)}function eee(e){var t=x.useRef(null);return x.createElement(JJ,{previousRectanglesRef:t,props:e})}var vR=0,tee=(e,t)=>{var a=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:a,errorVal:bt(e,t)}};class nee extends x.PureComponent{render(){var{hide:t,data:a,dataKey:r,className:s,xAxisId:l,yAxisId:c,needClip:d,background:m,id:f}=this.props;if(t||a==null)return null;var h=at("recharts-bar",s),g=f;return x.createElement(ft,{className:h,id:f},d&&x.createElement("defs",null,x.createElement(hx,{clipPathId:g,xAxisId:l,yAxisId:c})),x.createElement(ft,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},x.createElement(YJ,{data:a,dataKey:r,background:m,allOtherBarProps:this.props}),x.createElement(eee,this.props)))}}var aee={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:vR,xAxisId:0,yAxisId:0,zIndex:Lt.bar};function ree(e){var{xAxisId:t,yAxisId:a,hide:r,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:m,animationEasing:f,isAnimationActive:h}=e,{needClip:g}=gm(t,a),y=co(),v=vn(),j=fm(e.children,An),b=Oe(N=>Oee(N,t,a,v,e.id,j));if(y!=="vertical"&&y!=="horizontal")return null;var S,M=b?.[0];return M==null||M.height==null||M.width==null?S=0:S=y==="vertical"?M.height/2:M.width/2,x.createElement(uw,{xAxisId:t,yAxisId:a,data:b,dataPointFormatter:tee,errorBarOffset:S},x.createElement(nee,xi({},e,{layout:y,needClip:g,data:b,xAxisId:t,yAxisId:a,hide:r,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:m,animationEasing:f,isAnimationActive:h})))}function see(e){var{layout:t,barSettings:{dataKey:a,minPointSize:r},pos:s,bandSize:l,xAxis:c,yAxis:d,xAxisTicks:m,yAxisTicks:f,stackedData:h,displayedData:g,offset:y,cells:v,parentViewBox:j,dataStartIndex:b}=e,S=t==="horizontal"?d:c,M=h?S.scale.domain():null,N=sE({numericAxis:S}),A=S.scale(N);return g.map((O,D)=>{var k,_,E,P,z,L;h?k=rE(h[D+b],M):(k=bt(O,a),Array.isArray(k)||(k=[N,k]));var I=dJ(r,vR)(k[1],D);if(t==="horizontal"){var J,[T,Y]=[d.scale(k[0]),d.scale(k[1])];_=Rh({axis:c,ticks:m,bandSize:l,offset:s.offset,entry:O,index:D}),E=(J=Y??T)!==null&&J!==void 0?J:void 0,P=s.size;var V=T-Y;if(z=Dr(V)?0:V,L={x:_,y:y.top,width:P,height:y.height},Math.abs(I)>0&&Math.abs(z)<Math.abs(I)){var B=_n(z||I)*(Math.abs(I)-Math.abs(z));E-=B,z+=B}}else{var[U,F]=[c.scale(k[0]),c.scale(k[1])];if(_=U,E=Rh({axis:d,ticks:f,bandSize:l,offset:s.offset,entry:O,index:D}),P=F-U,z=s.size,L={x:y.left,y:E,width:y.width,height:z},Math.abs(I)>0&&Math.abs(P)<Math.abs(I)){var W=_n(P||I)*(Math.abs(I)-Math.abs(P));P+=W}}if(_==null||E==null||P==null||z==null)return null;var ne=va(va({},O),{},{stackedBarStart:A,x:_,y:E,width:P,height:z,value:h?k:k[1],payload:O,background:L,tooltipPosition:{x:_+P/2,y:E+z/2},parentViewBox:j},v&&v[D]&&v[D].props);return ne}).filter(Boolean)}function iee(e){var t=Rt(e,aee),a=vn();return x.createElement(vo,{id:t.id,type:"bar"},r=>x.createElement(x.Fragment,null,x.createElement(dx,{legendPayload:KJ(t)}),x.createElement(WJ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(ux,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:Ip(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),x.createElement(un,{zIndex:t.zIndex},x.createElement(ree,xi({},t,{id:r})))))}var Qn=x.memo(iee,Jc);Qn.displayName="Bar";function E3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Qf(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?E3(Object(a),!0).forEach(function(r){lee(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function lee(e,t,a){return(t=oee(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function oee(e){var t=cee(e,"string");return typeof t=="symbol"?t:t+""}function cee(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dee=(e,t)=>t,uee=(e,t,a)=>a,mee=(e,t,a,r)=>r,fee=(e,t,a,r,s)=>s,ym=te([Wc,fee],(e,t)=>e.filter(a=>a.type==="bar").find(a=>a.id===t)),hee=te([ym],e=>e?.maxBarSize),pee=(e,t,a,r,s,l)=>l,k3=(e,t,a)=>{var r=a??e;if(!At(r))return xa(r,t,0)},xee=te([et,Wc,dee,uee,mee],(e,t,a,r,s)=>t.filter(l=>e==="horizontal"?l.xAxisId===a:l.yAxisId===r).filter(l=>l.isPanorama===s).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),gee=(e,t,a,r)=>{var s=et(e);return s==="horizontal"?ku(e,"yAxis",a,r):ku(e,"xAxis",t,r)},yee=(e,t,a)=>{var r=et(e);return r==="horizontal"?o4(e,"xAxis",t):o4(e,"yAxis",a)},bR=(e,t,a)=>{var r={},s=e.filter(tm),l=e.filter(f=>f.stackId==null),c=s.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),r),d=Object.entries(c).map(f=>{var[h,g]=f,y=g.map(j=>j.dataKey),v=k3(t,a,g[0].barSize);return{stackId:h,dataKeys:y,barSize:v}}),m=l.map(f=>{var h=[f.dataKey].filter(y=>y!=null),g=k3(t,a,f.barSize);return{stackId:void 0,dataKeys:h,barSize:g}});return[...d,...m]},vee=te([xee,Ok,yee],bR),bee=(e,t,a,r,s)=>{var l,c,d=ym(e,t,a,r,s);if(d!=null){var m=et(e),f=Qp(e),{maxBarSize:h}=d,g=At(h)?f:h,y,v;return m==="horizontal"?(y=Pr(e,"xAxis",t,r),v=kr(e,"xAxis",t,r)):(y=Pr(e,"yAxis",a,r),v=kr(e,"yAxis",a,r)),(l=(c=$a(y,v,!0))!==null&&c!==void 0?c:g)!==null&&l!==void 0?l:0}},jR=(e,t,a,r)=>{var s=et(e),l,c;return s==="horizontal"?(l=Pr(e,"xAxis",t,r),c=kr(e,"xAxis",t,r)):(l=Pr(e,"yAxis",a,r),c=kr(e,"yAxis",a,r)),$a(l,c)};function jee(e,t,a,r,s){var l=r.length;if(!(l<1)){var c=xa(e,a,0,!0),d,m=[];if(sn(r[0].barSize)){var f=!1,h=a/l,g=r.reduce((M,N)=>M+(N.barSize||0),0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&h>0&&(f=!0,h*=.9,g=l*h);var y=(a-g)/2>>0,v={offset:y-c,size:0};d=r.reduce((M,N)=>{var A,O={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:v.offset+v.size+c,size:f?h:(A=N.barSize)!==null&&A!==void 0?A:0}},D=[...M,O];return v=D[D.length-1].position,D},m)}else{var j=xa(t,a,0,!0);a-2*j-(l-1)*c<=0&&(c=0);var b=(a-2*j-(l-1)*c)/l;b>1&&(b>>=0);var S=sn(s)?Math.min(b,s):b;d=r.reduce((M,N,A)=>[...M,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:j+(b+c)*A+(b-S)/2,size:S}}],m)}return d}}var wR=(e,t,a,r,s,l,c)=>{var d=At(c)?t:c,m=jee(a,r,s!==l?s:l,e,d);return s!==l&&m!=null&&(m=m.map(f=>Qf(Qf({},f),{},{position:Qf(Qf({},f.position),{},{offset:f.position.offset-s/2})}))),m},wee=te([vee,Qp,Dk,x1,bee,jR,hee],wR),Nee=(e,t,a,r)=>Pr(e,"xAxis",t,r),See=(e,t,a,r)=>Pr(e,"yAxis",a,r),Aee=(e,t,a,r)=>kr(e,"xAxis",t,r),Cee=(e,t,a,r)=>kr(e,"yAxis",a,r),Mee=te([wee,ym],(e,t)=>{if(!(e==null||t==null)){var a=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(a!=null)return a.position}}),NR=(e,t)=>{var a=tx(t);if(!(!e||a==null||t==null)){var{stackId:r}=t;if(r!=null){var s=e[r];if(s){var{stackedData:l}=s;if(l)return l.find(c=>c.key===a)}}}},Dee=te([gee,ym],NR),Oee=te([Fn,$j,Nee,See,Aee,Cee,Mee,et,Bc,jR,Dee,ym,pee],(e,t,a,r,s,l,c,d,m,f,h,g,y)=>{var{chartData:v,dataStartIndex:j,dataEndIndex:b}=m;if(!(g==null||c==null||t==null||d!=="horizontal"&&d!=="vertical"||a==null||r==null||s==null||l==null||f==null)){var{data:S}=g,M;if(S!=null&&S.length>0?M=S:M=v?.slice(j,b+1),M!=null)return see({layout:d,barSettings:g,pos:c,parentViewBox:t,bandSize:f,xAxis:a,yAxis:r,xAxisTicks:s,yAxisTicks:l,stackedData:h,displayedData:M,offset:e,cells:y,dataStartIndex:j})}});function P3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function up(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?P3(Object(a),!0).forEach(function(r){Eee(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Eee(e,t,a){return(t=kee(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function kee(e){var t=Pee(e,"string");return typeof t=="symbol"?t:t+""}function Pee(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ree=(e,t)=>Hc(e,t),_ee=(e,t)=>xl(e,"radiusAxis",t),px=te([Ree,_ee],(e,t)=>{if(!(e==null||t==null))return up(up({},e),{},{scale:t})}),mw=(e,t,a,r)=>DG(e,"radiusAxis",t,r),Tee=(e,t,a)=>fo(e,a),Lee=(e,t,a)=>xl(e,"angleAxis",a),xx=te([Tee,Lee],(e,t)=>{if(!(e==null||t==null))return up(up({},e),{},{scale:t})}),fw=(e,t,a,r)=>go(e,"angleAxis",a,r),Iee=(e,t,a,r)=>r,hw=te([um,Iee],(e,t)=>{if(e.some(a=>a.type==="radialBar"&&t.dataKey===a.dataKey&&t.stackId===a.stackId))return t}),SR=te([et,px,mw,xx,fw],(e,t,a,r,s)=>Tr(e,"radiusAxis")?$a(t,a,!1):$a(r,s,!1)),zee=te([xx,px,et],(e,t,a)=>{var r=a==="radial"?e:t;if(!(r==null||r.scale==null))return sE({numericAxis:r})}),$ee=(e,t,a,r,s)=>s,Bee=(e,t,a,r,s)=>a,Fee=(e,t,a,r,s)=>t,AR=(e,t,a,r,s)=>r.maxBarSize,CR=e=>e.type==="radialBar",Uee=te([et,um,Bee,Fee],(e,t,a,r)=>t.filter(s=>e==="centric"?s.angleAxisId===a:s.radiusAxisId===r).filter(s=>s.hide===!1).filter(CR)),qee=()=>{},Hee=te([Uee,Ok,qee],bR),Vee=te([et,Qp,xx,fw,px,mw,AR],(e,t,a,r,s,l,c)=>{var d,m,f=At(c)?t:c;if(e==="centric"){var h,g;return(h=(g=$a(a,r,!0))!==null&&g!==void 0?g:f)!==null&&h!==void 0?h:0}return(d=(m=$a(s,l,!0))!==null&&m!==void 0?m:f)!==null&&d!==void 0?d:0}),Kee=te([Hee,Qp,Dk,x1,Vee,SR,AR],wR),Wee=te([Kee,hw],(e,t)=>{if(!(e==null||t==null)){var a=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(a!=null)return a.position}}),MR=te([mm],e=>e.filter(CR).filter(tm)),Yee=te([MR,$c,In],w1),R3=te([Yee,MR,qc,g1],E1),Gee=(e,t,a)=>{var r=et(e);return r==="centric"?R3(e,"radiusAxis",t):R3(e,"angleAxis",a)},Zee=te([Gee,hw],NR),Xee=te([xx,fw,px,mw,Si,hw,SR,et,zee,ho,$ee,Wee,Zee],(e,t,a,r,s,l,c,d,m,f,h,g,y)=>{var{chartData:v,dataStartIndex:j,dataEndIndex:b}=s;if(l==null||a==null||e==null||v==null||c==null||g==null||d!=="centric"&&d!=="radial"||r==null)return[];var{dataKey:S,minPointSize:M}=l,{cx:N,cy:A,startAngle:O,endAngle:D}=f,k=v.slice(j,b+1),_=d==="centric"?a:e,E=y?_.scale.domain():null;return hte({angleAxis:e,angleAxisTicks:t,bandSize:c,baseValue:m,cells:h,cx:N,cy:A,dataKey:S,dataStartIndex:j,displayedData:k,endAngle:D,layout:d,minPointSize:M,pos:g,radiusAxis:a,radiusAxisTicks:r,stackedData:y,stackedDomain:E,startAngle:O})}),Qee=te([$c,(e,t)=>t],(e,t)=>{var{chartData:a,dataStartIndex:r,dataEndIndex:s}=e;if(a==null)return[];var l=a.slice(r,s+1);return l.length===0?[]:l.map(c=>({type:t,value:c.name,color:c.fill,payload:c}))}),Jee=["shape","activeShape","cornerRadius","id"],ete=["onMouseEnter","onClick","onMouseLeave"],tte=["value","background"];function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},_c.apply(null,arguments)}function _3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function pa(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?_3(Object(a),!0).forEach(function(r){nte(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function nte(e,t,a){return(t=ate(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ate(e){var t=rte(e,"string");return typeof t=="symbol"?t:t+""}function rte(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hb(e,t){if(e==null)return{};var a,r,s=ste(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function ste(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var mp=[];function ite(e){var{showLabels:t,sectors:a,children:r}=e,s=a.map(l=>({value:l.value,payload:l.payload,parentViewBox:void 0,clockWise:!1,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill}));return x.createElement(ZP,{value:t?s:void 0},r)}function lte(e){var{sectors:t,allOtherRadialBarProps:a,showLabels:r}=e,{shape:s,activeShape:l,cornerRadius:c,id:d}=a,m=Hb(a,Jee),f=Bt(m),h=Oe(ws),{onMouseEnter:g,onClick:y,onMouseLeave:v}=a,j=Hb(a,ete),b=hm(g,a.dataKey),S=pm(v),M=xm(y,a.dataKey);return t==null?null:x.createElement(ite,{showLabels:r,sectors:t},t.map((N,A)=>{var O=l&&h===String(A),D=b(N,A),k=S(N,A),_=M(N,A),E=pa(pa(pa(pa({},f),{},{cornerRadius:xR(c)},N),Ss(j,N,A)),{},{onMouseEnter:D,onMouseLeave:k,onClick:_,className:"recharts-radial-bar-sector ".concat(N.className),forceCornerRadius:m.forceCornerRadius,cornerIsExternal:m.cornerIsExternal,isActive:O,option:O?l:s});return O?x.createElement(un,{zIndex:Lt.activeBar,key:"sector-".concat(N.cx,"-").concat(N.cy,"-").concat(N.innerRadius,"-").concat(N.outerRadius,"-").concat(N.startAngle,"-").concat(N.endAngle,"-").concat(A)},x.createElement(Ub,E)):x.createElement(Ub,_c({key:"sector-".concat(N.cx,"-").concat(N.cy,"-").concat(N.innerRadius,"-").concat(N.outerRadius,"-").concat(N.startAngle,"-").concat(N.endAngle,"-").concat(A)},E))}),x.createElement(xo,{label:a.label}),a.children)}function ote(e){var{props:t,previousSectorsRef:a}=e,{data:r,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d,onAnimationEnd:m,onAnimationStart:f}=t,h=wi(t,"recharts-radialbar-"),g=a.current,[y,v]=x.useState(!1),j=x.useCallback(()=>{typeof m=="function"&&m(),v(!1)},[m]),b=x.useCallback(()=>{typeof f=="function"&&f(),v(!0)},[f]);return x.createElement(ji,{animationId:h,begin:l,duration:c,isActive:s,easing:d,onAnimationStart:b,onAnimationEnd:j,key:h},S=>{var M=S===1?r:(r??mp).map((N,A)=>{var O=g&&g[A];if(O)return pa(pa({},N),{},{startAngle:ct(O.startAngle,N.startAngle,S),endAngle:ct(O.endAngle,N.endAngle,S)});var{endAngle:D,startAngle:k}=N;return pa(pa({},N),{},{endAngle:ct(k,D,S)})});return S>0&&(a.current=M??null),x.createElement(ft,null,x.createElement(lte,{sectors:M??mp,allOtherRadialBarProps:t,showLabels:!y}))})}function cte(e){var t=x.useRef(null);return x.createElement(ote,{props:e,previousSectorsRef:t})}function dte(e){var t=Oe(a=>Qee(a,e.legendType));return x.createElement(lw,{legendPayload:t??[]})}var ute=x.memo(e=>{var{dataKey:t,data:a,stroke:r,strokeWidth:s,name:l,hide:c,fill:d,tooltipType:m}=e,f={dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:d,nameKey:void 0,dataKey:t,name:lr(l,t),hide:c,type:m,color:d,unit:""}};return x.createElement(yo,{tooltipEntrySettings:f})});class mte extends x.PureComponent{renderBackground(t){if(t==null)return null;var{cornerRadius:a}=this.props,r=Xr(this.props.background);return x.createElement(un,{zIndex:yR(this.props.background,Lt.barBackground)},t.map((s,l)=>{var{value:c,background:d}=s,m=Hb(s,tte);if(!d)return null;var f=pa(pa(pa(pa(pa({cornerRadius:xR(a)},m),{},{fill:"#eee"},d),r),Ss(this.props,s,l)),{},{index:l,className:at("recharts-radial-bar-background-sector",String(r?.className)),option:d,isActive:!1});return x.createElement(Ub,_c({key:"background-".concat(m.cx,"-").concat(m.cy,"-").concat(m.innerRadius,"-").concat(m.outerRadius,"-").concat(m.startAngle,"-").concat(m.endAngle,"-").concat(l)},f))}))}render(){var{hide:t,data:a,className:r,background:s}=this.props;if(t)return null;var l=at("recharts-area",r);return x.createElement(un,{zIndex:this.props.zIndex},x.createElement(ft,{className:l},s&&x.createElement(ft,{className:"recharts-radial-bar-background"},this.renderBackground(a)),x.createElement(ft,{className:"recharts-radial-bar-sectors"},x.createElement(cte,this.props))))}}function fte(e){var t,a=fm(e.children,An),r={data:void 0,hide:!1,id:e.id,dataKey:e.dataKey,minPointSize:e.minPointSize,stackId:Ip(e.stackId),maxBarSize:e.maxBarSize,barSize:e.barSize,type:"radialBar",angleAxisId:e.angleAxisId,radiusAxisId:e.radiusAxisId},s=(t=Oe(l=>Xee(l,e.radiusAxisId,e.angleAxisId,r,a)))!==null&&t!==void 0?t:mp;return x.createElement(x.Fragment,null,x.createElement(ute,{dataKey:e.dataKey,data:s,stroke:e.stroke,strokeWidth:e.strokeWidth,name:e.name,hide:e.hide,fill:e.fill,tooltipType:e.tooltipType}),x.createElement(mte,_c({},e,{data:s})))}var Jf={angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",background:!1,cornerIsExternal:!1,cornerRadius:0,data:[],forceCornerRadius:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:0,radiusAxisId:0,zIndex:Lt.bar};function hte(e){var{displayedData:t,stackedData:a,dataStartIndex:r,stackedDomain:s,dataKey:l,baseValue:c,layout:d,radiusAxis:m,radiusAxisTicks:f,bandSize:h,pos:g,angleAxis:y,minPointSize:v,cx:j,cy:b,angleAxisTicks:S,cells:M,startAngle:N,endAngle:A}=e;return S==null||f==null?mp:(t??[]).map((O,D)=>{var k,_,E,P,z,L;if(a?k=rE(a[r+D],s):(k=bt(O,l),Array.isArray(k)||(k=[c,k])),d==="radial"){_=Rh({axis:m,ticks:f,bandSize:h,offset:g.offset,entry:O,index:D}),z=y.scale(k[1]),P=y.scale(k[0]),E=(_??0)+g.size;var I=z-P;if(Math.abs(v)>0&&Math.abs(I)<Math.abs(v)){var J=_n(I||v)*(Math.abs(v)-Math.abs(I));z+=J}L={background:{cx:j,cy:b,innerRadius:_,outerRadius:E,startAngle:N,endAngle:A}}}else{_=m.scale(k[0]),E=m.scale(k[1]),P=Rh({axis:y,ticks:S,bandSize:h,offset:g.offset,entry:O,index:D}),z=(P??0)+g.size;var T=E-_;if(Math.abs(v)>0&&Math.abs(T)<Math.abs(v)){var Y=_n(T||v)*(Math.abs(v)-Math.abs(T));E+=Y}}return pa(pa(pa({},O),L),{},{payload:O,value:a?k:k[1],cx:j,cy:b,innerRadius:_,outerRadius:E,startAngle:P,endAngle:z},M&&M[D]&&M[D].props)})}function DR(e){var t=Rt(e,Jf);return x.createElement(vo,{id:t.id,type:"radialBar"},a=>{var r,s,l;return x.createElement(x.Fragment,null,x.createElement(ow,{type:"radialBar",id:a,data:void 0,dataKey:t.dataKey,hide:(r=t.hide)!==null&&r!==void 0?r:Jf.hide,angleAxisId:(s=t.angleAxisId)!==null&&s!==void 0?s:Jf.angleAxisId,radiusAxisId:(l=t.radiusAxisId)!==null&&l!==void 0?l:Jf.radiusAxisId,stackId:Ip(t.stackId),barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize}),x.createElement(dte,t),x.createElement(fte,_c({},t,{id:a})))})}DR.displayName="RadialBar";var OR=e=>{var{chartData:t}=e,a=Ft(),r=vn();return x.useEffect(()=>r?()=>{}:(a(j4(t)),()=>{a(j4(void 0))}),[t,a,r]),null},T3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},ER=Fa({name:"brush",initialState:T3,reducers:{setBrushSettings(e,t){return t.payload==null?T3:t.payload}}}),{setBrushSettings:Zce}=ER.actions,pte=ER.reducer;function xte(e,t,a){return(t=gte(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function gte(e){var t=yte(e,"string");return typeof t=="symbol"?t:t+""}function yte(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class pw{static create(t){return new pw(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:a,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(t)+l}default:return this.scale(t)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var a=this.range(),r=a[0],s=a[a.length-1];return r<=s?t>=r&&t<=s:t>=s&&t<=r}}xte(pw,"EPS",1e-4);function vte(e){return(e%180+180)%180}var bte=function(t){var{width:a,height:r}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=vte(s),c=l*Math.PI/180,d=Math.atan(r/a),m=c>d&&c<Math.PI-d?r/Math.sin(c):a/Math.cos(c);return Math.abs(m)},jte={dots:[],areas:[],lines:[]},kR=Fa({name:"referenceElements",initialState:jte,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var a=Wr(e).dots.findIndex(r=>r===t.payload);a!==-1&&e.dots.splice(a,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var a=Wr(e).areas.findIndex(r=>r===t.payload);a!==-1&&e.areas.splice(a,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var a=Wr(e).lines.findIndex(r=>r===t.payload);a!==-1&&e.lines.splice(a,1)}}}),{addDot:Xce,removeDot:Qce,addArea:Jce,removeArea:ede,addLine:tde,removeLine:nde}=kR.actions,wte=kR.reducer,Nte=x.createContext(void 0),Ste=e=>{var{children:t}=e,[a]=x.useState("".concat(yu("recharts"),"-clip")),r=fx();if(r==null)return null;var{x:s,y:l,width:c,height:d}=r;return x.createElement(Nte.Provider,{value:a},x.createElement("defs",null,x.createElement("clipPath",{id:a},x.createElement("rect",{x:s,y:l,height:d,width:c}))),t)};function PR(e,t){if(t<1)return[];if(t===1)return e;for(var a=[],r=0;r<e.length;r+=t)a.push(e[r]);return a}function Ate(e,t,a){var r={width:e.width+t.width,height:e.height+t.height};return bte(r,a)}function Cte(e,t,a){var r=a==="width",{x:s,y:l,width:c,height:d}=e;return t===1?{start:r?s:l,end:r?s+c:l+d}:{start:r?s+c:l+d,end:r?s:l}}function fp(e,t,a,r,s){if(e*t<e*r||e*t>e*s)return!1;var l=a();return e*(t-e*l/2-r)>=0&&e*(t+e*l/2-s)<=0}function Mte(e,t){return PR(e,t+1)}function Dte(e,t,a,r,s){for(var l=(r||[]).slice(),{start:c,end:d}=t,m=0,f=1,h=c,g=function(){var j=r?.[m];if(j===void 0)return{v:PR(r,f)};var b=m,S,M=()=>(S===void 0&&(S=a(j,b)),S),N=j.coordinate,A=m===0||fp(e,N,M,h,d);A||(m=0,h=c,f+=1),A&&(h=N+e*(M()/2+s),m+=f)},y;f<=l.length;)if(y=g(),y)return y.v;return[]}function L3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function fa(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?L3(Object(a),!0).forEach(function(r){Ote(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Ote(e,t,a){return(t=Ete(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ete(e){var t=kte(e,"string");return typeof t=="symbol"?t:t+""}function kte(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pte(e,t,a,r,s){for(var l=(r||[]).slice(),c=l.length,{start:d}=t,{end:m}=t,f=function(y){var v=l[y],j,b=()=>(j===void 0&&(j=a(v,y)),j);if(y===c-1){var S=e*(v.coordinate+e*b()/2-m);l[y]=v=fa(fa({},v),{},{tickCoord:S>0?v.coordinate-S*e:v.coordinate})}else l[y]=v=fa(fa({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var M=fp(e,v.tickCoord,b,d,m);M&&(m=v.tickCoord-e*(b()/2+s),l[y]=fa(fa({},v),{},{isShow:!0}))}},h=c-1;h>=0;h--)f(h);return l}function Rte(e,t,a,r,s,l){var c=(r||[]).slice(),d=c.length,{start:m,end:f}=t;if(l){var h=r[d-1],g=a(h,d-1),y=e*(h.coordinate+e*g/2-f);if(c[d-1]=h=fa(fa({},h),{},{tickCoord:y>0?h.coordinate-y*e:h.coordinate}),h.tickCoord!=null){var v=fp(e,h.tickCoord,()=>g,m,f);v&&(f=h.tickCoord-e*(g/2+s),c[d-1]=fa(fa({},h),{},{isShow:!0}))}}for(var j=l?d-1:d,b=function(N){var A=c[N],O,D=()=>(O===void 0&&(O=a(A,N)),O);if(N===0){var k=e*(A.coordinate-e*D()/2-m);c[N]=A=fa(fa({},A),{},{tickCoord:k<0?A.coordinate-k*e:A.coordinate})}else c[N]=A=fa(fa({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var _=fp(e,A.tickCoord,D,m,f);_&&(m=A.tickCoord+e*(D()/2+s),c[N]=fa(fa({},A),{},{isShow:!0}))}},S=0;S<j;S++)b(S);return c}function xw(e,t,a){var{tick:r,ticks:s,viewBox:l,minTickGap:c,orientation:d,interval:m,tickFormatter:f,unit:h,angle:g}=e;if(!s||!s.length||!r)return[];if(Pe(m)||Ic.isSsr){var y;return(y=Mte(s,Pe(m)?m:0))!==null&&y!==void 0?y:[]}var v=[],j=d==="top"||d==="bottom"?"width":"height",b=h&&j==="width"?du(h,{fontSize:t,letterSpacing:a}):{width:0,height:0},S=(A,O)=>{var D=typeof f=="function"?f(A.value,O):A.value;return j==="width"?Ate(du(D,{fontSize:t,letterSpacing:a}),b,g):du(D,{fontSize:t,letterSpacing:a})[j]},M=s.length>=2?_n(s[1].coordinate-s[0].coordinate):1,N=Cte(l,M,j);return m==="equidistantPreserveStart"?Dte(M,N,S,s,c):(m==="preserveStart"||m==="preserveStartEnd"?v=Rte(M,N,S,s,c,m==="preserveStartEnd"):v=Pte(M,N,S,s,c),v.filter(A=>A.isShow))}var _te=e=>{var{ticks:t,label:a,labelGapWithTick:r=5,tickSize:s=0,tickMargin:l=0}=e,c=0;if(t){Array.from(t).forEach(h=>{if(h){var g=h.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=a?a.getBoundingClientRect().width:0,m=s+l,f=c+m+d+(a?r:0);return Math.round(f)}return 0},Tte=["axisLine","width","height","className","hide","ticks","axisType"];function Lte(e,t){if(e==null)return{};var a,r,s=Ite(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Ite(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ro.apply(null,arguments)}function I3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Rn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?I3(Object(a),!0).forEach(function(r){zte(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function zte(e,t,a){return(t=$te(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $te(e){var t=Bte(e,"string");return typeof t=="symbol"?t:t+""}function Bte(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ri={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Lt.axis};function Fte(e){var{x:t,y:a,width:r,height:s,orientation:l,mirror:c,axisLine:d,otherSvgProps:m}=e;if(!d)return null;var f=Rn(Rn(Rn({},m),Bt(d)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Rn(Rn({},f),{},{x1:t,y1:a+h*s,x2:t+r,y2:a+h*s})}else{var g=+(l==="left"&&!c||l==="right"&&c);f=Rn(Rn({},f),{},{x1:t+g*r,y1:a,x2:t+g*r,y2:a+s})}return x.createElement("line",ro({},f,{className:at("recharts-cartesian-axis-line",Jl(d,"className"))}))}function Ute(e,t,a,r,s,l,c,d,m){var f,h,g,y,v,j,b=d?-1:1,S=e.tickSize||c,M=Pe(e.tickCoord)?e.tickCoord:e.coordinate;switch(l){case"top":f=h=e.coordinate,y=a+ +!d*s,g=y-b*S,j=g-b*m,v=M;break;case"left":g=y=e.coordinate,h=t+ +!d*r,f=h-b*S,v=f-b*m,j=M;break;case"right":g=y=e.coordinate,h=t+ +d*r,f=h+b*S,v=f+b*m,j=M;break;default:f=h=e.coordinate,y=a+ +d*s,g=y+b*S,j=g+b*m,v=M;break}return{line:{x1:f,y1:g,x2:h,y2:y},tick:{x:v,y:j}}}function qte(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Hte(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Vte(e){var{option:t,tickProps:a,value:r}=e,s,l=at(a.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))s=x.cloneElement(t,Rn(Rn({},a),{},{className:l}));else if(typeof t=="function")s=t(Rn(Rn({},a),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=at(c,t?.className)),s=x.createElement(Qc,ro({},a,{className:c}),r)}return s}var Kte=x.forwardRef((e,t)=>{var{ticks:a=[],tick:r,tickLine:s,stroke:l,tickFormatter:c,unit:d,padding:m,tickTextProps:f,orientation:h,mirror:g,x:y,y:v,width:j,height:b,tickSize:S,tickMargin:M,fontSize:N,letterSpacing:A,getTicksConfig:O,events:D,axisType:k}=e,_=xw(Rn(Rn({},O),{},{ticks:a}),N,A),E=qte(h,g),P=Hte(h,g),z=Bt(O),L=Xr(r),I={};typeof s=="object"&&(I=s);var J=Rn(Rn({},z),{},{fill:"none"},I),T=_.map(B=>Rn({entry:B},Ute(B,y,v,j,b,h,S,g,M))),Y=T.map(B=>{var{entry:U,line:F}=B;return x.createElement(ft,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},s&&x.createElement("line",ro({},J,F,{className:at("recharts-cartesian-axis-tick-line",Jl(s,"className"))})))}),V=T.map((B,U)=>{var{entry:F,tick:W}=B,ne=Rn(Rn(Rn(Rn({textAnchor:E,verticalAnchor:P},z),{},{stroke:"none",fill:l},L),W),{},{index:U,payload:F,visibleTicksCount:_.length,tickFormatter:c,padding:m},f);return x.createElement(ft,ro({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},Ss(D,F,U)),r&&x.createElement(Vte,{option:r,tickProps:ne,value:"".concat(typeof c=="function"?c(F.value,U):F.value).concat(d||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},V.length>0&&x.createElement(un,{zIndex:Lt.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:t},V)),Y.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},Y))}),Wte=x.forwardRef((e,t)=>{var{axisLine:a,width:r,height:s,className:l,hide:c,ticks:d,axisType:m}=e,f=Lte(e,Tte),[h,g]=x.useState(""),[y,v]=x.useState(""),j=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return _te({ticks:j.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=x.useCallback(S=>{if(S){var M=S.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=M;var N=M[0];if(N){var A=window.getComputedStyle(N),O=A.fontSize,D=A.letterSpacing;(O!==h||D!==y)&&(g(O),v(D))}}},[h,y]);return c||r!=null&&r<=0||s!=null&&s<=0?null:x.createElement(un,{zIndex:e.zIndex},x.createElement(ft,{className:at("recharts-cartesian-axis",l)},x.createElement(Fte,{x:e.x,y:e.y,width:r,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:a,otherSvgProps:Bt(e)}),x.createElement(Kte,{ref:b,axisType:m,events:f,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(ZY,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(rG,{label:e.label,labelRef:e.labelRef}),e.children)))}),gw=x.forwardRef((e,t)=>{var a=Rt(e,ri);return x.createElement(Wte,ro({},a,{ref:t}))});gw.displayName="CartesianAxis";var Yte=["x1","y1","x2","y2","key"],Gte=["offset"],Zte=["xAxisId","yAxisId"],Xte=["xAxisId","yAxisId"];function z3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ha(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?z3(Object(a),!0).forEach(function(r){Qte(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Qte(e,t,a){return(t=Jte(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Jte(e){var t=ene(e,"string");return typeof t=="symbol"?t:t+""}function ene(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Hl.apply(null,arguments)}function hp(e,t){if(e==null)return{};var a,r,s=tne(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function tne(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var nne=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:a,x:r,y:s,width:l,height:c,ry:d}=e;return x.createElement("rect",{x:r,y:s,ry:d,width:l,height:c,stroke:"none",fill:t,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function RR(e){var{option:t,lineItemProps:a}=e,r;if(x.isValidElement(t))r=x.cloneElement(t,a);else if(typeof t=="function")r=t(a);else{var s,{x1:l,y1:c,x2:d,y2:m,key:f}=a,h=hp(a,Yte),g=(s=Bt(h))!==null&&s!==void 0?s:{},{offset:y}=g,v=hp(g,Gte);r=x.createElement("line",Hl({},v,{x1:l,y1:c,x2:d,y2:m,fill:"none",key:f}))}return r}function ane(e){var{x:t,width:a,horizontal:r=!0,horizontalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=hp(e,Zte),m=s.map((f,h)=>{var g=ha(ha({},d),{},{x1:t,y1:f,x2:t+a,y2:f,key:"line-".concat(h),index:h});return x.createElement(RR,{key:"line-".concat(h),option:r,lineItemProps:g})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function rne(e){var{y:t,height:a,vertical:r=!0,verticalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=hp(e,Xte),m=s.map((f,h)=>{var g=ha(ha({},d),{},{x1:f,y1:t,x2:f,y2:t+a,key:"line-".concat(h),index:h});return x.createElement(RR,{option:r,lineItemProps:g,key:"line-".concat(h)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function sne(e){var{horizontalFill:t,fillOpacity:a,x:r,y:s,width:l,height:c,horizontalPoints:d,horizontal:m=!0}=e;if(!m||!t||!t.length||d==null)return null;var f=d.map(g=>Math.round(g+s-s)).sort((g,y)=>g-y);s!==f[0]&&f.unshift(0);var h=f.map((g,y)=>{var v=!f[y+1],j=v?s+c-g:f[y+1]-g;if(j<=0)return null;var b=y%t.length;return x.createElement("rect",{key:"react-".concat(y),y:g,x:r,height:j,width:l,stroke:"none",fill:t[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function ine(e){var{vertical:t=!0,verticalFill:a,fillOpacity:r,x:s,y:l,width:c,height:d,verticalPoints:m}=e;if(!t||!a||!a.length)return null;var f=m.map(g=>Math.round(g+s-s)).sort((g,y)=>g-y);s!==f[0]&&f.unshift(0);var h=f.map((g,y)=>{var v=!f[y+1],j=v?s+c-g:f[y+1]-g;if(j<=0)return null;var b=y%a.length;return x.createElement("rect",{key:"react-".concat(y),x:g,y:l,width:j,height:d,stroke:"none",fill:a[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var lne=(e,t)=>{var{xAxis:a,width:r,height:s,offset:l}=e;return nE(xw(ha(ha(ha({},ri),a),{},{ticks:aE(a),viewBox:{x:0,y:0,width:r,height:s}})),l.left,l.left+l.width,t)},one=(e,t)=>{var{yAxis:a,width:r,height:s,offset:l}=e;return nE(xw(ha(ha(ha({},ri),a),{},{ticks:aE(a),viewBox:{x:0,y:0,width:r,height:s}})),l.top,l.top+l.height,t)},cne={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Lt.grid};function Xt(e){var t=Fj(),a=Uj(),r=uE(),s=ha(ha({},Rt(e,cne)),{},{x:Pe(e.x)?e.x:r.left,y:Pe(e.y)?e.y:r.top,width:Pe(e.width)?e.width:r.width,height:Pe(e.height)?e.height:r.height}),{xAxisId:l,yAxisId:c,x:d,y:m,width:f,height:h,syncWithTicks:g,horizontalValues:y,verticalValues:v}=s,j=vn(),b=Oe(P=>c4(P,"xAxis",l,j)),S=Oe(P=>c4(P,"yAxis",c,j));if(!bs(f)||!bs(h)||!Pe(d)||!Pe(m))return null;var M=s.verticalCoordinatesGenerator||lne,N=s.horizontalCoordinatesGenerator||one,{horizontalPoints:A,verticalPoints:O}=s;if((!A||!A.length)&&typeof N=="function"){var D=y&&y.length,k=N({yAxis:S?ha(ha({},S),{},{ticks:D?y:S.ticks}):void 0,width:t??f,height:a??h,offset:r},D?!0:g);_h(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(A=k)}if((!O||!O.length)&&typeof M=="function"){var _=v&&v.length,E=M({xAxis:b?ha(ha({},b),{},{ticks:_?v:b.ticks}):void 0,width:t??f,height:a??h,offset:r},_?!0:g);_h(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(O=E)}return x.createElement(un,{zIndex:s.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(nne,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),x.createElement(sne,Hl({},s,{horizontalPoints:A})),x.createElement(ine,Hl({},s,{verticalPoints:O})),x.createElement(ane,Hl({},s,{offset:r,horizontalPoints:A,xAxis:b,yAxis:S})),x.createElement(rne,Hl({},s,{offset:r,verticalPoints:O,xAxis:b,yAxis:S}))))}Xt.displayName="CartesianGrid";var _R=(e,t,a,r)=>Pr(e,"xAxis",t,r),TR=(e,t,a,r)=>kr(e,"xAxis",t,r),LR=(e,t,a,r)=>Pr(e,"yAxis",a,r),IR=(e,t,a,r)=>kr(e,"yAxis",a,r),dne=te([et,_R,LR,TR,IR],(e,t,a,r,s)=>Tr(e,"xAxis")?$a(t,r,!1):$a(a,s,!1)),une=(e,t,a,r,s)=>s;function mne(e){return e.type==="line"}var fne=te([Wc,une],(e,t)=>e.filter(mne).find(a=>a.id===t)),hne=te([et,_R,LR,TR,IR,fne,dne,Bc],(e,t,a,r,s,l,c,d)=>{var{chartData:m,dataStartIndex:f,dataEndIndex:h}=d;if(!(l==null||t==null||a==null||r==null||s==null||r.length===0||s.length===0||c==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:g,data:y}=l,v;if(y!=null&&y.length>0?v=y:v=m?.slice(f,h+1),v!=null)return _ne({layout:e,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:s,dataKey:g,bandSize:c,displayedData:v})}});function zR(e){var t=Xr(e),a=3,r=2;if(t!=null){var{r:s,strokeWidth:l}=t,c=Number(s),d=Number(l);return(Number.isNaN(c)||c<0)&&(c=a),(Number.isNaN(d)||d<0)&&(d=r),{r:c,strokeWidth:d}}return{r:a,strokeWidth:r}}var pne=["id"],xne=["type","layout","connectNulls","needClip","shape"],gne=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Lu.apply(null,arguments)}function $3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ss(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?$3(Object(a),!0).forEach(function(r){yne(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function yne(e,t,a){return(t=vne(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function vne(e){var t=bne(e,"string");return typeof t=="symbol"?t:t+""}function bne(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yw(e,t){if(e==null)return{};var a,r,s=jne(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function jne(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var wne=e=>{var{dataKey:t,name:a,stroke:r,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:r,value:lr(a,t),payload:e}]},Nne=x.memo(e=>{var{dataKey:t,data:a,stroke:r,strokeWidth:s,fill:l,name:c,hide:d,unit:m,tooltipType:f}=e,h={dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:l,dataKey:t,nameKey:void 0,name:lr(c,t),hide:d,type:f,color:r,unit:m}};return x.createElement(yo,{tooltipEntrySettings:h})}),$R=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Sne(e,t){for(var a=e.length%2!==0?[...e,0]:e,r=[],s=0;s<t;++s)r=[...r,...a];return r}var Ane=(e,t,a)=>{var r=a.reduce((g,y)=>g+y);if(!r)return $R(t,e);for(var s=Math.floor(e/r),l=e%r,c=t-e,d=[],m=0,f=0;m<a.length;f+=a[m],++m)if(f+a[m]>l){d=[...a.slice(0,m),l-f];break}var h=d.length%2===0?[0,c]:[c];return[...Sne(a,s),...d,...h].map(g=>"".concat(g,"px")).join(", ")};function Cne(e){var{clipPathId:t,points:a,props:r}=e,{dot:s,dataKey:l,needClip:c}=r,{id:d}=r,m=yw(r,pne),f=Bt(m);return x.createElement(cw,{points:a,dot:s,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:l,baseProps:f,needClip:c,clipPathId:t})}function Mne(e){var{showLabels:t,children:a,points:r}=e,s=x.useMemo(()=>r?.map(l=>{var c,d,m={x:(c=l.x)!==null&&c!==void 0?c:0,y:(d=l.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ss(ss({},m),{},{value:l.value,payload:l.payload,viewBox:m,parentViewBox:void 0,fill:void 0})}),[r]);return x.createElement(dm,{value:t?s:void 0},a)}function B3(e){var{clipPathId:t,pathRef:a,points:r,strokeDasharray:s,props:l}=e,{type:c,layout:d,connectNulls:m,needClip:f,shape:h}=l,g=yw(l,xne),y=ss(ss({},Sn(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:r,type:c,layout:d,connectNulls:m,strokeDasharray:s??l.strokeDasharray});return x.createElement(x.Fragment,null,r?.length>1&&x.createElement(Rc,Lu({shapeType:"curve",option:h},y,{pathRef:a})),x.createElement(Cne,{points:r,clipPathId:t,props:l}))}function Dne(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function One(e){var{clipPathId:t,props:a,pathRef:r,previousPointsRef:s,longestAnimatedLengthRef:l}=e,{points:c,strokeDasharray:d,isAnimationActive:m,animationBegin:f,animationDuration:h,animationEasing:g,animateNewValues:y,width:v,height:j,onAnimationEnd:b,onAnimationStart:S}=a,M=s.current,N=wi(c,"recharts-line-"),A=x.useRef(N),[O,D]=x.useState(!1),k=!O,_=x.useCallback(()=>{typeof b=="function"&&b(),D(!1)},[b]),E=x.useCallback(()=>{typeof S=="function"&&S(),D(!0)},[S]),P=Dne(r.current),z=x.useRef(0);A.current!==N&&(z.current=l.current,A.current=N);var L=z.current;return x.createElement(Mne,{points:c,showLabels:k},a.children,x.createElement(ji,{animationId:N,begin:f,duration:h,isActive:m,easing:g,onAnimationEnd:_,onAnimationStart:E,key:N},I=>{var J=ct(L,P+L,I),T=Math.min(J,P),Y;if(m)if(d){var V="".concat(d).split(/[,\s]+/gim).map(F=>parseFloat(F));Y=Ane(T,P,V)}else Y=$R(P,T);else Y=d==null?void 0:String(d);if(I>0&&P>0&&(s.current=c,l.current=Math.max(l.current,T)),M){var B=M.length/c.length,U=I===1?c:c.map((F,W)=>{var ne=Math.floor(W*B);if(M[ne]){var je=M[ne];return ss(ss({},F),{},{x:ct(je.x,F.x,I),y:ct(je.y,F.y,I)})}return y?ss(ss({},F),{},{x:ct(v*2,F.x,I),y:ct(j/2,F.y,I)}):ss(ss({},F),{},{x:F.x,y:F.y})});return s.current=U,x.createElement(B3,{props:a,points:U,clipPathId:t,pathRef:r,strokeDasharray:Y})}return x.createElement(B3,{props:a,points:c,clipPathId:t,pathRef:r,strokeDasharray:Y})}),x.createElement(xo,{label:a.label}))}function Ene(e){var{clipPathId:t,props:a}=e,r=x.useRef(null),s=x.useRef(0),l=x.useRef(null);return x.createElement(One,{props:a,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:s,pathRef:l})}var kne=(e,t)=>{var a,r;return{x:(a=e.x)!==null&&a!==void 0?a:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:bt(e.payload,t)}};class Pne extends x.Component{render(){var{hide:t,dot:a,points:r,className:s,xAxisId:l,yAxisId:c,top:d,left:m,width:f,height:h,id:g,needClip:y,zIndex:v}=this.props;if(t)return null;var j=at("recharts-line",s),b=g,{r:S,strokeWidth:M}=zR(a),N=iw(a),A=S*2+M,O=y?"url(#clipPath-".concat(N?"":"dots-").concat(b,")"):void 0;return x.createElement(un,{zIndex:v},x.createElement(ft,{className:j},y&&x.createElement("defs",null,x.createElement(hx,{clipPathId:b,xAxisId:l,yAxisId:c}),!N&&x.createElement("clipPath",{id:"clipPath-dots-".concat(b)},x.createElement("rect",{x:m-A/2,y:d-A/2,width:f+A,height:h+A}))),x.createElement(uw,{xAxisId:l,yAxisId:c,data:r,dataPointFormatter:kne,errorBarOffset:0},x.createElement(Ene,{props:this.props,clipPathId:b}))),x.createElement(lp,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:O}))}}var BR={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Lt.line,type:"linear"};function Rne(e){var t=Rt(e,BR),{activeDot:a,animateNewValues:r,animationBegin:s,animationDuration:l,animationEasing:c,connectNulls:d,dot:m,hide:f,isAnimationActive:h,label:g,legendType:y,xAxisId:v,yAxisId:j,id:b}=t,S=yw(t,gne),{needClip:M}=gm(v,j),N=fx(),A=co(),O=vn(),D=Oe(z=>hne(z,v,j,O,b));if(A!=="horizontal"&&A!=="vertical"||D==null||N==null)return null;var{height:k,width:_,x:E,y:P}=N;return x.createElement(Pne,Lu({},S,{id:b,connectNulls:d,dot:m,activeDot:a,animateNewValues:r,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:h,hide:f,label:g,legendType:y,xAxisId:v,yAxisId:j,points:D,layout:A,height:k,width:_,left:E,top:P,needClip:M}))}function _ne(e){var{layout:t,xAxis:a,yAxis:r,xAxisTicks:s,yAxisTicks:l,dataKey:c,bandSize:d,displayedData:m}=e;return m.map((f,h)=>{var g=bt(f,c);if(t==="horizontal"){var y=Mc({axis:a,ticks:s,bandSize:d,entry:f,index:h}),v=At(g)?null:r.scale(g);return{x:y,y:v,value:g,payload:f}}var j=At(g)?null:a.scale(g),b=Mc({axis:r,ticks:l,bandSize:d,entry:f,index:h});return j==null||b==null?null:{x:j,y:b,value:g,payload:f}}).filter(Boolean)}function Tne(e){var t=Rt(e,BR),a=vn();return x.createElement(vo,{id:t.id,type:"line"},r=>x.createElement(x.Fragment,null,x.createElement(dx,{legendPayload:wne(t)}),x.createElement(Nne,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(ux,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:a}),x.createElement(Rne,Lu({},t,{id:r}))))}var Tc=x.memo(Tne,Jc);Tc.displayName="Line";var FR=(e,t,a,r)=>Pr(e,"xAxis",t,r),UR=(e,t,a,r)=>kr(e,"xAxis",t,r),qR=(e,t,a,r)=>Pr(e,"yAxis",a,r),HR=(e,t,a,r)=>kr(e,"yAxis",a,r),Lne=te([et,FR,qR,UR,HR],(e,t,a,r,s)=>Tr(e,"xAxis")?$a(t,r,!1):$a(a,s,!1)),Ine=(e,t,a,r,s)=>s,VR=te([Wc,Ine],(e,t)=>e.filter(a=>a.type==="area").find(a=>a.id===t)),zne=(e,t,a,r,s)=>{var l,c=VR(e,t,a,r,s);if(c!=null){var d=et(e),m=Tr(d,"xAxis"),f;if(m?f=ku(e,"yAxis",a,r):f=ku(e,"xAxis",t,r),f!=null){var{stackId:h}=c,g=tx(c);if(!(h==null||g==null)){var y=(l=f[h])===null||l===void 0?void 0:l.stackedData;return y?.find(v=>v.key===g)}}}},$ne=te([et,FR,qR,UR,HR,zne,Bc,Lne,VR,aV],(e,t,a,r,s,l,c,d,m,f)=>{var{chartData:h,dataStartIndex:g,dataEndIndex:y}=c;if(!(m==null||e!=="horizontal"&&e!=="vertical"||t==null||a==null||r==null||s==null||r.length===0||s.length===0||d==null)){var{data:v}=m,j;if(v&&v.length>0?j=v:j=h?.slice(g,y+1),j!=null)return rae({layout:e,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:s,dataStartIndex:g,areaSettings:m,stackedData:l,displayedData:j,chartBaseValue:f,bandSize:d})}}),Bne=["id"],Fne=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Xl.apply(null,arguments)}function KR(e,t){if(e==null)return{};var a,r,s=Une(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Une(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function F3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function vc(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?F3(Object(a),!0).forEach(function(r){qne(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function qne(e,t,a){return(t=Hne(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Hne(e){var t=Vne(e,"string");return typeof t=="symbol"?t:t+""}function Vne(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pp(e,t){return e&&e!=="none"?e:t}var Kne=e=>{var{dataKey:t,name:a,stroke:r,fill:s,legendType:l,hide:c}=e;return[{inactive:c,dataKey:t,type:l,color:pp(r,s),value:lr(a,t),payload:e}]},Wne=x.memo(e=>{var{dataKey:t,data:a,stroke:r,strokeWidth:s,fill:l,name:c,hide:d,unit:m,tooltipType:f}=e,h={dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:l,dataKey:t,nameKey:void 0,name:lr(c,t),hide:d,type:f,color:pp(r,l),unit:m}};return x.createElement(yo,{tooltipEntrySettings:h})});function Yne(e){var{clipPathId:t,points:a,props:r}=e,{needClip:s,dot:l,dataKey:c}=r,d=Bt(r);return x.createElement(cw,{points:a,dot:l,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:d,needClip:s,clipPathId:t})}function Gne(e){var{showLabels:t,children:a,points:r}=e,s=r.map(l=>{var c,d,m={x:(c=l.x)!==null&&c!==void 0?c:0,y:(d=l.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return vc(vc({},m),{},{value:l.value,payload:l.payload,parentViewBox:void 0,viewBox:m,fill:void 0})});return x.createElement(dm,{value:t?s:void 0},a)}function U3(e){var{points:t,baseLine:a,needClip:r,clipPathId:s,props:l}=e,{layout:c,type:d,stroke:m,connectNulls:f,isRange:h}=l,{id:g}=l,y=KR(l,Bne),v=Bt(y),j=Sn(y);return x.createElement(x.Fragment,null,t?.length>1&&x.createElement(ft,{clipPath:r?"url(#clipPath-".concat(s,")"):void 0},x.createElement(Yl,Xl({},j,{id:g,points:t,connectNulls:f,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),m!=="none"&&x.createElement(Yl,Xl({},v,{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:t})),m!=="none"&&h&&x.createElement(Yl,Xl({},v,{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:a}))),x.createElement(Yne,{points:t,props:y,clipPathId:s}))}function Zne(e){var{alpha:t,baseLine:a,points:r,strokeWidth:s}=e,l=r[0].y,c=r[r.length-1].y;if(!sn(l)||!sn(c))return null;var d=t*Math.abs(l-c),m=Math.max(...r.map(f=>f.x||0));return Pe(a)?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(...a.map(f=>f.x||0),m)),Pe(m)?x.createElement("rect",{x:0,y:l<c?l:l-d,width:m+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}function Xne(e){var{alpha:t,baseLine:a,points:r,strokeWidth:s}=e,l=r[0].x,c=r[r.length-1].x;if(!sn(l)||!sn(c))return null;var d=t*Math.abs(l-c),m=Math.max(...r.map(f=>f.y||0));return Pe(a)?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(...a.map(f=>f.y||0),m)),Pe(m)?x.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(m+(s?parseInt("".concat(s),10):1))}):null}function Qne(e){var{alpha:t,layout:a,points:r,baseLine:s,strokeWidth:l}=e;return a==="vertical"?x.createElement(Zne,{alpha:t,points:r,baseLine:s,strokeWidth:l}):x.createElement(Xne,{alpha:t,points:r,baseLine:s,strokeWidth:l})}function Jne(e){var{needClip:t,clipPathId:a,props:r,previousPointsRef:s,previousBaselineRef:l}=e,{points:c,baseLine:d,isAnimationActive:m,animationBegin:f,animationDuration:h,animationEasing:g,onAnimationStart:y,onAnimationEnd:v}=r,j=x.useMemo(()=>({points:c,baseLine:d}),[c,d]),b=wi(j,"recharts-area-"),S=NB(),[M,N]=x.useState(!1),A=!M,O=x.useCallback(()=>{typeof v=="function"&&v(),N(!1)},[v]),D=x.useCallback(()=>{typeof y=="function"&&y(),N(!0)},[y]);if(S==null)return null;var k=s.current,_=l.current;return x.createElement(Gne,{showLabels:A,points:c},r.children,x.createElement(ji,{animationId:b,begin:f,duration:h,isActive:m,easing:g,onAnimationEnd:O,onAnimationStart:D,key:b},E=>{if(k){var P=k.length/c.length,z=E===1?c:c.map((I,J)=>{var T=Math.floor(J*P);if(k[T]){var Y=k[T];return vc(vc({},I),{},{x:ct(Y.x,I.x,E),y:ct(Y.y,I.y,E)})}return I}),L;return Pe(d)?L=ct(_,d,E):At(d)||Dr(d)?L=ct(_,0,E):L=d.map((I,J)=>{var T=Math.floor(J*P);if(Array.isArray(_)&&_[T]){var Y=_[T];return vc(vc({},I),{},{x:ct(Y.x,I.x,E),y:ct(Y.y,I.y,E)})}return I}),E>0&&(s.current=z,l.current=L),x.createElement(U3,{points:z,baseLine:L,needClip:t,clipPathId:a,props:r})}return E>0&&(s.current=c,l.current=d),x.createElement(ft,null,m&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(a)},x.createElement(Qne,{alpha:E,points:c,baseLine:d,layout:S,strokeWidth:r.strokeWidth}))),x.createElement(ft,{clipPath:"url(#animationClipPath-".concat(a,")")},x.createElement(U3,{points:c,baseLine:d,needClip:t,clipPathId:a,props:r})))}),x.createElement(xo,{label:r.label}))}function eae(e){var{needClip:t,clipPathId:a,props:r}=e,s=x.useRef(null),l=x.useRef();return x.createElement(Jne,{needClip:t,clipPathId:a,props:r,previousPointsRef:s,previousBaselineRef:l})}class tae extends x.PureComponent{render(){var{hide:t,dot:a,points:r,className:s,top:l,left:c,needClip:d,xAxisId:m,yAxisId:f,width:h,height:g,id:y,baseLine:v,zIndex:j}=this.props;if(t)return null;var b=at("recharts-area",s),S=y,{r:M,strokeWidth:N}=zR(a),A=iw(a),O=M*2+N,D=d?"url(#clipPath-".concat(A?"":"dots-").concat(S,")"):void 0;return x.createElement(un,{zIndex:j},x.createElement(ft,{className:b},d&&x.createElement("defs",null,x.createElement(hx,{clipPathId:S,xAxisId:m,yAxisId:f}),!A&&x.createElement("clipPath",{id:"clipPath-dots-".concat(S)},x.createElement("rect",{x:c-O/2,y:l-O/2,width:h+O,height:g+O}))),x.createElement(eae,{needClip:d,clipPathId:S,props:this.props})),x.createElement(lp,{points:r,mainColor:pp(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}),this.props.isRange&&Array.isArray(v)&&x.createElement(lp,{points:v,mainColor:pp(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}))}}var WR={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Lt.area};function nae(e){var t,a=Rt(e,WR),{activeDot:r,animationBegin:s,animationDuration:l,animationEasing:c,connectNulls:d,dot:m,fill:f,fillOpacity:h,hide:g,isAnimationActive:y,legendType:v,stroke:j,xAxisId:b,yAxisId:S}=a,M=KR(a,Fne),N=co(),A=CP(),{needClip:O}=gm(b,S),D=vn(),{points:k,isRange:_,baseLine:E}=(t=Oe(T=>$ne(T,b,S,D,e.id)))!==null&&t!==void 0?t:{},P=fx();if(N!=="horizontal"&&N!=="vertical"||P==null||A!=="AreaChart"&&A!=="ComposedChart")return null;var{height:z,width:L,x:I,y:J}=P;return!k||!k.length?null:x.createElement(tae,Xl({},M,{activeDot:r,animationBegin:s,animationDuration:l,animationEasing:c,baseLine:E,connectNulls:d,dot:m,fill:f,fillOpacity:h,height:z,hide:g,layout:N,isAnimationActive:y==="auto"?!Ic.isSsr:y,isRange:_,legendType:v,needClip:O,points:k,stroke:j,width:L,left:I,top:J,xAxisId:b,yAxisId:S}))}var aae=(e,t,a,r,s)=>{var l=a??t;if(Pe(l))return l;var c=e==="horizontal"?s:r,d=c.scale.domain();if(c.type==="number"){var m=Math.max(d[0],d[1]),f=Math.min(d[0],d[1]);return l==="dataMin"?f:l==="dataMax"||m<0?m:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]};function rae(e){var{areaSettings:{connectNulls:t,baseValue:a,dataKey:r},stackedData:s,layout:l,chartBaseValue:c,xAxis:d,yAxis:m,displayedData:f,dataStartIndex:h,xAxisTicks:g,yAxisTicks:y,bandSize:v}=e,j=s&&s.length,b=aae(l,c,a,d,m),S=l==="horizontal",M=!1,N=f.map((O,D)=>{var k;j?k=s[h+D]:(k=bt(O,r),Array.isArray(k)?M=!0:k=[b,k]);var _=k[1]==null||j&&!t&&bt(O,r)==null;return S?{x:Mc({axis:d,ticks:g,bandSize:v,entry:O,index:D}),y:_?null:m.scale(k[1]),value:k,payload:O}:{x:_?null:d.scale(k[1]),y:Mc({axis:m,ticks:y,bandSize:v,entry:O,index:D}),value:k,payload:O}}),A;return j||M?A=N.map(O=>{var D=Array.isArray(O.value)?O.value[0]:null;return S?{x:O.x,y:D!=null&&O.y!=null?m.scale(D):null,payload:O.payload}:{x:D!=null?d.scale(D):null,y:O.y,payload:O.payload}}):A=S?m.scale(b):d.scale(b),{points:N,baseLine:A,isRange:M}}function sae(e){var t=Rt(e,WR),a=vn();return x.createElement(vo,{id:t.id,type:"area"},r=>x.createElement(x.Fragment,null,x.createElement(dx,{legendPayload:Kne(t)}),x.createElement(Wne,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(ux,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Ip(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:a,connectNulls:t.connectNulls}),x.createElement(nae,Xl({},t,{id:r}))))}var Ia=x.memo(sae,Jc);Ia.displayName="Area";var iae=["option","isActive"];function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},mu.apply(null,arguments)}function lae(e,t){if(e==null)return{};var a,r,s=oae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function oae(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function cae(e){var{option:t,isActive:a}=e,r=lae(e,iae);return typeof t=="string"?x.createElement(Rc,mu({option:x.createElement(Cp,mu({type:t},r)),isActive:a,shapeType:"symbols"},r)):x.createElement(Rc,mu({option:t,isActive:a,shapeType:"symbols"},r))}var dae=(e,t,a,r,s,l,c)=>Pr(e,"xAxis",t,c),uae=(e,t,a,r,s,l,c)=>kr(e,"xAxis",t,c),mae=(e,t,a,r,s,l,c)=>Pr(e,"yAxis",a,c),fae=(e,t,a,r,s,l,c)=>kr(e,"yAxis",a,c),hae=(e,t,a,r)=>sK(e,"zAxis",r,!1),pae=(e,t,a,r,s)=>s,xae=(e,t,a,r,s,l)=>l,gae=(e,t,a,r,s,l,c)=>Bc(e,t,a,c),yae=te([Wc,pae],(e,t)=>e.filter(a=>a.type==="scatter").find(a=>a.id===t)),vae=te([gae,dae,uae,mae,fae,hae,yae,xae],(e,t,a,r,s,l,c,d)=>{var{chartData:m,dataStartIndex:f,dataEndIndex:h}=e;if(c!=null){var g;if(c?.data!=null&&c.data.length>0?g=c.data:g=m?.slice(f,h+1),!(g==null||t==null||r==null||a==null||s==null||a?.length===0||s?.length===0))return Rae({displayedData:g,xAxis:t,yAxis:r,zAxis:l,scatterSettings:c,xAxisTicks:a,yAxisTicks:s,cells:d})}}),bae=["onMouseEnter","onClick","onMouseLeave"],jae=["id"],wae=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function Vb(e,t){if(e==null)return{};var a,r,s=Nae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Nae(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},so.apply(null,arguments)}function q3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function _a(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?q3(Object(a),!0).forEach(function(r){Sae(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Sae(e,t,a){return(t=Aae(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Aae(e){var t=Cae(e,"string");return typeof t=="symbol"?t:t+""}function Cae(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mae=e=>{var{dataKey:t,name:a,fill:r,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:r,value:lr(a,t),payload:e}]},Dae=x.memo(e=>{var{dataKey:t,points:a,stroke:r,strokeWidth:s,fill:l,name:c,hide:d,tooltipType:m}=e,f={dataDefinedOnItem:a?.map(h=>h.tooltipPayload),positions:a?.map(h=>h.tooltipPosition),settings:{stroke:r,strokeWidth:s,fill:l,nameKey:void 0,dataKey:t,name:lr(c,t),hide:d,type:m,color:l,unit:""}};return x.createElement(yo,{tooltipEntrySettings:f})});function Oae(e){var{points:t,props:a}=e,{line:r,lineType:s,lineJointType:l}=a;if(!r)return null;var c=Bt(a),d=Xr(r),m,f;if(s==="joint")m=t.map(S=>{var M,N;return{x:(M=S.cx)!==null&&M!==void 0?M:null,y:(N=S.cy)!==null&&N!==void 0?N:null}});else if(s==="fitting"){var{xmin:h,xmax:g,a:y,b:v}=hI(t),j=S=>y*S+v;m=[{x:h,y:j(h)},{x:g,y:j(g)}]}var b=_a(_a(_a({},c),{},{fill:"none",stroke:c&&c.fill},d),{},{points:m});return x.isValidElement(r)?f=x.cloneElement(r,b):typeof r=="function"?f=r(b):f=x.createElement(Yl,so({},b,{type:l})),x.createElement(ft,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}function Eae(e){var{showLabels:t,points:a,children:r}=e,s=Yu(),l=x.useMemo(()=>a?.map(c=>{var d,m,f={x:(d=c.x)!==null&&d!==void 0?d:0,y:(m=c.y)!==null&&m!==void 0?m:0,width:c.width,height:c.height,lowerWidth:c.width,upperWidth:c.width};return _a(_a({},f),{},{value:void 0,payload:c.payload,viewBox:f,parentViewBox:s,fill:void 0})}),[s,a]);return x.createElement(dm,{value:t?l:void 0},r)}function kae(e){var{points:t,allOtherScatterProps:a}=e,{shape:r,activeShape:s,dataKey:l}=a,c=Oe(ws),{onMouseEnter:d,onClick:m,onMouseLeave:f}=a,h=Vb(a,bae),g=hm(d,a.dataKey),y=pm(f),v=xm(m,a.dataKey);if(!MI(t))return null;var{id:j}=a,b=Vb(a,jae),S=Bt(b);return x.createElement(x.Fragment,null,x.createElement(Oae,{points:t,props:b}),t.map((M,N)=>{var A=s!=null&&s!==!1,O=A&&c===String(N),D=A&&O?s:r,k=_a(_a(_a({},S),M),{},{[Ij]:N,[zj]:String(l)});return x.createElement(un,{key:"symbol-".concat(M?.cx,"-").concat(M?.cy,"-").concat(M?.size,"-").concat(N),zIndex:O?Lt.activeDot:void 0},x.createElement(ft,so({className:"recharts-scatter-symbol"},Ss(h,M,N),{onMouseEnter:g(M,N),onMouseLeave:y(M,N),onClick:v(M,N)}),x.createElement(cae,so({option:D,isActive:O},k))))}))}function Pae(e){var{previousPointsRef:t,props:a}=e,{points:r,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d}=a,m=t.current,f=wi(a,"recharts-scatter-"),[h,g]=x.useState(!1),y=x.useCallback(()=>{g(!1)},[]),v=x.useCallback(()=>{g(!0)},[]),j=!h;return x.createElement(Eae,{showLabels:j,points:r},a.children,x.createElement(ji,{animationId:f,begin:l,duration:c,isActive:s,easing:d,onAnimationEnd:y,onAnimationStart:v,key:f},b=>{var S=b===1?r:r?.map((M,N)=>{var A=m&&m[N];return A?_a(_a({},M),{},{cx:M.cx==null?void 0:ct(A.cx,M.cx,b),cy:M.cy==null?void 0:ct(A.cy,M.cy,b),size:ct(A.size,M.size,b)}):_a(_a({},M),{},{size:ct(0,M.size,b)})});return b>0&&(t.current=S),x.createElement(ft,null,x.createElement(kae,{points:S,allOtherScatterProps:a,showLabels:j}))}),x.createElement(xo,{label:a.label}))}function Rae(e){var{displayedData:t,xAxis:a,yAxis:r,zAxis:s,scatterSettings:l,xAxisTicks:c,yAxisTicks:d,cells:m}=e,f=At(a.dataKey)?l.dataKey:a.dataKey,h=At(r.dataKey)?l.dataKey:r.dataKey,g=s&&s.dataKey,y=s?s.range:Qs.range,v=y&&y[0],j=a.scale.bandwidth?a.scale.bandwidth():0,b=r.scale.bandwidth?r.scale.bandwidth():0;return t.map((S,M)=>{var N=bt(S,f),A=bt(S,h),O=!At(g)&&bt(S,g)||"-",D=[{name:At(a.dataKey)?l.name:a.name||String(a.dataKey),unit:a.unit||"",value:N,payload:S,dataKey:f,type:l.tooltipType},{name:At(r.dataKey)?l.name:r.name||String(r.dataKey),unit:r.unit||"",value:A,payload:S,dataKey:h,type:l.tooltipType}];O!=="-"&&D.push({name:s.name||s.dataKey,unit:s.unit||"",value:O,payload:S,dataKey:g,type:l.tooltipType});var k=Mc({axis:a,ticks:c,bandSize:j,entry:S,index:M,dataKey:f}),_=Mc({axis:r,ticks:d,bandSize:b,entry:S,index:M,dataKey:h}),E=O!=="-"?s.scale(O):v,P=Math.sqrt(Math.max(E,0)/Math.PI);return _a(_a({},S),{},{cx:k,cy:_,x:k==null?void 0:k-P,y:_==null?void 0:_-P,width:2*P,height:2*P,size:E,node:{x:N,y:A,z:O},tooltipPayload:D,tooltipPosition:{x:k,y:_},payload:S},m&&m[M]&&m[M].props)})}var _ae=(e,t,a)=>({x:e.cx,y:e.cy,value:Number(a==="x"?e.node.x:e.node.y),errorVal:bt(e,t)});function Tae(e){var{hide:t,points:a,className:r,needClip:s,xAxisId:l,yAxisId:c,id:d}=e,m=x.useRef(null);if(t)return null;var f=at("recharts-scatter",r),h=d;return x.createElement(un,{zIndex:e.zIndex},x.createElement(ft,{className:f,clipPath:s?"url(#clipPath-".concat(h,")"):void 0,id:d},s&&x.createElement("defs",null,x.createElement(hx,{clipPathId:h,xAxisId:l,yAxisId:c})),x.createElement(uw,{xAxisId:l,yAxisId:c,data:a,dataPointFormatter:_ae,errorBarOffset:0},x.createElement(ft,{key:"recharts-scatter-symbols"},x.createElement(Pae,{props:e,previousPointsRef:m})))))}var YR={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:Lt.scatter};function Lae(e){var t=Rt(e,YR),{animationBegin:a,animationDuration:r,animationEasing:s,hide:l,isAnimationActive:c,legendType:d,lineJointType:m,lineType:f,shape:h,xAxisId:g,yAxisId:y,zAxisId:v}=t,j=Vb(t,wae),{needClip:b}=gm(g,y),S=x.useMemo(()=>fm(e.children,An),[e.children]),M=vn(),N=Oe(A=>vae(A,g,y,v,e.id,S,M));return b==null||N==null?null:x.createElement(x.Fragment,null,x.createElement(Dae,{dataKey:e.dataKey,points:N,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),x.createElement(Tae,so({},j,{xAxisId:g,yAxisId:y,zAxisId:v,lineType:f,lineJointType:m,legendType:d,shape:h,hide:l,isAnimationActive:c,animationBegin:a,animationDuration:r,animationEasing:s,points:N,needClip:b})))}function Iae(e){var t=Rt(e,YR),a=vn();return x.createElement(vo,{id:t.id,type:"scatter"},r=>x.createElement(x.Fragment,null,x.createElement(dx,{legendPayload:Mae(t)}),x.createElement(ux,{type:"scatter",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:a}),x.createElement(Lae,so({},t,{id:r}))))}var GR=x.memo(Iae,Jc);GR.displayName="Scatter";var zae=["domain","range"],$ae=["domain","range"];function H3(e,t){if(e==null)return{};var a,r,s=Bae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Bae(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function V3(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function ZR(e,t){if(e===t)return!0;var{domain:a,range:r}=e,s=H3(e,zae),{domain:l,range:c}=t,d=H3(t,$ae);return!V3(a,l)||!V3(r,c)?!1:Jc(s,d)}var Fae=["dangerouslySetInnerHTML","ticks"],Uae=["id"];function Kb(){return Kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Kb.apply(null,arguments)}function K3(e,t){if(e==null)return{};var a,r,s=qae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function qae(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Hae(e){var t=Ft(),a=x.useRef(null);return x.useLayoutEffect(()=>{a.current===null?t(aQ(e)):a.current!==e&&t(rQ({prev:a.current,next:e})),a.current=e},[e,t]),x.useLayoutEffect(()=>()=>{a.current&&(t(sQ(a.current)),a.current=null)},[t]),null}var Vae=e=>{var{xAxisId:t,className:a}=e,r=Oe($j),s=vn(),l="xAxis",c=Oe(S=>Gc(S,l,t,s)),d=Oe(S=>aP(S,l,t,s)),m=Oe(S=>Jk(S,t)),f=Oe(S=>tK(S,t)),h=Oe(S=>Tk(S,t));if(m==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:g,ticks:y}=e,v=K3(e,Fae),{id:j}=h,b=K3(h,Uae);return x.createElement(gw,Kb({},v,b,{scale:c,x:f.x,y:f.y,width:m.width,height:m.height,className:at("recharts-".concat(l," ").concat(l),a),viewBox:r,ticks:d,axisType:l}))},Kae={allowDataOverflow:Gn.allowDataOverflow,allowDecimals:Gn.allowDecimals,allowDuplicatedCategory:Gn.allowDuplicatedCategory,angle:Gn.angle,axisLine:ri.axisLine,height:Gn.height,hide:!1,includeHidden:Gn.includeHidden,interval:Gn.interval,minTickGap:Gn.minTickGap,mirror:Gn.mirror,orientation:Gn.orientation,padding:Gn.padding,reversed:Gn.reversed,scale:Gn.scale,tick:Gn.tick,tickCount:Gn.tickCount,tickLine:ri.tickLine,tickSize:ri.tickSize,type:Gn.type,xAxisId:0},Wae=e=>{var t=Rt(e,Kae);return x.createElement(x.Fragment,null,x.createElement(Hae,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(Vae,t))},Qt=x.memo(Wae,ZR);Qt.displayName="XAxis";var Yae=["dangerouslySetInnerHTML","ticks"],Gae=["id"];function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Wb.apply(null,arguments)}function W3(e,t){if(e==null)return{};var a,r,s=Zae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Zae(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Xae(e){var t=Ft(),a=x.useRef(null);return x.useLayoutEffect(()=>{a.current===null?t(iQ(e)):a.current!==e&&t(lQ({prev:a.current,next:e})),a.current=e},[e,t]),x.useLayoutEffect(()=>()=>{a.current&&(t(oQ(a.current)),a.current=null)},[t]),null}var Qae=e=>{var{yAxisId:t,className:a,width:r,label:s}=e,l=x.useRef(null),c=x.useRef(null),d=Oe($j),m=vn(),f=Ft(),h="yAxis",g=Oe(D=>Gc(D,h,t,m)),y=Oe(D=>eP(D,t)),v=Oe(D=>aK(D,t)),j=Oe(D=>aP(D,h,t,m)),b=Oe(D=>Lk(D,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!y||ew(s)||x.isValidElement(s)||b==null)){var D=l.current;if(D){var k=D.getCalculatedWidth();Math.round(y.width)!==Math.round(k)&&f(mQ({id:t,width:k}))}}},[j,y,f,s,t,r,b]),y==null||v==null||b==null)return null;var{dangerouslySetInnerHTML:S,ticks:M}=e,N=W3(e,Yae),{id:A}=b,O=W3(b,Gae);return x.createElement(gw,Wb({},N,O,{ref:l,labelRef:c,scale:g,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:at("recharts-".concat(h," ").concat(h),a),viewBox:d,ticks:j,axisType:h}))},Jae={allowDataOverflow:Zn.allowDataOverflow,allowDecimals:Zn.allowDecimals,allowDuplicatedCategory:Zn.allowDuplicatedCategory,angle:Zn.angle,axisLine:ri.axisLine,hide:!1,includeHidden:Zn.includeHidden,interval:Zn.interval,minTickGap:Zn.minTickGap,mirror:Zn.mirror,orientation:Zn.orientation,padding:Zn.padding,reversed:Zn.reversed,scale:Zn.scale,tick:Zn.tick,tickCount:Zn.tickCount,tickLine:ri.tickLine,tickSize:ri.tickSize,type:Zn.type,width:Zn.width,yAxisId:0},ere=e=>{var t=Rt(e,Jae);return x.createElement(x.Fragment,null,x.createElement(Xae,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(Qae,t))},Jt=x.memo(ere,ZR);Jt.displayName="YAxis";function tre(e){var t=Ft(),a=x.useRef(null);return x.useLayoutEffect(()=>{a.current===null?t(cQ(e)):a.current!==e&&t(dQ({prev:a.current,next:e})),a.current=e},[e,t]),x.useLayoutEffect(()=>()=>{a.current&&(t(uQ(a.current)),a.current=null)},[t]),null}var nre={zAxisId:0,range:Qs.range,scale:Qs.scale,type:Qs.type};function XR(e){var t=Rt(e,nre);return x.createElement(tre,{domain:t.domain,id:t.zAxisId,dataKey:t.dataKey,name:t.name,unit:t.unit,range:t.range,scale:t.scale,type:t.type,allowDuplicatedCategory:Qs.allowDuplicatedCategory,allowDataOverflow:Qs.allowDataOverflow,reversed:Qs.reversed,includeHidden:Qs.includeHidden})}XR.displayName="ZAxis";var are=(e,t)=>t,vw=te([are,et,ho,qn,bP,Mi,gW,Fn],SW),bw=e=>{var t=e.currentTarget.getBoundingClientRect(),a=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/a),chartY:Math.round((e.clientY-t.top)/r)}},QR=Or("mouseClick"),JR=Ku();JR.startListening({actionCreator:QR,effect:(e,t)=>{var a=e.payload,r=vw(t.getState(),bw(a));r?.activeIndex!=null&&t.dispatch(xK({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Yb=Or("mouseMove"),e6=Ku(),eh=null;e6.startListening({actionCreator:Yb,effect:(e,t)=>{var a=e.payload;eh!==null&&cancelAnimationFrame(eh);var r=bw(a);eh=requestAnimationFrame(()=>{var s=t.getState(),l=q1(s,s.tooltip.settings.shared);if(l==="axis"){var c=vw(s,r);c?.activeIndex!=null?t.dispatch(mP({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(uP())}eh=null})}});var Y3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},t6=Fa({name:"rootProps",initialState:Y3,reducers:{updateOptions:(e,t)=>{var a;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(a=t.payload.barGap)!==null&&a!==void 0?a:Y3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),rre=t6.reducer,{updateOptions:sre}=t6.actions,n6=Fa({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:ire}=n6.actions,lre=n6.reducer,a6=Or("keyDown"),r6=Or("focus"),jw=Ku();jw.startListening({actionCreator:a6,effect:(e,t)=>{var a=t.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=a.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=H1(s,Xc(a),am(a),om(a)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var m=Mi(a);if(l==="Enter"){var f=np(a,"axis","hover",String(s.index));t.dispatch(Tb({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:f}));return}var h=iK(a),g=h==="left-to-right"?1:-1,y=l==="ArrowRight"?1:-1,v=d+y*g;if(!(m==null||v>=m.length||v<0)){var j=np(a,"axis","hover",String(v));t.dispatch(Tb({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:j}))}}}}}});jw.startListening({actionCreator:r6,effect:(e,t)=>{var a=t.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=a.tooltip;if(!s.active&&s.index==null){var l="0",c=np(a,"axis","hover",String(l));t.dispatch(Tb({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:c}))}}}});var wr=Or("externalEvent"),s6=Ku(),Mv=new Map;s6.startListening({actionCreator:wr,effect:(e,t)=>{var{handler:a,reactEvent:r}=e.payload;if(a!=null){r.persist();var s=r.type,l=Mv.get(s);l!==void 0&&cancelAnimationFrame(l);var c=requestAnimationFrame(()=>{try{var d=t.getState(),m={activeCoordinate:nW(d),activeDataKey:G1(d),activeIndex:ws(d),activeLabel:NP(d),activeTooltipIndex:ws(d),isTooltipActive:aW(d)};a(m,r)}finally{Mv.delete(s)}});Mv.set(s,c)}}});var ore=te([Zc],e=>e.tooltipItemPayloads),cre=te([ore,im,(e,t,a)=>t,(e,t,a)=>a],(e,t,a,r)=>{var s=e.find(d=>d.settings.dataKey===r);if(s!=null){var{positions:l}=s;if(l!=null){var c=t(l,a);return c}}}),i6=Or("touchMove"),l6=Ku();l6.startListening({actionCreator:i6,effect:(e,t)=>{var a=e.payload;if(!(a.touches==null||a.touches.length===0)){var r=t.getState(),s=q1(r,r.tooltip.settings.shared);if(s==="axis"){var l=vw(r,bw({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,currentTarget:a.currentTarget}));l?.activeIndex!=null&&t.dispatch(mP({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(s==="item"){var c,d=a.touches[0];if(document.elementFromPoint==null)return;var m=document.elementFromPoint(d.clientX,d.clientY);if(!m||!m.getAttribute)return;var f=m.getAttribute(Ij),h=(c=m.getAttribute(zj))!==null&&c!==void 0?c:void 0,g=cre(t.getState(),f,h);t.dispatch(dP({activeDataKey:h,activeIndex:f,activeCoordinate:g}))}}}});var dre=MO({brush:pte,cartesianAxis:fQ,chartData:tY,errorBars:mJ,graphicalItems:yX,layout:P$,legend:zB,options:ZW,polarAxis:aZ,polarOptions:lre,referenceElements:wte,rootProps:rre,tooltip:gK,zIndex:zW}),ure=function(t){return a$({reducer:dre,preloadedState:t,middleware:a=>{var r;return a({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([JR.middleware,e6.middleware,jw.middleware,s6.middleware,l6.middleware])},enhancers:a=>{var r=a;return typeof a=="function"&&(r=a()),r.concat(UO({type:"raf"}))},devTools:Ic.devToolsEnabled})};function o6(e){var{preloadedState:t,children:a,reduxStoreName:r}=e,s=vn(),l=x.useRef(null);if(s)return a;l.current==null&&(l.current=ure(t));var c=Dj;return x.createElement(TJ,{context:c,store:l.current},a)}function mre(e){var{layout:t,margin:a}=e,r=Ft(),s=vn();return x.useEffect(()=>{s||(r(O$(t)),r(D$(a)))},[r,s,t,a]),null}var c6=x.memo(mre,Jc);function d6(e){var t=Ft();return x.useEffect(()=>{t(sre(e))},[t,e]),null}function G3(e){var{zIndex:t,isPanorama:a}=e,r=a?"recharts-zindex-panorama-":"recharts-zindex-",s=cR("".concat(r).concat(t)),l=Ft();return x.useLayoutEffect(()=>(l(LW({zIndex:t,elementId:s,isPanorama:a})),()=>{l(IW({zIndex:t,isPanorama:a}))}),[l,t,s,a]),x.createElement("g",{tabIndex:-1,id:s})}function Z3(e){var{children:t,isPanorama:a}=e,r=Oe(CW);if(!r||r.length===0)return t;var s=r.filter(c=>c<0),l=r.filter(c=>c>0);return x.createElement(x.Fragment,null,s.map(c=>x.createElement(G3,{key:c,zIndex:c,isPanorama:a})),t,l.map(c=>x.createElement(G3,{key:c,zIndex:c,isPanorama:a})))}var fre=["children"];function hre(e,t){if(e==null)return{};var a,r,s=pre(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function pre(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},xp.apply(null,arguments)}var xre={width:"100%",height:"100%",display:"block"},gre=x.forwardRef((e,t)=>{var a=Fj(),r=Uj(),s=wE();if(!bs(a)||!bs(r))return null;var{children:l,otherAttributes:c,title:d,desc:m}=e,f,h;return c!=null&&(typeof c.tabIndex=="number"?f=c.tabIndex:f=s?0:void 0,typeof c.role=="string"?h=c.role:h=s?"application":void 0),x.createElement(yj,xp({},c,{title:d,desc:m,role:h,tabIndex:f,width:a,height:r,style:xre,ref:t}),l)}),yre=e=>{var{children:t}=e,a=Oe(Fp);if(!a)return null;var{width:r,height:s,y:l,x:c}=a;return x.createElement(yj,{width:r,height:s,x:c,y:l},t)},X3=x.forwardRef((e,t)=>{var{children:a}=e,r=hre(e,fre),s=vn();return s?x.createElement(yre,null,x.createElement(Z3,{isPanorama:!0},a)):x.createElement(gre,xp({ref:t},r),x.createElement(Z3,{isPanorama:!1},a))});function vre(){var e=Ft(),[t,a]=x.useState(null),r=Oe(W$);return x.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),l=s.width/t.offsetWidth;sn(l)&&l!==r&&e(k$(l))}},[t,e,r]),a}function Q3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function bre(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Q3(Object(a),!0).forEach(function(r){jre(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function jre(e,t,a){return(t=wre(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function wre(e){var t=Nre(e,"string");return typeof t=="symbol"?t:t+""}function Nre(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},io.apply(null,arguments)}var Sre=()=>(dY(),null);function gp(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Are=x.forwardRef((e,t)=>{var a,r,s=x.useRef(null),[l,c]=x.useState({containerWidth:gp((a=e.style)===null||a===void 0?void 0:a.width),containerHeight:gp((r=e.style)===null||r===void 0?void 0:r.height)}),d=x.useCallback((f,h)=>{c(g=>{var y=Math.round(f),v=Math.round(h);return g.containerWidth===y&&g.containerHeight===v?g:{containerWidth:y,containerHeight:v}})},[]),m=x.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:g}=f.getBoundingClientRect();d(h,g);var y=j=>{var{width:b,height:S}=j[0].contentRect;d(b,S)},v=new ResizeObserver(y);v.observe(f),s.current=v}},[t,d]);return x.useEffect(()=>()=>{var f=s.current;f?.disconnect()},[d]),x.createElement(x.Fragment,null,x.createElement(Up,{width:l.containerWidth,height:l.containerHeight}),x.createElement("div",io({ref:m},e)))}),Cre=x.forwardRef((e,t)=>{var{width:a,height:r}=e,[s,l]=x.useState({containerWidth:gp(a),containerHeight:gp(r)}),c=x.useCallback((m,f)=>{l(h=>{var g=Math.round(m),y=Math.round(f);return h.containerWidth===g&&h.containerHeight===y?h:{containerWidth:g,containerHeight:y}})},[]),d=x.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null){var{width:f,height:h}=m.getBoundingClientRect();c(f,h)}},[t,c]);return x.createElement(x.Fragment,null,x.createElement(Up,{width:s.containerWidth,height:s.containerHeight}),x.createElement("div",io({ref:d},e)))}),Mre=x.forwardRef((e,t)=>{var{width:a,height:r}=e;return x.createElement(x.Fragment,null,x.createElement(Up,{width:a,height:r}),x.createElement("div",io({ref:t},e)))}),Dre=x.forwardRef((e,t)=>{var{width:a,height:r}=e;return di(a)||di(r)?x.createElement(Cre,io({},e,{ref:t})):x.createElement(Mre,io({},e,{ref:t}))});function Ore(e){return e===!0?Are:Dre}var Ere=x.forwardRef((e,t)=>{var{children:a,className:r,height:s,onClick:l,onContextMenu:c,onDoubleClick:d,onMouseDown:m,onMouseEnter:f,onMouseLeave:h,onMouseMove:g,onMouseUp:y,onTouchEnd:v,onTouchMove:j,onTouchStart:b,style:S,width:M,responsive:N,dispatchTouchEvents:A=!0}=e,O=x.useRef(null),D=Ft(),[k,_]=x.useState(null),[E,P]=x.useState(null),z=vre(),L=Bj(),I=L?.width>0?L.width:M,J=L?.height>0?L.height:s,T=x.useCallback(ae=>{z(ae),typeof t=="function"&&t(ae),_(ae),P(ae),ae!=null&&(O.current=ae)},[z,t,_,P]),Y=x.useCallback(ae=>{D(QR(ae)),D(wr({handler:l,reactEvent:ae}))},[D,l]),V=x.useCallback(ae=>{D(Yb(ae)),D(wr({handler:f,reactEvent:ae}))},[D,f]),B=x.useCallback(ae=>{D(uP()),D(wr({handler:h,reactEvent:ae}))},[D,h]),U=x.useCallback(ae=>{D(Yb(ae)),D(wr({handler:g,reactEvent:ae}))},[D,g]),F=x.useCallback(()=>{D(r6())},[D]),W=x.useCallback(ae=>{D(a6(ae.key))},[D]),ne=x.useCallback(ae=>{D(wr({handler:c,reactEvent:ae}))},[D,c]),je=x.useCallback(ae=>{D(wr({handler:d,reactEvent:ae}))},[D,d]),H=x.useCallback(ae=>{D(wr({handler:m,reactEvent:ae}))},[D,m]),fe=x.useCallback(ae=>{D(wr({handler:y,reactEvent:ae}))},[D,y]),we=x.useCallback(ae=>{D(wr({handler:b,reactEvent:ae}))},[D,b]),se=x.useCallback(ae=>{A&&D(i6(ae)),D(wr({handler:j,reactEvent:ae}))},[D,A,j]),ee=x.useCallback(ae=>{D(wr({handler:v,reactEvent:ae}))},[D,v]),ie=Ore(N);return x.createElement(kP.Provider,{value:k},x.createElement(HD.Provider,{value:E},x.createElement(ie,{width:I??S?.width,height:J??S?.height,className:at("recharts-wrapper",r),style:bre({position:"relative",cursor:"default",width:I,height:J},S),onClick:Y,onContextMenu:ne,onDoubleClick:je,onFocus:F,onKeyDown:W,onMouseDown:H,onMouseEnter:V,onMouseLeave:B,onMouseMove:U,onMouseUp:fe,onTouchEnd:ee,onTouchMove:se,onTouchStart:we,ref:T},x.createElement(Sre,null),a)))}),kre=["width","height","responsive","children","className","style","compact","title","desc"];function Pre(e,t){if(e==null)return{};var a,r,s=Rre(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Rre(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var u6=x.forwardRef((e,t)=>{var{width:a,height:r,responsive:s,children:l,className:c,style:d,compact:m,title:f,desc:h}=e,g=Pre(e,kre),y=Bt(g);return m?x.createElement(x.Fragment,null,x.createElement(Up,{width:a,height:r}),x.createElement(X3,{otherAttributes:y,title:f,desc:h},l)):x.createElement(Ere,{className:c,style:d,width:a,height:r,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(X3,{otherAttributes:y,title:f,desc:h,ref:t},x.createElement(Ste,null,l)))});function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Gb.apply(null,arguments)}var _re={top:5,right:5,bottom:5,left:5},Tre={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:_re,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},gx=x.forwardRef(function(t,a){var r,s=Rt(t.categoricalChartProps,Tre),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:m,categoricalChartProps:f}=t,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:m,eventEmitter:void 0};return x.createElement(o6,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:l},x.createElement(OR,{chartData:f.data}),x.createElement(c6,{layout:s.layout,margin:s.margin}),x.createElement(d6,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),x.createElement(u6,Gb({},s,{ref:a})))}),Lre=["axis"],Iu=x.forwardRef((e,t)=>x.createElement(gx,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Lre,tooltipPayloadSearcher:po,categoricalChartProps:e,ref:t})),Ire=["axis","item"],Cr=x.forwardRef((e,t)=>x.createElement(gx,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ire,tooltipPayloadSearcher:po,categoricalChartProps:e,ref:t}));function zre(e){var t=Ft();return x.useEffect(()=>{t(ire(e))},[t,e]),null}var $re=["layout"];function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Zb.apply(null,arguments)}function Bre(e,t){if(e==null)return{};var a,r,s=Fre(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Fre(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Ure={top:5,right:5,bottom:5,left:5},yx={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ure,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ww=x.forwardRef(function(t,a){var r,s=Rt(t.categoricalChartProps,yx),{layout:l}=s,c=Bre(s,$re),{chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,g={chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return x.createElement(o6,{preloadedState:{options:g},reduxStoreName:(r=s.id)!==null&&r!==void 0?r:d},x.createElement(OR,{chartData:s.data}),x.createElement(c6,{layout:l,margin:s.margin}),x.createElement(d6,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),x.createElement(zre,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),x.createElement(u6,Zb({},c,{ref:a})))});function J3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function eD(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?J3(Object(a),!0).forEach(function(r){qre(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function qre(e,t,a){return(t=Hre(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Hre(e){var t=Vre(e,"string");return typeof t=="symbol"?t:t+""}function Vre(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kre=["item"],Wre=eD(eD({},yx),{},{layout:"centric",startAngle:0,endAngle:360}),rr=x.forwardRef((e,t)=>{var a=Rt(e,Wre);return x.createElement(ww,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Kre,tooltipPayloadSearcher:po,categoricalChartProps:a,ref:t})});function tD(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function nD(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(a),!0).forEach(function(r){Yre(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Yre(e,t,a){return(t=Gre(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Gre(e){var t=Zre(e,"string");return typeof t=="symbol"?t:t+""}function Zre(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xre=["axis"],Qre=nD(nD({},yx),{},{layout:"centric",startAngle:90,endAngle:-270}),Jre=x.forwardRef((e,t)=>{var a=Rt(e,Qre);return x.createElement(ww,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Xre,tooltipPayloadSearcher:po,categoricalChartProps:a,ref:t})}),ese=["item"],tse=x.forwardRef((e,t)=>x.createElement(gx,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ese,tooltipPayloadSearcher:po,categoricalChartProps:e,ref:t})),nse=["axis"],bo=x.forwardRef((e,t)=>x.createElement(gx,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nse,tooltipPayloadSearcher:po,categoricalChartProps:e,ref:t}));function aD(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function rD(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(a),!0).forEach(function(r){ase(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):aD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function ase(e,t,a){return(t=rse(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function rse(e){var t=sse(e,"string");return typeof t=="symbol"?t:t+""}function sse(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ise=["axis","item"],lse=rD(rD({},yx),{},{layout:"radial",startAngle:0,endAngle:360}),ose=x.forwardRef((e,t)=>{var a=Rt(e,lse);return x.createElement(ww,{chartName:"RadialBarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ise,tooltipPayloadSearcher:po,categoricalChartProps:a,ref:t})});const sD=["#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899","#f43f5e","#f97316","#eab308"];function cse(){const{exEmployees:e}=Ae(),[t,a]=x.useState(""),[r,s]=x.useState("all"),[l,c]=x.useState("all"),[d,m]=x.useState(null),[f,h]=x.useState(!1),g=x.useMemo(()=>e.filter(b=>{if(t){const S=t.toLowerCase();if(!b.name?.toLowerCase().includes(S)&&!b.department?.toLowerCase().includes(S)&&!b.designation?.toLowerCase().includes(S))return!1}return!(r!=="all"&&b.department!==r||l!=="all"&&b.faculty!==l)}),[e,t,r,l]),y=x.useMemo(()=>{const b={};e.forEach(E=>{const P=E.exitReason||"Other";b[P]=(b[P]||0)+1});const S=Object.entries(b).map(([E,P])=>({name:E,value:P})),M={};e.forEach(E=>{M[E.department]=(M[E.department]||0)+1});const N=Object.entries(M).map(([E,P])=>({name:E,count:P})).sort((E,P)=>P.count-E.count).slice(0,8),A=e.length?(e.reduce((E,P)=>E+(P.yearsOfService||0),0)/e.length).toFixed(1):0,O=e.filter(E=>E.exitSurvey?.satisfaction),D=O.length?(O.reduce((E,P)=>E+P.exitSurvey.satisfaction,0)/O.length).toFixed(1):0,k=e.filter(E=>E.exitSurvey?.wouldRecommend).length,_=e.length?Math.round(k/e.length*100):0;return{reasonData:S,deptData:N,avgTenure:A,avgSatisfaction:D,recommendPct:_}},[e]),v=()=>{const b=g.map(O=>({Name:O.name,Email:O.email,Department:O.department,Faculty:O.faculty,Designation:O.designation,"Join Date":O.joinDate,"Exit Date":O.exitDate,"Years of Service":O.yearsOfService,"Exit Reason":O.exitReason,Satisfaction:O.exitSurvey?.satisfaction||"N/A","Would Recommend":O.exitSurvey?.wouldRecommend?"Yes":"No"})),S=Ns.unparse(b),M=new Blob([S],{type:"text/csv"}),N=URL.createObjectURL(M),A=document.createElement("a");A.href=N,A.download=`ex-employees-${q(new Date,"yyyy-MM-dd")}.csv`,A.click()},j=Object.values(ms).flat();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ex-Employees"}),n.jsx("p",{className:"text-gray-600",children:"Former employees and exit analytics"})]}),n.jsxs(X,{variant:"outline",onClick:v,className:"gap-2",children:[n.jsx(Wt,{className:"w-5 h-5"}),"Export CSV"]})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Total Ex-Employees",value:e.length,icon:us,color:"indigo"},{label:"Avg. Tenure",value:`${y.avgTenure} yrs`,icon:Xe,color:"purple"},{label:"Avg. Satisfaction",value:`${y.avgSatisfaction}/5`,icon:za,color:"blue"},{label:"Would Recommend",value:`${y.recommendPct}%`,icon:si,color:"green"}].map(b=>n.jsx(K,{className:`bg-${b.color}-50 border-${b.color}-100`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm text-${b.color}-600`,children:b.label}),n.jsx("p",{className:`text-2xl font-bold text-${b.color}-700`,children:b.value})]}),n.jsx(b.icon,{className:`w-8 h-8 text-${b.color}-400`})]})},b.label))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Exit Reasons",subtitle:"Distribution of departure reasons",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(rr,{children:[n.jsx(Ba,{data:y.reasonData,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:b,percent:S})=>`${b} (${(S*100).toFixed(0)}%)`,children:y.reasonData.map((b,S)=>n.jsx(An,{fill:sD[S%sD.length]},S))}),n.jsx(ut,{})]})})})}),n.jsx(K,{title:"Department Distribution",subtitle:"Ex-employees by department",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Cr,{data:y.deptData,layout:"vertical",children:[n.jsx(Xt,{strokeDasharray:"3 3"}),n.jsx(Qt,{type:"number"}),n.jsx(Jt,{type:"category",dataKey:"name",width:60}),n.jsx(ut,{}),n.jsx(Qn,{dataKey:"count",fill:"#6366f1",radius:[0,4,4,0]})]})})})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsx(Cn,{type:"text",placeholder:"Search ex-employees...",value:t,onChange:b=>a(b.target.value),className:"flex-1",inputClassName:"pr-4 py-2 text-sm"}),n.jsxs("select",{value:l,onChange:b=>c(b.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Faculties"}),Object.keys(ms).map(b=>n.jsx("option",{value:b,children:b},b))]}),n.jsxs("select",{value:r,onChange:b=>s(b.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Departments"}),j.map(b=>n.jsx("option",{value:b,children:b},b))]})]}),n.jsx(K,{title:`Ex-Employees Directory (${g.length})`,children:g.length===0?n.jsx(Fu,{icon:us,title:"No Ex-Employees Found",description:"No former employees match your search criteria"}):n.jsx("div",{className:"space-y-4",children:g.map(b=>n.jsx("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{m(b),h(!0)},children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-indigo-400 to-purple-400 flex items-center justify-center text-white font-bold",children:b.name?.charAt(0)}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:b.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:[b.designation,"  ",b.department]}),n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-400 mt-1",children:[n.jsx(ED,{className:"w-4 h-4"}),b.email]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:[n.jsx(Xe,{className:"w-4 h-4 inline mr-1"}),b.yearsOfService," years"]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Left:"," ",b.exitDate?q(ue(b.exitDate),"MMM yyyy"):"N/A"]}),n.jsx(ge,{variant:"default",children:b.exitReason}),b.exitSurvey&&n.jsx(ii,{className:"w-5 h-5 text-green-500",title:"Survey completed"})]})]})},b.id))})}),n.jsx(vt,{isOpen:f,onClose:()=>h(!1),title:"Ex-Employee Details",size:"lg",children:d&&n.jsxs("div",{className:"space-y-6",children:[d.publications&&d.publications.length>0&&n.jsxs("div",{className:"border rounded-xl p-4",children:[n.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(si,{className:"w-5 h-5 text-blue-500"}),"Publications"]}),n.jsx("ul",{className:"divide-y",children:d.publications.map((b,S)=>n.jsxs("li",{className:"py-2",children:[n.jsx("div",{className:"font-semibold",children:b.type==="book"?b.bookTitle:(b.type==="research"||b.type==="conference",b.title)}),n.jsxs("div",{className:"text-sm text-gray-600",children:[b.type==="book"&&b.author,b.type==="research"&&b.journalAddress,b.type==="conference"&&b.conferenceAddress]}),b.type==="book"&&b.website&&n.jsx("a",{href:b.website,className:"text-blue-600 text-xs",target:"_blank",rel:"noopener noreferrer",children:b.website}),b.type==="research"&&b.doi&&n.jsx("a",{href:b.doi,className:"text-blue-600 text-xs",target:"_blank",rel:"noopener noreferrer",children:b.doi}),b.type==="conference"&&b.webLink&&n.jsx("a",{href:b.webLink,className:"text-blue-600 text-xs",target:"_blank",rel:"noopener noreferrer",children:b.webLink})]},S))})]}),n.jsxs("div",{className:"flex items-center gap-4 p-4 bg-linear-to-r from-indigo-50 to-purple-50 rounded-xl",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-linear-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-2xl font-bold",children:d.name?.charAt(0)}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:d.name}),n.jsx("p",{className:"text-gray-500",children:d.designation}),n.jsx("p",{className:"text-sm text-gray-400",children:d.email})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Department"}),n.jsx("p",{className:"font-medium",children:d.department})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Faculty"}),n.jsx("p",{className:"font-medium",children:d.faculty})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Join Date"}),n.jsx("p",{className:"font-medium",children:d.joinDate?q(ue(d.joinDate),"MMM d, yyyy"):"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Exit Date"}),n.jsx("p",{className:"font-medium",children:d.exitDate?q(ue(d.exitDate),"MMM d, yyyy"):"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Years of Service"}),n.jsxs("p",{className:"font-medium",children:[d.yearsOfService," years"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Exit Reason"}),n.jsx("p",{className:"font-medium",children:d.exitReason})]})]}),d.exitSurvey&&n.jsxs("div",{className:"border rounded-xl p-4",children:[n.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(ii,{className:"w-5 h-5 text-green-500"}),"Exit Survey Responses"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Satisfaction",value:d.exitSurvey.satisfaction},{label:"Management",value:d.exitSurvey.management},{label:"Environment",value:d.exitSurvey.workEnvironment},{label:"Growth",value:d.exitSurvey.growth}].map(b=>n.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:b.label}),n.jsx("div",{className:"flex justify-center gap-1",children:[1,2,3,4,5].map(S=>n.jsx("span",{className:`w-5 h-5 rounded text-xs flex items-center justify-center ${S<=(b.value||0)?"bg-yellow-400 text-white":"bg-gray-200 text-gray-400"}`,children:""},S))})]},b.label))}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Would Recommend"}),n.jsx("p",{className:"font-medium",children:d.exitSurvey.wouldRecommend?" Yes":" No"})]}),n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Would Return"}),n.jsx("p",{className:"font-medium",children:d.exitSurvey.wouldReturn?" Yes":" No"})]})]}),d.exitSurvey.feedback&&n.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-blue-800 font-medium mb-1",children:"Feedback"}),n.jsx("p",{className:"text-sm text-blue-700",children:d.exitSurvey.feedback})]})]})]})]})})]})}const mc=["#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899","#f43f5e","#f97316","#eab308","#22c55e","#14b8a6"];function dse(){const{employees:e,exEmployees:t,resignations:a,promotions:r}=Ae(),s=Ae(M=>M.getPerformanceAnalytics),[l,c]=x.useState("12"),d=x.useMemo(()=>{const M=e.filter(D=>D.status==="Active").length,N=e.filter(D=>D.status==="On Leave").length,A=e.length,O=t.length;return{active:M,onLeave:N,total:A,totalExEmployees:O}},[e,t]),m=x.useMemo(()=>{const M=parseInt(l),N=[];for(let A=M-1;A>=0;A--){const O=lo(new Date,A),D=Ta(O),k=La(O),_=e.filter(P=>{if(!P.joinDate)return!1;const z=ue(P.joinDate);return ps(z,{start:D,end:k})}).length,E=t.filter(P=>{if(!P.exitDate)return!1;const z=ue(P.exitDate);return ps(z,{start:D,end:k})}).length;N.push({month:q(O,"MMM yyyy"),shortMonth:q(O,"MMM"),hired:_,left:E,netChange:_-E})}return N},[e,t,l]),f=x.useMemo(()=>{const M={};return e.forEach(N=>{M[N.department]=(M[N.department]||0)+1}),Object.entries(M).map(([N,A])=>({name:N,value:A})).sort((N,A)=>A.value-N.value)},[e]),h=x.useMemo(()=>{const M={};return e.forEach(N=>{M[N.faculty]=(M[N.faculty]||0)+1}),Object.entries(M).map(([N,A])=>({name:N,value:A})).sort((N,A)=>A.value-N.value)},[e]),g=x.useMemo(()=>{const M={};return t.forEach(N=>{const A=N.exitReason||"Other";M[A]=(M[A]||0)+1}),Object.entries(M).map(([N,A])=>({name:N,value:A})).sort((N,A)=>A.value-N.value)},[t]),y=x.useMemo(()=>{const M={};return e.forEach(N=>{M[N.designation]=(M[N.designation]||0)+1}),Object.entries(M).map(([N,A])=>({name:N,value:A})).sort((N,A)=>A.value-N.value).slice(0,8)},[e]),v=x.useMemo(()=>{const M=e.filter(N=>N.joinDate).map(N=>(new Date-ue(N.joinDate))/315576e5);return M.length===0?0:(M.reduce((N,A)=>N+A,0)/M.length).toFixed(1)},[e]),j=x.useMemo(()=>{const M=r.filter(A=>A.status==="Pending"||A.status==="Under Review").length,N=a.filter(A=>A.status==="Pending"||A.status==="Approved").length;return{pendingPromotions:M,pendingResignations:N}},[r,a]),b=x.useMemo(()=>{const M=m.reduce((O,D)=>O+D.hired,0),N=m.reduce((O,D)=>O+D.left,0),A=M-N;return{totalHired:M,totalLeft:N,netChange:A}},[m]),S=x.useMemo(()=>s(),[s]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Workforce Analytics"}),n.jsx("p",{className:"text-gray-600",children:"Comprehensive overview of employee statistics"})]}),n.jsxs("select",{value:l,onChange:M=>c(M.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"6",children:"Last 6 Months"}),n.jsx("option",{value:"12",children:"Last 12 Months"}),n.jsx("option",{value:"24",children:"Last 24 Months"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(K,{className:"bg-linear-to-br from-indigo-50 to-indigo-100 border-indigo-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-indigo-700",children:"Current Workforce"}),n.jsx("p",{className:"text-3xl font-bold text-indigo-900 mt-1",children:d.total}),n.jsxs("p",{className:"text-xs text-indigo-600 mt-1",children:[d.active," active"]})]}),n.jsx("div",{className:"p-3 bg-indigo-500 rounded-lg",children:n.jsx(en,{className:"w-6 h-6 text-white"})})]})}),n.jsx(K,{className:"bg-linear-to-br from-green-50 to-green-100 border-green-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-green-700",children:"New Hires"}),n.jsx("p",{className:"text-3xl font-bold text-green-900 mt-1",children:b.totalHired}),n.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["in last ",l," months"]})]}),n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(xh,{className:"w-6 h-6 text-white"})})]})}),n.jsx(K,{className:"bg-linear-to-br from-red-50 to-red-100 border-red-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-red-700",children:"Departures"}),n.jsx("p",{className:"text-3xl font-bold text-red-900 mt-1",children:b.totalLeft}),n.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["in last ",l," months"]})]}),n.jsx("div",{className:"p-3 bg-red-500 rounded-lg",children:n.jsx(PD,{className:"w-6 h-6 text-white"})})]})}),n.jsx(K,{className:`bg-linear-to-br ${b.netChange>=0?"from-emerald-50 to-emerald-100 border-emerald-200":"from-orange-50 to-orange-100 border-orange-200"}`,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm font-medium ${b.netChange>=0?"text-emerald-700":"text-orange-700"}`,children:"Net Change"}),n.jsxs("p",{className:`text-3xl font-bold mt-1 ${b.netChange>=0?"text-emerald-900":"text-orange-900"}`,children:[b.netChange>=0?"+":"",b.netChange]}),n.jsx("p",{className:`text-xs mt-1 ${b.netChange>=0?"text-emerald-600":"text-orange-600"}`,children:b.netChange>=0?"Growth":"Decline"})]}),n.jsx("div",{className:`p-3 rounded-lg ${b.netChange>=0?"bg-emerald-500":"bg-orange-500"}`,children:b.netChange>=0?n.jsx(xs,{className:"w-6 h-6 text-white"}):n.jsx(sj,{className:"w-6 h-6 text-white"})})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(K,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:v}),n.jsx("p",{className:"text-sm text-gray-500",children:"Avg. Tenure (Years)"})]})}),n.jsx(K,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:d.totalExEmployees}),n.jsx("p",{className:"text-sm text-gray-500",children:"Total Ex-Employees"})]})}),n.jsx(K,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-amber-600",children:j.pendingPromotions}),n.jsx("p",{className:"text-sm text-gray-500",children:"Pending Promotions"})]})}),n.jsx(K,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-red-600",children:j.pendingResignations}),n.jsx("p",{className:"text-sm text-gray-500",children:"Active Resignations"})]})})]}),n.jsx(K,{title:"Hiring & Attrition Trend",subtitle:"Monthly employee movement",children:n.jsx("div",{className:"h-80",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(bo,{data:m,children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorHired",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#22c55e",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorLeft",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})]}),n.jsx(Xt,{strokeDasharray:"3 3"}),n.jsx(Qt,{dataKey:"shortMonth"}),n.jsx(Jt,{}),n.jsx(ut,{contentStyle:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),n.jsx(er,{}),n.jsx(Ia,{type:"monotone",dataKey:"hired",name:"New Hires",stroke:"#22c55e",fillOpacity:1,fill:"url(#colorHired)"}),n.jsx(Ia,{type:"monotone",dataKey:"left",name:"Departures",stroke:"#ef4444",fillOpacity:1,fill:"url(#colorLeft)"})]})})})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Faculty Distribution",subtitle:"Employees by faculty",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(rr,{children:[n.jsx(Ba,{data:h,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,dataKey:"value",label:({name:M,percent:N})=>`${M} (${(N*100).toFixed(0)}%)`,children:h.map((M,N)=>n.jsx(An,{fill:mc[N%mc.length]},N))}),n.jsx(ut,{})]})})})}),n.jsx(K,{title:"Department Distribution",subtitle:"Top departments by headcount",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Cr,{data:f.slice(0,6),layout:"vertical",children:[n.jsx(Xt,{strokeDasharray:"3 3"}),n.jsx(Qt,{type:"number"}),n.jsx(Jt,{type:"category",dataKey:"name",width:80}),n.jsx(ut,{}),n.jsx(Qn,{dataKey:"value",fill:"#6366f1",radius:[0,4,4,0]})]})})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Designation Distribution",subtitle:"Employees by role",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Cr,{data:y,children:[n.jsx(Xt,{strokeDasharray:"3 3"}),n.jsx(Qt,{dataKey:"name",angle:-45,textAnchor:"end",height:80}),n.jsx(Jt,{}),n.jsx(ut,{}),n.jsx(Qn,{dataKey:"value",fill:"#8b5cf6",radius:[4,4,0,0]})]})})})}),n.jsx(K,{title:"Exit Reasons Analysis",subtitle:"Why employees leave",children:n.jsx("div",{className:"h-64",children:g.length===0?n.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No departure data available"}):n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(rr,{children:[n.jsx(Ba,{data:g,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:M,percent:N})=>`${M} (${(N*100).toFixed(0)}%)`,children:g.map((M,N)=>n.jsx(An,{fill:mc[N%mc.length]},N))}),n.jsx(ut,{})]})})})})]}),n.jsx(K,{title:"Net Workforce Change",subtitle:"Monthly growth/decline",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Cr,{data:m,children:[n.jsx(Xt,{strokeDasharray:"3 3"}),n.jsx(Qt,{dataKey:"shortMonth"}),n.jsx(Jt,{}),n.jsx(ut,{}),n.jsx(Qn,{dataKey:"netChange",name:"Net Change",fill:M=>M.netChange>=0?"#22c55e":"#ef4444",radius:[4,4,0,0],children:m.map((M,N)=>n.jsx(An,{fill:M.netChange>=0?"#22c55e":"#ef4444"},`cell-${N}`))})]})})})}),n.jsxs(K,{title:"Performance Analytics (PAMS)",subtitle:"Average ratings and top performers",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Average Rating by Department"}),S.avgByDepartment.length===0?n.jsx("div",{className:"text-sm text-gray-500",children:"No performance reviews available."}):n.jsx("div",{className:"space-y-3",children:S.avgByDepartment.map(M=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-600",children:M.department}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:`${M.averageRating/5*100}%`}})}),n.jsx("span",{className:"font-medium w-12 text-right",children:M.averageRating})]})]},M.department))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Top Performers"}),S.topPerformers.length===0?n.jsx("div",{className:"text-sm text-gray-500",children:"No performance reviews available."}):n.jsx("div",{className:"space-y-2",children:S.topPerformers.map(M=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:M.name}),n.jsx("p",{className:"text-xs text-gray-500",children:M.department})]}),n.jsx("span",{className:"text-sm font-semibold text-emerald-700",children:M.rating})]},M.employeeId))})]})]}),n.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Overall Average Rating:"," ",n.jsx("span",{className:"font-semibold text-gray-900",children:S.overallAvg})," (",S.count," ","reviews)"]})]}),n.jsx(K,{title:"Department Summary",subtitle:"Headcount by department",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Department"}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Total"}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Active"}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"On Leave"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"% of Total"})]})}),n.jsx("tbody",{children:f.map(M=>{const N=e.filter(k=>k.department===M.name),A=N.filter(k=>k.status==="Active").length,O=N.filter(k=>k.status==="On Leave").length,D=(M.value/d.total*100).toFixed(1);return n.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:mc[f.indexOf(M)%mc.length]}}),n.jsx("span",{className:"font-medium text-gray-900",children:M.name})]})}),n.jsx("td",{className:"py-3 px-4 text-center font-semibold",children:M.value}),n.jsx("td",{className:"py-3 px-4 text-center text-green-600",children:A}),n.jsx("td",{className:"py-3 px-4 text-center text-amber-600",children:O}),n.jsx("td",{className:"py-3 px-4 text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("div",{className:"w-16 h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${D}%`}})}),n.jsxs("span",{className:"text-sm text-gray-600",children:[D,"%"]})]})})]},M.name)})})]})})})]})}function m6(e,t){if(!e||e.length===0)return"";const a=t||Object.keys(e[0]),r=c=>{if(c==null)return"";const d=String(c);return/[",\n]/.test(d)?'"'+d.replace(/"/g,'""')+'"':d},s=a.join(","),l=e.map(c=>a.map(d=>r(c[d])).join(","));return[s,...l].join(`
`)}function f6(e,t){const a=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(a),s=document.createElement("a");s.href=r,s.setAttribute("download",e),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)}function use(){const{employees:e,attendance:t,leaves:a}=Ae(),r=Ae(B=>B.getAccreditationReport),[s,l]=x.useState(new Date),[c,d]=x.useState("all"),[m,f]=x.useState("all"),[h,g]=x.useState("all"),[y,v]=x.useState("all"),[j,b]=x.useState("6months"),S=x.useMemo(()=>c==="all"?Object.values(ms).flat():ms[c]||[],[c]),M=x.useMemo(()=>{const B=new Set(e.map(U=>U.designation).filter(Boolean));return Array.from(B).sort()},[e]),N=["Active","On Leave","Resigned"],A=x.useMemo(()=>e.filter(B=>!(c!=="all"&&B.faculty!==c||m!=="all"&&B.department!==m||h!=="all"&&B.status!==h||y!=="all"&&B.designation!==y)),[e,c,m,h,y]),O=x.useMemo(()=>new Set(A.map(B=>B.id)),[A]),D=B=>{d(B),f("all")},k=()=>{d("all"),f("all"),g("all"),v("all"),b("6months")},_=()=>({"1month":1,"3months":3,"6months":6,"12months":12})[j]||6,E=c!=="all"||m!=="all"||h!=="all"||y!=="all"||j!=="6months",P=x.useMemo(()=>{const B={},U={},F={Active:0,"On Leave":0,Resigned:0};return A.forEach(W=>{B[W.department]=(B[W.department]||0)+1,U[W.faculty]=(U[W.faculty]||0)+1,F[W.status]=(F[W.status]||0)+1}),{byDepartment:B,byFaculty:U,byStatus:F}},[A]),z=x.useMemo(()=>{const B=Ta(s),U=La(s),F=t.filter(we=>{const se=ue(we.date),ee=ps(se,{start:B,end:U}),ie=O.has(we.employeeId);return ee&&ie}),W=F.filter(we=>we.status==="Present").length,ne=F.filter(we=>we.status==="Late").length,je=F.filter(we=>we.status==="Absent").length,H=F.length,fe={};return F.forEach(we=>{fe[we.employeeId]||(fe[we.employeeId]={present:0,late:0,absent:0}),fe[we.employeeId][we.status.toLowerCase()]++}),{present:W,late:ne,absent:je,total:H,byEmployee:fe}},[t,s,O]),L=x.useMemo(()=>{const B={Pending:0,Approved:0,Rejected:0},U={},F=a.filter(W=>O.has(W.employeeId));return F.forEach(W=>{B[W.status]=(B[W.status]||0)+1,U[W.type]=(U[W.type]||0)+1}),{byStatus:B,byType:U,total:F.length}},[a,O]),I=x.useMemo(()=>{const B=_();return Array.from({length:B},(U,F)=>{const W=lo(new Date,F),ne=Ta(W),je=La(W),H=t.filter(ee=>{const ie=ue(ee.date),ae=ps(ie,{start:ne,end:je}),Me=O.has(ee.employeeId);return ae&&Me}),fe=H.filter(ee=>ee.status==="Present").length,we=H.filter(ee=>ee.status==="Late").length,se=H.filter(ee=>ee.status==="Absent").length;return{month:q(W,"MMM yyyy"),present:fe,late:we,absent:se,total:fe+we+se,attendanceRate:H.length>0?Math.round((fe+we)/H.length*100):0}}).reverse()},[t,O,j]),J=B=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(B),T=A.filter(B=>B.status==="Active").reduce((B,U)=>B+(U.salaryBase||0),0),Y=x.useMemo(()=>r(),[r]),V=()=>{const B=[];B.push({metric:"Headcount",value:Y.headcount}),B.push({metric:"Probation Count",value:Y.probationCount}),B.push({metric:"Contract Expiring (30d)",value:Y.contractExpiring30}),B.push({metric:"Gender Male",value:Y.genderDist.male}),B.push({metric:"Gender Female",value:Y.genderDist.female}),B.push({metric:"Gender Other",value:Y.genderDist.other}),Object.entries(Y.byFaculty||{}).forEach(([F,W])=>B.push({metric:`Faculty - ${F}`,value:W})),Object.entries(Y.byDesignation||{}).forEach(([F,W])=>B.push({metric:`Designation - ${F}`,value:W}));const U=m6(B,["metric","value"]);f6(`accreditation_${q(new Date,"yyyyMMdd")}.csv`,U)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),n.jsxs("p",{className:"text-gray-600",children:["View detailed reports and statistics",E&&n.jsxs("span",{className:"ml-2 text-indigo-600 font-medium",children:["(Filtered: ",A.length," of ",e.length," employees)"]})]})]}),n.jsxs(X,{className:"gap-2",children:[n.jsx(xu,{className:"w-5 h-5"}),"Export Report"]})]}),n.jsx(K,{className:"bg-linear-to-r from-indigo-50 to-purple-50 border-indigo-100",children:n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-indigo-700",children:[n.jsx(oo,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:"Filter Reports"})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[n.jsxs("select",{value:c,onChange:B=>D(B.target.value),className:"px-3 py-2 bg-white border border-indigo-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Faculties"}),Object.keys(ms).map(B=>n.jsx("option",{value:B,children:B},B))]}),n.jsxs("select",{value:m,onChange:B=>f(B.target.value),className:"px-3 py-2 bg-white border border-indigo-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Departments"}),S.map(B=>n.jsx("option",{value:B,children:B},B))]}),n.jsxs("select",{value:h,onChange:B=>g(B.target.value),className:"px-3 py-2 bg-white border border-indigo-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Status"}),N.map(B=>n.jsx("option",{value:B,children:B},B))]}),n.jsxs("select",{value:y,onChange:B=>v(B.target.value),className:"px-3 py-2 bg-white border border-indigo-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Designations"}),M.map(B=>n.jsx("option",{value:B,children:B},B))]}),n.jsxs("select",{value:j,onChange:B=>b(B.target.value),className:"px-3 py-2 bg-white border border-indigo-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"1month",children:"Last 1 Month"}),n.jsx("option",{value:"3months",children:"Last 3 Months"}),n.jsx("option",{value:"6months",children:"Last 6 Months"}),n.jsx("option",{value:"12months",children:"Last 12 Months"})]}),E&&n.jsxs(X,{variant:"outline",size:"sm",onClick:k,className:"gap-1 text-red-600 border-red-200 hover:bg-red-50",children:[n.jsx(jp,{className:"w-4 h-4"}),"Clear"]})]})]})}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx(K,{className:"bg-linear-to-br from-blue-50 to-blue-100 border-blue-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Total Employees"}),n.jsx("p",{className:"text-3xl font-bold text-blue-900 mt-1",children:A.length}),n.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:[P.byStatus.Active," active"]})]}),n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(en,{className:"w-6 h-6 text-white"})})]})}),n.jsx(K,{className:"bg-linear-to-br from-green-50 to-green-100 border-green-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-green-800",children:"Avg Attendance"}),n.jsxs("p",{className:"text-3xl font-bold text-green-900 mt-1",children:[z.total>0?Math.round((z.present+z.late)/z.total*100):0,"%"]}),n.jsx("p",{className:"text-xs text-green-700 mt-1",children:q(s,"MMMM yyyy")})]}),n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(Be,{className:"w-6 h-6 text-white"})})]})}),n.jsx(K,{className:"bg-linear-to-br from-amber-50 to-amber-100 border-amber-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Pending Leaves"}),n.jsx("p",{className:"text-3xl font-bold text-amber-900 mt-1",children:L.byStatus.Pending}),n.jsxs("p",{className:"text-xs text-amber-700 mt-1",children:[L.total," total requests"]})]}),n.jsx("div",{className:"p-3 bg-amber-500 rounded-lg",children:n.jsx(Xe,{className:"w-6 h-6 text-white"})})]})}),n.jsx(K,{className:"bg-linear-to-br from-purple-50 to-purple-100 border-purple-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Monthly Payroll"}),n.jsx("p",{className:"text-2xl font-bold text-purple-900 mt-1",children:J(T)}),n.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"Base salary expense"})]}),n.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:n.jsx(nr,{className:"w-6 h-6 text-white"})})]})})]}),n.jsxs(ca,{defaultValue:"attendance",children:[n.jsxs(da,{children:[n.jsx(qe,{value:"attendance",children:"Attendance Report"}),n.jsx(qe,{value:"employees",children:"Employee Report"}),n.jsx(qe,{value:"leaves",children:"Leave Report"}),n.jsx(qe,{value:"payroll",children:"Payroll Report"}),n.jsx(qe,{value:"accreditation",children:"Accreditation & Regulatory"})]}),n.jsx(Nt,{value:"attendance",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[n.jsxs(K,{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Attendance Trend (Last ",_()," ",_()===1?"Month":"Months",")"]}),n.jsx("div",{className:"space-y-4",children:I.map(B=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"text-gray-600",children:B.month}),n.jsxs("span",{className:"font-medium",children:[B.attendanceRate,"%"]})]}),n.jsxs("div",{className:"h-4 bg-gray-100 rounded-full overflow-hidden flex",children:[n.jsx("div",{className:"bg-green-500 h-full",style:{width:`${B.present/(B.total||1)*100}%`}}),n.jsx("div",{className:"bg-yellow-500 h-full",style:{width:`${B.late/(B.total||1)*100}%`}}),n.jsx("div",{className:"bg-red-500 h-full",style:{width:`${B.absent/(B.total||1)*100}%`}})]})]},B.month))}),n.jsxs("div",{className:"flex justify-center gap-4 mt-4 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-3 h-3 rounded bg-green-500"}),n.jsx("span",{children:"Present"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-3 h-3 rounded bg-yellow-500"}),n.jsx("span",{children:"Late"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-3 h-3 rounded bg-red-500"}),n.jsx("span",{children:"Absent"})]})]})]}),n.jsxs(K,{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"This Month Summary"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[n.jsx("p",{className:"text-3xl font-bold text-green-600",children:z.present}),n.jsx("p",{className:"text-sm text-green-700",children:"Present"})]}),n.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-xl",children:[n.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:z.late}),n.jsx("p",{className:"text-sm text-yellow-700",children:"Late"})]}),n.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-xl",children:[n.jsx("p",{className:"text-3xl font-bold text-red-600",children:z.absent}),n.jsx("p",{className:"text-sm text-red-700",children:"Absent"})]})]})]})]})}),n.jsx(Nt,{value:"employees",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[n.jsxs(K,{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Employees by Department"}),n.jsx("div",{className:"space-y-3",children:Object.entries(P.byDepartment).map(([B,U])=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-600",children:B}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${U/e.length*100}%`}})}),n.jsx("span",{className:"font-medium w-8 text-right",children:U})]})]},B))})]}),n.jsxs(K,{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Employees by Faculty"}),n.jsx("div",{className:"space-y-3",children:Object.entries(P.byFaculty).map(([B,U])=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-600",children:B}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:`${U/e.length*100}%`}})}),n.jsx("span",{className:"font-medium w-8 text-right",children:U})]})]},B))})]}),n.jsxs(K,{className:"lg:col-span-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Employee Status Distribution"}),n.jsx("div",{className:"grid sm:grid-cols-3 gap-4",children:Object.entries(P.byStatus).map(([B,U])=>n.jsxs("div",{className:`p-4 rounded-xl ${B==="Active"?"bg-green-50":B==="On Leave"?"bg-yellow-50":"bg-red-50"}`,children:[n.jsx("p",{className:`text-3xl font-bold ${B==="Active"?"text-green-600":B==="On Leave"?"text-yellow-600":"text-red-600"}`,children:U}),n.jsx("p",{className:"text-sm text-gray-600",children:B})]},B))})]})]})}),n.jsx(Nt,{value:"leaves",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[n.jsxs(K,{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Leave Requests by Status"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-xl",children:[n.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:L.byStatus.Pending}),n.jsx("p",{className:"text-sm text-yellow-700",children:"Pending"})]}),n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[n.jsx("p",{className:"text-3xl font-bold text-green-600",children:L.byStatus.Approved}),n.jsx("p",{className:"text-sm text-green-700",children:"Approved"})]}),n.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-xl",children:[n.jsx("p",{className:"text-3xl font-bold text-red-600",children:L.byStatus.Rejected}),n.jsx("p",{className:"text-sm text-red-700",children:"Rejected"})]})]})]}),n.jsxs(K,{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Leave Requests by Type"}),n.jsx("div",{className:"space-y-3",children:Object.entries(L.byType).map(([B,U])=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-600 capitalize",children:B}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${U/L.total*100}%`}})}),n.jsx("span",{className:"font-medium w-8 text-right",children:U})]})]},B))})]})]})}),n.jsx(Nt,{value:"payroll",children:n.jsxs(K,{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Payroll Summary"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Department"}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Employees"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Total Salary"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Avg Salary"})]})}),n.jsxs("tbody",{children:[Object.entries(P.byDepartment).map(([B,U])=>{const W=A.filter(je=>je.department===B).reduce((je,H)=>je+(H.salaryBase||0),0),ne=W/U;return n.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:B}),n.jsx("td",{className:"py-3 px-4 text-center text-gray-600",children:U}),n.jsx("td",{className:"py-3 px-4 text-right text-gray-900",children:J(W)}),n.jsx("td",{className:"py-3 px-4 text-right text-gray-600",children:J(ne)})]},B)}),n.jsxs("tr",{className:"bg-gray-50 font-semibold",children:[n.jsx("td",{className:"py-3 px-4",children:"Total"}),n.jsx("td",{className:"py-3 px-4 text-center",children:A.length}),n.jsx("td",{className:"py-3 px-4 text-right",children:J(T)}),n.jsx("td",{className:"py-3 px-4 text-right",children:J(T/(A.length||1))})]})]})]})})]})}),n.jsxs(Nt,{value:"accreditation",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Accreditation & Regulatory Summary"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Gender, designation, and faculty distribution"})]}),n.jsxs(X,{className:"gap-2",onClick:V,children:[n.jsx(xu,{className:"w-5 h-5"}),"Export CSV"]})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx(K,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Y.headcount}),n.jsx("p",{className:"text-sm text-gray-500",children:"Total Employees"})]})}),n.jsx(K,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-amber-600",children:Y.probationCount}),n.jsx("p",{className:"text-sm text-gray-500",children:"On Probation"})]})}),n.jsx(K,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-red-600",children:Y.contractExpiring30}),n.jsx("p",{className:"text-sm text-gray-500",children:"Contracts Expiring (30d)"})]})}),n.jsx(K,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:Y.genderDist.female}),n.jsx("p",{className:"text-sm text-gray-500",children:"Female Employees"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-4",children:[n.jsxs(K,{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"By Faculty"}),n.jsx("div",{className:"space-y-3",children:Object.entries(Y.byFaculty).map(([B,U])=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-600",children:B}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${U/(Y.headcount||1)*100}%`}})}),n.jsx("span",{className:"font-medium w-8 text-right",children:U})]})]},B))})]}),n.jsxs(K,{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"By Designation"}),n.jsx("div",{className:"space-y-3",children:Object.entries(Y.byDesignation).map(([B,U])=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-600",children:B}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:`${U/(Y.headcount||1)*100}%`}})}),n.jsx("span",{className:"font-medium w-8 text-right",children:U})]})]},B))})]})]})]})]})]})}const mse=[{id:1,title:"Harassment Policy",description:"Comprehensive guidelines on prevention, reporting, and handling of harassment cases in the workplace.",category:"Workplace Conduct",fileSize:"2.4 MB",format:"PDF",lastUpdated:"2024-11-15",status:"Active",downloadUrl:"/PDF's/HARASSMENT-POLICY.pdf"},{id:2,title:"COVID-19 Pandemic Attendance Policy",description:"Special attendance guidelines and protocols during COVID-19 pandemic situations.",category:"Attendance",fileSize:"1.8 MB",format:"PDF",lastUpdated:"2024-10-20",status:"Active",downloadUrl:"/PDF's/COVID-19 Pandemic Attendance Policy.pdf"},{id:3,title:"Faculty Promotion Proforma",description:"Official form and guidelines for faculty promotion applications and evaluation criteria.",category:"Promotion",fileSize:"3.1 MB",format:"PDF",lastUpdated:"2024-12-01",status:"Active",downloadUrl:"/PDF's/Faculty Promotion Proforma_Updated (1).docx.pdf"},{id:4,title:"Private Consultancy Policy",description:"Official notification and guidelines for CECOS University private consultancy services and regulations.",category:"Workplace Conduct",fileSize:"1.2 MB",format:"PDF",lastUpdated:"2024-09-15",status:"Active",downloadUrl:"/PDF's/Notification CECOS University Private Consultancy.pdf"},{id:5,title:"CPD Courses Policy",description:"Continuing Professional Development (CPD) courses policy and enrollment guidelines for faculty and staff.",category:"Benefits",fileSize:"0.9 MB",format:"PDF",lastUpdated:"2024-08-22",status:"Active",downloadUrl:"/PDF's/Notification CPD Courses Policy.pdf"},{id:6,title:"Employees Grievance Committee",description:"Official notification establishing the Employees Grievance Committee and procedures for filing complaints.",category:"Workplace Conduct",fileSize:"0.7 MB",format:"PDF",lastUpdated:"2024-07-10",status:"Active",downloadUrl:"/PDF's/Notification Employees Grievance Committee.pdf"},{id:7,title:"Employees Resignation Policy",description:"Official policy and procedures for employee resignation, notice period, and exit formalities.",category:"Workplace Conduct",fileSize:"1.1 MB",format:"PDF",lastUpdated:"2024-06-18",status:"Active",downloadUrl:"/PDF's/Notification of Employees Resignation Policy.pdf"},{id:8,title:"Official Email Policy",description:"Guidelines and policy for official email usage, communication protocols, and email security.",category:"Workplace Conduct",fileSize:"0.8 MB",format:"PDF",lastUpdated:"2024-05-25",status:"Active",downloadUrl:"/PDF's/Notification of Official Email.pdf"},{id:9,title:"Provident Fund Policy",description:"Official notification regarding employee provident fund contributions, benefits, and withdrawal procedures.",category:"Benefits",fileSize:"1.5 MB",format:"PDF",lastUpdated:"2024-04-12",status:"Active",downloadUrl:"/PDF's/Notification of Provident Fund.pdf"}],fse=["All","Workplace Conduct","Attendance","Promotion","Leave","Salary","Benefits"];function hse(){const[e,t]=x.useState(mse),[a,r]=x.useState(""),[s,l]=x.useState("All"),[c,d]=x.useState(!1),[m,f]=x.useState({title:"",description:"",category:"Workplace Conduct",fileSize:"",format:"PDF",status:"Active",downloadUrl:""}),h=e.filter(b=>{const S=b.title.toLowerCase().includes(a.toLowerCase())||b.description.toLowerCase().includes(a.toLowerCase())||b.category.toLowerCase().includes(a.toLowerCase()),M=s==="All"||b.category===s;return S&&M}),g=b=>{const S=document.createElement("a");S.href=b.downloadUrl,S.download=`${b.title}.pdf`,document.body.appendChild(S),S.click(),document.body.removeChild(S)},y=b=>{const S={Active:"success",Archived:"default","Under Review":"warning"};return n.jsx(ge,{variant:S[b]||"default",children:b})},v=()=>{if(!m.title||!m.description||!m.downloadUrl){alert("Please fill in all required fields");return}const b={id:e.length+1,...m,lastUpdated:new Date().toISOString().split("T")[0]};t([...e,b]),d(!1),f({title:"",description:"",category:"Workplace Conduct",fileSize:"",format:"PDF",status:"Active",downloadUrl:""})},j={All:e.length,"Workplace Conduct":e.filter(b=>b.category==="Workplace Conduct").length,Attendance:e.filter(b=>b.category==="Attendance").length,Promotion:e.filter(b=>b.category==="Promotion").length,Leave:0,Salary:0,Benefits:0};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Policy Advisory"}),n.jsx("p",{className:"text-gray-600",children:"Access and download official university policies and documents"})]}),n.jsxs(X,{onClick:()=>d(!0),className:"gap-2",children:[n.jsx(oi,{className:"w-5 h-5"}),"Add Policy"]})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[n.jsx(K,{className:"bg-linear-to-br from-blue-50 to-blue-100 border-blue-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(ht,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-blue-900",children:e.length}),n.jsx("p",{className:"text-xs text-blue-700",children:"Total Policies"})]})]})}),n.jsx(K,{className:"bg-linear-to-br from-green-50 to-green-100 border-green-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(Le,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-green-900",children:e.filter(b=>b.status==="Active").length}),n.jsx("p",{className:"text-xs text-green-700",children:"Active"})]})]})}),n.jsx(K,{className:"bg-linear-to-br from-amber-50 to-amber-100 border-amber-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-amber-500 rounded-lg",children:n.jsx(Be,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-amber-900",children:e.filter(b=>b.status==="Under Review").length}),n.jsx("p",{className:"text-xs text-amber-700",children:"Under Review"})]})]})}),n.jsx(K,{className:"bg-linear-to-br from-purple-50 to-purple-100 border-purple-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:n.jsx(Wt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-purple-900",children:e.reduce((b,S)=>b+parseFloat(S.fileSize),0).toFixed(1)}),n.jsx("p",{className:"text-xs text-purple-700",children:"MB Total Size"})]})]})})]}),n.jsx(K,{children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Cn,{type:"text",placeholder:"Search policies by title, category, or description...",value:a,onChange:b=>r(b.target.value),className:"w-full",inputClassName:"pl-4 pr-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(oo,{className:"w-5 h-5 text-gray-400"}),n.jsx("select",{value:s,onChange:b=>l(b.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:fse.map(b=>n.jsxs("option",{value:b,children:[b," ",j[b]>0&&`(${j[b]})`]},b))})]})]})}),h.length===0?n.jsx(K,{children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ph,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Policies Found"}),n.jsx("p",{className:"text-gray-500",children:"Try adjusting your search query or filter to find what you're looking for."})]})}):n.jsx("div",{className:"grid lg:grid-cols-2 gap-6",children:h.map(b=>n.jsx(K,{className:"hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[n.jsx("div",{className:"p-3 bg-indigo-50 rounded-lg shrink-0",children:n.jsx(ht,{className:"w-6 h-6 text-indigo-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-1",children:b.title}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-gray-500",children:[n.jsx(ge,{size:"xs",variant:"info",children:b.category}),n.jsx("span",{children:""}),n.jsx("span",{children:b.format}),n.jsx("span",{children:""}),n.jsx("span",{children:b.fileSize})]})]})]}),y(b.status)]}),n.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:b.description}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsx(Be,{className:"w-4 h-4"}),n.jsxs("span",{children:["Updated: ",new Date(b.lastUpdated).toLocaleDateString()]})]}),n.jsxs(X,{size:"sm",onClick:()=>g(b),className:"gap-2",children:[n.jsx(Wt,{className:"w-4 h-4"}),"Download"]})]})]})},b.id))}),n.jsx(K,{className:"bg-linear-to-r from-blue-50 to-indigo-50 border-blue-200",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg shrink-0",children:n.jsx(ph,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Important Notice"}),n.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"All employees are required to review and acknowledge the policies relevant to their role. For questions or clarifications about any policy, please contact the HR department."}),n.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 list-disc list-inside",children:[n.jsx("li",{children:"Policies are regularly updated to reflect current regulations"}),n.jsx("li",{children:"Download and keep a copy for your reference"}),n.jsx("li",{children:"Contact HR if you need assistance understanding any policy"})]})]})]})}),n.jsx(vt,{isOpen:c,onClose:()=>d(!1),title:"Add New Policy Document",size:"lg",actions:n.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[n.jsx(X,{variant:"secondary",onClick:()=>d(!1),className:"flex-1 sm:flex-initial",children:"Cancel"}),n.jsx(X,{onClick:v,className:"flex-1 sm:flex-initial",children:"Add Policy"})]}),children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(tt,{label:"Policy Title",required:!0,children:n.jsx("input",{type:"text",value:m.title,onChange:b=>f({...m,title:b.target.value}),placeholder:"Enter policy title",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),n.jsx(tt,{label:"Description",required:!0,children:n.jsx("textarea",{value:m.description,onChange:b=>f({...m,description:b.target.value}),placeholder:"Enter policy description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(tt,{label:"Category",required:!0,children:n.jsxs("select",{value:m.category,onChange:b=>f({...m,category:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"Workplace Conduct",children:"Workplace Conduct"}),n.jsx("option",{value:"Attendance",children:"Attendance"}),n.jsx("option",{value:"Promotion",children:"Promotion"}),n.jsx("option",{value:"Leave",children:"Leave"}),n.jsx("option",{value:"Salary",children:"Salary"}),n.jsx("option",{value:"Benefits",children:"Benefits"})]})}),n.jsx(tt,{label:"Status",children:n.jsxs("select",{value:m.status,onChange:b=>f({...m,status:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Under Review",children:"Under Review"}),n.jsx("option",{value:"Archived",children:"Archived"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(tt,{label:"File Size (e.g., 2.4 MB)",children:n.jsx("input",{type:"text",value:m.fileSize,onChange:b=>f({...m,fileSize:b.target.value}),placeholder:"e.g., 2.4 MB",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),n.jsx(tt,{label:"Format",children:n.jsxs("select",{value:m.format,onChange:b=>f({...m,format:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"PDF",children:"PDF"}),n.jsx("option",{value:"DOCX",children:"DOCX"}),n.jsx("option",{value:"DOC",children:"DOC"})]})})]}),n.jsx(tt,{label:"Download URL",required:!0,helper:"Path to the file (e.g., /PDFs/policy-name.pdf)",children:n.jsx("input",{type:"text",value:m.downloadUrl,onChange:b=>f({...m,downloadUrl:b.target.value}),placeholder:"/PDFs/policy-name.pdf",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Note:"})," Make sure to upload the PDF file to the"," ",n.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"public/PDFs/"})," folder before adding the policy."]})})]})})]})}const pse=[{id:"a1",title:"University Holiday Notice",content:"The university will remain closed on the upcoming national holiday. All staff are advised to complete their pending work before the holiday.",category:"holiday",priority:"high",targetAudience:"all",createdBy:"HR Department",createdAt:"2024-01-20",expiresAt:"2024-02-01",isActive:!0},{id:"a2",title:"New Leave Policy Update",content:"Please be informed that the leave policy has been updated. Employees can now carry forward up to 5 days of annual leave to the next year.",category:"policy",priority:"medium",targetAudience:"all",createdBy:"HR Department",createdAt:"2024-01-15",expiresAt:null,isActive:!0},{id:"a3",title:"IT System Maintenance",content:"The HRMS system will undergo maintenance this weekend. Please save all your work before Friday 6 PM.",category:"maintenance",priority:"medium",targetAudience:"all",createdBy:"IT Department",createdAt:"2024-01-10",expiresAt:"2024-01-14",isActive:!1}];function xse(){const e=Qe(A=>A.user),[t,a]=x.useState(pse),[r,s]=x.useState(!1),[l,c]=x.useState(null),[d,m]=x.useState("all"),{register:f,handleSubmit:h,reset:g,formState:{errors:y}}=Lc({defaultValues:{title:"",content:"",category:"general",priority:"medium",targetAudience:"all",expiresAt:""}}),v=x.useMemo(()=>d==="all"?t:d==="active"?t.filter(A=>A.isActive):d==="expired"?t.filter(A=>!A.isActive):t.filter(A=>A.category===d),[t,d]),j=A=>{const O={id:`a${Date.now()}`,...A,createdBy:e?.name||"HR Department",createdAt:q(new Date,"yyyy-MM-dd"),isActive:!0};a([O,...t]),E8({title:A.title,description:A.content,audience:A.targetAudience,postedBy:e?.name||"HR Department"},e?.email),g(),s(!1)},b=A=>{a(t.map(O=>O.id===A?{...O,isActive:!O.isActive}:O))},S=A=>{confirm("Are you sure you want to delete this announcement?")&&a(t.filter(O=>O.id!==A))},M=A=>({holiday:"error",policy:"primary",maintenance:"warning",general:"default",event:"success"})[A]||"default",N=A=>({high:"error",medium:"warning",low:"default"})[A]||"default";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Announcements"}),n.jsx("p",{className:"text-gray-600",children:"Create and manage university announcements"})]}),n.jsxs(X,{onClick:()=>s(!0),className:"gap-2",children:[n.jsx(oi,{className:"w-5 h-5"}),"New Announcement"]})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[n.jsx(K,{className:"bg-blue-50 border-blue-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:n.jsx(T5,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-blue-900",children:t.length}),n.jsx("p",{className:"text-sm text-blue-700",children:"Total Announcements"})]})]})}),n.jsx(K,{className:"bg-green-50 border-green-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:n.jsx(cj,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-green-900",children:t.filter(A=>A.isActive).length}),n.jsx("p",{className:"text-sm text-green-700",children:"Active"})]})]})}),n.jsx(K,{className:"bg-amber-50 border-amber-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-amber-500 rounded-lg",children:n.jsx(Xe,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-amber-900",children:t.filter(A=>A.priority==="high").length}),n.jsx("p",{className:"text-sm text-amber-700",children:"High Priority"})]})]})})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:["all","active","expired","holiday","policy","maintenance"].map(A=>n.jsx("button",{onClick:()=>m(A),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors capitalize ${d===A?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:A},A))}),n.jsx("div",{className:"space-y-4",children:v.length===0?n.jsx(K,{children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(T5,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"No announcements found"})]})}):v.map(A=>n.jsx(K,{className:A.isActive?"":"opacity-60",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:A.title}),n.jsx(ge,{variant:M(A.category),children:A.category}),n.jsx(ge,{variant:N(A.priority),children:A.priority}),!A.isActive&&n.jsx(ge,{variant:"outline",children:"Inactive"})]}),n.jsx("p",{className:"text-gray-600 text-sm mb-3",children:A.content}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-gray-500",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Xe,{className:"w-4 h-4"}),"Created: ",q(ue(A.createdAt),"MMM d, yyyy")]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(us,{className:"w-4 h-4"}),"Target: ",A.targetAudience]}),n.jsxs("span",{children:["By: ",A.createdBy]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{size:"sm",variant:"ghost",onClick:()=>b(A.id),children:A.isActive?"Deactivate":"Activate"}),n.jsx(X,{size:"sm",variant:"ghost",onClick:()=>c(A),children:n.jsx(vp,{className:"w-4 h-4"})}),n.jsx(X,{size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-700",onClick:()=>S(A.id),children:n.jsx(bp,{className:"w-4 h-4"})})]})]})},A.id))}),n.jsx(vt,{isOpen:r,onClose:()=>s(!1),title:"Create Announcement",size:"lg",children:n.jsxs("form",{onSubmit:h(j),className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Title ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",...f("title",{required:"Title is required"}),placeholder:"Enter announcement title",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),y.title&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.title.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Content ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{...f("content",{required:"Content is required"}),rows:4,placeholder:"Enter announcement details...",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),y.content&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.content.message})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{...f("category"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"general",children:"General"}),n.jsx("option",{value:"holiday",children:"Holiday"}),n.jsx("option",{value:"policy",children:"Policy"}),n.jsx("option",{value:"maintenance",children:"Maintenance"}),n.jsx("option",{value:"event",children:"Event"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),n.jsxs("select",{...f("priority"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"low",children:"Low"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"high",children:"High"})]})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Audience"}),n.jsxs("select",{...f("targetAudience"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Employees"}),n.jsx("option",{value:"faculty",children:"Faculty Only"}),n.jsx("option",{value:"staff",children:"Staff Only"}),n.jsx("option",{value:"management",children:"Management Only"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expires On"}),n.jsx("input",{type:"date",...f("expiresAt"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),n.jsx(X,{type:"submit",children:"Publish Announcement"})]})]})})]})}function gse(){Qe(c=>c.user);const{payrollSettings:e,updatePayrollSettings:t}=Ae(),[a,r]=x.useState({workStartTime:"09:00",workEndTime:"17:00",lateThreshold:15,halfDayThreshold:4,overtimeStartAfter:8,overtimeWarningHours:e?.operationalConfig?.overtimeWarningHours||40,expiryHorizonDays:e?.operationalConfig?.expiryHorizonDays||30,annualLeaveQuota:20,sickLeaveQuota:12,casualLeaveQuota:10,maxConsecutiveDays:14,minAdvanceNotice:3,workingDays:e?.workingDays||22,latePenalty:e?.deductionConfig?.latePenalty||500,absentPenalty:e?.deductionConfig?.absentPenaltyType||"daily_rate",absentPenaltyValue:e?.deductionConfig?.absentPenaltyValue||0,overtimeRate:e?.overtimeRate||1.5,taxThreshold:e?.deductionConfig?.taxThreshold||1e5,taxRate:e?.deductionConfig?.taxRate||5,housePercent:e?.allowanceConfig?.housePercent||45,medicalPercent:e?.allowanceConfig?.medicalPercent||10,transportFixed:e?.allowanceConfig?.transportFixed||5e3,emailNotifications:!0,leaveApprovalNotify:!0,attendanceAlerts:!0,payrollNotify:!0,systemAnnouncements:!0}),s=(c,d)=>{r(m=>({...m,[c]:d}))},l=()=>{t({workingDays:a.workingDays,overtimeRate:a.overtimeRate,allowanceConfig:{housePercent:a.housePercent,medicalPercent:a.medicalPercent,transportFixed:a.transportFixed},deductionConfig:{latePenalty:a.latePenalty,absentPenaltyType:a.absentPenalty,absentPenaltyValue:a.absentPenaltyValue,taxThreshold:a.taxThreshold,taxRate:a.taxRate},operationalConfig:{overtimeWarningHours:a.overtimeWarningHours,expiryHorizonDays:a.expiryHorizonDays}}),alert("Settings saved successfully!")};return x.useEffect(()=>{r(c=>({...c,workingDays:e?.workingDays||c.workingDays,latePenalty:e?.deductionConfig?.latePenalty||c.latePenalty,absentPenalty:e?.deductionConfig?.absentPenaltyType||c.absentPenalty,absentPenaltyValue:e?.deductionConfig?.absentPenaltyValue??c.absentPenaltyValue,overtimeRate:e?.overtimeRate||c.overtimeRate,taxThreshold:e?.deductionConfig?.taxThreshold||c.taxThreshold,taxRate:e?.deductionConfig?.taxRate||c.taxRate,housePercent:e?.allowanceConfig?.housePercent||c.housePercent,medicalPercent:e?.allowanceConfig?.medicalPercent||c.medicalPercent,transportFixed:e?.allowanceConfig?.transportFixed||c.transportFixed,overtimeWarningHours:e?.operationalConfig?.overtimeWarningHours??c.overtimeWarningHours,expiryHorizonDays:e?.operationalConfig?.expiryHorizonDays??c.expiryHorizonDays}))},[e]),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"HR Settings"}),n.jsx("p",{className:"text-gray-600",children:"Configure HR policies and system settings"})]}),n.jsxs(X,{onClick:l,className:"gap-2",children:[n.jsx(_r,{className:"w-5 h-5"}),"Save Changes"]})]}),n.jsxs(ca,{defaultValue:"attendance",children:[n.jsxs(da,{children:[n.jsx(qe,{value:"attendance",children:"Attendance"}),n.jsx(qe,{value:"leave",children:"Leave Policy"}),n.jsx(qe,{value:"payroll",children:"Payroll"}),n.jsx(qe,{value:"notifications",children:"Notifications"}),n.jsx(qe,{value:"system",children:"System"})]}),n.jsx(Nt,{value:"attendance",children:n.jsxs(K,{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Be,{className:"w-5 h-5 text-gray-400"}),"Attendance Settings"]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Start Time"}),n.jsx("input",{type:"time",value:a.workStartTime,onChange:c=>s("workStartTime",c.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work End Time"}),n.jsx("input",{type:"time",value:a.workEndTime,onChange:c=>s("workEndTime",c.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Late Threshold (minutes)"}),n.jsx("input",{type:"number",value:a.lateThreshold,onChange:c=>s("lateThreshold",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Employees arriving after this many minutes will be marked late"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Half Day Threshold (hours)"}),n.jsx("input",{type:"number",value:a.halfDayThreshold,onChange:c=>s("halfDayThreshold",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Working less than this counts as half day"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Overtime Starts After (hours)"}),n.jsx("input",{type:"number",value:a.overtimeStartAfter,onChange:c=>s("overtimeStartAfter",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Overtime Warning Threshold (hours/month)"}),n.jsx("input",{type:"number",value:a.overtimeWarningHours,onChange:c=>s("overtimeWarningHours",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dashboard warning when exceeded"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Horizon (days)"}),n.jsx("input",{type:"number",value:a.expiryHorizonDays,onChange:c=>s("expiryHorizonDays",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Show upcoming probation/contract expiries"})]})]})]})}),n.jsx(Nt,{value:"leave",children:n.jsxs(K,{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(ht,{className:"w-5 h-5 text-gray-400"}),"Leave Policy Settings"]}),n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Annual Leave Quota (days)"}),n.jsx("input",{type:"number",value:a.annualLeaveQuota,onChange:c=>s("annualLeaveQuota",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sick Leave Quota (days)"}),n.jsx("input",{type:"number",value:a.sickLeaveQuota,onChange:c=>s("sickLeaveQuota",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Casual Leave Quota (days)"}),n.jsx("input",{type:"number",value:a.casualLeaveQuota,onChange:c=>s("casualLeaveQuota",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Consecutive Days"}),n.jsx("input",{type:"number",value:a.maxConsecutiveDays,onChange:c=>s("maxConsecutiveDays",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum consecutive days for single leave request"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Advance Notice (days)"}),n.jsx("input",{type:"number",value:a.minAdvanceNotice,onChange:c=>s("minAdvanceNotice",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Except for sick leave"})]})]})]})}),n.jsx(Nt,{value:"payroll",children:n.jsxs(K,{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(nr,{className:"w-5 h-5 text-gray-400"}),"Payroll Settings"]}),n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Working Days"}),n.jsx("input",{type:"number",value:a.workingDays,onChange:c=>s("workingDays",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Used for daily-rate calculations"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Late Penalty (PKR)"}),n.jsx("input",{type:"number",value:a.latePenalty,onChange:c=>s("latePenalty",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Deduction per late arrival"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Absent Penalty"}),n.jsxs("select",{value:a.absentPenalty,onChange:c=>s("absentPenalty",c.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"daily_rate",children:"Daily Rate (Salary / working days)"}),n.jsx("option",{value:"fixed",children:"Fixed Amount"}),n.jsx("option",{value:"none",children:"No Deduction"})]})]}),a.absentPenalty==="fixed"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Absent Penalty (PKR)"}),n.jsx("input",{type:"number",value:a.absentPenaltyValue,onChange:c=>s("absentPenaltyValue",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Overtime Rate (multiplier)"}),n.jsx("input",{type:"number",step:"0.1",value:a.overtimeRate,onChange:c=>s("overtimeRate",parseFloat(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"1.5 = 150% of hourly rate"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"House Allowance (%)"}),n.jsx("input",{type:"number",value:a.housePercent,onChange:c=>s("housePercent",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medical Allowance (%)"}),n.jsx("input",{type:"number",value:a.medicalPercent,onChange:c=>s("medicalPercent",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transport Allowance (PKR)"}),n.jsx("input",{type:"number",value:a.transportFixed,onChange:c=>s("transportFixed",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tax Threshold (PKR)"}),n.jsx("input",{type:"number",value:a.taxThreshold,onChange:c=>s("taxThreshold",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Income above this is taxed"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tax Rate (%)"}),n.jsx("input",{type:"number",value:a.taxRate,onChange:c=>s("taxRate",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]})}),n.jsx(Nt,{value:"notifications",children:n.jsxs(K,{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Zr,{className:"w-5 h-5 text-gray-400"}),"Notification Settings"]}),n.jsx("div",{className:"space-y-4",children:[{key:"emailNotifications",label:"Email Notifications",desc:"Send notifications via email"},{key:"leaveApprovalNotify",label:"Leave Approval Alerts",desc:"Notify when leaves are approved/rejected"},{key:"attendanceAlerts",label:"Attendance Alerts",desc:"Send alerts for late arrivals and absences"},{key:"payrollNotify",label:"Payroll Notifications",desc:"Notify employees when payroll is processed"},{key:"systemAnnouncements",label:"System Announcements",desc:"Show system-wide announcements"}].map(c=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:c.label}),n.jsx("p",{className:"text-sm text-gray-500",children:c.desc})]}),n.jsx("button",{onClick:()=>s(c.key,!a[c.key]),className:`relative w-12 h-6 rounded-full transition-colors ${a[c.key]?"bg-blue-600":"bg-gray-300"}`,children:n.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${a[c.key]?"right-1":"left-1"}`})})]},c.key))})]})}),n.jsx(Nt,{value:"system",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs(K,{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(MD,{className:"w-5 h-5 text-gray-400"}),"Organization Info"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),n.jsx("input",{type:"text",defaultValue:"CECOS University",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),n.jsx("textarea",{rows:2,defaultValue:"F-5, Phase 6, Hayatabad, Peshawar",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email"}),n.jsx("input",{type:"email",defaultValue:"info@cecos.edu.pk",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]}),n.jsxs(K,{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(ci,{className:"w-5 h-5 text-gray-400"}),"Security Settings"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Force Password Change"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Require password change every 90 days"})]}),n.jsx(ge,{variant:"success",children:"Enabled"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Require 2FA for admin users"})]}),n.jsx(ge,{variant:"warning",children:"Optional"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Session Timeout"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Auto logout after inactivity"})]}),n.jsx(ge,{variant:"primary",children:"30 min"})]})]})]})]})})]})]})}function yse(){const e=Qe(O=>O.user),{employees:t,bulkIncrements:a,createBulkIncrementBatch:r,applyBulkIncrementBatch:s}=Ae(),[l,c]=x.useState([]),[d,m]=x.useState({title:"Annual Increment",type:"Cost of Living",mode:"percent",value:7,effectiveDate:q(new Date,"yyyy-MM-dd"),note:""}),[f,h]=x.useState("pending"),[g,y]=x.useState(!1),[v,j]=x.useState(null);x.useEffect(()=>{c(t.map(O=>O.id))},[t]);const b=x.useMemo(()=>a.filter(O=>f==="pending"?O.status==="Pending":O.status==="Applied"),[a,f]),S=O=>{c(D=>D.includes(O)?D.filter(k=>k!==O):[...D,O])},M=O=>{O.preventDefault(),r({...d,value:Number(d.value)||0,employeeIds:l,createdBy:e?.name}),m(D=>({...D,note:""}))},N=O=>{j(O),y(!0)},A=O=>{const D={Pending:"warning",Applied:"success"};return n.jsx(ge,{variant:D[O]||"secondary",children:O})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bulk Increments"}),n.jsx("p",{className:"text-gray-600",children:"Create batches with effective dates, unique codes, and auditable application history."})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(tr,{className:"w-5 h-5"}),a.length," batches"]})]}),n.jsx(K,{title:"Create Increment Batch",subtitle:"Apply percent or flat increments across employees",children:n.jsxs("form",{onSubmit:M,className:"space-y-4",children:[n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),n.jsx("input",{value:d.title,onChange:O=>m(D=>({...D,title:O.target.value})),className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",placeholder:"Annual Increment",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Increment Type"}),n.jsxs("select",{value:d.type,onChange:O=>m(D=>({...D,type:O.target.value})),className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{children:"Cost of Living"}),n.jsx("option",{children:"Performance"}),n.jsx("option",{children:"Adjustment"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Effective Date"}),n.jsx("input",{type:"date",value:d.effectiveDate,onChange:O=>m(D=>({...D,effectiveDate:O.target.value})),className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mode"}),n.jsxs("select",{value:d.mode,onChange:O=>m(D=>({...D,mode:O.target.value})),className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"percent",children:"Percent (%)"}),n.jsx("option",{value:"flat",children:"Flat Amount"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value"}),n.jsx("input",{type:"number",value:d.value,onChange:O=>m(D=>({...D,value:O.target.value})),className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",min:0,step:"0.1",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Note"}),n.jsx("input",{value:d.note,onChange:O=>m(D=>({...D,note:O.target.value})),placeholder:"Optional audit note",className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Employees"}),n.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:()=>c(l.length===t.length?[]:t.map(O=>O.id)),children:l.length===t.length?"Clear":"Select All"})]}),n.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-2 max-h-52 overflow-y-auto border rounded-lg p-3 bg-gray-50",children:t.map(O=>n.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[n.jsx("input",{type:"checkbox",checked:l.includes(O.id),onChange:()=>S(O.id)}),n.jsxs("span",{children:[O.name,n.jsxs("span",{className:"text-xs text-gray-500",children:["  ",O.designation]})]})]},O.id))}),n.jsxs("p",{className:"text-xs text-gray-500",children:[l.length," employees selected"]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(X,{type:"submit",className:"gap-2",children:[n.jsx(gs,{className:"w-4 h-4"}),"Create Batch"]})})]})}),n.jsxs(K,{title:"Batches",subtitle:"Apply and audit historical increments",children:[n.jsx(ca,{value:f,onValueChange:h,children:n.jsxs(da,{children:[n.jsx(qe,{value:"pending",children:"Pending"}),n.jsx(qe,{value:"applied",children:"Applied"})]})}),n.jsx("div",{className:"mt-4 space-y-3",children:b.length===0?n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[n.jsx(Be,{className:"w-4 h-4"})," No batches found"]}):b.map(O=>n.jsxs("div",{className:"border rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3 hover:bg-gray-50",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:O.title}),A(O.status)]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[O.type," "," ",O.mode==="percent"?`${O.value}%`:`PKR ${O.value}`]}),n.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx(Xe,{className:"w-4 h-4"})," Effective ",O.effectiveDate]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Batch Code: ",O.code]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"outline",size:"sm",onClick:()=>N(O),children:"View"}),O.status==="Pending"&&n.jsx(X,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>s(O.id,{approvedBy:e?.name}),children:"Apply"})]})]},O.id))})]}),n.jsx(vt,{isOpen:g,onClose:()=>y(!1),title:"Batch Preview",size:"lg",children:v&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(tr,{className:"w-5 h-5 text-green-600"}),n.jsxs("span",{children:[v.title,"  ",v.code]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-gray-700",children:[n.jsxs("div",{children:["Type: ",v.type]}),n.jsxs("div",{children:["Mode: ",v.mode==="percent"?"Percent":"Flat"]}),n.jsxs("div",{children:["Value:"," ",v.mode==="percent"?`${v.value}%`:`PKR ${v.value}`]}),n.jsxs("div",{children:["Effective: ",v.effectiveDate]})]}),n.jsxs("div",{className:"max-h-64 overflow-y-auto border rounded-lg p-3 bg-gray-50",children:[n.jsxs("div",{className:"grid grid-cols-3 text-xs font-semibold text-gray-500 mb-2",children:[n.jsx("span",{children:"Employee"}),n.jsx("span",{children:"Previous"}),n.jsx("span",{children:"New"})]}),v.items.map(O=>n.jsxs("div",{className:"grid grid-cols-3 text-sm py-1",children:[n.jsx("span",{children:O.employeeName}),n.jsx("span",{className:"text-gray-500",children:O.previousSalary.toLocaleString()}),n.jsx("span",{className:"text-green-700 font-medium",children:O.newSalary.toLocaleString()})]},O.employeeId))]}),v.audit&&v.audit.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Audit Trail"}),v.audit.map((O,D)=>n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[O.action==="applied"?n.jsx(Le,{className:"w-4 h-4 text-green-500"}):n.jsx(Jn,{className:"w-4 h-4 text-amber-500"}),n.jsx("span",{className:"font-semibold capitalize",children:O.action}),n.jsx("span",{children:O.date}),n.jsxs("span",{children:["by ",O.by]}),O.note&&n.jsxs("span",{className:"text-gray-500",children:[" ",O.note]})]},D))]})]})})]})}const vse=e=>{const t={Pending:"warning",Approved:"success",Rejected:"error"};return n.jsx(ge,{variant:t[e]||"secondary",children:e})};function bse(){const e=Qe(g=>g.user),{profileUpdateRequests:t,reviewProfileUpdateRequest:a}=Ae(),[r,s]=x.useState("Pending"),[l,c]=x.useState(null),[d,m]=x.useState({status:"Approved",notes:""}),f=x.useMemo(()=>t.filter(g=>g.status===r),[t,r]),h=()=>{l&&(a(l.id,{status:d.status,notes:d.notes,reviewer:e?.name||"HR"}),c(null),m({status:"Approved",notes:""}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile Update Requests"}),n.jsx("p",{className:"text-gray-600",children:"HR-controlled approvals for employee self-service changes."})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(ii,{className:"w-5 h-5"}),t.length," requests"]})]}),n.jsxs(K,{children:[n.jsx(ca,{value:r,onValueChange:s,children:n.jsxs(da,{children:[n.jsx(qe,{value:"Pending",children:"Pending"}),n.jsx(qe,{value:"Approved",children:"Approved"}),n.jsx(qe,{value:"Rejected",children:"Rejected"})]})}),n.jsx("div",{className:"mt-4 space-y-3",children:f.length===0?n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[n.jsx(Be,{className:"w-4 h-4"})," No requests in this state"]}):f.map(g=>n.jsxs("div",{className:"border rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3 hover:bg-gray-50",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:g.employeeName}),vse(g.status)]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Requested by ",g.requestedBy]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted ",g.requestedOn]}),n.jsx("div",{className:"text-xs text-gray-600 flex flex-wrap gap-1",children:Object.keys(g.changes||{}).map(y=>n.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-full",children:y},y))}),g.notes&&n.jsxs("p",{className:"text-sm text-gray-500",children:["Note: ",g.notes]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>c(g),children:[n.jsx(vp,{className:"w-4 h-4"}),"Review"]})})]},g.id))})]}),n.jsx(vt,{isOpen:!!l,onClose:()=>c(null),title:"Review Profile Update",size:"lg",children:l&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx($u,{className:"w-8 h-8 text-indigo-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:l.employeeName}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Requested on ",l.requestedOn]})]})]}),n.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50 space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Requested Changes"}),Object.entries(l.changes||{}).map(([g,y])=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600 capitalize",children:g}),n.jsx("span",{className:"text-gray-900",children:String(y)})]},g))]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Be,{className:"w-4 h-4"})," ",l.status]}),l.reviewedBy&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Le,{className:"w-4 h-4 text-green-500"})," Reviewed by"," ",l.reviewedBy]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Decision"}),n.jsxs("select",{value:d.status,onChange:g=>m(y=>({...y,status:g.target.value})),className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"Approved",children:"Approve"}),n.jsx("option",{value:"Rejected",children:"Reject"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:d.notes,onChange:g=>m(y=>({...y,notes:g.target.value})),rows:3,placeholder:"Add optional comments for audit trail",className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(X,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),n.jsx(X,{onClick:h,className:d.status==="Rejected"?"bg-red-600 hover:bg-red-700":"",children:d.status==="Rejected"?n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Tt,{className:"w-4 h-4"})," Reject"]}):n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Le,{className:"w-4 h-4"})," Approve"]})})]})]})})]})}const jse=e=>{const t={Draft:"secondary","Pending Approval":"warning",Approved:"info",Posted:"success"};return n.jsx(ge,{variant:t[e]||"secondary",children:e})};function wse(){const e=Qe(b=>b.user),{payrollRuns:t,generatePayrollRun:a,updatePayrollRunStatus:r,postPayrollRun:s,payrollSettings:l}=Ae(),[c,d]=x.useState(q(new Date,"yyyy-MM")),[m,f]=x.useState(null),[h,g]=x.useState("runs"),y=x.useMemo(()=>t.slice().sort((b,S)=>new Date(S.period?.startDate||0)-new Date(b.period?.startDate||0)),[t]),v=b=>{if(b.preventDefault(),!c)return;const[S,M]=c.split("-"),N=Number(M),A=Number(S);a({month:N,year:A,createdBy:e?.name})},j=b=>b.summary?.exceptions||0;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payroll"}),n.jsx("p",{className:"text-gray-600",children:"Generate payroll runs, review exceptions, and post approved payrolls."})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(nr,{className:"w-5 h-5"})," ",y.length," runs"]})]}),n.jsxs(ca,{value:h,onValueChange:g,children:[n.jsxs(da,{children:[n.jsx(qe,{value:"runs",children:"Runs"}),n.jsx(qe,{value:"settings",children:"Current Rules"})]}),n.jsxs(Nt,{value:"runs",children:[n.jsx(K,{title:"New Payroll Run",subtitle:"Create a draft payroll for a period",children:n.jsxs("form",{onSubmit:v,className:"grid sm:grid-cols-3 gap-4 items-end",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Period"}),n.jsx("input",{type:"month",value:c,onChange:b=>d(b.target.value),className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]}),n.jsx("div",{className:"sm:col-span-2 flex gap-2",children:n.jsxs(X,{type:"submit",className:"gap-2",children:[n.jsx(ht,{className:"w-4 h-4"})," Generate Draft"]})})]})}),n.jsx(K,{title:"Runs",subtitle:"Approve and post payroll",children:n.jsxs("div",{className:"space-y-3",children:[y.length===0&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[n.jsx(Xe,{className:"w-4 h-4"})," No runs yet"]}),y.map(b=>n.jsxs("div",{className:"border rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3 hover:bg-gray-50",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:b.period?.label}),jse(b.status),j(b)>0&&n.jsxs(ge,{variant:"warning",children:[j(b)," exceptions"]})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Gross ",b.summary?.totalGross?.toLocaleString(),"  Net"," ",b.summary?.totalNet?.toLocaleString(),"  Deductions"," ",b.summary?.totalDeductions?.toLocaleString()]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Created ",b.createdAt]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"outline",size:"sm",onClick:()=>f(b),children:"View"}),b.status==="Draft"&&n.jsx(X,{size:"sm",variant:"outline",onClick:()=>r(b.id,"Approved",{by:e?.name||"HR"}),children:"Approve"}),b.status!=="Posted"&&n.jsx(X,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>s(b.id,{postedBy:e?.name||"HR"}),children:"Post"})]})]},b.id))]})})]}),n.jsx(Nt,{value:"settings",children:n.jsx(K,{title:"Current Payroll Rules",subtitle:"Read-only snapshot from Payroll Settings",children:n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 text-sm text-gray-700",children:[n.jsxs("div",{children:["Working days: ",l?.workingDays]}),n.jsxs("div",{children:["Late penalty: ",l?.deductionConfig?.latePenalty]}),n.jsxs("div",{children:["Absent penalty: ",l?.deductionConfig?.absentPenaltyType," ",l?.deductionConfig?.absentPenaltyType==="fixed"?`(${l?.deductionConfig?.absentPenaltyValue})`:""]}),n.jsxs("div",{children:["House allowance: ",l?.allowanceConfig?.housePercent,"%"]}),n.jsxs("div",{children:["Medical allowance: ",l?.allowanceConfig?.medicalPercent,"%"]}),n.jsxs("div",{children:["Transport: ",l?.allowanceConfig?.transportFixed]}),n.jsxs("div",{children:["Tax threshold: ",l?.deductionConfig?.taxThreshold]}),n.jsxs("div",{children:["Tax rate: ",l?.deductionConfig?.taxRate,"%"]}),n.jsxs("div",{children:["Overtime rate: ",l?.overtimeRate,"x"]})]})})})]}),n.jsx(vt,{isOpen:!!m,onClose:()=>f(null),title:m?`Run ${m.period?.label}`:"",size:"lg",children:m&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(Xe,{className:"w-5 h-5"}),n.jsxs("span",{children:[m.period?.startDate,"  ",m.period?.endDate]})]}),j(m)>0&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-700 bg-amber-50 p-3 rounded-lg",children:[n.jsx(Jn,{className:"w-5 h-5"}),n.jsxs("span",{children:[j(m)," employees have exceptions"]})]}),n.jsx("div",{className:"max-h-72 overflow-y-auto border rounded-lg divide-y",children:m.items.map(b=>n.jsxs("div",{className:"p-3 text-sm space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:b.employeeName}),n.jsxs("p",{className:"text-xs text-gray-500",children:[b.department,"  ",b.designation]})]}),b.exceptions?.length>0&&n.jsx(ge,{variant:"warning",children:"Exception"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 text-gray-700",children:[n.jsxs("span",{children:["Gross: ",b.earnings?.total?.toLocaleString()]}),n.jsxs("span",{children:["Deductions: ",b.deductions?.total?.toLocaleString()]}),n.jsxs("span",{children:["Net: ",b.netPay?.toLocaleString()]})]}),b.exceptions?.length>0&&n.jsx("ul",{className:"text-xs text-amber-700 list-disc ml-5",children:b.exceptions.map((S,M)=>n.jsx("li",{children:S},M))})]},b.employeeId))}),m.status!=="Posted"&&n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsxs(X,{variant:"outline",onClick:()=>r(m.id,"Approved",{by:e?.name||"HR"}),children:[n.jsx(Le,{className:"w-4 h-4"})," Approve"]}),n.jsx(X,{className:"bg-green-600 hover:bg-green-700",onClick:()=>s(m.id,{postedBy:e?.name||"HR"}),children:"Post"})]})]})})]})}const Nse={error:"error",warning:"warning",info:"info"};function Sse(){const e=Qe(S=>S.user),{employees:t,flagAttendanceAnomalies:a,attendanceCorrections:r,reviewAttendanceCorrection:s}=Ae(),[l,c]=x.useState(null),[d,m]=x.useState("anomalies"),[f,h]=x.useState(null),[g,y]=x.useState({status:"Approved",notes:""}),v=x.useMemo(()=>l?a(l.id):{anomalies:[]},[l,a]),j=x.useMemo(()=>l?r.filter(S=>S.employeeId===l.id):[],[l,r]),b=()=>{f&&(s(f.id,{status:g.status,notes:g.notes,reviewer:e?.name||"HR"}),h(null),y({status:"Approved",notes:""}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Attendance Management"}),n.jsx("p",{className:"text-gray-600",children:"Monitor anomalies, review corrections, and manage attendance records"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(Be,{className:"w-5 h-5"})," ",r.length," corrections pending"]})]}),n.jsxs(K,{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Employee"}),n.jsxs("select",{value:l?.id||"",onChange:S=>{const M=t.find(N=>N.id===S.target.value);c(M)},className:"w-full rounded-lg border border-gray-300 px-4 py-2 text-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"-- Choose Employee --"}),t.map(S=>n.jsxs("option",{value:S.id,children:[S.name," (",S.department,")"]},S.id))]})]}),l&&n.jsxs(n.Fragment,{children:[n.jsx(ca,{value:d,onValueChange:m,children:n.jsxs(da,{children:[n.jsx(qe,{value:"anomalies",children:"Anomalies"}),n.jsx(qe,{value:"corrections",children:"Corrections"})]})}),d==="anomalies"&&n.jsx("div",{className:"mt-4 space-y-3",children:v.anomalies.length===0?n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[n.jsx(Le,{className:"w-4 h-4"})," No anomalies detected"]}):v.anomalies.map((S,M)=>n.jsxs("div",{className:`p-4 rounded-lg border flex items-start gap-3 ${S.severity==="error"?"bg-red-50 border-red-200":S.severity==="warning"?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"}`,children:[n.jsx(Jn,{className:`w-5 h-5 shrink-0 ${S.severity==="error"?"text-red-600":S.severity==="warning"?"text-yellow-600":"text-blue-600"}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:S.message}),n.jsxs("p",{className:"text-xs text-gray-600 capitalize",children:["Type: ",S.type]})]}),n.jsx(ge,{variant:Nse[S.severity],children:S.severity})]},M))}),d==="corrections"&&n.jsx("div",{className:"mt-4 space-y-3",children:j.length===0?n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[n.jsx(ht,{className:"w-4 h-4"})," No correction requests"]}):j.map(S=>n.jsxs("div",{className:"border rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3 hover:bg-gray-50",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:q(ue(S.originalAttendance.date),"MMM d, yyyy")}),n.jsx(ge,{variant:S.status==="Pending"?"warning":S.status==="Approved"?"success":"error",children:S.status})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[S.originalAttendance.status," "," ",S.requestedChange.status]}),n.jsx("p",{className:"text-xs text-gray-500",children:S.reason})]}),S.status==="Pending"&&n.jsx(X,{variant:"outline",size:"sm",onClick:()=>h(S),children:"Review"})]},S.id))})]})]}),n.jsx(vt,{isOpen:!!f,onClose:()=>h(null),title:"Review Attendance Correction",size:"lg",children:f&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx($u,{className:"w-8 h-8 text-indigo-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:f.employeeName}),n.jsx("p",{className:"text-sm text-gray-500",children:f.department})]})]}),n.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50 space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Original Attendance"}),n.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[n.jsxs("span",{children:["Date: ",q(ue(f.originalAttendance.date),"PPP")]}),n.jsx(ge,{variant:"secondary",children:f.originalAttendance.status})]})]}),n.jsxs("div",{className:"border rounded-lg p-3 bg-blue-50 space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Requested Correction"}),n.jsxs("div",{className:"flex justify-between text-sm text-blue-700",children:[n.jsxs("span",{children:["Change to: ",f.requestedChange.status]}),n.jsx(ge,{variant:"info",children:f.requestedChange.status})]}),n.jsxs("p",{className:"text-sm text-blue-700",children:["Reason: ",f.reason]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Decision"}),n.jsxs("select",{value:g.status,onChange:S=>y(M=>({...M,status:S.target.value})),className:"w-full rounded-lg border border-gray-300 px-4 py-2 text-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"Approved",children:"Approve"}),n.jsx("option",{value:"Rejected",children:"Reject"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:g.notes,onChange:S=>y(M=>({...M,notes:S.target.value})),rows:3,placeholder:"Add optional comments for audit trail",className:"w-full rounded-lg border border-gray-300 px-4 py-2 text-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(X,{variant:"outline",onClick:()=>h(null),children:"Cancel"}),n.jsx(X,{onClick:b,className:g.status==="Rejected"?"bg-red-600 hover:bg-red-700":"",children:g.status})]})]})})]})}const iD={applied:"default",screening:"info",shortlisted:"info",technical:"warning",panel:"warning",selection_board:"info",offer:"success",hired:"success",rejected:"error"};function Ase(){const e=Qe(W=>W.user),{candidates:t,addCandidate:a,updateCandidateStage:r,addCandidateEvaluation:s,addSelectionBoardApproval:l}=Ae(),[c,d]=x.useState("shortlisted"),[m,f]=x.useState(null),[h,g]=x.useState({stage:"offer",notes:""}),[y,v]=x.useState({decision:"approved",notes:""}),[j,b]=x.useState(!1),[S,M]=x.useState({name:"",email:"",phone:"",department:"",role:"",source:"Direct",resumeUrl:""}),[N,A]=x.useState(""),[O,D]=x.useState("all"),[k,_]=x.useState("all"),[E,P]=x.useState("all"),z=x.useMemo(()=>{const W=N.toLowerCase();return t.filter(ne=>{const je=!W||ne.name?.toLowerCase().includes(W)||ne.email?.toLowerCase().includes(W)||ne.role?.toLowerCase().includes(W),H=O==="all"||ne.department===O,fe=k==="all"||ne.role===k,we=E==="all"||(ne.source||"").toLowerCase()===E;return je&&H&&fe&&we})},[t,N,O,k,E]),L=x.useMemo(()=>Tf.reduce((W,ne)=>(W[ne.id]=z.filter(je=>je.stage===ne.id),W),{}),[z]),I=x.useMemo(()=>{const W=new Set(t.map(ne=>ne.department).filter(Boolean));return Array.from(W)},[t]),J=x.useMemo(()=>{const W=new Set(t.map(ne=>ne.role).filter(Boolean));return Array.from(W)},[t]),T=x.useMemo(()=>{const W=new Set(t.map(ne=>(ne.source||"").toLowerCase()).filter(Boolean));return Array.from(W)},[t]),Y=x.useMemo(()=>{const W=t.length,ne=t.filter(se=>se.stage==="offer").length,je=t.filter(se=>se.stage==="hired").length,H=new Date,fe=t.map(se=>{const ee=se.stageUpdatedOn||se.appliedOn;return ee?Math.max(0,Gr(H,ue(ee))):null}).filter(se=>se!==null),we=fe.length?Math.round(fe.reduce((se,ee)=>se+ee,0)/fe.length):0;return{total:W,offers:ne,hired:je,avgStage:we}},[t]),V=()=>{m&&(r(m.id,h.stage,{decisionNotes:h.notes}),f(null),g({stage:"offer",notes:""}))},B=()=>{m&&(l(m.id,{by:e?.name||"Selection Board",decision:y.decision,notes:y.notes}),v({decision:"approved",notes:""}))},U=W=>{const ne=W.stageUpdatedOn||W.appliedOn;return ne?Math.max(0,Gr(new Date,ue(ne))):null},F=W=>{W.preventDefault(),!(!S.name||!S.email||!S.role)&&(a({...S,stage:"applied",stageUpdatedOn:q(new Date,"yyyy-MM-dd"),source:S.source||"Direct",documents:S.resumeUrl?[{id:`doc-${Date.now()}`,name:"Resume",url:S.resumeUrl,type:"resume",storage:S.resumeUrl.includes("drive.google")?"google-drive":"web",version:1}]:[]}),b(!1),M({name:"",email:"",phone:"",department:"",role:"",source:"Direct",resumeUrl:""}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Recruitment & ATS"}),n.jsx("p",{className:"text-gray-600",children:"Track candidates, interviews, and Selection Board approvals"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(xh,{className:"w-5 h-5"})," ",t.length," candidates",n.jsx(X,{size:"sm",onClick:()=>b(!0),className:"ml-2",children:"Add Candidate"})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[{label:"Total",value:Y.total,icon:xh,color:"indigo"},{label:"Offers",value:Y.offers,icon:Le,color:"emerald"},{label:"Hired",value:Y.hired,icon:Le,color:"green"},{label:"Avg days in stage",value:Y.avgStage,icon:Be,color:"amber"}].map(W=>n.jsx(K,{className:`border-${W.color}-100 bg-${W.color}-50`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm text-${W.color}-600`,children:W.label}),n.jsx("p",{className:`text-2xl font-bold text-${W.color}-800`,children:W.value})]}),n.jsx(W.icon,{className:`w-8 h-8 text-${W.color}-500`})]})},W.label))}),n.jsxs(K,{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsx("div",{className:"w-full md:w-72",children:n.jsx(Cn,{type:"text",value:N,onChange:W=>A(W.target.value),placeholder:"Search name, email, role",className:"w-full",inputClassName:"pr-3 py-2 text-sm"})}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs("select",{value:O,onChange:W=>D(W.target.value),className:"rounded-lg border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Departments"}),I.map(W=>n.jsx("option",{value:W,children:W},W))]}),n.jsxs("select",{value:k,onChange:W=>_(W.target.value),className:"rounded-lg border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Roles"}),J.map(W=>n.jsx("option",{value:W,children:W},W))]}),n.jsxs("select",{value:E,onChange:W=>P(W.target.value),className:"rounded-lg border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Sources"}),T.map(W=>n.jsx("option",{value:W,children:W},W))]})]})]}),n.jsxs(ca,{value:c,onValueChange:d,children:[n.jsx(da,{className:"flex-wrap",children:Tf.map(W=>n.jsxs(qe,{value:W.id,children:[W.name," (",L[W.id]?.length||0,")"]},W.id))}),Tf.map(W=>n.jsx(Nt,{value:W.id,children:n.jsx(K,{children:(L[W.id]||[]).length===0?n.jsx("div",{className:"text-center py-10 text-gray-500",children:"No candidates in this stage"}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:L[W.id].map(ne=>n.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>f(ne),children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:ne.name}),n.jsx("p",{className:"text-sm text-gray-600",children:ne.role})]}),n.jsx(ge,{variant:iD[ne.stage]||"default",children:ne.stage})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-1",children:[n.jsxs("span",{children:["Applied ",ne.appliedOn]}),U(ne)!==null&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-amber-50 text-amber-700 border border-amber-100",children:[n.jsx(Be,{className:"w-3.5 h-3.5"})," ",U(ne),"d in stage"]})]}),n.jsxs("div",{className:"mt-3 space-y-1 text-sm text-gray-700",children:[n.jsxs("p",{children:["Department: ",ne.department]}),n.jsxs("p",{children:["Source: ",ne.source||"N/A"]})]})]},ne.id))})})},W.id))]}),n.jsx(vt,{isOpen:!!m,onClose:()=>f(null),title:"Candidate Details",size:"lg",children:m&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m.name}),n.jsx("p",{className:"text-sm text-gray-600",children:m.role})]}),n.jsx(ge,{variant:iD[m.stage]||"default",children:m.stage})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-3 text-sm text-gray-700",children:[n.jsxs("p",{children:["Email: ",m.email]}),n.jsxs("p",{children:["Phone: ",m.phone]}),n.jsxs("p",{children:["Department: ",m.department]}),n.jsxs("p",{children:["Applied On: ",q(ue(m.appliedOn),"PPP")]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-800 mb-2",children:"Evaluations"}),m.evaluations?.length?n.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[n.jsx("span",{children:"Avg score"}),n.jsx("span",{className:"font-semibold",children:(m.evaluations.reduce((W,ne)=>W+(ne.score||0),0)/m.evaluations.length).toFixed(1)})]}),m.evaluations.map((W,ne)=>n.jsxs("div",{className:"border rounded p-2 flex justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium capitalize",children:W.stage}),n.jsx("p",{className:"text-xs text-gray-500",children:W.notes})]}),n.jsxs("div",{className:"text-right text-xs text-gray-500",children:[n.jsxs("p",{children:["Score: ",W.score??"-"]}),n.jsx("p",{children:W.date})]})]},ne))]}):n.jsx("p",{className:"text-xs text-gray-500",children:"No evaluations yet"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Selection Board"}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[n.jsx(ii,{className:"w-5 h-5 text-indigo-600"}),m.selectionBoard?.status||"pending",m.selectionBoard?.approvals&&n.jsxs("span",{className:"text-xs text-gray-500",children:[(m.selectionBoard.approvals||[]).filter(W=>W.decision==="approved").length,"/",m.selectionBoard.approvals?.length||0," approvals"]})]}),m.selectionBoard?.approvals?.length?n.jsx("div",{className:"space-y-1 text-xs text-gray-600",children:m.selectionBoard.approvals.map((W,ne)=>n.jsxs("div",{className:"flex items-center justify-between rounded border px-2 py-1",children:[n.jsx("span",{className:"font-medium capitalize",children:W.by||"Member"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ge,{variant:W.decision==="approved"?"success":"error",children:W.decision}),n.jsx("span",{children:W.date})]})]},ne))}):null,n.jsxs("div",{className:"flex gap-2 text-sm",children:[n.jsxs("select",{value:y.decision,onChange:W=>v(ne=>({...ne,decision:W.target.value})),className:"rounded border px-3 py-1 text-sm",children:[n.jsx("option",{value:"approved",children:"Approve"}),n.jsx("option",{value:"rejected",children:"Reject"})]}),n.jsx("input",{value:y.notes,onChange:W=>v(ne=>({...ne,notes:W.target.value})),placeholder:"Notes",className:"flex-1 rounded border px-3 py-1 text-sm"}),n.jsx(X,{size:"sm",variant:"outline",onClick:B,children:"Record"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Advance Stage"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("select",{value:h.stage,onChange:W=>g(ne=>({...ne,stage:W.target.value})),className:"rounded border px-3 py-1 text-sm",children:Tf.map(W=>n.jsx("option",{value:W.id,children:W.name},W.id))}),n.jsx("input",{value:h.notes,onChange:W=>g(ne=>({...ne,notes:W.target.value})),placeholder:"Decision notes",className:"flex-1 rounded border px-3 py-1 text-sm"}),n.jsx(X,{size:"sm",onClick:V,children:"Move"})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-800 mb-2",children:"Documents"}),m.documents?.length?n.jsx("ul",{className:"space-y-1 text-sm text-gray-700",children:m.documents.map(W=>n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx(ht,{className:"w-4 h-4"}),n.jsx("a",{href:W.url||W.link,target:"_blank",rel:"noreferrer",className:"text-indigo-600 hover:underline",children:W.name||W.title}),n.jsxs("span",{className:"text-xs text-gray-500",children:["v",W.version||1]})]},W.id))}):n.jsx("p",{className:"text-xs text-gray-500",children:"No documents linked"})]})]})}),n.jsx(vt,{isOpen:j,onClose:()=>b(!1),title:"Add Candidate",children:n.jsxs("form",{className:"space-y-3",onSubmit:F,children:[n.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Name"}),n.jsx("input",{className:"w-full rounded border px-3 py-2 text-sm",value:S.name,onChange:W=>M(ne=>({...ne,name:W.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Email"}),n.jsx("input",{type:"email",className:"w-full rounded border px-3 py-2 text-sm",value:S.email,onChange:W=>M(ne=>({...ne,email:W.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Phone"}),n.jsx("input",{className:"w-full rounded border px-3 py-2 text-sm",value:S.phone,onChange:W=>M(ne=>({...ne,phone:W.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Department"}),n.jsx("input",{className:"w-full rounded border px-3 py-2 text-sm",value:S.department,onChange:W=>M(ne=>({...ne,department:W.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Role"}),n.jsx("input",{className:"w-full rounded border px-3 py-2 text-sm",value:S.role,onChange:W=>M(ne=>({...ne,role:W.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Source"}),n.jsx("input",{className:"w-full rounded border px-3 py-2 text-sm",value:S.source,onChange:W=>M(ne=>({...ne,source:W.target.value}))})]}),n.jsxs("div",{className:"sm:col-span-2",children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Resume Link (Drive/Web)"}),n.jsx("input",{className:"w-full rounded border px-3 py-2 text-sm",value:S.resumeUrl,onChange:W=>M(ne=>({...ne,resumeUrl:W.target.value}))})]})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[n.jsx(X,{type:"button",variant:"outline",onClick:()=>b(!1),children:"Cancel"}),n.jsx(X,{type:"submit",children:"Save"})]})]})})]})}function ll(e,t){return typeof e=="function"?e(t):e}function sr(e,t){return a=>{t.setState(r=>({...r,[e]:ll(a,r[e])}))}}function vx(e){return e instanceof Function}function Cse(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Mse(e,t){const a=[],r=s=>{s.forEach(l=>{a.push(l);const c=t(l);c!=null&&c.length&&r(c)})};return r(e),a}function We(e,t,a){let r=[],s;return l=>{let c;a.key&&a.debug&&(c=Date.now());const d=e(l);if(!(d.length!==r.length||d.some((h,g)=>r[g]!==h)))return s;r=d;let f;if(a.key&&a.debug&&(f=Date.now()),s=t(...d),a==null||a.onChange==null||a.onChange(s),a.key&&a.debug&&a!=null&&a.debug()){const h=Math.round((Date.now()-c)*100)/100,g=Math.round((Date.now()-f)*100)/100,y=g/16,v=(j,b)=>{for(j=String(j);j.length<b;)j=" "+j;return j};console.info(`%c ${v(g,5)} /${v(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*y,120))}deg 100% 31%);`,a?.key)}return s}}function Ye(e,t,a,r){return{debug:()=>{var s;return(s=e?.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function Dse(e,t,a,r){const s=()=>{var c;return(c=l.getValue())!=null?c:e.options.renderFallbackValue},l={id:`${t.id}_${a.id}`,row:t,column:a,getValue:()=>t.getValue(r),renderValue:s,getContext:We(()=>[e,a,t,l],(c,d,m,f)=>({table:c,column:d,row:m,cell:f,getValue:f.getValue,renderValue:f.renderValue}),Ye(e.options,"debugCells"))};return e._features.forEach(c=>{c.createCell==null||c.createCell(l,a,t,e)},{}),l}function Ose(e,t,a,r){var s,l;const d={...e._getDefaultColumnDef(),...t},m=d.accessorKey;let f=(s=(l=d.id)!=null?l:m?typeof String.prototype.replaceAll=="function"?m.replaceAll(".","_"):m.replace(/\./g,"_"):void 0)!=null?s:typeof d.header=="string"?d.header:void 0,h;if(d.accessorFn?h=d.accessorFn:m&&(m.includes(".")?h=y=>{let v=y;for(const b of m.split(".")){var j;v=(j=v)==null?void 0:j[b]}return v}:h=y=>y[d.accessorKey]),!f)throw new Error;let g={id:`${String(f)}`,accessorFn:h,parent:r,depth:a,columnDef:d,columns:[],getFlatColumns:We(()=>[!0],()=>{var y;return[g,...(y=g.columns)==null?void 0:y.flatMap(v=>v.getFlatColumns())]},Ye(e.options,"debugColumns")),getLeafColumns:We(()=>[e._getOrderColumnsFn()],y=>{var v;if((v=g.columns)!=null&&v.length){let j=g.columns.flatMap(b=>b.getLeafColumns());return y(j)}return[g]},Ye(e.options,"debugColumns"))};for(const y of e._features)y.createColumn==null||y.createColumn(g,e);return g}const ma="debugHeaders";function lD(e,t,a){var r;let l={id:(r=a.id)!=null?r:t.id,column:t,index:a.index,isPlaceholder:!!a.isPlaceholder,placeholderId:a.placeholderId,depth:a.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const c=[],d=m=>{m.subHeaders&&m.subHeaders.length&&m.subHeaders.map(d),c.push(m)};return d(l),c},getContext:()=>({table:e,header:l,column:t})};return e._features.forEach(c=>{c.createHeader==null||c.createHeader(l,e)}),l}const Ese={createTable:e=>{e.getHeaderGroups=We(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,a,r,s)=>{var l,c;const d=(l=r?.map(g=>a.find(y=>y.id===g)).filter(Boolean))!=null?l:[],m=(c=s?.map(g=>a.find(y=>y.id===g)).filter(Boolean))!=null?c:[],f=a.filter(g=>!(r!=null&&r.includes(g.id))&&!(s!=null&&s.includes(g.id)));return th(t,[...d,...f,...m],e)},Ye(e.options,ma)),e.getCenterHeaderGroups=We(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,a,r,s)=>(a=a.filter(l=>!(r!=null&&r.includes(l.id))&&!(s!=null&&s.includes(l.id))),th(t,a,e,"center")),Ye(e.options,ma)),e.getLeftHeaderGroups=We(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,a,r)=>{var s;const l=(s=r?.map(c=>a.find(d=>d.id===c)).filter(Boolean))!=null?s:[];return th(t,l,e,"left")},Ye(e.options,ma)),e.getRightHeaderGroups=We(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,a,r)=>{var s;const l=(s=r?.map(c=>a.find(d=>d.id===c)).filter(Boolean))!=null?s:[];return th(t,l,e,"right")},Ye(e.options,ma)),e.getFooterGroups=We(()=>[e.getHeaderGroups()],t=>[...t].reverse(),Ye(e.options,ma)),e.getLeftFooterGroups=We(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),Ye(e.options,ma)),e.getCenterFooterGroups=We(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),Ye(e.options,ma)),e.getRightFooterGroups=We(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),Ye(e.options,ma)),e.getFlatHeaders=We(()=>[e.getHeaderGroups()],t=>t.map(a=>a.headers).flat(),Ye(e.options,ma)),e.getLeftFlatHeaders=We(()=>[e.getLeftHeaderGroups()],t=>t.map(a=>a.headers).flat(),Ye(e.options,ma)),e.getCenterFlatHeaders=We(()=>[e.getCenterHeaderGroups()],t=>t.map(a=>a.headers).flat(),Ye(e.options,ma)),e.getRightFlatHeaders=We(()=>[e.getRightHeaderGroups()],t=>t.map(a=>a.headers).flat(),Ye(e.options,ma)),e.getCenterLeafHeaders=We(()=>[e.getCenterFlatHeaders()],t=>t.filter(a=>{var r;return!((r=a.subHeaders)!=null&&r.length)}),Ye(e.options,ma)),e.getLeftLeafHeaders=We(()=>[e.getLeftFlatHeaders()],t=>t.filter(a=>{var r;return!((r=a.subHeaders)!=null&&r.length)}),Ye(e.options,ma)),e.getRightLeafHeaders=We(()=>[e.getRightFlatHeaders()],t=>t.filter(a=>{var r;return!((r=a.subHeaders)!=null&&r.length)}),Ye(e.options,ma)),e.getLeafHeaders=We(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,a,r)=>{var s,l,c,d,m,f;return[...(s=(l=t[0])==null?void 0:l.headers)!=null?s:[],...(c=(d=a[0])==null?void 0:d.headers)!=null?c:[],...(m=(f=r[0])==null?void 0:f.headers)!=null?m:[]].map(h=>h.getLeafHeaders()).flat()},Ye(e.options,ma))}};function th(e,t,a,r){var s,l;let c=0;const d=function(y,v){v===void 0&&(v=1),c=Math.max(c,v),y.filter(j=>j.getIsVisible()).forEach(j=>{var b;(b=j.columns)!=null&&b.length&&d(j.columns,v+1)},0)};d(e);let m=[];const f=(y,v)=>{const j={depth:v,id:[r,`${v}`].filter(Boolean).join("_"),headers:[]},b=[];y.forEach(S=>{const M=[...b].reverse()[0],N=S.column.depth===j.depth;let A,O=!1;if(N&&S.column.parent?A=S.column.parent:(A=S.column,O=!0),M&&M?.column===A)M.subHeaders.push(S);else{const D=lD(a,A,{id:[r,v,A.id,S?.id].filter(Boolean).join("_"),isPlaceholder:O,placeholderId:O?`${b.filter(k=>k.column===A).length}`:void 0,depth:v,index:b.length});D.subHeaders.push(S),b.push(D)}j.headers.push(S),S.headerGroup=j}),m.push(j),v>0&&f(b,v-1)},h=t.map((y,v)=>lD(a,y,{depth:c,index:v}));f(h,c-1),m.reverse();const g=y=>y.filter(j=>j.column.getIsVisible()).map(j=>{let b=0,S=0,M=[0];j.subHeaders&&j.subHeaders.length?(M=[],g(j.subHeaders).forEach(A=>{let{colSpan:O,rowSpan:D}=A;b+=O,M.push(D)})):b=1;const N=Math.min(...M);return S=S+N,j.colSpan=b,j.rowSpan=S,{colSpan:b,rowSpan:S}});return g((s=(l=m[0])==null?void 0:l.headers)!=null?s:[]),m}const Nw=(e,t,a,r,s,l,c)=>{let d={id:t,index:r,original:a,depth:s,parentId:c,_valuesCache:{},_uniqueValuesCache:{},getValue:m=>{if(d._valuesCache.hasOwnProperty(m))return d._valuesCache[m];const f=e.getColumn(m);if(f!=null&&f.accessorFn)return d._valuesCache[m]=f.accessorFn(d.original,r),d._valuesCache[m]},getUniqueValues:m=>{if(d._uniqueValuesCache.hasOwnProperty(m))return d._uniqueValuesCache[m];const f=e.getColumn(m);if(f!=null&&f.accessorFn)return f.columnDef.getUniqueValues?(d._uniqueValuesCache[m]=f.columnDef.getUniqueValues(d.original,r),d._uniqueValuesCache[m]):(d._uniqueValuesCache[m]=[d.getValue(m)],d._uniqueValuesCache[m])},renderValue:m=>{var f;return(f=d.getValue(m))!=null?f:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Mse(d.subRows,m=>m.subRows),getParentRow:()=>d.parentId?e.getRow(d.parentId,!0):void 0,getParentRows:()=>{let m=[],f=d;for(;;){const h=f.getParentRow();if(!h)break;m.push(h),f=h}return m.reverse()},getAllCells:We(()=>[e.getAllLeafColumns()],m=>m.map(f=>Dse(e,d,f,f.id)),Ye(e.options,"debugRows")),_getAllCellsByColumnId:We(()=>[d.getAllCells()],m=>m.reduce((f,h)=>(f[h.column.id]=h,f),{}),Ye(e.options,"debugRows"))};for(let m=0;m<e._features.length;m++){const f=e._features[m];f==null||f.createRow==null||f.createRow(d,e)}return d},kse={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},h6=(e,t,a)=>{var r,s;const l=a==null||(r=a.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(l))};h6.autoRemove=e=>Yr(e);const p6=(e,t,a)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(a))};p6.autoRemove=e=>Yr(e);const x6=(e,t,a)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===a?.toLowerCase()};x6.autoRemove=e=>Yr(e);const g6=(e,t,a)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(a)};g6.autoRemove=e=>Yr(e);const y6=(e,t,a)=>!a.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});y6.autoRemove=e=>Yr(e)||!(e!=null&&e.length);const v6=(e,t,a)=>a.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});v6.autoRemove=e=>Yr(e)||!(e!=null&&e.length);const b6=(e,t,a)=>e.getValue(t)===a;b6.autoRemove=e=>Yr(e);const j6=(e,t,a)=>e.getValue(t)==a;j6.autoRemove=e=>Yr(e);const Sw=(e,t,a)=>{let[r,s]=a;const l=e.getValue(t);return l>=r&&l<=s};Sw.resolveFilterValue=e=>{let[t,a]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof a!="number"?parseFloat(a):a,l=t===null||Number.isNaN(r)?-1/0:r,c=a===null||Number.isNaN(s)?1/0:s;if(l>c){const d=l;l=c,c=d}return[l,c]};Sw.autoRemove=e=>Yr(e)||Yr(e[0])&&Yr(e[1]);const Ks={includesString:h6,includesStringSensitive:p6,equalsString:x6,arrIncludes:g6,arrIncludesAll:y6,arrIncludesSome:v6,equals:b6,weakEquals:j6,inNumberRange:Sw};function Yr(e){return e==null||e===""}const Pse={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:sr("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const a=t.getCoreRowModel().flatRows[0],r=a?.getValue(e.id);return typeof r=="string"?Ks.includesString:typeof r=="number"?Ks.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Ks.equals:Array.isArray(r)?Ks.arrIncludes:Ks.weakEquals},e.getFilterFn=()=>{var a,r;return vx(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(a=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?a:Ks[e.columnDef.filterFn]},e.getCanFilter=()=>{var a,r,s;return((a=e.columnDef.enableColumnFilter)!=null?a:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var a;return(a=t.getState().columnFilters)==null||(a=a.find(r=>r.id===e.id))==null?void 0:a.value},e.getFilterIndex=()=>{var a,r;return(a=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?a:-1},e.setFilterValue=a=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),l=r?.find(h=>h.id===e.id),c=ll(a,l?l.value:void 0);if(oD(s,c,e)){var d;return(d=r?.filter(h=>h.id!==e.id))!=null?d:[]}const m={id:e.id,value:c};if(l){var f;return(f=r?.map(h=>h.id===e.id?m:h))!=null?f:[]}return r!=null&&r.length?[...r,m]:[m]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const a=e.getAllLeafColumns(),r=s=>{var l;return(l=ll(t,s))==null?void 0:l.filter(c=>{const d=a.find(m=>m.id===c.id);if(d){const m=d.getFilterFn();if(oD(m,c.value,d))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var a,r;e.setColumnFilters(t?[]:(a=(r=e.initialState)==null?void 0:r.columnFilters)!=null?a:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function oD(e,t,a){return(e&&e.autoRemove?e.autoRemove(t,a):!1)||typeof t>"u"||typeof t=="string"&&!t}const Rse=(e,t,a)=>a.reduce((r,s)=>{const l=s.getValue(e);return r+(typeof l=="number"?l:0)},0),_se=(e,t,a)=>{let r;return a.forEach(s=>{const l=s.getValue(e);l!=null&&(r>l||r===void 0&&l>=l)&&(r=l)}),r},Tse=(e,t,a)=>{let r;return a.forEach(s=>{const l=s.getValue(e);l!=null&&(r<l||r===void 0&&l>=l)&&(r=l)}),r},Lse=(e,t,a)=>{let r,s;return a.forEach(l=>{const c=l.getValue(e);c!=null&&(r===void 0?c>=c&&(r=s=c):(r>c&&(r=c),s<c&&(s=c)))}),[r,s]},Ise=(e,t)=>{let a=0,r=0;if(t.forEach(s=>{let l=s.getValue(e);l!=null&&(l=+l)>=l&&(++a,r+=l)}),a)return r/a},zse=(e,t)=>{if(!t.length)return;const a=t.map(l=>l.getValue(e));if(!Cse(a))return;if(a.length===1)return a[0];const r=Math.floor(a.length/2),s=a.sort((l,c)=>l-c);return a.length%2!==0?s[r]:(s[r-1]+s[r])/2},$se=(e,t)=>Array.from(new Set(t.map(a=>a.getValue(e))).values()),Bse=(e,t)=>new Set(t.map(a=>a.getValue(e))).size,Fse=(e,t)=>t.length,Dv={sum:Rse,min:_se,max:Tse,extent:Lse,mean:Ise,median:zse,unique:$se,uniqueCount:Bse,count:Fse},Use={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,a;return(t=(a=e.getValue())==null||a.toString==null?void 0:a.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:sr("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(a=>a!=null&&a.includes(e.id)?a.filter(r=>r!==e.id):[...a??[],e.id])},e.getCanGroup=()=>{var a,r;return((a=e.columnDef.enableGrouping)!=null?a:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var a;return(a=t.getState().grouping)==null?void 0:a.includes(e.id)},e.getGroupedIndex=()=>{var a;return(a=t.getState().grouping)==null?void 0:a.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const a=e.getCanGroup();return()=>{a&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const a=t.getCoreRowModel().flatRows[0],r=a?.getValue(e.id);if(typeof r=="number")return Dv.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Dv.extent},e.getAggregationFn=()=>{var a,r;if(!e)throw new Error;return vx(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(a=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?a:Dv[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var a,r;e.setGrouping(t?[]:(a=(r=e.initialState)==null?void 0:r.grouping)!=null?a:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=a=>{if(e._groupingValuesCache.hasOwnProperty(a))return e._groupingValuesCache[a];const r=t.getColumn(a);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[a]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[a]):e.getValue(a)},e._groupingValuesCache={}},createCell:(e,t,a,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===a.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=a.subRows)!=null&&s.length)}}};function qse(e,t,a){if(!(t!=null&&t.length)||!a)return e;const r=e.filter(l=>!t.includes(l.id));return a==="remove"?r:[...t.map(l=>e.find(c=>c.id===l)).filter(Boolean),...r]}const Hse={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:sr("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=We(a=>[fu(t,a)],a=>a.findIndex(r=>r.id===e.id),Ye(t.options,"debugColumns")),e.getIsFirstColumn=a=>{var r;return((r=fu(t,a)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=a=>{var r;const s=fu(t,a);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var a;e.setColumnOrder(t?[]:(a=e.initialState.columnOrder)!=null?a:[])},e._getOrderColumnsFn=We(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,a,r)=>s=>{let l=[];if(!(t!=null&&t.length))l=s;else{const c=[...t],d=[...s];for(;d.length&&c.length;){const m=c.shift(),f=d.findIndex(h=>h.id===m);f>-1&&l.push(d.splice(f,1)[0])}l=[...l,...d]}return qse(l,a,r)},Ye(e.options,"debugTable"))}},Ov=()=>({left:[],right:[]}),Vse={getInitialState:e=>({columnPinning:Ov(),...e}),getDefaultOptions:e=>({onColumnPinningChange:sr("columnPinning",e)}),createColumn:(e,t)=>{e.pin=a=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var l,c;if(a==="right"){var d,m;return{left:((d=s?.left)!=null?d:[]).filter(g=>!(r!=null&&r.includes(g))),right:[...((m=s?.right)!=null?m:[]).filter(g=>!(r!=null&&r.includes(g))),...r]}}if(a==="left"){var f,h;return{left:[...((f=s?.left)!=null?f:[]).filter(g=>!(r!=null&&r.includes(g))),...r],right:((h=s?.right)!=null?h:[]).filter(g=>!(r!=null&&r.includes(g)))}}return{left:((l=s?.left)!=null?l:[]).filter(g=>!(r!=null&&r.includes(g))),right:((c=s?.right)!=null?c:[]).filter(g=>!(r!=null&&r.includes(g)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,l,c;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((l=(c=t.options.enableColumnPinning)!=null?c:t.options.enablePinning)!=null?l:!0)}),e.getIsPinned=()=>{const a=e.getLeafColumns().map(d=>d.id),{left:r,right:s}=t.getState().columnPinning,l=a.some(d=>r?.includes(d)),c=a.some(d=>s?.includes(d));return l?"left":c?"right":!1},e.getPinnedIndex=()=>{var a,r;const s=e.getIsPinned();return s?(a=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?a:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=We(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(a,r,s)=>{const l=[...r??[],...s??[]];return a.filter(c=>!l.includes(c.column.id))},Ye(t.options,"debugRows")),e.getLeftVisibleCells=We(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(a,r)=>(r??[]).map(l=>a.find(c=>c.column.id===l)).filter(Boolean).map(l=>({...l,position:"left"})),Ye(t.options,"debugRows")),e.getRightVisibleCells=We(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(a,r)=>(r??[]).map(l=>a.find(c=>c.column.id===l)).filter(Boolean).map(l=>({...l,position:"right"})),Ye(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var a,r;return e.setColumnPinning(t?Ov():(a=(r=e.initialState)==null?void 0:r.columnPinning)!=null?a:Ov())},e.getIsSomeColumnsPinned=t=>{var a;const r=e.getState().columnPinning;if(!t){var s,l;return!!((s=r.left)!=null&&s.length||(l=r.right)!=null&&l.length)}return!!((a=r[t])!=null&&a.length)},e.getLeftLeafColumns=We(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,a)=>(a??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),Ye(e.options,"debugColumns")),e.getRightLeafColumns=We(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,a)=>(a??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),Ye(e.options,"debugColumns")),e.getCenterLeafColumns=We(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,a,r)=>{const s=[...a??[],...r??[]];return t.filter(l=>!s.includes(l.id))},Ye(e.options,"debugColumns"))}};function Kse(e){return e||(typeof document<"u"?document:null)}const nh={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Ev=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Wse={getDefaultColumnDef:()=>nh,getInitialState:e=>({columnSizing:{},columnSizingInfo:Ev(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:sr("columnSizing",e),onColumnSizingInfoChange:sr("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var a,r,s;const l=t.getState().columnSizing[e.id];return Math.min(Math.max((a=e.columnDef.minSize)!=null?a:nh.minSize,(r=l??e.columnDef.size)!=null?r:nh.size),(s=e.columnDef.maxSize)!=null?s:nh.maxSize)},e.getStart=We(a=>[a,fu(t,a),t.getState().columnSizing],(a,r)=>r.slice(0,e.getIndex(a)).reduce((s,l)=>s+l.getSize(),0),Ye(t.options,"debugColumns")),e.getAfter=We(a=>[a,fu(t,a),t.getState().columnSizing],(a,r)=>r.slice(e.getIndex(a)+1).reduce((s,l)=>s+l.getSize(),0),Ye(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(a=>{let{[e.id]:r,...s}=a;return s})},e.getCanResize=()=>{var a,r;return((a=e.columnDef.enableResizing)!=null?a:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let a=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var l;a+=(l=s.column.getSize())!=null?l:0}};return r(e),a},e.getStart=()=>{if(e.index>0){const a=e.headerGroup.headers[e.index-1];return a.getStart()+a.getSize()}return 0},e.getResizeHandler=a=>{const r=t.getColumn(e.column.id),s=r?.getCanResize();return l=>{if(!r||!s||(l.persist==null||l.persist(),kv(l)&&l.touches&&l.touches.length>1))return;const c=e.getSize(),d=e?e.getLeafHeaders().map(M=>[M.column.id,M.column.getSize()]):[[r.id,r.getSize()]],m=kv(l)?Math.round(l.touches[0].clientX):l.clientX,f={},h=(M,N)=>{typeof N=="number"&&(t.setColumnSizingInfo(A=>{var O,D;const k=t.options.columnResizeDirection==="rtl"?-1:1,_=(N-((O=A?.startOffset)!=null?O:0))*k,E=Math.max(_/((D=A?.startSize)!=null?D:0),-.999999);return A.columnSizingStart.forEach(P=>{let[z,L]=P;f[z]=Math.round(Math.max(L+L*E,0)*100)/100}),{...A,deltaOffset:_,deltaPercentage:E}}),(t.options.columnResizeMode==="onChange"||M==="end")&&t.setColumnSizing(A=>({...A,...f})))},g=M=>h("move",M),y=M=>{h("end",M),t.setColumnSizingInfo(N=>({...N,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},v=Kse(a),j={moveHandler:M=>g(M.clientX),upHandler:M=>{v?.removeEventListener("mousemove",j.moveHandler),v?.removeEventListener("mouseup",j.upHandler),y(M.clientX)}},b={moveHandler:M=>(M.cancelable&&(M.preventDefault(),M.stopPropagation()),g(M.touches[0].clientX),!1),upHandler:M=>{var N;v?.removeEventListener("touchmove",b.moveHandler),v?.removeEventListener("touchend",b.upHandler),M.cancelable&&(M.preventDefault(),M.stopPropagation()),y((N=M.touches[0])==null?void 0:N.clientX)}},S=Yse()?{passive:!1}:!1;kv(l)?(v?.addEventListener("touchmove",b.moveHandler,S),v?.addEventListener("touchend",b.upHandler,S)):(v?.addEventListener("mousemove",j.moveHandler,S),v?.addEventListener("mouseup",j.upHandler,S)),t.setColumnSizingInfo(M=>({...M,startOffset:m,startSize:c,deltaOffset:0,deltaPercentage:0,columnSizingStart:d,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var a;e.setColumnSizing(t?{}:(a=e.initialState.columnSizing)!=null?a:{})},e.resetHeaderSizeInfo=t=>{var a;e.setColumnSizingInfo(t?Ev():(a=e.initialState.columnSizingInfo)!=null?a:Ev())},e.getTotalSize=()=>{var t,a;return(t=(a=e.getHeaderGroups()[0])==null?void 0:a.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,a;return(t=(a=e.getLeftHeaderGroups()[0])==null?void 0:a.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,a;return(t=(a=e.getCenterHeaderGroups()[0])==null?void 0:a.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,a;return(t=(a=e.getRightHeaderGroups()[0])==null?void 0:a.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let ah=null;function Yse(){if(typeof ah=="boolean")return ah;let e=!1;try{const t={get passive(){return e=!0,!1}},a=()=>{};window.addEventListener("test",a,t),window.removeEventListener("test",a)}catch{e=!1}return ah=e,ah}function kv(e){return e.type==="touchstart"}const Gse={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:sr("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=a=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:a??!e.getIsVisible()}))},e.getIsVisible=()=>{var a,r;const s=e.columns;return(a=s.length?s.some(l=>l.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?a:!0},e.getCanHide=()=>{var a,r;return((a=e.columnDef.enableHiding)!=null?a:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>a=>{e.toggleVisibility==null||e.toggleVisibility(a.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=We(()=>[e.getAllCells(),t.getState().columnVisibility],a=>a.filter(r=>r.column.getIsVisible()),Ye(t.options,"debugRows")),e.getVisibleCells=We(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(a,r,s)=>[...a,...r,...s],Ye(t.options,"debugRows"))},createTable:e=>{const t=(a,r)=>We(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(l=>l.getIsVisible==null?void 0:l.getIsVisible()),Ye(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=a=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(a),e.resetColumnVisibility=a=>{var r;e.setColumnVisibility(a?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=a=>{var r;a=(r=a)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,l)=>({...s,[l.id]:a||!(l.getCanHide!=null&&l.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(a=>!(a.getIsVisible!=null&&a.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(a=>a.getIsVisible==null?void 0:a.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>a=>{var r;e.toggleAllColumnsVisible((r=a.target)==null?void 0:r.checked)}}};function fu(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Zse={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Xse={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:sr("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var a;const r=(a=e.getCoreRowModel().flatRows[0])==null||(a=a._getAllCellsByColumnId()[t.id])==null?void 0:a.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var a,r,s,l;return((a=e.columnDef.enableGlobalFilter)!=null?a:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((l=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?l:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Ks.includesString,e.getGlobalFilterFn=()=>{var t,a;const{globalFilterFn:r}=e.options;return vx(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(a=e.options.filterFns)==null?void 0:a[r])!=null?t:Ks[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Qse={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:sr("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,a=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(a)return;a=!0,e._queue(()=>{e.resetExpanded(),a=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,l;e.setExpanded(r?{}:(s=(l=e.initialState)==null?void 0:l.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(l=>{const c=l.split(".");r=Math.max(r,c.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=a=>{t.setExpanded(r=>{var s;const l=r===!0?!0:!!(r!=null&&r[e.id]);let c={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(d=>{c[d]=!0}):c=r,a=(s=a)!=null?s:!l,!l&&a)return{...c,[e.id]:!0};if(l&&!a){const{[e.id]:d,...m}=c;return m}return r})},e.getIsExpanded=()=>{var a;const r=t.getState().expanded;return!!((a=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?a:r===!0||r?.[e.id])},e.getCanExpand=()=>{var a,r,s;return(a=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?a:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let a=!0,r=e;for(;a&&r.parentId;)r=t.getRow(r.parentId,!0),a=r.getIsExpanded();return a},e.getToggleExpandedHandler=()=>{const a=e.getCanExpand();return()=>{a&&e.toggleExpanded()}}}},Xb=0,Qb=10,Pv=()=>({pageIndex:Xb,pageSize:Qb}),Jse={getInitialState:e=>({...e,pagination:{...Pv(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:sr("pagination",e)}),createTable:e=>{let t=!1,a=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(a)return;a=!0,e._queue(()=>{e.resetPageIndex(),a=!1})}},e.setPagination=r=>{const s=l=>ll(r,l);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?Pv():(s=e.initialState.pagination)!=null?s:Pv())},e.setPageIndex=r=>{e.setPagination(s=>{let l=ll(r,s.pageIndex);const c=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return l=Math.max(0,Math.min(l,c)),{...s,pageIndex:l}})},e.resetPageIndex=r=>{var s,l;e.setPageIndex(r?Xb:(s=(l=e.initialState)==null||(l=l.pagination)==null?void 0:l.pageIndex)!=null?s:Xb)},e.resetPageSize=r=>{var s,l;e.setPageSize(r?Qb:(s=(l=e.initialState)==null||(l=l.pagination)==null?void 0:l.pageSize)!=null?s:Qb)},e.setPageSize=r=>{e.setPagination(s=>{const l=Math.max(1,ll(r,s.pageSize)),c=s.pageSize*s.pageIndex,d=Math.floor(c/l);return{...s,pageIndex:d,pageSize:l}})},e.setPageCount=r=>e.setPagination(s=>{var l;let c=ll(r,(l=e.options.pageCount)!=null?l:-1);return typeof c=="number"&&(c=Math.max(-1,c)),{...s,pageCount:c}}),e.getPageOptions=We(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((l,c)=>c)),s},Ye(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Rv=()=>({top:[],bottom:[]}),eie={getInitialState:e=>({rowPinning:Rv(),...e}),getDefaultOptions:e=>({onRowPinningChange:sr("rowPinning",e)}),createRow:(e,t)=>{e.pin=(a,r,s)=>{const l=r?e.getLeafRows().map(m=>{let{id:f}=m;return f}):[],c=s?e.getParentRows().map(m=>{let{id:f}=m;return f}):[],d=new Set([...c,e.id,...l]);t.setRowPinning(m=>{var f,h;if(a==="bottom"){var g,y;return{top:((g=m?.top)!=null?g:[]).filter(b=>!(d!=null&&d.has(b))),bottom:[...((y=m?.bottom)!=null?y:[]).filter(b=>!(d!=null&&d.has(b))),...Array.from(d)]}}if(a==="top"){var v,j;return{top:[...((v=m?.top)!=null?v:[]).filter(b=>!(d!=null&&d.has(b))),...Array.from(d)],bottom:((j=m?.bottom)!=null?j:[]).filter(b=>!(d!=null&&d.has(b)))}}return{top:((f=m?.top)!=null?f:[]).filter(b=>!(d!=null&&d.has(b))),bottom:((h=m?.bottom)!=null?h:[]).filter(b=>!(d!=null&&d.has(b)))}})},e.getCanPin=()=>{var a;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(a=r??s)!=null?a:!0},e.getIsPinned=()=>{const a=[e.id],{top:r,bottom:s}=t.getState().rowPinning,l=a.some(d=>r?.includes(d)),c=a.some(d=>s?.includes(d));return l?"top":c?"bottom":!1},e.getPinnedIndex=()=>{var a,r;const s=e.getIsPinned();if(!s)return-1;const l=(a=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:a.map(c=>{let{id:d}=c;return d});return(r=l?.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var a,r;return e.setRowPinning(t?Rv():(a=(r=e.initialState)==null?void 0:r.rowPinning)!=null?a:Rv())},e.getIsSomeRowsPinned=t=>{var a;const r=e.getState().rowPinning;if(!t){var s,l;return!!((s=r.top)!=null&&s.length||(l=r.bottom)!=null&&l.length)}return!!((a=r[t])!=null&&a.length)},e._getPinnedRows=(t,a,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(a??[]).map(c=>{const d=e.getRow(c,!0);return d.getIsAllParentsExpanded()?d:null}):(a??[]).map(c=>t.find(d=>d.id===c))).filter(Boolean).map(c=>({...c,position:r}))},e.getTopRows=We(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,a)=>e._getPinnedRows(t,a,"top"),Ye(e.options,"debugRows")),e.getBottomRows=We(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,a)=>e._getPinnedRows(t,a,"bottom"),Ye(e.options,"debugRows")),e.getCenterRows=We(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,a,r)=>{const s=new Set([...a??[],...r??[]]);return t.filter(l=>!s.has(l.id))},Ye(e.options,"debugRows"))}},tie={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:sr("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var a;return e.setRowSelection(t?{}:(a=e.initialState.rowSelection)!=null?a:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(a=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...a},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(l=>{l.getCanSelect()&&(r[l.id]=!0)}):s.forEach(l=>{delete r[l.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(a=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...a};return e.getRowModel().rows.forEach(l=>{Jb(s,l.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=We(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,a)=>Object.keys(t).length?_v(e,a):{rows:[],flatRows:[],rowsById:{}},Ye(e.options,"debugTable")),e.getFilteredSelectedRowModel=We(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,a)=>Object.keys(t).length?_v(e,a):{rows:[],flatRows:[],rowsById:{}},Ye(e.options,"debugTable")),e.getGroupedSelectedRowModel=We(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,a)=>Object.keys(t).length?_v(e,a):{rows:[],flatRows:[],rowsById:{}},Ye(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:a}=e.getState();let r=!!(t.length&&Object.keys(a).length);return r&&t.some(s=>s.getCanSelect()&&!a[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:a}=e.getState();let r=!!t.length;return r&&t.some(s=>!a[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const a=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return a>0&&a<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(a=>a.getCanSelect()).some(a=>a.getIsSelected()||a.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(a,r)=>{const s=e.getIsSelected();t.setRowSelection(l=>{var c;if(a=typeof a<"u"?a:!s,e.getCanSelect()&&s===a)return l;const d={...l};return Jb(d,e.id,a,(c=r?.selectChildren)!=null?c:!0,t),d})},e.getIsSelected=()=>{const{rowSelection:a}=t.getState();return Aw(e,a)},e.getIsSomeSelected=()=>{const{rowSelection:a}=t.getState();return ej(e,a)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:a}=t.getState();return ej(e,a)==="all"},e.getCanSelect=()=>{var a;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(a=t.options.enableRowSelection)!=null?a:!0},e.getCanSelectSubRows=()=>{var a;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(a=t.options.enableSubRowSelection)!=null?a:!0},e.getCanMultiSelect=()=>{var a;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(a=t.options.enableMultiRowSelection)!=null?a:!0},e.getToggleSelectedHandler=()=>{const a=e.getCanSelect();return r=>{var s;a&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},Jb=(e,t,a,r,s)=>{var l;const c=s.getRow(t,!0);a?(c.getCanMultiSelect()||Object.keys(e).forEach(d=>delete e[d]),c.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(l=c.subRows)!=null&&l.length&&c.getCanSelectSubRows()&&c.subRows.forEach(d=>Jb(e,d.id,a,r,s))};function _v(e,t){const a=e.getState().rowSelection,r=[],s={},l=function(c,d){return c.map(m=>{var f;const h=Aw(m,a);if(h&&(r.push(m),s[m.id]=m),(f=m.subRows)!=null&&f.length&&(m={...m,subRows:l(m.subRows)}),h)return m}).filter(Boolean)};return{rows:l(t.rows),flatRows:r,rowsById:s}}function Aw(e,t){var a;return(a=t[e.id])!=null?a:!1}function ej(e,t,a){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,l=!1;return e.subRows.forEach(c=>{if(!(l&&!s)&&(c.getCanSelect()&&(Aw(c,t)?l=!0:s=!1),c.subRows&&c.subRows.length)){const d=ej(c,t);d==="all"?l=!0:(d==="some"&&(l=!0),s=!1)}}),s?"all":l?"some":!1}const tj=/([0-9]+)/gm,nie=(e,t,a)=>w6(ml(e.getValue(a)).toLowerCase(),ml(t.getValue(a)).toLowerCase()),aie=(e,t,a)=>w6(ml(e.getValue(a)),ml(t.getValue(a))),rie=(e,t,a)=>Cw(ml(e.getValue(a)).toLowerCase(),ml(t.getValue(a)).toLowerCase()),sie=(e,t,a)=>Cw(ml(e.getValue(a)),ml(t.getValue(a))),iie=(e,t,a)=>{const r=e.getValue(a),s=t.getValue(a);return r>s?1:r<s?-1:0},lie=(e,t,a)=>Cw(e.getValue(a),t.getValue(a));function Cw(e,t){return e===t?0:e>t?1:-1}function ml(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function w6(e,t){const a=e.split(tj).filter(Boolean),r=t.split(tj).filter(Boolean);for(;a.length&&r.length;){const s=a.shift(),l=r.shift(),c=parseInt(s,10),d=parseInt(l,10),m=[c,d].sort();if(isNaN(m[0])){if(s>l)return 1;if(l>s)return-1;continue}if(isNaN(m[1]))return isNaN(c)?-1:1;if(c>d)return 1;if(d>c)return-1}return a.length-r.length}const tu={alphanumeric:nie,alphanumericCaseSensitive:aie,text:rie,textCaseSensitive:sie,datetime:iie,basic:lie},oie={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:sr("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const a=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of a){const l=s?.getValue(e.id);if(Object.prototype.toString.call(l)==="[object Date]")return tu.datetime;if(typeof l=="string"&&(r=!0,l.split(tj).length>1))return tu.alphanumeric}return r?tu.text:tu.basic},e.getAutoSortDir=()=>{const a=t.getFilteredRowModel().flatRows[0];return typeof a?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var a,r;if(!e)throw new Error;return vx(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(a=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?a:tu[e.columnDef.sortingFn]},e.toggleSorting=(a,r)=>{const s=e.getNextSortingOrder(),l=typeof a<"u"&&a!==null;t.setSorting(c=>{const d=c?.find(v=>v.id===e.id),m=c?.findIndex(v=>v.id===e.id);let f=[],h,g=l?a:s==="desc";if(c!=null&&c.length&&e.getCanMultiSort()&&r?d?h="toggle":h="add":c!=null&&c.length&&m!==c.length-1?h="replace":d?h="toggle":h="replace",h==="toggle"&&(l||s||(h="remove")),h==="add"){var y;f=[...c,{id:e.id,desc:g}],f.splice(0,f.length-((y=t.options.maxMultiSortColCount)!=null?y:Number.MAX_SAFE_INTEGER))}else h==="toggle"?f=c.map(v=>v.id===e.id?{...v,desc:g}:v):h==="remove"?f=c.filter(v=>v.id!==e.id):f=[{id:e.id,desc:g}];return f})},e.getFirstSortDir=()=>{var a,r;return((a=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?a:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=a=>{var r,s;const l=e.getFirstSortDir(),c=e.getIsSorted();return c?c!==l&&((r=t.options.enableSortingRemoval)==null||r)&&(!(a&&(s=t.options.enableMultiRemove)!=null)||s)?!1:c==="desc"?"asc":"desc":l},e.getCanSort=()=>{var a,r;return((a=e.columnDef.enableSorting)!=null?a:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var a,r;return(a=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?a:!!e.accessorFn},e.getIsSorted=()=>{var a;const r=(a=t.getState().sorting)==null?void 0:a.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var a,r;return(a=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?a:-1},e.clearSorting=()=>{t.setSorting(a=>a!=null&&a.length?a.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const a=e.getCanSort();return r=>{a&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var a,r;e.setSorting(t?[]:(a=(r=e.initialState)==null?void 0:r.sorting)!=null?a:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},cie=[Ese,Gse,Hse,Vse,kse,Pse,Zse,Xse,oie,Use,Qse,Jse,eie,tie,Wse];function die(e){var t,a;const r=[...cie,...(t=e._features)!=null?t:[]];let s={_features:r};const l=s._features.reduce((y,v)=>Object.assign(y,v.getDefaultOptions==null?void 0:v.getDefaultOptions(s)),{}),c=y=>s.options.mergeOptions?s.options.mergeOptions(l,y):{...l,...y};let m={...{},...(a=e.initialState)!=null?a:{}};s._features.forEach(y=>{var v;m=(v=y.getInitialState==null?void 0:y.getInitialState(m))!=null?v:m});const f=[];let h=!1;const g={_features:r,options:{...l,...e},initialState:m,_queue:y=>{f.push(y),h||(h=!0,Promise.resolve().then(()=>{for(;f.length;)f.shift()();h=!1}).catch(v=>setTimeout(()=>{throw v})))},reset:()=>{s.setState(s.initialState)},setOptions:y=>{const v=ll(y,s.options);s.options=c(v)},getState:()=>s.options.state,setState:y=>{s.options.onStateChange==null||s.options.onStateChange(y)},_getRowId:(y,v,j)=>{var b;return(b=s.options.getRowId==null?void 0:s.options.getRowId(y,v,j))!=null?b:`${j?[j.id,v].join("."):v}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(y,v)=>{let j=(v?s.getPrePaginationRowModel():s.getRowModel()).rowsById[y];if(!j&&(j=s.getCoreRowModel().rowsById[y],!j))throw new Error;return j},_getDefaultColumnDef:We(()=>[s.options.defaultColumn],y=>{var v;return y=(v=y)!=null?v:{},{header:j=>{const b=j.header.column.columnDef;return b.accessorKey?b.accessorKey:b.accessorFn?b.id:null},cell:j=>{var b,S;return(b=(S=j.renderValue())==null||S.toString==null?void 0:S.toString())!=null?b:null},...s._features.reduce((j,b)=>Object.assign(j,b.getDefaultColumnDef==null?void 0:b.getDefaultColumnDef()),{}),...y}},Ye(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:We(()=>[s._getColumnDefs()],y=>{const v=function(j,b,S){return S===void 0&&(S=0),j.map(M=>{const N=Ose(s,M,S,b),A=M;return N.columns=A.columns?v(A.columns,N,S+1):[],N})};return v(y)},Ye(e,"debugColumns")),getAllFlatColumns:We(()=>[s.getAllColumns()],y=>y.flatMap(v=>v.getFlatColumns()),Ye(e,"debugColumns")),_getAllFlatColumnsById:We(()=>[s.getAllFlatColumns()],y=>y.reduce((v,j)=>(v[j.id]=j,v),{}),Ye(e,"debugColumns")),getAllLeafColumns:We(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(y,v)=>{let j=y.flatMap(b=>b.getLeafColumns());return v(j)},Ye(e,"debugColumns")),getColumn:y=>s._getAllFlatColumnsById()[y]};Object.assign(s,g);for(let y=0;y<s._features.length;y++){const v=s._features[y];v==null||v.createTable==null||v.createTable(s)}return s}function uie(){return e=>We(()=>[e.options.data],t=>{const a={rows:[],flatRows:[],rowsById:{}},r=function(s,l,c){l===void 0&&(l=0);const d=[];for(let f=0;f<s.length;f++){const h=Nw(e,e._getRowId(s[f],f,c),s[f],f,l,void 0,c?.id);if(a.flatRows.push(h),a.rowsById[h.id]=h,d.push(h),e.options.getSubRows){var m;h.originalSubRows=e.options.getSubRows(s[f],f),(m=h.originalSubRows)!=null&&m.length&&(h.subRows=r(h.originalSubRows,l+1,h))}}return d};return a.rows=r(t),a},Ye(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function mie(e){const t=[],a=r=>{var s;t.push(r),(s=r.subRows)!=null&&s.length&&r.getIsExpanded()&&r.subRows.forEach(a)};return e.rows.forEach(a),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function fie(e,t,a){return a.options.filterFromLeafRows?hie(e,t,a):pie(e,t,a)}function hie(e,t,a){var r;const s=[],l={},c=(r=a.options.maxLeafRowFilterDepth)!=null?r:100,d=function(m,f){f===void 0&&(f=0);const h=[];for(let y=0;y<m.length;y++){var g;let v=m[y];const j=Nw(a,v.id,v.original,v.index,v.depth,void 0,v.parentId);if(j.columnFilters=v.columnFilters,(g=v.subRows)!=null&&g.length&&f<c){if(j.subRows=d(v.subRows,f+1),v=j,t(v)&&!j.subRows.length){h.push(v),l[v.id]=v,s.push(v);continue}if(t(v)||j.subRows.length){h.push(v),l[v.id]=v,s.push(v);continue}}else v=j,t(v)&&(h.push(v),l[v.id]=v,s.push(v))}return h};return{rows:d(e),flatRows:s,rowsById:l}}function pie(e,t,a){var r;const s=[],l={},c=(r=a.options.maxLeafRowFilterDepth)!=null?r:100,d=function(m,f){f===void 0&&(f=0);const h=[];for(let y=0;y<m.length;y++){let v=m[y];if(t(v)){var g;if((g=v.subRows)!=null&&g.length&&f<c){const b=Nw(a,v.id,v.original,v.index,v.depth,void 0,v.parentId);b.subRows=d(v.subRows,f+1),v=b}h.push(v),s.push(v),l[v.id]=v}}return h};return{rows:d(e),flatRows:s,rowsById:l}}function xie(){return e=>We(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,a,r)=>{if(!t.rows.length||!(a!=null&&a.length)&&!r){for(let y=0;y<t.flatRows.length;y++)t.flatRows[y].columnFilters={},t.flatRows[y].columnFiltersMeta={};return t}const s=[],l=[];(a??[]).forEach(y=>{var v;const j=e.getColumn(y.id);if(!j)return;const b=j.getFilterFn();b&&s.push({id:y.id,filterFn:b,resolvedValue:(v=b.resolveFilterValue==null?void 0:b.resolveFilterValue(y.value))!=null?v:y.value})});const c=(a??[]).map(y=>y.id),d=e.getGlobalFilterFn(),m=e.getAllLeafColumns().filter(y=>y.getCanGlobalFilter());r&&d&&m.length&&(c.push("__global__"),m.forEach(y=>{var v;l.push({id:y.id,filterFn:d,resolvedValue:(v=d.resolveFilterValue==null?void 0:d.resolveFilterValue(r))!=null?v:r})}));let f,h;for(let y=0;y<t.flatRows.length;y++){const v=t.flatRows[y];if(v.columnFilters={},s.length)for(let j=0;j<s.length;j++){f=s[j];const b=f.id;v.columnFilters[b]=f.filterFn(v,b,f.resolvedValue,S=>{v.columnFiltersMeta[b]=S})}if(l.length){for(let j=0;j<l.length;j++){h=l[j];const b=h.id;if(h.filterFn(v,b,h.resolvedValue,S=>{v.columnFiltersMeta[b]=S})){v.columnFilters.__global__=!0;break}}v.columnFilters.__global__!==!0&&(v.columnFilters.__global__=!1)}}const g=y=>{for(let v=0;v<c.length;v++)if(y.columnFilters[c[v]]===!1)return!1;return!0};return fie(t.rows,g,e)},Ye(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function gie(e){return t=>We(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(a,r)=>{if(!r.rows.length)return r;const{pageSize:s,pageIndex:l}=a;let{rows:c,flatRows:d,rowsById:m}=r;const f=s*l,h=f+s;c=c.slice(f,h);let g;t.options.paginateExpandedRows?g={rows:c,flatRows:d,rowsById:m}:g=mie({rows:c,flatRows:d,rowsById:m}),g.flatRows=[];const y=v=>{g.flatRows.push(v),v.subRows.length&&v.subRows.forEach(y)};return g.rows.forEach(y),g},Ye(t.options,"debugTable"))}function yie(){return e=>We(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,a)=>{if(!a.rows.length||!(t!=null&&t.length))return a;const r=e.getState().sorting,s=[],l=r.filter(m=>{var f;return(f=e.getColumn(m.id))==null?void 0:f.getCanSort()}),c={};l.forEach(m=>{const f=e.getColumn(m.id);f&&(c[m.id]={sortUndefined:f.columnDef.sortUndefined,invertSorting:f.columnDef.invertSorting,sortingFn:f.getSortingFn()})});const d=m=>{const f=m.map(h=>({...h}));return f.sort((h,g)=>{for(let v=0;v<l.length;v+=1){var y;const j=l[v],b=c[j.id],S=b.sortUndefined,M=(y=j?.desc)!=null?y:!1;let N=0;if(S){const A=h.getValue(j.id),O=g.getValue(j.id),D=A===void 0,k=O===void 0;if(D||k){if(S==="first")return D?-1:1;if(S==="last")return D?1:-1;N=D&&k?0:D?S:-S}}if(N===0&&(N=b.sortingFn(h,g,j.id)),N!==0)return M&&(N*=-1),b.invertSorting&&(N*=-1),N}return h.index-g.index}),f.forEach(h=>{var g;s.push(h),(g=h.subRows)!=null&&g.length&&(h.subRows=d(h.subRows))}),f};return{rows:d(a.rows),flatRows:s,rowsById:a.rowsById}},Ye(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function cD(e,t){return e?vie(e)?x.createElement(e,t):e:null}function vie(e){return bie(e)||typeof e=="function"||jie(e)}function bie(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function jie(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function wie(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[a]=x.useState(()=>({current:die(t)})),[r,s]=x.useState(()=>a.current.initialState);return a.current.setOptions(l=>({...l,...e,state:{...r,...e.state},onStateChange:c=>{s(c),e.onStateChange==null||e.onStateChange(c)}})),a.current}function hu({data:e=[],columns:t=[],searchPlaceholder:a="Search...",showSearch:r=!0,showExport:s=!1,onExport:l,pageSize:c=10,emptyMessage:d="No data available"}){const[m,f]=x.useState([]),[h,g]=x.useState(""),[y,v]=x.useState({pageIndex:0,pageSize:c}),j=wie({data:e,columns:t,state:{sorting:m,globalFilter:h,pagination:y},onSortingChange:f,onGlobalFilterChange:g,onPaginationChange:v,getCoreRowModel:uie(),getSortedRowModel:yie(),getFilteredRowModel:xie(),getPaginationRowModel:gie()}),b=j.getPageCount(),S=y.pageIndex+1;return n.jsxs("div",{className:"space-y-4",children:[(r||s)&&n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between",children:[r&&n.jsx("div",{className:"flex-1 max-w-sm",children:n.jsx(Cn,{type:"text",placeholder:a,value:h??"",onChange:M=>g(M.target.value),className:"w-full",inputClassName:"pr-4 py-2 text-sm"})}),s&&l&&n.jsxs(X,{variant:"secondary",onClick:l,children:[n.jsx(Wt,{className:"w-4 h-4"}),"Export CSV"]})]}),n.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200 bg-white",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:j.getHeaderGroups().map(M=>n.jsx("tr",{className:"border-b border-gray-200 bg-gray-50/80",children:M.headers.map(N=>n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:N.isPlaceholder?null:n.jsxs("div",{className:`flex items-center gap-2 ${N.column.getCanSort()?"cursor-pointer select-none hover:text-gray-900":""}`,onClick:N.column.getToggleSortingHandler(),children:[cD(N.column.columnDef.header,N.getContext()),N.column.getCanSort()&&n.jsx("span",{className:"text-gray-400",children:{asc:n.jsx(_5,{className:"w-4 h-4"}),desc:n.jsx(OD,{className:"w-4 h-4"})}[N.column.getIsSorted()]??n.jsx("div",{className:"w-4 h-4 opacity-0 group-hover:opacity-50",children:n.jsx(_5,{className:"w-4 h-4"})})})]})},N.id))},M.id))}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:j.getRowModel().rows.length>0?j.getRowModel().rows.map(M=>n.jsx("tr",{className:"hover:bg-gray-50/50 transition-colors",children:M.getVisibleCells().map(N=>n.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:cD(N.column.columnDef.cell,N.getContext())},N.id))},M.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:t.length,className:"px-4 py-12 text-center text-gray-500",children:d})})})]})}),b>1&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 text-sm",children:[n.jsxs("div",{className:"text-gray-500",children:["Showing"," ",n.jsx("span",{className:"font-medium text-gray-900",children:y.pageIndex*y.pageSize+1})," ","to"," ",n.jsx("span",{className:"font-medium text-gray-900",children:Math.min((y.pageIndex+1)*y.pageSize,e.length)})," ","of ",n.jsx("span",{className:"font-medium text-gray-900",children:e.length})," results"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>j.previousPage(),disabled:!j.getCanPreviousPage(),className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n.jsx(u7,{className:"w-4 h-4"})}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,b)},(M,N)=>{let A;return b<=5||S<=3?A=N+1:S>=b-2?A=b-4+N:A=S-2+N,n.jsx("button",{onClick:()=>j.setPageIndex(A-1),className:`w-8 h-8 rounded-lg text-sm font-medium transition-colors ${S===A?"bg-[hsl(var(--color-primary))] text-white":"hover:bg-gray-100 text-gray-600"}`,children:A},A)})}),n.jsx("button",{onClick:()=>j.nextPage(),disabled:!j.getCanNextPage(),className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n.jsx(f7,{className:"w-4 h-4"})})]})]})]})}function Nie(){const e=Ae(j=>j.getOvertimeStats),t=Ae(j=>j.getPendingApprovalsSummary),a=Ae(j=>j.getExpiringContracts),r=Ae(j=>j.employees),s=Ae(j=>j.payrollSettings),l=x.useMemo(()=>e(),[e]),c=x.useMemo(()=>t(),[t]),d=x.useMemo(()=>a(s?.operationalConfig?.expiryHorizonDays||30),[a,s]),m=s?.operationalConfig?.overtimeWarningHours||40,f=x.useMemo(()=>l.rows.filter(j=>j.hours>m),[l.rows,m]),h=x.useMemo(()=>r.filter(j=>j.employmentStatus==="probation"&&j.probationEndDate).map(j=>{const b=Gr(ue(j.probationEndDate),new Date);return{id:j.id,name:j.name,department:j.department,probationEndDate:j.probationEndDate,daysRemaining:b,status:b<=7?"urgent":b<=30?"upcoming":"normal"}}).filter(j=>j.daysRemaining<=60).sort((j,b)=>j.daysRemaining-b.daysRemaining),[r]),g=[{header:"Employee",accessorKey:"name"},{header:"Department",accessorKey:"department"},{header:"Overtime (hrs)",accessorKey:"hours",cell:({getValue:j})=>n.jsx("span",{className:"font-semibold",children:j()})}],y=[{header:"Employee",accessorKey:"name"},{header:"Department",accessorKey:"department"},{header:"Type",accessorKey:"type"},{header:"Due Date",accessorKey:"dueDate",cell:({getValue:j})=>n.jsx(ge,{variant:"warning",children:q(ue(j()),"MMM d, yyyy")})}],v=[{header:"Employee",accessorKey:"name"},{header:"Department",accessorKey:"department"},{header:"Completion Date",accessorKey:"probationEndDate",cell:({getValue:j})=>q(ue(j()),"MMM d, yyyy")},{header:"Days Remaining",accessorKey:"daysRemaining",cell:({getValue:j,row:b})=>{const S=j(),M=b.original.status;return n.jsxs(ge,{variant:M==="urgent"?"error":M==="upcoming"?"warning":"info",children:[S," days"]})}}];return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Operational Dashboard"}),n.jsx("p",{className:"text-gray-600",children:"Overtime, approvals, and expiring contracts"})]})}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[n.jsxs(K,{title:"Overtime (This Month)",subtitle:"Employees with overtime hours",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3 text-gray-600",children:[n.jsx(Be,{className:"w-5 h-5"}),n.jsxs("span",{children:["Total: ",l.totalHours," hrs"]})]}),f.length>0&&n.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg flex items-start gap-2",children:[n.jsx(Jn,{className:"w-5 h-5 text-yellow-600 shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"font-semibold text-yellow-800",children:[f.length," Overtime Anomal",f.length===1?"y":"ies"," Detected"]}),n.jsxs("p",{className:"text-yellow-700",children:["Employees exceeding ",m," hours/month threshold"]})]})]}),n.jsx(hu,{data:l.rows,columns:g,searchPlaceholder:"Search employees"})]}),n.jsx(K,{title:"Pending Approvals",subtitle:"Requests awaiting action",children:n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[n.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Leaves"}),n.jsx(ge,{variant:"warning",children:c.leaves})]}),n.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Attendance Corrections"}),n.jsx(ge,{variant:"warning",children:c.attendanceCorrections})]}),n.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Promotions"}),n.jsx(ge,{variant:"warning",children:c.promotions})]}),n.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Profile Updates"}),n.jsx(ge,{variant:"warning",children:c.profileUpdates})]}),n.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Selection Board"}),n.jsx(ge,{variant:"warning",children:c.selectionBoard})]})]})})]}),n.jsxs(K,{title:"Probation Completion Tracking",subtitle:"Employees completing probation in next 60 days",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3 text-gray-600",children:[n.jsx(R5,{className:"w-5 h-5"}),n.jsxs("span",{children:["Total: ",h.length]})]}),h.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(R5,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),n.jsx("p",{children:"No probation completions in next 60 days"})]}):n.jsxs(n.Fragment,{children:[h.filter(j=>j.status==="urgent").length>0&&n.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2",children:[n.jsx(Jn,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"font-semibold text-red-800",children:[h.filter(j=>j.status==="urgent").length," Urgent Probation Completion(s)"]}),n.jsx("p",{className:"text-red-700",children:"Within 7 days - Schedule evaluation and confirmation meeting"})]})]}),n.jsx(hu,{data:h,columns:v,searchPlaceholder:"Search employees"})]})]}),n.jsxs(K,{title:"Upcoming Probation/Contract Expiries",subtitle:`Next ${s?.operationalConfig?.expiryHorizonDays||30} days`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3 text-gray-600",children:[n.jsx(Xe,{className:"w-5 h-5"}),n.jsxs("span",{children:["Total: ",d.length]})]}),n.jsx(hu,{data:d,columns:y,searchPlaceholder:"Search employees"})]})]})}function Sie(){return n.jsx(gi,{children:n.jsxs(Se,{element:n.jsx(B8,{}),children:[n.jsx(Se,{index:!0,element:n.jsx(F8,{})}),n.jsx(Se,{path:"employees",element:n.jsx(u9,{})}),n.jsx(Se,{path:"attendance",element:n.jsx(Sse,{})}),n.jsx(Se,{path:"attendance-list",element:n.jsx(p9,{})}),n.jsx(Se,{path:"leaves",element:n.jsx(x9,{})}),n.jsx(Se,{path:"promotions",element:n.jsx(g9,{})}),n.jsx(Se,{path:"increments",element:n.jsx(yse,{})}),n.jsx(Se,{path:"payroll",element:n.jsx(wse,{})}),n.jsx(Se,{path:"recruitment",element:n.jsx(Ase,{})}),n.jsx(Se,{path:"operational",element:n.jsx(Nie,{})}),n.jsx(Se,{path:"resignations",element:n.jsx(y9,{})}),n.jsx(Se,{path:"ex-employees",element:n.jsx(cse,{})}),n.jsx(Se,{path:"profile-requests",element:n.jsx(bse,{})}),n.jsx(Se,{path:"analytics",element:n.jsx(dse,{})}),n.jsx(Se,{path:"reports",element:n.jsx(use,{})}),n.jsx(Se,{path:"policy-advisory",element:n.jsx(hse,{})}),n.jsx(Se,{path:"announcements",element:n.jsx(xse,{})}),n.jsx(Se,{path:"settings",element:n.jsx(gse,{})}),n.jsx(Se,{path:"*",element:n.jsx(hs,{to:".",replace:!0})})]})})}const Aie=[{path:"/dean",label:"Dashboard",icon:za,end:!0},{path:"/dean/employees",label:"Faculty Staff",icon:en},{path:"/dean/attendance",label:"Attendance",icon:Be},{path:"/dean/leaves",label:"Leave Requests",icon:Xe},{path:"/dean/promotions",label:"Promotions",icon:pu},{path:"/dean/self-service",label:"Manager Self-Service",icon:gs},{path:"/dean/pams",label:"PAMS (HOD)",icon:gs},{path:"/dean/meetings",label:"Committee Meetings",icon:Zr},{path:"/dean/reports",label:"Reports",icon:li},{path:"/dean/settings",label:"Settings",icon:_r}];function Cie(){return n.jsx(yi,{portalKey:"dean",portalName:"Dean Portal",navItems:Aie})}const dD=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];function Mie(){const e=Ae(N=>N.employees),t=Ae(N=>N.attendance),a=Ae(N=>N.leaves),r=Qe(N=>N.user),s=x.useMemo(()=>e.filter(N=>N.faculty===r.faculty),[e,r.faculty]),l=x.useMemo(()=>new Set(s.map(N=>N.id)),[s]),c=x.useMemo(()=>a.filter(N=>l.has(N.employeeId)),[a,l]),d=s.length,m=s.filter(N=>N.status==="Active").length,f=[...new Set(s.map(N=>N.department))],h=c.filter(N=>N.status==="Pending").length,g=q(new Date,"yyyy-MM-dd"),y=x.useMemo(()=>{const N=t.filter(k=>k.date===g&&l.has(k.employeeId)),A=N.filter(k=>k.status==="Present").length,O=N.filter(k=>k.status==="Absent").length,D=N.filter(k=>k.status==="Late").length;return{present:A,absent:O,late:D,total:N.length}},[t,g,l]),v=x.useMemo(()=>{const N={};return s.forEach(A=>{N[A.department]=(N[A.department]||0)+1}),Object.entries(N).map(([A,O])=>({name:A,value:O}))},[s]),j=x.useMemo(()=>["Mon","Tue","Wed","Thu","Fri"].map(A=>({day:A,present:Math.floor(Math.random()*20)+30,absent:Math.floor(Math.random()*5)+1,late:Math.floor(Math.random()*5)+1})),[]),b=x.useMemo(()=>c.sort((N,A)=>new Date(A.appliedOn)-new Date(N.appliedOn)).slice(0,5).map(N=>({...N,employee:e.find(A=>A.id===N.employeeId)})),[c,e]),S=[{label:"Total Faculty Staff",value:d,icon:en,color:"from-blue-600 to-indigo-600",change:"+2 this month"},{label:"Active Members",value:m,icon:si,color:"from-emerald-500 to-teal-500",change:`${Math.round(m/d*100)}% active`},{label:"Departments",value:f.length,icon:Ql,color:"from-amber-500 to-orange-500",change:"Under faculty"},{label:"Pending Leaves",value:h,icon:Xe,color:"from-purple-500 to-pink-500",change:"Requires action"}],M=[{label:"View All Staff",icon:en,path:"/dean/employees",color:"bg-blue-500"},{label:"Check Attendance",icon:Be,path:"/dean/attendance",color:"bg-emerald-500"},{label:"Leave Requests",icon:Xe,path:"/dean/leaves",color:"bg-purple-500"},{label:"View Reports",icon:li,path:"/dean/reports",color:"bg-amber-500"}];return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Faculty Overview"}),n.jsxs("p",{className:"text-gray-500 mt-1",children:["Faculty of ",r.faculty||"Computing & Engineering"]})]}),n.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:n.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-blue-700 font-medium",children:q(new Date,"EEEE, MMMM d, yyyy")})})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:S.map(N=>n.jsxs("div",{className:"glass p-6 rounded-2xl card-hover relative overflow-hidden group",children:[n.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 bg-linear-to-br ${N.color} opacity-10 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110`}),n.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:N.label}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:N.value}),n.jsxs("p",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[n.jsx(xs,{className:"w-3 h-3"}),N.change]})]}),n.jsx("div",{className:`p-3 rounded-xl bg-linear-to-br ${N.color} text-white shadow-lg`,children:n.jsx(N.icon,{className:"w-6 h-6"})})]})]},N.label))}),n.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:M.map(N=>n.jsxs(fn,{to:N.path,className:"glass p-4 rounded-xl card-hover flex items-center gap-3 group",children:[n.jsx("div",{className:`p-2 rounded-lg ${N.color} text-white group-hover:scale-110 transition-transform`,children:n.jsx(N.icon,{className:"w-5 h-5"})}),n.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:N.label})]},N.label))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Department Distribution",subtitle:"Staff distribution across departments",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(rr,{children:[n.jsx(Ba,{data:v,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:3,dataKey:"value",label:({name:N,percent:A})=>`${N} (${(A*100).toFixed(0)}%)`,children:v.map((N,A)=>n.jsx(An,{fill:dD[A%dD.length]},N.name))}),n.jsx(ut,{})]})})})}),n.jsx(K,{title:"Weekly Attendance",subtitle:"Attendance pattern this week",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Cr,{data:j,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"day",tick:{fontSize:12}}),n.jsx(Jt,{tick:{fontSize:12}}),n.jsx(ut,{}),n.jsx(er,{}),n.jsx(Qn,{dataKey:"present",fill:"#10b981",radius:[4,4,0,0],name:"Present"}),n.jsx(Qn,{dataKey:"late",fill:"#f59e0b",radius:[4,4,0,0],name:"Late"}),n.jsx(Qn,{dataKey:"absent",fill:"#ef4444",radius:[4,4,0,0],name:"Absent"})]})})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(K,{title:"Today's Attendance",subtitle:q(new Date,"MMMM d, yyyy"),children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-4 rounded-xl bg-emerald-50 border border-emerald-100",children:[n.jsx(Le,{className:"w-8 h-8 text-emerald-600 mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-emerald-700",children:y.present}),n.jsx("p",{className:"text-xs text-emerald-600",children:"Present"})]}),n.jsxs("div",{className:"text-center p-4 rounded-xl bg-amber-50 border border-amber-100",children:[n.jsx(Be,{className:"w-8 h-8 text-amber-600 mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-amber-700",children:y.late}),n.jsx("p",{className:"text-xs text-amber-600",children:"Late"})]}),n.jsxs("div",{className:"text-center p-4 rounded-xl bg-red-50 border border-red-100",children:[n.jsx(Tt,{className:"w-8 h-8 text-red-600 mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-red-700",children:y.absent}),n.jsx("p",{className:"text-xs text-red-600",children:"Absent"})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Attendance Rate"}),n.jsx("span",{className:"font-semibold text-gray-900",children:y.total>0?`${Math.round(y.present/d*100)}%`:"N/A"})]}),n.jsx("div",{className:"mt-2 w-full h-2 rounded-full bg-gray-100 overflow-hidden",children:n.jsx("div",{className:"h-full bg-linear-to-r from-emerald-500 to-teal-500 rounded-full transition-all",style:{width:`${y.present/d*100}%`}})})]})]}),n.jsx(K,{title:"Recent Leave Requests",subtitle:"Latest requests from faculty",actions:n.jsx(fn,{to:"/dean/leaves",children:n.jsx(X,{variant:"ghost",size:"sm",children:"View All"})}),children:n.jsx("div",{className:"space-y-3",children:b.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx(Xe,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No leave requests"})]}):b.map(N=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-linear-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold text-sm",children:N.employee?.name?.charAt(0)||"?"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.employee?.name||"Unknown"}),n.jsxs("p",{className:"text-xs text-gray-500",children:[N.type," "," ",N.startDate?q(ue(N.startDate),"MMM d"):"N/A"," -"," ",N.endDate?q(ue(N.endDate),"MMM d"):"N/A"]})]})]}),n.jsx(ge,{variant:N.status==="Approved"?"success":N.status==="Rejected"?"danger":"warning",children:N.status})]},N.id))})})]})]})}function Die(){const e=Ae(s=>s.employees),t=Qe(s=>s.user),a=e.filter(s=>s.faculty===t.faculty),r=()=>{const s=Ns.unparse(a),l=new Blob([s],{type:"text/csv"}),c=URL.createObjectURL(l),d=document.createElement("a");d.href=c,d.download=`faculty_${t.faculty}_employees.csv`,d.click()};return n.jsx(K,{title:`Faculty Staff: ${t.faculty}`,subtitle:"View staff records for your faculty",actions:n.jsxs(X,{variant:"outline",onClick:r,children:[n.jsx(Wt,{className:"w-4 h-4"})," Export CSV"]}),children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Code"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Designation"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:a.map(s=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:s.code}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:s.name}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:s.department}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:s.designation}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsx(ge,{variant:s.status==="Active"?"success":"default",children:s.status})})]},s.id))})]})})})}function Oie(){const e=Ae(A=>A.employees),t=Ae(A=>A.attendance),a=Qe(A=>A.user),[r,s]=x.useState(q(new Date,"yyyy-MM-dd")),[l,c]=x.useState(""),[d,m]=x.useState("all"),[f,h]=x.useState("daily"),g=x.useMemo(()=>e.filter(A=>A.faculty===a.faculty),[e,a.faculty]),y=x.useMemo(()=>new Set(g.map(A=>A.id)),[g]),v=x.useMemo(()=>[...new Set(g.map(A=>A.department))].sort(),[g]),j=x.useMemo(()=>g.filter(A=>{const O=A.name.toLowerCase().includes(l.toLowerCase())||A.code.toLowerCase().includes(l.toLowerCase()),D=d==="all"||A.department===d;return O&&D}).map(A=>{const O=t.find(D=>D.employeeId===A.id&&D.date===r);return{...A,attendance:O||null}}),[g,t,r,l,d]),b=x.useMemo(()=>{const A=t.filter(O=>O.date===r&&y.has(O.employeeId));return{total:g.length,present:A.filter(O=>O.status==="Present").length,absent:A.filter(O=>O.status==="Absent").length,late:A.filter(O=>O.status==="Late").length,leave:A.filter(O=>O.status==="Leave").length}},[t,r,g,y]),S=x.useMemo(()=>Array.from({length:7},(O,D)=>{const k=nt(new Date,6-D),_=q(k,"yyyy-MM-dd"),E=t.filter(P=>P.date===_&&y.has(P.employeeId));return{date:q(k,"EEE"),present:E.filter(P=>P.status==="Present").length,absent:E.filter(P=>P.status==="Absent").length,late:E.filter(P=>P.status==="Late").length}}),[t,y]),M=()=>{const A=j.map(E=>({Code:E.code,Name:E.name,Department:E.department,Date:r,Status:E.attendance?.status||"No Record",CheckIn:E.attendance?.checkIn||"-",CheckOut:E.attendance?.checkOut||"-"})),O=Ns.unparse(A),D=new Blob([O],{type:"text/csv"}),k=URL.createObjectURL(D),_=document.createElement("a");_.href=k,_.download=`faculty_attendance_${r}.csv`,_.click()},N=A=>{switch(A){case"Present":return n.jsx(ge,{variant:"success",children:A});case"Absent":return n.jsx(ge,{variant:"danger",children:A});case"Late":return n.jsx(ge,{variant:"warning",children:A});case"Leave":return n.jsx(ge,{variant:"info",children:A});default:return n.jsx(ge,{variant:"default",children:"No Record"})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Faculty Attendance"}),n.jsxs("p",{className:"text-gray-500 mt-1",children:["Track attendance for ",a.faculty]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"date",value:r,onChange:A=>s(A.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsxs(X,{variant:"outline",onClick:M,children:[n.jsx(Wt,{className:"w-4 h-4"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"glass p-4 rounded-xl text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.total}),n.jsx("p",{className:"text-xs text-gray-500",children:"Total Staff"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-emerald-500",children:[n.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:b.present}),n.jsx("p",{className:"text-xs text-gray-500",children:"Present"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-red-500",children:[n.jsx("p",{className:"text-2xl font-bold text-red-600",children:b.absent}),n.jsx("p",{className:"text-xs text-gray-500",children:"Absent"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-amber-500",children:[n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:b.late}),n.jsx("p",{className:"text-xs text-gray-500",children:"Late"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-blue-500",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:b.leave}),n.jsx("p",{className:"text-xs text-gray-500",children:"On Leave"})]})]}),n.jsx(K,{title:"Weekly Attendance Trend",subtitle:"Last 7 days overview",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(bo,{data:S,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"date",tick:{fontSize:12}}),n.jsx(Jt,{tick:{fontSize:12}}),n.jsx(ut,{}),n.jsx(Ia,{type:"monotone",dataKey:"present",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Present"}),n.jsx(Ia,{type:"monotone",dataKey:"late",stackId:"1",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.6,name:"Late"}),n.jsx(Ia,{type:"monotone",dataKey:"absent",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Absent"})]})})})}),n.jsxs(K,{children:[n.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row gap-3",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Cn,{type:"text",placeholder:"Search by name or code...",value:l,onChange:A=>c(A.target.value),className:"w-full",inputClassName:"pr-4 py-2 text-sm"})}),n.jsxs("select",{value:d,onChange:A=>m(A.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Departments"}),v.map(A=>n.jsx("option",{value:A,children:A},A))]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50",children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Employee"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Department"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Check In"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Check Out"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Work Hours"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:j.map(A=>{const O=A.attendance?.checkIn,D=A.attendance?.checkOut;let k="-";if(O&&D){const[_,E]=O.split(":").map(Number),[P,z]=D.split(":").map(Number),L=P*60+z-(_*60+E),I=Math.floor(L/60),J=L%60;k=`${I}h ${J}m`}return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-linear-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold text-xs",children:A.name.charAt(0)}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.name}),n.jsx("p",{className:"text-xs text-gray-500",children:A.code})]})]})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:A.department}),n.jsx("td",{className:"px-4 py-3",children:N(A.attendance?.status)}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:O||"-"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:D||"-"}),n.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:k})]},A.id)})})]})}),j.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Be,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No attendance records found"})]})]})]})}const Eie=[{id:"all",label:"All Requests"},{id:"pending",label:"Pending"},{id:"approved",label:"Approved"},{id:"rejected",label:"Rejected"}];function kie(){const e=Ae(U=>U.employees),t=Ae(U=>U.leaves),a=Ae(U=>U.updateLeaveStatus),r=Qe(U=>U.user),[s,l]=x.useState("pending"),[c,d]=x.useState(""),[m,f]=x.useState("all"),[h,g]=x.useState(null),[y,v]=x.useState(!1),[j,b]=x.useState(null),[S,M]=x.useState(""),[N,A]=x.useState(0),[O,D]=x.useState(0),[k,_]=x.useState(""),E=x.useMemo(()=>e.filter(U=>U.faculty===r.faculty),[e,r.faculty]),P=x.useMemo(()=>new Set(E.map(U=>U.id)),[E]),z=x.useMemo(()=>t.filter(U=>P.has(U.employeeId)).map(U=>({...U,employee:e.find(F=>F.id===U.employeeId),days:U.days||(U.startDate&&U.endDate?Gr(ue(U.endDate),ue(U.startDate))+1:0)})).sort((U,F)=>new Date(F.appliedOn)-new Date(U.appliedOn)),[t,e,P]),L=x.useMemo(()=>[...new Set(z.map(U=>U.type))].sort(),[z]),I=x.useMemo(()=>z.filter(U=>{if(s!=="all"&&U.status.toLowerCase()!==s)return!1;if(c){const F=c.toLowerCase(),W=U.employee?.name?.toLowerCase().includes(F),ne=U.employee?.code?.toLowerCase().includes(F);if(!W&&!ne)return!1}return!(m!=="all"&&U.type!==m)}),[z,s,c,m]),J=x.useMemo(()=>({total:z.length,pending:z.filter(U=>U.status==="Pending").length,approved:z.filter(U=>U.status==="Approved").length,rejected:z.filter(U=>U.status==="Rejected").length}),[z]),T=(U,F)=>{g(U),b(F),M(""),A(U.paidDays??U.days??0),D(U.unpaidDays??0),_(""),v(!0)},Y=()=>{if(!(!h||!j)){if(j==="approve"){const U=Number(N)||0,F=Number(O)||0,W=U+F,ne=h.days||0;if(W!==ne){_(`Days don't match: ${U} + ${F} = ${W}, but leave is ${ne} days`);return}_("")}j==="approve"?a(h.id,"Approved","dean",r.name,S,{paidDays:Number(N)||0,unpaidDays:Number(O)||0}):a(h.id,"Rejected","dean",r.name,S),v(!1),g(null),b(null),M(""),A(0),D(0),_("")}},V=U=>{switch(U){case"Approved":return n.jsx(ge,{variant:"success",children:U});case"Rejected":return n.jsx(ge,{variant:"danger",children:U});case"Pending":return n.jsx(ge,{variant:"warning",children:U});default:return n.jsx(ge,{variant:"default",children:U})}},B=U=>{const F={Annual:"bg-blue-100 text-blue-700",Sick:"bg-red-100 text-red-700",Casual:"bg-purple-100 text-purple-700",Maternity:"bg-pink-100 text-pink-700",Paternity:"bg-cyan-100 text-cyan-700",Unpaid:"bg-gray-100 text-gray-700"};return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F[U]||"bg-gray-100 text-gray-700"}`,children:U})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Faculty Leave Requests"}),n.jsxs("p",{className:"text-gray-500 mt-1",children:["Manage leave requests for ",r.faculty]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-gray-100",children:n.jsx(Xe,{className:"w-5 h-5 text-gray-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:J.total}),n.jsx("p",{className:"text-xs text-gray-500",children:"Total Requests"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-amber-100",children:n.jsx(Be,{className:"w-5 h-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:J.pending}),n.jsx("p",{className:"text-xs text-gray-500",children:"Pending"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:n.jsx(Le,{className:"w-5 h-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:J.approved}),n.jsx("p",{className:"text-xs text-gray-500",children:"Approved"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:n.jsx(Tt,{className:"w-5 h-5 text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-red-600",children:J.rejected}),n.jsx("p",{className:"text-xs text-gray-500",children:"Rejected"})]})]})})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Eie.map(U=>n.jsxs("button",{onClick:()=>l(U.id),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${s===U.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[U.label,U.id==="pending"&&J.pending>0&&n.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-white/20 rounded text-xs",children:J.pending})]},U.id))}),n.jsxs(K,{children:[n.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row gap-3",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Cn,{type:"text",placeholder:"Search by employee name or code...",value:c,onChange:U=>d(U.target.value),className:"w-full",inputClassName:"pr-4 py-2 text-sm"})}),n.jsxs("select",{value:m,onChange:U=>f(U.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Leave Types"}),L.map(U=>n.jsx("option",{value:U,children:U},U))]})]}),n.jsx("div",{className:"space-y-4",children:I.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Xe,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No leave requests found"})]}):I.map(U=>n.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl hover:border-gray-200 transition-all",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold",children:U.employee?.name?.charAt(0)||"?"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:U.employee?.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:[U.employee?.code,"  ",U.employee?.department]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsx("div",{className:"text-sm",children:B(U.type)}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:U.startDate?q(ue(U.startDate),"MMM d"):"N/A"}),n.jsx("span",{className:"mx-1",children:""}),n.jsx("span",{className:"font-medium",children:U.endDate?q(ue(U.endDate),"MMM d, yyyy"):"N/A"}),n.jsxs("span",{className:"text-gray-400 ml-2",children:["(",U.days," day",U.days>1?"s":"",")"]})]}),V(U.status)]}),U.status==="Pending"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>T(U,"approve"),className:"text-emerald-600 border-emerald-200 hover:bg-emerald-50",children:[n.jsx(Le,{className:"w-4 h-4"}),"Approve"]}),n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>T(U,"reject"),className:"text-red-600 border-red-200 hover:bg-red-50",children:[n.jsx(Tt,{className:"w-4 h-4"}),"Reject"]})]})]}),U.reason&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Reason: "}),U.reason]})}),U.reviewedBy&&n.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 flex items-center gap-2 text-xs text-gray-500",children:[n.jsx($u,{className:"w-4 h-4"}),n.jsxs("span",{children:[U.status," by ",U.reviewedBy,U.reviewedOn&&` on ${q(ue(U.reviewedOn),"MMM d, yyyy")}`]}),U.comments&&n.jsxs(n.Fragment,{children:[n.jsx(oj,{className:"w-4 h-4 ml-2"}),n.jsxs("span",{children:['"',U.comments,'"']})]})]})]},U.id))})]}),n.jsx(vt,{isOpen:y,onClose:()=>v(!1),title:`${j==="approve"?"Approve":"Reject"} Leave Request`,children:h&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-linear-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold",children:h.employee?.name?.charAt(0)}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:h.employee?.name}),n.jsx("p",{className:"text-sm text-gray-500",children:h.employee?.department})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Type:"}),n.jsx("span",{className:"ml-2 font-medium",children:h.type})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Duration:"}),n.jsxs("span",{className:"ml-2 font-medium",children:[h.days," day(s)"]})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("span",{className:"text-gray-500",children:"Period:"}),n.jsxs("span",{className:"ml-2 font-medium",children:[h.startDate?q(ue(h.startDate),"MMM d"):"N/A"," ","-"," ",h.endDate?q(ue(h.endDate),"MMM d, yyyy"):"N/A"]})]})]})]}),h.documents&&h.documents.length>0&&n.jsxs("div",{className:"space-y-3 bg-slate-50 border border-slate-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ar,{className:"w-5 h-5 text-slate-600"}),n.jsx("p",{className:"font-semibold text-slate-900",children:"Supporting Documents"})]}),n.jsx("div",{className:"space-y-2",children:h.documents.map((U,F)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-slate-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ar,{className:"w-5 h-5 text-slate-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-900",children:U.name}),n.jsxs("p",{className:"text-xs text-slate-500",children:[(U.size/1024).toFixed(1)," KB  Uploaded"," ",U.uploadedAt?q(ue(U.uploadedAt),"MMM d, yyyy"):"N/A"]})]})]}),n.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>{const W=document.createElement("a");W.href=U.file,W.download=U.name,document.body.appendChild(W),W.click(),document.body.removeChild(W)},className:"text-blue-600 hover:text-blue-700",children:[n.jsx(Wt,{className:"w-4 h-4"}),"Download"]})]},U.id||F))})]}),j==="approve"&&h.type==="Medical"&&n.jsxs("div",{className:"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-blue-900 mb-3",children:" Medical Leave - Classify Days as Paid or Unpaid"}),n.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Based on submitted medical documentation, classify the leave days:"}),n.jsxs("p",{className:"text-sm text-blue-700 mb-4",children:["Total days to classify: ",n.jsx("span",{className:"font-bold",children:h.days})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Paid Days"}),n.jsx("input",{type:"number",min:0,max:h.days,value:N,onChange:U=>{const F=Number(U.target.value)||0;A(F),_("")},className:"w-full px-3 py-2 border border-green-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 bg-white font-semibold text-green-700",placeholder:"0"}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Employee receives full pay"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unpaid Days"}),n.jsx("input",{type:"number",min:0,max:h.days,value:O,onChange:U=>{const F=Number(U.target.value)||0;D(F),_("")},className:"w-full px-3 py-2 border border-amber-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-500 bg-white font-semibold text-amber-700",placeholder:"0"}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Employee receives no pay"})]})]}),(()=>{const U=Number(N)||0,F=Number(O)||0,W=U+F,ne=h.days-W,je=W===h.days,H=W>h.days;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`flex gap-3 p-4 rounded-lg border-2 transition-all ${je?"bg-green-50 border-green-300":H?"bg-red-50 border-red-300":"bg-yellow-50 border-yellow-300"}`,children:[n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:U}),n.jsx("p",{className:"text-xs text-green-700 font-medium",children:"PAID"})]}),n.jsx("div",{className:"text-center text-3xl text-gray-400 font-bold",children:"+"}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:F}),n.jsx("p",{className:"text-xs text-amber-700 font-medium",children:"UNPAID"})]}),n.jsx("div",{className:"text-center text-3xl text-gray-400 font-bold",children:"="}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:`text-2xl font-bold ${je?"text-green-600":H?"text-red-600":"text-gray-600"}`,children:W}),n.jsxs("p",{className:"text-xs text-gray-700 font-medium",children:["of ",h.days]})]})]}),ne>0&&n.jsxs("div",{className:"text-sm text-amber-700 bg-amber-50 p-3 rounded border border-amber-200",children:[" You have ",n.jsx("span",{className:"font-bold",children:ne})," more day",ne>1?"s":""," to classify"]}),H&&n.jsxs("div",{className:"text-sm text-red-700 bg-red-50 p-3 rounded border border-red-200",children:[" Total days exceed leave duration by"," ",n.jsx("span",{className:"font-bold",children:Math.abs(ne)})," day",Math.abs(ne)>1?"s":""]}),je&&n.jsx("div",{className:"text-sm text-green-700 bg-green-50 p-3 rounded border border-green-200",children:" Perfect! Days are correctly classified and ready for approval"})]})})(),k&&n.jsxs("p",{className:"text-sm text-red-600 bg-red-50 p-2 rounded border border-red-200",children:[" ",k]})]}),j==="approve"&&h.type!=="Medical"&&n.jsx("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:n.jsx("p",{className:"text-sm text-amber-900",children:" This is a standard leave request. No day classification required."})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comment (Optional)"}),n.jsx("textarea",{value:S,onChange:U=>M(U.target.value),placeholder:j==="approve"?"Add any notes...":"Reason for rejection...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(X,{variant:"ghost",onClick:()=>v(!1),children:"Cancel"}),n.jsx(X,{variant:j==="approve"?"primary":"danger",onClick:Y,children:j==="approve"?"Approve Request":"Reject Request"})]})]})})]})}function Pie(){const e=Qe(L=>L.user),{promotions:t,updatePromotionStatus:a}=Ae(),[r,s]=x.useState("pending"),[l,c]=x.useState(""),[d,m]=x.useState("all"),[f,h]=x.useState(null),[g,y]=x.useState(!1),[v,j]=x.useState(""),[b,S]=x.useState("10:00"),[M,N]=x.useState(""),[A,O]=x.useState(""),D=x.useMemo(()=>t.filter(L=>{if(r==="pending"&&L.status!=="Pending"||r==="review"&&L.status!=="Under Review"||r==="completed"&&!["Approved","Rejected"].includes(L.status))return!1;if(l){const I=l.toLowerCase();if(!L.employeeName?.toLowerCase().includes(I)&&!L.department?.toLowerCase().includes(I))return!1}return!(d!=="all"&&L.department!==d)}),[t,r,l,d]),k=L=>{h(L),y(!0),j(q(new Date,"yyyy-MM-dd")),S("10:00"),N(""),O(`Promotion Committee Meeting for ${L.employeeName}

Promotion Request:
From: ${L.currentDesignation}
To: ${L.requestedDesignation}

Reason: ${L.reason}`)},_=async()=>{if(!f||!v||!M){alert("Please fill in all required fields");return}try{a(f.id,"Under Review",{type:"committee",meetingDate:`${v} ${b}`,notes:A,scheduledBy:e?.name,date:q(new Date,"yyyy-MM-dd")}),await RD({title:`Promotion Committee Meeting - ${f.employeeName}`,date:v,time:b,location:M,agenda:A,convener:e?.name||"Dean"},e?.email),alert("Committee meeting scheduled successfully! Notifications sent to all employees."),y(!1),h(null)}catch(L){console.error("Failed to schedule meeting:",L),alert("Failed to schedule meeting. Please try again.")}},E=L=>{const I={Pending:"warning","Under Review":"info",Approved:"success",Rejected:"error"};return n.jsx(ge,{variant:I[L]||"default",children:L})},P=Object.values(ms).flat(),z={pending:t.filter(L=>L.status==="Pending").length,underReview:t.filter(L=>L.status==="Under Review").length,approved:t.filter(L=>L.status==="Approved").length,rejected:t.filter(L=>L.status==="Rejected").length};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Promotion Requests"}),n.jsx("p",{className:"text-gray-600",children:"Review promotion requests and schedule committee meetings as Dean/Convener"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Pending",value:z.pending,color:"amber",icon:Be},{label:"Under Review",value:z.underReview,color:"blue",icon:us},{label:"Approved",value:z.approved,color:"green",icon:Le},{label:"Rejected",value:z.rejected,color:"red",icon:Tt}].map(L=>n.jsx(K,{className:`bg-${L.color}-50 border-${L.color}-100`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm text-${L.color}-600`,children:L.label}),n.jsx("p",{className:`text-2xl font-bold text-${L.color}-700`,children:L.value})]}),n.jsx(L.icon,{className:`w-8 h-8 text-${L.color}-400`})]})},L.label))}),n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsx(ca,{value:r,onValueChange:s,children:n.jsxs(da,{children:[n.jsxs(qe,{value:"pending",children:["Pending (",z.pending,")"]}),n.jsxs(qe,{value:"review",children:["Under Review (",z.underReview,")"]}),n.jsxs(qe,{value:"completed",children:["Completed (",z.approved+z.rejected,")"]})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsx(Cn,{type:"text",placeholder:"Search employees...",value:l,onChange:L=>c(L.target.value),className:"w-full sm:w-64",inputClassName:"pr-4 py-2 text-sm"}),n.jsxs("select",{value:d,onChange:L=>m(L.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Departments"}),P.map(L=>n.jsx("option",{value:L,children:L},L))]})]})]}),n.jsx(K,{className:"bg-blue-50 border-blue-200",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(us,{className:"w-6 h-6 text-blue-600 shrink-0 mt-1"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-blue-900",children:"Dean Role - Committee Convener"}),n.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"As the Dean, you are authorized to schedule committee meetings for promotion reviews. When you schedule a meeting, all employees will be notified automatically."})]})]})}),n.jsx(K,{children:D.length===0?n.jsxs("div",{children:[n.jsx(Fu,{icon:dj,title:"No Promotions Found",description:r==="pending"?"No pending promotion requests":r==="review"?"No promotions under review":"No completed promotions"}),n.jsxs("div",{className:"mt-4 p-2 bg-yellow-100 text-yellow-800 rounded text-xs",children:["Debug: promotions array length: ",t.length,", filteredPromotions:"," ",D.length]})]}):n.jsx("div",{className:"space-y-4",children:D.map(L=>n.jsxs("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold",children:L.employeeName?.charAt(0)||"?"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:L.employeeName}),n.jsxs("p",{className:"text-sm text-gray-500",children:[L.department,"  ",L.faculty]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-indigo-600",children:[n.jsx("span",{children:L.currentDesignation}),n.jsx(pu,{className:"w-4 h-4"}),n.jsx("span",{className:"font-medium",children:L.requestedDesignation})]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:[n.jsx(Xe,{className:"w-4 h-4 inline mr-1"}),q(ue(L.appliedOn),"MMM d, yyyy")]}),n.jsxs("div",{className:"text-sm text-gray-500",children:[L.yearsInService," years service"]}),E(L.status)]}),L.status==="Pending"&&n.jsxs(X,{size:"sm",onClick:()=>k(L),className:"gap-1 bg-indigo-600 hover:bg-indigo-700",children:[n.jsx(us,{className:"w-4 h-4"}),"Schedule Committee Meeting"]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Reason for Promotion:"}),n.jsx("p",{className:"text-sm text-gray-600",children:L.reason}),L.documents?.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:L.documents.map((I,J)=>n.jsxs("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs text-gray-600",children:[" ",I]},J))})]}),L.committeeReview&&n.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Committee Meeting Scheduled"}),n.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Date: ",L.committeeReview.meetingDate,"  Scheduled by:"," ",L.committeeReview.scheduledBy]}),L.committeeReview.notes&&n.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Agenda: ",L.committeeReview.notes]})]})]},L.id))})}),n.jsx(vt,{isOpen:g,onClose:()=>y(!1),title:"Schedule Committee Meeting",children:f&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"font-medium",children:f.employeeName}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[f.currentDesignation,"  ",f.requestedDesignation]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Meeting Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",value:v,onChange:L=>j(L.target.value),min:q(new Date,"yyyy-MM-dd"),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Time ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"time",value:b,onChange:L=>S(L.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Location ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:M,onChange:L=>N(L.target.value),placeholder:"e.g., Conference Room A, Admin Building",className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meeting Agenda"}),n.jsx("textarea",{value:A,onChange:L=>O(L.target.value),rows:6,placeholder:"Meeting agenda and discussion points...",className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})]}),n.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:n.jsx("p",{className:"text-sm text-blue-800",children:" All employees will be notified about this committee meeting via email."})}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),n.jsx(X,{onClick:_,className:"bg-indigo-600 hover:bg-indigo-700",children:"Schedule Meeting & Notify All"})]})]})})]})}function Rie(){const e=Qe(j=>j.user),[t,a]=x.useState(!1),[r,s]=x.useState([]),{register:l,handleSubmit:c,reset:d,formState:{errors:m,isSubmitting:f}}=Lc({defaultValues:{title:"",date:q(new Date,"yyyy-MM-dd"),time:"10:00",location:"",agenda:""}}),h=["registrar@cecos.edu.pk","vp@cecos.edu.pk","vc@cecos.edu.pk","president@cecos.edu.pk","manager-hr@cecos.edu.pk"],g=async j=>{try{const b={id:`m-${Date.now()}`,...j,convener:e?.name||"Dean",createdBy:e?.email,createdAt:q(new Date,"yyyy-MM-dd HH:mm"),status:"Scheduled",attendees:h};s([b,...r]),await RD({title:j.title,date:j.date,time:j.time,location:j.location,agenda:j.agenda,convener:e?.name||"Dean",attendees:h},e?.email),alert("Meeting scheduled successfully! Notifications sent to all employees."),y()}catch(b){console.error("Failed to schedule meeting:",b),alert("Failed to schedule meeting. Please try again.")}},y=()=>{a(!1),d()},v=j=>{confirm("Are you sure you want to delete this meeting?")&&s(r.filter(b=>b.id!==j))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Committee Meetings"}),n.jsx("p",{className:"text-gray-600",children:"Schedule and manage committee meetings as Dean/Convener"})]}),n.jsxs(X,{onClick:()=>a(!0),className:"gap-2",children:[n.jsx(oi,{className:"w-4 h-4"}),"Schedule Meeting"]})]}),n.jsx(K,{children:r.length===0?n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(Xe,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No meetings scheduled yet"}),n.jsxs("div",{className:"mt-4 p-2 bg-yellow-100 text-yellow-800 rounded text-xs",children:["Debug: meetings array length: ",r.length]})]}):n.jsx("div",{className:"space-y-4",children:r.map(j=>n.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:j.title}),n.jsx(ge,{variant:"success",children:j.status})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-3 text-sm text-gray-600 mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xe,{className:"w-4 h-4"}),n.jsx("span",{children:q(new Date(j.date),"MMMM d, yyyy")})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Be,{className:"w-4 h-4"}),n.jsx("span",{children:j.time})]}),n.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[n.jsx(B7,{className:"w-4 h-4"}),n.jsx("span",{children:j.location})]})]}),n.jsxs("div",{className:"bg-gray-50 p-3 rounded mb-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Agenda:"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:j.agenda})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[n.jsxs("span",{children:["Convener: ",j.convener]}),n.jsxs("span",{children:["Attendees: ",j.attendees.length," members"]})]})]}),n.jsx(X,{size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-700 ml-2",onClick:()=>v(j.id),children:n.jsx(bp,{className:"w-4 h-4"})})]})},j.id))})}),n.jsx(vt,{isOpen:t,onClose:y,title:"Schedule Committee Meeting",size:"lg",children:n.jsxs("form",{onSubmit:c(g),className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Meeting Title ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",...l("title",{required:"Meeting title is required"}),placeholder:"e.g., Academic Committee Meeting",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),m.title&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.title.message})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",...l("date",{required:"Date is required"}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),m.date&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.date.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Time ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"time",...l("time",{required:"Time is required"}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),m.time&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.time.message})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",...l("location",{required:"Location is required"}),placeholder:"e.g., Board Room, Main Campus",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),m.location&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.location.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Agenda ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{...l("agenda",{required:"Agenda is required",minLength:{value:10,message:"Agenda must be at least 10 characters"}}),rows:4,placeholder:"Describe the meeting agenda and topics to be discussed...",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),m.agenda&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.agenda.message})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[n.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Committee Members to be Notified:"}),n.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[n.jsx("li",{children:" Registrar"}),n.jsx("li",{children:" Vice President"}),n.jsx("li",{children:" Vice Chancellor"}),n.jsx("li",{children:" President"}),n.jsx("li",{children:" Manager HR"})]}),n.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Email notifications will be sent to all committee members automatically."})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{type:"button",variant:"outline",onClick:y,disabled:f,children:"Cancel"}),n.jsx(X,{type:"submit",disabled:f,children:f?"Scheduling...":"Schedule Meeting"})]})]})})]})}const fc=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"],_ie=[{id:"overview",label:"Overview",icon:li},{id:"attendance",label:"Attendance Report",icon:Be},{id:"leaves",label:"Leave Report",icon:Xe},{id:"department",label:"Department Analysis",icon:Ql}];function Tie(){const e=Ae(N=>N.employees),t=Ae(N=>N.attendance),a=Ae(N=>N.leaves),r=Qe(N=>N.user),[s,l]=x.useState("overview"),[c,d]=x.useState({from:q(Ta(new Date),"yyyy-MM-dd"),to:q(La(new Date),"yyyy-MM-dd")}),m=x.useMemo(()=>e.filter(N=>N.faculty===r.faculty),[e,r.faculty]),f=x.useMemo(()=>new Set(m.map(N=>N.id)),[m]),h=x.useMemo(()=>t.filter(N=>f.has(N.employeeId)),[t,f]),g=x.useMemo(()=>a.filter(N=>f.has(N.employeeId)),[a,f]),y=x.useMemo(()=>{const N={};return m.forEach(A=>{N[A.department]=(N[A.department]||0)+1}),Object.entries(N).map(([A,O])=>({name:A,value:O}))},[m]),v=x.useMemo(()=>{const N=[];for(let A=5;A>=0;A--){const O=lo(new Date,A),D=q(O,"MMM yyyy"),k=h.filter(z=>{const L=ue(z.date);return q(L,"MMM yyyy")===D}),_=k.filter(z=>z.status==="Present").length,E=k.filter(z=>z.status==="Absent").length,P=k.filter(z=>z.status==="Late").length;N.push({month:q(O,"MMM"),present:_,absent:E,late:P,rate:k.length>0?Math.round(_/(_+E+P)*100):0})}return N},[h]),j=x.useMemo(()=>{const N={};return g.forEach(A=>{N[A.type]=(N[A.type]||0)+1}),Object.entries(N).map(([A,O])=>({name:A,value:O}))},[g]),b=x.useMemo(()=>({pending:g.filter(N=>N.status==="Pending").length,approved:g.filter(N=>N.status==="Approved").length,rejected:g.filter(N=>N.status==="Rejected").length}),[g]),S=x.useMemo(()=>{const N={};return m.forEach(A=>{N[A.department]||(N[A.department]={total:0,present:0,employees:0}),N[A.department].employees++}),h.forEach(A=>{const O=e.find(D=>D.id===A.employeeId);O&&N[O.department]&&(N[O.department].total++,(A.status==="Present"||A.status==="Late")&&N[O.department].present++)}),Object.entries(N).map(([A,O])=>({name:A,employees:O.employees,rate:O.total>0?Math.round(O.present/O.total*100):0}))},[m,h,e]),M=N=>{let A=[],O="";switch(N){case"attendance":A=h.map(P=>({Employee:e.find(z=>z.id===P.employeeId)?.name||"Unknown",Date:P.date,Status:P.status,CheckIn:P.checkIn||"-",CheckOut:P.checkOut||"-"})),O="faculty_attendance_report";break;case"leaves":A=g.map(P=>({Employee:e.find(z=>z.id===P.employeeId)?.name||"Unknown",Type:P.type,From:P.from,To:P.to,Status:P.status,Reason:P.reason||"-"})),O="faculty_leaves_report";break;case"department":A=S.map(P=>({Department:P.name,Employees:P.employees,AttendanceRate:`${P.rate}%`})),O="department_report";break;default:A=m.map(P=>({Code:P.code,Name:P.name,Department:P.department,Designation:P.designation,Status:P.status})),O="faculty_employees_report"}const D=Ns.unparse(A),k=new Blob([D],{type:"text/csv"}),_=URL.createObjectURL(k),E=document.createElement("a");E.href=_,E.download=`${O}_${q(new Date,"yyyy-MM-dd")}.csv`,E.click()};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Faculty Reports"}),n.jsxs("p",{className:"text-gray-500 mt-1",children:["Analytics and reports for ",r.faculty]})]}),n.jsxs(X,{variant:"outline",onClick:()=>M(s),children:[n.jsx(Wt,{className:"w-4 h-4"}),"Export Report"]})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:_ie.map(N=>n.jsxs("button",{onClick:()=>l(N.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${s===N.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[n.jsx(N.icon,{className:"w-4 h-4"}),N.label]},N.id))}),s==="overview"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:n.jsx(en,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.length}),n.jsx("p",{className:"text-xs text-gray-500",children:"Total Staff"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:n.jsx(Ql,{className:"w-5 h-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.length}),n.jsx("p",{className:"text-xs text-gray-500",children:"Departments"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-amber-100",children:n.jsx(Xe,{className:"w-5 h-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.pending}),n.jsx("p",{className:"text-xs text-gray-500",children:"Pending Leaves"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-purple-100",children:n.jsx(Be,{className:"w-5 h-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.length>0?`${v[v.length-1].rate}%`:"N/A"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Attendance Rate"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Department Distribution",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(rr,{children:[n.jsx(Ba,{data:y,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:3,dataKey:"value",label:({name:N,percent:A})=>`${N} (${(A*100).toFixed(0)}%)`,children:y.map((N,A)=>n.jsx(An,{fill:fc[A%fc.length]},N.name))}),n.jsx(ut,{})]})})})}),n.jsx(K,{title:"Monthly Attendance Trend",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Iu,{data:v,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"month",tick:{fontSize:12}}),n.jsx(Jt,{tick:{fontSize:12},domain:[0,100],unit:"%"}),n.jsx(ut,{formatter:N=>[`${N}%`,"Attendance Rate"]}),n.jsx(Tc,{type:"monotone",dataKey:"rate",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6"}})]})})})})]})]}),s==="attendance"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(K,{title:"Monthly Attendance Breakdown",subtitle:"Attendance statistics for the last 6 months",children:n.jsx("div",{className:"h-72",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Cr,{data:v,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"month",tick:{fontSize:12}}),n.jsx(Jt,{tick:{fontSize:12}}),n.jsx(ut,{}),n.jsx(er,{}),n.jsx(Qn,{dataKey:"present",fill:"#10b981",radius:[4,4,0,0],name:"Present"}),n.jsx(Qn,{dataKey:"late",fill:"#f59e0b",radius:[4,4,0,0],name:"Late"}),n.jsx(Qn,{dataKey:"absent",fill:"#ef4444",radius:[4,4,0,0],name:"Absent"})]})})})}),n.jsx(K,{title:"Attendance Rate Trend",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Iu,{data:v,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"month",tick:{fontSize:12}}),n.jsx(Jt,{tick:{fontSize:12},domain:[0,100],unit:"%"}),n.jsx(ut,{formatter:N=>[`${N}%`,"Rate"]}),n.jsx(Tc,{type:"monotone",dataKey:"rate",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2}})]})})})})]}),s==="leaves"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"glass p-6 rounded-xl text-center border-l-4 border-amber-500",children:[n.jsx("p",{className:"text-3xl font-bold text-amber-600",children:b.pending}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Pending"})]}),n.jsxs("div",{className:"glass p-6 rounded-xl text-center border-l-4 border-emerald-500",children:[n.jsx("p",{className:"text-3xl font-bold text-emerald-600",children:b.approved}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Approved"})]}),n.jsxs("div",{className:"glass p-6 rounded-xl text-center border-l-4 border-red-500",children:[n.jsx("p",{className:"text-3xl font-bold text-red-600",children:b.rejected}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Rejected"})]})]}),n.jsx(K,{title:"Leaves by Type",subtitle:"Distribution of leave requests by type",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(rr,{children:[n.jsx(Ba,{data:j,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:N,value:A})=>`${N}: ${A}`,children:j.map((N,A)=>n.jsx(An,{fill:fc[A%fc.length]},N.name))}),n.jsx(ut,{}),n.jsx(er,{})]})})})})]}),s==="department"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(K,{title:"Department Performance",subtitle:"Attendance rate by department",children:n.jsx("div",{className:"h-72",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Cr,{data:S,layout:"vertical",children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{type:"number",domain:[0,100],unit:"%",tick:{fontSize:12}}),n.jsx(Jt,{type:"category",dataKey:"name",tick:{fontSize:12},width:100}),n.jsx(ut,{formatter:N=>[`${N}%`,"Attendance Rate"]}),n.jsx(Qn,{dataKey:"rate",fill:"#3b82f6",radius:[0,4,4,0]})]})})})}),n.jsx(K,{title:"Department Staff Count",children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:S.map((N,A)=>n.jsxs("div",{className:"p-4 rounded-xl border border-gray-100 hover:border-gray-200 transition-all",children:[n.jsx("div",{className:"w-3 h-3 rounded-full mb-2",style:{backgroundColor:fc[A%fc.length]}}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.name}),n.jsx("p",{className:"text-2xl font-bold text-gray-700 mt-1",children:N.employees}),n.jsx("p",{className:"text-xs text-gray-500",children:"staff members"})]},N.name))})})]})]})}const Lie=[{id:"profile",label:"Profile",icon:Mr},{id:"notifications",label:"Notifications",icon:Zr},{id:"preferences",label:"Preferences",icon:_r}];function Iie(){const e=Qe(y=>y.user),[t,a]=x.useState("profile"),[r,s]=x.useState(!1),[l,c]=x.useState({name:e?.name||"",email:e?.email||"",phone:"+92-300-1234567",office:"Block A, Room 101"}),[d,m]=x.useState({emailAlerts:!0,leaveRequests:!0,attendanceAlerts:!0,weeklyReports:!0,systemUpdates:!1}),[f,h]=x.useState({defaultView:"dashboard",itemsPerPage:"10",dateFormat:"dd/MM/yyyy",autoApproveLeaves:!1}),g=()=>{s(!0),setTimeout(()=>s(!1),2e3)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your portal preferences"})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Lie.map(y=>n.jsxs("button",{onClick:()=>a(y.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${t===y.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[n.jsx(y.icon,{className:"w-4 h-4"}),y.label]},y.id))}),t==="profile"&&n.jsx(K,{title:"Profile Information",subtitle:"Your personal information",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-20 h-20 rounded-full bg-linear-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white text-2xl font-bold",children:e?.name?.charAt(0)||"D"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?.name}),n.jsxs("p",{className:"text-gray-500",children:["Dean - Faculty of ",e?.faculty]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{label:"Full Name",children:n.jsx("input",{type:"text",value:l.name,onChange:y=>c({...l,name:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})}),n.jsx(tt,{label:"Email",children:n.jsx("input",{type:"email",value:l.email,onChange:y=>c({...l,email:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})}),n.jsx(tt,{label:"Phone",children:n.jsx("input",{type:"text",value:l.phone,onChange:y=>c({...l,phone:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})}),n.jsx(tt,{label:"Office",children:n.jsx("input",{type:"text",value:l.office,onChange:y=>c({...l,office:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(X,{onClick:g,children:r?"Saved!":"Save Changes"})})]})}),t==="notifications"&&n.jsx(K,{title:"Notification Preferences",subtitle:"Control what notifications you receive",children:n.jsxs("div",{className:"space-y-4",children:[[{key:"emailAlerts",label:"Email Alerts",desc:"Receive important updates via email"},{key:"leaveRequests",label:"Leave Requests",desc:"Get notified when staff submit leave requests"},{key:"attendanceAlerts",label:"Attendance Alerts",desc:"Alerts for unusual attendance patterns"},{key:"weeklyReports",label:"Weekly Reports",desc:"Receive weekly summary reports"},{key:"systemUpdates",label:"System Updates",desc:"Notifications about system changes"}].map(y=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-100 hover:border-gray-200 transition-all",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:y.label}),n.jsx("p",{className:"text-sm text-gray-500",children:y.desc})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:d[y.key],onChange:v=>m({...d,[y.key]:v.target.checked}),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},y.key)),n.jsx("div",{className:"flex justify-end pt-4",children:n.jsx(X,{onClick:g,children:r?"Saved!":"Save Preferences"})})]})}),t==="preferences"&&n.jsx(K,{title:"Portal Preferences",subtitle:"Customize your portal experience",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{label:"Default View",children:n.jsxs("select",{value:f.defaultView,onChange:y=>h({...f,defaultView:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"dashboard",children:"Dashboard"}),n.jsx("option",{value:"employees",children:"Faculty Staff"}),n.jsx("option",{value:"attendance",children:"Attendance"}),n.jsx("option",{value:"leaves",children:"Leave Requests"})]})}),n.jsx(tt,{label:"Items Per Page",children:n.jsxs("select",{value:f.itemsPerPage,onChange:y=>h({...f,itemsPerPage:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"10",children:"10 items"}),n.jsx("option",{value:"25",children:"25 items"}),n.jsx("option",{value:"50",children:"50 items"}),n.jsx("option",{value:"100",children:"100 items"})]})}),n.jsx(tt,{label:"Date Format",children:n.jsxs("select",{value:f.dateFormat,onChange:y=>h({...f,dateFormat:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"dd/MM/yyyy",children:"DD/MM/YYYY"}),n.jsx("option",{value:"MM/dd/yyyy",children:"MM/DD/YYYY"}),n.jsx("option",{value:"yyyy-MM-dd",children:"YYYY-MM-DD"})]})})]}),n.jsx("div",{className:"p-4 rounded-lg border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Auto-approve Leaves"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Automatically approve leave requests under 2 days"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:f.autoApproveLeaves,onChange:y=>h({...f,autoApproveLeaves:y.target.checked}),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsx(X,{onClick:g,children:r?"Saved!":"Save Preferences"})})]})})]})}function zie(){const e=Qe(S=>S.user),{employees:t,leaves:a,attendance:r,updateLeaveStatus:s}=Ae(),[l,c]=x.useState(""),d=e?.faculty,m=x.useMemo(()=>t.filter(S=>!d||S.faculty===d),[t,d]),f=q(new Date,"yyyy-MM-dd"),h=x.useMemo(()=>r.filter(S=>S.date===f&&m.some(M=>M.id===S.employeeId)),[r,m,f]),y=x.useMemo(()=>a.filter(S=>m.some(M=>M.id===S.employeeId)),[a,m]).filter(S=>S.status==="Pending"||S.status==="Forwarded"),v={staff:m.length,pendingLeaves:y.length,present:h.filter(S=>S.status==="Present").length,late:h.filter(S=>S.status==="Late").length},j=(S,M)=>{s(S,M?"Approved":"Rejected","dean",e?.name||"Dean",l||""),c("")},b=S=>S==="Approved"?"success":S==="Rejected"?"error":S==="Forwarded"||S==="Pending"?"warning":"default";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Manager Self-Service"}),n.jsx("p",{className:"text-gray-600",children:"Faculty view, approvals, and attendance snapshot"})]}),n.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[{label:"Faculty Staff",value:v.staff,icon:en,color:"indigo"},{label:"Pending Leaves",value:v.pendingLeaves,icon:Xe,color:"amber"},{label:"Present Today",value:v.present,icon:Le,color:"green"},{label:"Late Today",value:v.late,icon:Be,color:"rose"}].map(S=>n.jsx(K,{className:`border-${S.color}-100 bg-${S.color}-50`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm text-${S.color}-600`,children:S.label}),n.jsx("p",{className:`text-2xl font-bold text-${S.color}-800`,children:S.value})]}),n.jsx(S.icon,{className:`w-8 h-8 text-${S.color}-500`})]})},S.label))}),n.jsxs(K,{children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(za,{className:"w-5 h-5 text-gray-500"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"Pending Leave Approvals"})]})}),y.length===0?n.jsx("p",{className:"text-sm text-gray-500",children:"No pending leaves for your faculty."}):n.jsx("div",{className:"space-y-2 text-sm text-gray-800",children:y.map(S=>n.jsxs("div",{className:"border rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium capitalize",children:S.employeeName}),n.jsxs("p",{className:"text-xs text-gray-500",children:[S.type,"  ",S.startDate,"  ",S.endDate," (",S.days,"d)"]})]}),n.jsx(ge,{variant:b(S.status),children:S.status})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[n.jsx(X,{size:"sm",variant:"outline",onClick:()=>j(S.id,!0),children:"Approve"}),n.jsx(X,{size:"sm",variant:"outline",onClick:()=>j(S.id,!1),className:"text-red-600 border-red-200",children:"Reject"}),n.jsx("input",{className:"flex-1 min-w-[180px] rounded border px-3 py-1 text-xs",placeholder:"Notes (optional)",value:l,onChange:M=>c(M.target.value)})]})]},S.id))})]})]})}function cl({value:e=[],onChange:t,maxFiles:a=5,maxSizeMB:r=10,allowedTypes:s=["pdf","doc","docx","jpg","jpeg","png"],label:l="Upload Files",required:c=!1,helper:d="",disabled:m=!1}){const f=x.useRef(null),[h,g]=x.useState([]),y=A=>{if(A===0)return"0 Bytes";const O=1024,D=["Bytes","KB","MB"],k=Math.floor(Math.log(A,O));return Math.round(A/Math.pow(O,k)*100)/100+" "+D[k]},v=A=>A.split(".").pop().toLowerCase(),j=A=>{const O=[],D=v(A.name),k=A.size/(1024*1024);return s.includes(D)||O.push(`${A.name}: Invalid file type. Allowed: ${s.join(", ")}`),k>r&&O.push(`${A.name}: File size exceeds ${r}MB limit`),O},b=A=>{const O=Array.from(A.target.files||[]),D=[],k=[];e.length+O.length>a?D.push(`Maximum ${a} files allowed`):O.forEach(_=>{const E=j(_);E.length>0?D.push(...E):k.push({id:Math.random().toString(36),name:_.name,size:_.size,type:_.type,file:_,uploadedAt:new Date().toISOString()})}),g(D),k.length>0&&t([...e,...k]),f.current&&(f.current.value="")},S=A=>{t(e.filter(O=>O.id!==A))},M=A=>{A.preventDefault(),A.stopPropagation()},N=A=>{A.preventDefault(),A.stopPropagation();const O=Array.from(A.dataTransfer.files||[]);if(f.current){const D=new DataTransfer;O.forEach(k=>D.items.add(k)),f.current.files=D.files,b({target:f.current})}};return n.jsxs("div",{className:"space-y-2",children:[l&&n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[l,c&&n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${m?"bg-gray-50 border-gray-200 cursor-not-allowed":"border-gray-300 hover:border-blue-500 cursor-pointer"}`,onDragOver:M,onDrop:N,onClick:()=>!m&&f.current?.click(),children:[n.jsx("input",{ref:f,type:"file",multiple:!0,accept:s.map(A=>`.${A}`).join(","),onChange:b,disabled:m,className:"hidden"}),n.jsx(HL,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Drop files here or click to select"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Max ",a," files, ",r,"MB each"]})]}),d&&n.jsx("p",{className:"text-xs text-gray-500",children:d}),h.length>0&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:h.map((A,O)=>n.jsxs("p",{className:"text-xs text-red-600",children:[" ",A]},O))}),e.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-xs font-medium text-gray-600",children:[e.length," file",e.length!==1?"s":""," selected"]}),e.map(A=>n.jsxs("div",{className:"flex items-center justify-between bg-gray-50 border border-gray-200 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[n.jsx(Ar,{className:"w-4 h-4 text-gray-400 shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:A.name}),n.jsx("p",{className:"text-xs text-gray-500",children:y(A.size)})]})]}),n.jsx("button",{onClick:()=>S(A.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors ml-2",type:"button",children:n.jsx(jp,{className:"w-4 h-4"})})]},A.id))]})]})}const $ie={"dean-review":"info",returned:"warning","dean-confirmed":"success"};function Bie(){const{user:e}=Qe(),t=Ae(N=>N.getPamsForDean),a=Ae(N=>N.deanReviewPams),r=Ae(N=>N.updatePamsSubmission),s=x.useMemo(()=>e?.faculty?t(e.faculty):[],[t,e]),[l,c]=x.useState(null),[d,m]=x.useState(""),[f,h]=x.useState(""),[g,y]=x.useState(""),[v,j]=x.useState([]),b=N=>{c(N),m(""),h(""),y(""),j(N.attachments||[])},S=()=>{l&&r(l.id,{attachments:v.map(N=>({id:N.id,name:N.name,size:N.size,type:N.type}))})},M=N=>{l&&(a(l.id,{action:N,comment:d,meetingDate:f,followUpDate:g,by:"dean"}),c(null),j([]),m(""),h(""),y(""))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gs,{className:"w-6 h-6 text-gray-600"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"HOD PAMS Review"}),n.jsx("p",{className:"text-gray-600",children:"Meet with HODs, request corrections, and confirm submissions."})]})]}),n.jsx(K,{children:s.length===0?n.jsx("p",{className:"text-sm text-gray-600",children:"No HOD submissions awaiting review."}):n.jsx("div",{className:"space-y-2",children:s.map(N=>n.jsxs("button",{onClick:()=>b(N),className:`w-full text-left border rounded-lg p-3 hover:border-[hsl(var(--color-primary))] ${l?.id===N.id?"border-[hsl(var(--color-primary))] shadow-sm":""}`,children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:N.employeeName||N.employeeId}),n.jsx("p",{className:"text-xs text-gray-500",children:N.period})]}),n.jsx(ge,{variant:$ie[N.status]||"secondary",children:N.status})]}),n.jsx("p",{className:"text-sm text-gray-700 mt-1 line-clamp-2",children:N.workload?.admin})]},N.id))})}),l&&n.jsxs(K,{children:[n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsx(Qi,{label:"Teaching load",value:l.workload?.teachingLoad}),n.jsx(Qi,{label:"Project supervision",value:l.workload?.projectSupervision}),n.jsx(Qi,{label:"Advisory",value:l.workload?.advisory}),n.jsx(Qi,{label:"Administrative",value:l.workload?.admin}),n.jsx(Qi,{label:"Teaching effectiveness",value:l.rubric?.teaching}),n.jsx(Qi,{label:"Research & funding",value:l.rubric?.research}),n.jsx(Qi,{label:"Service & community",value:l.rubric?.service}),n.jsx(Qi,{label:"Grievance/Suggestion",value:l.grievance||"None"})]}),l.followUpMeeting&&n.jsxs("div",{className:"mt-3 border rounded-lg p-3 bg-gray-50",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Department performance follow-up"}),n.jsxs("p",{className:"text-sm text-gray-700",children:["Scheduled: ",l.followUpMeeting.scheduledAt||"TBD","  Status:"," ",l.followUpMeeting.status||"pending"]}),l.followUpMeeting.topic&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l.followUpMeeting.topic})]}),n.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Meeting date",n.jsx("input",{type:"date",className:"mt-1",value:f,onChange:N=>h(N.target.value)})]}),n.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Follow-up meeting",n.jsx("input",{type:"date",className:"mt-1",value:g,onChange:N=>y(N.target.value),placeholder:"Optional"})]}),n.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Comments / corrections",n.jsx("textarea",{rows:2,className:"mt-1",value:d,onChange:N=>m(N.target.value),placeholder:"Meeting notes or required changes"})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx(cl,{label:"Attachments",value:v,onChange:j,helper:"Upload corrected forms or evidence after dean meeting.",maxFiles:10,maxSizeMB:15}),n.jsx("div",{className:"flex justify-end mt-2",children:n.jsx(X,{variant:"secondary",onClick:S,disabled:!l,children:"Save attachments"})})]}),n.jsxs("div",{className:"flex flex-wrap justify-end gap-2 mt-4",children:[n.jsxs(X,{variant:"outline",onClick:()=>M("return"),className:"flex items-center gap-2",children:[n.jsx(ij,{className:"w-4 h-4"})," Return"]}),n.jsxs(X,{onClick:()=>M("confirm"),className:"flex items-center gap-2",children:[n.jsx(Le,{className:"w-4 h-4"})," Confirm after meeting"]})]})]})]})}function Qi({label:e,value:t}){return n.jsxs("div",{className:"border rounded-lg p-3 bg-white",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:e}),n.jsx("p",{className:"text-sm text-gray-800 mt-1 whitespace-pre-line min-h-12",children:t||""})]})}function Fie(){return n.jsx(gi,{children:n.jsxs(Se,{element:n.jsx(Cie,{}),children:[n.jsx(Se,{index:!0,element:n.jsx(Mie,{})}),n.jsx(Se,{path:"employees",element:n.jsx(Die,{})}),n.jsx(Se,{path:"attendance",element:n.jsx(Oie,{})}),n.jsx(Se,{path:"leaves",element:n.jsx(kie,{})}),n.jsx(Se,{path:"promotions",element:n.jsx(Pie,{})}),n.jsx(Se,{path:"meetings",element:n.jsx(Rie,{})}),n.jsx(Se,{path:"pams",element:n.jsx(Bie,{})}),n.jsx(Se,{path:"self-service",element:n.jsx(zie,{})}),n.jsx(Se,{path:"reports",element:n.jsx(Tie,{})}),n.jsx(Se,{path:"settings",element:n.jsx(Iie,{})}),n.jsx(Se,{path:"*",element:n.jsx(hs,{to:".",replace:!0})})]})})}const Uie=[{path:"/hod",label:"Dashboard",icon:za,end:!0},{path:"/hod/employees",label:"Department Staff",icon:en},{path:"/hod/attendance",label:"Attendance",icon:Be},{path:"/hod/leaves",label:"Leave Requests",icon:Xe},{path:"/hod/self-service",label:"Manager Self-Service",icon:gs},{path:"/hod/pams",label:"PAMS",icon:li},{path:"/hod/reports",label:"Reports",icon:li},{path:"/hod/settings",label:"Settings",icon:_r}];function qie(){return n.jsx(yi,{portalKey:"hod",portalName:"HOD Portal",navItems:Uie})}const rh=["#10b981","#f59e0b","#ef4444","#3b82f6"];function Hie(){const e=Ae(N=>N.employees),t=Ae(N=>N.attendance),a=Ae(N=>N.leaves),r=Qe(N=>N.user),s=x.useMemo(()=>e.filter(N=>N.department===r.department),[e,r.department]),l=x.useMemo(()=>new Set(s.map(N=>N.id)),[s]),c=x.useMemo(()=>a.filter(N=>l.has(N.employeeId)),[a,l]),d=s.length,m=s.filter(N=>N.status==="Active").length,f=c.filter(N=>N.status==="Pending").length,h=q(new Date,"yyyy-MM-dd"),g=x.useMemo(()=>{const N=t.filter(A=>A.date===h&&l.has(A.employeeId));return{present:N.filter(A=>A.status==="Present").length,absent:N.filter(A=>A.status==="Absent").length,late:N.filter(A=>A.status==="Late").length,leave:N.filter(A=>A.status==="Leave").length}},[t,h,l]),y=x.useMemo(()=>Array.from({length:7},(A,O)=>{const D=nt(new Date,6-O),k=q(D,"yyyy-MM-dd"),_=t.filter(E=>E.date===k&&l.has(E.employeeId));return{day:q(D,"EEE"),present:_.filter(E=>E.status==="Present").length,absent:_.filter(E=>E.status==="Absent").length}}),[t,l]),v=[{name:"Present",value:g.present},{name:"Late",value:g.late},{name:"Absent",value:g.absent},{name:"Leave",value:g.leave}].filter(N=>N.value>0),j=x.useMemo(()=>c.sort((N,A)=>new Date(A.appliedOn)-new Date(N.appliedOn)).slice(0,5).map(N=>({...N,employee:e.find(A=>A.id===N.employeeId)})),[c,e]),b=x.useMemo(()=>{const N={};return s.forEach(A=>{N[A.designation]=(N[A.designation]||0)+1}),Object.entries(N).map(([A,O])=>({name:A,count:O}))},[s]),S=[{label:"Department Staff",value:d,icon:en,color:"from-emerald-600 to-green-600",change:`${m} active`},{label:"Present Today",value:g.present,icon:Le,color:"from-blue-500 to-indigo-500",change:`${d>0?Math.round(g.present/d*100):0}% attendance`},{label:"Late Today",value:g.late,icon:Be,color:"from-amber-500 to-orange-500",change:"Requires attention"},{label:"Pending Leaves",value:f,icon:Xe,color:"from-purple-500 to-pink-500",change:"Awaiting approval"}],M=[{label:"View Staff",icon:en,path:"/hod/employees",color:"bg-emerald-500"},{label:"Attendance",icon:Be,path:"/hod/attendance",color:"bg-blue-500"},{label:"Leaves",icon:Xe,path:"/hod/leaves",color:"bg-purple-500"},{label:"Reports",icon:li,path:"/hod/reports",color:"bg-amber-500"}];return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Department Overview"}),n.jsxs("p",{className:"text-gray-500 mt-1",children:["Department of ",r.department||"Computer Science"]})]}),n.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:n.jsx("span",{className:"px-3 py-1 rounded-full bg-emerald-100 text-emerald-700 font-medium",children:q(new Date,"EEEE, MMMM d, yyyy")})})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:S.map(N=>n.jsxs("div",{className:"glass p-6 rounded-2xl card-hover relative overflow-hidden group",children:[n.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 bg-linear-to-br ${N.color} opacity-10 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110`}),n.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:N.label}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:N.value}),n.jsxs("p",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[n.jsx(xs,{className:"w-3 h-3"}),N.change]})]}),n.jsx("div",{className:`p-3 rounded-xl bg-linear-to-br ${N.color} text-white shadow-lg`,children:n.jsx(N.icon,{className:"w-6 h-6"})})]})]},N.label))}),n.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:M.map(N=>n.jsxs(fn,{to:N.path,className:"glass p-4 rounded-xl card-hover flex items-center gap-3 group",children:[n.jsx("div",{className:`p-2 rounded-lg ${N.color} text-white group-hover:scale-110 transition-transform`,children:n.jsx(N.icon,{className:"w-5 h-5"})}),n.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:N.label})]},N.label))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Weekly Attendance",subtitle:"Last 7 days trend",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(bo,{data:y,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"day",tick:{fontSize:12}}),n.jsx(Jt,{tick:{fontSize:12}}),n.jsx(ut,{}),n.jsx(Ia,{type:"monotone",dataKey:"present",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Present"}),n.jsx(Ia,{type:"monotone",dataKey:"absent",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Absent"})]})})})}),n.jsx(K,{title:"Today's Attendance",subtitle:"Current attendance status",children:n.jsx("div",{className:"h-64",children:v.length>0?n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(rr,{children:[n.jsx(Ba,{data:v,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:3,dataKey:"value",label:({name:N,value:A})=>`${N}: ${A}`,children:v.map((N,A)=>n.jsx(An,{fill:rh[A%rh.length]},N.name))}),n.jsx(ut,{})]})}):n.jsx("div",{className:"h-full flex items-center justify-center",children:n.jsx("p",{className:"text-gray-400",children:"No attendance data for today"})})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Staff by Designation",subtitle:"Team composition",children:n.jsxs("div",{className:"space-y-3",children:[b.map((N,A)=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:rh[A%rh.length]}}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:N.name})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-bold text-gray-900",children:N.count}),n.jsx(si,{className:"w-4 h-4 text-gray-400"})]})]},N.name)),b.length===0&&n.jsx("p",{className:"text-center text-gray-400 py-8",children:"No staff data available"})]})}),n.jsx(K,{title:"Recent Leave Requests",subtitle:"Latest requests from your team",actions:n.jsx(fn,{to:"/hod/leaves",children:n.jsx(X,{variant:"ghost",size:"sm",children:"View All"})}),children:n.jsx("div",{className:"space-y-3",children:j.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx(Xe,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No leave requests"})]}):j.map(N=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-linear-to-br from-emerald-500 to-green-500 flex items-center justify-center text-white font-bold text-sm",children:N.employee?.name?.charAt(0)||"?"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.employee?.name||"Unknown"}),n.jsxs("p",{className:"text-xs text-gray-500",children:[N.type," "," ",N.startDate?q(ue(N.startDate),"MMM d"):"N/A"," -"," ",N.endDate?q(ue(N.endDate),"MMM d"):"N/A"]})]})]}),n.jsx(ge,{variant:N.status==="Approved"?"success":N.status==="Rejected"?"danger":"warning",children:N.status})]},N.id))})})]})]})}function Vie(){const e=Ae(m=>m.employees),t=Qe(m=>m.user),[a,r]=x.useState(null),s=e.filter(m=>m.department===t.department),l=()=>{const m=Ns.unparse(s),f=new Blob([m],{type:"text/csv"}),h=URL.createObjectURL(f),g=document.createElement("a");g.href=h,g.download=`dept_${t.department}_employees.csv`,g.click()},c=m=>{r({...m})},d=()=>{console.log("Saving employee:",a),r(null)};return n.jsxs(n.Fragment,{children:[n.jsx(K,{title:`Department Staff: ${t.department}`,subtitle:"Manage your department's teachers and staff",actions:n.jsxs(X,{variant:"outline",onClick:l,children:[n.jsx(Wt,{className:"w-4 h-4"})," Export CSV"]}),children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Code"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Designation"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:s.map(m=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:m.code}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:m.name}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:m.designation}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsx(ge,{variant:m.status==="Active"?"success":"default",children:m.status})}),n.jsx("td",{className:"px-4 py-3 text-sm text-right",children:n.jsx("button",{onClick:()=>c(m),className:"text-blue-600 hover:text-blue-900",children:n.jsx(kD,{className:"w-4 h-4"})})})]},m.id))})]})})}),n.jsx(vt,{open:!!a,onClose:()=>r(null),title:"Edit Employee",actions:n.jsxs(n.Fragment,{children:[n.jsx(X,{variant:"outline",onClick:()=>r(null),children:"Cancel"}),n.jsx(X,{onClick:d,children:"Save Changes"})]}),children:a&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(tt,{label:"Full Name",id:"edit-name",children:n.jsx("input",{id:"edit-name",type:"text",className:"w-full border-gray-300 rounded-md shadow-xs focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm p-2 border",value:a.name,onChange:m=>r({...a,name:m.target.value})})}),n.jsx(tt,{label:"Designation",id:"edit-designation",children:n.jsx("input",{id:"edit-designation",type:"text",className:"w-full border-gray-300 rounded-md shadow-xs focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm p-2 border",value:a.designation,onChange:m=>r({...a,designation:m.target.value})})}),n.jsx(tt,{label:"Status",id:"edit-status",children:n.jsxs("select",{id:"edit-status",className:"w-full border-gray-300 rounded-md shadow-xs focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm p-2 border",value:a.status,onChange:m=>r({...a,status:m.target.value}),children:[n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"On Leave",children:"On Leave"}),n.jsx("option",{value:"Inactive",children:"Inactive"})]})})]})})]})}function Kie(){const e=Ae(j=>j.employees),t=Ae(j=>j.attendance),a=Qe(j=>j.user),[r,s]=x.useState(q(new Date,"yyyy-MM-dd")),[l,c]=x.useState(""),d=x.useMemo(()=>e.filter(j=>j.department===a.department),[e,a.department]),m=x.useMemo(()=>new Set(d.map(j=>j.id)),[d]),f=x.useMemo(()=>d.filter(j=>j.name.toLowerCase().includes(l.toLowerCase())||j.code.toLowerCase().includes(l.toLowerCase())).map(j=>{const b=t.find(S=>S.employeeId===j.id&&S.date===r);return{...j,attendance:b||null}}),[d,t,r,l]),h=x.useMemo(()=>{const j=t.filter(b=>b.date===r&&m.has(b.employeeId));return{total:d.length,present:j.filter(b=>b.status==="Present").length,absent:j.filter(b=>b.status==="Absent").length,late:j.filter(b=>b.status==="Late").length,leave:j.filter(b=>b.status==="Leave").length}},[t,r,d,m]),g=x.useMemo(()=>Array.from({length:7},(j,b)=>{const S=nt(new Date,6-b),M=q(S,"yyyy-MM-dd"),N=t.filter(A=>A.date===M&&m.has(A.employeeId));return{date:q(S,"EEE"),present:N.filter(A=>A.status==="Present").length,absent:N.filter(A=>A.status==="Absent").length}}),[t,m]),y=()=>{const j=f.map(A=>({Code:A.code,Name:A.name,Designation:A.designation,Date:r,Status:A.attendance?.status||"No Record",CheckIn:A.attendance?.checkIn||"-",CheckOut:A.attendance?.checkOut||"-"})),b=Ns.unparse(j),S=new Blob([b],{type:"text/csv"}),M=URL.createObjectURL(S),N=document.createElement("a");N.href=M,N.download=`${a.department}_attendance_${r}.csv`,N.click()},v=j=>{switch(j){case"Present":return n.jsx(ge,{variant:"success",children:j});case"Absent":return n.jsx(ge,{variant:"danger",children:j});case"Late":return n.jsx(ge,{variant:"warning",children:j});case"Leave":return n.jsx(ge,{variant:"info",children:j});default:return n.jsx(ge,{variant:"default",children:"No Record"})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Department Attendance"}),n.jsxs("p",{className:"text-gray-500 mt-1",children:["Track attendance for ",a.department]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"date",value:r,onChange:j=>s(j.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"}),n.jsxs(X,{variant:"outline",onClick:y,children:[n.jsx(Wt,{className:"w-4 h-4"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"glass p-4 rounded-xl text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.total}),n.jsx("p",{className:"text-xs text-gray-500",children:"Total Staff"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-emerald-500",children:[n.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:h.present}),n.jsx("p",{className:"text-xs text-gray-500",children:"Present"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-red-500",children:[n.jsx("p",{className:"text-2xl font-bold text-red-600",children:h.absent}),n.jsx("p",{className:"text-xs text-gray-500",children:"Absent"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-amber-500",children:[n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:h.late}),n.jsx("p",{className:"text-xs text-gray-500",children:"Late"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-blue-500",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:h.leave}),n.jsx("p",{className:"text-xs text-gray-500",children:"On Leave"})]})]}),n.jsx(K,{title:"Weekly Attendance Trend",subtitle:"Last 7 days overview",children:n.jsx("div",{className:"h-48",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(bo,{data:g,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"date",tick:{fontSize:12}}),n.jsx(Jt,{tick:{fontSize:12}}),n.jsx(ut,{}),n.jsx(Ia,{type:"monotone",dataKey:"present",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Present"}),n.jsx(Ia,{type:"monotone",dataKey:"absent",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Absent"})]})})})}),n.jsxs(K,{children:[n.jsx("div",{className:"mb-4",children:n.jsx(Cn,{type:"text",placeholder:"Search by name or code...",value:l,onChange:j=>c(j.target.value),className:"w-full",inputClassName:"pr-4 py-2 text-sm"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50",children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Employee"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Designation"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Check In"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Check Out"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Hours"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:f.map(j=>{const b=j.attendance?.checkIn,S=j.attendance?.checkOut;let M="-";if(b&&S){const[N,A]=b.split(":").map(Number),[O,D]=S.split(":").map(Number),k=O*60+D-(N*60+A),_=Math.floor(k/60),E=k%60;M=`${_}h ${E}m`}return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-linear-to-br from-emerald-500 to-green-500 flex items-center justify-center text-white font-bold text-xs",children:j.name.charAt(0)}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.name}),n.jsx("p",{className:"text-xs text-gray-500",children:j.code})]})]})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:j.designation}),n.jsx("td",{className:"px-4 py-3",children:v(j.attendance?.status)}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:b||"-"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:S||"-"}),n.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:M})]},j.id)})})]})}),f.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Be,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No attendance records found"})]})]})]})}const Wie=[{id:"all",label:"All"},{id:"pending",label:"Pending"},{id:"approved",label:"Approved"},{id:"rejected",label:"Rejected"}];function Yie(){const e=Ae(E=>E.employees),t=Ae(E=>E.leaves),a=Ae(E=>E.updateLeaveStatus),r=Qe(E=>E.user),[s,l]=x.useState("pending"),[c,d]=x.useState(""),[m,f]=x.useState(null),[h,g]=x.useState(!1),[y,v]=x.useState(null),[j,b]=x.useState(""),S=x.useMemo(()=>e.filter(E=>E.department===r.department),[e,r.department]),M=x.useMemo(()=>new Set(S.map(E=>E.id)),[S]),N=x.useMemo(()=>t.filter(E=>M.has(E.employeeId)).map(E=>({...E,employee:e.find(P=>P.id===E.employeeId),days:E.days||(E.startDate&&E.endDate?Gr(ue(E.endDate),ue(E.startDate))+1:0)})).sort((E,P)=>new Date(P.appliedOn)-new Date(E.appliedOn)),[t,e,M]),A=x.useMemo(()=>N.filter(E=>{if(s!=="all"&&E.status.toLowerCase()!==s)return!1;if(c){const P=c.toLowerCase();return E.employee?.name?.toLowerCase().includes(P)||E.employee?.code?.toLowerCase().includes(P)}return!0}),[N,s,c]),O=x.useMemo(()=>({total:N.length,pending:N.filter(E=>E.status==="Pending").length,approved:N.filter(E=>E.status==="Approved").length,rejected:N.filter(E=>E.status==="Rejected").length}),[N]),D=(E,P)=>{f(E),v(P),b(""),g(!0)},k=()=>{!m||!y||(a(m.id,y==="approve"?"Approved":"Rejected","hod",r.name,j||void 0),g(!1),f(null),v(null),b(""))},_=E=>{switch(E){case"Approved":return n.jsx(ge,{variant:"success",children:E});case"Rejected":return n.jsx(ge,{variant:"danger",children:E});default:return n.jsx(ge,{variant:"warning",children:E})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Department Leave Requests"}),n.jsxs("p",{className:"text-gray-500 mt-1",children:["Manage leave requests for ",r.department]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-gray-100",children:n.jsx(Xe,{className:"w-5 h-5 text-gray-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O.total}),n.jsx("p",{className:"text-xs text-gray-500",children:"Total"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-amber-100",children:n.jsx(Be,{className:"w-5 h-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:O.pending}),n.jsx("p",{className:"text-xs text-gray-500",children:"Pending"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:n.jsx(Le,{className:"w-5 h-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:O.approved}),n.jsx("p",{className:"text-xs text-gray-500",children:"Approved"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:n.jsx(Tt,{className:"w-5 h-5 text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-red-600",children:O.rejected}),n.jsx("p",{className:"text-xs text-gray-500",children:"Rejected"})]})]})})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Wie.map(E=>n.jsxs("button",{onClick:()=>l(E.id),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${s===E.id?"bg-emerald-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[E.label,E.id==="pending"&&O.pending>0&&n.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-white/20 rounded text-xs",children:O.pending})]},E.id))}),n.jsxs(K,{children:[n.jsx("div",{className:"mb-4",children:n.jsx(Cn,{type:"text",placeholder:"Search by name or code...",value:c,onChange:E=>d(E.target.value),className:"w-full",inputClassName:"pr-4 py-2 text-sm"})}),n.jsx("div",{className:"space-y-4",children:A.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Xe,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No leave requests found"})]}):A.map(E=>n.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl hover:border-gray-200 transition-all",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-emerald-500 to-green-500 flex items-center justify-center text-white font-bold",children:E.employee?.name?.charAt(0)||"?"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:E.employee?.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:[E.employee?.code,"  ",E.employee?.designation]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsx("span",{className:"px-2 py-1 rounded-full bg-blue-100 text-blue-700 text-xs font-medium",children:E.type}),n.jsxs("span",{className:"text-sm text-gray-600",children:[E.startDate?q(ue(E.startDate),"MMM d"):"N/A"," "," ",E.endDate?q(ue(E.endDate),"MMM d, yyyy"):"N/A",n.jsxs("span",{className:"text-gray-400 ml-2",children:["(",E.days," day",E.days>1?"s":"",")"]})]}),_(E.status)]}),E.status==="Pending"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>D(E,"approve"),className:"text-emerald-600 border-emerald-200 hover:bg-emerald-50",children:[n.jsx(Le,{className:"w-4 h-4"}),"Approve"]}),n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>D(E,"reject"),className:"text-red-600 border-red-200 hover:bg-red-50",children:[n.jsx(Tt,{className:"w-4 h-4"}),"Reject"]})]})]}),E.reason&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Reason:"})," ",E.reason]})})]},E.id))})]}),n.jsx(vt,{isOpen:h,onClose:()=>g(!1),title:`${y==="approve"?"Approve":"Reject"} Leave Request`,children:m&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"font-medium",children:m.employee?.name}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[m.type,"  ",m.days," day(s)"]}),n.jsxs("p",{className:"text-sm text-gray-500",children:[m.startDate?q(ue(m.startDate),"MMM d"):"N/A"," ","-"," ",m.endDate?q(ue(m.endDate),"MMM d, yyyy"):"N/A"]})]}),m.type==="Medical"&&y==="approve"&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-blue-900 font-medium mb-2",children:" Medical Leave Approval Flow"}),n.jsx("p",{className:"text-sm text-blue-700",children:"After your approval, this request will be forwarded to:"}),n.jsxs("ol",{className:"text-sm text-blue-700 mt-2 ml-4 list-decimal space-y-1",children:[n.jsx("li",{children:"Vice Chancellor for recommendation"}),n.jsx("li",{children:"President for final approval and paid/unpaid classification"})]})]}),m.documents&&m.documents.length>0&&n.jsxs("div",{className:"space-y-3 bg-slate-50 border border-slate-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ar,{className:"w-5 h-5 text-slate-600"}),n.jsx("p",{className:"font-semibold text-slate-900",children:"Supporting Documents"})]}),n.jsx("div",{className:"space-y-2",children:m.documents.map((E,P)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-slate-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ar,{className:"w-5 h-5 text-slate-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-900",children:E.name}),n.jsxs("p",{className:"text-xs text-slate-500",children:[(E.size/1024).toFixed(1)," KB  Uploaded"," ",E.uploadedAt?q(ue(E.uploadedAt),"MMM d, yyyy"):"N/A"]})]})]}),n.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>{const z=document.createElement("a");z.href=E.file,z.download=E.name,document.body.appendChild(z),z.click(),document.body.removeChild(z)},className:"text-blue-600 hover:text-blue-700",children:[n.jsx(Wt,{className:"w-4 h-4"}),"Download"]})]},E.id||P))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comment (Optional)"}),n.jsx("textarea",{value:j,onChange:E=>b(E.target.value),placeholder:y==="approve"?m.type==="Medical"?"Add recommendation for Vice Chancellor...":"Add any notes...":"Reason for rejection...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 resize-none",rows:3})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(X,{variant:"ghost",onClick:()=>g(!1),children:"Cancel"}),n.jsx(X,{variant:y==="approve"?"primary":"danger",onClick:k,children:y==="approve"?"Approve & Forward":"Reject"})]})]})})]})}const sh=["#10b981","#f59e0b","#ef4444","#3b82f6","#8b5cf6"],Gie=[{id:"overview",label:"Overview",icon:li},{id:"attendance",label:"Attendance",icon:Be},{id:"leaves",label:"Leaves",icon:Xe}];function Zie(){const e=Ae(b=>b.employees),t=Ae(b=>b.attendance),a=Ae(b=>b.leaves),r=Qe(b=>b.user),[s,l]=x.useState("overview"),c=x.useMemo(()=>e.filter(b=>b.department===r.department),[e,r.department]),d=x.useMemo(()=>new Set(c.map(b=>b.id)),[c]),m=x.useMemo(()=>t.filter(b=>d.has(b.employeeId)),[t,d]),f=x.useMemo(()=>a.filter(b=>d.has(b.employeeId)),[a,d]),h=x.useMemo(()=>{const b={};return c.forEach(S=>{b[S.designation]=(b[S.designation]||0)+1}),Object.entries(b).map(([S,M])=>({name:S,value:M}))},[c]),g=x.useMemo(()=>{const b=[];for(let S=5;S>=0;S--){const M=lo(new Date,S),N=q(M,"MMM yyyy"),A=m.filter(k=>{const _=ue(k.date);return q(_,"MMM yyyy")===N}),O=A.filter(k=>k.status==="Present").length,D=A.length;b.push({month:q(M,"MMM"),present:O,absent:A.filter(k=>k.status==="Absent").length,rate:D>0?Math.round(O/D*100):0})}return b},[m]),y=x.useMemo(()=>{const b={};return f.forEach(S=>{b[S.type]=(b[S.type]||0)+1}),Object.entries(b).map(([S,M])=>({name:S,value:M}))},[f]),v=x.useMemo(()=>({pending:f.filter(b=>b.status==="Pending").length,approved:f.filter(b=>b.status==="Approved").length,rejected:f.filter(b=>b.status==="Rejected").length}),[f]),j=b=>{let S=[],M="";switch(b){case"employees":S=c.map(k=>({Code:k.code,Name:k.name,Designation:k.designation,Status:k.status})),M="department_employees";break;case"attendance":S=m.map(k=>({Employee:e.find(_=>_.id===k.employeeId)?.name||"Unknown",Date:k.date,Status:k.status,CheckIn:k.checkIn||"-",CheckOut:k.checkOut||"-"})),M="department_attendance";break;case"leaves":S=f.map(k=>({Employee:e.find(_=>_.id===k.employeeId)?.name||"Unknown",Type:k.type,From:k.from,To:k.to,Status:k.status})),M="department_leaves";break}const N=Ns.unparse(S),A=new Blob([N],{type:"text/csv"}),O=URL.createObjectURL(A),D=document.createElement("a");D.href=O,D.download=`${M}_${q(new Date,"yyyy-MM-dd")}.csv`,D.click()};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Department Reports"}),n.jsxs("p",{className:"text-gray-500 mt-1",children:["Analytics for ",r.department]})]}),n.jsxs(X,{variant:"outline",onClick:()=>j("employees"),children:[n.jsx(Wt,{className:"w-4 h-4"}),"Export Data"]})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Gie.map(b=>n.jsxs("button",{onClick:()=>l(b.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${s===b.id?"bg-emerald-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[n.jsx(b.icon,{className:"w-4 h-4"}),b.label]},b.id))}),s==="overview"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:n.jsx(en,{className:"w-5 h-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.length}),n.jsx("p",{className:"text-xs text-gray-500",children:"Total Staff"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:n.jsx(Be,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.length>0?`${g[g.length-1].rate}%`:"N/A"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Attendance Rate"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-amber-100",children:n.jsx(Xe,{className:"w-5 h-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.pending}),n.jsx("p",{className:"text-xs text-gray-500",children:"Pending Leaves"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-purple-100",children:n.jsx(li,{className:"w-5 h-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.length}),n.jsx("p",{className:"text-xs text-gray-500",children:"Designations"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Staff by Designation",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(rr,{children:[n.jsx(Ba,{data:h,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:3,dataKey:"value",label:({name:b,percent:S})=>`${b} (${(S*100).toFixed(0)}%)`,children:h.map((b,S)=>n.jsx(An,{fill:sh[S%sh.length]},b.name))}),n.jsx(ut,{})]})})})}),n.jsx(K,{title:"Attendance Trend",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Iu,{data:g,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"month",tick:{fontSize:12}}),n.jsx(Jt,{tick:{fontSize:12},domain:[0,100],unit:"%"}),n.jsx(ut,{formatter:b=>[`${b}%`,"Rate"]}),n.jsx(Tc,{type:"monotone",dataKey:"rate",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981"}})]})})})})]})]}),s==="attendance"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(K,{title:"Monthly Attendance",subtitle:"Last 6 months",children:n.jsx("div",{className:"h-72",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Cr,{data:g,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"month",tick:{fontSize:12}}),n.jsx(Jt,{tick:{fontSize:12}}),n.jsx(ut,{}),n.jsx(er,{}),n.jsx(Qn,{dataKey:"present",fill:"#10b981",radius:[4,4,0,0],name:"Present"}),n.jsx(Qn,{dataKey:"absent",fill:"#ef4444",radius:[4,4,0,0],name:"Absent"})]})})})}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(X,{variant:"outline",onClick:()=>j("attendance"),children:[n.jsx(Wt,{className:"w-4 h-4"}),"Export Attendance"]})})]}),s==="leaves"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"glass p-6 rounded-xl text-center border-l-4 border-amber-500",children:[n.jsx("p",{className:"text-3xl font-bold text-amber-600",children:v.pending}),n.jsx("p",{className:"text-sm text-gray-500",children:"Pending"})]}),n.jsxs("div",{className:"glass p-6 rounded-xl text-center border-l-4 border-emerald-500",children:[n.jsx("p",{className:"text-3xl font-bold text-emerald-600",children:v.approved}),n.jsx("p",{className:"text-sm text-gray-500",children:"Approved"})]}),n.jsxs("div",{className:"glass p-6 rounded-xl text-center border-l-4 border-red-500",children:[n.jsx("p",{className:"text-3xl font-bold text-red-600",children:v.rejected}),n.jsx("p",{className:"text-sm text-gray-500",children:"Rejected"})]})]}),n.jsx(K,{title:"Leaves by Type",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(rr,{children:[n.jsx(Ba,{data:y,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:b,value:S})=>`${b}: ${S}`,children:y.map((b,S)=>n.jsx(An,{fill:sh[S%sh.length]},b.name))}),n.jsx(ut,{}),n.jsx(er,{})]})})})}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(X,{variant:"outline",onClick:()=>j("leaves"),children:[n.jsx(Wt,{className:"w-4 h-4"}),"Export Leaves"]})})]})]})}const Xie=[{id:"profile",label:"Profile",icon:Mr},{id:"notifications",label:"Notifications",icon:Zr},{id:"preferences",label:"Preferences",icon:_r}];function Qie(){const e=Qe(y=>y.user),[t,a]=x.useState("profile"),[r,s]=x.useState(!1),[l,c]=x.useState({name:e?.name||"",email:e?.email||"",phone:"+92-300-1234567",office:"Block B, Room 201"}),[d,m]=x.useState({emailAlerts:!0,leaveRequests:!0,attendanceAlerts:!0,weeklyReports:!1}),[f,h]=x.useState({defaultView:"dashboard",itemsPerPage:"10",dateFormat:"dd/MM/yyyy"}),g=()=>{s(!0),setTimeout(()=>s(!1),2e3)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your portal preferences"})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Xie.map(y=>n.jsxs("button",{onClick:()=>a(y.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${t===y.id?"bg-emerald-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[n.jsx(y.icon,{className:"w-4 h-4"}),y.label]},y.id))}),t==="profile"&&n.jsx(K,{title:"Profile Information",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-20 h-20 rounded-full bg-linear-to-br from-emerald-500 to-green-500 flex items-center justify-center text-white text-2xl font-bold",children:e?.name?.charAt(0)||"H"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?.name}),n.jsxs("p",{className:"text-gray-500",children:["HOD - ",e?.department]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{label:"Full Name",children:n.jsx("input",{type:"text",value:l.name,onChange:y=>c({...l,name:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})}),n.jsx(tt,{label:"Email",children:n.jsx("input",{type:"email",value:l.email,onChange:y=>c({...l,email:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})}),n.jsx(tt,{label:"Phone",children:n.jsx("input",{type:"text",value:l.phone,onChange:y=>c({...l,phone:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})}),n.jsx(tt,{label:"Office",children:n.jsx("input",{type:"text",value:l.office,onChange:y=>c({...l,office:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(X,{onClick:g,children:r?"Saved!":"Save Changes"})})]})}),t==="notifications"&&n.jsx(K,{title:"Notification Preferences",children:n.jsxs("div",{className:"space-y-4",children:[[{key:"emailAlerts",label:"Email Alerts",desc:"Receive important updates via email"},{key:"leaveRequests",label:"Leave Requests",desc:"Get notified for leave requests"},{key:"attendanceAlerts",label:"Attendance Alerts",desc:"Alerts for attendance issues"},{key:"weeklyReports",label:"Weekly Reports",desc:"Receive weekly summary"}].map(y=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-100",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:y.label}),n.jsx("p",{className:"text-sm text-gray-500",children:y.desc})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:d[y.key],onChange:v=>m({...d,[y.key]:v.target.checked}),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:ring-4 peer-focus:ring-emerald-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-600"})]})]},y.key)),n.jsx("div",{className:"flex justify-end pt-4",children:n.jsx(X,{onClick:g,children:r?"Saved!":"Save Preferences"})})]})}),t==="preferences"&&n.jsx(K,{title:"Portal Preferences",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{label:"Default View",children:n.jsxs("select",{value:f.defaultView,onChange:y=>h({...f,defaultView:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[n.jsx("option",{value:"dashboard",children:"Dashboard"}),n.jsx("option",{value:"employees",children:"Department Staff"}),n.jsx("option",{value:"attendance",children:"Attendance"}),n.jsx("option",{value:"leaves",children:"Leaves"})]})}),n.jsx(tt,{label:"Items Per Page",children:n.jsxs("select",{value:f.itemsPerPage,onChange:y=>h({...f,itemsPerPage:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[n.jsx("option",{value:"10",children:"10"}),n.jsx("option",{value:"25",children:"25"}),n.jsx("option",{value:"50",children:"50"})]})}),n.jsx(tt,{label:"Date Format",children:n.jsxs("select",{value:f.dateFormat,onChange:y=>h({...f,dateFormat:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[n.jsx("option",{value:"dd/MM/yyyy",children:"DD/MM/YYYY"}),n.jsx("option",{value:"MM/dd/yyyy",children:"MM/DD/YYYY"}),n.jsx("option",{value:"yyyy-MM-dd",children:"YYYY-MM-DD"})]})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(X,{onClick:g,children:r?"Saved!":"Save Preferences"})})]})})]})}function Jie(){const e=Qe(S=>S.user),{employees:t,leaves:a,attendance:r,updateLeaveStatus:s}=Ae(),[l,c]=x.useState(""),d=e?.department,m=x.useMemo(()=>t.filter(S=>!d||S.department===d),[t,d]),f=q(new Date,"yyyy-MM-dd"),h=x.useMemo(()=>r.filter(S=>S.date===f&&m.some(M=>M.id===S.employeeId)),[r,m,f]),y=x.useMemo(()=>a.filter(S=>m.some(M=>M.id===S.employeeId)),[a,m]).filter(S=>S.status==="Pending"||S.status==="Forwarded"),v={staff:m.length,pendingLeaves:y.length,present:h.filter(S=>S.status==="Present").length,late:h.filter(S=>S.status==="Late").length},j=(S,M)=>{s(S,M?"Approved":"Rejected","hod",e?.name||"HOD",l||""),c("")},b=S=>S==="Approved"?"success":S==="Rejected"?"error":S==="Forwarded"||S==="Pending"?"warning":"default";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Manager Self-Service"}),n.jsx("p",{className:"text-gray-600",children:"Department view, approvals, and attendance snapshot"})]}),n.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[{label:"Dept Staff",value:v.staff,icon:en,color:"indigo"},{label:"Pending Leaves",value:v.pendingLeaves,icon:Xe,color:"amber"},{label:"Present Today",value:v.present,icon:Le,color:"green"},{label:"Late Today",value:v.late,icon:Be,color:"rose"}].map(S=>n.jsx(K,{className:`border-${S.color}-100 bg-${S.color}-50`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm text-${S.color}-600`,children:S.label}),n.jsx("p",{className:`text-2xl font-bold text-${S.color}-800`,children:S.value})]}),n.jsx(S.icon,{className:`w-8 h-8 text-${S.color}-500`})]})},S.label))}),n.jsxs(K,{children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(za,{className:"w-5 h-5 text-gray-500"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"Pending Leave Approvals"})]})}),y.length===0?n.jsx("p",{className:"text-sm text-gray-500",children:"No pending leaves for your department."}):n.jsx("div",{className:"space-y-2 text-sm text-gray-800",children:y.map(S=>n.jsxs("div",{className:"border rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium capitalize",children:S.employeeName}),n.jsxs("p",{className:"text-xs text-gray-500",children:[S.type,"  ",S.startDate,"  ",S.endDate," (",S.days,"d)"]})]}),n.jsx(ge,{variant:b(S.status),children:S.status})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[n.jsx(X,{size:"sm",variant:"outline",onClick:()=>j(S.id,!0),children:"Approve"}),n.jsx(X,{size:"sm",variant:"outline",onClick:()=>j(S.id,!1),className:"text-red-600 border-red-200",children:"Reject"}),n.jsx("input",{className:"flex-1 min-w-[180px] rounded border px-3 py-1 text-xs",placeholder:"Notes (optional)",value:l,onChange:M=>c(M.target.value)})]})]},S.id))})]})]})}const ele={submitted:"info",returned:"warning","hod-confirmed":"primary","vc-approved":"success"};function tle(){const{user:e}=Qe(),t=Ae(M=>M.getPamsForHod),a=Ae(M=>M.hodReviewPams),r=Ae(M=>M.updatePamsSubmission),[s,l]=x.useState(null),[c,d]=x.useState(""),[m,f]=x.useState(""),[h,g]=x.useState(""),[y,v]=x.useState(null),j=x.useMemo(()=>e?.department?t(e.department):[],[t,e]);x.useEffect(()=>{v(s?{workload:{...s.workload},rubric:{...s.rubric},grievance:s.grievance||"",attachments:s.attachments||[]}:null)},[s]);const b=M=>{s&&(a(s.id,{action:M,comment:c,meetingDate:m,followUpDate:h,by:"hod"}),d(""),f(""),l(null),g(""))},S=()=>{!s||!y||(r(s.id,{workload:y.workload,rubric:y.rubric,grievance:y.grievance,attachments:(y.attachments||[]).map(M=>({id:M.id,name:M.name,size:M.size,type:M.type}))}),l(M=>M&&{...M,...y}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ii,{className:"w-6 h-6 text-gray-600"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"PAMS Reviews"}),n.jsx("p",{className:"text-gray-600",children:"Confirm after meeting or return to employee for changes."})]})]}),n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(us,{className:"w-5 h-5 text-gray-500"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"Pending submissions"})]}),j.length===0?n.jsx("p",{className:"text-sm text-gray-600",children:"No submitted forms for your department."}):n.jsx("div",{className:"space-y-3",children:j.map(M=>n.jsxs("button",{onClick:()=>l(M),className:`w-full text-left border rounded-lg p-3 hover:border-[hsl(var(--color-primary))] ${s?.id===M.id?"border-[hsl(var(--color-primary))] shadow-sm":""}`,children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:M.employeeName||M.employeeId}),n.jsx("p",{className:"text-xs text-gray-500",children:M.period}),M.followUpMeeting?.scheduledAt&&n.jsxs("p",{className:"text-[11px] text-gray-500",children:["Follow-up: ",M.followUpMeeting.scheduledAt," (",M.followUpMeeting.status||"pending",")"]})]}),n.jsx(ge,{variant:ele[M.status]||"secondary",children:M.status})]}),n.jsx("p",{className:"text-sm text-gray-700 mt-1 line-clamp-2",children:M.workload?.teachingLoad})]},M.id))})]}),s&&n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(oj,{className:"w-5 h-5 text-gray-500"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold text-gray-900",children:["Reviewing: ",s.employeeName||s.employeeId]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Period ",s.period]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsx(Ji,{label:"Teaching load",value:y?.workload?.teachingLoad||"",onChange:M=>v(N=>({...N,workload:{...N.workload,teachingLoad:M}}))}),n.jsx(Ji,{label:"Project supervision",value:y?.workload?.projectSupervision||"",onChange:M=>v(N=>({...N,workload:{...N.workload,projectSupervision:M}}))}),n.jsx(Ji,{label:"Advisory",value:y?.workload?.advisory||"",onChange:M=>v(N=>({...N,workload:{...N.workload,advisory:M}}))}),n.jsx(Ji,{label:"Administrative",value:y?.workload?.admin||"",onChange:M=>v(N=>({...N,workload:{...N.workload,admin:M}}))}),n.jsx(Ji,{label:"Teaching effectiveness",value:y?.rubric?.teaching||"",onChange:M=>v(N=>({...N,rubric:{...N.rubric,teaching:M}}))}),n.jsx(Ji,{label:"Research & funding",value:y?.rubric?.research||"",onChange:M=>v(N=>({...N,rubric:{...N.rubric,research:M}}))}),n.jsx(Ji,{label:"Service & community",value:y?.rubric?.service||"",onChange:M=>v(N=>({...N,rubric:{...N.rubric,service:M}}))}),n.jsx(Ji,{label:"Grievance/Suggestion",value:y?.grievance||"",onChange:M=>v(N=>({...N,grievance:M})),rows:3})]}),n.jsx("div",{className:"mt-4",children:n.jsx(cl,{label:"Attachments",value:y?.attachments||[],onChange:M=>v(N=>({...N,attachments:M})),helper:"Add or review workload forms, rubric files, evidence.",maxFiles:10,maxSizeMB:15})}),n.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Meeting date",n.jsx("input",{type:"date",className:"mt-1",value:m,onChange:M=>f(M.target.value)})]}),n.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Follow-up meeting",n.jsx("input",{type:"date",className:"mt-1",value:h,onChange:M=>g(M.target.value),placeholder:"Optional"})]}),n.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Comments / required changes",n.jsx("textarea",{rows:3,className:"mt-1",value:c,onChange:M=>d(M.target.value),placeholder:"Confirmation notes or change requests"})]})]}),s.followUpMeeting&&n.jsxs("div",{className:"mt-3 border rounded-lg p-3 bg-gray-50",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Department performance follow-up"}),n.jsxs("p",{className:"text-sm text-gray-700",children:["Scheduled: ",s.followUpMeeting.scheduledAt||"TBD","  Status:"," ",s.followUpMeeting.status||"pending"]}),s.followUpMeeting.topic&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s.followUpMeeting.topic})]}),n.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2 mt-4",children:[n.jsx(X,{variant:"secondary",onClick:()=>l(null),children:"Clear selection"}),n.jsx(X,{variant:"secondary",onClick:S,disabled:!y,className:"flex items-center gap-2",children:"Save edits"}),n.jsxs(X,{variant:"outline",onClick:()=>b("return"),className:"flex items-center gap-2",children:[n.jsx(ij,{className:"w-4 h-4"}),"Return to employee"]}),n.jsxs(X,{onClick:()=>b("confirm"),className:"flex items-center gap-2",children:[n.jsx(Le,{className:"w-4 h-4"}),"Confirm after meeting"]})]})]})]})}function Ji({label:e,value:t,onChange:a,rows:r=2}){return n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e,n.jsx("textarea",{rows:r,className:"mt-1",value:t,onChange:s=>a(s.target.value)})]})}function nle(){return n.jsx(gi,{children:n.jsxs(Se,{element:n.jsx(qie,{}),children:[n.jsx(Se,{index:!0,element:n.jsx(Hie,{})}),n.jsx(Se,{path:"employees",element:n.jsx(Vie,{})}),n.jsx(Se,{path:"attendance",element:n.jsx(Kie,{})}),n.jsx(Se,{path:"leaves",element:n.jsx(Yie,{})}),n.jsx(Se,{path:"self-service",element:n.jsx(Jie,{})}),n.jsx(Se,{path:"pams",element:n.jsx(tle,{})}),n.jsx(Se,{path:"reports",element:n.jsx(Zie,{})}),n.jsx(Se,{path:"settings",element:n.jsx(Qie,{})}),n.jsx(Se,{path:"*",element:n.jsx(hs,{to:".",replace:!0})})]})})}const ale=[{path:"/employee",label:"Dashboard",icon:zu,end:!0},{path:"/employee/attendance",label:"Attendance",icon:Be},{path:"/employee/leave",label:"Leave",icon:Xe},{path:"/employee/salary",label:"Salary",icon:tr},{path:"/employee/self-service",label:"Self-Service",icon:gs},{path:"/employee/pams",label:"PAMS",icon:ci},{path:"/employee/promotions",label:"Promotions",icon:xs},{path:"/employee/resignation",label:"Resignation",icon:wc},{path:"/employee/policy-advisory",label:"Policy Advisory",icon:ci},{path:"/employee/profile",label:"Profile",icon:Mr}];function rle(){return n.jsx(yi,{portalKey:"employee",portalName:"Employee Portal",navItems:ale})}function sle(){const e=Qe(D=>D.user),{employees:t,attendance:a,leaves:r,notifications:s}=Ae(),l=x.useMemo(()=>t.find(D=>D.id===e?.id||D.email===e?.email),[t,e]),c=l?.id||e?.id,d=x.useMemo(()=>a.filter(D=>D.employeeId===c),[a,c]),m=x.useMemo(()=>d.find(D=>D.date===q(new Date,"yyyy-MM-dd")),[d]),f=x.useMemo(()=>r.filter(D=>D.employeeId===c),[r,c]),h=x.useMemo(()=>{const D=Ta(new Date),k=La(new Date),_=d.filter(E=>{const P=ue(E.date);return ps(P,{start:D,end:k})});return{present:_.filter(E=>E.status==="Present").length,late:_.filter(E=>E.status==="Late").length,absent:_.filter(E=>E.status==="Absent").length,total:_.length}},[d]),g=f.filter(D=>D.status==="Pending").length,y=f.filter(D=>D.status==="Approved").length,v=l?.leaveBalance||{annual:0,sick:0,casual:0},j=v.annual+v.sick+v.casual,b=l?.salaryBase||0,S=h.late*500,M=h.absent*(b/22),N=b-S-M,A=x.useMemo(()=>s.filter(D=>D.userId===c||D.userId==="all").slice(0,5),[s,c]),O=D=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(D);return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-linear-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome back, ",l?.name?.split(" ")[0]||e?.name?.split(" ")[0],"! "]}),n.jsx("p",{className:"text-blue-100 mt-1",children:q(new Date,"EEEE, MMMM d, yyyy")})]}),n.jsx("div",{className:"flex items-center gap-3",children:m?n.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-lg px-4 py-2",children:[n.jsx("p",{className:"text-sm text-blue-100",children:"Clock In"}),n.jsx("p",{className:"font-semibold",children:m.clockIn||"--:--"})]}):n.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-lg px-4 py-2",children:[n.jsx("p",{className:"text-sm text-blue-100",children:"Today's Status"}),n.jsx("p",{className:"font-semibold",children:"Not Clocked In"})]})})]})}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx(St,{title:"Present Days",value:h.present,subtitle:`This month (${h.late} late)`,icon:Le,trend:h.present>15?"up":"down",trendValue:`${Math.round(h.present/22*100)}%`,color:"success"}),n.jsx(St,{title:"Leave Balance",value:j,subtitle:`${v.annual} annual, ${v.sick} sick`,icon:ht,color:"primary"}),n.jsx(St,{title:"Pending Requests",value:g,subtitle:`${y} approved this year`,icon:Be,color:g>0?"warning":"default"}),n.jsx(St,{title:"Est. Net Salary",value:O(N),subtitle:`Base: ${O(b)}`,icon:nr,trend:S>0?"down":"neutral",trendValue:S>0?`-${O(S+M)}`:"No deductions",color:"success"})]}),n.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[n.jsxs(K,{className:"lg:col-span-2",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"My Profile"}),n.jsxs(fn,{to:"/employee/profile",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:["View Full Profile ",n.jsx(lu,{className:"w-4 h-4"})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Employee Code"}),n.jsx("p",{className:"font-medium text-gray-900",children:l?.code||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Department"}),n.jsx("p",{className:"font-medium text-gray-900",children:l?.department||e?.department})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Designation"}),n.jsx("p",{className:"font-medium text-gray-900",children:l?.designation||e?.designation||"N/A"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Faculty"}),n.jsx("p",{className:"font-medium text-gray-900",children:l?.faculty||e?.faculty})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Join Date"}),n.jsx("p",{className:"font-medium text-gray-900",children:l?.joinDate||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Status"}),n.jsx(ge,{variant:l?.status==="Active"?"success":"warning",children:l?.status||"Active"})]})]})]})]}),n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Leave Balance"}),n.jsx(fn,{to:"/employee/leave",className:"text-sm text-blue-600 hover:text-blue-800",children:"Apply"})]}),n.jsx("div",{className:"space-y-3",children:Object.entries(v).map(([D,k])=>{const E=Ys.find(z=>z.id===D)?.defaultDays||20,P=Math.min(k/E*100,100);return n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"capitalize text-gray-600",children:D}),n.jsxs("span",{className:"font-medium",children:[k," days"]})]}),n.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full rounded-full transition-all ${P>50?"bg-green-500":P>20?"bg-yellow-500":"bg-red-500"}`,style:{width:`${P}%`}})})]},D)})})]})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Leave Requests"}),n.jsx(fn,{to:"/employee/leave",className:"text-sm text-blue-600 hover:text-blue-800",children:"View All"})]}),f.length===0?n.jsxs("div",{className:"text-center py-6 text-gray-500",children:[n.jsx(ht,{className:"w-10 h-10 mx-auto text-gray-300 mb-2"}),n.jsx("p",{className:"text-sm",children:"No leave requests yet"})]}):n.jsx("div",{className:"space-y-3",children:f.slice(0,4).map(D=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-900 capitalize",children:[D.type," Leave"]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[D.startDate,"  ",D.days," day",D.days>1?"s":""]})]}),n.jsx(ge,{variant:D.status==="Approved"?"success":D.status==="Pending"?"warning":"error",children:D.status})]},D.id))})]}),n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"}),n.jsxs("span",{className:"text-xs text-gray-500",children:[A.length," new"]})]}),A.length===0?n.jsxs("div",{className:"text-center py-6 text-gray-500",children:[n.jsx(Zr,{className:"w-10 h-10 mx-auto text-gray-300 mb-2"}),n.jsx("p",{className:"text-sm",children:"No notifications"})]}):n.jsx("div",{className:"space-y-3",children:A.map(D=>n.jsxs("div",{className:"flex gap-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:`shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${D.type==="success"?"bg-green-100 text-green-600":D.type==="warning"?"bg-yellow-100 text-yellow-600":D.type==="error"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:n.jsx(Zr,{className:"w-4 h-4"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:D.title}),n.jsx("p",{className:"text-xs text-gray-500 truncate",children:D.message})]})]},D.id))})]})]}),n.jsxs(K,{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[n.jsxs(fn,{to:"/employee/attendance",className:"flex flex-col items-center gap-2 p-4 rounded-lg bg-blue-50 hover:bg-blue-100 transition-colors",children:[n.jsx(Be,{className:"w-6 h-6 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-blue-900",children:"View Attendance"})]}),n.jsxs(fn,{to:"/employee/leave",className:"flex flex-col items-center gap-2 p-4 rounded-lg bg-green-50 hover:bg-green-100 transition-colors",children:[n.jsx(ht,{className:"w-6 h-6 text-green-600"}),n.jsx("span",{className:"text-sm font-medium text-green-900",children:"Apply Leave"})]}),n.jsxs(fn,{to:"/employee/salary",className:"flex flex-col items-center gap-2 p-4 rounded-lg bg-amber-50 hover:bg-amber-100 transition-colors",children:[n.jsx(nr,{className:"w-6 h-6 text-amber-600"}),n.jsx("span",{className:"text-sm font-medium text-amber-900",children:"View Salary"})]}),n.jsxs(fn,{to:"/employee/profile",className:"flex flex-col items-center gap-2 p-4 rounded-lg bg-purple-50 hover:bg-purple-100 transition-colors",children:[n.jsx(DD,{className:"w-6 h-6 text-purple-600"}),n.jsx("span",{className:"text-sm font-medium text-purple-900",children:"My Profile"})]})]})]})]})}function ile(e,t,a="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:a}).format(t).split(/\s/g).slice(2).join(" ")}const lle={},iu={};function Vl(e,t){try{const r=(lle[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return r in iu?iu[r]:uD(r,r.split(":"))}catch{if(e in iu)return iu[e];const a=e?.match(ole);return a?uD(e,a.slice(1)):NaN}}const ole=/([+-]\d\d):?(\d\d)?/;function uD(e,t){const a=+(t[0]||0),r=+(t[1]||0),s=+(t[2]||0)/60;return iu[e]=a*60+r>0?a*60+r+s:a*60-r-s}class ds extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Vl(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),N6(this),nj(this)):this.setTime(Date.now())}static tz(t,...a){return a.length?new ds(...a,t):new ds(Date.now(),t)}withTimeZone(t){return new ds(+this,t)}getTimezoneOffset(){const t=-Vl(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),nj(this),+this}[Symbol.for("constructDateFrom")](t){return new ds(+new Date(t),this.timeZone)}}const mD=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!mD.test(e))return;const t=e.replace(mD,"$1UTC");ds.prototype[t]&&(e.startsWith("get")?ds.prototype[e]=function(){return this.internal[t]()}:(ds.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),cle(this),+this},ds.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),nj(this),+this}))});function nj(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-Vl(e.timeZone,e)*60))}function cle(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),N6(e)}function N6(e){const t=Vl(e.timeZone,e),a=t>0?Math.floor(t):Math.ceil(t),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);const s=-new Date(+e).getTimezoneOffset(),l=-new Date(+r).getTimezoneOffset(),c=s-l,d=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();c&&d&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+c);const m=s-a;m&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+m);const f=new Date(+e);f.setUTCSeconds(0);const h=s>0?f.getSeconds():(f.getSeconds()-60)%60,g=Math.round(-(Vl(e.timeZone,e)*60))%60;(g||h)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+g),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+g+h));const y=Vl(e.timeZone,e),v=y>0?Math.floor(y):Math.ceil(y),b=-new Date(+e).getTimezoneOffset()-v,S=v!==a,M=b-m;if(S&&M){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+M);const N=Vl(e.timeZone,e),A=N>0?Math.floor(N):Math.ceil(N),O=v-A;O&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+O),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+O))}}class ei extends ds{static tz(t,...a){return a.length?new ei(...a,t):new ei(Date.now(),t)}toISOString(){const[t,a,r]=this.tzComponents(),s=`${t}${a}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,a,r,s]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${r} ${a} ${s}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[a,r,s]=this.tzComponents();return`${t} GMT${a}${r}${s} (${ile(this.timeZone,this)})`}toLocaleString(t,a){return Date.prototype.toLocaleString.call(this,t,{...a,timeZone:a?.timeZone||this.timeZone})}toLocaleDateString(t,a){return Date.prototype.toLocaleDateString.call(this,t,{...a,timeZone:a?.timeZone||this.timeZone})}toLocaleTimeString(t,a){return Date.prototype.toLocaleTimeString.call(this,t,{...a,timeZone:a?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),a=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),s=String(Math.abs(t)%60).padStart(2,"0");return[a,r,s]}withTimeZone(t){return new ei(+this,t)}[Symbol.for("constructDateFrom")](t){return new ei(+new Date(t),this.timeZone)}}const fD=5,dle=4;function ule(e,t){const a=t.startOfMonth(e),r=a.getDay()>0?a.getDay():7,s=t.addDays(e,-r+1),l=t.addDays(s,fD*7-1);return t.getMonth(e)===t.getMonth(l)?fD:dle}function S6(e,t){const a=t.startOfMonth(e),r=a.getDay();return r===1?a:r===0?t.addDays(a,-6):t.addDays(a,-1*(r-1))}function mle(e,t){const a=S6(e,t),r=ule(e,t);return t.addDays(a,r*7-1)}class ir{constructor(t,a){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?ei.tz(this.options.timeZone):new this.Date,this.newDate=(r,s,l)=>this.overrides?.newDate?this.overrides.newDate(r,s,l):this.options.timeZone?new ei(r,s,l,this.options.timeZone):new Date(r,s,l),this.addDays=(r,s)=>this.overrides?.addDays?this.overrides.addDays(r,s):os(r,s),this.addMonths=(r,s)=>this.overrides?.addMonths?this.overrides.addMonths(r,s):QT(r,s),this.addWeeks=(r,s)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,s):JT(r,s),this.addYears=(r,s)=>this.overrides?.addYears?this.overrides.addYears(r,s):eL(r,s),this.differenceInCalendarDays=(r,s)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,s):tL(r,s),this.differenceInCalendarMonths=(r,s)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,s):nL(r,s),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):aL(r),this.eachYearOfInterval=r=>{const s=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(r):rL(r),l=new Set(s.map(d=>this.getYear(d)));if(l.size===s.length)return s;const c=[];return l.forEach(d=>{c.push(new Date(d,0,1))}),c},this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):mle(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):sL(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):La(r),this.endOfWeek=(r,s)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,s):iL(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):lL(r),this.format=(r,s,l)=>{const c=this.overrides?.format?this.overrides.format(r,s,this.options):q(r,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):oL(r),this.getMonth=(r,s)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):cL(r,this.options),this.getYear=(r,s)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):dL(r,this.options),this.getWeek=(r,s)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):uL(r,this.options),this.isAfter=(r,s)=>this.overrides?.isAfter?this.overrides.isAfter(r,s):mL(r,s),this.isBefore=(r,s)=>this.overrides?.isBefore?this.overrides.isBefore(r,s):fL(r,s),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):hL(r),this.isSameDay=(r,s)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,s):pL(r,s),this.isSameMonth=(r,s)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,s):xL(r,s),this.isSameYear=(r,s)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,s):gL(r,s),this.max=r=>this.overrides?.max?this.overrides.max(r):yL(r),this.min=r=>this.overrides?.min?this.overrides.min(r):vL(r),this.setMonth=(r,s)=>this.overrides?.setMonth?this.overrides.setMonth(r,s):bL(r,s),this.setYear=(r,s)=>this.overrides?.setYear?this.overrides.setYear(r,s):jL(r,s),this.startOfBroadcastWeek=(r,s)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):S6(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):wL(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):NL(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):Ta(r),this.startOfWeek=(r,s)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):SL(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):AL(r),this.options={locale:SD,...t},this.overrides=a}getDigitMap(){const{numerals:t="latn"}=this.options,a=new Intl.NumberFormat("en-US",{numberingSystem:t}),r={};for(let s=0;s<10;s++)r[s.toString()]=a.format(s);return r}replaceDigits(t){const a=this.getDigitMap();return t.replace(/\d/g,r=>a[r]||r)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&ir.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:a,timeZone:r,numerals:s}=this.options,l=a?.code;if(l&&ir.yearFirstLocales.has(l))try{return new Intl.DateTimeFormat(l,{month:"long",year:"numeric",timeZone:r,numberingSystem:s}).format(t)}catch{}const c=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,c)}}ir.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const As=new ir;class A6{constructor(t,a,r=As){this.date=t,this.displayMonth=a,this.outside=!!(a&&!r.isSameMonth(t,a)),this.dateLib=r,this.isoDate=r.format(t,"yyyy-MM-dd"),this.displayMonthId=r.format(a,"yyyy-MM"),this.dateMonthId=r.format(t,"yyyy-MM")}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class fle{constructor(t,a){this.date=t,this.weeks=a}}class hle{constructor(t,a){this.days=a,this.weekNumber=t}}function ple(e){return De.createElement("button",{...e})}function xle(e){return De.createElement("span",{...e})}function gle(e){const{size:t=24,orientation:a="left",className:r}=e;return De.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},a==="up"&&De.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),a==="down"&&De.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),a==="left"&&De.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),a==="right"&&De.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function yle(e){const{day:t,modifiers:a,...r}=e;return De.createElement("td",{...r})}function vle(e){const{day:t,modifiers:a,...r}=e,s=De.useRef(null);return De.useEffect(()=>{a.focused&&s.current?.focus()},[a.focused]),De.createElement("button",{ref:s,...r})}var Ue;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(Ue||(Ue={}));var mn;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(mn||(mn={}));var Kr;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(Kr||(Kr={}));var Ga;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(Ga||(Ga={}));function ble(e){const{options:t,className:a,components:r,classNames:s,...l}=e,c=[s[Ue.Dropdown],a].join(" "),d=t?.find(({value:m})=>m===l.value);return De.createElement("span",{"data-disabled":l.disabled,className:s[Ue.DropdownRoot]},De.createElement(r.Select,{className:c,...l},t?.map(({value:m,label:f,disabled:h})=>De.createElement(r.Option,{key:m,value:m,disabled:h},f))),De.createElement("span",{className:s[Ue.CaptionLabel],"aria-hidden":!0},d?.label,De.createElement(r.Chevron,{orientation:"down",size:18,className:s[Ue.Chevron]})))}function jle(e){return De.createElement("div",{...e})}function wle(e){return De.createElement("div",{...e})}function Nle(e){const{calendarMonth:t,displayIndex:a,...r}=e;return De.createElement("div",{...r},e.children)}function Sle(e){const{calendarMonth:t,displayIndex:a,...r}=e;return De.createElement("div",{...r})}function Ale(e){return De.createElement("table",{...e})}function Cle(e){return De.createElement("div",{...e})}const C6=x.createContext(void 0);function vm(){const e=x.useContext(C6);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function Mle(e){const{components:t}=vm();return De.createElement(t.Dropdown,{...e})}function Dle(e){const{onPreviousClick:t,onNextClick:a,previousMonth:r,nextMonth:s,...l}=e,{components:c,classNames:d,labels:{labelPrevious:m,labelNext:f}}=vm(),h=x.useCallback(y=>{s&&a?.(y)},[s,a]),g=x.useCallback(y=>{r&&t?.(y)},[r,t]);return De.createElement("nav",{...l},De.createElement(c.PreviousMonthButton,{type:"button",className:d[Ue.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":m(r),onClick:g},De.createElement(c.Chevron,{disabled:r?void 0:!0,className:d[Ue.Chevron],orientation:"left"})),De.createElement(c.NextMonthButton,{type:"button",className:d[Ue.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":f(s),onClick:h},De.createElement(c.Chevron,{disabled:s?void 0:!0,orientation:"right",className:d[Ue.Chevron]})))}function Ole(e){const{components:t}=vm();return De.createElement(t.Button,{...e})}function Ele(e){return De.createElement("option",{...e})}function kle(e){const{components:t}=vm();return De.createElement(t.Button,{...e})}function Ple(e){const{rootRef:t,...a}=e;return De.createElement("div",{...a,ref:t})}function Rle(e){return De.createElement("select",{...e})}function _le(e){const{week:t,...a}=e;return De.createElement("tr",{...a})}function Tle(e){return De.createElement("th",{...e})}function Lle(e){return De.createElement("thead",{"aria-hidden":!0},De.createElement("tr",{...e}))}function Ile(e){const{week:t,...a}=e;return De.createElement("th",{...a})}function zle(e){return De.createElement("th",{...e})}function $le(e){return De.createElement("tbody",{...e})}function Ble(e){const{components:t}=vm();return De.createElement(t.Dropdown,{...e})}const Fle=Object.freeze(Object.defineProperty({__proto__:null,Button:ple,CaptionLabel:xle,Chevron:gle,Day:yle,DayButton:vle,Dropdown:ble,DropdownNav:jle,Footer:wle,Month:Nle,MonthCaption:Sle,MonthGrid:Ale,Months:Cle,MonthsDropdown:Mle,Nav:Dle,NextMonthButton:Ole,Option:Ele,PreviousMonthButton:kle,Root:Ple,Select:Rle,Week:_le,WeekNumber:Ile,WeekNumberHeader:zle,Weekday:Tle,Weekdays:Lle,Weeks:$le,YearsDropdown:Ble},Symbol.toStringTag,{value:"Module"}));function ti(e,t,a=!1,r=As){let{from:s,to:l}=e;const{differenceInCalendarDays:c,isSameDay:d}=r;return s&&l?(c(l,s)<0&&([s,l]=[l,s]),c(t,s)>=(a?1:0)&&c(l,t)>=(a?1:0)):!a&&l?d(l,t):!a&&s?d(s,t):!1}function Mw(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function bx(e){return!!(e&&typeof e=="object"&&"from"in e)}function Dw(e){return!!(e&&typeof e=="object"&&"after"in e)}function Ow(e){return!!(e&&typeof e=="object"&&"before"in e)}function M6(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function D6(e,t){return Array.isArray(e)&&e.every(t.isDate)}function ni(e,t,a=As){const r=Array.isArray(t)?t:[t],{isSameDay:s,differenceInCalendarDays:l,isAfter:c}=a;return r.some(d=>{if(typeof d=="boolean")return d;if(a.isDate(d))return s(e,d);if(D6(d,a))return d.includes(e);if(bx(d))return ti(d,e,!1,a);if(M6(d))return Array.isArray(d.dayOfWeek)?d.dayOfWeek.includes(e.getDay()):d.dayOfWeek===e.getDay();if(Mw(d)){const m=l(d.before,e),f=l(d.after,e),h=m>0,g=f<0;return c(d.before,d.after)?g&&h:h||g}return Dw(d)?l(e,d.after)>0:Ow(d)?l(d.before,e)>0:typeof d=="function"?d(e):!1})}function Ule(e,t,a,r,s){const{disabled:l,hidden:c,modifiers:d,showOutsideDays:m,broadcastCalendar:f,today:h=s.today()}=t,{isSameDay:g,isSameMonth:y,startOfMonth:v,isBefore:j,endOfMonth:b,isAfter:S}=s,M=a&&v(a),N=r&&b(r),A={[mn.focused]:[],[mn.outside]:[],[mn.disabled]:[],[mn.hidden]:[],[mn.today]:[]},O={};for(const D of e){const{date:k,displayMonth:_}=D,E=!!(_&&!y(k,_)),P=!!(M&&j(k,M)),z=!!(N&&S(k,N)),L=!!(l&&ni(k,l,s)),I=!!(c&&ni(k,c,s))||P||z||!f&&!m&&E||f&&m===!1&&E,J=g(k,h);E&&A.outside.push(D),L&&A.disabled.push(D),I&&A.hidden.push(D),J&&A.today.push(D),d&&Object.keys(d).forEach(T=>{const Y=d?.[T];Y&&ni(k,Y,s)&&(O[T]?O[T].push(D):O[T]=[D])})}return D=>{const k={[mn.focused]:!1,[mn.disabled]:!1,[mn.hidden]:!1,[mn.outside]:!1,[mn.today]:!1},_={};for(const E in A){const P=A[E];k[E]=P.some(z=>z===D)}for(const E in O)_[E]=O[E].some(P=>P===D);return{...k,..._}}}function qle(e,t,a={}){return Object.entries(e).filter(([,s])=>s===!0).reduce((s,[l])=>(a[l]?s.push(a[l]):t[mn[l]]?s.push(t[mn[l]]):t[Kr[l]]&&s.push(t[Kr[l]]),s),[t[Ue.Day]])}function Hle(e){return{...Fle,...e}}function Vle(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([a,r])=>{a.startsWith("data-")&&(t[a]=r)}),t}function Kle(){const e={};for(const t in Ue)e[Ue[t]]=`rdp-${Ue[t]}`;for(const t in mn)e[mn[t]]=`rdp-${mn[t]}`;for(const t in Kr)e[Kr[t]]=`rdp-${Kr[t]}`;for(const t in Ga)e[Ga[t]]=`rdp-${Ga[t]}`;return e}function O6(e,t,a){return(a??new ir(t)).formatMonthYear(e)}const Wle=O6;function Yle(e,t,a){return(a??new ir(t)).format(e,"d")}function Gle(e,t=As){return t.format(e,"LLLL")}function Zle(e,t,a){return(a??new ir(t)).format(e,"cccccc")}function Xle(e,t=As){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function Qle(){return""}function E6(e,t=As){return t.format(e,"yyyy")}const Jle=E6,eoe=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:O6,formatDay:Yle,formatMonthCaption:Wle,formatMonthDropdown:Gle,formatWeekNumber:Xle,formatWeekNumberHeader:Qle,formatWeekdayName:Zle,formatYearCaption:Jle,formatYearDropdown:E6},Symbol.toStringTag,{value:"Module"}));function toe(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...eoe,...e}}function noe(e,t,a,r,s){const{startOfMonth:l,startOfYear:c,endOfYear:d,eachMonthOfInterval:m,getMonth:f}=s;return m({start:c(e),end:d(e)}).map(y=>{const v=r.formatMonthDropdown(y,s),j=f(y),b=t&&y<l(t)||a&&y>l(a)||!1;return{value:j,label:v,disabled:b}})}function aoe(e,t={},a={}){let r={...t?.[Ue.Day]};return Object.entries(e).filter(([,s])=>s===!0).forEach(([s])=>{r={...r,...a?.[s]}}),r}function roe(e,t,a,r){const s=r??e.today(),l=a?e.startOfBroadcastWeek(s,e):t?e.startOfISOWeek(s):e.startOfWeek(s),c=[];for(let d=0;d<7;d++){const m=e.addDays(l,d);c.push(m)}return c}function soe(e,t,a,r,s=!1){if(!e||!t)return;const{startOfYear:l,endOfYear:c,eachYearOfInterval:d,getYear:m}=r,f=l(e),h=c(t),g=d({start:f,end:h});return s&&g.reverse(),g.map(y=>{const v=a.formatYearDropdown(y,r);return{value:m(y),label:v,disabled:!1}})}function k6(e,t,a,r){let s=(r??new ir(a)).format(e,"PPPP");return t.today&&(s=`Today, ${s}`),t.selected&&(s=`${s}, selected`),s}const ioe=k6;function P6(e,t,a){return(a??new ir(t)).formatMonthYear(e)}const loe=P6;function ooe(e,t,a,r){let s=(r??new ir(a)).format(e,"PPPP");return t?.today&&(s=`Today, ${s}`),s}function coe(e){return"Choose the Month"}function doe(){return""}function uoe(e){return"Go to the Next Month"}function moe(e){return"Go to the Previous Month"}function foe(e,t,a){return(a??new ir(t)).format(e,"cccc")}function hoe(e,t){return`Week ${e}`}function poe(e){return"Week Number"}function xoe(e){return"Choose the Year"}const goe=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:loe,labelDay:ioe,labelDayButton:k6,labelGrid:P6,labelGridcell:ooe,labelMonthDropdown:coe,labelNav:doe,labelNext:uoe,labelPrevious:moe,labelWeekNumber:hoe,labelWeekNumberHeader:poe,labelWeekday:foe,labelYearDropdown:xoe},Symbol.toStringTag,{value:"Module"})),bm=e=>e instanceof HTMLElement?e:null,Tv=e=>[...e.querySelectorAll("[data-animated-month]")??[]],yoe=e=>bm(e.querySelector("[data-animated-month]")),Lv=e=>bm(e.querySelector("[data-animated-caption]")),Iv=e=>bm(e.querySelector("[data-animated-weeks]")),voe=e=>bm(e.querySelector("[data-animated-nav]")),boe=e=>bm(e.querySelector("[data-animated-weekdays]"));function joe(e,t,{classNames:a,months:r,focused:s,dateLib:l}){const c=x.useRef(null),d=x.useRef(r),m=x.useRef(!1);x.useLayoutEffect(()=>{const f=d.current;if(d.current=r,!t||!e.current||!(e.current instanceof HTMLElement)||r.length===0||f.length===0||r.length!==f.length)return;const h=l.isSameMonth(r[0].date,f[0].date),g=l.isAfter(r[0].date,f[0].date),y=g?a[Ga.caption_after_enter]:a[Ga.caption_before_enter],v=g?a[Ga.weeks_after_enter]:a[Ga.weeks_before_enter],j=c.current,b=e.current.cloneNode(!0);if(b instanceof HTMLElement?(Tv(b).forEach(A=>{if(!(A instanceof HTMLElement))return;const O=yoe(A);O&&A.contains(O)&&A.removeChild(O);const D=Lv(A);D&&D.classList.remove(y);const k=Iv(A);k&&k.classList.remove(v)}),c.current=b):c.current=null,m.current||h||s)return;const S=j instanceof HTMLElement?Tv(j):[],M=Tv(e.current);if(M?.every(N=>N instanceof HTMLElement)&&S&&S.every(N=>N instanceof HTMLElement)){m.current=!0,e.current.style.isolation="isolate";const N=voe(e.current);N&&(N.style.zIndex="1"),M.forEach((A,O)=>{const D=S[O];if(!D)return;A.style.position="relative",A.style.overflow="hidden";const k=Lv(A);k&&k.classList.add(y);const _=Iv(A);_&&_.classList.add(v);const E=()=>{m.current=!1,e.current&&(e.current.style.isolation=""),N&&(N.style.zIndex=""),k&&k.classList.remove(y),_&&_.classList.remove(v),A.style.position="",A.style.overflow="",A.contains(D)&&A.removeChild(D)};D.style.pointerEvents="none",D.style.position="absolute",D.style.overflow="hidden",D.setAttribute("aria-hidden","true");const P=boe(D);P&&(P.style.opacity="0");const z=Lv(D);z&&(z.classList.add(g?a[Ga.caption_before_exit]:a[Ga.caption_after_exit]),z.addEventListener("animationend",E));const L=Iv(D);L&&L.classList.add(g?a[Ga.weeks_before_exit]:a[Ga.weeks_after_exit]),A.insertBefore(D,A.firstChild)})}})}function woe(e,t,a,r){const s=e[0],l=e[e.length-1],{ISOWeek:c,fixedWeeks:d,broadcastCalendar:m}=a??{},{addDays:f,differenceInCalendarDays:h,differenceInCalendarMonths:g,endOfBroadcastWeek:y,endOfISOWeek:v,endOfMonth:j,endOfWeek:b,isAfter:S,startOfBroadcastWeek:M,startOfISOWeek:N,startOfWeek:A}=r,O=m?M(s,r):c?N(s):A(s),D=m?y(l):c?v(j(l)):b(j(l)),k=h(D,O),_=g(l,s)+1,E=[];for(let L=0;L<=k;L++){const I=f(O,L);if(t&&S(I,t))break;E.push(I)}const z=(m?35:42)*_;if(d&&E.length<z){const L=z-E.length;for(let I=0;I<L;I++){const J=f(E[E.length-1],1);E.push(J)}}return E}function Noe(e){const t=[];return e.reduce((a,r)=>{const s=r.weeks.reduce((l,c)=>l.concat(c.days.slice()),t.slice());return a.concat(s.slice())},t.slice())}function Soe(e,t,a,r){const{numberOfMonths:s=1}=a,l=[];for(let c=0;c<s;c++){const d=r.addMonths(e,c);if(t&&d>t)break;l.push(d)}return l}function hD(e,t,a,r){const{month:s,defaultMonth:l,today:c=r.today(),numberOfMonths:d=1}=e;let m=s||l||c;const{differenceInCalendarMonths:f,addMonths:h,startOfMonth:g}=r;if(a&&f(a,m)<d-1){const y=-1*(d-1);m=h(a,y)}return t&&f(m,t)<0&&(m=t),g(m)}function Aoe(e,t,a,r){const{addDays:s,endOfBroadcastWeek:l,endOfISOWeek:c,endOfMonth:d,endOfWeek:m,getISOWeek:f,getWeek:h,startOfBroadcastWeek:g,startOfISOWeek:y,startOfWeek:v}=r,j=e.reduce((b,S)=>{const M=a.broadcastCalendar?g(S,r):a.ISOWeek?y(S):v(S),N=a.broadcastCalendar?l(S):a.ISOWeek?c(d(S)):m(d(S)),A=t.filter(_=>_>=M&&_<=N),O=a.broadcastCalendar?35:42;if(a.fixedWeeks&&A.length<O){const _=t.filter(E=>{const P=O-A.length;return E>N&&E<=s(N,P)});A.push(..._)}const D=A.reduce((_,E)=>{const P=a.ISOWeek?f(E):h(E),z=_.find(I=>I.weekNumber===P),L=new A6(E,S,r);return z?z.days.push(L):_.push(new hle(P,[L])),_},[]),k=new fle(S,D);return b.push(k),b},[]);return a.reverseMonths?j.reverse():j}function Coe(e,t){let{startMonth:a,endMonth:r}=e;const{startOfYear:s,startOfDay:l,startOfMonth:c,endOfMonth:d,addYears:m,endOfYear:f,newDate:h,today:g}=t,{fromYear:y,toYear:v,fromMonth:j,toMonth:b}=e;!a&&j&&(a=j),!a&&y&&(a=t.newDate(y,0,1)),!r&&b&&(r=b),!r&&v&&(r=h(v,11,31));const S=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return a?a=c(a):y?a=h(y,0,1):!a&&S&&(a=s(m(e.today??g(),-100))),r?r=d(r):v?r=h(v,11,31):!r&&S&&(r=f(e.today??g())),[a&&l(a),r&&l(r)]}function Moe(e,t,a,r){if(a.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:l=1}=a,{startOfMonth:c,addMonths:d,differenceInCalendarMonths:m}=r,f=s?l:1,h=c(e);if(!t)return d(h,f);if(!(m(t,e)<l))return d(h,f)}function Doe(e,t,a,r){if(a.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:l}=a,{startOfMonth:c,addMonths:d,differenceInCalendarMonths:m}=r,f=s?l??1:1,h=c(e);if(!t)return d(h,-f);if(!(m(h,t)<=0))return d(h,-f)}function Ooe(e){const t=[];return e.reduce((a,r)=>a.concat(r.weeks.slice()),t.slice())}function jx(e,t){const[a,r]=x.useState(e);return[t===void 0?a:t,r]}function Eoe(e,t){const[a,r]=Coe(e,t),{startOfMonth:s,endOfMonth:l}=t,c=hD(e,a,r,t),[d,m]=jx(c,e.month?c:void 0);x.useEffect(()=>{const O=hD(e,a,r,t);m(O)},[e.timeZone]);const{months:f,weeks:h,days:g,previousMonth:y,nextMonth:v}=x.useMemo(()=>{const O=Soe(d,r,{numberOfMonths:e.numberOfMonths},t),D=woe(O,e.endMonth?l(e.endMonth):void 0,{ISOWeek:e.ISOWeek,fixedWeeks:e.fixedWeeks,broadcastCalendar:e.broadcastCalendar},t),k=Aoe(O,D,{broadcastCalendar:e.broadcastCalendar,fixedWeeks:e.fixedWeeks,ISOWeek:e.ISOWeek,reverseMonths:e.reverseMonths},t),_=Ooe(k),E=Noe(k),P=Doe(d,a,e,t),z=Moe(d,r,e,t);return{months:k,weeks:_,days:E,previousMonth:P,nextMonth:z}},[t,d.getTime(),r?.getTime(),a?.getTime(),e.disableNavigation,e.broadcastCalendar,e.endMonth?.getTime(),e.fixedWeeks,e.ISOWeek,e.numberOfMonths,e.pagedNavigation,e.reverseMonths]),{disableNavigation:j,onMonthChange:b}=e,S=O=>h.some(D=>D.days.some(k=>k.isEqualTo(O))),M=O=>{if(j)return;let D=s(O);a&&D<s(a)&&(D=s(a)),r&&D>s(r)&&(D=s(r)),m(D),b?.(D)};return{months:f,weeks:h,days:g,navStart:a,navEnd:r,previousMonth:y,nextMonth:v,goToMonth:M,goToDay:O=>{S(O)||M(O.date)}}}var as;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(as||(as={}));function pD(e){return!e[mn.disabled]&&!e[mn.hidden]&&!e[mn.outside]}function koe(e,t,a,r){let s,l=-1;for(const c of e){const d=t(c);pD(d)&&(d[mn.focused]&&l<as.FocusedModifier?(s=c,l=as.FocusedModifier):r?.isEqualTo(c)&&l<as.LastFocused?(s=c,l=as.LastFocused):a(c.date)&&l<as.Selected?(s=c,l=as.Selected):d[mn.today]&&l<as.Today&&(s=c,l=as.Today))}return s||(s=e.find(c=>pD(t(c)))),s}function Poe(e,t,a,r,s,l,c){const{ISOWeek:d,broadcastCalendar:m}=l,{addDays:f,addMonths:h,addWeeks:g,addYears:y,endOfBroadcastWeek:v,endOfISOWeek:j,endOfWeek:b,max:S,min:M,startOfBroadcastWeek:N,startOfISOWeek:A,startOfWeek:O}=c;let k={day:f,week:g,month:h,year:y,startOfWeek:_=>m?N(_,c):d?A(_):O(_),endOfWeek:_=>m?v(_):d?j(_):b(_)}[e](a,t==="after"?1:-1);return t==="before"&&r?k=S([r,k]):t==="after"&&s&&(k=M([s,k])),k}function R6(e,t,a,r,s,l,c,d=0){if(d>365)return;const m=Poe(e,t,a.date,r,s,l,c),f=!!(l.disabled&&ni(m,l.disabled,c)),h=!!(l.hidden&&ni(m,l.hidden,c)),g=m,y=new A6(m,g,c);return!f&&!h?y:R6(e,t,y,r,s,l,c,d+1)}function Roe(e,t,a,r,s){const{autoFocus:l}=e,[c,d]=x.useState(),m=koe(t.days,a,r||(()=>!1),c),[f,h]=x.useState(l?m:void 0);return{isFocusTarget:b=>!!m?.isEqualTo(b),setFocused:h,focused:f,blur:()=>{d(f),h(void 0)},moveFocus:(b,S)=>{if(!f)return;const M=R6(b,S,f,t.navStart,t.navEnd,e,s);M&&(e.disableNavigation&&!t.days.some(A=>A.isEqualTo(M))||(t.goToDay(M),h(M)))}}}function _oe(e,t){const{selected:a,required:r,onSelect:s}=e,[l,c]=jx(a,s?a:void 0),d=s?a:l,{isSameDay:m}=t,f=v=>d?.some(j=>m(j,v))??!1,{min:h,max:g}=e;return{selected:d,select:(v,j,b)=>{let S=[...d??[]];if(f(v)){if(d?.length===h||r&&d?.length===1)return;S=d?.filter(M=>!m(M,v))}else d?.length===g?S=[v]:S=[...S,v];return s||c(S),s?.(S,v,j,b),S},isSelected:f}}function Toe(e,t,a=0,r=0,s=!1,l=As){const{from:c,to:d}=t||{},{isSameDay:m,isAfter:f,isBefore:h}=l;let g;if(!c&&!d)g={from:e,to:a>0?void 0:e};else if(c&&!d)m(c,e)?a===0?g={from:c,to:e}:s?g={from:c,to:void 0}:g=void 0:h(e,c)?g={from:e,to:c}:g={from:c,to:e};else if(c&&d)if(m(c,e)&&m(d,e))s?g={from:c,to:d}:g=void 0;else if(m(c,e))g={from:c,to:a>0?void 0:e};else if(m(d,e))g={from:e,to:a>0?void 0:e};else if(h(e,c))g={from:e,to:d};else if(f(e,c))g={from:c,to:e};else if(f(e,d))g={from:c,to:e};else throw new Error("Invalid range");if(g?.from&&g?.to){const y=l.differenceInCalendarDays(g.to,g.from);r>0&&y>r?g={from:e,to:void 0}:a>1&&y<a&&(g={from:e,to:void 0})}return g}function Loe(e,t,a=As){const r=Array.isArray(t)?t:[t];let s=e.from;const l=a.differenceInCalendarDays(e.to,e.from),c=Math.min(l,6);for(let d=0;d<=c;d++){if(r.includes(s.getDay()))return!0;s=a.addDays(s,1)}return!1}function xD(e,t,a=As){return ti(e,t.from,!1,a)||ti(e,t.to,!1,a)||ti(t,e.from,!1,a)||ti(t,e.to,!1,a)}function Ioe(e,t,a=As){const r=Array.isArray(t)?t:[t];if(r.filter(d=>typeof d!="function").some(d=>typeof d=="boolean"?d:a.isDate(d)?ti(e,d,!1,a):D6(d,a)?d.some(m=>ti(e,m,!1,a)):bx(d)?d.from&&d.to?xD(e,{from:d.from,to:d.to},a):!1:M6(d)?Loe(e,d.dayOfWeek,a):Mw(d)?a.isAfter(d.before,d.after)?xD(e,{from:a.addDays(d.after,1),to:a.addDays(d.before,-1)},a):ni(e.from,d,a)||ni(e.to,d,a):Dw(d)||Ow(d)?ni(e.from,d,a)||ni(e.to,d,a):!1))return!0;const c=r.filter(d=>typeof d=="function");if(c.length){let d=e.from;const m=a.differenceInCalendarDays(e.to,e.from);for(let f=0;f<=m;f++){if(c.some(h=>h(d)))return!0;d=a.addDays(d,1)}}return!1}function zoe(e,t){const{disabled:a,excludeDisabled:r,selected:s,required:l,onSelect:c}=e,[d,m]=jx(s,c?s:void 0),f=c?s:d;return{selected:f,select:(y,v,j)=>{const{min:b,max:S}=e,M=y?Toe(y,f,b,S,l,t):void 0;return r&&a&&M?.from&&M.to&&Ioe({from:M.from,to:M.to},a,t)&&(M.from=y,M.to=void 0),c||m(M),c?.(M,y,v,j),M},isSelected:y=>f&&ti(f,y,!1,t)}}function $oe(e,t){const{selected:a,required:r,onSelect:s}=e,[l,c]=jx(a,s?a:void 0),d=s?a:l,{isSameDay:m}=t;return{selected:d,select:(g,y,v)=>{let j=g;return!r&&d&&d&&m(g,d)&&(j=void 0),s||c(j),s?.(j,g,y,v),j},isSelected:g=>d?m(d,g):!1}}function Boe(e,t){const a=$oe(e,t),r=_oe(e,t),s=zoe(e,t);switch(e.mode){case"single":return a;case"multiple":return r;case"range":return s;default:return}}function oa(e,t){return e instanceof ei&&e.timeZone===t?e:new ei(e,t)}function gD(e,t){return typeof e=="boolean"||typeof e=="function"?e:e instanceof Date?oa(e,t):Array.isArray(e)?e.map(a=>a instanceof Date?oa(a,t):a):bx(e)?{...e,from:e.from?oa(e.from,t):e.from,to:e.to?oa(e.to,t):e.to}:Mw(e)?{before:oa(e.before,t),after:oa(e.after,t)}:Dw(e)?{after:oa(e.after,t)}:Ow(e)?{before:oa(e.before,t)}:e}function zv(e,t){return e&&(Array.isArray(e)?e.map(a=>gD(a,t)):gD(e,t))}function Foe(e){let t=e;const a=t.timeZone;if(a&&(t={...e,timeZone:a},t.today&&(t.today=oa(t.today,a)),t.month&&(t.month=oa(t.month,a)),t.defaultMonth&&(t.defaultMonth=oa(t.defaultMonth,a)),t.startMonth&&(t.startMonth=oa(t.startMonth,a)),t.endMonth&&(t.endMonth=oa(t.endMonth,a)),t.mode==="single"&&t.selected?t.selected=oa(t.selected,a):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(st=>oa(st,a)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?oa(t.selected.from,a):t.selected.from,to:t.selected.to?oa(t.selected.to,a):t.selected.to}),t.disabled!==void 0&&(t.disabled=zv(t.disabled,a)),t.hidden!==void 0&&(t.hidden=zv(t.hidden,a)),t.modifiers)){const st={};Object.keys(t.modifiers).forEach(Mt=>{st[Mt]=zv(t.modifiers?.[Mt],a)}),t.modifiers=st}const{components:r,formatters:s,labels:l,dateLib:c,locale:d,classNames:m}=x.useMemo(()=>{const st={...SD,...t.locale};return{dateLib:new ir({locale:st,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:Hle(t.components),formatters:toe(t.formatters),labels:{...goe,...t.labels},locale:st,classNames:{...Kle(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]);t.today||(t={...t,today:c.today()});const{captionLayout:f,mode:h,navLayout:g,numberOfMonths:y=1,onDayBlur:v,onDayClick:j,onDayFocus:b,onDayKeyDown:S,onDayMouseEnter:M,onDayMouseLeave:N,onNextClick:A,onPrevClick:O,showWeekNumber:D,styles:k}=t,{formatCaption:_,formatDay:E,formatMonthDropdown:P,formatWeekNumber:z,formatWeekNumberHeader:L,formatWeekdayName:I,formatYearDropdown:J}=s,T=Eoe(t,c),{days:Y,months:V,navStart:B,navEnd:U,previousMonth:F,nextMonth:W,goToMonth:ne}=T,je=Ule(Y,t,B,U,c),{isSelected:H,select:fe,selected:we}=Boe(t,c)??{},{blur:se,focused:ee,isFocusTarget:ie,moveFocus:ae,setFocused:Me}=Roe(t,T,je,H??(()=>!1),c),{labelDayButton:Ce,labelGridcell:xe,labelGrid:lt,labelMonthDropdown:Re,labelNav:Ke,labelPrevious:Fe,labelNext:tn,labelWeekday:Ge,labelWeekNumber:Ct,labelWeekNumberHeader:Z,labelYearDropdown:le}=l,he=x.useMemo(()=>roe(c,t.ISOWeek,t.broadcastCalendar,t.today),[c,t.ISOWeek,t.broadcastCalendar,t.today]),Ee=h!==void 0||j!==void 0,be=x.useCallback(()=>{F&&(ne(F),O?.(F))},[F,ne,O]),Ne=x.useCallback(()=>{W&&(ne(W),A?.(W))},[ne,W,A]),ke=x.useCallback((st,Mt)=>Je=>{Je.preventDefault(),Je.stopPropagation(),Me(st),fe?.(st.date,Mt,Je),j?.(st.date,Mt,Je)},[fe,j,Me]),Ze=x.useCallback((st,Mt)=>Je=>{Me(st),b?.(st.date,Mt,Je)},[b,Me]),rt=x.useCallback((st,Mt)=>Je=>{se(),v?.(st.date,Mt,Je)},[se,v]),Mn=x.useCallback((st,Mt)=>Je=>{const wt={ArrowLeft:[Je.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[Je.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[Je.shiftKey?"year":"week","after"],ArrowUp:[Je.shiftKey?"year":"week","before"],PageUp:[Je.shiftKey?"year":"month","before"],PageDown:[Je.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(wt[Je.key]){Je.preventDefault(),Je.stopPropagation();const[Vn,mt]=wt[Je.key];ae(Vn,mt)}S?.(st.date,Mt,Je)},[ae,S,t.dir]),or=x.useCallback((st,Mt)=>Je=>{M?.(st.date,Mt,Je)},[M]),zn=x.useCallback((st,Mt)=>Je=>{N?.(st.date,Mt,Je)},[N]),ua=x.useCallback(st=>Mt=>{const Je=Number(Mt.target.value),wt=c.setMonth(c.startOfMonth(st),Je);ne(wt)},[c,ne]),ta=x.useCallback(st=>Mt=>{const Je=Number(Mt.target.value),wt=c.setYear(c.startOfMonth(st),Je);ne(wt)},[c,ne]),{className:pn,style:cr}=x.useMemo(()=>({className:[m[Ue.Root],t.className].filter(Boolean).join(" "),style:{...k?.[Ue.Root],...t.style}}),[m,t.className,t.style,k]),Hn=Vle(t),jo=x.useRef(null);joe(jo,!!t.animate,{classNames:m,months:V,focused:ee,dateLib:c});const wo={dayPickerProps:t,selected:we,select:fe,isSelected:H,months:V,nextMonth:W,previousMonth:F,goToMonth:ne,getModifiers:je,components:r,classNames:m,styles:k,labels:l,formatters:s};return De.createElement(C6.Provider,{value:wo},De.createElement(r.Root,{rootRef:t.animate?jo:void 0,className:pn,style:cr,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...Hn},De.createElement(r.Months,{className:m[Ue.Months],style:k?.[Ue.Months]},!t.hideNavigation&&!g&&De.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:m[Ue.Nav],style:k?.[Ue.Nav],"aria-label":Ke(),onPreviousClick:be,onNextClick:Ne,previousMonth:F,nextMonth:W}),V.map((st,Mt)=>De.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:m[Ue.Month],style:k?.[Ue.Month],key:Mt,displayIndex:Mt,calendarMonth:st},g==="around"&&!t.hideNavigation&&Mt===0&&De.createElement(r.PreviousMonthButton,{type:"button",className:m[Ue.PreviousMonthButton],tabIndex:F?void 0:-1,"aria-disabled":F?void 0:!0,"aria-label":Fe(F),onClick:be,"data-animated-button":t.animate?"true":void 0},De.createElement(r.Chevron,{disabled:F?void 0:!0,className:m[Ue.Chevron],orientation:t.dir==="rtl"?"right":"left"})),De.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:m[Ue.MonthCaption],style:k?.[Ue.MonthCaption],calendarMonth:st,displayIndex:Mt},f?.startsWith("dropdown")?De.createElement(r.DropdownNav,{className:m[Ue.Dropdowns],style:k?.[Ue.Dropdowns]},(()=>{const Je=f==="dropdown"||f==="dropdown-months"?De.createElement(r.MonthsDropdown,{key:"month",className:m[Ue.MonthsDropdown],"aria-label":Re(),classNames:m,components:r,disabled:!!t.disableNavigation,onChange:ua(st.date),options:noe(st.date,B,U,s,c),style:k?.[Ue.Dropdown],value:c.getMonth(st.date)}):De.createElement("span",{key:"month"},P(st.date,c)),wt=f==="dropdown"||f==="dropdown-years"?De.createElement(r.YearsDropdown,{key:"year",className:m[Ue.YearsDropdown],"aria-label":le(c.options),classNames:m,components:r,disabled:!!t.disableNavigation,onChange:ta(st.date),options:soe(B,U,s,c,!!t.reverseYears),style:k?.[Ue.Dropdown],value:c.getYear(st.date)}):De.createElement("span",{key:"year"},J(st.date,c));return c.getMonthYearOrder()==="year-first"?[wt,Je]:[Je,wt]})(),De.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},_(st.date,c.options,c))):De.createElement(r.CaptionLabel,{className:m[Ue.CaptionLabel],role:"status","aria-live":"polite"},_(st.date,c.options,c))),g==="around"&&!t.hideNavigation&&Mt===y-1&&De.createElement(r.NextMonthButton,{type:"button",className:m[Ue.NextMonthButton],tabIndex:W?void 0:-1,"aria-disabled":W?void 0:!0,"aria-label":tn(W),onClick:Ne,"data-animated-button":t.animate?"true":void 0},De.createElement(r.Chevron,{disabled:W?void 0:!0,className:m[Ue.Chevron],orientation:t.dir==="rtl"?"left":"right"})),Mt===y-1&&g==="after"&&!t.hideNavigation&&De.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:m[Ue.Nav],style:k?.[Ue.Nav],"aria-label":Ke(),onPreviousClick:be,onNextClick:Ne,previousMonth:F,nextMonth:W}),De.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":h==="multiple"||h==="range","aria-label":lt(st.date,c.options,c)||void 0,className:m[Ue.MonthGrid],style:k?.[Ue.MonthGrid]},!t.hideWeekdays&&De.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:m[Ue.Weekdays],style:k?.[Ue.Weekdays]},D&&De.createElement(r.WeekNumberHeader,{"aria-label":Z(c.options),className:m[Ue.WeekNumberHeader],style:k?.[Ue.WeekNumberHeader],scope:"col"},L()),he.map(Je=>De.createElement(r.Weekday,{"aria-label":Ge(Je,c.options,c),className:m[Ue.Weekday],key:String(Je),style:k?.[Ue.Weekday],scope:"col"},I(Je,c.options,c)))),De.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:m[Ue.Weeks],style:k?.[Ue.Weeks]},st.weeks.map(Je=>De.createElement(r.Week,{className:m[Ue.Week],key:Je.weekNumber,style:k?.[Ue.Week],week:Je},D&&De.createElement(r.WeekNumber,{week:Je,style:k?.[Ue.WeekNumber],"aria-label":Ct(Je.weekNumber,{locale:d}),className:m[Ue.WeekNumber],scope:"row",role:"rowheader"},z(Je.weekNumber,c)),Je.days.map(wt=>{const{date:Vn}=wt,mt=je(wt);if(mt[mn.focused]=!mt.hidden&&!!ee?.isEqualTo(wt),mt[Kr.selected]=H?.(Vn)||mt.selected,bx(we)){const{from:yl,to:Cs}=we;mt[Kr.range_start]=!!(yl&&Cs&&c.isSameDay(Vn,yl)),mt[Kr.range_end]=!!(yl&&Cs&&c.isSameDay(Vn,Cs)),mt[Kr.range_middle]=ti(we,Vn,!0,c)}const gl=aoe(mt,k,t.modifiersStyles),wx=qle(mt,m,t.modifiersClassNames),jm=!Ee&&!mt.hidden?xe(Vn,mt,c.options,c):void 0;return De.createElement(r.Day,{key:`${wt.isoDate}_${wt.displayMonthId}`,day:wt,modifiers:mt,className:wx.join(" "),style:gl,role:"gridcell","aria-selected":mt.selected||void 0,"aria-label":jm,"data-day":wt.isoDate,"data-month":wt.outside?wt.dateMonthId:void 0,"data-selected":mt.selected||void 0,"data-disabled":mt.disabled||void 0,"data-hidden":mt.hidden||void 0,"data-outside":wt.outside||void 0,"data-focused":mt.focused||void 0,"data-today":mt.today||void 0},!mt.hidden&&Ee?De.createElement(r.DayButton,{className:m[Ue.DayButton],style:k?.[Ue.DayButton],type:"button",day:wt,modifiers:mt,disabled:!mt.focused&&mt.disabled||void 0,"aria-disabled":mt.focused&&mt.disabled||void 0,tabIndex:ie(wt)?0:-1,"aria-label":Ce(Vn,mt,c.options,c),onClick:ke(wt,mt),onBlur:rt(wt,mt),onFocus:Ze(wt,mt),onKeyDown:Mn(wt,mt),onMouseEnter:or(wt,mt),onMouseLeave:zn(wt,mt)},E(Vn,c.options,c)):!mt.hidden&&E(wt.date,c.options,c))})))))))),t.footer&&De.createElement(r.Footer,{className:m[Ue.Footer],style:k?.[Ue.Footer],role:"status","aria-live":"polite"},t.footer)))}function Uoe(){const e=Qe(P=>P.user),{employees:t,attendance:a,attendanceCorrections:r,submitAttendanceCorrection:s}=Ae(),c=x.useMemo(()=>t.find(P=>P.id===e?.id||P.email===e?.email),[t,e])?.id||e?.id,[d,m]=x.useState(new Date),[f,h]=x.useState(new Date),[g,y]=x.useState(!1),[v,j]=x.useState({date:"",currentStatus:"",requestedStatus:"",reason:"",documents:[]}),b=x.useMemo(()=>a.filter(P=>P.employeeId===c),[a,c]),S=x.useMemo(()=>b.find(P=>P.date===q(d,"yyyy-MM-dd")),[b,d]),M=x.useMemo(()=>{const P=Ta(f),z=La(f),L=b.filter(I=>{const J=ue(I.date);return ps(J,{start:P,end:z})});return{present:L.filter(I=>I.status==="Present").length,late:L.filter(I=>I.status==="Late").length,absent:L.filter(I=>I.status==="Absent").length,total:L.length,avgHours:L.reduce((I,J)=>I+(J.workHours||0),0)/(L.length||1)}},[b,f]),N=x.useMemo(()=>({present:b.filter(P=>P.status==="Present").map(P=>ue(P.date)),late:b.filter(P=>P.status==="Late").map(P=>ue(P.date)),absent:b.filter(P=>P.status==="Absent").map(P=>ue(P.date))}),[b]),A=P=>P==="Present"?"success":P==="Late"?"warning":P==="Absent"?"error":"default",O=x.useMemo(()=>{const P=[];for(let z=0;z<6;z++){const L=lo(new Date,z),I=Ta(L),J=La(L),T=b.filter(Y=>{const V=ue(Y.date);return ps(V,{start:I,end:J})});P.push({month:q(L,"MMM yyyy"),present:T.filter(Y=>Y.status==="Present").length,late:T.filter(Y=>Y.status==="Late").length,absent:T.filter(Y=>Y.status==="Absent").length,total:T.length})}return P},[b]),D=x.useMemo(()=>r.filter(P=>P.employeeId===c),[r,c]),k=(P,z)=>{j({date:"",currentStatus:"",requestedStatus:"",reason:"",documents:[]}),y(!0)},_=()=>{if(!v.date||!v.requestedStatus||!v.reason){alert("Please fill all required fields");return}const P=b.find(z=>z.date===v.date);s(c,{originalAttendance:{date:v.date,status:v.currentStatus||"Absent",clockIn:P?.clockIn||null,clockOut:P?.clockOut||null},requestedChange:{status:v.requestedStatus,reason:v.reason},documents:v.documents}),y(!1),j({date:"",currentStatus:"",requestedStatus:"",reason:"",documents:[]})},E=P=>P==="Approved"?"success":P==="Rejected"?"error":"warning";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Attendance"}),n.jsx("p",{className:"text-gray-600",children:"Track your clock-in, clock-out times and attendance history"})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx(St,{title:"Present Days",value:M.present,subtitle:q(f,"MMMM yyyy"),icon:Le,color:"success"}),n.jsx(St,{title:"Late Arrivals",value:M.late,subtitle:"This month",icon:Jn,color:"warning"}),n.jsx(St,{title:"Absent Days",value:M.absent,subtitle:"This month",icon:Tt,color:"error"}),n.jsx(St,{title:"Avg. Work Hours",value:M.avgHours.toFixed(1),subtitle:"Hours per day",icon:Be,color:"primary"})]}),n.jsxs(ca,{defaultValue:"calendar",children:[n.jsxs(da,{children:[n.jsx(qe,{value:"calendar",children:"Calendar View"}),n.jsx(qe,{value:"history",children:"History"}),n.jsx(qe,{value:"monthly",children:"Monthly Report"}),n.jsxs(qe,{value:"corrections",children:["Corrections ",D.length>0&&`(${D.length})`]})]}),n.jsx(Nt,{value:"calendar",children:n.jsx(K,{children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx(Foe,{mode:"single",selected:d,onSelect:P=>P&&m(P),month:f,onMonthChange:h,modifiers:{present:N.present,late:N.late,absent:N.absent},modifiersClassNames:{present:"bg-green-100 text-green-800 font-semibold",late:"bg-yellow-100 text-yellow-800 font-semibold",absent:"bg-red-100 text-red-800 font-semibold"},className:"border rounded-xl p-4 mx-auto"}),n.jsxs("div",{className:"flex items-center justify-center gap-4 mt-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),n.jsx("span",{className:"text-gray-600",children:"Present"})]}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),n.jsx("span",{className:"text-gray-600",children:"Late"})]}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),n.jsx("span",{className:"text-gray-600",children:"Absent"})]})]})]}),n.jsx("div",{children:n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Xe,{className:"w-5 h-5 text-gray-500"}),n.jsx("h3",{className:"font-semibold text-gray-900",children:q(d,"EEEE, MMMM d, yyyy")})]}),S?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Status"}),n.jsx(ge,{variant:A(S.status),size:"lg",children:S.status})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-4 text-center border",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Clock In"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:S.clockIn||"--:--"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-4 text-center border",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Clock Out"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:S.clockOut||"--:--"})]})]}),S.workHours>0&&n.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Total Work Hours"}),n.jsxs("p",{className:"text-xl font-bold text-gray-900 mt-1",children:[S.workHours.toFixed(1)," hours"]})]}),S.status==="Late"&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Jn,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-yellow-800",children:"Late Arrival"}),n.jsx("p",{className:"text-sm text-yellow-700",children:"Office hours start at 09:00. A deduction may apply."})]})]})})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Xe,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"No attendance record for this date"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Weekend or holiday"})]})]})})]})})}),n.jsx(Nt,{value:"history",children:n.jsx(K,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Date"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Day"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Clock In"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Clock Out"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Work Hours"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Status"})]})}),n.jsx("tbody",{children:b.slice(0,30).map(P=>n.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:q(ue(P.date),"MMM d, yyyy")}),n.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:q(ue(P.date),"EEEE")}),n.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:P.clockIn||"--"}),n.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:P.clockOut||"--"}),n.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:P.workHours?`${P.workHours.toFixed(1)}h`:"--"}),n.jsx("td",{className:"py-3 px-4",children:n.jsx(ge,{variant:A(P.status),children:P.status})})]},P.id))})]})})})}),n.jsx(Nt,{value:"monthly",children:n.jsx(K,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Month"}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Present"}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Late"}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Absent"}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Total Days"}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Attendance %"})]})}),n.jsx("tbody",{children:O.map(P=>{const z=P.total>0?Math.round((P.present+P.late)/P.total*100):0;return n.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:P.month}),n.jsx("td",{className:"py-3 px-4 text-center",children:n.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-green-100 text-green-800 font-semibold text-sm",children:P.present})}),n.jsx("td",{className:"py-3 px-4 text-center",children:n.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-yellow-100 text-yellow-800 font-semibold text-sm",children:P.late})}),n.jsx("td",{className:"py-3 px-4 text-center",children:n.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-red-100 text-red-800 font-semibold text-sm",children:P.absent})}),n.jsx("td",{className:"py-3 px-4 text-center text-sm text-gray-900",children:P.total}),n.jsx("td",{className:"py-3 px-4 text-center",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full rounded-full ${z>=90?"bg-green-500":z>=75?"bg-yellow-500":"bg-red-500"}`,style:{width:`${z}%`}})}),n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[z,"%"]})]})})]},P.month)})})]})})})}),n.jsx(Nt,{value:"corrections",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(K,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Attendance Correction Requests"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Submit a request to correct your attendance records"})]}),n.jsx(X,{onClick:()=>k(),icon:oi,variant:"primary",children:"Request Correction"})]})}),D.length===0?n.jsx(K,{children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ht,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Correction Requests"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't submitted any attendance correction requests yet."}),n.jsx(X,{onClick:()=>k(),icon:oi,variant:"primary",children:"Submit Your First Request"})]})}):n.jsx("div",{className:"space-y-4",children:D.sort((P,z)=>new Date(z.submittedOn)-new Date(P.submittedOn)).map(P=>n.jsx(K,{className:"hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(Xe,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{className:"font-semibold text-gray-900",children:q(ue(P.originalAttendance.date),"MMMM d, yyyy")}),n.jsx(ge,{variant:E(P.status),size:"sm",children:P.status})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mt-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Original Status:"}),n.jsx(ge,{variant:A(P.originalAttendance.status),children:P.originalAttendance.status})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Requested Status:"}),n.jsx(ge,{variant:A(P.requestedChange.status),children:P.requestedChange.status})]})]}),n.jsxs("div",{className:"mt-3 bg-gray-50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Reason"}),n.jsx("p",{className:"text-sm text-gray-700",children:P.requestedChange.reason})]}),P.documents&&P.documents.length>0&&n.jsxs("div",{className:"mt-3",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-2",children:"Supporting Documents"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:P.documents.map((z,L)=>n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:[n.jsx(ht,{className:"w-3 h-3"}),z.name||`Document ${L+1}`]},L))})]}),P.notes&&n.jsxs("div",{className:"mt-3 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-yellow-800 uppercase tracking-wide mb-1",children:"HR Notes"}),n.jsx("p",{className:"text-sm text-yellow-700",children:P.notes})]})]}),n.jsxs("div",{className:"text-right text-xs text-gray-500",children:[n.jsx("p",{children:"Submitted"}),n.jsx("p",{className:"font-medium text-gray-700",children:q(ue(P.submittedOn),"MMM d, yyyy")})]})]})},P.id))})]})})]}),n.jsx(vt,{isOpen:g,onClose:()=>y(!1),title:"Request Attendance Correction",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",value:v.date,onChange:P=>j({...v,date:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",max:q(new Date,"yyyy-MM-dd")})]}),v.date&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Status"}),n.jsx("div",{className:"px-3 py-2 bg-gray-50 rounded-lg",children:v.currentStatus?n.jsx(ge,{variant:A(v.currentStatus),children:v.currentStatus}):n.jsx("span",{className:"text-sm text-gray-500",children:"No record found (Absent or Weekend)"})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Requested Status ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:v.requestedStatus,onChange:P=>j({...v,requestedStatus:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Select Status"}),n.jsx("option",{value:"Present",children:"Present"}),n.jsx("option",{value:"Late",children:"Late"}),n.jsx("option",{value:"Absent",children:"Absent"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Reason for Correction ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{value:v.reason,onChange:P=>j({...v,reason:P.target.value}),rows:4,placeholder:"Explain why this correction is needed (e.g., forgot to clock in, system error, etc.)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supporting Documents (Optional)"}),n.jsx(cl,{onUpload:P=>j({...v,documents:P.map(z=>({name:z.name,file:z}))}),accept:".pdf,.jpg,.jpeg,.png",multiple:!0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload any supporting documents (e.g., screenshots, emails)"})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(X,{variant:"outline",onClick:()=>y(!1),className:"flex-1",children:"Cancel"}),n.jsx(X,{variant:"primary",onClick:_,className:"flex-1",children:"Submit Request"})]})]})})]})}function qoe(){const e=Qe(se=>se.user),{employees:t,leaves:a,addLeave:r,getLeaveRecommendations:s}=Ae(),l=x.useMemo(()=>t.find(se=>se.id===e?.id||se.email===e?.email),[t,e]),c=l?.id||e?.id,[d,m]=x.useState(!1),[f,h]=x.useState(null),[g,y]=x.useState([]),[v,j]=x.useState(null),{register:b,handleSubmit:S,watch:M,reset:N,formState:{errors:A,isSubmitting:O}}=Lc({defaultValues:{type:"annual",startDate:q(os(new Date,1),"yyyy-MM-dd"),endDate:q(os(new Date,1),"yyyy-MM-dd"),reason:"",expectedDeliveryDate:""}}),D=M("startDate"),k=M("endDate"),_=M("type"),E=_==="medical"||_==="study",P=_==="medical"?"Medical Documents":_==="study"?"Study Documents":"Supporting Documents (optional)",z=_==="medical"?"Upload medical certificates, prescriptions, or doctor's reports (PDF, DOC, DOCX, JPG)":_==="study"?"Upload course details, admission letters, or study plans (PDF, DOC, DOCX, JPG)":"Upload any supporting documents if applicable (PDF, DOC, DOCX, JPG)",L=x.useMemo(()=>{if(!D||!k)return 0;const se=Gr(ue(k),ue(D))+1;return se>0?se:0},[D,k]),I=se=>{const ee=Ys.find(ae=>ae.id===se),ie=ee?.days??ee?.defaultDays??0;return l?.leaveBalance?.[se]??ie},J=x.useMemo(()=>{const se={};return Ys.forEach(ee=>{se[ee.id]=I(ee.id)}),se},[l]),T=x.useMemo(()=>{const se=I(_);return L<=se},[_,L,I]),Y=x.useMemo(()=>v8(l),[l]),V=Y.eligible,B=x.useMemo(()=>!D||!k?null:s({employeeId:c,type:_,startDate:D,endDate:k,days:L}),[D,k,_,L,c,s]),U=x.useMemo(()=>a.filter(se=>se.employeeId===c).sort((se,ee)=>ue(ee.appliedOn)-ue(se.appliedOn)),[a,c]),F=U.filter(se=>se.status==="Pending"),W=U.filter(se=>se.status==="Approved"),ne=U.filter(se=>se.status==="Rejected"),je=se=>{const ee=se?.file?URL.createObjectURL(se.file):se?.fileUrl||se?.url;if(!ee)return;const ie=document.createElement("a");ie.href=ee,ie.download=se?.name||"document",document.body.appendChild(ie),ie.click(),document.body.removeChild(ie),se?.file&&URL.revokeObjectURL(ee)},H=se=>{if(se.type==="maternity"){if(!V){alert(`Maternity Leave Eligibility Issue:

${Y.reason}`);return}if(!se.expectedDeliveryDate){alert("Please enter your expected delivery date");return}const ae=b8(se.expectedDeliveryDate,q(new Date,"yyyy-MM-dd"));if(!ae.valid){alert(`Maternity Leave - Advance Notice Requirement:

${ae.reason}`);return}}if((se.type==="medical"||se.type==="study")&&g.length===0){alert(`Please upload supporting documents for ${se.type} leave`);return}const ee=se.type==="medical",ie={id:`l-${Date.now()}`,employeeId:c,employeeName:l?.name||e?.name,department:l?.department||e?.department,faculty:l?.faculty||e?.faculty,type:se.type,startDate:se.startDate,endDate:se.endDate,days:L,reason:se.reason,documents:g,leaveCategory:v,status:"Pending",appliedOn:q(new Date,"yyyy-MM-dd"),approvalChain:ee?[{role:"hod",status:"pending",by:null,date:null,comment:null},{role:"vc",status:"pending",by:null,date:null,comment:null},{role:"president",status:"pending",by:null,date:null,comment:null}]:[{role:"hod",status:"pending",by:null,date:null,comment:null},{role:"dean",status:"pending",by:null,date:null,comment:null},{role:"hr",status:"pending",by:null,date:null,comment:null}],paidDays:null,unpaidDays:null};r(ie),D8({employeeName:l?.name||e?.name,leaveType:se.type,startDate:se.startDate,endDate:se.endDate,days:L,reason:se.reason,status:"Pending"},e?.email),N(),y([]),j(null),m(!1)},fe=se=>se==="Approved"?"success":se==="Pending"?"warning":se==="Rejected"?"error":"info",we=se=>Ys.find(ee=>ee.id===se)?.name||se;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Leave Management"}),n.jsx("p",{className:"text-gray-600",children:"Apply for leave and track your requests"})]}),n.jsxs(X,{onClick:()=>m(!0),className:"gap-2",children:[n.jsx(oi,{className:"w-5 h-5"}),"Apply for Leave"]})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[Ys.map(se=>{const ee=J[se.id],ie=se.days??se.defaultDays??ee??0;return n.jsxs(K,{className:"relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 -mr-8 -mt-8",children:n.jsx("div",{className:`w-full h-full rounded-full opacity-10 ${se.id==="annual"?"bg-blue-500":se.id==="sick"?"bg-red-500":"bg-green-500"}`})}),n.jsxs("div",{className:"relative",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 capitalize",children:se.name}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:ee}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["of ",ie," days remaining"]}),n.jsx("div",{className:"mt-3 h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full rounded-full transition-all ${ee>ie*.5?"bg-green-500":ee>ie*.2?"bg-yellow-500":"bg-red-500"}`,style:{width:`${ee/ie*100}%`}})})]})]},se.id)}),n.jsx(K,{className:"bg-gray-50 border-dashed border-2",children:n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-2",children:[n.jsx(ht,{className:"w-8 h-8 text-gray-400 mb-2"}),n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Requests"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:U.length})]})})]}),n.jsxs(ca,{defaultValue:"all",children:[n.jsxs(da,{children:[n.jsxs(qe,{value:"all",children:["All Requests (",U.length,")"]}),n.jsxs(qe,{value:"pending",children:["Pending (",F.length,")"]}),n.jsxs(qe,{value:"approved",children:["Approved (",W.length,")"]}),n.jsxs(qe,{value:"rejected",children:["Rejected (",ne.length,")"]})]}),["all","pending","approved","rejected"].map(se=>{const ee=se==="all"?U:se==="pending"?F:se==="approved"?W:ne;return n.jsx(Nt,{value:se,children:n.jsx(K,{children:ee.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ht,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),n.jsxs("p",{className:"text-gray-500",children:["No ",se==="all"?"":se," leave requests"]})]}):n.jsx("div",{className:"space-y-4",children:ee.map(ie=>n.jsxs("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>h(ie),children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:we(ie.type)}),n.jsx(ge,{variant:fe(ie.status),children:ie.status})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-gray-600",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Xe,{className:"w-4 h-4"}),q(ue(ie.startDate),"MMM d")," -"," ",q(ue(ie.endDate),"MMM d, yyyy")]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Be,{className:"w-4 h-4"}),ie.days," day",ie.days>1?"s":""]})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-2 line-clamp-1",children:ie.reason})]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Applied ",q(ue(ie.appliedOn),"MMM d, yyyy")]})]}),ie.approvalChain&&n.jsxs("div",{className:"mt-4 pt-4 border-t",children:[n.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase mb-2",children:"Approval Status"}),n.jsx("div",{className:"flex items-center gap-2",children:ie.approvalChain.map((ae,Me)=>n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-full text-xs font-medium ${ae.status==="approved"?"bg-green-100 text-green-800":ae.status==="rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-600"}`,children:[ae.status==="approved"?n.jsx(Le,{className:"w-3.5 h-3.5"}):ae.status==="rejected"?n.jsx(Tt,{className:"w-3.5 h-3.5"}):n.jsx(Be,{className:"w-3.5 h-3.5"}),n.jsx("span",{className:"uppercase",children:ae.role})]}),Me<ie.approvalChain.length-1&&n.jsx("div",{className:"w-4 h-0.5 bg-gray-200 mx-1"})]},Me))})]})]},ie.id))})})},se)})]}),n.jsx(vt,{isOpen:d,onClose:()=>{m(!1),y([]),j(null)},title:"Apply for Leave",size:"lg",children:n.jsxs("form",{onSubmit:S(H),className:"space-y-4",children:[_==="maternity"&&!V&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex gap-3",children:[n.jsx(Jn,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-red-900",children:"Not Eligible for Maternity Leave"}),n.jsx("p",{className:"text-sm text-red-700 mt-1",children:Y.reason})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Leave Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{...b("type",{required:"Please select a leave type"}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("optgroup",{label:"Regular Leaves",children:Ys.map(se=>{const ee=se.id==="maternity",ie=ee&&l?.gender?.toLowerCase()!=="female",ae=ee&&!V;return ie?null:n.jsxs("option",{value:se.id,disabled:ae,children:[se.name," (",J[se.id]||0," days available)",ae?" - Not eligible":""]},se.id)})}),n.jsx("optgroup",{label:"Special Leaves",children:N8.map(se=>n.jsxs("option",{value:se.id,children:[se.name," (",se.days," days)"]},se.id))})]}),A.type&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:A.type.message})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",...b("startDate",{required:"Start date is required"}),min:q(new Date,"yyyy-MM-dd"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),A.startDate&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:A.startDate.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["End Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",...b("endDate",{required:"End date is required"}),min:D||q(new Date,"yyyy-MM-dd"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),A.endDate&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:A.endDate.message})]})]}),L>0&&n.jsxs("div",{className:`p-3 rounded-lg ${T?"bg-blue-50":"bg-red-50"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:`text-sm ${T?"text-blue-700":"text-red-700"}`,children:"Total Duration"}),n.jsxs("span",{className:`font-semibold ${T?"text-blue-900":"text-red-900"}`,children:[L," day",L>1?"s":""]})]}),!T&&n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm text-red-600",children:[n.jsx(Jn,{className:"w-4 h-4"}),"Insufficient leave balance"]})]}),B&&n.jsxs("div",{className:`p-3 rounded-lg border flex gap-3 ${B.recommended?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[n.jsx(au,{className:`w-5 h-5 shrink-0 mt-0.5 ${B.recommended?"text-green-600":"text-yellow-600"}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:B.recommendation}),B.details&&B.details.length>0&&n.jsx("ul",{className:"text-xs text-gray-600 mt-2 space-y-1",children:B.details.map((se,ee)=>n.jsxs("li",{className:"flex items-start gap-1",children:[n.jsx("span",{className:"shrink-0",children:""}),n.jsx("span",{children:se})]},ee))})]})]}),_==="medical"&&n.jsxs("div",{className:"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex gap-3",children:[n.jsx(au,{className:"w-5 h-5 text-blue-600 shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-blue-900",children:"Medical Leave Requirements"}),n.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Upload supporting medical documents; HR will review and categorize this as medical or unpaid leave."})]})]}),n.jsx(tt,{label:"Requested Leave Category",children:n.jsxs("select",{value:v||"",onChange:se=>j(se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Select category (HR will finalize)"}),n.jsx("option",{value:"medical",children:"Medical Leave"}),n.jsx("option",{value:"unpaid",children:"Unpaid Leave"})]})})]}),_==="study"&&n.jsx("div",{className:"space-y-4 bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx(au,{className:"w-5 h-5 text-green-600 shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-green-900",children:"Study Leave Documentation"}),n.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Upload supporting documents such as course enrollment letters, admission documents, or study plans. Documents are required for study leave."})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(cl,{value:g,onChange:y,label:P,required:E,helper:E?`${z} (required for ${_} leave)`:`${z}`,allowedTypes:["pdf","doc","docx","jpg","jpeg","png"],maxFiles:5,maxSizeMB:10}),E&&n.jsxs("p",{className:"text-xs text-red-600",children:["Documents are required for ",_," leave."]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Reason ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{...b("reason",{required:"Please provide a reason",minLength:{value:10,message:"Reason must be at least 10 characters"}}),rows:3,placeholder:"Please provide a reason for your leave request...",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),A.reason&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:A.reason.message})]}),_==="maternity"&&n.jsxs("div",{className:"space-y-3 bg-pink-50 border border-pink-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex gap-3",children:[n.jsx(au,{className:"w-5 h-5 text-pink-600 shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-pink-900",children:"Maternity Leave Information"}),n.jsx("p",{className:"text-sm text-pink-700 mt-1",children:"You are entitled to 30 days of paid maternity leave. Applications must be submitted at least 2 months (60 days) before your expected delivery date."})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Expected Delivery Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",...b("expectedDeliveryDate",{required:"Expected delivery date is required for maternity leave"}),min:q(os(new Date,60),"yyyy-MM-dd"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),A.expectedDeliveryDate&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:A.expectedDeliveryDate.message}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Must be at least 60 days from today (",q(os(new Date,60),"MMM d, yyyy"),")"]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),n.jsx(X,{type:"submit",disabled:!T||O,children:O?"Submitting...":"Submit Request"})]})]})}),n.jsx(vt,{isOpen:!!f,onClose:()=>h(null),title:"Leave Request Details",children:f&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(ge,{variant:fe(f.status),size:"lg",children:f.status})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Leave Type"}),n.jsx("p",{className:"font-medium",children:we(f.type)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Duration"}),n.jsxs("p",{className:"font-medium",children:[f.days," day",f.days>1?"s":""]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"From"}),n.jsx("p",{className:"font-medium",children:q(ue(f.startDate),"MMMM d, yyyy")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"To"}),n.jsx("p",{className:"font-medium",children:q(ue(f.endDate),"MMMM d, yyyy")})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase mb-1",children:"Reason"}),n.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:f.reason})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase mb-1",children:"Applied On"}),n.jsx("p",{className:"font-medium",children:q(ue(f.appliedOn),"MMMM d, yyyy")})]}),(f.paidDays!==null||f.unpaidDays!==null)&&n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 bg-gray-50 border border-gray-200 rounded-lg p-3",children:[f.paidDays!==null&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Paid Days"}),n.jsx("p",{className:"font-medium text-green-700",children:f.paidDays})]}),f.unpaidDays!==null&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Unpaid Days"}),n.jsx("p",{className:"font-medium text-amber-700",children:f.unpaidDays})]})]}),f.documents&&f.documents.length>0&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-gray-500 uppercase mb-2 flex items-center gap-2",children:[n.jsx(ht,{className:"w-4 h-4"})," Supporting Documents"]}),n.jsx("div",{className:"space-y-2",children:f.documents.map(se=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[n.jsx(ht,{className:"w-4 h-4 text-gray-400 shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:se.name}),se.size&&n.jsxs("p",{className:"text-xs text-gray-500",children:[(se.size/1024).toFixed(1)," KB"]})]})]}),n.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 transition-colors ml-2",title:"Download document",type:"button",onClick:()=>je(se),children:n.jsx(Wt,{className:"w-4 h-4"})})]},se.id))})]}),f.approvalChain&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase mb-2",children:"Approval Chain"}),n.jsx("div",{className:"space-y-2",children:f.approvalChain.map((se,ee)=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[se.status==="approved"?n.jsx(Le,{className:"w-5 h-5 text-green-500"}):se.status==="rejected"?n.jsx(Tt,{className:"w-5 h-5 text-red-500"}):n.jsx(Be,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{className:"font-medium uppercase",children:se.role})]}),n.jsx("span",{className:`text-sm capitalize ${se.status==="approved"?"text-green-600":se.status==="rejected"?"text-red-600":"text-gray-500"}`,children:se.status})]},ee))})]}),n.jsx("div",{className:"flex justify-end pt-4 border-t",children:n.jsx(X,{variant:"outline",onClick:()=>h(null),children:"Close"})})]})})]})}function Hoe(){const e=Qe(T=>T.user),{employees:t,attendance:a,payrollRuns:r,payrollSettings:s,computePayrollForEmployee:l}=Ae(),c=x.useMemo(()=>t.find(T=>T.id===e?.id||T.email===e?.email),[t,e]),d=c?.id||e?.id,[m,f]=x.useState(new Date),h=m.getMonth()+1,g=m.getFullYear(),y=T=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(T||0),v=x.useMemo(()=>{const T=r.find(V=>V.period?.month===h&&V.period?.year===g&&V.status==="Posted"),Y=T?.items?.find(V=>V.employeeId===d);if(Y)return{...Y,runStatus:T.status};if(l&&d){const V=l(d,h,g);if(V)return{...V,runStatus:"Draft"}}return null},[l,d,r,h,g]),j=x.useMemo(()=>{const T=Ta(m),Y=La(m);return a.filter(V=>{if(V.employeeId!==d)return!1;const B=ue(V.date);return ps(B,{start:T,end:Y})})},[a,d,m]),b=v?.baseSalary||c?.salaryBase||0;v?.attendance?.present??j.filter(T=>T.status==="Present").length;const S=v?.attendance?.late??j.filter(T=>T.status==="Late").length,M=v?.attendance?.absent??j.filter(T=>T.status==="Absent").length,N=v?.earnings?.house||0,A=v?.earnings?.medical||0,O=v?.earnings?.transport||0,D=N+A+O,k=v?.earnings?.total||b+D,_=v?.deductions?.late||0,E=v?.deductions?.absent||0,P=v?.deductions?.tax||0,z=v?.deductions?.total||_+E+P,L=v?.netPay||k-z,I=x.useMemo(()=>{const T=r.filter(Y=>Y.status==="Posted").map(Y=>{const V=Y.items.find(B=>B.employeeId===d);return V?{month:Y.period?.label,shortMonth:Y.period?.label,gross:V.earnings?.total,deductions:V.deductions?.total,net:V.netPay,status:Y.status}:null}).filter(Boolean);return T.length>0?T:Array.from({length:6},(Y,V)=>{const B=lo(new Date,V),U=Ta(B),F=La(B),W=a.filter(ie=>{if(ie.employeeId!==d)return!1;const ae=ue(ie.date);return ps(ae,{start:U,end:F})}),ne=W.filter(ie=>ie.status==="Late").length,je=W.filter(ie=>ie.status==="Absent").length,H=ne*(s?.deductionConfig?.latePenalty||0),fe=Math.round(b/(s?.workingDays||22)*je),we=b+D>(s?.deductionConfig?.taxThreshold||0)?Math.round((b+D)*((s?.deductionConfig?.taxRate||0)/100)):0,se=b+D,ee=se-(H+fe+we);return{month:q(B,"MMMM yyyy"),shortMonth:q(B,"MMM yyyy"),gross:se,deductions:H+fe+we,net:ee,status:V===0?"Draft":"Generated"}})},[a,d,b,D,r,s]),J=()=>{window.print()};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Salary & Payslip"}),n.jsx("p",{className:"text-gray-600",children:"View your salary details and download payslips"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{variant:"outline",onClick:J,className:"gap-2",children:[n.jsx(Y7,{className:"w-5 h-5"}),"Print"]}),n.jsxs(X,{className:"gap-2",children:[n.jsx(xu,{className:"w-5 h-5"}),"Download Payslip"]})]})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx(K,{className:"bg-linear-to-br from-green-50 to-green-100 border-green-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-green-800",children:"Net Salary"}),n.jsx("p",{className:"text-2xl font-bold text-green-900 mt-1",children:y(L)}),n.jsx("p",{className:"text-xs text-green-700 mt-1",children:q(m,"MMMM yyyy")})]}),n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(tr,{className:"w-6 h-6 text-white"})})]})}),n.jsx(K,{className:"bg-linear-to-br from-blue-50 to-blue-100 border-blue-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Gross Salary"}),n.jsx("p",{className:"text-2xl font-bold text-blue-900 mt-1",children:y(k)}),n.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Base + Allowances"})]}),n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(nr,{className:"w-6 h-6 text-white"})})]})}),n.jsx(K,{className:"bg-linear-to-br from-red-50 to-red-100 border-red-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-red-800",children:"Total Deductions"}),n.jsx("p",{className:"text-2xl font-bold text-red-900 mt-1",children:y(z)}),n.jsxs("p",{className:"text-xs text-red-700 mt-1",children:[S," late, ",M," absent"]})]}),n.jsx("div",{className:"p-3 bg-red-500 rounded-lg",children:n.jsx(sj,{className:"w-6 h-6 text-white"})})]})}),n.jsx(K,{className:"bg-linear-to-br from-purple-50 to-purple-100 border-purple-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Total Allowances"}),n.jsx("p",{className:"text-2xl font-bold text-purple-900 mt-1",children:y(D)}),n.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"Housing, Medical, Transport"})]}),n.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:n.jsx(xs,{className:"w-6 h-6 text-white"})})]})})]}),n.jsxs(ca,{defaultValue:"payslip",children:[n.jsxs(da,{children:[n.jsx(qe,{value:"payslip",children:"Current Payslip"}),n.jsx(qe,{value:"history",children:"Salary History"}),n.jsx(qe,{value:"breakdown",children:"Breakdown"})]}),n.jsx(Nt,{value:"payslip",children:n.jsxs(K,{className:"print:shadow-none",children:[n.jsx("div",{className:"border-b pb-4 mb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"CECOS University"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Pay Slip for ",q(m,"MMMM yyyy")]})]}),n.jsx(ge,{variant:I[0]?.status==="Paid"?"success":"warning",children:I[0]?.status})]})}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 pb-4 mb-4 border-b",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Employee Name"}),n.jsx("span",{className:"font-medium",children:c?.name||e?.name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Employee Code"}),n.jsx("span",{className:"font-medium",children:c?.code||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Department"}),n.jsx("span",{className:"font-medium",children:c?.department||e?.department})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Designation"}),n.jsx("span",{className:"font-medium",children:c?.designation||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Bank Account"}),n.jsx("span",{className:"font-medium",children:c?.bankAccount||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Pay Period"}),n.jsx("span",{className:"font-medium",children:q(m,"MMM yyyy")})]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Earnings"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between py-2 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Basic Salary"}),n.jsx("span",{className:"font-medium",children:y(b)})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"House Rent Allowance (45%)"}),n.jsx("span",{className:"font-medium",children:y(N)})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Medical Allowance (10%)"}),n.jsx("span",{className:"font-medium",children:y(A)})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Transport Allowance"}),n.jsx("span",{className:"font-medium",children:y(O)})]}),n.jsxs("div",{className:"flex justify-between py-2 font-semibold text-green-600",children:[n.jsx("span",{children:"Total Earnings"}),n.jsx("span",{children:y(k)})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Deductions"}),n.jsxs("div",{className:"space-y-2",children:[_>0&&n.jsxs("div",{className:"flex justify-between py-2 border-b",children:[n.jsxs("span",{className:"text-gray-600",children:["Late Arrival (",S," days  500)"]}),n.jsxs("span",{className:"font-medium text-red-600",children:["-",y(_)]})]}),E>0&&n.jsxs("div",{className:"flex justify-between py-2 border-b",children:[n.jsxs("span",{className:"text-gray-600",children:["Absent Days (",M," days)"]}),n.jsxs("span",{className:"font-medium text-red-600",children:["-",y(E)]})]}),P>0&&n.jsxs("div",{className:"flex justify-between py-2 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Income Tax (5%)"}),n.jsxs("span",{className:"font-medium text-red-600",children:["-",y(P)]})]}),z===0&&n.jsx("div",{className:"py-4 text-center text-gray-500",children:"No deductions this month"}),n.jsxs("div",{className:"flex justify-between py-2 font-semibold text-red-600",children:[n.jsx("span",{children:"Total Deductions"}),n.jsxs("span",{children:["-",y(z)]})]})]})]})]}),n.jsx("div",{className:"mt-6 pt-4 border-t-2 border-dashed",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"Net Pay"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Amount credited to bank account"})]}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:y(L)})]})})]})}),n.jsx(Nt,{value:"history",children:n.jsx(K,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Month"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Gross"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Deductions"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Net Pay"}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Status"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Actions"})]})}),n.jsx("tbody",{children:I.map((T,Y)=>n.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xe,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{className:"font-medium text-gray-900",children:T.month})]})}),n.jsx("td",{className:"py-3 px-4 text-right text-gray-900",children:y(T.gross)}),n.jsxs("td",{className:"py-3 px-4 text-right text-red-600",children:["-",y(T.deductions)]}),n.jsx("td",{className:"py-3 px-4 text-right font-semibold text-green-600",children:y(T.net)}),n.jsx("td",{className:"py-3 px-4 text-center",children:n.jsx(ge,{variant:T.status==="Paid"?"success":"warning",children:T.status})}),n.jsx("td",{className:"py-3 px-4 text-right",children:n.jsx(X,{size:"sm",variant:"ghost",children:n.jsx(xu,{className:"w-4 h-4"})})})]},Y))})]})})})}),n.jsx(Nt,{value:"breakdown",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs(K,{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(xs,{className:"w-5 h-5 text-green-500"}),"Earnings Breakdown"]}),n.jsx("div",{className:"space-y-4",children:[{label:"Basic Salary",amount:b,percentage:100},{label:"House Rent",amount:N,percentage:45},{label:"Medical",amount:A,percentage:10},{label:"Transport",amount:O,percentage:null}].map((T,Y)=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"text-gray-600",children:T.label}),n.jsx("span",{className:"font-medium",children:y(T.amount)})]}),n.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${T.amount/k*100}%`}})})]},Y))})]}),n.jsxs(K,{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Z7,{className:"w-5 h-5 text-red-500"}),"Deductions Breakdown"]}),z>0?n.jsxs("div",{className:"space-y-4",children:[_>0&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"text-gray-600",children:"Late Arrivals"}),n.jsxs("span",{className:"font-medium text-red-600",children:["-",y(_)]})]}),n.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${_/z*100}%`}})})]}),E>0&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"text-gray-600",children:"Absent Days"}),n.jsxs("span",{className:"font-medium text-red-600",children:["-",y(E)]})]}),n.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${E/z*100}%`}})})]}),P>0&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"text-gray-600",children:"Income Tax"}),n.jsxs("span",{className:"font-medium text-red-600",children:["-",y(P)]})]}),n.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${P/z*100}%`}})})]})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(tr,{className:"w-8 h-8 text-green-600"})}),n.jsx("p",{className:"font-medium text-gray-900",children:"No Deductions!"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Perfect attendance this month"})]})]})]})})]})]})}const yD={balance:1e5,years:"",age:"",type:"Refundable",amount:""};function Voe({onSubmitRequest:e}){const[t,a]=x.useState(yD),[r,s]=x.useState(""),[l,c]=x.useState(""),d=t.balance*.8,m=t.type==="Non-Refundable";function f(){return+t.years<3?"You must have at least 3 years of service.":m&&+t.age<50?"Non-Refundable loan requires age  50.":+t.amount>d?"Requested amount exceeds 80% of balance.":""}function h(y){const{name:v,value:j}=y.target;a(b=>({...b,[v]:j})),s(""),c("")}function g(y){y.preventDefault();const v=f();if(v)return s(v);c("Request submitted!"),e&&e({...t,requested:+t.amount}),a(yD)}return n.jsxs("div",{className:"max-w-md mx-auto bg-white p-6 rounded shadow",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Provident Fund Loan/Withdrawal Request"}),n.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Accumulated Fund Balance"}),n.jsx("input",{type:"number",name:"balance",value:t.balance,disabled:!0,className:"w-full border rounded p-2 bg-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Years of Service"}),n.jsx("input",{type:"number",name:"years",value:t.years,onChange:h,className:"w-full border rounded p-2",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Age"}),n.jsx("input",{type:"number",name:"age",value:t.age,onChange:h,className:"w-full border rounded p-2",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Loan Type"}),n.jsxs("select",{name:"type",value:t.type,onChange:h,className:"w-full border rounded p-2",children:[n.jsx("option",{value:"Refundable",children:"Refundable"}),n.jsx("option",{value:"Non-Refundable",children:"Non-Refundable"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Requested Amount"}),n.jsx("input",{type:"number",name:"amount",value:t.amount,onChange:h,className:"w-full border rounded p-2",required:!0}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Max eligible: ",d.toLocaleString()]})]}),r&&n.jsx("div",{className:"text-red-600 text-sm",children:r}),l&&n.jsx("div",{className:"text-green-600 text-sm",children:l}),n.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Submit Request"})]})]})}function Koe({form:e,setForm:t}){return n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium",children:["Name Of Author ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{className:"w-full border rounded p-2",value:e.author||"",onChange:a=>t(r=>({...r,author:a.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium",children:["Book Title ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{className:"w-full border rounded p-2",value:e.bookTitle||"",onChange:a=>t(r=>({...r,bookTitle:a.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium",children:["Publisher Name Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{className:"w-full border rounded p-2",value:e.publisher||"",onChange:a=>t(r=>({...r,publisher:a.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium",children:["Date Of Publish ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",className:"w-full border rounded p-2",value:e.dateOfPublish||"",onChange:a=>t(r=>({...r,dateOfPublish:a.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Written Addition Modification"}),n.jsx("textarea",{className:"w-full border rounded p-2",value:e.addition||"",onChange:a=>t(r=>({...r,addition:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Website Link"}),n.jsx("input",{className:"w-full border rounded p-2",value:e.website||"",onChange:a=>t(r=>({...r,website:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"ISBN"}),n.jsx("input",{className:"w-full border rounded p-2",value:e.isbn||"",onChange:a=>t(r=>({...r,isbn:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Publisher Name Address"}),n.jsx("textarea",{className:"w-full border rounded p-2",value:e.publisher||"",onChange:a=>t(r=>({...r,publisher:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Chapter No"}),n.jsx("input",{className:"w-full border rounded p-2",value:e.chapterNo||"",onChange:a=>t(r=>({...r,chapterNo:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Chapter Name"}),n.jsx("textarea",{className:"w-full border rounded p-2",value:e.chapterName||"",onChange:a=>t(r=>({...r,chapterName:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Chapter Link"}),n.jsx("input",{className:"w-full border rounded p-2",value:e.chapterLink||"",onChange:a=>t(r=>({...r,chapterLink:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Date Of Publish"}),n.jsx("input",{type:"date",className:"w-full border rounded p-2",value:e.dateOfPublish||"",onChange:a=>t(r=>({...r,dateOfPublish:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Place Of Publish"}),n.jsx("textarea",{className:"w-full border rounded p-2",value:e.placeOfPublish||"",onChange:a=>t(r=>({...r,placeOfPublish:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Edition"}),n.jsx("input",{className:"w-full border rounded p-2",value:e.edition||"",onChange:a=>t(r=>({...r,edition:a.target.value}))})]})]})}function Woe({form:e,setForm:t}){return n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium",children:["Complete Name of Journal and Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{className:"w-full border rounded p-2",value:e.journalAddress||"",onChange:a=>t(r=>({...r,journalAddress:a.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium",children:["Title Of The Publication ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{className:"w-full border rounded p-2",value:e.title||"",onChange:a=>t(r=>({...r,title:a.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium",children:["Date Published ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",className:"w-full border rounded p-2",value:e.datePublished||"",onChange:a=>t(r=>({...r,datePublished:a.target.value})),required:!0})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Vol., Issue Number, & Page Nos."}),n.jsx("textarea",{className:"w-full border rounded p-2",value:e.volume||"",onChange:a=>t(r=>({...r,volume:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Date Published"}),n.jsx("input",{type:"date",className:"w-full border rounded p-2",value:e.datePublished||"",onChange:a=>t(r=>({...r,datePublished:a.target.value}))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Journal Category (W.X.Y)"}),n.jsx("input",{className:"w-full border rounded p-2",value:e.journalCategory||"",onChange:a=>t(r=>({...r,journalCategory:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Name Of Authors"}),n.jsx("input",{className:"w-full border rounded p-2",value:e.authors||"",onChange:a=>t(r=>({...r,authors:a.target.value}))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Impact Factor"}),n.jsx("input",{className:"w-full border rounded p-2",value:e.impactFactor||"",onChange:a=>t(r=>({...r,impactFactor:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"DOI #"}),n.jsx("input",{className:"w-full border rounded p-2",value:e.doi||"",onChange:a=>t(r=>({...r,doi:a.target.value}))})]})]})]})}function Yoe({form:e,setForm:t}){return n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium",children:["Name Of Authors ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{className:"w-full border rounded p-2",value:e.authors||"",onChange:a=>t(r=>({...r,authors:a.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium",children:["Title of the Publication ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{className:"w-full border rounded p-2",value:e.title||"",onChange:a=>t(r=>({...r,title:a.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium",children:["Conference Paper Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",className:"w-full border rounded p-2",value:e.paperDate||"",onChange:a=>t(r=>({...r,paperDate:a.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Web Link"}),n.jsx("input",{className:"w-full border rounded p-2",value:e.webLink||"",onChange:a=>t(r=>({...r,webLink:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Conference Paper Date"}),n.jsx("input",{type:"date",className:"w-full border rounded p-2",value:e.paperDate||"",onChange:a=>t(r=>({...r,paperDate:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Funded By"}),n.jsx("textarea",{className:"w-full border rounded p-2",value:e.fundedBy||"",onChange:a=>t(r=>({...r,fundedBy:a.target.value}))})]})]})}function Goe(){const e=Qe(ee=>ee.user),{employees:t,submitProfileUpdateRequest:a}=Ae(),r=x.useMemo(()=>t.find(ee=>ee.id===e?.id||ee.email===e?.email),[t,e]),[s,l]=x.useState(r?.dependents&&r.dependents.length>0?r.dependents:[{name:"Ayesha Khan",relationship:"Daughter",dob:"2015-06-12",cnic:"17301-9876543-2",document:""},{name:"Ali Khan",relationship:"Son",dob:"2018-09-25",cnic:"17301-8765432-1",document:""}]),[c,d]=x.useState(!1),[m,f]=x.useState(null),[h,g]=x.useState({name:"",relationship:"",dob:"",cnic:"",document:""});function y(ee){const ie=ee.target.files[0];if(ie){const ae=new FileReader;ae.onload=Me=>{g(Ce=>({...Ce,document:Me.target.result}))},ae.readAsDataURL(ie)}}function v(ee){if(ee.preventDefault(),!r?.id)return;let ie=[...s];m!==null?ie[m]={...h}:ie.push({...h}),l(ie),a(r.id,{dependents:ie},{requestedBy:r?.name||e?.name,notes:"Dependent update"}),d(!1),f(null),g({name:"",relationship:"",dob:"",cnic:"",document:""})}function j(ee){if(!r?.id)return;const ie=s.filter((ae,Me)=>Me!==ee);l(ie),a(r.id,{dependents:ie},{requestedBy:r?.name||e?.name,notes:"Dependent removal"})}const[b,S]=x.useState(r?.publications&&r.publications.length>0?r.publications:[{title:"A Study on React Performance",journal:"International Journal of Web Dev",year:"2024",link:"https://example.com/react-performance",document:""},{title:"Modern HRMS Systems",journal:"HR Tech Review",year:"2023",link:"",document:""}]),[M,N]=x.useState(!1),[A,O]=x.useState(r?.qualifications&&r.qualifications.length>0?r.qualifications:[{degree:"PhD Computer Science",institution:"CECOS University",field:"Software Engineering",year:"2022",document:""},{degree:"MS Information Technology",institution:"FAST NUCES",field:"IT",year:"2019",document:""}]),[D,k]=x.useState(!1),[_,E]=x.useState(!1),[P,z]=x.useState({name:r?.name||"",designation:r?.designation||"",department:r?.department||"",faculty:r?.faculty||"",status:r?.status||"Active"}),[L,I]=x.useState(null),[J,T]=x.useState("book"),Y={book:{author:"",coAuthor:"",bookTitle:"",addition:"",website:"",isbn:"",publisher:"",chapterNo:"",chapterName:"",chapterLink:"",dateOfPublish:"",placeOfPublish:"",edition:"",document:""},research:{journalAddress:"",issn:"",nationality:"",title:"",volume:"",datePublished:"",journalCategory:"",authors:"",impactFactor:"",doi:"",document:""},conference:{authors:"",conferenceAddress:"",coAuthor:"",nationality:"",title:"",webLink:"",paperDate:"",fundedBy:"",document:""}},[V,B]=x.useState(Y.book);function U(ee){const ie=ee.target.files[0];if(ie){const ae=new FileReader;ae.onload=Me=>{B(Ce=>({...Ce,document:Me.target.result}))},ae.readAsDataURL(ie)}}function F(ee){if(ee.preventDefault(),!r?.id)return;let ie=[...b];L!==null?ie[L]={...V}:ie.push({...V}),S(ie),a(r.id,{publications:ie},{requestedBy:r?.name||e?.name,notes:"Publication update"}),N(!1),I(null),B({title:"",journal:"",year:"",link:"",document:""})}function W(ee){if(!r?.id)return;const ie=b.filter((ae,Me)=>Me!==ee);S(ie),a(r.id,{publications:ie},{requestedBy:r?.name||e?.name,notes:"Publication removal"})}const[ne,je]=x.useState(null),[H,fe]=x.useState({degree:"",institution:"",field:"",year:"",document:""});function we(ee){const ie=ee.target.files[0];if(ie){const ae=new FileReader;ae.onload=Me=>{fe(Ce=>({...Ce,document:Me.target.result}))},ae.readAsDataURL(ie)}}function se(ee){if(ee.preventDefault(),!r?.id)return;let ie=[...A];ne!==null?ie[ne]={...H}:ie.push({...H}),O(ie),a(r.id,{qualifications:ie},{requestedBy:r?.name||e?.name,notes:"Qualification update"}),k(!1),je(null),fe({degree:"",institution:"",field:"",year:"",document:""})}return n.jsxs(ca,{defaultValue:"profile",className:"space-y-6",children:[n.jsxs(da,{className:"mb-4",children:[n.jsx(qe,{value:"profile",children:"Profile"}),n.jsx(qe,{value:"dependents",children:"Dependents"}),n.jsx(qe,{value:"qualifications",children:"Qualifications"}),n.jsx(qe,{value:"publications",children:"Publications"}),n.jsx(qe,{value:"cecpf",children:"CECPF Provident Fund"})]}),n.jsx(Nt,{value:"dependents",children:n.jsxs(K,{title:"Dependents",children:[n.jsx("div",{className:"flex justify-end mb-2",children:n.jsx(X,{onClick:()=>{g({name:"",relationship:"",dob:"",cnic:"",document:""}),f(null),d(!0)},children:"Add Dependent"})}),s.length===0?n.jsx("div",{className:"text-gray-500",children:"No dependents added yet."}):n.jsx("ul",{className:"divide-y",children:s.map((ee,ie)=>n.jsxs("li",{className:"py-2 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:ee.name}),n.jsx("div",{className:"text-sm text-gray-600",children:ee.relationship}),n.jsxs("div",{className:"text-xs text-gray-500",children:["DOB: ",ee.dob]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["CNIC: ",ee.cnic]}),ee.document&&n.jsx("a",{href:ee.document,className:"text-blue-600 text-xs",target:"_blank",rel:"noopener noreferrer",children:"View Document"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{size:"sm",variant:"outline",onClick:()=>{g(ee),f(ie),d(!0)},children:"Edit"}),n.jsx(X,{size:"sm",variant:"danger",onClick:()=>j(ie),children:"Remove"})]})]},ie))})]})}),n.jsx(vt,{open:c,onClose:()=>d(!1),title:m!==null?"Edit Dependent":"Add Dependent",children:n.jsxs("form",{onSubmit:v,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Name"}),n.jsx("input",{className:"w-full border rounded p-2",value:h.name,onChange:ee=>g(ie=>({...ie,name:ee.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Relationship"}),n.jsx("input",{className:"w-full border rounded p-2",value:h.relationship,onChange:ee=>g(ie=>({...ie,relationship:ee.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Date of Birth"}),n.jsx("input",{type:"date",className:"w-full border rounded p-2",value:h.dob,onChange:ee=>g(ie=>({...ie,dob:ee.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"CNIC"}),n.jsx("input",{className:"w-full border rounded p-2",value:h.cnic,onChange:ee=>g(ie=>({...ie,cnic:ee.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Document"}),n.jsx(cl,{onChange:y}),h.document&&n.jsx("div",{className:"mt-2",children:n.jsx("a",{href:h.document,className:"text-blue-600 text-xs underline",target:"_blank",rel:"noopener noreferrer",children:"View Uploaded Document"})})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),n.jsx(X,{type:"submit",children:"Save"})]})]})}),n.jsxs(Nt,{value:"profile",children:[n.jsxs(K,{className:"relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-0 right-0 h-32 bg-linear-to-r from-blue-600 to-blue-800"}),n.jsx("div",{className:"relative pt-16 pb-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Nc,{name:r?.name||e?.name,size:"2xl",className:"ring-4 ring-white"}),n.jsx("div",{className:"absolute bottom-1 right-1 w-5 h-5 bg-green-500 border-2 border-white rounded-full"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?.name||e?.name}),n.jsx("p",{className:"text-gray-600",children:r?.designation||"Employee"}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[n.jsx(ge,{variant:"primary",children:r?.department||e?.department}),n.jsx(ge,{variant:"outline",children:r?.faculty||e?.faculty}),n.jsx(ge,{variant:r?.status==="Active"?"success":"warning",children:r?.status||"Active"})]})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(X,{variant:"outline",onClick:()=>{z({name:r?.name||"",designation:r?.designation||"",department:r?.department||"",faculty:r?.faculty||"",status:r?.status||"Active"}),E(!0)},className:"gap-2",children:[n.jsx(vp,{className:"w-4 h-4"}),"Edit Profile"]})})]})})]}),n.jsx(K,{className:"mt-4",title:"Information",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500 text-xs",children:"Email"}),n.jsx("div",{className:"font-medium",children:"john.doe@cecos.edu.pk"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500 text-xs",children:"Phone"}),n.jsx("div",{className:"font-medium",children:"+92 300 1234567"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500 text-xs",children:"CNIC"}),n.jsx("div",{className:"font-medium",children:"12345-6789012-3"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500 text-xs",children:"Joining Date"}),n.jsx("div",{className:"font-medium",children:"2022-08-15"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500 text-xs",children:"Address"}),n.jsx("div",{className:"font-medium",children:"123 Main Street, Peshawar"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500 text-xs",children:"Supervisor"}),n.jsx("div",{className:"font-medium",children:"Dr. Ahmad Khan"})]})]})})]}),n.jsx(Nt,{value:"publications",children:n.jsxs(K,{title:"Publications",className:"bg-gradient-to-br from-blue-50 to-white border border-blue-100 shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h4",{className:"text-lg font-bold text-blue-900 flex items-center gap-2",children:[n.jsxs("svg",{className:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 20h9"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19.5 3 21l1.5-4L16.5 3.5z"})]}),"Publications"]}),n.jsx(X,{onClick:()=>{B({title:"",journal:"",year:"",link:"",document:""}),I(null),N(!0)},className:"shadow-md",children:"+ Add Publication"})]}),b.length===0?n.jsx("div",{className:"text-gray-400 text-center py-8",children:"No publications added yet."}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.map((ee,ie)=>n.jsxs("div",{className:"rounded-xl border border-blue-100 bg-white/80 shadow p-4 flex flex-col gap-2 relative group hover:shadow-xl transition-all",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"inline-block px-2 py-0.5 rounded text-xs font-semibold bg-blue-100 text-blue-700 uppercase tracking-wide",children:ee.type||"Book"}),n.jsx("span",{className:"text-xs text-gray-400 ml-auto",children:ee.year||ee.datePublished||ee.dateOfPublish||ee.paperDate||""})]}),n.jsx("div",{className:"font-bold text-blue-900 text-base truncate",title:ee.title||ee.bookTitle,children:ee.type==="book"?ee.bookTitle:ee.title}),n.jsxs("div",{className:"text-sm text-gray-700 truncate",children:[ee.type==="book"&&ee.author,ee.type==="research"&&ee.journalAddress,ee.type==="conference"&&ee.conferenceAddress]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[ee.website&&n.jsx("a",{href:ee.website,className:"text-blue-600 text-xs underline",target:"_blank",rel:"noopener noreferrer",children:"Website"}),ee.doi&&n.jsx("a",{href:ee.doi,className:"text-blue-600 text-xs underline",target:"_blank",rel:"noopener noreferrer",children:"DOI"}),ee.webLink&&n.jsx("a",{href:ee.webLink,className:"text-blue-600 text-xs underline",target:"_blank",rel:"noopener noreferrer",children:"Web Link"}),ee.document&&n.jsx("a",{href:ee.document,className:"text-green-700 text-xs underline",target:"_blank",rel:"noopener noreferrer",children:"View Document"})]}),n.jsxs("div",{className:"flex gap-2 mt-2 opacity-0 group-hover:opacity-100 transition-opacity absolute top-2 right-2",children:[n.jsx(X,{size:"xs",variant:"outline",onClick:()=>{T(ee.type||"book"),B(ee.type?{...ee}:Y.book),I(ie),N(!0)},children:"Edit"}),n.jsx(X,{size:"xs",variant:"danger",onClick:()=>W(ie),children:"Remove"})]})]},ie))})]})}),n.jsx(Nt,{value:"cecpf",children:n.jsx(K,{title:"CECPF Provident Fund",children:n.jsxs("div",{className:"mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Apply for CECPF Provident Fund"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Submit your application for the CECOS Employees Contributory Provident Fund. Your request will be reviewed by the Finance department."}),n.jsx("div",{className:"max-w-xl",children:n.jsx(Voe,{})})]})})}),n.jsx(Nt,{value:"qualifications",children:n.jsxs(K,{title:"Qualifications",children:[n.jsx("div",{className:"flex justify-end mb-2",children:n.jsx(X,{onClick:()=>{fe({degree:"",institution:"",field:"",year:"",document:""}),je(null),k(!0)},children:"Add Qualification"})}),A.length===0?n.jsx("div",{className:"text-gray-500",children:"No qualifications added yet."}):n.jsx("ul",{className:"divide-y",children:A.map((ee,ie)=>n.jsxs("li",{className:"py-2 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:ee.degree}),n.jsxs("div",{className:"text-sm text-gray-600",children:[ee.institution," (",ee.year,")"]}),n.jsx("div",{className:"text-xs text-gray-500",children:ee.field})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{size:"sm",variant:"outline",onClick:()=>{fe(ee),je(ie),k(!0)},children:"Edit"}),n.jsx(X,{size:"sm",variant:"danger",onClick:()=>handleRemoveQualification(ie),children:"Remove"})]})]},ie))})]})}),n.jsx(vt,{open:_,onClose:()=>E(!1),title:"Edit Profile",children:n.jsxs("form",{onSubmit:ee=>{ee.preventDefault(),r?.id&&(a(r.id,P,{requestedBy:r?.name||e?.name,notes:"Profile update"}),E(!1))},className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Name"}),n.jsx("input",{className:"w-full border rounded p-2",value:P.name,onChange:ee=>z(ie=>({...ie,name:ee.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Designation"}),n.jsx("input",{className:"w-full border rounded p-2",value:P.designation,onChange:ee=>z(ie=>({...ie,designation:ee.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Department"}),n.jsx("input",{className:"w-full border rounded p-2",value:P.department,onChange:ee=>z(ie=>({...ie,department:ee.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Faculty"}),n.jsx("input",{className:"w-full border rounded p-2",value:P.faculty,onChange:ee=>z(ie=>({...ie,faculty:ee.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Status"}),n.jsxs("select",{className:"w-full border rounded p-2",value:P.status,onChange:ee=>z(ie=>({...ie,status:ee.target.value})),children:[n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{type:"button",variant:"outline",onClick:()=>E(!1),children:"Cancel"}),n.jsx(X,{type:"submit",children:"Save"})]})]})}),n.jsx(vt,{open:M,onClose:()=>{N(!1),I(null),T("book"),B(Y.book)},title:L!==null?"Edit Publication":"Add Publication",children:n.jsxs("form",{onSubmit:F,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Publication Type"}),n.jsxs("select",{className:"w-full border rounded p-2",value:J,onChange:ee=>{const ie=ee.target.value;T(ie),B(Y[ie])},disabled:L!==null,children:[n.jsx("option",{value:"book",children:"Book Writing"}),n.jsx("option",{value:"research",children:"Research Publication"}),n.jsx("option",{value:"conference",children:"Conference Paper"})]})]}),J==="book"&&n.jsx(Koe,{form:V,setForm:B}),J==="research"&&n.jsx(Woe,{form:V,setForm:B}),J==="conference"&&n.jsx(Yoe,{form:V,setForm:B}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Document"}),n.jsx(cl,{onChange:U}),V.document&&n.jsx("div",{className:"mt-2",children:n.jsx("a",{href:V.document,className:"text-blue-600 text-xs underline",target:"_blank",rel:"noopener noreferrer",children:"View Uploaded Document"})})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{type:"button",variant:"outline",onClick:()=>{N(!1),I(null),T("book"),B(Y.book)},children:"Cancel"}),n.jsx(X,{type:"submit",children:"Save"})]})]})}),n.jsx(vt,{open:D,onClose:()=>k(!1),title:ne!==null?"Edit Qualification":"Add Qualification",children:n.jsxs("form",{onSubmit:se,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Degree"}),n.jsx("input",{className:"w-full border rounded p-2",value:H.degree,onChange:ee=>fe(ie=>({...ie,degree:ee.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Institution"}),n.jsx("input",{className:"w-full border rounded p-2",value:H.institution,onChange:ee=>fe(ie=>({...ie,institution:ee.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Field"}),n.jsx("input",{className:"w-full border rounded p-2",value:H.field,onChange:ee=>fe(ie=>({...ie,field:ee.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Year"}),n.jsx("input",{className:"w-full border rounded p-2",value:H.year,onChange:ee=>fe(ie=>({...ie,year:ee.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Document"}),n.jsx(cl,{onChange:we})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{type:"button",variant:"outline",onClick:()=>k(!1),children:"Cancel"}),n.jsx(X,{type:"submit",children:"Save"})]})]})})]})}function Zoe(){const e=Qe(k=>k.user),{employees:t,promotions:a,addPromotion:r}=Ae(),s=x.useMemo(()=>t.find(k=>k.id===e?.id||k.email===e?.email),[t,e]),l=s?.id||e?.id,[c,d]=x.useState(!1),[m,f]=x.useState(null),{register:h,handleSubmit:g,reset:y,formState:{errors:v,isSubmitting:j}}=Lc({defaultValues:{effectiveDate:q(new Date,"yyyy-MM-dd"),expectedSalary:""}}),b=w8[s?.designation]||null,S=x.useMemo(()=>s?.joinDate?Math.floor((new Date-new Date(s.joinDate))/(365.25*24*60*60*1e3)):0,[s?.joinDate]),M=x.useMemo(()=>a.filter(k=>k.employeeId===l).sort((k,_)=>new Date(_.appliedOn)-new Date(k.appliedOn)),[a,l]),N=M.find(k=>k.status==="Pending"||k.status==="Under Review"),A=k=>{r({employeeId:l,requestedDesignation:b,reason:k.reason,achievements:k.achievements,qualifications:k.qualifications,yearsInService:S,effectiveDate:k.effectiveDate,proposedSalary:k.expectedSalary?parseInt(k.expectedSalary,10):void 0,documents:k.documents?.split(",").map(_=>_.trim()).filter(Boolean)||[]}),y(),d(!1)},O=k=>{const _={Pending:"warning","Under Review":"info",Approved:"success",Rejected:"error"};return n.jsx(ge,{variant:_[k]||"default",children:k})},D=k=>{switch(k){case"Approved":return n.jsx(Le,{className:"w-5 h-5 text-green-500"});case"Rejected":return n.jsx(Tt,{className:"w-5 h-5 text-red-500"});default:return n.jsx(Be,{className:"w-5 h-5 text-amber-500"})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Promotion Requests"}),n.jsx("p",{className:"text-gray-600",children:"Apply for career advancement"})]}),b&&!N&&n.jsxs(X,{onClick:()=>d(!0),className:"gap-2",children:[n.jsx(oi,{className:"w-5 h-5"}),"Request Promotion"]})]}),n.jsx(K,{className:"bg-linear-to-br from-indigo-50 to-purple-50 border-indigo-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6",children:[n.jsx("div",{className:"w-16 h-16 rounded-2xl bg-linear-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white",children:n.jsx(si,{className:"w-8 h-8"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Current Position"}),n.jsx("p",{className:"text-2xl font-bold text-indigo-600 mt-1",children:s?.designation||"Not Available"}),n.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-sm text-gray-600",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(qv,{className:"w-4 h-4"}),s?.department," Department"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Xe,{className:"w-4 h-4"}),S," years of service"]})]})]}),b&&n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Next Level"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(pu,{className:"w-5 h-5 text-green-500"}),n.jsx("span",{className:"text-lg font-semibold text-green-600",children:b})]})]})]})}),N&&n.jsx(K,{className:"bg-amber-50 border-amber-200",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center",children:n.jsx(Be,{className:"w-5 h-5 text-amber-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-amber-800",children:"Promotion Request In Progress"}),n.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:["Your request for promotion to ",N.requestedDesignation," is currently"," ",N.status.toLowerCase(),". Applied on"," ",q(ue(N.appliedOn),"MMM d, yyyy"),"."]})]}),O(N.status)]})}),n.jsx(K,{title:"Promotion History",subtitle:"Your career advancement journey",children:M.length===0?n.jsx(Fu,{icon:dj,title:"No Promotion Requests",description:"You haven't applied for any promotions yet. Start your career advancement journey!"}):n.jsx("div",{className:"space-y-4",children:M.map(k=>n.jsxs("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>f(k),children:[n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[D(k.status),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-gray-900",children:[k.currentDesignation,"  ",k.requestedDesignation]}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Applied on ",q(ue(k.appliedOn),"MMM d, yyyy")]}),n.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:k.reason})]})]}),O(k.status)]}),k.committeeReview&&n.jsxs("div",{className:"mt-3 pt-3 border-t",children:[n.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase",children:"Committee Review"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.committeeReview.notes})]})]},k.id))})}),n.jsx(vt,{isOpen:c,onClose:()=>d(!1),title:"Request Promotion",size:"lg",children:n.jsxs("form",{onSubmit:g(A),className:"space-y-6",children:[n.jsx("div",{className:"p-4 bg-linear-to-r from-indigo-50 to-purple-50 rounded-xl",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Current Position"}),n.jsx("p",{className:"font-semibold text-gray-900",children:s?.designation})]}),n.jsx(pu,{className:"w-6 h-6 text-indigo-500"}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Requested Position"}),n.jsx("p",{className:"font-semibold text-indigo-600",children:b})]})]})}),n.jsx(tt,{label:"Reason for Promotion",error:v.reason?.message,required:!0,children:n.jsx("textarea",{...h("reason",{required:"Please provide your reason for requesting promotion",minLength:{value:50,message:"Please provide at least 50 characters"}}),rows:4,placeholder:"Explain why you believe you deserve this promotion...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})}),n.jsx(tt,{label:"Key Achievements",error:v.achievements?.message,required:!0,children:n.jsx("textarea",{...h("achievements",{required:"Please list your key achievements"}),rows:3,placeholder:"List your significant achievements, projects, and contributions...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})}),n.jsx(tt,{label:"Additional Qualifications",error:v.qualifications?.message,children:n.jsx("textarea",{...h("qualifications"),rows:2,placeholder:"Any new degrees, certifications, or training completed...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})}),n.jsx(tt,{label:"Supporting Documents (comma separated)",children:n.jsx("input",{...h("documents"),type:"text",placeholder:"e.g., PhD Certificate, Research Papers, Performance Reviews",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),n.jsx(tt,{label:"Effective Date",error:v.effectiveDate?.message,children:n.jsx("input",{type:"date",...h("effectiveDate"),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),n.jsx(tt,{label:"Expected Salary (PKR)",error:v.expectedSalary?.message,children:n.jsx("input",{type:"number",min:0,step:"1000",...h("expectedSalary"),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Optional"})}),n.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl text-sm text-blue-700",children:[n.jsx("p",{className:"font-medium",children:"Note:"}),n.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1 text-blue-600",children:[n.jsx("li",{children:"Your request will be reviewed by a committee"}),n.jsx("li",{children:"The process typically takes 2-4 weeks"}),n.jsx("li",{children:"You may be called for an interview"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),n.jsx(X,{type:"submit",disabled:j,children:j?"Submitting...":"Submit Request"})]})]})}),n.jsx(vt,{isOpen:!!m,onClose:()=>f(null),title:"Promotion Request Details",children:m&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Requested Promotion"}),n.jsxs("p",{className:"font-semibold",children:[m.currentDesignation,"  ",m.requestedDesignation]})]}),O(m.status)]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Applied On"}),n.jsx("p",{className:"font-medium",children:q(ue(m.appliedOn),"MMM d, yyyy")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Years of Service"}),n.jsxs("p",{className:"font-medium",children:[m.yearsInService," years"]})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Reason"}),n.jsx("p",{className:"text-sm text-gray-700",children:m.reason})]}),m.achievements&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Achievements"}),n.jsx("p",{className:"text-sm text-gray-700",children:m.achievements})]}),m.documents?.length>0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Supporting Documents"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:m.documents.map((k,_)=>n.jsx("span",{className:"px-3 py-1 bg-gray-100 rounded-full text-sm text-gray-700",children:k},_))})]}),m.committeeReview&&n.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl",children:[n.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Committee Review"}),n.jsx("p",{className:"text-sm text-blue-700 mt-1",children:m.committeeReview.notes}),n.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:["Reviewed on ",m.committeeReview.date]})]}),m.hrDecision&&n.jsxs("div",{className:`p-4 rounded-xl ${m.status==="Approved"?"bg-green-50":m.status==="Rejected"?"bg-red-50":"bg-gray-50"}`,children:[n.jsx("p",{className:`text-sm font-medium ${m.status==="Approved"?"text-green-800":m.status==="Rejected"?"text-red-800":"text-gray-800"}`,children:"HR Decision"}),n.jsx("p",{className:`text-sm mt-1 ${m.status==="Approved"?"text-green-700":m.status==="Rejected"?"text-red-700":"text-gray-700"}`,children:m.hrDecision.notes})]})]})})]})}function Xoe(){const e=Qe(T=>T.user),{employees:t,resignations:a,addResignation:r,submitExitSurvey:s}=Ae(),l=x.useMemo(()=>t.find(T=>T.id===e?.id||T.email===e?.email),[t,e]),c=l?.id||e?.id,[d,m]=x.useState(!1),[f,h]=x.useState(!1),[g,y]=x.useState(!1),[v,j]=x.useState(null),[b,S]=x.useState(!1);x.useRef(null);const{register:M,handleSubmit:N,reset:A,formState:{errors:O}}=Lc({defaultValues:{noticePeriod:30}}),[D,k]=x.useState({}),_=x.useMemo(()=>a.filter(T=>T.employeeId===c).sort((T,Y)=>new Date(Y.appliedOn)-new Date(T.appliedOn)),[a,c]),E=_.find(T=>T.status==="Pending"||T.status==="Approved"),P=T=>{const Y=q(os(new Date,T.noticePeriod),"yyyy-MM-dd");r({employeeId:c,reason:T.reason,noticePeriod:parseInt(T.noticePeriod),lastWorkingDate:Y,detailedReason:T.detailedReason}),A(),m(!1)},z=()=>{v&&(s(v.id,D),h(!1),j(null),k({}))},L=T=>{const Y={Pending:"warning",Approved:"info",Completed:"success",Rejected:"error",Withdrawn:"default"};return n.jsx(ge,{variant:Y[T]||"default",children:T})},I=T=>{switch(T.type){case"select":return n.jsxs("select",{value:D[T.id]||"",onChange:Y=>k({...D,[T.id]:Y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"",children:"Select an option"}),T.options.map(Y=>n.jsx("option",{value:Y,children:Y},Y))]});case"rating":return n.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(Y=>n.jsx("button",{type:"button",onClick:()=>k({...D,[T.id]:Y}),className:`w-10 h-10 rounded-lg border-2 transition-all ${D[T.id]===Y?"bg-indigo-500 border-indigo-500 text-white":"border-gray-200 hover:border-indigo-300"}`,children:Y},Y))});case"boolean":return n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"button",onClick:()=>k({...D,[T.id]:!0}),className:`px-6 py-2 rounded-lg border-2 transition-all ${D[T.id]===!0?"bg-green-500 border-green-500 text-white":"border-gray-200 hover:border-green-300"}`,children:"Yes"}),n.jsx("button",{type:"button",onClick:()=>k({...D,[T.id]:!1}),className:`px-6 py-2 rounded-lg border-2 transition-all ${D[T.id]===!1?"bg-red-500 border-red-500 text-white":"border-gray-200 hover:border-red-300"}`,children:"No"})]});case"textarea":return n.jsx("textarea",{value:D[T.id]||"",onChange:Y=>k({...D,[T.id]:Y.target.value}),rows:3,placeholder:"Share your thoughts...",className:"w-full px-4 py-3 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"});default:return null}},J=()=>{const T=`
<!DOCTYPE html>
<html>
<head>
  <title>Resignation Form - CECOS University</title>
  <style>
    body { font-family: 'Times New Roman', serif; max-width: 800px; margin: 0 auto; padding: 40px; }
    .header { text-align: center; border-bottom: 2px solid #800020; padding-bottom: 20px; margin-bottom: 30px; }
    .logo { font-size: 24px; font-weight: bold; color: #800020; }
    .subtitle { color: #001F3F; font-size: 14px; margin-top: 5px; }
    h1 { color: #001F3F; font-size: 20px; margin: 30px 0; text-align: center; }
    .section { margin: 20px 0; }
    .section-title { font-weight: bold; color: #800020; border-bottom: 1px solid #ccc; padding-bottom: 5px; margin-bottom: 15px; }
    .field { margin: 10px 0; display: flex; }
    .field-label { font-weight: bold; width: 200px; }
    .field-value { flex: 1; border-bottom: 1px dotted #999; padding-left: 10px; }
    .checkbox-section { margin: 20px 0; padding: 15px; background: #f9f9f9; border-radius: 5px; }
    .checkbox-item { margin: 10px 0; }
    .signature-section { margin-top: 50px; display: flex; justify-content: space-between; }
    .signature-box { width: 45%; text-align: center; }
    .signature-line { border-top: 1px solid #000; margin-top: 60px; padding-top: 5px; }
    .footer { margin-top: 40px; text-align: center; font-size: 12px; color: #666; border-top: 1px solid #ccc; padding-top: 20px; }
    @media print { body { padding: 20px; } }
  </style>
</head>
<body>
  <div class="header">
    <div class="logo">CECOS UNIVERSITY</div>
    <div class="subtitle">Human Resource Management System</div>
  </div>
  
  <h1>EMPLOYEE RESIGNATION FORM</h1>
  
  <div class="section">
    <div class="section-title">Employee Information</div>
    <div class="field">
      <span class="field-label">Employee Name:</span>
      <span class="field-value">${l?.name||"_________________"}</span>
    </div>
    <div class="field">
      <span class="field-label">Employee Code:</span>
      <span class="field-value">${l?.code||"_________________"}</span>
    </div>
    <div class="field">
      <span class="field-label">Department:</span>
      <span class="field-value">${l?.department||"_________________"}</span>
    </div>
    <div class="field">
      <span class="field-label">Faculty:</span>
      <span class="field-value">${l?.faculty||"_________________"}</span>
    </div>
    <div class="field">
      <span class="field-label">Designation:</span>
      <span class="field-value">${l?.designation||"_________________"}</span>
    </div>
    <div class="field">
      <span class="field-label">Date of Joining:</span>
      <span class="field-value">${l?.joinDate?q(ue(l.joinDate),"MMMM d, yyyy"):"_________________"}</span>
    </div>
    <div class="field">
      <span class="field-label">Email:</span>
      <span class="field-value">${l?.email||"_________________"}</span>
    </div>
  </div>
  
  <div class="section">
    <div class="section-title">Resignation Details</div>
    <div class="field">
      <span class="field-label">Date of Resignation:</span>
      <span class="field-value">${q(new Date,"MMMM d, yyyy")}</span>
    </div>
    <div class="field">
      <span class="field-label">Last Working Day:</span>
      <span class="field-value">_________________</span>
    </div>
    <div class="field">
      <span class="field-label">Notice Period:</span>
      <span class="field-value"> 15 Days   30 Days   60 Days   90 Days</span>
    </div>
    <div class="field" style="flex-direction: column;">
      <span class="field-label">Reason for Resignation:</span>
      <div style="border: 1px solid #ccc; min-height: 80px; margin-top: 10px; padding: 10px;"></div>
    </div>
  </div>
  
  <div class="checkbox-section">
    <div class="section-title">Clearance Checklist (To be completed by HR)</div>
    <div class="checkbox-item"> All university property returned (ID Card, Keys, Equipment)</div>
    <div class="checkbox-item"> Library clearance obtained</div>
    <div class="checkbox-item"> IT department clearance (Email, System Access revoked)</div>
    <div class="checkbox-item"> Finance department clearance (No pending dues)</div>
    <div class="checkbox-item"> Handover of responsibilities completed</div>
    <div class="checkbox-item"> Exit interview conducted</div>
    <div class="checkbox-item"> Final settlement processed</div>
  </div>
  
  <div class="signature-section">
    <div class="signature-box">
      <div class="signature-line">Employee Signature</div>
      <div>Date: _________________</div>
    </div>
    <div class="signature-box">
      <div class="signature-line">HR Manager Signature</div>
      <div>Date: _________________</div>
    </div>
  </div>
  
  <div class="signature-section" style="margin-top: 30px;">
    <div class="signature-box">
      <div class="signature-line">HOD Signature</div>
      <div>Date: _________________</div>
    </div>
    <div class="signature-box">
      <div class="signature-line">Dean Signature</div>
      <div>Date: _________________</div>
    </div>
  </div>
  
  <div class="footer">
    <p>CECOS University - Human Resource Department</p>
    <p>This form must be submitted at least 30 days before the intended last working day.</p>
    <p>Form Generated: ${q(new Date,"MMMM d, yyyy - HH:mm")}</p>
  </div>
</body>
</html>
    `,Y=new Blob([T],{type:"text/html"}),V=URL.createObjectURL(Y),B=document.createElement("a");B.href=V,B.download=`Resignation_Form_${l?.name?.replace(/\s+/g,"_")||"Employee"}_${q(new Date,"yyyy-MM-dd")}.html`,B.click(),URL.revokeObjectURL(V),S(!0)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Resignation"}),n.jsx("p",{className:"text-gray-600",children:"Submit and manage resignation requests"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{variant:"outline",onClick:J,className:"gap-2",children:[n.jsx(xu,{className:"w-5 h-5"}),"Download Form"]}),!E&&n.jsxs(X,{variant:"outline",onClick:()=>m(!0),className:"gap-2 border-red-200 text-red-600 hover:bg-red-50",children:[n.jsx(wc,{className:"w-5 h-5"}),"Submit Resignation"]})]})]}),b&&!E&&n.jsx(K,{className:"bg-blue-50 border-blue-200",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:n.jsx(Le,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-blue-800",children:"Form Downloaded Successfully"}),n.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Please fill out the downloaded form, get required signatures, and then submit your resignation online. You can also print the form for physical submission."}),n.jsx(X,{size:"sm",className:"mt-3",onClick:()=>m(!0),children:"Submit Resignation Online"})]})]})}),E&&n.jsxs(K,{className:"border-amber-200 bg-amber-50",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-100 flex items-center justify-center",children:n.jsx(Jn,{className:"w-6 h-6 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-amber-800",children:"Active Resignation Request"}),n.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:["Status: ",E.status," | Last working date:"," ",q(ue(E.lastWorkingDate),"MMM d, yyyy")]}),n.jsxs("p",{className:"text-sm text-amber-600 mt-1",children:["Reason: ",E.reason]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[L(E.status),E.status==="Approved"&&!E.exitSurvey&&n.jsxs(X,{size:"sm",onClick:()=>{j(E),h(!0)},className:"gap-1",children:[n.jsx(ii,{className:"w-4 h-4"}),"Exit Survey"]})]})]}),n.jsx("div",{className:"mt-6 pt-6 border-t border-amber-200",children:n.jsx("div",{className:"flex items-center justify-between",children:[{label:"Submitted",done:!0},{label:"HR Review",done:E.status!=="Pending"},{label:"Exit Survey",done:!!E.exitSurvey},{label:"Handover",done:E.handoverStatus==="completed"},{label:"Completed",done:E.status==="Completed"}].map((T,Y)=>n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${T.done?"bg-green-500 text-white":"bg-gray-200 text-gray-500"}`,children:T.done?n.jsx(Le,{className:"w-5 h-5"}):Y+1}),n.jsx("span",{className:"text-xs text-gray-600 mt-1",children:T.label})]},Y))})})]}),n.jsx(K,{title:"Resignation History",children:_.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ht,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"No resignation history"})]}):n.jsx("div",{className:"space-y-4",children:_.map(T=>n.jsx("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:"Resignation Request"}),L(T.status)]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:T.reason}),n.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-sm text-gray-500",children:[n.jsxs("span",{children:["Applied: ",q(ue(T.appliedOn),"MMM d, yyyy")]}),n.jsxs("span",{children:["Last Day: ",q(ue(T.lastWorkingDate),"MMM d, yyyy")]}),n.jsxs("span",{children:["Notice: ",T.noticePeriod," days"]})]})]}),T.exitSurvey&&n.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[n.jsx(Le,{className:"w-5 h-5"}),n.jsx("span",{className:"text-sm",children:"Survey Completed"})]})]})},T.id))})}),n.jsx(K,{className:"bg-gray-50",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(Jn,{className:"w-6 h-6 text-gray-400 mt-1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Important Information"}),n.jsxs("ul",{className:"mt-2 space-y-1 text-sm text-gray-600",children:[n.jsx("li",{children:" Standard notice period is 30 days (may vary by contract)"}),n.jsx("li",{children:" Complete the exit survey to help us improve"}),n.jsx("li",{children:" Ensure proper handover of all responsibilities"}),n.jsx("li",{children:" Return all university property before last working day"}),n.jsx("li",{children:" Collect clearance certificate from HR"})]})]})]})}),n.jsx(vt,{isOpen:d,onClose:()=>m(!1),title:"Submit Resignation",size:"lg",children:n.jsxs("form",{onSubmit:N(P),className:"space-y-6",children:[n.jsxs("div",{className:"p-4 bg-red-50 rounded-xl text-sm text-red-700",children:[n.jsx("p",{className:"font-medium",children:"Please consider carefully before proceeding."}),n.jsx("p",{className:"mt-1",children:"This action will initiate your resignation process. You can discuss with HR if you have any concerns."})]}),n.jsx(tt,{label:"Primary Reason",error:O.reason?.message,required:!0,children:n.jsxs("select",{...M("reason",{required:"Please select a reason"}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"",children:"Select a reason"}),n.jsx("option",{value:"Better Opportunity",children:"Better Opportunity"}),n.jsx("option",{value:"Personal Reasons",children:"Personal Reasons"}),n.jsx("option",{value:"Relocation",children:"Relocation"}),n.jsx("option",{value:"Health Issues",children:"Health Issues"}),n.jsx("option",{value:"Career Change",children:"Career Change"}),n.jsx("option",{value:"Higher Studies",children:"Higher Studies"}),n.jsx("option",{value:"Retirement",children:"Retirement"}),n.jsx("option",{value:"Other",children:"Other"})]})}),n.jsx(tt,{label:"Detailed Explanation",error:O.detailedReason?.message,children:n.jsx("textarea",{...M("detailedReason"),rows:4,placeholder:"Please provide more details about your decision (optional)...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})}),n.jsx(tt,{label:"Notice Period (days)",error:O.noticePeriod?.message,required:!0,children:n.jsxs("select",{...M("noticePeriod",{required:"Please select notice period"}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:15,children:"15 days"}),n.jsx("option",{value:30,children:"30 days (Standard)"}),n.jsx("option",{value:60,children:"60 days"}),n.jsx("option",{value:90,children:"90 days"})]})}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),n.jsx(X,{type:"submit",className:"bg-red-600 hover:bg-red-700",children:"Submit Resignation"})]})]})}),n.jsx(vt,{isOpen:f,onClose:()=>h(!1),title:"Exit Survey",size:"lg",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Your feedback is valuable and will help us improve. Please take a moment to complete this survey."}),S8.map(T=>n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:T.question}),I(T)]},T.id)),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{variant:"outline",onClick:()=>h(!1),children:"Skip for Now"}),n.jsx(X,{onClick:z,children:"Submit Survey"})]})]})})]})}const el=[{id:10,title:"CECPF Provident Fund Policy",description:"Official policy document for the CECOS Employees Contributory Provident Fund (CECPF), including eligibility, application, and withdrawal procedures.",category:"Benefits",fileSize:"2.0 MB",format:"PDF",lastUpdated:"2021-12-10",status:"Active",downloadUrl:"/PDF's/4. CECPF 10 Dec 21.pdf"},{id:1,title:"Harassment Policy",description:"Comprehensive guidelines on prevention, reporting, and handling of harassment cases in the workplace.",category:"Workplace Conduct",fileSize:"2.4 MB",format:"PDF",lastUpdated:"2024-11-15",status:"Active",downloadUrl:"/PDF's/HARASSMENT-POLICY.pdf"},{id:2,title:"COVID-19 Pandemic Attendance Policy",description:"Special attendance guidelines and protocols during COVID-19 pandemic situations.",category:"Attendance",fileSize:"1.8 MB",format:"PDF",lastUpdated:"2024-10-20",status:"Active",downloadUrl:"/PDF's/COVID-19 Pandemic Attendance Policy.pdf"},{id:3,title:"Faculty Promotion Proforma",description:"Official form and guidelines for faculty promotion applications and evaluation criteria.",category:"Promotion",fileSize:"3.1 MB",format:"PDF",lastUpdated:"2024-12-01",status:"Active",downloadUrl:"/PDF's/Faculty Promotion Proforma_Updated (1).docx.pdf"},{id:4,title:"Private Consultancy Policy",description:"Official notification and guidelines for CECOS University private consultancy services and regulations.",category:"Workplace Conduct",fileSize:"1.2 MB",format:"PDF",lastUpdated:"2024-09-15",status:"Active",downloadUrl:"/PDF's/Notification CECOS University Private Consultancy.pdf"},{id:5,title:"CPD Courses Policy",description:"Continuing Professional Development (CPD) courses policy and enrollment guidelines for faculty and staff.",category:"Benefits",fileSize:"0.9 MB",format:"PDF",lastUpdated:"2024-08-22",status:"Active",downloadUrl:"/PDF's/Notification CPD Courses Policy.pdf"},{id:6,title:"Employees Grievance Committee",description:"Official notification establishing the Employees Grievance Committee and procedures for filing complaints.",category:"Workplace Conduct",fileSize:"0.7 MB",format:"PDF",lastUpdated:"2024-07-10",status:"Active",downloadUrl:"/PDF's/Notification Employees Grievance Committee.pdf"},{id:7,title:"Employees Resignation Policy",description:"Official policy and procedures for employee resignation, notice period, and exit formalities.",category:"Workplace Conduct",fileSize:"1.1 MB",format:"PDF",lastUpdated:"2024-06-18",status:"Active",downloadUrl:"/PDF's/Notification of Employees Resignation Policy.pdf"},{id:8,title:"Official Email Policy",description:"Guidelines and policy for official email usage, communication protocols, and email security.",category:"Workplace Conduct",fileSize:"0.8 MB",format:"PDF",lastUpdated:"2024-05-25",status:"Active",downloadUrl:"/PDF's/Notification of Official Email.pdf"},{id:9,title:"Provident Fund Policy",description:"Official notification regarding employee provident fund contributions, benefits, and withdrawal procedures.",category:"Benefits",fileSize:"1.5 MB",format:"PDF",lastUpdated:"2024-04-12",status:"Active",downloadUrl:"/PDF's/Notification of Provident Fund.pdf"}],vD=["All","Workplace Conduct","Attendance","Promotion","Leave","Salary","Benefits"];function Qoe(){const[e,t]=x.useState(""),[a,r]=x.useState("All"),s=el.filter(m=>{const f=m.title.toLowerCase().includes(e.toLowerCase())||m.description.toLowerCase().includes(e.toLowerCase())||m.category.toLowerCase().includes(e.toLowerCase()),h=a==="All"||m.category===a;return f&&h}),l=m=>{const f=document.createElement("a");f.href=m.downloadUrl,f.download=`${m.title}.pdf`,document.body.appendChild(f),f.click(),document.body.removeChild(f)},c=m=>{const f={Active:"success",Archived:"default","Under Review":"warning"};return n.jsx(ge,{variant:f[m]||"default",children:m})},d={All:el.length,"Workplace Conduct":el.filter(m=>m.category==="Workplace Conduct").length,Attendance:el.filter(m=>m.category==="Attendance").length,Promotion:el.filter(m=>m.category==="Promotion").length,Leave:0,Salary:0,Benefits:0};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Policy Advisory"}),n.jsx("p",{className:"text-gray-600",children:"Access and download official university policies and documents"})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[n.jsx(K,{className:"bg-linear-to-br from-blue-50 to-blue-100 border-blue-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(ht,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-blue-900",children:el.length}),n.jsx("p",{className:"text-xs text-blue-700",children:"Available Policies"})]})]})}),n.jsx(K,{className:"bg-linear-to-br from-green-50 to-green-100 border-green-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(Le,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-green-900",children:el.filter(m=>m.status==="Active").length}),n.jsx("p",{className:"text-xs text-green-700",children:"Active"})]})]})}),n.jsx(K,{className:"bg-linear-to-br from-purple-50 to-purple-100 border-purple-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:n.jsx(Wt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-purple-900",children:vD.length-1}),n.jsx("p",{className:"text-xs text-purple-700",children:"Categories"})]})]})}),n.jsx(K,{className:"bg-linear-to-br from-amber-50 to-amber-100 border-amber-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-amber-500 rounded-lg",children:n.jsx(Be,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-amber-900",children:new Date(Math.max(...el.map(m=>new Date(m.lastUpdated)))).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),n.jsx("p",{className:"text-xs text-amber-700",children:"Last Updated"})]})]})})]}),n.jsx(K,{children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Cn,{type:"text",placeholder:"Search policies by title, category, or description...",value:e,onChange:m=>t(m.target.value),className:"w-full",inputClassName:"pr-4 py-2.5 text-sm"})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(oo,{className:"w-5 h-5 text-gray-400"}),n.jsx("select",{value:a,onChange:m=>r(m.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:vD.map(m=>n.jsxs("option",{value:m,children:[m," ",d[m]>0&&`(${d[m]})`]},m))})]})]})}),s.length===0?n.jsx(K,{children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ph,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Policies Found"}),n.jsx("p",{className:"text-gray-500",children:"Try adjusting your search query or filter to find what you're looking for."})]})}):n.jsx("div",{className:"grid lg:grid-cols-2 gap-6",children:s.map(m=>n.jsx(K,{className:"hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[n.jsx("div",{className:"p-3 bg-blue-50 rounded-lg shrink-0",children:n.jsx(ht,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-1",children:m.title}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-gray-500",children:[n.jsx(ge,{size:"xs",variant:"info",children:m.category}),n.jsx("span",{children:""}),n.jsx("span",{children:m.format}),n.jsx("span",{children:""}),n.jsx("span",{children:m.fileSize})]})]})]}),c(m.status)]}),n.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:m.description}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsx(Be,{className:"w-4 h-4"}),n.jsxs("span",{children:["Updated: ",new Date(m.lastUpdated).toLocaleDateString()]})]}),n.jsxs(X,{size:"sm",onClick:()=>l(m),className:"gap-2",children:[n.jsx(Wt,{className:"w-4 h-4"}),"Download"]})]})]})},m.id))}),n.jsx(K,{className:"bg-linear-to-r from-blue-50 to-indigo-50 border-blue-200",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg shrink-0",children:n.jsx(ph,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Important Notice"}),n.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"All employees are required to review and acknowledge the policies relevant to their role. For questions or clarifications about any policy, please contact the HR department."}),n.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 list-disc list-inside",children:[n.jsx("li",{children:"Policies are regularly updated to reflect current regulations"}),n.jsx("li",{children:"Download and keep a copy for your reference"}),n.jsx("li",{children:"Contact HR if you need assistance understanding any policy"})]})]})]})})]})}function Joe(){const e=Qe(v=>v.user),{employees:t,leaves:a,payrollRuns:r}=Ae(),s=Ae(v=>v.getProfileCompletion),l=x.useMemo(()=>t.find(v=>v.id===e?.id||v.email===e?.email),[t,e]),c=l?.leaveBalance||{},d=x.useMemo(()=>l?s(l.id):{percent:0,missing:[]},[l,s]),f=x.useMemo(()=>a.filter(v=>v.employeeId===l?.id).sort((v,j)=>ue(j.appliedOn)-ue(v.appliedOn)),[a,l]).slice(0,5),h=x.useMemo(()=>l?r.filter(v=>v.items).flatMap(v=>v.items.filter(j=>j.employeeId===l.id).map(j=>({period:v.period,status:v.status,netPay:j.netPay,postedOn:v.postedOn||v.generatedOn}))).slice(0,6):[],[r,l]),g=x.useMemo(()=>{const v=(l?.lifecycle||[]).map(b=>({date:b.effectiveDate,title:b.title||b.type,detail:b.meta?.designation||b.meta?.reason||""})),j=(l?.salaryHistory||[]).map(b=>({date:b.effectiveDate,title:"Salary change",detail:`${b.type||"adjustment"} to ${b.amount}`}));return[...v,...j].filter(b=>b.date).sort((b,S)=>ue(S.date)-ue(b.date)).slice(0,10)},[l]);if(!l)return n.jsx("div",{className:"text-sm text-gray-600",children:"Profile not found."});const y=v=>v==="Approved"?"success":v==="Pending"||v==="Forwarded"?"warning":v==="Rejected"?"error":"default";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Self-Service"}),n.jsx("p",{className:"text-gray-600",children:"View your data, balances, and history (read-only)"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:[n.jsx(K,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Mr,{className:"w-8 h-8 text-indigo-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Profile"}),n.jsx("p",{className:"font-semibold text-gray-900",children:l.name}),n.jsx("p",{className:"text-sm text-gray-600",children:l.designation}),n.jsxs("p",{className:"text-xs text-gray-500",children:[l.department,"  ",l.faculty]})]})]})}),n.jsx(K,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Xe,{className:"w-8 h-8 text-emerald-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Leave Balance"}),n.jsx("div",{className:"grid grid-cols-2 gap-1 text-sm text-gray-800",children:Object.entries(c).map(([v,j])=>n.jsxs("span",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"capitalize",children:v.replace("_"," ")}),n.jsx(ge,{variant:j>0?"success":"warning",children:j})]},v))})]})]})}),n.jsx(K,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(tr,{className:"w-8 h-8 text-amber-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Payslips"}),n.jsx("p",{className:"text-sm text-gray-800",children:h.length>0?`${h[0].period?.month||""} ${h[0].period?.year||""}`:"None available"})]})]})}),n.jsx(K,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Mr,{className:"w-8 h-8 text-emerald-600"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Profile Completion"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ge,{variant:d.percent>=90?"success":d.percent>=70?"warning":"error",children:[d.percent,"%"]}),d.missing&&d.missing.length>0&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Missing: ",d.missing.slice(0,3).join(", "),d.missing.length>3?"":""]})]})]})]})})]}),n.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[n.jsxs(K,{children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gs,{className:"w-5 h-5 text-gray-500"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"Recent Leave Requests"})]})}),f.length===0?n.jsx("p",{className:"text-sm text-gray-500",children:"No leave requests yet."}):n.jsx("div",{className:"space-y-2 text-sm text-gray-800",children:f.map(v=>n.jsxs("div",{className:"flex items-center justify-between rounded border px-3 py-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium capitalize",children:v.type.replace("_"," ")}),n.jsxs("p",{className:"text-xs text-gray-500",children:[v.startDate,"  ",v.endDate," (",v.days,"d)"]})]}),n.jsx(ge,{variant:y(v.status),children:v.status})]},v.id))})]}),n.jsxs(K,{children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Be,{className:"w-5 h-5 text-gray-500"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"Service History"})]})}),g.length===0?n.jsx("p",{className:"text-sm text-gray-500",children:"No history available."}):n.jsx("div",{className:"space-y-2 text-sm text-gray-800",children:g.map((v,j)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:v.title}),n.jsx("p",{className:"text-xs text-gray-500",children:v.detail})]}),n.jsx("span",{className:"text-xs text-gray-500",children:v.date&&q(ue(v.date),"PPP")})]},`${v.date}-${j}`))})]})]}),n.jsxs(K,{children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tr,{className:"w-5 h-5 text-gray-500"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"Payslips (last 6)"})]})}),h.length===0?n.jsx("p",{className:"text-sm text-gray-500",children:"No payslips available yet."}):n.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-3 text-sm text-gray-800",children:h.map((v,j)=>n.jsxs("div",{className:"border rounded-lg p-3",children:[n.jsxs("p",{className:"font-medium",children:[v.period?.month," ",v.period?.year]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Net Pay: ",v.netPay]}),n.jsx(ge,{variant:v.status==="Posted"?"success":"info",children:v.status||"Draft"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:v.postedOn||"Unposted"})]},j))})]})]})}const ece={submitted:"info",returned:"warning","hod-confirmed":"primary","vc-approved":"success",pending:"secondary"},bD=e=>({period:e,workload:{teachingLoad:"",projectSupervision:"",advisory:"",admin:""},rubric:{teaching:"",research:"",service:""},grievance:"",attachments:[]});function tce(){const{user:e,activeRole:t}=Qe(),a=Ae(D=>D.employees),r=Ae(D=>D.submitPamsForm),s=Ae(D=>D.getPamsForEmployee),l=t==="hod",c=x.useMemo(()=>a.find(D=>D.id===e?.id||D.email===e?.email),[a,e]),d=new Date,m=Math.floor(d.getMonth()/3)+1,f=`${d.getFullYear()}-Q${m}`,[h,g]=x.useState("workload"),[y,v]=x.useState(()=>bD(f)),[j,b]=x.useState(""),[S,M]=x.useState(!1),N=x.useMemo(()=>c?s(c.id):[],[c,s]),A=(D,k)=>{v(_=>{const[E,P]=D.split(".");return P?{..._,[E]:{..._[E],[P]:k}}:{..._,[D]:k}})},O=D=>{if(D.preventDefault(),!c){b("No employee profile found.");return}M(!0),r({employeeId:c.id,employeeName:c.name,department:c.department,faculty:c.faculty,category:t==="hod"?"hod":"faculty",period:y.period,workload:y.workload,rubric:y.rubric,grievance:y.grievance,attachments:y.attachments.map(k=>({id:k.id,name:k.name,size:k.size,type:k.type})),by:"employee"}),M(!1),b("PAMS submitted to HOD for review. You will be invited for confirmation."),v(bD(f)),g("workload")};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Performance & Workload (PAMS)"}),n.jsx("p",{className:"text-gray-600",children:"Submit workload, teaching, research, and grievances in one flow."}),l&&n.jsx("p",{className:"text-sm text-indigo-600 mt-1",children:"Submitting as HOD  this will route to the Dean for review."})]})}),n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(gs,{className:"w-5 h-5 text-gray-500"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"New submission"})]}),n.jsxs("form",{onSubmit:O,className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[n.jsxs("label",{className:"text-sm text-gray-700 font-medium",children:["Period",n.jsx("input",{className:"mt-1",value:y.period,onChange:D=>A("period",D.target.value),placeholder:"2026-Q1"})]}),n.jsxs("label",{className:"text-sm text-gray-700 font-medium",children:["Department",n.jsx("input",{className:"mt-1",value:c?.department||"",disabled:!0})]}),n.jsxs("label",{className:"text-sm text-gray-700 font-medium",children:["Faculty",n.jsx("input",{className:"mt-1",value:c?.faculty||"",disabled:!0})]})]}),n.jsxs(ca,{value:h,onValueChange:g,children:[n.jsxs(da,{children:[n.jsx(qe,{value:"workload",children:"Workload"}),n.jsx(qe,{value:"rubric",children:l?"HOD PAMS":"Faculty PAMS"}),n.jsx(qe,{value:"grievance",children:"Grievance/Suggestion"}),n.jsx(qe,{value:"attachments",children:"Attachments"})]}),n.jsxs(Nt,{value:"workload",className:"space-y-3 mt-4",children:[n.jsx(tl,{label:"Teaching load",placeholder:"Courses, sections, contact hours, labs, prep/assessment",value:y.workload.teachingLoad,onChange:D=>A("workload.teachingLoad",D)}),n.jsx(tl,{label:"Project supervision",placeholder:"FYP teams, co-supervision details",value:y.workload.projectSupervision,onChange:D=>A("workload.projectSupervision",D)}),n.jsx(tl,{label:"Student advisory",placeholder:"Batch advisory, hours per week",value:y.workload.advisory,onChange:D=>A("workload.advisory",D)}),n.jsx(tl,{label:"Administrative load",placeholder:"Coordinator/focal roles with cadence (weekly/biweekly)",value:y.workload.admin,onChange:D=>A("workload.admin",D)})]}),n.jsxs(Nt,{value:"rubric",className:"space-y-3 mt-4",children:[n.jsx(tl,{label:"Teaching effectiveness",placeholder:"SETE outcomes, course completion, attendance tracking",value:y.rubric.teaching,onChange:D=>A("rubric.teaching",D)}),n.jsx(tl,{label:"Research & funding",placeholder:"Publications (HEC W/X/Y), impact factors, grants",value:y.rubric.research,onChange:D=>A("rubric.research",D)}),n.jsx(tl,{label:"Service & community",placeholder:"Committees, societies, outreach, evaluations",value:y.rubric.service,onChange:D=>A("rubric.service",D)})]}),n.jsx(Nt,{value:"grievance",className:"space-y-3 mt-4",children:n.jsx(tl,{label:"Grievance / Suggestion",placeholder:"Optional: Annex D details (issues, suggestions, evidence)",value:y.grievance,onChange:D=>A("grievance",D),rows:4})}),n.jsx(Nt,{value:"attachments",className:"space-y-3 mt-4",children:n.jsx(cl,{label:"Supporting documents",value:y.attachments,onChange:D=>v(k=>({...k,attachments:D})),helper:"Attach Workload Form, PAMS rubric, CPD policy acknowledgment, or evidence.",maxFiles:5,maxSizeMB:10})})]}),j&&n.jsx("p",{className:"text-sm text-emerald-600",children:j}),n.jsx("div",{className:"flex items-center justify-end gap-2",children:n.jsxs(X,{type:"submit",disabled:S||!c,className:"flex items-center gap-2",children:[S?n.jsx(CD,{className:"w-4 h-4 animate-spin"}):n.jsx(Le,{className:"w-4 h-4"}),"Submit to HOD"]})})]})]}),n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(T7,{className:"w-5 h-5 text-gray-500"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"Your submissions"})]}),N.length===0?n.jsx("p",{className:"text-sm text-gray-600",children:"No PAMS submissions yet."}):n.jsx("div",{className:"space-y-3",children:N.map(D=>n.jsxs("div",{className:"border rounded-lg p-3 grid md:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Period"}),n.jsx("p",{className:"font-semibold text-gray-900",children:D.period}),n.jsx("p",{className:"text-xs text-gray-500",children:D.submittedAt||""})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Workload"}),n.jsx("p",{className:"text-sm text-gray-800 line-clamp-2",children:D.workload?.teachingLoad})]}),n.jsxs("div",{className:"text-sm text-gray-800",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"HOD review"}),n.jsx("p",{children:D.hodReview?.comment||"Pending meeting"}),D.hodReview?.meetingDate&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Meeting: ",D.hodReview.meetingDate]})]}),n.jsxs("div",{className:"flex items-center justify-between md:justify-end gap-2",children:[n.jsx(ge,{variant:ece[D.status]||"secondary",children:D.status}),D.vcReview?.status==="vc-approved"&&n.jsx(ge,{variant:"success",children:"VC approved"})]})]},D.id))})]}),n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(si,{className:"w-5 h-5 text-gray-500"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"Reminders"})]}),n.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-700 space-y-1",children:[n.jsx("li",{children:"Enter weekly cadence for admin roles (coordinator/focal) to reflect credit guidance."}),n.jsx("li",{children:"Attach Workload Form and PAMS rubric; acknowledge CPD policy where applicable."}),n.jsx("li",{children:"Returned submissions should be updated and resubmitted before meeting with HOD."})]})]})]})}function tl({label:e,value:t,onChange:a,placeholder:r,rows:s=2}){return n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e,n.jsx("textarea",{rows:s,className:"mt-1",value:t,onChange:l=>a(l.target.value),placeholder:r})]})}function nce(){return n.jsx(gi,{children:n.jsxs(Se,{element:n.jsx(rle,{}),children:[n.jsx(Se,{index:!0,element:n.jsx(sle,{})}),n.jsx(Se,{path:"attendance",element:n.jsx(Uoe,{})}),n.jsx(Se,{path:"leave",element:n.jsx(qoe,{})}),n.jsx(Se,{path:"salary",element:n.jsx(Hoe,{})}),n.jsx(Se,{path:"self-service",element:n.jsx(Joe,{})}),n.jsx(Se,{path:"profile",element:n.jsx(Goe,{})}),n.jsx(Se,{path:"promotions",element:n.jsx(Zoe,{})}),n.jsx(Se,{path:"resignation",element:n.jsx(Xoe,{})}),n.jsx(Se,{path:"policy-advisory",element:n.jsx(Qoe,{})}),n.jsx(Se,{path:"pams",element:n.jsx(tce,{})}),n.jsx(Se,{path:"*",element:n.jsx(hs,{to:".",replace:!0})})]})})}const ace=[{path:"/president",label:"Dashboard",icon:za,end:!0},{path:"/president/employees",label:"All Employees",icon:en},{path:"/president/medical-leaves",label:"Medical Leaves",icon:ht},{path:"/president/reports",label:"Reports",icon:li},{path:"/president/analytics",label:"Analytics",icon:lj},{path:"/president/advisory",label:"Advisory",icon:oj},{path:"/president/settings",label:"Settings",icon:_r}];function rce(){return n.jsx(yi,{portalKey:"president",portalName:"President Portal",navItems:ace})}function sce(){const e=Ae(f=>f.employees),t=e.length,a=e.filter(f=>f.status==="Active").length,r=[...new Set(e.map(f=>f.department))].length,s=e.reduce((f,h)=>f+(h.salaryBase||0),0),l=[{label:"Total Employees",value:t,icon:en,color:"from-blue-500 to-cyan-500"},{label:"Active Staff",value:a,icon:en,color:"from-emerald-500 to-teal-500"},{label:"Departments",value:r,icon:Ql,color:"from-amber-400 to-orange-500"},{label:"Total Payroll",value:`$${s.toLocaleString()}`,icon:nr,color:"from-purple-500 to-fuchsia-500"}],d=["Jun","Jul","Aug","Sep","Oct","Nov"].map((f,h)=>{const g=s*.85,y=(s-g)/5*h,v=(Math.random()-.5)*s*.03;return{month:f,payroll:Math.round(g+y+v)}}),m=({active:f,payload:h})=>f&&h&&h.length?n.jsxs("div",{className:"glass p-3 rounded-lg shadow-lg border border-white/20",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:h[0].payload.month}),n.jsxs("p",{className:"text-lg font-bold text-purple-600",children:["$",h[0].value.toLocaleString()]})]}):null;return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Executive Overview"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"High-level insights and performance metrics."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map(f=>n.jsxs("div",{className:"glass p-6 rounded-2xl card-hover relative overflow-hidden group",children:[n.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 bg-linear-to-br ${f.color} opacity-10 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110`}),n.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:f.label}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:f.value})]}),n.jsx("div",{className:`p-3 rounded-xl bg-linear-to-br ${f.color} text-white shadow-lg`,children:n.jsx(f.icon,{className:"w-6 h-6"})})]})]},f.label))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsx(K,{title:"Department Distribution",children:n.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-xl border border-dashed border-gray-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ql,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-400 font-medium",children:"Distribution Chart"})]})})}),n.jsx(K,{title:"Payroll Trends",children:n.jsx("div",{className:"h-64 pt-4",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Iu,{data:d,margin:{top:5,right:20,left:10,bottom:5},children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"month",stroke:"#6b7280",style:{fontSize:"0.875rem",fontWeight:500}}),n.jsx(Jt,{stroke:"#6b7280",style:{fontSize:"0.75rem"},tickFormatter:f=>`$${(f/1e3).toFixed(0)}k`}),n.jsx(ut,{content:n.jsx(m,{})}),n.jsx(Tc,{type:"monotone",dataKey:"payroll",stroke:"url(#colorGradient)",strokeWidth:3,dot:{fill:"#a855f7",r:5},activeDot:{r:7,fill:"#9333ea"}}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[n.jsx("stop",{offset:"0%",stopColor:"#a855f7"}),n.jsx("stop",{offset:"100%",stopColor:"#d946ef"})]})})]})})})})]})]})}function ice(){const e=Ae(a=>a.employees),t=()=>{const a=Ns.unparse(e),r=new Blob([a],{type:"text/csv"}),s=URL.createObjectURL(r),l=document.createElement("a");l.href=s,l.download="all_employees.csv",l.click()};return n.jsx(K,{title:"All Employees",subtitle:"View all university staff records",actions:n.jsxs(X,{variant:"outline",onClick:t,children:[n.jsx(Wt,{className:"w-4 h-4"})," Export CSV"]}),children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Code"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Faculty"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Designation"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(a=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:a.code}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a.name}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:a.faculty||"-"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:a.department}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:a.designation}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsx(ge,{variant:a.status==="Active"?"success":"default",children:a.status})})]},a.id))})]})})})}const ih=["#8b5cf6","#3b82f6","#10b981","#f59e0b","#ef4444","#ec4899"],lce=[{id:"workforce",label:"Workforce",icon:en},{id:"attendance",label:"Attendance",icon:Be},{id:"leaves",label:"Leaves",icon:Xe},{id:"payroll",label:"Payroll",icon:nr}];function oce(){const e=Ae(v=>v.employees),t=Ae(v=>v.attendance),a=Ae(v=>v.leaves),[r,s]=x.useState("workforce"),l=x.useMemo(()=>{const v={};return e.forEach(j=>{const b=j.faculty||"Other";v[b]=(v[b]||0)+1}),Object.entries(v).map(([j,b])=>({name:j,value:b}))},[e]),c=x.useMemo(()=>{const v={};return e.forEach(j=>{v[j.department]=(v[j.department]||0)+1}),Object.entries(v).map(([j,b])=>({name:j,count:b})).sort((j,b)=>b.count-j.count)},[e]),d=x.useMemo(()=>{const v=[];for(let j=5;j>=0;j--){const b=lo(new Date,j),S=q(b,"MMM yyyy"),M=t.filter(O=>{const D=ue(O.date);return q(D,"MMM yyyy")===S}),N=M.filter(O=>O.status==="Present").length,A=M.length;v.push({month:q(b,"MMM"),present:N,absent:M.filter(O=>O.status==="Absent").length,rate:A>0?Math.round(N/A*100):0})}return v},[t]),m=x.useMemo(()=>{const v={};return a.forEach(j=>{v[j.type]=(v[j.type]||0)+1}),Object.entries(v).map(([j,b])=>({name:j,value:b}))},[a]),f=x.useMemo(()=>({total:a.length,pending:a.filter(v=>v.status==="Pending").length,approved:a.filter(v=>v.status==="Approved").length,rejected:a.filter(v=>v.status==="Rejected").length}),[a]),h=x.useMemo(()=>{const v={};return e.forEach(j=>{const b=j.faculty||"Other";v[b]=(v[b]||0)+(j.salaryBase||0)}),Object.entries(v).map(([j,b])=>({name:j,value:Math.round(b/1e3)}))},[e]),g=e.reduce((v,j)=>v+(j.salaryBase||0),0),y=v=>{let j=[],b="";switch(v){case"workforce":j=e.map(O=>({Code:O.code,Name:O.name,Faculty:O.faculty,Department:O.department,Designation:O.designation,Status:O.status,Salary:O.salaryBase})),b="institution_workforce";break;case"attendance":j=d.map(O=>({Month:O.month,Present:O.present,Absent:O.absent,Rate:`${O.rate}%`})),b="institution_attendance";break;case"leaves":j=a.map(O=>({Employee:e.find(D=>D.id===O.employeeId)?.name||"Unknown",Type:O.type,From:O.from,To:O.to,Status:O.status})),b="institution_leaves";break;case"payroll":j=h.map(O=>({Faculty:O.name,Payroll:`$${O.value}k`})),b="institution_payroll";break}const S=Ns.unparse(j),M=new Blob([S],{type:"text/csv"}),N=URL.createObjectURL(M),A=document.createElement("a");A.href=N,A.download=`${b}_${q(new Date,"yyyy-MM-dd")}.csv`,A.click()};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Institution Reports"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Comprehensive institutional analytics"})]}),n.jsxs(X,{variant:"outline",onClick:()=>y(r),children:[n.jsx(Wt,{className:"w-4 h-4"}),"Export Report"]})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:lce.map(v=>n.jsxs("button",{onClick:()=>s(v.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${r===v.id?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[n.jsx(v.icon,{className:"w-4 h-4"}),v.label]},v.id))}),r==="workforce"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"glass p-4 rounded-xl text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length}),n.jsx("p",{className:"text-xs text-gray-500",children:"Total Staff"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:e.filter(v=>v.status==="Active").length}),n.jsx("p",{className:"text-xs text-gray-500",children:"Active"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:l.length}),n.jsx("p",{className:"text-xs text-gray-500",children:"Faculties"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:c.length}),n.jsx("p",{className:"text-xs text-gray-500",children:"Departments"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Faculty Distribution",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(rr,{children:[n.jsx(Ba,{data:l,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:3,dataKey:"value",label:({name:v,percent:j})=>`${(j*100).toFixed(0)}%`,children:l.map((v,j)=>n.jsx(An,{fill:ih[j%ih.length]},v.name))}),n.jsx(ut,{}),n.jsx(er,{})]})})})}),n.jsx(K,{title:"Department Breakdown",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Cr,{data:c.slice(0,6),layout:"vertical",children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{type:"number",tick:{fontSize:12}}),n.jsx(Jt,{type:"category",dataKey:"name",tick:{fontSize:11},width:100}),n.jsx(ut,{}),n.jsx(Qn,{dataKey:"count",fill:"#8b5cf6",radius:[0,4,4,0]})]})})})})]})]}),r==="attendance"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(K,{title:"Monthly Attendance Trend",subtitle:"Last 6 months",children:n.jsx("div",{className:"h-72",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(bo,{data:d,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"month",tick:{fontSize:12}}),n.jsx(Jt,{tick:{fontSize:12}}),n.jsx(ut,{}),n.jsx(er,{}),n.jsx(Ia,{type:"monotone",dataKey:"present",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Present"}),n.jsx(Ia,{type:"monotone",dataKey:"absent",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Absent"})]})})})}),n.jsx(K,{title:"Attendance Rate Trend",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Iu,{data:d,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"month",tick:{fontSize:12}}),n.jsx(Jt,{tick:{fontSize:12},domain:[0,100],unit:"%"}),n.jsx(ut,{formatter:v=>[`${v}%`,"Rate"]}),n.jsx(Tc,{type:"monotone",dataKey:"rate",stroke:"#8b5cf6",strokeWidth:3,dot:{fill:"#8b5cf6"}})]})})})})]}),r==="leaves"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"glass p-4 rounded-xl text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.total}),n.jsx("p",{className:"text-xs text-gray-500",children:"Total Requests"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-amber-500",children:[n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:f.pending}),n.jsx("p",{className:"text-xs text-gray-500",children:"Pending"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-emerald-500",children:[n.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:f.approved}),n.jsx("p",{className:"text-xs text-gray-500",children:"Approved"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-red-500",children:[n.jsx("p",{className:"text-2xl font-bold text-red-600",children:f.rejected}),n.jsx("p",{className:"text-xs text-gray-500",children:"Rejected"})]})]}),n.jsx(K,{title:"Leave Distribution by Type",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(rr,{children:[n.jsx(Ba,{data:m,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:v,value:j})=>`${v}: ${j}`,children:m.map((v,j)=>n.jsx(An,{fill:ih[j%ih.length]},v.name))}),n.jsx(ut,{}),n.jsx(er,{})]})})})})]}),r==="payroll"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"glass p-6 rounded-xl",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Monthly Payroll"}),n.jsxs("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:["$",g.toLocaleString()]})]}),n.jsxs("div",{className:"glass p-6 rounded-xl",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Average Salary"}),n.jsxs("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:["$",Math.round(g/e.length).toLocaleString()]})]}),n.jsxs("div",{className:"glass p-6 rounded-xl",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Annual Projection"}),n.jsxs("p",{className:"text-3xl font-bold text-emerald-600 mt-2",children:["$",(g*12).toLocaleString()]})]})]}),n.jsx(K,{title:"Payroll by Faculty",subtitle:"Monthly salary expense (in thousands)",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Cr,{data:h,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"name",tick:{fontSize:11}}),n.jsx(Jt,{tick:{fontSize:12},tickFormatter:v=>`$${v}k`}),n.jsx(ut,{formatter:v=>[`$${v}k`,"Payroll"]}),n.jsx(Qn,{dataKey:"value",fill:"#8b5cf6",radius:[4,4,0,0]})]})})})})]})]})}const nl=["#8b5cf6","#3b82f6","#10b981","#f59e0b","#ef4444","#ec4899","#06b6d4","#84cc16"];function cce(){const e=Ae(m=>m.employees);Ae(m=>m.attendance);const t=Ae(m=>m.leaves),a=x.useMemo(()=>[{range:"< $30k",min:0,max:3e4},{range:"$30k-50k",min:3e4,max:5e4},{range:"$50k-70k",min:5e4,max:7e4},{range:"$70k-100k",min:7e4,max:1e5},{range:"> $100k",min:1e5,max:1/0}].map(f=>({range:f.range,count:e.filter(h=>(h.salaryBase||0)>=f.min&&(h.salaryBase||0)<f.max).length})),[e]),r=x.useMemo(()=>[...new Set(e.map(f=>f.faculty).filter(Boolean))].map(f=>{const h=e.filter(g=>g.faculty===f);return h.reduce((g,y)=>g+(y.salaryBase||0),0)/h.length,{faculty:f.split(" ")[0],staffCount:h.length,attendance:Math.round(70+Math.random()*25),efficiency:Math.round(65+Math.random()*30),satisfaction:Math.round(60+Math.random()*35)}}),[e]),s=x.useMemo(()=>{const m={};return e.forEach(f=>{m[f.designation]=(m[f.designation]||0)+1}),Object.entries(m).map(([f,h])=>({name:f,size:h})).sort((f,h)=>h.size-f.size)},[e]),l=x.useMemo(()=>e.slice(0,50).map(m=>({name:m.name,experience:Math.floor(Math.random()*25)+1,salary:(m.salaryBase||5e4)/1e3,department:m.department})),[e]),c=x.useMemo(()=>{const m=e.reduce((y,v)=>y+(v.salaryBase||0),0),f=e.filter(y=>y.status==="Active").length/e.length*100,h=m/e.length,g=t.filter(y=>y.status==="Pending").length;return[{label:"Workforce Utilization",value:`${Math.round(f)}%`,trend:"up",change:"+2.3%",icon:en,color:"text-emerald-600"},{label:"Avg. Compensation",value:`$${Math.round(h/1e3)}k`,trend:"up",change:"+5.1%",icon:nr,color:"text-purple-600"},{label:"Pending Actions",value:g,trend:g>10?"down":"neutral",change:g>10?"High":"Normal",icon:lj,color:g>10?"text-red-600":"text-blue-600"},{label:"Departments",value:[...new Set(e.map(y=>y.department))].length,trend:"neutral",change:"Stable",icon:Ql,color:"text-amber-600"}]},[e,t]),d=x.useMemo(()=>["Attendance","Efficiency","Satisfaction","Growth","Retention"].map(f=>({metric:f,...r.reduce((h,g)=>(h[g.faculty]=Math.round(60+Math.random()*35),h),{})})),[r]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Advanced Analytics"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Deep insights and performance analysis"})]}),n.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:c.map(m=>n.jsxs("div",{className:"glass p-4 rounded-xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(m.icon,{className:`w-5 h-5 ${m.color}`}),m.trend==="up"&&n.jsx(xs,{className:"w-4 h-4 text-emerald-500"}),m.trend==="down"&&n.jsx(sj,{className:"w-4 h-4 text-red-500"})]}),n.jsx("p",{className:`text-2xl font-bold ${m.color}`,children:m.value}),n.jsx("p",{className:"text-xs text-gray-500",children:m.label}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:m.change})]},m.label))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Salary Distribution",subtitle:"Employee count by salary range",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Cr,{data:a,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"range",tick:{fontSize:11}}),n.jsx(Jt,{tick:{fontSize:12}}),n.jsx(ut,{}),n.jsx(Qn,{dataKey:"count",fill:"#8b5cf6",radius:[4,4,0,0],children:a.map((m,f)=>n.jsx(An,{fill:nl[f%nl.length]},m.range))})]})})})}),n.jsx(K,{title:"Faculty Comparison",subtitle:"Performance metrics across faculties",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Jre,{data:d,children:[n.jsx(nR,{stroke:"#e5e7eb"}),n.jsx(iR,{dataKey:"metric",tick:{fontSize:11}}),n.jsx(sR,{angle:30,domain:[0,100],tick:{fontSize:10}}),r.slice(0,3).map((m,f)=>n.jsx(pR,{name:m.faculty,dataKey:m.faculty,stroke:nl[f],fill:nl[f],fillOpacity:.2},m.faculty)),n.jsx(er,{}),n.jsx(ut,{})]})})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Designation Hierarchy",subtitle:"Staff count by designation",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(rr,{children:[n.jsx(Ba,{data:s.slice(0,6),cx:"50%",cy:"50%",outerRadius:80,dataKey:"size",label:({name:m,percent:f})=>`${m.split(" ")[0]} (${(f*100).toFixed(0)}%)`,children:s.slice(0,6).map((m,f)=>n.jsx(An,{fill:nl[f%nl.length]},m.name))}),n.jsx(ut,{})]})})})}),n.jsx(K,{title:"Experience vs Salary",subtitle:"Correlation analysis",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(tse,{margin:{top:20,right:20,bottom:20,left:20},children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"experience",name:"Experience",unit:" yrs",tick:{fontSize:11}}),n.jsx(Jt,{dataKey:"salary",name:"Salary",unit:"k",tick:{fontSize:11}}),n.jsx(XR,{range:[60,200]}),n.jsx(ut,{cursor:{strokeDasharray:"3 3"}}),n.jsx(GR,{name:"Employees",data:l,fill:"#8b5cf6"})]})})})})]}),n.jsx(K,{title:"Faculty Performance Metrics",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50",children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Faculty"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase",children:"Staff"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase",children:"Attendance"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase",children:"Efficiency"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase",children:"Satisfaction"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:r.map((m,f)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:nl[f%nl.length]}}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:m.faculty})]})}),n.jsx("td",{className:"px-4 py-3 text-center text-sm text-gray-600",children:m.staffCount}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsxs("span",{className:`text-sm font-medium ${m.attendance>=85?"text-emerald-600":m.attendance>=70?"text-amber-600":"text-red-600"}`,children:[m.attendance,"%"]})}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsxs("span",{className:`text-sm font-medium ${m.efficiency>=85?"text-emerald-600":m.efficiency>=70?"text-amber-600":"text-red-600"}`,children:[m.efficiency,"%"]})}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsxs("span",{className:`text-sm font-medium ${m.satisfaction>=85?"text-emerald-600":m.satisfaction>=70?"text-amber-600":"text-red-600"}`,children:[m.satisfaction,"%"]})})]},m.faculty))})]})})})]})}function dce(){const[e,t]=x.useState(""),[a,r]=x.useState(!1),s=()=>{e.trim()&&(console.log("Advisory sent:",e),r(!0),t(""),setTimeout(()=>r(!1),3e3))};return n.jsx("div",{className:"max-w-2xl mx-auto",children:n.jsx(K,{title:"Executive Advisory",subtitle:"Send advisory notes to Deans and HODs",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(tt,{label:"Advisory Note",id:"advisory",children:n.jsx("textarea",{id:"advisory",rows:6,className:"w-full border-gray-300 rounded-md shadow-xs focus:border-purple-500 focus:ring-purple-500 sm:text-sm p-3 border",placeholder:"Enter your advisory instructions or feedback here...",value:e,onChange:l=>t(l.target.value)})}),n.jsx("div",{className:"flex justify-end",children:n.jsx(X,{onClick:s,children:"Send Advisory"})}),a&&n.jsx("div",{className:"p-4 bg-green-50 text-green-700 rounded-md border border-green-200",children:"Advisory sent successfully!"})]})})})}const uce=[{id:"profile",label:"Profile",icon:Mr},{id:"notifications",label:"Notifications",icon:Zr},{id:"preferences",label:"Preferences",icon:_r},{id:"security",label:"Security",icon:ci}];function mce(){const e=Qe(y=>y.user),[t,a]=x.useState("profile"),[r,s]=x.useState(!1),[l,c]=x.useState({name:e?.name||"",email:e?.email||"",phone:"+92-300-1234567",office:"Executive Block, Room 001",title:"Vice President"}),[d,m]=x.useState({emailAlerts:!0,institutionalUpdates:!0,hrReports:!0,weeklyDigest:!0,monthlyAnalytics:!0,systemAlerts:!0}),[f,h]=x.useState({defaultView:"dashboard",dashboardLayout:"executive",reportFormat:"detailed",dateFormat:"dd/MM/yyyy",currency:"USD"}),g=()=>{s(!0),setTimeout(()=>s(!1),2e3)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your executive portal preferences"})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:uce.map(y=>n.jsxs("button",{onClick:()=>a(y.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${t===y.id?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[n.jsx(y.icon,{className:"w-4 h-4"}),y.label]},y.id))}),t==="profile"&&n.jsx(K,{title:"Profile Information",subtitle:"Your executive profile details",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-20 h-20 rounded-full bg-linear-to-br from-purple-500 to-indigo-500 flex items-center justify-center text-white text-2xl font-bold",children:e?.name?.charAt(0)||"VP"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?.name}),n.jsxs("p",{className:"text-gray-500",children:[l.title," - CECOS University"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{label:"Full Name",children:n.jsx("input",{type:"text",value:l.name,onChange:y=>c({...l,name:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})}),n.jsx(tt,{label:"Title",children:n.jsx("input",{type:"text",value:l.title,onChange:y=>c({...l,title:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})}),n.jsx(tt,{label:"Email",children:n.jsx("input",{type:"email",value:l.email,onChange:y=>c({...l,email:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})}),n.jsx(tt,{label:"Phone",children:n.jsx("input",{type:"text",value:l.phone,onChange:y=>c({...l,phone:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})}),n.jsx(tt,{label:"Office",className:"md:col-span-2",children:n.jsx("input",{type:"text",value:l.office,onChange:y=>c({...l,office:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(X,{onClick:g,children:r?"Saved!":"Save Changes"})})]})}),t==="notifications"&&n.jsx(K,{title:"Notification Preferences",subtitle:"Control executive notifications",children:n.jsxs("div",{className:"space-y-4",children:[[{key:"emailAlerts",label:"Email Alerts",desc:"Critical updates via email"},{key:"institutionalUpdates",label:"Institutional Updates",desc:"University-wide announcements"},{key:"hrReports",label:"HR Reports",desc:"HR department summaries"},{key:"weeklyDigest",label:"Weekly Digest",desc:"Weekly performance summary"},{key:"monthlyAnalytics",label:"Monthly Analytics",desc:"Monthly analytics reports"},{key:"systemAlerts",label:"System Alerts",desc:"Technical and system notifications"}].map(y=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-100 hover:border-gray-200 transition-all",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:y.label}),n.jsx("p",{className:"text-sm text-gray-500",children:y.desc})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:d[y.key],onChange:v=>m({...d,[y.key]:v.target.checked}),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]},y.key)),n.jsx("div",{className:"flex justify-end pt-4",children:n.jsx(X,{onClick:g,children:r?"Saved!":"Save Preferences"})})]})}),t==="preferences"&&n.jsx(K,{title:"Portal Preferences",subtitle:"Customize your executive experience",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{label:"Default View",children:n.jsxs("select",{value:f.defaultView,onChange:y=>h({...f,defaultView:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[n.jsx("option",{value:"dashboard",children:"Dashboard"}),n.jsx("option",{value:"analytics",children:"Analytics"}),n.jsx("option",{value:"reports",children:"Reports"}),n.jsx("option",{value:"employees",children:"Employees"})]})}),n.jsx(tt,{label:"Dashboard Layout",children:n.jsxs("select",{value:f.dashboardLayout,onChange:y=>h({...f,dashboardLayout:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[n.jsx("option",{value:"executive",children:"Executive Summary"}),n.jsx("option",{value:"detailed",children:"Detailed View"}),n.jsx("option",{value:"compact",children:"Compact View"})]})}),n.jsx(tt,{label:"Report Format",children:n.jsxs("select",{value:f.reportFormat,onChange:y=>h({...f,reportFormat:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[n.jsx("option",{value:"detailed",children:"Detailed"}),n.jsx("option",{value:"summary",children:"Summary"}),n.jsx("option",{value:"visual",children:"Visual Heavy"})]})}),n.jsx(tt,{label:"Date Format",children:n.jsxs("select",{value:f.dateFormat,onChange:y=>h({...f,dateFormat:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[n.jsx("option",{value:"dd/MM/yyyy",children:"DD/MM/YYYY"}),n.jsx("option",{value:"MM/dd/yyyy",children:"MM/DD/YYYY"}),n.jsx("option",{value:"yyyy-MM-dd",children:"YYYY-MM-DD"})]})}),n.jsx(tt,{label:"Currency Display",children:n.jsxs("select",{value:f.currency,onChange:y=>h({...f,currency:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[n.jsx("option",{value:"USD",children:"USD ($)"}),n.jsx("option",{value:"PKR",children:"PKR ()"}),n.jsx("option",{value:"EUR",children:"EUR ()"}),n.jsx("option",{value:"GBP",children:"GBP ()"})]})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(X,{onClick:g,children:r?"Saved!":"Save Preferences"})})]})}),t==="security"&&n.jsx(K,{title:"Security Settings",subtitle:"Manage your account security",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"p-4 rounded-lg border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security"})]}),n.jsx(X,{variant:"outline",size:"sm",children:"Enable"})]})}),n.jsx("div",{className:"p-4 rounded-lg border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Change Password"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]}),n.jsx(X,{variant:"outline",size:"sm",children:"Update"})]})}),n.jsx("div",{className:"p-4 rounded-lg border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Active Sessions"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Manage your active login sessions"})]}),n.jsx(X,{variant:"outline",size:"sm",children:"View"})]})}),n.jsx("div",{className:"p-4 rounded-lg border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Login History"}),n.jsx("p",{className:"text-sm text-gray-500",children:"View recent login activity"})]}),n.jsx(X,{variant:"outline",size:"sm",children:"View"})]})})]})})]})}const fce=[{id:"pending",label:"Pending"},{id:"approved",label:"Recommended"},{id:"rejected",label:"Rejected"}];function hce(){const e=Ae(T=>T.employees),t=Ae(T=>T.leaves),a=Ae(T=>T.updateLeaveStatus),r=Qe(T=>T.user),[s,l]=x.useState("pending"),[c,d]=x.useState(""),[m,f]=x.useState(null),[h,g]=x.useState(!1),[y,v]=x.useState(null),[j,b]=x.useState(""),[S,M]=x.useState(0),[N,A]=x.useState(0),[O,D]=x.useState(null),[k,_]=x.useState(""),E=x.useMemo(()=>t.filter(T=>T.type==="medical").map(T=>({...T,employee:e.find(Y=>Y.id===T.employeeId),days:T.days||(T.startDate&&T.endDate?Gr(ue(T.endDate),ue(T.startDate))+1:0)})).sort((T,Y)=>new Date(Y.appliedOn)-new Date(T.appliedOn)),[t,e]),P=x.useMemo(()=>E.filter(T=>{if(c){const V=c.toLowerCase(),B=T.employee?.name?.toLowerCase().includes(V),U=T.employee?.code?.toLowerCase().includes(V);if(!B&&!U)return!1}const Y=T.approvalChain?.find(V=>V.role==="president");return Y?s==="pending"?Y.status==="pending":s==="approved"?Y.status==="approved":s==="rejected"?Y.status==="rejected":!1:!1}),[E,s,c]),z=x.useMemo(()=>{const T=E.filter(Y=>Y.approvalChain?.some(V=>V.role==="president"));return{total:T.length,pending:T.filter(Y=>Y.approvalChain?.find(V=>V.role==="president")?.status==="pending").length,approved:T.filter(Y=>Y.approvalChain?.find(V=>V.role==="president")?.status==="approved").length,rejected:T.filter(Y=>Y.approvalChain?.find(V=>V.role==="president")?.status==="rejected").length}},[E]),L=(T,Y)=>{f(T),v(Y),b(""),M(T.days||0),A(0),D(null),_(""),g(!0)},I=T=>{if(T&&T.preventDefault(),!m||!y){console.log("Missing selectedLeave or actionType");return}if(y==="approve"){const Y=Number(S)||0,V=Number(N)||0,B=Y+V,U=m.days||0;if(console.log("Validation:",{paid:Y,unpaid:V,total:B,requiredDays:U,leaveCategory:O}),B!==U){const F=`Days don't match: ${Y} + ${V} = ${B}, but leave is ${U} days`;console.log("Days validation failed:",F),_(F);return}if(!O){const F="Please select a classification for this medical leave (Paid Medical or Unpaid Medical)";console.log("Category validation failed"),_(F);return}console.log("Validation passed, updating leave status"),_(""),a(m.id,"Approved","president",r.name,j||void 0,{paidDays:Y,unpaidDays:V,leaveCategory:O})}else console.log("Rejecting leave"),a(m.id,"Rejected","president",r.name,j||void 0);g(!1),f(null),v(null),b(""),M(0),A(0),D(null),_("")},J=T=>{switch(T){case"approved":return n.jsx(ge,{variant:"success",children:"Recommended"});case"rejected":return n.jsx(ge,{variant:"danger",children:"Rejected"});default:return n.jsx(ge,{variant:"warning",children:"Pending"})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Medical Leave Requests - Final Approval"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Review, classify, and approve medical leave applications with paid/unpaid split"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-gray-100",children:n.jsx(Xe,{className:"w-5 h-5 text-gray-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:z.total}),n.jsx("p",{className:"text-xs text-gray-500",children:"Total Requests"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-amber-100",children:n.jsx(Be,{className:"w-5 h-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:z.pending}),n.jsx("p",{className:"text-xs text-gray-500",children:"Pending"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:n.jsx(Le,{className:"w-5 h-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:z.approved}),n.jsx("p",{className:"text-xs text-gray-500",children:"Recommended"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:n.jsx(Tt,{className:"w-5 h-5 text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-red-600",children:z.rejected}),n.jsx("p",{className:"text-xs text-gray-500",children:"Rejected"})]})]})})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:fce.map(T=>n.jsxs("button",{onClick:()=>l(T.id),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${s===T.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[T.label,T.id==="pending"&&z.pending>0&&n.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-white/20 rounded text-xs",children:z.pending})]},T.id))}),n.jsxs(K,{children:[n.jsx("div",{className:"mb-4",children:n.jsx(Cn,{type:"text",placeholder:"Search by employee name or code...",value:c,onChange:T=>d(T.target.value),className:"w-full",inputClassName:"pr-4 py-2 text-sm"})}),n.jsx("div",{className:"space-y-4",children:P.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Xe,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No medical leave requests found"})]}):P.map(T=>{const Y=T.approvalChain?.find(B=>B.role==="president"),V=T.approvalChain?.find(B=>B.role==="hod");return n.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl hover:border-gray-200 transition-all",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold",children:T.employee?.name?.charAt(0)||"?"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:T.employee?.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:[T.employee?.code,"  ",T.employee?.department]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsx("span",{className:"px-2 py-1 rounded-full bg-teal-100 text-teal-700 text-xs font-medium",children:"Medical Leave"}),n.jsxs("span",{className:"text-sm text-gray-600",children:[T.startDate?q(ue(T.startDate),"MMM d"):"N/A"," "," ",T.endDate?q(ue(T.endDate),"MMM d, yyyy"):"N/A",n.jsxs("span",{className:"text-gray-400 ml-2",children:["(",T.days," day",T.days>1?"s":"",")"]})]}),J(Y?.status)]}),Y?.status==="pending"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>L(T,"approve"),className:"text-emerald-600 border-emerald-200 hover:bg-emerald-50",children:[n.jsx(Le,{className:"w-4 h-4"}),"Recommend"]}),n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>L(T,"reject"),className:"text-red-600 border-red-200 hover:bg-red-50",children:[n.jsx(Tt,{className:"w-4 h-4"}),"Reject"]})]})]}),T.reason&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Reason: "}),T.reason]})}),V&&V.comment&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium text-gray-700",children:"HOD Recommendation: "}),V.comment]})})]},T.id)})})]}),n.jsx(vt,{isOpen:h,onClose:()=>g(!1),title:`${y==="approve"?"Recommend":"Reject"} Medical Leave Request`,children:m&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-linear-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold",children:m.employee?.name?.charAt(0)}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:m.employee?.name}),n.jsx("p",{className:"text-sm text-gray-500",children:m.employee?.department})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Type:"}),n.jsx("span",{className:"ml-2 font-medium",children:"Medical Leave"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Duration:"}),n.jsxs("span",{className:"ml-2 font-medium",children:[m.days," day(s)"]})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("span",{className:"text-gray-500",children:"Period:"}),n.jsxs("span",{className:"ml-2 font-medium",children:[m.startDate?q(ue(m.startDate),"MMM d"):"N/A"," ","-"," ",m.endDate?q(ue(m.endDate),"MMM d, yyyy"):"N/A"]})]})]})]}),m.documents&&m.documents.length>0&&n.jsxs("div",{className:"space-y-3 bg-slate-50 border border-slate-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ar,{className:"w-5 h-5 text-slate-600"}),n.jsx("p",{className:"font-semibold text-slate-900",children:"Medical Documents"})]}),n.jsx("div",{className:"space-y-2",children:m.documents.map((T,Y)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-slate-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ar,{className:"w-5 h-5 text-slate-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-900",children:T.name}),n.jsxs("p",{className:"text-xs text-slate-500",children:[(T.size/1024).toFixed(1)," KB  Uploaded"," ",T.uploadedAt?q(ue(T.uploadedAt),"MMM d, yyyy"):"N/A"]})]})]}),n.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>{const V=document.createElement("a");V.href=T.file,V.download=T.name,document.body.appendChild(V),V.click(),document.body.removeChild(V)},className:"text-blue-600 hover:text-blue-700",children:[n.jsx(Wt,{className:"w-4 h-4"}),"Download"]})]},T.id||Y))})]}),m.approvalChain?.find(T=>T.role==="hod")?.comment&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"HOD Recommendation:"}),n.jsx("p",{className:"text-sm text-blue-700",children:m.approvalChain.find(T=>T.role==="hod").comment})]}),m.approvalChain?.find(T=>T.role==="vc")?.comment&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"VC Recommendation:"}),n.jsx("p",{className:"text-sm text-blue-700",children:m.approvalChain.find(T=>T.role==="vc").comment})]}),y==="approve"&&n.jsxs("div",{className:"space-y-4 bg-linear-to-br from-purple-50 via-indigo-50 to-blue-50 border-2 border-purple-300 rounded-xl p-5 shadow-lg",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-10 h-10 bg-linear-to-br from-purple-600 to-indigo-600 rounded-lg flex items-center justify-center shadow-lg",children:n.jsx(Ar,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-purple-900 text-lg",children:" Final Medical Leave Decision"}),n.jsx("p",{className:"text-sm text-purple-700",children:"Classify days and categorize this medical leave"})]})]}),n.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-xl p-4 shadow-sm",children:[n.jsx("p",{className:"font-bold text-purple-900 mb-1",children:"Step 1: Classify Leave Days"}),n.jsxs("p",{className:"text-sm text-purple-700 mb-3",children:["Total days to classify:"," ",n.jsx("span",{className:"font-bold text-lg",children:m.days})," days"]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Paid Days"}),n.jsx("input",{type:"number",min:0,max:m.days,value:S,onChange:T=>{M(T.target.value),_("")},className:"w-full px-3 py-2 border-2 border-green-300 rounded-lg text-lg font-bold text-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 bg-green-50",placeholder:"0"}),n.jsx("p",{className:"text-xs text-green-600 mt-1 font-medium",children:" Employee receives full salary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Unpaid Days"}),n.jsx("input",{type:"number",min:0,max:m.days,value:N,onChange:T=>{A(T.target.value),_("")},className:"w-full px-3 py-2 border-2 border-amber-300 rounded-lg text-lg font-bold text-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500 bg-amber-50",placeholder:"0"}),n.jsx("p",{className:"text-xs text-amber-600 mt-1 font-medium",children:" No salary for these days"})]})]}),(()=>{const T=Number(S)||0,Y=Number(N)||0,V=T+Y,B=V===m.days,U=V>m.days;return n.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-lg border-2 transition-all ${B?"bg-linear-to-r from-green-50 to-emerald-50 border-green-400":U?"bg-linear-to-r from-red-50 to-rose-50 border-red-400":"bg-linear-to-r from-yellow-50 to-amber-50 border-yellow-400"}`,children:[n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:T}),n.jsx("p",{className:"text-xs text-green-700 font-bold uppercase",children:"Paid"})]}),n.jsx("div",{className:"text-3xl text-gray-300 font-bold",children:"+"}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:Y}),n.jsx("p",{className:"text-xs text-amber-700 font-bold uppercase",children:"Unpaid"})]}),n.jsx("div",{className:"text-3xl text-gray-300 font-bold",children:"="}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:`text-2xl font-bold ${B?"text-green-600":U?"text-red-600":"text-yellow-600"}`,children:V}),n.jsxs("p",{className:"text-xs text-gray-700 font-bold uppercase",children:["of ",m.days]})]})]})})(),k&&n.jsx("div",{className:"bg-red-100 border border-red-300 rounded-lg p-2 mt-2",children:n.jsxs("p",{className:"text-sm text-red-700 font-semibold",children:[" ",k]})})]}),n.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-xl p-4 shadow-sm",children:[n.jsx("p",{className:"font-bold text-purple-900 mb-1",children:"Step 2: Final Medical Leave Category"}),n.jsx("p",{className:"text-sm text-purple-700 mb-3",children:"Based on submitted medical documentation and paid days allocation:"}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[n.jsxs("button",{type:"button",onClick:()=>D("medical"),className:`group p-4 rounded-lg border-2 transition-all text-left ${O==="medical"?"border-green-500 bg-linear-to-br from-green-50 to-emerald-50 shadow-lg":"border-gray-200 bg-white hover:border-green-300 hover:shadow-md"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${O==="medical"?"bg-green-500":"bg-gray-100"}`,children:n.jsx(Le,{className:`w-5 h-5 ${O==="medical"?"text-white":"text-gray-400"}`})}),n.jsx("p",{className:"font-bold text-gray-900",children:" Paid Medical"})]}),n.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Approved with medical benefits. Employee receives full salary for paid days."})]}),n.jsxs("button",{type:"button",onClick:()=>D("unpaid"),className:`group p-4 rounded-lg border-2 transition-all text-left ${O==="unpaid"?"border-amber-500 bg-linear-to-br from-amber-50 to-orange-50 shadow-lg":"border-gray-200 bg-white hover:border-amber-300 hover:shadow-md"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${O==="unpaid"?"bg-amber-500":"bg-gray-100"}`,children:n.jsx(Tt,{className:`w-5 h-5 ${O==="unpaid"?"text-white":"text-gray-400"}`})}),n.jsx("p",{className:"font-bold text-gray-900",children:" Unpaid Medical"})]}),n.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Not eligible for medical benefits. Employee receives no salary."})]})]}),O&&n.jsx("div",{className:"bg-linear-to-r from-blue-50 to-indigo-50 border border-blue-300 rounded-lg p-3 mt-3",children:n.jsxs("p",{className:"text-sm text-blue-900 font-bold",children:[" Classification:"," ",O==="medical"?"Paid Medical Leave":"Unpaid Medical Leave"]})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:y==="approve"?"Additional Comments (Optional)":"Rejection Reason"}),n.jsx("textarea",{value:j,onChange:T=>b(T.target.value),placeholder:y==="approve"?"Add any additional notes or comments...":"Reason for rejection...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(X,{variant:"ghost",onClick:()=>g(!1),children:"Cancel"}),n.jsx(X,{variant:y==="approve"?"primary":"danger",onClick:I,children:y==="approve"?"Approve & Finalize":"Reject Request"})]})]})})]})}function pce(){return n.jsx(gi,{children:n.jsxs(Se,{element:n.jsx(rce,{}),children:[n.jsx(Se,{index:!0,element:n.jsx(sce,{})}),n.jsx(Se,{path:"employees",element:n.jsx(ice,{})}),n.jsx(Se,{path:"reports",element:n.jsx(oce,{})}),n.jsx(Se,{path:"analytics",element:n.jsx(cce,{})}),n.jsx(Se,{path:"advisory",element:n.jsx(dce,{})}),n.jsx(Se,{path:"medical-leaves",element:n.jsx(hce,{})}),n.jsx(Se,{path:"settings",element:n.jsx(mce,{})}),n.jsx(Se,{path:"*",element:n.jsx(hs,{to:".",replace:!0})})]})})}function xce(){const e=Qe(c=>c.user),{leaves:t,employees:a}=Ae(),r=x.useMemo(()=>{const c=new Date;return Array.from({length:12},(m,f)=>{const h=new Date(c.getFullYear(),c.getMonth()-11+f,1);return{label:h.toLocaleString("default",{month:"short",year:"2-digit"}),year:h.getFullYear(),month:h.getMonth()}}).map(m=>{const f=t.filter(h=>{if(h.type!=="medical")return!1;const g=h.startDate?ue(h.startDate):null;return g&&g.getFullYear()===m.year&&g.getMonth()===m.month}).length;return{...m,count:f}})},[t]),s=x.useMemo(()=>{const c=t.filter(h=>h.type==="medical"),d=c.filter(h=>h.approvalChain?.find(y=>y.role==="vc")?.status==="pending"),m=c.filter(h=>h.approvalChain?.find(y=>y.role==="vc")?.status==="approved"),f=c.filter(h=>h.approvalChain?.find(y=>y.role==="vc")?.status==="rejected");return{totalMedical:c.length,pending:d.length,approved:m.length,rejected:f.length,pendingLeaves:d}},[t]),l=x.useMemo(()=>t.filter(c=>c.type==="medical").filter(c=>{const d=c.approvalChain?.find(m=>m.role==="vc");return d&&d.status!=="pending"}).sort((c,d)=>{const m=c.approvalChain?.find(h=>h.role==="vc")?.date,f=d.approvalChain?.find(h=>h.role==="vc")?.date;return new Date(f)-new Date(m)}).slice(0,5),[t]);return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"relative rounded-2xl overflow-hidden bg-linear-to-br from-indigo-700 via-blue-600 to-blue-400 dark:from-indigo-900 dark:via-blue-900 dark:to-gray-900 shadow-xl p-6 md:p-10 flex flex-col md:flex-row items-center md:items-end justify-between gap-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-white/20 text-xs font-semibold text-white tracking-wide",children:"Vice Chancellor"}),n.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-blue-900/80 text-xs font-semibold text-blue-100 tracking-wide",children:"University HR Portal"})]}),n.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2 drop-shadow dark:text-blue-100",children:["Welcome, ",e?.name]}),n.jsx("p",{className:"text-blue-100 text-base md:text-lg dark:text-blue-200",children:"Empowering HR decisions with real-time analytics and insights."})]}),n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx("div",{className:"w-20 h-20 rounded-full bg-white/20 flex items-center justify-center border-4 border-white/30 shadow-lg",children:n.jsx(za,{className:"w-10 h-10 text-white"})}),n.jsx("span",{className:"text-white/80 text-xs mt-1 dark:text-blue-200/80",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(St,{title:"Total Medical Leaves",value:s.totalMedical,icon:ht,color:"primary",subtitle:"All medical leave requests"}),n.jsx(St,{title:"Pending Review",value:s.pending,icon:Be,color:"warning",subtitle:"Awaiting your action"}),n.jsx(St,{title:"Recommended",value:s.approved,icon:Le,color:"success",subtitle:"You have recommended"}),n.jsx(St,{title:"Rejected",value:s.rejected,icon:Tt,color:"danger",subtitle:"You have rejected"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs(K,{className:"flex flex-col items-center justify-center p-6 bg-linear-to-br from-blue-100 to-blue-50 dark:from-blue-900 dark:to-blue-800 border-0 shadow-md hover:shadow-lg transition",children:[n.jsx(ht,{className:"w-10 h-10 text-blue-600 mb-2"}),n.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-1",children:"Review Medical Leaves"}),n.jsx("p",{className:"text-sm text-blue-700 mb-3 text-center",children:"See all pending medical leave requests and take action."}),n.jsx(fn,{to:"/vc/medical-leaves",children:n.jsx(X,{size:"sm",variant:"primary",children:"Go to Medical Leaves"})})]}),n.jsxs(K,{className:"flex flex-col items-center justify-center p-6 bg-linear-to-br from-emerald-100 to-emerald-50 dark:from-emerald-900 dark:to-emerald-800 border-0 shadow-md hover:shadow-lg transition",children:[n.jsx(za,{className:"w-10 h-10 text-emerald-600 mb-2"}),n.jsx("h3",{className:"font-semibold text-lg text-emerald-900 mb-1",children:"View Analytics"}),n.jsx("p",{className:"text-sm text-emerald-700 mb-3 text-center",children:"Explore HR analytics and trends for better decisions."}),n.jsx(fn,{to:"/vc/analytics",children:n.jsx(X,{size:"sm",variant:"success",children:"Go to Analytics"})})]}),n.jsxs(K,{className:"flex flex-col items-center justify-center p-6 bg-linear-to-br from-amber-100 to-amber-50 dark:from-amber-900 dark:to-amber-800 border-0 shadow-md hover:shadow-lg transition",children:[n.jsx(en,{className:"w-10 h-10 text-amber-600 mb-2"}),n.jsx("h3",{className:"font-semibold text-lg text-amber-900 mb-1",children:"Employee Directory"}),n.jsx("p",{className:"text-sm text-amber-700 mb-3 text-center",children:"Browse all university employees and their details."}),n.jsx(fn,{to:"/hr/employees",children:n.jsx(X,{size:"sm",variant:"warning",children:"View Employees"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(K,{className:"h-full flex flex-col dark:bg-gray-900 dark:border-gray-800",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Pending Medical Leaves"}),n.jsx(fn,{to:"/vc/medical-leaves",children:n.jsx(X,{size:"sm",variant:"outline",children:"View All"})})]}),s.pendingLeaves.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Le,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-500",children:"No pending medical leaves"})]}):n.jsx("div",{className:"space-y-3",children:s.pendingLeaves.slice(0,5).map(c=>{const d=a.find(m=>m.id===c.employeeId);return n.jsx("div",{className:"p-4 border border-gray-200 rounded-xl hover:border-indigo-300 hover:shadow-sm transition-all bg-white/80",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-gray-900 truncate",children:d?.name||c.employeeName}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[d?.department||c.department," "," ",d?.code||c.employeeCode]}),n.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500",children:[n.jsx(Xe,{className:"w-4 h-4"}),c.startDate&&q(ue(c.startDate),"MMM dd")," -"," ",c.endDate&&q(ue(c.endDate),"MMM dd, yyyy"),n.jsxs("span",{className:"ml-2 font-medium",children:["(",c.days," days)"]})]})]}),n.jsx(ge,{variant:"warning",className:"ml-2",children:"Pending"})]})},c.id)})})]}),n.jsxs(K,{className:"h-full flex flex-col dark:bg-gray-900 dark:border-gray-800",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Activity"}),n.jsx(xs,{className:"w-5 h-5 text-gray-400"})]}),l.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Be,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-500",children:"No recent activity"})]}):n.jsx("div",{className:"space-y-3",children:l.map(c=>{const d=a.find(f=>f.id===c.employeeId),m=c.approvalChain?.find(f=>f.role==="vc");return n.jsxs("div",{className:"p-4 border border-gray-200 rounded-xl bg-white/80",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-gray-900 truncate",children:d?.name||c.employeeName}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d?.department||c.department}),m?.date&&n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:q(ue(m.date),"MMM dd, yyyy HH:mm")})]}),n.jsx(ge,{variant:m?.status==="approved"?"success":"danger",className:"ml-2",children:m?.status==="approved"?"Recommended":"Rejected"})]}),m?.comment&&n.jsxs("p",{className:"mt-2 text-sm text-gray-600 italic",children:['"',m.comment,'"']})]},c.id)})})]})]}),n.jsxs(K,{className:"mb-8 dark:bg-gray-900 dark:border-gray-800",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Medical Leave Trends (Last 12 Months)"}),n.jsx("div",{className:"w-full",style:{height:"300px"},children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(bo,{data:r,margin:{top:10,right:30,left:0,bottom:0},children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"colorLeaves",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#6366f1",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#6366f1",stopOpacity:.1})]})}),n.jsx(Xt,{strokeDasharray:"3 3"}),n.jsx(Qt,{dataKey:"label",tick:{fontSize:12}}),n.jsx(Jt,{allowDecimals:!1,tick:{fontSize:12}}),n.jsx(ut,{contentStyle:{borderRadius:8,fontSize:14}}),n.jsx(Ia,{type:"monotone",dataKey:"count",stroke:"#6366f1",fillOpacity:1,fill:"url(#colorLeaves)",name:"Medical Leaves",isAnimationActive:!0})]})})})]}),n.jsxs(K,{className:"dark:bg-gray-900 dark:border-gray-800",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-blue-100 mb-4",children:"University Overview"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900 rounded-xl",children:[n.jsx(en,{className:"w-8 h-8 text-blue-600 dark:text-blue-300 mx-auto mb-2"}),n.jsx("p",{className:"text-3xl font-bold text-blue-900 dark:text-blue-200",children:a.length}),n.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"Total Employees"})]}),n.jsxs("div",{className:"text-center p-4 bg-emerald-50 dark:bg-emerald-900 rounded-xl",children:[n.jsx(ht,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-300 mx-auto mb-2"}),n.jsx("p",{className:"text-3xl font-bold text-emerald-900 dark:text-emerald-200",children:t.length}),n.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-300 mt-1",children:"Total Leave Requests"})]}),n.jsxs("div",{className:"text-center p-4 bg-amber-50 dark:bg-amber-900 rounded-xl",children:[n.jsx(Be,{className:"w-8 h-8 text-amber-600 dark:text-amber-300 mx-auto mb-2"}),n.jsx("p",{className:"text-3xl font-bold text-amber-900 dark:text-amber-200",children:s.pending}),n.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300 mt-1",children:"Awaiting Your Review"})]})]})]})]})}const gce=[{id:"pending",label:"Pending Review",color:"amber"},{id:"approved",label:"Recommended",color:"emerald"},{id:"rejected",label:"Rejected",color:"rose"},{id:"all",label:"All",color:"gray"}];function yce(){const{employees:e,leaves:t,updateLeaveStatus:a}=Ae(),r=Qe(D=>D.user),[s,l]=x.useState("pending"),[c,d]=x.useState(""),[m,f]=x.useState(null),[h,g]=x.useState(null),[y,v]=x.useState(""),j=x.useMemo(()=>t.filter(D=>D.type==="medical").map(D=>{const k=e.find(E=>E.id===D.employeeId),_=D.days||(D.startDate&&D.endDate?Gr(ue(D.endDate),ue(D.startDate))+1:0);return{...D,employee:k,days:_}}).sort((D,k)=>new Date(k.appliedOn)-new Date(D.appliedOn)),[t,e]),b=x.useMemo(()=>j.filter(D=>{const k=D.approvalChain?.find(_=>_.role==="vc");if(!k)return!1;if(c){const _=c.toLowerCase();if(!(D.employee?.name?.toLowerCase().includes(_)||D.employee?.code?.toLowerCase().includes(_)||D.employeeName?.toLowerCase().includes(_)))return!1}return s==="all"?!0:s==="pending"?k.status==="pending":s==="approved"?k.status==="approved":s==="rejected"?k.status==="rejected":!0}),[j,c,s]),S=x.useMemo(()=>{const D=j.filter(_=>_.approvalChain?.some(E=>E.role==="vc")),k=_=>D.filter(E=>E.approvalChain.find(P=>P.role==="vc")?.status===_).length;return{total:D.length,pending:k("pending"),approved:k("approved"),rejected:k("rejected")}},[j]),M=(D,k)=>{f(D),g(k),v("")},N=()=>{f(null),g(null),v("")},A=()=>{!m||!h||h==="reject"&&!y.trim()||(a(m.id,h==="approve"?"Approved":"Rejected","vc",r?.name||"Vice Chancellor",y||void 0),N())},O=D=>D==="approved"?n.jsx(ge,{variant:"success",children:"Recommended"}):D==="rejected"?n.jsx(ge,{variant:"danger",children:"Rejected"}):n.jsx(ge,{variant:"warning",children:"Pending"});return n.jsxs("div",{className:"space-y-6",children:[n.jsx(K,{className:"bg-linear-to-r from-indigo-600 to-blue-600 text-white border-0",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-xl bg-white/20 flex items-center justify-center",children:n.jsx(Ar,{className:"w-8 h-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Medical Leave Reviews"}),n.jsx("p",{className:"text-indigo-100 mt-1",children:"Review and recommend medical leaves to President"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(K,{className:"hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:n.jsx(Ar,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Requests"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.total})]})]})}),n.jsx(K,{className:"hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center",children:n.jsx(Be,{className:"w-6 h-6 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-amber-700",children:"Pending Review"}),n.jsx("p",{className:"text-2xl font-bold text-amber-900",children:S.pending})]})]})}),n.jsx(K,{className:"hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center",children:n.jsx(Le,{className:"w-6 h-6 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-emerald-700",children:"Recommended"}),n.jsx("p",{className:"text-2xl font-bold text-emerald-900",children:S.approved})]})]})}),n.jsx(K,{className:"hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-rose-100 flex items-center justify-center",children:n.jsx(Tt,{className:"w-6 h-6 text-rose-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-rose-700",children:"Rejected"}),n.jsx("p",{className:"text-2xl font-bold text-rose-900",children:S.rejected})]})]})})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:gce.map(D=>n.jsxs("button",{onClick:()=>l(D.id),className:`px-6 py-2.5 rounded-lg text-sm font-semibold whitespace-nowrap transition-all ${s===D.id?"bg-indigo-600 text-white shadow-md":"bg-white border border-gray-200 text-gray-600 hover:border-indigo-300 hover:shadow-sm"}`,children:[D.label,D.id!=="all"&&S[D.id]>0&&n.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs font-bold ${s===D.id?"bg-white/20":"bg-gray-100"}`,children:S[D.id]})]},D.id))}),n.jsx(K,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Cn,{type:"text",placeholder:"Search by employee name or code...",value:c,onChange:D=>d(D.target.value),className:"w-full",inputClassName:"pr-4 py-2.5"})}),n.jsxs(X,{variant:"outline",className:"gap-2",children:[n.jsx(oo,{className:"w-5 h-5"}),"Filters"]})]})}),n.jsx(K,{children:n.jsx("div",{className:"space-y-4",children:b.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Xe,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500 font-medium",children:"No medical leave requests found"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:c?"Try adjusting your search":"All requests are processed"})]}):b.map(D=>{const k=D.approvalChain?.find(E=>E.role==="vc"),_=D.approvalChain?.find(E=>E.role==="hod");return n.jsxs("div",{className:"p-5 border border-gray-200 rounded-xl bg-linear-to-r from-white to-gray-50 hover:shadow-md transition-all",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[n.jsx("div",{className:"w-14 h-14 rounded-xl bg-linear-to-br from-indigo-600 to-blue-600 text-white font-bold text-xl flex items-center justify-center shadow-md",children:D.employee?.name?.charAt(0)||"?"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"font-bold text-gray-900 truncate text-lg",children:D.employee?.name||D.employeeName}),n.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2 mt-1",children:[n.jsx(Mr,{className:"w-4 h-4"}),D.employee?.code||D.employeeCode," "," ",D.employee?.department||D.department]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsx("span",{className:"px-3 py-1.5 rounded-lg bg-teal-100 text-teal-700 text-xs font-bold",children:"Medical Leave"}),n.jsxs("div",{className:"text-sm",children:[D.startDate&&D.endDate?n.jsxs("p",{className:"font-semibold text-gray-700",children:[q(ue(D.startDate),"MMM d")," "," ",q(ue(D.endDate),"MMM d, yyyy")]}):n.jsx("p",{className:"text-gray-500",children:"Dates N/A"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[D.days," day",D.days>1?"s":""]})]}),O(k?.status)]}),k?.status==="pending"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{size:"sm",onClick:()=>M(D,"approve"),className:"bg-emerald-600 text-white hover:bg-emerald-700 gap-1",children:[n.jsx(Le,{className:"w-4 h-4"}),"Recommend"]}),n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>M(D,"reject"),className:"text-rose-600 border-rose-200 hover:bg-rose-50 gap-1",children:[n.jsx(Tt,{className:"w-4 h-4"}),"Reject"]})]})]}),D.reason&&n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-semibold text-gray-900",children:"Reason:"})," ",D.reason]})}),_?.comment&&n.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsxs("p",{className:"text-xs font-semibold text-blue-900 mb-1 flex items-center gap-1",children:[n.jsx(Mr,{className:"w-4 h-4"}),"HOD's Recommendation:"]}),n.jsx("p",{className:"text-sm text-blue-800",children:_.comment}),n.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["by ",_.by," on"," ",_.date&&q(ue(_.date),"MMM dd, yyyy")]})]}),k?.comment&&k.status!=="pending"&&n.jsxs("div",{className:`mt-3 p-3 rounded-lg border ${k.status==="approved"?"bg-emerald-50 border-emerald-200":"bg-rose-50 border-rose-200"}`,children:[n.jsxs("p",{className:`text-xs font-semibold mb-1 ${k.status==="approved"?"text-emerald-900":"text-rose-900"}`,children:["Your ",k.status==="approved"?"Recommendation":"Rejection",":"]}),n.jsx("p",{className:`text-sm ${k.status==="approved"?"text-emerald-800":"text-rose-800"}`,children:k.comment}),n.jsxs("p",{className:`text-xs mt-1 ${k.status==="approved"?"text-emerald-600":"text-rose-600"}`,children:["on ",k.date&&q(ue(k.date),"MMM dd, yyyy HH:mm")]})]}),D.documents&&D.documents.length>0&&n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:D.documents.map(E=>n.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gray-100 rounded-lg text-sm",children:[n.jsx(Ar,{className:"w-4 h-4 text-gray-600"}),n.jsx("span",{className:"text-gray-700",children:E.name})]},E.id))})]},D.id)})})}),n.jsx(vt,{isOpen:!!m,onClose:N,title:h==="approve"?" Recommend Medical Leave":" Reject Medical Leave",children:m&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-linear-to-r from-indigo-50 to-blue-50 border border-indigo-200 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg bg-indigo-600 text-white font-bold text-lg flex items-center justify-center",children:m.employee?.name?.charAt(0)||"?"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-indigo-900",children:m.employee?.name||m.employeeName}),n.jsxs("p",{className:"text-sm text-indigo-700",children:[m.employee?.department||m.department," "," ",m.employee?.code||m.employeeCode]})]})]}),n.jsx("div",{className:"mt-3 pt-3 border-t border-indigo-200",children:n.jsxs("p",{className:"text-sm text-indigo-900",children:[n.jsx("span",{className:"font-semibold",children:"Duration:"})," ",m.startDate&&q(ue(m.startDate),"MMM dd")," "," ",m.endDate&&q(ue(m.endDate),"MMM dd, yyyy")," ","(",m.days," days)"]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:h==="approve"?" Recommendation Note (Optional)":" Rejection Reason (Required)"}),n.jsx("textarea",{value:y,onChange:D=>v(D.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-200 focus:border-indigo-600 outline-none",placeholder:h==="approve"?"Add your recommendation notes for the President (optional)...":"Provide a clear reason for rejection (required)...",required:h==="reject"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h==="approve"?"This will be forwarded to the President for final decision":"Employee will be notified of the rejection reason"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{variant:"outline",onClick:N,children:"Cancel"}),n.jsx(X,{onClick:A,className:h==="approve"?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-rose-600 text-white hover:bg-rose-700",disabled:h==="reject"&&!y.trim(),children:h==="approve"?n.jsxs(n.Fragment,{children:[n.jsx(Le,{className:"w-5 h-5"}),"Recommend to President"]}):n.jsxs(n.Fragment,{children:[n.jsx(Tt,{className:"w-5 h-5"}),"Confirm Rejection"]})})]})]})})]})}function $v(e){return n.jsx(ht,{...e})}function vce(){const{leaves:e,employees:t}=Ae(),a=x.useMemo(()=>{const A=e.filter(k=>k.type==="medical"),O=A.filter(k=>{const _=k.approvalChain?.find(E=>E.role==="vc");return _&&_.status!=="pending"}),D=O.length>0?O.filter(k=>k.approvalChain.find(_=>_.role==="vc")?.status==="approved").length/O.length*100:0;return{totalMedical:A.length,reviewed:O.length,approvalRate:D.toFixed(1),avgProcessingDays:2.5}},[e]),r=x.useMemo(()=>e.filter(A=>A.type==="medical").sort((A,O)=>new Date(O.appliedOn)-new Date(A.appliedOn)),[e]),[s,l]=x.useState(""),[c,d]=x.useState("pending"),[m,f]=x.useState(null),[h,g]=x.useState(""),[y,v]=x.useState("");Qe(A=>A.user);const j=[{id:"pending",label:"Pending Review",color:"amber"},{id:"approved",label:"Recommended",color:"emerald"},{id:"rejected",label:"Ejected",color:"rose"},{id:"all",label:"All",color:"blue"}],b=(A,O)=>{f(A),g(O)},S=()=>{f(null),g(""),v("")},M=()=>{!m||!h||h==="reject"&&!y.trim()||S()},N=A=>A==="approved"?n.jsx(ge,{variant:"success",children:"Recommended"}):A==="rejected"?n.jsx(ge,{variant:"danger",children:"Rejected"}):n.jsx(ge,{variant:"warning",children:"Pending"});return n.jsxs("div",{className:"space-y-6",children:[n.jsx(K,{className:"bg-linear-to-r from-indigo-600 to-blue-600 text-white border-0",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-xl bg-white/20 flex items-center justify-center",children:n.jsx($v,{className:"w-8 h-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Medical Leave Reviews"}),n.jsx("p",{className:"text-indigo-100 mt-1",children:"Review and recommend medical leaves to President"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(K,{className:"hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:n.jsx($v,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Requests"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.totalMedical})]})]})}),n.jsx(K,{className:"hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center",children:n.jsx(Be,{className:"w-6 h-6 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-amber-700",children:"Pending Review"}),n.jsx("p",{className:"text-2xl font-bold text-amber-900",children:a.pending})]})]})}),n.jsx(K,{className:"hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center",children:n.jsx(Le,{className:"w-6 h-6 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-emerald-700",children:"Recommended"}),n.jsx("p",{className:"text-2xl font-bold text-emerald-900",children:a.reviewed})]})]})}),n.jsx(K,{className:"hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-rose-100 flex items-center justify-center",children:n.jsx(Tt,{className:"w-6 h-6 text-rose-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-rose-700",children:"Rejected"}),n.jsx("p",{className:"text-2xl font-bold text-rose-900",children:a.rejected})]})]})})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:j.map(A=>n.jsxs("button",{onClick:()=>d(A.id),className:`px-6 py-2.5 rounded-lg text-sm font-semibold whitespace-nowrap transition-all ${c===A.id?"bg-indigo-600 text-white shadow-md":"bg-white border border-gray-200 text-gray-600 hover:border-indigo-300 hover:shadow-sm"}`,children:[A.label,A.id!=="all"&&a[A.id]>0&&n.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs font-bold ${c===A.id?"bg-white/20":"bg-gray-100"}`,children:a[A.id]})]},A.id))}),n.jsx(K,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"relative flex-1",children:n.jsx(Cn,{type:"text",placeholder:"Search by employee name or code...",value:s,onChange:A=>l(A.target.value),className:"w-full",inputClassName:"pr-4 py-2.5"})}),n.jsxs(X,{variant:"outline",className:"gap-2",children:[n.jsx(oo,{className:"w-5 h-5"})," Filters"]})]})}),n.jsx(K,{children:n.jsx("div",{className:"space-y-4",children:r.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Xe,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500 font-medium",children:"No medical leave requests found"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:s?"Try adjusting your search":"All requests are processed"})]}):r.map(A=>{const O=A.approvalChain?.find(k=>k.role==="vc"),D=A.approvalChain?.find(k=>k.role==="hod");return n.jsxs("div",{className:"p-5 border border-gray-200 rounded-xl bg-linear-to-r from-white to-gray-50 hover:shadow-md transition-all",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[n.jsx("div",{className:"w-14 h-14 rounded-xl bg-linear-to-br from-indigo-600 to-blue-600 text-white font-bold text-xl flex items-center justify-center shadow-md",children:A.employee?.name?.charAt(0)||"?"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"font-bold text-gray-900 truncate text-lg",children:A.employee?.name||A.employeeName}),n.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2 mt-1",children:[n.jsx(Mr,{className:"w-4 h-4"}),A.employee?.code||A.employeeCode," "," ",A.employee?.department||A.department]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsx("span",{className:"px-3 py-1.5 rounded-lg bg-teal-100 text-teal-700 text-xs font-bold",children:"Medical Leave"}),n.jsxs("div",{className:"text-sm",children:[A.startDate&&A.endDate?n.jsxs("p",{className:"font-semibold text-gray-700",children:[q(ue(A.startDate),"MMM d")," "," ",q(ue(A.endDate),"MMM d, yyyy")]}):n.jsx("p",{className:"text-gray-500",children:"Dates N/A"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[A.days," day",A.days>1?"s":""]})]}),N(O?.status)]}),O?.status==="pending"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{size:"sm",onClick:()=>b(A,"approve"),className:"bg-emerald-600 text-white hover:bg-emerald-700 gap-1",children:[n.jsx(Le,{className:"w-4 h-4"}),"Recommend"]}),n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>b(A,"reject"),className:"text-rose-600 border-rose-200 hover:bg-rose-50 gap-1",children:[n.jsx(Tt,{className:"w-4 h-4"}),"Reject"]})]})]}),A.reason&&n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-semibold text-gray-900",children:"Reason:"})," ",A.reason]})}),D?.comment&&n.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsxs("p",{className:"text-xs font-semibold text-blue-900 mb-1 flex items-center gap-1",children:[n.jsx(Mr,{className:"w-4 h-4"})," HOD's Recommendation:"]}),n.jsx("p",{className:"text-sm text-blue-800",children:D.comment}),n.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["by ",D.by," on"," ",D.date&&q(ue(D.date),"MMM dd, yyyy")]})]}),O?.comment&&O.status!=="pending"&&n.jsxs("div",{className:`mt-3 p-3 rounded-lg border ${O.status==="approved"?"bg-emerald-50 border-emerald-200":"bg-rose-50 border-rose-200"}`,children:[n.jsxs("p",{className:`text-xs font-semibold mb-1 ${O.status==="approved"?"text-emerald-900":"text-rose-900"}`,children:["Your ",O.status==="approved"?"Recommendation":"Rejection",":"]}),n.jsx("p",{className:`text-sm ${O.status==="approved"?"text-emerald-800":"text-rose-800"}`,children:O.comment}),n.jsxs("p",{className:`text-xs mt-1 ${O.status==="approved"?"text-emerald-600":"text-rose-600"}`,children:["on ",O.date&&q(ue(O.date),"MMM dd, yyyy HH:mm")]})]}),A.documents&&A.documents.length>0&&n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:A.documents.map(k=>n.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gray-100 rounded-lg text-sm",children:[n.jsx($v,{className:"w-4 h-4 text-gray-600"}),n.jsx("span",{className:"text-gray-700",children:k.name})]},k.id))})]},A.id)})})}),n.jsx(vt,{isOpen:!!m,onClose:S,title:h==="approve"?" Recommend Medical Leave":" Reject Medical Leave",children:m&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-linear-to-r from-indigo-50 to-blue-50 border border-indigo-200 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg bg-indigo-600 text-white font-bold text-lg flex items-center justify-center",children:m.employee?.name?.charAt(0)||"?"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-indigo-900",children:m.employee?.name||m.employeeName}),n.jsxs("p",{className:"text-sm text-indigo-700",children:[m.employee?.department||m.department," "," ",m.employee?.code||m.employeeCode]})]})]}),n.jsx("div",{className:"mt-3 pt-3 border-t border-indigo-200",children:n.jsxs("p",{className:"text-sm text-indigo-900",children:[n.jsx("span",{className:"font-semibold",children:"Duration:"})," ",m.startDate&&q(ue(m.startDate),"MMM dd")," "," ",m.endDate&&q(ue(m.endDate),"MMM dd, yyyy")," ","(",m.days," days)"]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:h==="approve"?" Recommendation Note (Optional)":" Rejection Reason (Required)"}),n.jsx("textarea",{value:y,onChange:A=>v(A.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-200 focus:border-indigo-600 outline-none",placeholder:h==="approve"?"Add your recommendation notes for the President (optional)...":"Provide a clear reason for rejection (required)...",required:h==="reject"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h==="approve"?"This will be forwarded to the President for final decision":"Employee will be notified of the rejection reason"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{variant:"outline",onClick:S,children:"Cancel"}),n.jsx(X,{onClick:M,className:h==="approve"?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-rose-600 text-white hover:bg-rose-700",disabled:h==="reject"&&!y.trim(),children:h==="approve"?n.jsxs(n.Fragment,{children:[n.jsx(Le,{className:"w-5 h-5"})," Recommend to President"]}):n.jsxs(n.Fragment,{children:[n.jsx(Tt,{className:"w-5 h-5"})," Confirm Rejection"]})})]})]})})]})}const bce=[{path:"/vc",label:"Dashboard",icon:za,end:!0},{path:"/vc/medical-leaves",label:"Medical Leaves",icon:ht},{path:"/vc/analytics",label:"Analytics",icon:ii},{path:"/vc/pams",label:"PAMS",icon:ii}];function jce(){return n.jsx(yi,{portalKey:"vc",portalName:"VC Portal",navItems:bce})}const wce={"hod-confirmed":"primary",returned:"warning","vc-approved":"success"};function Nce(){const e=Ae(l=>l.getPamsForVc),t=Ae(l=>l.vcApprovePams),a=x.useMemo(()=>e(),[e]),r=()=>{if(!a.length)return;const l=m6(a.map(c=>({period:c.period,employee:c.employeeName||c.employeeId,department:c.department,faculty:c.faculty,status:c.status,hodMeeting:c.hodReview?.meetingDate||""})),["period","employee","department","faculty","status","hodMeeting"]);f6("pams-approved.csv",l)},s=(l,c)=>{t(l,{action:c,comment:c==="return"?"Please revisit with HOD":""})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gs,{className:"w-6 h-6 text-gray-600"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"PAMS Approvals"}),n.jsx("p",{className:"text-gray-600",children:"Review HOD-confirmed submissions and approve."})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(X,{variant:"secondary",onClick:r,className:"flex items-center gap-2",children:[n.jsx(Wt,{className:"w-4 h-4"})," Export CSV"]})}),a.length===0?n.jsx(K,{children:n.jsx("p",{className:"text-sm text-gray-600",children:"No submissions awaiting VC approval."})}):n.jsx("div",{className:"grid gap-4",children:a.map(l=>n.jsxs(K,{children:[n.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:l.employeeName||l.employeeId}),n.jsxs("p",{className:"text-xs text-gray-500",children:[l.department,"  ",l.faculty]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Period: ",l.period]}),l.hodReview?.meetingDate&&n.jsxs("p",{className:"text-xs text-gray-500",children:["HOD meeting: ",l.hodReview.meetingDate]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(ge,{variant:wce[l.status]||"info",children:l.status})})]}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-3 mt-3 text-sm text-gray-800",children:[n.jsx(Bv,{title:"Teaching",value:l.rubric?.teaching}),n.jsx(Bv,{title:"Research",value:l.rubric?.research}),n.jsx(Bv,{title:"Service",value:l.rubric?.service})]}),n.jsxs("div",{className:"flex flex-wrap justify-end gap-2 mt-4",children:[n.jsxs(X,{variant:"outline",onClick:()=>s(l.id,"return"),className:"flex items-center gap-2",children:[n.jsx(ij,{className:"w-4 h-4"})," Return"]}),n.jsxs(X,{onClick:()=>s(l.id,"approve"),className:"flex items-center gap-2",children:[n.jsx(Le,{className:"w-4 h-4"})," Approve"]})]})]},l.id))})]})}function Bv({title:e,value:t}){return n.jsxs("div",{className:"border rounded-lg p-3 bg-white",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:e}),n.jsx("p",{className:"text-sm text-gray-800 mt-1 whitespace-pre-line min-h-12",children:t||""})]})}function Sce(){return n.jsx(gi,{children:n.jsxs(Se,{element:n.jsx(jce,{}),children:[n.jsx(Se,{index:!0,element:n.jsx(xce,{})}),n.jsx(Se,{path:"medical-leaves",element:n.jsx(yce,{})}),n.jsx(Se,{path:"analytics",element:n.jsx(vce,{})}),n.jsx(Se,{path:"pams",element:n.jsx(Nce,{})}),n.jsx(Se,{path:"*",element:n.jsx(hs,{to:".",replace:!0})})]})})}const Ace=[{path:"/finance/dashboard",label:"Dashboard",icon:zu,end:!0},{path:"/finance/requests",label:"Requests",icon:tr},{path:"/finance/reports",label:"Reports",icon:za},{path:"/finance/policy-advisory",label:"Policy Advisory",icon:ht},{path:"/finance/settings",label:"Settings",icon:_r}];function Cce(){return n.jsx(yi,{portalKey:"finance",portalName:"Finance Portal",navItems:Ace})}const Mce=[{id:"r-1",name:"John Doe",balance:1e5,requested:9e4,serviceYears:5,type:"Refundable",age:40,submittedOn:"2025-12-12",status:"Pending"},{id:"r-2",name:"Sara Khan",balance:12e4,requested:1e5,serviceYears:7,type:"Non-Refundable",age:52,submittedOn:"2025-12-10",status:"Pending"},{id:"r-3",name:"Ali Raza",balance:8e4,requested:7e4,serviceYears:2,type:"Refundable",age:29,submittedOn:"2025-12-08",status:"Rejected"}];function jD(){const[e,t]=x.useState(Mce),[a,r]=x.useState("all"),[s,l]=x.useState(null),c=x.useMemo(()=>{const g=e.filter(b=>b.status==="Pending").length,y=e.filter(b=>b.status==="Approved").length,v=e.filter(b=>b.status==="Approved").reduce((b,S)=>b+S.requested,0),j=e.filter(b=>b.requested>b.balance*.8).length;return{pending:g,approvedThisMonth:y,totalDisbursed:v,overLimit:j}},[e]),d=x.useMemo(()=>e.filter(g=>a==="all"?!0:g.status===a),[e,a]),m=x.useMemo(()=>[{header:"Employee",accessorKey:"name",cell:({row:g})=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center text-sm font-bold",children:g.original.name?.charAt(0)}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-900",children:g.original.name}),n.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx($u,{className:"w-3.5 h-3.5"})," ",g.original.type]})]})]})},{header:"Requested",accessorKey:"requested",cell:({row:g})=>n.jsx("span",{className:"font-medium",children:g.original.requested.toLocaleString()})},{header:"Eligible (80%)",accessorKey:"eligible",cell:({row:g})=>(g.original.balance*.8).toLocaleString()},{header:"Status",accessorKey:"status",cell:({row:g})=>{const y=g.original.status,v=g.original.requested>g.original.balance*.8;return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ge,{variant:y==="Approved"?"success":y==="Rejected"?"error":"warning",children:y}),v&&n.jsx(ge,{variant:"danger",size:"xs",children:"Over Limit"})]})}},{header:"Submitted",accessorKey:"submittedOn",cell:({row:g})=>n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[n.jsx(Xe,{className:"w-4 h-4"}),q(new Date(g.original.submittedOn),"MMM d, yyyy")]})},{header:"Actions",cell:({row:g})=>{const y=g.original,v=y.requested>y.balance*.8,j=y.status!=="Pending"||v;return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{size:"sm",disabled:j,onClick:()=>l(y),children:[n.jsx(Le,{className:"w-4 h-4"})," Approve"]}),n.jsxs(X,{size:"sm",variant:"outline",disabled:y.status!=="Pending",onClick:()=>h(y.id),className:"text-red-600 border-red-200 hover:bg-red-50",children:[n.jsx(Tt,{className:"w-4 h-4"})," Reject"]})]})}}],[]),f=g=>{t(y=>y.map(v=>v.id===g?{...v,status:"Approved"}:v)),l(null)},h=g=>{t(y=>y.map(v=>v.id===g?{...v,status:"Rejected"}:v))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"CECPF Provident Fund Requests"}),n.jsx("p",{className:"text-gray-600",children:"Review and process employee fund withdrawals/loans"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(St,{title:"Pending",value:c.pending,icon:Jn,color:"warning",trendValue:`+${Math.max(0,c.pending-0)}`,subtitle:"Awaiting decision"}),n.jsx(St,{title:"Approved (Month)",value:c.approvedThisMonth,icon:Le,color:"success",trendValue:`+${c.approvedThisMonth}`,subtitle:"This month"}),n.jsx(St,{title:"Total Disbursed",value:c.totalDisbursed.toLocaleString(),icon:tr,color:"primary",trendValue:c.totalDisbursed?`+PKR ${c.totalDisbursed.toLocaleString()}`:"+0",subtitle:"All-time"}),n.jsx(St,{title:"Over-Limit",value:c.overLimit,icon:Tt,color:"danger",trendValue:`+${c.overLimit}`,subtitle:"Exceed 80%"})]}),n.jsx(K,{children:n.jsx("div",{className:"flex flex-wrap items-center gap-2",children:["all","Pending","Approved","Rejected"].map(g=>n.jsx("button",{onClick:()=>r(g),className:`px-3 py-1.5 rounded-lg text-sm border transition-all ${a===g?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"}`,children:g==="all"?"All":g},g))})}),n.jsx(hu,{data:d,columns:m,searchPlaceholder:"Search employees...",showSearch:!0,pageSize:5,emptyMessage:"No requests match the filter"}),s&&n.jsx(vt,{isOpen:!!s,onClose:()=>l(null),title:"Approve Request",size:"lg",actions:n.jsxs(n.Fragment,{children:[n.jsx(X,{variant:"ghost",onClick:()=>l(null),children:"Cancel"}),n.jsx(X,{onClick:()=>f(s.id),disabled:s.requested>s.balance*.8,children:"Approve"})]}),children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-100 text-indigo-700 flex items-center justify-center text-lg font-bold",children:s.name?.charAt(0)}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:s.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Type: ",n.jsx("span",{className:"font-medium",children:s.type}),"  Service:"," ",n.jsxs("span",{className:"font-medium",children:[s.serviceYears," yrs"]})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Requested:"," ",n.jsx("span",{className:"font-medium",children:s.requested.toLocaleString()}),"  ","Eligible (80%):"," ",n.jsx("span",{className:"font-medium",children:(s.balance*.8).toLocaleString()})]})]})]}),s.requested>s.balance*.8&&n.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:"Requested amount exceeds 80% eligibility. Adjust before approval."}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Submitted:"})," ",q(new Date(s.submittedOn),"PPP")]}),n.jsx("p",{className:"text-sm text-gray-700",children:"Recovery will be in 30 monthly installments."})]})})]})}const Dce=[{id:"r-1",name:"John Doe",type:"Refundable",requested:9e4,eligible:8e4,status:"Approved",submittedOn:"2025-12-12"},{id:"r-2",name:"Sara Khan",type:"Non-Refundable",requested:1e5,eligible:96e3,status:"Pending",submittedOn:"2025-12-10"},{id:"r-3",name:"Ali Raza",type:"Refundable",requested:7e4,eligible:64e3,status:"Rejected",submittedOn:"2025-12-08"}];function Oce(){const[e]=x.useState(Dce),t=x.useMemo(()=>[{header:"Employee",accessorKey:"name",cell:({row:a})=>n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:a.original.name}),n.jsx("div",{className:"text-xs text-gray-500",children:a.original.type})]})},{header:"Requested",accessorKey:"requested",cell:({row:a})=>`PKR ${a.original.requested.toLocaleString()}`},{header:"Eligible",accessorKey:"eligible",cell:({row:a})=>`PKR ${a.original.eligible.toLocaleString()}`},{header:"Status",accessorKey:"status",cell:({row:a})=>{const r=a.original.status;return n.jsx(ge,{variant:r==="Approved"?"success":r==="Rejected"?"error":"warning",children:r})}},{header:"Date",accessorKey:"submittedOn",cell:({row:a})=>q(new Date(a.original.submittedOn),"MMM d, yyyy")}],[]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Provident Fund Requests"}),n.jsx("p",{className:"text-gray-600",children:"View and manage all employee requests"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx(K,{className:"bg-blue-50 border-blue-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Requests"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]}),n.jsx(tr,{className:"w-8 h-8 text-blue-400"})]})}),n.jsx(K,{className:"bg-green-50 border-green-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Approved"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(a=>a.status==="Approved").length})]}),n.jsx(Le,{className:"w-8 h-8 text-green-400"})]})}),n.jsx(K,{className:"bg-red-50 border-red-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Rejected"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(a=>a.status==="Rejected").length})]}),n.jsx(Tt,{className:"w-8 h-8 text-red-400"})]})})]}),n.jsx(hu,{data:e,columns:t,searchPlaceholder:"Search requests...",showSearch:!0,pageSize:10})]})}function Ece(){const e=[{month:"Oct",approved:12,rejected:2,total:45e6},{month:"Nov",approved:15,rejected:3,total:52e6},{month:"Dec",approved:8,rejected:1,total:38e6}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Finance Reports"}),n.jsx("p",{className:"text-gray-600",children:"Monthly provident fund statistics and trends"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(K,{className:"bg-indigo-50 border-indigo-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Disbursed"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"PKR 1.45 Cr"}),n.jsx("p",{className:"text-xs text-indigo-600 mt-1",children:"This quarter"})]}),n.jsx(tr,{className:"w-8 h-8 text-indigo-400"})]})}),n.jsx(K,{className:"bg-green-50 border-green-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Approval Rate"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"87%"}),n.jsx("p",{className:"text-xs text-green-600 mt-1",children:"This quarter"})]}),n.jsx(xs,{className:"w-8 h-8 text-green-400"})]})}),n.jsx(K,{className:"bg-blue-50 border-blue-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Requests"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"147"}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Total received"})]}),n.jsx(za,{className:"w-8 h-8 text-blue-400"})]})}),n.jsx(K,{className:"bg-purple-50 border-purple-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Avg Duration"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"5 days"}),n.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Processing time"})]}),n.jsx(Xe,{className:"w-8 h-8 text-purple-400"})]})})]}),n.jsxs(K,{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Trends"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"px-4 py-2 text-left text-gray-600",children:"Month"}),n.jsx("th",{className:"px-4 py-2 text-right text-gray-600",children:"Approved"}),n.jsx("th",{className:"px-4 py-2 text-right text-gray-600",children:"Rejected"}),n.jsx("th",{className:"px-4 py-2 text-right text-gray-600",children:"Amount"})]})}),n.jsx("tbody",{children:e.map(t=>n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 font-medium",children:t.month}),n.jsx("td",{className:"px-4 py-3 text-right text-green-600 font-semibold",children:t.approved}),n.jsx("td",{className:"px-4 py-3 text-right text-red-600 font-semibold",children:t.rejected}),n.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:["PKR ",(t.total/1e7).toFixed(1)," Cr"]})]},t.month))})]})})]})]})}const Fv=[{id:1,title:"CECPF Provident Fund Policy",description:"Employee contributory provident fund rules and procedures",updated:"2021-12-10",status:"Active"},{id:2,title:"Fund Withdrawal Guidelines",description:"Procedures and eligibility for fund withdrawals",updated:"2024-11-20",status:"Active"},{id:3,title:"Loan Repayment Policy",description:"Loan disbursement and monthly installment recovery procedures",updated:"2024-10-15",status:"Active"}];function kce(){const e=t=>{const a=document.createElement("a");a.href="/PDF's/4. CECPF 10 Dec 21.pdf",a.download=`${t.title}.pdf`,document.body.appendChild(a),a.click(),document.body.removeChild(a)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Policy Advisory"}),n.jsx("p",{className:"text-gray-600",children:"Provident fund policies and guidelines"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx(K,{className:"bg-blue-50 border-blue-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ht,{className:"w-8 h-8 text-blue-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Policies"}),n.jsx("p",{className:"text-2xl font-bold",children:Fv.length})]})]})}),n.jsx(K,{className:"bg-green-50 border-green-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Le,{className:"w-8 h-8 text-green-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Active"}),n.jsx("p",{className:"text-2xl font-bold",children:Fv.filter(t=>t.status==="Active").length})]})]})}),n.jsx(K,{className:"bg-purple-50 border-purple-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Wt,{className:"w-8 h-8 text-purple-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Downloads"}),n.jsx("p",{className:"text-2xl font-bold",children:"1.2K"})]})]})})]}),n.jsx("div",{className:"space-y-4",children:Fv.map(t=>n.jsx(K,{className:"hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[n.jsx(ht,{className:"w-6 h-6 text-blue-600 shrink-0 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:t.title}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.description}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx(ge,{variant:"success",size:"xs",children:t.status}),n.jsxs("span",{className:"text-xs text-gray-500",children:["Updated: ",new Date(t.updated).toLocaleDateString()]})]})]})]}),n.jsxs(X,{size:"sm",onClick:()=>e(t),className:"gap-2 shrink-0",children:[n.jsx(Wt,{className:"w-4 h-4"}),"Download"]})]})},t.id))})]})}function Pce(){const[e,t]=x.useState({emailAlerts:!0,weeklyReport:!0,approvalReminder:!0}),a=s=>{t(l=>({...l,[s]:!l[s]}))},r=()=>{alert("Settings saved successfully!")};return n.jsxs("div",{className:"space-y-6 max-w-2xl",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),n.jsx("p",{className:"text-gray-600",children:"Manage finance portal preferences"})]}),n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx(Zr,{className:"w-6 h-6 text-blue-600"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Notifications"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Email Alerts"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Get notified for new requests"})]}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:e.emailAlerts,onChange:()=>a("emailAlerts"),className:"w-5 h-5 rounded"}),e.emailAlerts&&n.jsx(ge,{variant:"success",children:"On"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Weekly Report"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Receive weekly summary report"})]}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:e.weeklyReport,onChange:()=>a("weeklyReport"),className:"w-5 h-5 rounded"}),e.weeklyReport&&n.jsx(ge,{variant:"success",children:"On"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Approval Reminders"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Reminder for pending approvals"})]}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:e.approvalReminder,onChange:()=>a("approvalReminder"),className:"w-5 h-5 rounded"}),e.approvalReminder&&n.jsx(ge,{variant:"success",children:"On"})]})]})]})]}),n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx(_r,{className:"w-6 h-6 text-blue-600"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"System Settings"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Default Approval Threshold"}),n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{children:"PKR 50,000"}),n.jsx("option",{children:"PKR 100,000"}),n.jsx("option",{children:"PKR 500,000"}),n.jsx("option",{children:"No limit"})]})]}),n.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Processing Days"}),n.jsx("input",{type:"number",defaultValue:"5",min:"1",max:"30",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Target days to process requests"})]})]})]}),n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx(ci,{className:"w-6 h-6 text-blue-600"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Security"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Two-factor authentication is enabled for all finance accounts."}),n.jsx(X,{variant:"outline",size:"sm",children:"Change Password"})]})]}),n.jsx("div",{className:"flex justify-end pt-4",children:n.jsxs(X,{onClick:r,className:"gap-2",children:[n.jsx(o7,{className:"w-4 h-4"}),"Save Changes"]})})]})}function Rce(){return n.jsx(gi,{children:n.jsxs(Se,{element:n.jsx(Cce,{}),children:[n.jsx(Se,{index:!0,element:n.jsx(jD,{})}),n.jsx(Se,{path:"dashboard",element:n.jsx(jD,{})}),n.jsx(Se,{path:"requests",element:n.jsx(Oce,{})}),n.jsx(Se,{path:"reports",element:n.jsx(Ece,{})}),n.jsx(Se,{path:"policy-advisory",element:n.jsx(kce,{})}),n.jsx(Se,{path:"settings",element:n.jsx(Pce,{})}),n.jsx(Se,{path:"*",element:n.jsx(hs,{to:".",replace:!0})})]})})}const _ce=[{path:"/oric",label:"Dashboard",icon:si,end:!0},{path:"/oric/publications",label:"Publications",icon:ht},{path:"/oric/funding",label:"Funding & Grants",icon:nr}];function Tce({children:e}){return n.jsx(yi,{portalKey:"oric",portalName:"ORIC Portal",navItems:_ce,children:e})}function Lce(){return n.jsx(Tce,{children:n.jsx(wD,{})})}const Ice=[{id:1,title:"AI-Based Medical Diagnosis System",pi:"Dr. Ahmed Khan",department:"Computer Science",status:"Active",budget:"$50,000",year:"2024"},{id:2,title:"Renewable Energy Solutions for Rural Areas",pi:"Dr. Sarah Ali",department:"Electrical Engineering",status:"Active",budget:"$75,000",year:"2024"},{id:3,title:"Smart City Infrastructure Development",pi:"Dr. Hassan Raza",department:"Civil Engineering",status:"Completed",budget:"$120,000",year:"2023"},{id:4,title:"Machine Learning for Agricultural Optimization",pi:"Dr. Fatima Malik",department:"Data Science",status:"Active",budget:"$60,000",year:"2024"},{id:5,title:"Blockchain in Supply Chain Management",pi:"Dr. Usman Tariq",department:"Management Sciences",status:"Active",budget:"$45,000",year:"2024"}],_6=[{id:1,title:"Deep Learning Applications in Healthcare",journal:"IEEE Transactions on Medical Imaging",authors:"Khan, A., et al.",year:"2024",impact:"10.2"},{id:2,title:"Sustainable Energy Systems: A Comprehensive Review",journal:"Renewable Energy Journal",authors:"Ali, S., et al.",year:"2024",impact:"8.5"},{id:3,title:"Smart Infrastructure for Modern Cities",journal:"Urban Planning Review",authors:"Raza, H., et al.",year:"2023",impact:"6.8"},{id:4,title:"Machine Learning in Agricultural Forecasting",journal:"Agricultural Systems",authors:"Malik, F., et al.",year:"2024",impact:"7.3"},{id:5,title:"Blockchain Technology: Security and Applications",journal:"Journal of Computer Security",authors:"Tariq, U., et al.",year:"2024",impact:"9.1"},{id:6,title:"Neural Networks for Medical Image Analysis",journal:"Medical Image Analysis",authors:"Khan, A., et al.",year:"2023",impact:"11.5"}],T6=[{id:1,title:"HEC Research Grant - AI in Healthcare",amount:"$100,000",agency:"Higher Education Commission",status:"Active",year:"2024"},{id:2,title:"NSF Grant - Renewable Energy Research",amount:"$150,000",agency:"National Science Foundation",status:"Active",year:"2024"},{id:3,title:"UNESCO Grant - Educational Technology",amount:"$80,000",agency:"UNESCO",status:"Under Review",year:"2024"},{id:4,title:"Industry Partnership - Smart Agriculture",amount:"$120,000",agency:"AgriTech International",status:"Active",year:"2024"}];function zce(){const e=_6,t=T6,a=Ice,r=()=>{const f=["Section","Title","Detail","Year","Amount/Impact"],h=[...a.map(b=>["Project",b.title,`${b.department}  ${b.status}`,b.year,b.budget]),...t.map(b=>["Grant",b.title,b.agency,b.year,b.amount]),...e.map(b=>["Publication",b.title,b.journal,b.year,b.impact])],g=[f.join(","),...h.map(b=>b.map(S=>`"${String(S).replace(/"/g,'""')}"`).join(","))].join(`
`),y=new Blob([g],{type:"text/csv;charset=utf-8;"}),v=URL.createObjectURL(y),j=document.createElement("a");j.href=v,j.download="oric-dashboard-data.csv",j.click(),URL.revokeObjectURL(v)},s=Object.values(a.reduce((f,h)=>(f[h.department]=f[h.department]||{department:h.department,count:0},f[h.department].count+=1,f),{})),l=["Active","Completed","Pending"].map(f=>({name:f,value:a.filter(h=>h.status===f).length})),c=Object.values(a.reduce((f,h)=>{const g=Number((h.budget||"0").replace(/[$,]/g,""));return f[h.year]=f[h.year]||{year:h.year,budget:0},f[h.year].budget+=g,f},{})).sort((f,h)=>f.year.localeCompare(h.year)),d=[...a].map(f=>({...f,budgetValue:Number((f.budget||"0").replace(/[$,]/g,""))})).sort((f,h)=>h.budgetValue-f.budgetValue).slice(0,4).map((f,h)=>({...f,fill:["#4f46e5","#0ea5e9","#22c55e","#f59e0b"][h%4]})),m=["#4f46e5","#0ea5e9","#22c55e","#f59e0b","#ef4444"];return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"ORIC Dashboard"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Key metrics and research performance at a glance."})]}),n.jsx(X,{variant:"primary",size:"sm",onClick:r,className:"shadow-md",children:"Download Excel (CSV)"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(St,{title:"Active Grants",value:t.length,icon:nr,color:"success"}),n.jsx(St,{title:"Publications",value:e.length,icon:ht,color:"info"})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Projects by Department",children:n.jsx("div",{className:"h-72 min-w-0",children:n.jsx(dt,{width:"100%",height:"100%",minWidth:0,minHeight:0,children:n.jsxs(Cr,{data:s,margin:{top:10,right:10,left:-10,bottom:0},children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"deptGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#4f46e5",stopOpacity:.9}),n.jsx("stop",{offset:"100%",stopColor:"#a855f7",stopOpacity:.6})]})}),n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"department",stroke:"#6b7280",style:{fontSize:"0.8rem"}}),n.jsx(Jt,{stroke:"#6b7280",style:{fontSize:"0.8rem"},allowDecimals:!1}),n.jsx(ut,{}),n.jsx(Qn,{dataKey:"count",radius:[8,8,0,0],fill:"url(#deptGradient)"})]})})})}),n.jsx(K,{title:"Project Status Mix",children:n.jsx("div",{className:"h-72 min-w-0",children:n.jsx(dt,{width:"100%",height:"100%",minWidth:0,minHeight:0,children:n.jsxs(rr,{children:[n.jsx(Ba,{data:l,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:55,outerRadius:85,paddingAngle:2,label:!0,children:l.map((f,h)=>n.jsx(An,{fill:m[h%m.length]},f.name))}),n.jsx(ut,{}),n.jsx(er,{verticalAlign:"bottom",height:36})]})})})}),n.jsx(K,{title:"Project Budget by Year",children:n.jsx("div",{className:"h-72 min-w-0",children:n.jsx(dt,{width:"100%",height:"100%",minWidth:0,minHeight:0,children:n.jsxs(bo,{data:c,margin:{top:10,right:10,left:-10,bottom:0},children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"budgetGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#22c55e",stopOpacity:.8}),n.jsx("stop",{offset:"100%",stopColor:"#bbf7d0",stopOpacity:.5})]})}),n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"year",stroke:"#6b7280",style:{fontSize:"0.8rem"}}),n.jsx(Jt,{stroke:"#6b7280",style:{fontSize:"0.8rem"},tickFormatter:f=>`$${Math.round(f/1e3)}k`}),n.jsx(ut,{formatter:f=>`$${f.toLocaleString()}`}),n.jsx(Ia,{type:"monotone",dataKey:"budget",stroke:"#22c55e",strokeWidth:3,fill:"url(#budgetGradient)"})]})})})}),n.jsx(K,{title:"Top Project Budgets",children:n.jsx("div",{className:"h-112 min-w-0",children:n.jsx(dt,{width:"100%",height:"100%",minWidth:0,minHeight:0,children:n.jsxs(ose,{cx:"50%",cy:"50%",innerRadius:"22%",outerRadius:"100%",barSize:16,data:d,children:[n.jsx(DR,{background:!0,dataKey:"budgetValue",cornerRadius:8,label:{position:"insideStart",fill:"#fff",fontSize:10,formatter:f=>`$${Math.round(f/1e3)}k`}}),n.jsx(er,{iconSize:10,layout:"vertical",verticalAlign:"top",align:"right",wrapperStyle:{fontSize:11,lineHeight:"16px",right:8,top:8},formatter:(f,h)=>`${h.payload.title}`}),n.jsx(ut,{formatter:f=>`$${Number(f).toLocaleString()}`})]})})})})]}),n.jsx(K,{title:"Recent Publications",children:n.jsx("div",{className:"space-y-4",children:e.slice(0,5).map(f=>n.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:f.title}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[f.authors,"  ",f.journal]}),n.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[n.jsxs("span",{className:"text-xs text-gray-500",children:["Year: ",f.year]}),n.jsxs("span",{className:"text-xs font-medium text-blue-600",children:["Impact Factor: ",f.impact]})]})]},f.id))})}),n.jsx(K,{title:"Active Grants",children:n.jsx("div",{className:"space-y-3",children:t.map(f=>n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[n.jsx("h5",{className:"text-sm font-semibold text-gray-900",children:f.title}),n.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Agency: ",f.agency]}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("span",{className:"text-sm font-bold text-green-600",children:f.amount}),n.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-800 rounded-full",children:f.status})]})]},f.id))})})]})}function $ce(){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Publications"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Research publications and journal articles."})]}),n.jsx(K,{title:"All Publications",children:n.jsx("div",{className:"space-y-4",children:_6.map(e=>n.jsx("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:e.title}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.authors,"  ",e.journal]}),n.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[n.jsxs("span",{className:"text-xs text-gray-500",children:["Year: ",e.year]}),n.jsxs("span",{className:"text-xs font-medium text-blue-600",children:["Impact Factor: ",e.impact]})]})]})})},e.id))})})]})}function Bce(){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Funding & Grants"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Overview of all grants and funding sources."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:T6.map(e=>n.jsx(K,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsx("h5",{className:"text-sm font-semibold text-gray-900",children:e.title}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Agency: ",e.agency]}),n.jsxs("div",{className:"border-t border-gray-200 pt-3 mt-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Amount:"}),n.jsx("span",{className:"text-sm font-bold text-green-600",children:e.amount})]}),n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Year:"}),n.jsx("span",{className:"text-sm text-gray-900",children:e.year})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Status:"}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${e.status==="Active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e.status})]})]})]})},e.id))})]})}function Fce(){const{isAuthenticated:e,user:t}=Qe();return n.jsx(XT,{children:n.jsxs(gi,{children:[n.jsx(Se,{path:"/login",element:n.jsx(d8,{})}),e?n.jsxs(n.Fragment,{children:[n.jsx(Se,{path:"/admin/*",element:n.jsx(z8,{})}),n.jsx(Se,{path:"/hr/*",element:n.jsx(Sie,{})}),n.jsx(Se,{path:"/dean/*",element:n.jsx(Fie,{})}),n.jsx(Se,{path:"/hod/*",element:n.jsx(nle,{})}),n.jsx(Se,{path:"/employee/*",element:n.jsx(nce,{})}),n.jsx(Se,{path:"/president/*",element:n.jsx(pce,{})}),n.jsx(Se,{path:"/vc/*",element:n.jsx(Sce,{})}),n.jsx(Se,{path:"/finance/*",element:n.jsx(Rce,{})}),n.jsxs(Se,{path:"/oric/*",element:n.jsx(Lce,{}),children:[n.jsx(Se,{index:!0,element:n.jsx(zce,{})}),n.jsx(Se,{path:"publications",element:n.jsx($ce,{})}),n.jsx(Se,{path:"funding",element:n.jsx(Bce,{})})]}),n.jsx(Se,{path:"/",element:n.jsx(hs,{to:nu[t?.primaryRole]||"/employee",replace:!0})})]}):n.jsx(Se,{path:"*",element:n.jsx(hs,{to:"/login",replace:!0})}),n.jsx(Se,{path:"*",element:n.jsx(u8,{})})]})})}RL.createRoot(document.getElementById("root")).render(n.jsx(De.StrictMode,{children:n.jsx(Fce,{})}));
