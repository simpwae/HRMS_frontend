import{r as yp,a as ZT,g as _r,b as x,u as rj,c as XT,L as fn,N as C5,O as SD,d as yi,e as Se,f as ps,R as De,h as sj,i as QT,B as JT}from"./react-vendor-CcSoP7QY.js";import{c as AD}from"./state-CGPujecI.js";import{f as q,s as nt,a as cs,p as ue,b as La,e as Ia,d as Zr,i as xs,c as io,g as eL,h as tL,j as nL,k as aL,l as rL,m as sL,n as iL,o as lL,q as oL,r as cL,t as dL,u as uL,v as mL,w as fL,x as hL,y as pL,z as xL,A as gL,B as yL,C as vL,D as bL,E as jL,F as NL,G as wL,H as SL,I as AL,J as CL,K as ML,L as CD}from"./date-utils-BZYJwz5H.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function a(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=a(s);fetch(s.href,l)}})();var _0={exports:{}},Ud={};var M5;function DL(){if(M5)return Ud;M5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(r,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:e,type:r,key:c,ref:s!==void 0?s:null,props:l}}return Ud.Fragment=t,Ud.jsx=a,Ud.jsxs=a,Ud}var D5;function OL(){return D5||(D5=1,_0.exports=DL()),_0.exports}var n=OL(),T0={exports:{}},qd={},L0={exports:{}},I0={};var O5;function EL(){return O5||(O5=1,(function(e){function t(V,B){var U=V.length;V.push(B);e:for(;0<U;){var F=U-1>>>1,W=V[F];if(0<s(W,B))V[F]=B,V[U]=W,U=F;else break e}}function a(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var B=V[0],U=V.pop();if(U!==B){V[0]=U;e:for(var F=0,W=V.length,ne=W>>>1;F<ne;){var je=2*(F+1)-1,H=V[je],fe=je+1,Ne=V[fe];if(0>s(H,U))fe<W&&0>s(Ne,H)?(V[F]=Ne,V[fe]=U,F=fe):(V[F]=H,V[je]=U,F=je);else if(fe<W&&0>s(Ne,U))V[F]=Ne,V[fe]=U,F=fe;else break e}}return B}function s(V,B){var U=V.sortIndex-B.sortIndex;return U!==0?U:V.id-B.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],f=[],h=1,g=null,v=3,y=!1,j=!1,b=!1,S=!1,M=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function O(V){for(var B=a(f);B!==null;){if(B.callback===null)r(f);else if(B.startTime<=V)r(f),B.sortIndex=B.expirationTime,t(m,B);else break;B=a(f)}}function D(V){if(b=!1,O(V),!j)if(a(m)!==null)j=!0,k||(k=!0,I());else{var B=a(f);B!==null&&Y(D,B.startTime-V)}}var k=!1,_=-1,E=5,P=-1;function z(){return S?!0:!(e.unstable_now()-P<E)}function L(){if(S=!1,k){var V=e.unstable_now();P=V;var B=!0;try{e:{j=!1,b&&(b=!1,w(_),_=-1),y=!0;var U=v;try{t:{for(O(V),g=a(m);g!==null&&!(g.expirationTime>V&&z());){var F=g.callback;if(typeof F=="function"){g.callback=null,v=g.priorityLevel;var W=F(g.expirationTime<=V);if(V=e.unstable_now(),typeof W=="function"){g.callback=W,O(V),B=!0;break t}g===a(m)&&r(m),O(V)}else r(m);g=a(m)}if(g!==null)B=!0;else{var ne=a(f);ne!==null&&Y(D,ne.startTime-V),B=!1}}break e}finally{g=null,v=U,y=!1}B=void 0}}finally{B?I():k=!1}}}var I;if(typeof A=="function")I=function(){A(L)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,T=J.port2;J.port1.onmessage=L,I=function(){T.postMessage(null)}}else I=function(){M(L,0)};function Y(V,B){_=M(function(){V(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(V){switch(v){case 1:case 2:case 3:var B=3;break;default:B=v}var U=v;v=B;try{return V()}finally{v=U}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(V,B){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var U=v;v=V;try{return B()}finally{v=U}},e.unstable_scheduleCallback=function(V,B,U){var F=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?F+U:F):U=F,V){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=U+W,V={id:h++,callback:B,priorityLevel:V,startTime:U,expirationTime:W,sortIndex:-1},U>F?(V.sortIndex=U,t(f,V),a(m)===null&&V===a(f)&&(b?(w(_),_=-1):b=!0,Y(D,U-F))):(V.sortIndex=W,t(m,V),j||y||(j=!0,k||(k=!0,I()))),V},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(V){var B=v;return function(){var U=v;v=B;try{return V.apply(this,arguments)}finally{v=U}}}})(I0)),I0}var E5;function kL(){return E5||(E5=1,L0.exports=EL()),L0.exports}var k5;function PL(){if(k5)return qd;k5=1;var e=kL(),t=yp(),a=ZT();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(r(188))}function f(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,p=o;;){var N=u.return;if(N===null)break;var C=N.alternate;if(C===null){if(p=N.return,p!==null){u=p;continue}break}if(N.child===C.child){for(C=N.child;C;){if(C===u)return m(N),i;if(C===p)return m(N),o;C=C.sibling}throw Error(r(188))}if(u.return!==p.return)u=N,p=C;else{for(var R=!1,$=N.child;$;){if($===u){R=!0,u=N,p=C;break}if($===p){R=!0,p=N,u=C;break}$=$.sibling}if(!R){for($=C.child;$;){if($===u){R=!0,u=C,p=N;break}if($===p){R=!0,p=C,u=N;break}$=$.sibling}if(!R)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function I(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var J=Symbol.for("react.client.reference");function T(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===J?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case b:return"Fragment";case M:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case k:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case A:return i.displayName||"Context";case w:return(i._context.displayName||"Context")+".Consumer";case O:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case _:return o=i.displayName||null,o!==null?o:T(i.type)||"Memo";case E:o=i._payload,i=i._init;try{return T(i(o))}catch{}}return null}var Y=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},F=[],W=-1;function ne(i){return{current:i}}function je(i){0>W||(i.current=F[W],F[W]=null,W--)}function H(i,o){W++,F[W]=i.current,i.current=o}var fe=ne(null),Ne=ne(null),se=ne(null),ee=ne(null);function ie(i,o){switch(H(se,o),H(Ne,i),H(fe,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?GS(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=GS(o),i=ZS(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}je(fe),H(fe,i)}function ae(){je(fe),je(Ne),je(se)}function Me(i){i.memoizedState!==null&&H(ee,i);var o=fe.current,u=ZS(o,i.type);o!==u&&(H(Ne,i),H(fe,u))}function Ce(i){Ne.current===i&&(je(fe),je(Ne)),ee.current===i&&(je(ee),zd._currentValue=U)}var xe,lt;function Re(i){if(xe===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);xe=o&&o[1]||"",lt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+i+lt}var Ke=!1;function Fe(i,o){if(!i||Ke)return"";Ke=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(me){var de=me}Reflect.construct(i,[],ve)}else{try{ve.call()}catch(me){de=me}i.call(ve.prototype)}}else{try{throw Error()}catch(me){de=me}(ve=i())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(me){if(me&&de&&typeof me.stack=="string")return[me.stack,de.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=p.DetermineComponentFrameRoot(),R=C[0],$=C[1];if(R&&$){var G=R.split(`
`),ce=$.split(`
`);for(N=p=0;p<G.length&&!G[p].includes("DetermineComponentFrameRoot");)p++;for(;N<ce.length&&!ce[N].includes("DetermineComponentFrameRoot");)N++;if(p===G.length||N===ce.length)for(p=G.length-1,N=ce.length-1;1<=p&&0<=N&&G[p]!==ce[N];)N--;for(;1<=p&&0<=N;p--,N--)if(G[p]!==ce[N]){if(p!==1||N!==1)do if(p--,N--,0>N||G[p]!==ce[N]){var pe=`
`+G[p].replace(" at new "," at ");return i.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",i.displayName)),pe}while(1<=p&&0<=N);break}}}finally{Ke=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Re(u):""}function tn(i,o){switch(i.tag){case 26:case 27:case 5:return Re(i.type);case 16:return Re("Lazy");case 13:return i.child!==o&&o!==null?Re("Suspense Fallback"):Re("Suspense");case 19:return Re("SuspenseList");case 0:case 15:return Fe(i.type,!1);case 11:return Fe(i.type.render,!1);case 1:return Fe(i.type,!0);case 31:return Re("Activity");default:return""}}function Ge(i){try{var o="",u=null;do o+=tn(i,u),u=i,i=i.return;while(i);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Ct=Object.prototype.hasOwnProperty,Z=e.unstable_scheduleCallback,le=e.unstable_cancelCallback,he=e.unstable_shouldYield,Ee=e.unstable_requestPaint,be=e.unstable_now,we=e.unstable_getCurrentPriorityLevel,ke=e.unstable_ImmediatePriority,Ze=e.unstable_UserBlockingPriority,rt=e.unstable_NormalPriority,Mn=e.unstable_LowPriority,cr=e.unstable_IdlePriority,zn=e.log,ua=e.unstable_setDisableYieldValue,ta=null,pn=null;function dr(i){if(typeof zn=="function"&&ua(i),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(ta,i)}catch{}}var Hn=Math.clz32?Math.clz32:st,bo=Math.log,jo=Math.LN2;function st(i){return i>>>=0,i===0?32:31-(bo(i)/jo|0)|0}var Mt=256,Je=262144,Nt=4194304;function Vn(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function mt(i,o,u){var p=i.pendingLanes;if(p===0)return 0;var N=0,C=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var $=p&134217727;return $!==0?(p=$&~C,p!==0?N=Vn(p):(R&=$,R!==0?N=Vn(R):u||(u=$&~i,u!==0&&(N=Vn(u))))):($=p&~C,$!==0?N=Vn($):R!==0?N=Vn(R):u||(u=p&~i,u!==0&&(N=Vn(u)))),N===0?0:o!==0&&o!==N&&(o&C)===0&&(C=N&-N,u=o&-o,C>=u||C===32&&(u&4194048)!==0)?o:N}function pl(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Nx(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jm(){var i=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),i}function xl(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Ms(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function z6(i,o,u,p,N,C){var R=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var $=i.entanglements,G=i.expirationTimes,ce=i.hiddenUpdates;for(u=R&~u;0<u;){var pe=31-Hn(u),ve=1<<pe;$[pe]=0,G[pe]=-1;var de=ce[pe];if(de!==null)for(ce[pe]=null,pe=0;pe<de.length;pe++){var me=de[pe];me!==null&&(me.lane&=-536870913)}u&=~ve}p!==0&&kN(i,p,0),C!==0&&N===0&&i.tag!==0&&(i.suspendedLanes|=C&~(R&~o))}function kN(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-Hn(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|u&261930}function PN(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var p=31-Hn(u),N=1<<p;N&o|i[p]&o&&(i[p]|=o),u&=~N}}function RN(i,o){var u=o&-o;return u=(u&42)!==0?1:wx(u),(u&(i.suspendedLanes|o))!==0?0:u}function wx(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Sx(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function _N(){var i=B.p;return i!==0?i:(i=window.event,i===void 0?32:v5(i.type))}function TN(i,o){var u=B.p;try{return B.p=i,o()}finally{B.p=u}}var Oi=Math.random().toString(36).slice(2),na="__reactFiber$"+Oi,Na="__reactProps$"+Oi,No="__reactContainer$"+Oi,Ax="__reactEvents$"+Oi,$6="__reactListeners$"+Oi,B6="__reactHandles$"+Oi,LN="__reactResources$"+Oi,Jc="__reactMarker$"+Oi;function Cx(i){delete i[na],delete i[Na],delete i[Ax],delete i[$6],delete i[B6]}function wo(i){var o=i[na];if(o)return o;for(var u=i.parentNode;u;){if(o=u[No]||u[na]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=a5(i);i!==null;){if(u=i[na])return u;i=a5(i)}return o}i=u,u=i.parentNode}return null}function So(i){if(i=i[na]||i[No]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function ed(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function Ao(i){var o=i[LN];return o||(o=i[LN]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Kn(i){i[Jc]=!0}var IN=new Set,zN={};function gl(i,o){Co(i,o),Co(i+"Capture",o)}function Co(i,o){for(zN[i]=o,i=0;i<o.length;i++)IN.add(o[i])}var F6=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$N={},BN={};function U6(i){return Ct.call(BN,i)?!0:Ct.call($N,i)?!1:F6.test(i)?BN[i]=!0:($N[i]=!0,!1)}function Nm(i,o,u){if(U6(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function wm(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function Ds(i,o,u,p){if(p===null)i.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+p)}}function ur(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function FN(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function q6(i,o,u){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var N=p.get,C=p.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return N.call(this)},set:function(R){u=""+R,C.call(this,R)}}),Object.defineProperty(i,o,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(R){u=""+R},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Mx(i){if(!i._valueTracker){var o=FN(i)?"checked":"value";i._valueTracker=q6(i,o,""+i[o])}}function UN(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return i&&(p=FN(i)?i.checked?"true":"false":i.value),i=p,i!==u?(o.setValue(i),!0):!1}function Sm(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var H6=/[\n"\\]/g;function mr(i){return i.replace(H6,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Dx(i,o,u,p,N,C,R,$){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),o!=null?R==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+ur(o)):i.value!==""+ur(o)&&(i.value=""+ur(o)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),o!=null?Ox(i,R,ur(o)):u!=null?Ox(i,R,ur(u)):p!=null&&i.removeAttribute("value"),N==null&&C!=null&&(i.defaultChecked=!!C),N!=null&&(i.checked=N&&typeof N!="function"&&typeof N!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?i.name=""+ur($):i.removeAttribute("name")}function qN(i,o,u,p,N,C,R,$){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.type=C),o!=null||u!=null){if(!(C!=="submit"&&C!=="reset"||o!=null)){Mx(i);return}u=u!=null?""+ur(u):"",o=o!=null?""+ur(o):u,$||o===i.value||(i.value=o),i.defaultValue=o}p=p??N,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=$?i.checked:!!p,i.defaultChecked=!!p,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R),Mx(i)}function Ox(i,o,u){o==="number"&&Sm(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Mo(i,o,u,p){if(i=i.options,o){o={};for(var N=0;N<u.length;N++)o["$"+u[N]]=!0;for(u=0;u<i.length;u++)N=o.hasOwnProperty("$"+i[u].value),i[u].selected!==N&&(i[u].selected=N),N&&p&&(i[u].defaultSelected=!0)}else{for(u=""+ur(u),o=null,N=0;N<i.length;N++){if(i[N].value===u){i[N].selected=!0,p&&(i[N].defaultSelected=!0);return}o!==null||i[N].disabled||(o=i[N])}o!==null&&(o.selected=!0)}}function HN(i,o,u){if(o!=null&&(o=""+ur(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+ur(u):""}function VN(i,o,u,p){if(o==null){if(p!=null){if(u!=null)throw Error(r(92));if(Y(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),o=u}u=ur(o),i.defaultValue=u,p=i.textContent,p===u&&p!==""&&p!==null&&(i.value=p),Mx(i)}function Do(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var V6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function KN(i,o,u){var p=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,u):typeof u!="number"||u===0||V6.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function WN(i,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var N in o)p=o[N],o.hasOwnProperty(N)&&u[N]!==p&&KN(i,N,p)}else for(var C in o)o.hasOwnProperty(C)&&KN(i,C,o[C])}function Ex(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var K6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),W6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Am(i){return W6.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Os(){}var kx=null;function Px(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Oo=null,Eo=null;function YN(i){var o=So(i);if(o&&(i=o.stateNode)){var u=i[Na]||null;e:switch(i=o.stateNode,o.type){case"input":if(Dx(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+mr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==i&&p.form===i.form){var N=p[Na]||null;if(!N)throw Error(r(90));Dx(p,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(o=0;o<u.length;o++)p=u[o],p.form===i.form&&UN(p)}break e;case"textarea":HN(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Mo(i,!!u.multiple,o,!1)}}}var Rx=!1;function GN(i,o,u){if(Rx)return i(o,u);Rx=!0;try{var p=i(o);return p}finally{if(Rx=!1,(Oo!==null||Eo!==null)&&(ff(),Oo&&(o=Oo,i=Eo,Eo=Oo=null,YN(o),i)))for(o=0;o<i.length;o++)YN(i[o])}}function td(i,o){var u=i.stateNode;if(u===null)return null;var p=u[Na]||null;if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_x=!1;if(Es)try{var nd={};Object.defineProperty(nd,"passive",{get:function(){_x=!0}}),window.addEventListener("test",nd,nd),window.removeEventListener("test",nd,nd)}catch{_x=!1}var Ei=null,Tx=null,Cm=null;function ZN(){if(Cm)return Cm;var i,o=Tx,u=o.length,p,N="value"in Ei?Ei.value:Ei.textContent,C=N.length;for(i=0;i<u&&o[i]===N[i];i++);var R=u-i;for(p=1;p<=R&&o[u-p]===N[C-p];p++);return Cm=N.slice(i,1<p?1-p:void 0)}function Mm(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Dm(){return!0}function XN(){return!1}function wa(i){function o(u,p,N,C,R){this._reactName=u,this._targetInst=N,this.type=p,this.nativeEvent=C,this.target=R,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(u=i[$],this[$]=u?u(C):C[$]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Dm:XN,this.isPropagationStopped=XN,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Dm)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Dm)},persist:function(){},isPersistent:Dm}),o}var yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Om=wa(yl),ad=g({},yl,{view:0,detail:0}),Y6=wa(ad),Lx,Ix,rd,Em=g({},ad,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$x,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==rd&&(rd&&i.type==="mousemove"?(Lx=i.screenX-rd.screenX,Ix=i.screenY-rd.screenY):Ix=Lx=0,rd=i),Lx)},movementY:function(i){return"movementY"in i?i.movementY:Ix}}),QN=wa(Em),G6=g({},Em,{dataTransfer:0}),Z6=wa(G6),X6=g({},ad,{relatedTarget:0}),zx=wa(X6),Q6=g({},yl,{animationName:0,elapsedTime:0,pseudoElement:0}),J6=wa(Q6),e_=g({},yl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),t_=wa(e_),n_=g({},yl,{data:0}),JN=wa(n_),a_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i_(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=s_[i])?!!o[i]:!1}function $x(){return i_}var l_=g({},ad,{key:function(i){if(i.key){var o=a_[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Mm(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?r_[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$x,charCode:function(i){return i.type==="keypress"?Mm(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Mm(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),o_=wa(l_),c_=g({},Em,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ew=wa(c_),d_=g({},ad,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$x}),u_=wa(d_),m_=g({},yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),f_=wa(m_),h_=g({},Em,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),p_=wa(h_),x_=g({},yl,{newState:0,oldState:0}),g_=wa(x_),y_=[9,13,27,32],Bx=Es&&"CompositionEvent"in window,sd=null;Es&&"documentMode"in document&&(sd=document.documentMode);var v_=Es&&"TextEvent"in window&&!sd,tw=Es&&(!Bx||sd&&8<sd&&11>=sd),nw=" ",aw=!1;function rw(i,o){switch(i){case"keyup":return y_.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sw(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ko=!1;function b_(i,o){switch(i){case"compositionend":return sw(o);case"keypress":return o.which!==32?null:(aw=!0,nw);case"textInput":return i=o.data,i===nw&&aw?null:i;default:return null}}function j_(i,o){if(ko)return i==="compositionend"||!Bx&&rw(i,o)?(i=ZN(),Cm=Tx=Ei=null,ko=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return tw&&o.locale!=="ko"?null:o.data;default:return null}}var N_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iw(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!N_[i.type]:o==="textarea"}function lw(i,o,u,p){Oo?Eo?Eo.push(p):Eo=[p]:Oo=p,o=bf(o,"onChange"),0<o.length&&(u=new Om("onChange","change",null,u,p),i.push({event:u,listeners:o}))}var id=null,ld=null;function w_(i){qS(i,0)}function km(i){var o=ed(i);if(UN(o))return i}function ow(i,o){if(i==="change")return o}var cw=!1;if(Es){var Fx;if(Es){var Ux="oninput"in document;if(!Ux){var dw=document.createElement("div");dw.setAttribute("oninput","return;"),Ux=typeof dw.oninput=="function"}Fx=Ux}else Fx=!1;cw=Fx&&(!document.documentMode||9<document.documentMode)}function uw(){id&&(id.detachEvent("onpropertychange",mw),ld=id=null)}function mw(i){if(i.propertyName==="value"&&km(ld)){var o=[];lw(o,ld,i,Px(i)),GN(w_,o)}}function S_(i,o,u){i==="focusin"?(uw(),id=o,ld=u,id.attachEvent("onpropertychange",mw)):i==="focusout"&&uw()}function A_(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return km(ld)}function C_(i,o){if(i==="click")return km(o)}function M_(i,o){if(i==="input"||i==="change")return km(o)}function D_(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var qa=typeof Object.is=="function"?Object.is:D_;function od(i,o){if(qa(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var N=u[p];if(!Ct.call(o,N)||!qa(i[N],o[N]))return!1}return!0}function fw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function hw(i,o){var u=fw(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=o&&p>=o)return{node:u,offset:o-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=fw(u)}}function pw(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?pw(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function xw(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Sm(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Sm(i.document)}return o}function qx(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var O_=Es&&"documentMode"in document&&11>=document.documentMode,Po=null,Hx=null,cd=null,Vx=!1;function gw(i,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Vx||Po==null||Po!==Sm(p)||(p=Po,"selectionStart"in p&&qx(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),cd&&od(cd,p)||(cd=p,p=bf(Hx,"onSelect"),0<p.length&&(o=new Om("onSelect","select",null,o,u),i.push({event:o,listeners:p}),o.target=Po)))}function vl(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Ro={animationend:vl("Animation","AnimationEnd"),animationiteration:vl("Animation","AnimationIteration"),animationstart:vl("Animation","AnimationStart"),transitionrun:vl("Transition","TransitionRun"),transitionstart:vl("Transition","TransitionStart"),transitioncancel:vl("Transition","TransitionCancel"),transitionend:vl("Transition","TransitionEnd")},Kx={},yw={};Es&&(yw=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function bl(i){if(Kx[i])return Kx[i];if(!Ro[i])return i;var o=Ro[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in yw)return Kx[i]=o[u];return i}var vw=bl("animationend"),bw=bl("animationiteration"),jw=bl("animationstart"),E_=bl("transitionrun"),k_=bl("transitionstart"),P_=bl("transitioncancel"),Nw=bl("transitionend"),ww=new Map,Wx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wx.push("scrollEnd");function zr(i,o){ww.set(i,o),gl(o,[i])}var Pm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},fr=[],_o=0,Yx=0;function Rm(){for(var i=_o,o=Yx=_o=0;o<i;){var u=fr[o];fr[o++]=null;var p=fr[o];fr[o++]=null;var N=fr[o];fr[o++]=null;var C=fr[o];if(fr[o++]=null,p!==null&&N!==null){var R=p.pending;R===null?N.next=N:(N.next=R.next,R.next=N),p.pending=N}C!==0&&Sw(u,N,C)}}function _m(i,o,u,p){fr[_o++]=i,fr[_o++]=o,fr[_o++]=u,fr[_o++]=p,Yx|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function Gx(i,o,u,p){return _m(i,o,u,p),Tm(i)}function jl(i,o){return _m(i,null,null,o),Tm(i)}function Sw(i,o,u){i.lanes|=u;var p=i.alternate;p!==null&&(p.lanes|=u);for(var N=!1,C=i.return;C!==null;)C.childLanes|=u,p=C.alternate,p!==null&&(p.childLanes|=u),C.tag===22&&(i=C.stateNode,i===null||i._visibility&1||(N=!0)),i=C,C=C.return;return i.tag===3?(C=i.stateNode,N&&o!==null&&(N=31-Hn(u),i=C.hiddenUpdates,p=i[N],p===null?i[N]=[o]:p.push(o),o.lane=u|536870912),C):null}function Tm(i){if(50<kd)throw kd=0,r0=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var To={};function R_(i,o,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ha(i,o,u,p){return new R_(i,o,u,p)}function Zx(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ks(i,o){var u=i.alternate;return u===null?(u=Ha(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function Aw(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Lm(i,o,u,p,N,C){var R=0;if(p=i,typeof i=="function")Zx(i)&&(R=1);else if(typeof i=="string")R=zT(i,u,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=Ha(31,u,o,N),i.elementType=P,i.lanes=C,i;case b:return Nl(u.children,N,C,o);case S:R=8,N|=24;break;case M:return i=Ha(12,u,o,N|2),i.elementType=M,i.lanes=C,i;case D:return i=Ha(13,u,o,N),i.elementType=D,i.lanes=C,i;case k:return i=Ha(19,u,o,N),i.elementType=k,i.lanes=C,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:R=10;break e;case w:R=9;break e;case O:R=11;break e;case _:R=14;break e;case E:R=16,p=null;break e}R=29,u=Error(r(130,i===null?"null":typeof i,"")),p=null}return o=Ha(R,u,o,N),o.elementType=i,o.type=p,o.lanes=C,o}function Nl(i,o,u,p){return i=Ha(7,i,p,o),i.lanes=u,i}function Xx(i,o,u){return i=Ha(6,i,null,o),i.lanes=u,i}function Cw(i){var o=Ha(18,null,null,0);return o.stateNode=i,o}function Qx(i,o,u){return o=Ha(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var Mw=new WeakMap;function hr(i,o){if(typeof i=="object"&&i!==null){var u=Mw.get(i);return u!==void 0?u:(o={value:i,source:o,stack:Ge(o)},Mw.set(i,o),o)}return{value:i,source:o,stack:Ge(o)}}var Lo=[],Io=0,Im=null,dd=0,pr=[],xr=0,ki=null,es=1,ts="";function Ps(i,o){Lo[Io++]=dd,Lo[Io++]=Im,Im=i,dd=o}function Dw(i,o,u){pr[xr++]=es,pr[xr++]=ts,pr[xr++]=ki,ki=i;var p=es;i=ts;var N=32-Hn(p)-1;p&=~(1<<N),u+=1;var C=32-Hn(o)+N;if(30<C){var R=N-N%5;C=(p&(1<<R)-1).toString(32),p>>=R,N-=R,es=1<<32-Hn(o)+N|u<<N|p,ts=C+i}else es=1<<C|u<<N|p,ts=i}function Jx(i){i.return!==null&&(Ps(i,1),Dw(i,1,0))}function eg(i){for(;i===Im;)Im=Lo[--Io],Lo[Io]=null,dd=Lo[--Io],Lo[Io]=null;for(;i===ki;)ki=pr[--xr],pr[xr]=null,ts=pr[--xr],pr[xr]=null,es=pr[--xr],pr[xr]=null}function Ow(i,o){pr[xr++]=es,pr[xr++]=ts,pr[xr++]=ki,es=o.id,ts=o.overflow,ki=i}var aa=null,nn=null,jt=!1,Pi=null,gr=!1,tg=Error(r(519));function Ri(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ud(hr(o,i)),tg}function Ew(i){var o=i.stateNode,u=i.type,p=i.memoizedProps;switch(o[na]=i,o[Na]=p,u){case"dialog":xt("cancel",o),xt("close",o);break;case"iframe":case"object":case"embed":xt("load",o);break;case"video":case"audio":for(u=0;u<Rd.length;u++)xt(Rd[u],o);break;case"source":xt("error",o);break;case"img":case"image":case"link":xt("error",o),xt("load",o);break;case"details":xt("toggle",o);break;case"input":xt("invalid",o),qN(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":xt("invalid",o);break;case"textarea":xt("invalid",o),VN(o,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||p.suppressHydrationWarning===!0||WS(o.textContent,u)?(p.popover!=null&&(xt("beforetoggle",o),xt("toggle",o)),p.onScroll!=null&&xt("scroll",o),p.onScrollEnd!=null&&xt("scrollend",o),p.onClick!=null&&(o.onclick=Os),o=!0):o=!1,o||Ri(i,!0)}function kw(i){for(aa=i.return;aa;)switch(aa.tag){case 5:case 31:case 13:gr=!1;return;case 27:case 3:gr=!0;return;default:aa=aa.return}}function zo(i){if(i!==aa)return!1;if(!jt)return kw(i),jt=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||v0(i.type,i.memoizedProps)),u=!u),u&&nn&&Ri(i),kw(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));nn=n5(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));nn=n5(i)}else o===27?(o=nn,Wi(i.type)?(i=S0,S0=null,nn=i):nn=o):nn=aa?vr(i.stateNode.nextSibling):null;return!0}function wl(){nn=aa=null,jt=!1}function ng(){var i=Pi;return i!==null&&(Ma===null?Ma=i:Ma.push.apply(Ma,i),Pi=null),i}function ud(i){Pi===null?Pi=[i]:Pi.push(i)}var ag=ne(null),Sl=null,Rs=null;function _i(i,o,u){H(ag,o._currentValue),o._currentValue=u}function _s(i){i._currentValue=ag.current,je(ag)}function rg(i,o,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===u)break;i=i.return}}function sg(i,o,u,p){var N=i.child;for(N!==null&&(N.return=i);N!==null;){var C=N.dependencies;if(C!==null){var R=N.child;C=C.firstContext;e:for(;C!==null;){var $=C;C=N;for(var G=0;G<o.length;G++)if($.context===o[G]){C.lanes|=u,$=C.alternate,$!==null&&($.lanes|=u),rg(C.return,u,i),p||(R=null);break e}C=$.next}}else if(N.tag===18){if(R=N.return,R===null)throw Error(r(341));R.lanes|=u,C=R.alternate,C!==null&&(C.lanes|=u),rg(R,u,i),R=null}else R=N.child;if(R!==null)R.return=N;else for(R=N;R!==null;){if(R===i){R=null;break}if(N=R.sibling,N!==null){N.return=R.return,R=N;break}R=R.return}N=R}}function $o(i,o,u,p){i=null;for(var N=o,C=!1;N!==null;){if(!C){if((N.flags&524288)!==0)C=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var R=N.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var $=N.type;qa(N.pendingProps.value,R.value)||(i!==null?i.push($):i=[$])}}else if(N===ee.current){if(R=N.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(i!==null?i.push(zd):i=[zd])}N=N.return}i!==null&&sg(o,i,u,p),o.flags|=262144}function zm(i){for(i=i.firstContext;i!==null;){if(!qa(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Al(i){Sl=i,Rs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ra(i){return Pw(Sl,i)}function $m(i,o){return Sl===null&&Al(i),Pw(i,o)}function Pw(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Rs===null){if(i===null)throw Error(r(308));Rs=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Rs=Rs.next=o;return u}var __=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},T_=e.unstable_scheduleCallback,L_=e.unstable_NormalPriority,Dn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ig(){return{controller:new __,data:new Map,refCount:0}}function md(i){i.refCount--,i.refCount===0&&T_(L_,function(){i.controller.abort()})}var fd=null,lg=0,Bo=0,Fo=null;function I_(i,o){if(fd===null){var u=fd=[];lg=0,Bo=d0(),Fo={status:"pending",value:void 0,then:function(p){u.push(p)}}}return lg++,o.then(Rw,Rw),o}function Rw(){if(--lg===0&&fd!==null){Fo!==null&&(Fo.status="fulfilled");var i=fd;fd=null,Bo=0,Fo=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function z_(i,o){var u=[],p={status:"pending",value:null,reason:null,then:function(N){u.push(N)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var N=0;N<u.length;N++)(0,u[N])(o)},function(N){for(p.status="rejected",p.reason=N,N=0;N<u.length;N++)(0,u[N])(void 0)}),p}var _w=V.S;V.S=function(i,o){gS=be(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&I_(i,o),_w!==null&&_w(i,o)};var Cl=ne(null);function og(){var i=Cl.current;return i!==null?i:Vt.pooledCache}function Bm(i,o){o===null?H(Cl,Cl.current):H(Cl,o.pool)}function Tw(){var i=og();return i===null?null:{parent:Dn._currentValue,pool:i}}var Uo=Error(r(460)),cg=Error(r(474)),Fm=Error(r(542)),Um={then:function(){}};function Lw(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Iw(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(Os,Os),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,$w(i),i;default:if(typeof o.status=="string")o.then(Os,Os);else{if(i=Vt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var N=o;N.status="fulfilled",N.value=p}},function(p){if(o.status==="pending"){var N=o;N.status="rejected",N.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,$w(i),i}throw Dl=o,Uo}}function Ml(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Dl=u,Uo):u}}var Dl=null;function zw(){if(Dl===null)throw Error(r(459));var i=Dl;return Dl=null,i}function $w(i){if(i===Uo||i===Fm)throw Error(r(483))}var qo=null,hd=0;function qm(i){var o=hd;return hd+=1,qo===null&&(qo=[]),Iw(qo,i,o)}function pd(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Hm(i,o){throw o.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function Bw(i){function o(re,Q){if(i){var oe=re.deletions;oe===null?(re.deletions=[Q],re.flags|=16):oe.push(Q)}}function u(re,Q){if(!i)return null;for(;Q!==null;)o(re,Q),Q=Q.sibling;return null}function p(re){for(var Q=new Map;re!==null;)re.key!==null?Q.set(re.key,re):Q.set(re.index,re),re=re.sibling;return Q}function N(re,Q){return re=ks(re,Q),re.index=0,re.sibling=null,re}function C(re,Q,oe){return re.index=oe,i?(oe=re.alternate,oe!==null?(oe=oe.index,oe<Q?(re.flags|=67108866,Q):oe):(re.flags|=67108866,Q)):(re.flags|=1048576,Q)}function R(re){return i&&re.alternate===null&&(re.flags|=67108866),re}function $(re,Q,oe,ye){return Q===null||Q.tag!==6?(Q=Xx(oe,re.mode,ye),Q.return=re,Q):(Q=N(Q,oe),Q.return=re,Q)}function G(re,Q,oe,ye){var qe=oe.type;return qe===b?pe(re,Q,oe.props.children,ye,oe.key):Q!==null&&(Q.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===E&&Ml(qe)===Q.type)?(Q=N(Q,oe.props),pd(Q,oe),Q.return=re,Q):(Q=Lm(oe.type,oe.key,oe.props,null,re.mode,ye),pd(Q,oe),Q.return=re,Q)}function ce(re,Q,oe,ye){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==oe.containerInfo||Q.stateNode.implementation!==oe.implementation?(Q=Qx(oe,re.mode,ye),Q.return=re,Q):(Q=N(Q,oe.children||[]),Q.return=re,Q)}function pe(re,Q,oe,ye,qe){return Q===null||Q.tag!==7?(Q=Nl(oe,re.mode,ye,qe),Q.return=re,Q):(Q=N(Q,oe),Q.return=re,Q)}function ve(re,Q,oe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Xx(""+Q,re.mode,oe),Q.return=re,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:return oe=Lm(Q.type,Q.key,Q.props,null,re.mode,oe),pd(oe,Q),oe.return=re,oe;case j:return Q=Qx(Q,re.mode,oe),Q.return=re,Q;case E:return Q=Ml(Q),ve(re,Q,oe)}if(Y(Q)||I(Q))return Q=Nl(Q,re.mode,oe,null),Q.return=re,Q;if(typeof Q.then=="function")return ve(re,qm(Q),oe);if(Q.$$typeof===A)return ve(re,$m(re,Q),oe);Hm(re,Q)}return null}function de(re,Q,oe,ye){var qe=Q!==null?Q.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return qe!==null?null:$(re,Q,""+oe,ye);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case y:return oe.key===qe?G(re,Q,oe,ye):null;case j:return oe.key===qe?ce(re,Q,oe,ye):null;case E:return oe=Ml(oe),de(re,Q,oe,ye)}if(Y(oe)||I(oe))return qe!==null?null:pe(re,Q,oe,ye,null);if(typeof oe.then=="function")return de(re,Q,qm(oe),ye);if(oe.$$typeof===A)return de(re,Q,$m(re,oe),ye);Hm(re,oe)}return null}function me(re,Q,oe,ye,qe){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return re=re.get(oe)||null,$(Q,re,""+ye,qe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case y:return re=re.get(ye.key===null?oe:ye.key)||null,G(Q,re,ye,qe);case j:return re=re.get(ye.key===null?oe:ye.key)||null,ce(Q,re,ye,qe);case E:return ye=Ml(ye),me(re,Q,oe,ye,qe)}if(Y(ye)||I(ye))return re=re.get(oe)||null,pe(Q,re,ye,qe,null);if(typeof ye.then=="function")return me(re,Q,oe,qm(ye),qe);if(ye.$$typeof===A)return me(re,Q,oe,$m(Q,ye),qe);Hm(Q,ye)}return null}function Te(re,Q,oe,ye){for(var qe=null,Dt=null,Ie=Q,ot=Q=0,yt=null;Ie!==null&&ot<oe.length;ot++){Ie.index>ot?(yt=Ie,Ie=null):yt=Ie.sibling;var Ot=de(re,Ie,oe[ot],ye);if(Ot===null){Ie===null&&(Ie=yt);break}i&&Ie&&Ot.alternate===null&&o(re,Ie),Q=C(Ot,Q,ot),Dt===null?qe=Ot:Dt.sibling=Ot,Dt=Ot,Ie=yt}if(ot===oe.length)return u(re,Ie),jt&&Ps(re,ot),qe;if(Ie===null){for(;ot<oe.length;ot++)Ie=ve(re,oe[ot],ye),Ie!==null&&(Q=C(Ie,Q,ot),Dt===null?qe=Ie:Dt.sibling=Ie,Dt=Ie);return jt&&Ps(re,ot),qe}for(Ie=p(Ie);ot<oe.length;ot++)yt=me(Ie,re,ot,oe[ot],ye),yt!==null&&(i&&yt.alternate!==null&&Ie.delete(yt.key===null?ot:yt.key),Q=C(yt,Q,ot),Dt===null?qe=yt:Dt.sibling=yt,Dt=yt);return i&&Ie.forEach(function(Qi){return o(re,Qi)}),jt&&Ps(re,ot),qe}function Ve(re,Q,oe,ye){if(oe==null)throw Error(r(151));for(var qe=null,Dt=null,Ie=Q,ot=Q=0,yt=null,Ot=oe.next();Ie!==null&&!Ot.done;ot++,Ot=oe.next()){Ie.index>ot?(yt=Ie,Ie=null):yt=Ie.sibling;var Qi=de(re,Ie,Ot.value,ye);if(Qi===null){Ie===null&&(Ie=yt);break}i&&Ie&&Qi.alternate===null&&o(re,Ie),Q=C(Qi,Q,ot),Dt===null?qe=Qi:Dt.sibling=Qi,Dt=Qi,Ie=yt}if(Ot.done)return u(re,Ie),jt&&Ps(re,ot),qe;if(Ie===null){for(;!Ot.done;ot++,Ot=oe.next())Ot=ve(re,Ot.value,ye),Ot!==null&&(Q=C(Ot,Q,ot),Dt===null?qe=Ot:Dt.sibling=Ot,Dt=Ot);return jt&&Ps(re,ot),qe}for(Ie=p(Ie);!Ot.done;ot++,Ot=oe.next())Ot=me(Ie,re,ot,Ot.value,ye),Ot!==null&&(i&&Ot.alternate!==null&&Ie.delete(Ot.key===null?ot:Ot.key),Q=C(Ot,Q,ot),Dt===null?qe=Ot:Dt.sibling=Ot,Dt=Ot);return i&&Ie.forEach(function(GT){return o(re,GT)}),jt&&Ps(re,ot),qe}function Ht(re,Q,oe,ye){if(typeof oe=="object"&&oe!==null&&oe.type===b&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case y:e:{for(var qe=oe.key;Q!==null;){if(Q.key===qe){if(qe=oe.type,qe===b){if(Q.tag===7){u(re,Q.sibling),ye=N(Q,oe.props.children),ye.return=re,re=ye;break e}}else if(Q.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===E&&Ml(qe)===Q.type){u(re,Q.sibling),ye=N(Q,oe.props),pd(ye,oe),ye.return=re,re=ye;break e}u(re,Q);break}else o(re,Q);Q=Q.sibling}oe.type===b?(ye=Nl(oe.props.children,re.mode,ye,oe.key),ye.return=re,re=ye):(ye=Lm(oe.type,oe.key,oe.props,null,re.mode,ye),pd(ye,oe),ye.return=re,re=ye)}return R(re);case j:e:{for(qe=oe.key;Q!==null;){if(Q.key===qe)if(Q.tag===4&&Q.stateNode.containerInfo===oe.containerInfo&&Q.stateNode.implementation===oe.implementation){u(re,Q.sibling),ye=N(Q,oe.children||[]),ye.return=re,re=ye;break e}else{u(re,Q);break}else o(re,Q);Q=Q.sibling}ye=Qx(oe,re.mode,ye),ye.return=re,re=ye}return R(re);case E:return oe=Ml(oe),Ht(re,Q,oe,ye)}if(Y(oe))return Te(re,Q,oe,ye);if(I(oe)){if(qe=I(oe),typeof qe!="function")throw Error(r(150));return oe=qe.call(oe),Ve(re,Q,oe,ye)}if(typeof oe.then=="function")return Ht(re,Q,qm(oe),ye);if(oe.$$typeof===A)return Ht(re,Q,$m(re,oe),ye);Hm(re,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,Q!==null&&Q.tag===6?(u(re,Q.sibling),ye=N(Q,oe),ye.return=re,re=ye):(u(re,Q),ye=Xx(oe,re.mode,ye),ye.return=re,re=ye),R(re)):u(re,Q)}return function(re,Q,oe,ye){try{hd=0;var qe=Ht(re,Q,oe,ye);return qo=null,qe}catch(Ie){if(Ie===Uo||Ie===Fm)throw Ie;var Dt=Ha(29,Ie,null,re.mode);return Dt.lanes=ye,Dt.return=re,Dt}finally{}}}var Ol=Bw(!0),Fw=Bw(!1),Ti=!1;function dg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ug(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Li(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ii(i,o,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(kt&2)!==0){var N=p.pending;return N===null?o.next=o:(o.next=N.next,N.next=o),p.pending=o,o=Tm(i),Sw(i,null,u),o}return _m(i,p,o,u),Tm(i)}function xd(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,PN(i,u)}}function mg(i,o){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var N=null,C=null;if(u=u.firstBaseUpdate,u!==null){do{var R={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};C===null?N=C=R:C=C.next=R,u=u.next}while(u!==null);C===null?N=C=o:C=C.next=o}else N=C=o;u={baseState:p.baseState,firstBaseUpdate:N,lastBaseUpdate:C,shared:p.shared,callbacks:p.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var fg=!1;function gd(){if(fg){var i=Fo;if(i!==null)throw i}}function yd(i,o,u,p){fg=!1;var N=i.updateQueue;Ti=!1;var C=N.firstBaseUpdate,R=N.lastBaseUpdate,$=N.shared.pending;if($!==null){N.shared.pending=null;var G=$,ce=G.next;G.next=null,R===null?C=ce:R.next=ce,R=G;var pe=i.alternate;pe!==null&&(pe=pe.updateQueue,$=pe.lastBaseUpdate,$!==R&&($===null?pe.firstBaseUpdate=ce:$.next=ce,pe.lastBaseUpdate=G))}if(C!==null){var ve=N.baseState;R=0,pe=ce=G=null,$=C;do{var de=$.lane&-536870913,me=de!==$.lane;if(me?(gt&de)===de:(p&de)===de){de!==0&&de===Bo&&(fg=!0),pe!==null&&(pe=pe.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Te=i,Ve=$;de=o;var Ht=u;switch(Ve.tag){case 1:if(Te=Ve.payload,typeof Te=="function"){ve=Te.call(Ht,ve,de);break e}ve=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ve.payload,de=typeof Te=="function"?Te.call(Ht,ve,de):Te,de==null)break e;ve=g({},ve,de);break e;case 2:Ti=!0}}de=$.callback,de!==null&&(i.flags|=64,me&&(i.flags|=8192),me=N.callbacks,me===null?N.callbacks=[de]:me.push(de))}else me={lane:de,tag:$.tag,payload:$.payload,callback:$.callback,next:null},pe===null?(ce=pe=me,G=ve):pe=pe.next=me,R|=de;if($=$.next,$===null){if($=N.shared.pending,$===null)break;me=$,$=me.next,me.next=null,N.lastBaseUpdate=me,N.shared.pending=null}}while(!0);pe===null&&(G=ve),N.baseState=G,N.firstBaseUpdate=ce,N.lastBaseUpdate=pe,C===null&&(N.shared.lanes=0),Ui|=R,i.lanes=R,i.memoizedState=ve}}function Uw(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function qw(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)Uw(u[i],o)}var Ho=ne(null),Vm=ne(0);function Hw(i,o){i=qs,H(Vm,i),H(Ho,o),qs=i|o.baseLanes}function hg(){H(Vm,qs),H(Ho,Ho.current)}function pg(){qs=Vm.current,je(Ho),je(Vm)}var Va=ne(null),yr=null;function zi(i){var o=i.alternate;H(bn,bn.current&1),H(Va,i),yr===null&&(o===null||Ho.current!==null||o.memoizedState!==null)&&(yr=i)}function xg(i){H(bn,bn.current),H(Va,i),yr===null&&(yr=i)}function Vw(i){i.tag===22?(H(bn,bn.current),H(Va,i),yr===null&&(yr=i)):$i()}function $i(){H(bn,bn.current),H(Va,Va.current)}function Ka(i){je(Va),yr===i&&(yr=null),je(bn)}var bn=ne(0);function Km(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||N0(u)||w0(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ts=0,it=null,Ut=null,On=null,Wm=!1,Vo=!1,El=!1,Ym=0,vd=0,Ko=null,$_=0;function xn(){throw Error(r(321))}function gg(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!qa(i[u],o[u]))return!1;return!0}function yg(i,o,u,p,N,C){return Ts=C,it=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,V.H=i===null||i.memoizedState===null?D2:Rg,El=!1,C=u(p,N),El=!1,Vo&&(C=Ww(o,u,p,N)),Kw(i),C}function Kw(i){V.H=Nd;var o=Ut!==null&&Ut.next!==null;if(Ts=0,On=Ut=it=null,Wm=!1,vd=0,Ko=null,o)throw Error(r(300));i===null||En||(i=i.dependencies,i!==null&&zm(i)&&(En=!0))}function Ww(i,o,u,p){it=i;var N=0;do{if(Vo&&(Ko=null),vd=0,Vo=!1,25<=N)throw Error(r(301));if(N+=1,On=Ut=null,i.updateQueue!=null){var C=i.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}V.H=O2,C=o(u,p)}while(Vo);return C}function B_(){var i=V.H,o=i.useState()[0];return o=typeof o.then=="function"?bd(o):o,i=i.useState()[0],(Ut!==null?Ut.memoizedState:null)!==i&&(it.flags|=1024),o}function vg(){var i=Ym!==0;return Ym=0,i}function bg(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function jg(i){if(Wm){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Wm=!1}Ts=0,On=Ut=it=null,Vo=!1,vd=Ym=0,Ko=null}function ga(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?it.memoizedState=On=i:On=On.next=i,On}function jn(){if(Ut===null){var i=it.alternate;i=i!==null?i.memoizedState:null}else i=Ut.next;var o=On===null?it.memoizedState:On.next;if(o!==null)On=o,Ut=i;else{if(i===null)throw it.alternate===null?Error(r(467)):Error(r(310));Ut=i,i={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},On===null?it.memoizedState=On=i:On=On.next=i}return On}function Gm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bd(i){var o=vd;return vd+=1,Ko===null&&(Ko=[]),i=Iw(Ko,i,o),o=it,(On===null?o.memoizedState:On.next)===null&&(o=o.alternate,V.H=o===null||o.memoizedState===null?D2:Rg),i}function Zm(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return bd(i);if(i.$$typeof===A)return ra(i)}throw Error(r(438,String(i)))}function Ng(i){var o=null,u=it.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var p=it.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(N){return N.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Gm(),it.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),p=0;p<i;p++)u[p]=z;return o.index++,u}function Ls(i,o){return typeof o=="function"?o(i):o}function Xm(i){var o=jn();return wg(o,Ut,i)}function wg(i,o,u){var p=i.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var N=i.baseQueue,C=p.pending;if(C!==null){if(N!==null){var R=N.next;N.next=C.next,C.next=R}o.baseQueue=N=C,p.pending=null}if(C=i.baseState,N===null)i.memoizedState=C;else{o=N.next;var $=R=null,G=null,ce=o,pe=!1;do{var ve=ce.lane&-536870913;if(ve!==ce.lane?(gt&ve)===ve:(Ts&ve)===ve){var de=ce.revertLane;if(de===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),ve===Bo&&(pe=!0);else if((Ts&de)===de){ce=ce.next,de===Bo&&(pe=!0);continue}else ve={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},G===null?($=G=ve,R=C):G=G.next=ve,it.lanes|=de,Ui|=de;ve=ce.action,El&&u(C,ve),C=ce.hasEagerState?ce.eagerState:u(C,ve)}else de={lane:ve,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},G===null?($=G=de,R=C):G=G.next=de,it.lanes|=ve,Ui|=ve;ce=ce.next}while(ce!==null&&ce!==o);if(G===null?R=C:G.next=$,!qa(C,i.memoizedState)&&(En=!0,pe&&(u=Fo,u!==null)))throw u;i.memoizedState=C,i.baseState=R,i.baseQueue=G,p.lastRenderedState=C}return N===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function Sg(i){var o=jn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var p=u.dispatch,N=u.pending,C=o.memoizedState;if(N!==null){u.pending=null;var R=N=N.next;do C=i(C,R.action),R=R.next;while(R!==N);qa(C,o.memoizedState)||(En=!0),o.memoizedState=C,o.baseQueue===null&&(o.baseState=C),u.lastRenderedState=C}return[C,p]}function Yw(i,o,u){var p=it,N=jn(),C=jt;if(C){if(u===void 0)throw Error(r(407));u=u()}else u=o();var R=!qa((Ut||N).memoizedState,u);if(R&&(N.memoizedState=u,En=!0),N=N.queue,Mg(Xw.bind(null,p,N,i),[i]),N.getSnapshot!==o||R||On!==null&&On.memoizedState.tag&1){if(p.flags|=2048,Wo(9,{destroy:void 0},Zw.bind(null,p,N,u,o),null),Vt===null)throw Error(r(349));C||(Ts&127)!==0||Gw(p,o,u)}return u}function Gw(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=it.updateQueue,o===null?(o=Gm(),it.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function Zw(i,o,u,p){o.value=u,o.getSnapshot=p,Qw(o)&&Jw(i)}function Xw(i,o,u){return u(function(){Qw(o)&&Jw(i)})}function Qw(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!qa(i,u)}catch{return!0}}function Jw(i){var o=jl(i,2);o!==null&&Da(o,i,2)}function Ag(i){var o=ga();if(typeof i=="function"){var u=i;if(i=u(),El){dr(!0);try{u()}finally{dr(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:i},o}function e2(i,o,u,p){return i.baseState=u,wg(i,Ut,typeof p=="function"?p:Ls)}function F_(i,o,u,p,N){if(ef(i))throw Error(r(485));if(i=o.action,i!==null){var C={payload:N,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){C.listeners.push(R)}};V.T!==null?u(!0):C.isTransition=!1,p(C),u=o.pending,u===null?(C.next=o.pending=C,t2(o,C)):(C.next=u.next,o.pending=u.next=C)}}function t2(i,o){var u=o.action,p=o.payload,N=i.state;if(o.isTransition){var C=V.T,R={};V.T=R;try{var $=u(N,p),G=V.S;G!==null&&G(R,$),n2(i,o,$)}catch(ce){Cg(i,o,ce)}finally{C!==null&&R.types!==null&&(C.types=R.types),V.T=C}}else try{C=u(N,p),n2(i,o,C)}catch(ce){Cg(i,o,ce)}}function n2(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){a2(i,o,p)},function(p){return Cg(i,o,p)}):a2(i,o,u)}function a2(i,o,u){o.status="fulfilled",o.value=u,r2(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,t2(i,u)))}function Cg(i,o,u){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=u,r2(o),o=o.next;while(o!==p)}i.action=null}function r2(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function s2(i,o){return o}function i2(i,o){if(jt){var u=Vt.formState;if(u!==null){e:{var p=it;if(jt){if(nn){t:{for(var N=nn,C=gr;N.nodeType!==8;){if(!C){N=null;break t}if(N=vr(N.nextSibling),N===null){N=null;break t}}C=N.data,N=C==="F!"||C==="F"?N:null}if(N){nn=vr(N.nextSibling),p=N.data==="F!";break e}}Ri(p)}p=!1}p&&(o=u[0])}}return u=ga(),u.memoizedState=u.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s2,lastRenderedState:o},u.queue=p,u=A2.bind(null,it,p),p.dispatch=u,p=Ag(!1),C=Pg.bind(null,it,!1,p.queue),p=ga(),N={state:o,dispatch:null,action:i,pending:null},p.queue=N,u=F_.bind(null,it,N,C,u),N.dispatch=u,p.memoizedState=i,[o,u,!1]}function l2(i){var o=jn();return o2(o,Ut,i)}function o2(i,o,u){if(o=wg(i,o,s2)[0],i=Xm(Ls)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=bd(o)}catch(R){throw R===Uo?Fm:R}else p=o;o=jn();var N=o.queue,C=N.dispatch;return u!==o.memoizedState&&(it.flags|=2048,Wo(9,{destroy:void 0},U_.bind(null,N,u),null)),[p,C,i]}function U_(i,o){i.action=o}function c2(i){var o=jn(),u=Ut;if(u!==null)return o2(o,u,i);jn(),o=o.memoizedState,u=jn();var p=u.queue.dispatch;return u.memoizedState=i,[o,p,!1]}function Wo(i,o,u,p){return i={tag:i,create:u,deps:p,inst:o,next:null},o=it.updateQueue,o===null&&(o=Gm(),it.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,o.lastEffect=i),i}function d2(){return jn().memoizedState}function Qm(i,o,u,p){var N=ga();it.flags|=i,N.memoizedState=Wo(1|o,{destroy:void 0},u,p===void 0?null:p)}function Jm(i,o,u,p){var N=jn();p=p===void 0?null:p;var C=N.memoizedState.inst;Ut!==null&&p!==null&&gg(p,Ut.memoizedState.deps)?N.memoizedState=Wo(o,C,u,p):(it.flags|=i,N.memoizedState=Wo(1|o,C,u,p))}function u2(i,o){Qm(8390656,8,i,o)}function Mg(i,o){Jm(2048,8,i,o)}function q_(i){it.flags|=4;var o=it.updateQueue;if(o===null)o=Gm(),it.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function m2(i){var o=jn().memoizedState;return q_({ref:o,nextImpl:i}),function(){if((kt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function f2(i,o){return Jm(4,2,i,o)}function h2(i,o){return Jm(4,4,i,o)}function p2(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function x2(i,o,u){u=u!=null?u.concat([i]):null,Jm(4,4,p2.bind(null,o,i),u)}function Dg(){}function g2(i,o){var u=jn();o=o===void 0?null:o;var p=u.memoizedState;return o!==null&&gg(o,p[1])?p[0]:(u.memoizedState=[i,o],i)}function y2(i,o){var u=jn();o=o===void 0?null:o;var p=u.memoizedState;if(o!==null&&gg(o,p[1]))return p[0];if(p=i(),El){dr(!0);try{i()}finally{dr(!1)}}return u.memoizedState=[p,o],p}function Og(i,o,u){return u===void 0||(Ts&1073741824)!==0&&(gt&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=vS(),it.lanes|=i,Ui|=i,u)}function v2(i,o,u,p){return qa(u,o)?u:Ho.current!==null?(i=Og(i,u,p),qa(i,o)||(En=!0),i):(Ts&42)===0||(Ts&1073741824)!==0&&(gt&261930)===0?(En=!0,i.memoizedState=u):(i=vS(),it.lanes|=i,Ui|=i,o)}function b2(i,o,u,p,N){var C=B.p;B.p=C!==0&&8>C?C:8;var R=V.T,$={};V.T=$,Pg(i,!1,o,u);try{var G=N(),ce=V.S;if(ce!==null&&ce($,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var pe=z_(G,p);jd(i,o,pe,Ga(i))}else jd(i,o,p,Ga(i))}catch(ve){jd(i,o,{then:function(){},status:"rejected",reason:ve},Ga())}finally{B.p=C,R!==null&&$.types!==null&&(R.types=$.types),V.T=R}}function H_(){}function Eg(i,o,u,p){if(i.tag!==5)throw Error(r(476));var N=j2(i).queue;b2(i,N,o,U,u===null?H_:function(){return N2(i),u(p)})}function j2(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:U},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function N2(i){var o=j2(i);o.next===null&&(o=i.alternate.memoizedState),jd(i,o.next.queue,{},Ga())}function kg(){return ra(zd)}function w2(){return jn().memoizedState}function S2(){return jn().memoizedState}function V_(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=Ga();i=Li(u);var p=Ii(o,i,u);p!==null&&(Da(p,o,u),xd(p,o,u)),o={cache:ig()},i.payload=o;return}o=o.return}}function K_(i,o,u){var p=Ga();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ef(i)?C2(o,u):(u=Gx(i,o,u,p),u!==null&&(Da(u,i,p),M2(u,o,p)))}function A2(i,o,u){var p=Ga();jd(i,o,u,p)}function jd(i,o,u,p){var N={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(ef(i))C2(o,N);else{var C=i.alternate;if(i.lanes===0&&(C===null||C.lanes===0)&&(C=o.lastRenderedReducer,C!==null))try{var R=o.lastRenderedState,$=C(R,u);if(N.hasEagerState=!0,N.eagerState=$,qa($,R))return _m(i,o,N,0),Vt===null&&Rm(),!1}catch{}finally{}if(u=Gx(i,o,N,p),u!==null)return Da(u,i,p),M2(u,o,p),!0}return!1}function Pg(i,o,u,p){if(p={lane:2,revertLane:d0(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},ef(i)){if(o)throw Error(r(479))}else o=Gx(i,u,p,2),o!==null&&Da(o,i,2)}function ef(i){var o=i.alternate;return i===it||o!==null&&o===it}function C2(i,o){Vo=Wm=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function M2(i,o,u){if((u&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,PN(i,u)}}var Nd={readContext:ra,use:Zm,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useLayoutEffect:xn,useInsertionEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useSyncExternalStore:xn,useId:xn,useHostTransitionStatus:xn,useFormState:xn,useActionState:xn,useOptimistic:xn,useMemoCache:xn,useCacheRefresh:xn};Nd.useEffectEvent=xn;var D2={readContext:ra,use:Zm,useCallback:function(i,o){return ga().memoizedState=[i,o===void 0?null:o],i},useContext:ra,useEffect:u2,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,Qm(4194308,4,p2.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Qm(4194308,4,i,o)},useInsertionEffect:function(i,o){Qm(4,2,i,o)},useMemo:function(i,o){var u=ga();o=o===void 0?null:o;var p=i();if(El){dr(!0);try{i()}finally{dr(!1)}}return u.memoizedState=[p,o],p},useReducer:function(i,o,u){var p=ga();if(u!==void 0){var N=u(o);if(El){dr(!0);try{u(o)}finally{dr(!1)}}}else N=o;return p.memoizedState=p.baseState=N,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:N},p.queue=i,i=i.dispatch=K_.bind(null,it,i),[p.memoizedState,i]},useRef:function(i){var o=ga();return i={current:i},o.memoizedState=i},useState:function(i){i=Ag(i);var o=i.queue,u=A2.bind(null,it,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:Dg,useDeferredValue:function(i,o){var u=ga();return Og(u,i,o)},useTransition:function(){var i=Ag(!1);return i=b2.bind(null,it,i.queue,!0,!1),ga().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var p=it,N=ga();if(jt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Vt===null)throw Error(r(349));(gt&127)!==0||Gw(p,o,u)}N.memoizedState=u;var C={value:u,getSnapshot:o};return N.queue=C,u2(Xw.bind(null,p,C,i),[i]),p.flags|=2048,Wo(9,{destroy:void 0},Zw.bind(null,p,C,u,o),null),u},useId:function(){var i=ga(),o=Vt.identifierPrefix;if(jt){var u=ts,p=es;u=(p&~(1<<32-Hn(p)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Ym++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=$_++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:kg,useFormState:i2,useActionState:i2,useOptimistic:function(i){var o=ga();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Pg.bind(null,it,!0,u),u.dispatch=o,[i,o]},useMemoCache:Ng,useCacheRefresh:function(){return ga().memoizedState=V_.bind(null,it)},useEffectEvent:function(i){var o=ga(),u={impl:i};return o.memoizedState=u,function(){if((kt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Rg={readContext:ra,use:Zm,useCallback:g2,useContext:ra,useEffect:Mg,useImperativeHandle:x2,useInsertionEffect:f2,useLayoutEffect:h2,useMemo:y2,useReducer:Xm,useRef:d2,useState:function(){return Xm(Ls)},useDebugValue:Dg,useDeferredValue:function(i,o){var u=jn();return v2(u,Ut.memoizedState,i,o)},useTransition:function(){var i=Xm(Ls)[0],o=jn().memoizedState;return[typeof i=="boolean"?i:bd(i),o]},useSyncExternalStore:Yw,useId:w2,useHostTransitionStatus:kg,useFormState:l2,useActionState:l2,useOptimistic:function(i,o){var u=jn();return e2(u,Ut,i,o)},useMemoCache:Ng,useCacheRefresh:S2};Rg.useEffectEvent=m2;var O2={readContext:ra,use:Zm,useCallback:g2,useContext:ra,useEffect:Mg,useImperativeHandle:x2,useInsertionEffect:f2,useLayoutEffect:h2,useMemo:y2,useReducer:Sg,useRef:d2,useState:function(){return Sg(Ls)},useDebugValue:Dg,useDeferredValue:function(i,o){var u=jn();return Ut===null?Og(u,i,o):v2(u,Ut.memoizedState,i,o)},useTransition:function(){var i=Sg(Ls)[0],o=jn().memoizedState;return[typeof i=="boolean"?i:bd(i),o]},useSyncExternalStore:Yw,useId:w2,useHostTransitionStatus:kg,useFormState:c2,useActionState:c2,useOptimistic:function(i,o){var u=jn();return Ut!==null?e2(u,Ut,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Ng,useCacheRefresh:S2};O2.useEffectEvent=m2;function _g(i,o,u,p){o=i.memoizedState,u=u(p,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Tg={enqueueSetState:function(i,o,u){i=i._reactInternals;var p=Ga(),N=Li(p);N.payload=o,u!=null&&(N.callback=u),o=Ii(i,N,p),o!==null&&(Da(o,i,p),xd(o,i,p))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var p=Ga(),N=Li(p);N.tag=1,N.payload=o,u!=null&&(N.callback=u),o=Ii(i,N,p),o!==null&&(Da(o,i,p),xd(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Ga(),p=Li(u);p.tag=2,o!=null&&(p.callback=o),o=Ii(i,p,u),o!==null&&(Da(o,i,u),xd(o,i,u))}};function E2(i,o,u,p,N,C,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,C,R):o.prototype&&o.prototype.isPureReactComponent?!od(u,p)||!od(N,C):!0}function k2(i,o,u,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==i&&Tg.enqueueReplaceState(o,o.state,null)}function kl(i,o){var u=o;if("ref"in o){u={};for(var p in o)p!=="ref"&&(u[p]=o[p])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var N in i)u[N]===void 0&&(u[N]=i[N])}return u}function P2(i){Pm(i)}function R2(i){console.error(i)}function _2(i){Pm(i)}function tf(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function T2(i,o,u){try{var p=i.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function Lg(i,o,u){return u=Li(u),u.tag=3,u.payload={element:null},u.callback=function(){tf(i,o)},u}function L2(i){return i=Li(i),i.tag=3,i}function I2(i,o,u,p){var N=u.type.getDerivedStateFromError;if(typeof N=="function"){var C=p.value;i.payload=function(){return N(C)},i.callback=function(){T2(o,u,p)}}var R=u.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){T2(o,u,p),typeof N!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var $=p.stack;this.componentDidCatch(p.value,{componentStack:$!==null?$:""})})}function W_(i,o,u,p,N){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=u.alternate,o!==null&&$o(o,u,N,!0),u=Va.current,u!==null){switch(u.tag){case 31:case 13:return yr===null?hf():u.alternate===null&&gn===0&&(gn=3),u.flags&=-257,u.flags|=65536,u.lanes=N,p===Um?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([p]):o.add(p),l0(i,p,N)),!1;case 22:return u.flags|=65536,p===Um?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([p]):u.add(p)),l0(i,p,N)),!1}throw Error(r(435,u.tag))}return l0(i,p,N),hf(),!1}if(jt)return o=Va.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=N,p!==tg&&(i=Error(r(422),{cause:p}),ud(hr(i,u)))):(p!==tg&&(o=Error(r(423),{cause:p}),ud(hr(o,u))),i=i.current.alternate,i.flags|=65536,N&=-N,i.lanes|=N,p=hr(p,u),N=Lg(i.stateNode,p,N),mg(i,N),gn!==4&&(gn=2)),!1;var C=Error(r(520),{cause:p});if(C=hr(C,u),Ed===null?Ed=[C]:Ed.push(C),gn!==4&&(gn=2),o===null)return!0;p=hr(p,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=N&-N,u.lanes|=i,i=Lg(u.stateNode,p,i),mg(u,i),!1;case 1:if(o=u.type,C=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(qi===null||!qi.has(C))))return u.flags|=65536,N&=-N,u.lanes|=N,N=L2(N),I2(N,i,u,p),mg(u,N),!1}u=u.return}while(u!==null);return!1}var Ig=Error(r(461)),En=!1;function sa(i,o,u,p){o.child=i===null?Fw(o,null,u,p):Ol(o,i.child,u,p)}function z2(i,o,u,p,N){u=u.render;var C=o.ref;if("ref"in p){var R={};for(var $ in p)$!=="ref"&&(R[$]=p[$])}else R=p;return Al(o),p=yg(i,o,u,R,C,N),$=vg(),i!==null&&!En?(bg(i,o,N),Is(i,o,N)):(jt&&$&&Jx(o),o.flags|=1,sa(i,o,p,N),o.child)}function $2(i,o,u,p,N){if(i===null){var C=u.type;return typeof C=="function"&&!Zx(C)&&C.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=C,B2(i,o,C,p,N)):(i=Lm(u.type,null,p,o,o.mode,N),i.ref=o.ref,i.return=o,o.child=i)}if(C=i.child,!Vg(i,N)){var R=C.memoizedProps;if(u=u.compare,u=u!==null?u:od,u(R,p)&&i.ref===o.ref)return Is(i,o,N)}return o.flags|=1,i=ks(C,p),i.ref=o.ref,i.return=o,o.child=i}function B2(i,o,u,p,N){if(i!==null){var C=i.memoizedProps;if(od(C,p)&&i.ref===o.ref)if(En=!1,o.pendingProps=p=C,Vg(i,N))(i.flags&131072)!==0&&(En=!0);else return o.lanes=i.lanes,Is(i,o,N)}return zg(i,o,u,p,N)}function F2(i,o,u,p){var N=p.children,C=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(C=C!==null?C.baseLanes|u:u,i!==null){for(p=o.child=i.child,N=0;p!==null;)N=N|p.lanes|p.childLanes,p=p.sibling;p=N&~C}else p=0,o.child=null;return U2(i,o,C,u,p)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Bm(o,C!==null?C.cachePool:null),C!==null?Hw(o,C):hg(),Vw(o);else return p=o.lanes=536870912,U2(i,o,C!==null?C.baseLanes|u:u,u,p)}else C!==null?(Bm(o,C.cachePool),Hw(o,C),$i(),o.memoizedState=null):(i!==null&&Bm(o,null),hg(),$i());return sa(i,o,N,u),o.child}function wd(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function U2(i,o,u,p,N){var C=og();return C=C===null?null:{parent:Dn._currentValue,pool:C},o.memoizedState={baseLanes:u,cachePool:C},i!==null&&Bm(o,null),hg(),Vw(o),i!==null&&$o(i,o,p,!0),o.childLanes=N,null}function nf(i,o){return o=rf({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function q2(i,o,u){return Ol(o,i.child,null,u),i=nf(o,o.pendingProps),i.flags|=2,Ka(o),o.memoizedState=null,i}function Y_(i,o,u){var p=o.pendingProps,N=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(jt){if(p.mode==="hidden")return i=nf(o,p),o.lanes=536870912,wd(null,i);if(xg(o),(i=nn)?(i=t5(i,gr),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ki!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},u=Cw(i),u.return=o,o.child=u,aa=o,nn=null)):i=null,i===null)throw Ri(o);return o.lanes=536870912,null}return nf(o,p)}var C=i.memoizedState;if(C!==null){var R=C.dehydrated;if(xg(o),N)if(o.flags&256)o.flags&=-257,o=q2(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(En||$o(i,o,u,!1),N=(u&i.childLanes)!==0,En||N){if(p=Vt,p!==null&&(R=RN(p,u),R!==0&&R!==C.retryLane))throw C.retryLane=R,jl(i,R),Da(p,i,R),Ig;hf(),o=q2(i,o,u)}else i=C.treeContext,nn=vr(R.nextSibling),aa=o,jt=!0,Pi=null,gr=!1,i!==null&&Ow(o,i),o=nf(o,p),o.flags|=4096;return o}return i=ks(i.child,{mode:p.mode,children:p.children}),i.ref=o.ref,o.child=i,i.return=o,i}function af(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function zg(i,o,u,p,N){return Al(o),u=yg(i,o,u,p,void 0,N),p=vg(),i!==null&&!En?(bg(i,o,N),Is(i,o,N)):(jt&&p&&Jx(o),o.flags|=1,sa(i,o,u,N),o.child)}function H2(i,o,u,p,N,C){return Al(o),o.updateQueue=null,u=Ww(o,p,u,N),Kw(i),p=vg(),i!==null&&!En?(bg(i,o,C),Is(i,o,C)):(jt&&p&&Jx(o),o.flags|=1,sa(i,o,u,C),o.child)}function V2(i,o,u,p,N){if(Al(o),o.stateNode===null){var C=To,R=u.contextType;typeof R=="object"&&R!==null&&(C=ra(R)),C=new u(p,C),o.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Tg,o.stateNode=C,C._reactInternals=o,C=o.stateNode,C.props=p,C.state=o.memoizedState,C.refs={},dg(o),R=u.contextType,C.context=typeof R=="object"&&R!==null?ra(R):To,C.state=o.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(_g(o,u,R,p),C.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(R=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),R!==C.state&&Tg.enqueueReplaceState(C,C.state,null),yd(o,p,C,N),gd(),C.state=o.memoizedState),typeof C.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){C=o.stateNode;var $=o.memoizedProps,G=kl(u,$);C.props=G;var ce=C.context,pe=u.contextType;R=To,typeof pe=="object"&&pe!==null&&(R=ra(pe));var ve=u.getDerivedStateFromProps;pe=typeof ve=="function"||typeof C.getSnapshotBeforeUpdate=="function",$=o.pendingProps!==$,pe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||($||ce!==R)&&k2(o,C,p,R),Ti=!1;var de=o.memoizedState;C.state=de,yd(o,p,C,N),gd(),ce=o.memoizedState,$||de!==ce||Ti?(typeof ve=="function"&&(_g(o,u,ve,p),ce=o.memoizedState),(G=Ti||E2(o,u,G,p,de,ce,R))?(pe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=ce),C.props=p,C.state=ce,C.context=R,p=G):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{C=o.stateNode,ug(i,o),R=o.memoizedProps,pe=kl(u,R),C.props=pe,ve=o.pendingProps,de=C.context,ce=u.contextType,G=To,typeof ce=="object"&&ce!==null&&(G=ra(ce)),$=u.getDerivedStateFromProps,(ce=typeof $=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(R!==ve||de!==G)&&k2(o,C,p,G),Ti=!1,de=o.memoizedState,C.state=de,yd(o,p,C,N),gd();var me=o.memoizedState;R!==ve||de!==me||Ti||i!==null&&i.dependencies!==null&&zm(i.dependencies)?(typeof $=="function"&&(_g(o,u,$,p),me=o.memoizedState),(pe=Ti||E2(o,u,pe,p,de,me,G)||i!==null&&i.dependencies!==null&&zm(i.dependencies))?(ce||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(p,me,G),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(p,me,G)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||R===i.memoizedProps&&de===i.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&de===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=me),C.props=p,C.state=me,C.context=G,p=pe):(typeof C.componentDidUpdate!="function"||R===i.memoizedProps&&de===i.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&de===i.memoizedState||(o.flags|=1024),p=!1)}return C=p,af(i,o),p=(o.flags&128)!==0,C||p?(C=o.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:C.render(),o.flags|=1,i!==null&&p?(o.child=Ol(o,i.child,null,N),o.child=Ol(o,null,u,N)):sa(i,o,u,N),o.memoizedState=C.state,i=o.child):i=Is(i,o,N),i}function K2(i,o,u,p){return wl(),o.flags|=256,sa(i,o,u,p),o.child}var $g={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bg(i){return{baseLanes:i,cachePool:Tw()}}function Fg(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=Ya),i}function W2(i,o,u){var p=o.pendingProps,N=!1,C=(o.flags&128)!==0,R;if((R=C)||(R=i!==null&&i.memoizedState===null?!1:(bn.current&2)!==0),R&&(N=!0,o.flags&=-129),R=(o.flags&32)!==0,o.flags&=-33,i===null){if(jt){if(N?zi(o):$i(),(i=nn)?(i=t5(i,gr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ki!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},u=Cw(i),u.return=o,o.child=u,aa=o,nn=null)):i=null,i===null)throw Ri(o);return w0(i)?o.lanes=32:o.lanes=536870912,null}var $=p.children;return p=p.fallback,N?($i(),N=o.mode,$=rf({mode:"hidden",children:$},N),p=Nl(p,N,u,null),$.return=o,p.return=o,$.sibling=p,o.child=$,p=o.child,p.memoizedState=Bg(u),p.childLanes=Fg(i,R,u),o.memoizedState=$g,wd(null,p)):(zi(o),Ug(o,$))}var G=i.memoizedState;if(G!==null&&($=G.dehydrated,$!==null)){if(C)o.flags&256?(zi(o),o.flags&=-257,o=qg(i,o,u)):o.memoizedState!==null?($i(),o.child=i.child,o.flags|=128,o=null):($i(),$=p.fallback,N=o.mode,p=rf({mode:"visible",children:p.children},N),$=Nl($,N,u,null),$.flags|=2,p.return=o,$.return=o,p.sibling=$,o.child=p,Ol(o,i.child,null,u),p=o.child,p.memoizedState=Bg(u),p.childLanes=Fg(i,R,u),o.memoizedState=$g,o=wd(null,p));else if(zi(o),w0($)){if(R=$.nextSibling&&$.nextSibling.dataset,R)var ce=R.dgst;R=ce,p=Error(r(419)),p.stack="",p.digest=R,ud({value:p,source:null,stack:null}),o=qg(i,o,u)}else if(En||$o(i,o,u,!1),R=(u&i.childLanes)!==0,En||R){if(R=Vt,R!==null&&(p=RN(R,u),p!==0&&p!==G.retryLane))throw G.retryLane=p,jl(i,p),Da(R,i,p),Ig;N0($)||hf(),o=qg(i,o,u)}else N0($)?(o.flags|=192,o.child=i.child,o=null):(i=G.treeContext,nn=vr($.nextSibling),aa=o,jt=!0,Pi=null,gr=!1,i!==null&&Ow(o,i),o=Ug(o,p.children),o.flags|=4096);return o}return N?($i(),$=p.fallback,N=o.mode,G=i.child,ce=G.sibling,p=ks(G,{mode:"hidden",children:p.children}),p.subtreeFlags=G.subtreeFlags&65011712,ce!==null?$=ks(ce,$):($=Nl($,N,u,null),$.flags|=2),$.return=o,p.return=o,p.sibling=$,o.child=p,wd(null,p),p=o.child,$=i.child.memoizedState,$===null?$=Bg(u):(N=$.cachePool,N!==null?(G=Dn._currentValue,N=N.parent!==G?{parent:G,pool:G}:N):N=Tw(),$={baseLanes:$.baseLanes|u,cachePool:N}),p.memoizedState=$,p.childLanes=Fg(i,R,u),o.memoizedState=$g,wd(i.child,p)):(zi(o),u=i.child,i=u.sibling,u=ks(u,{mode:"visible",children:p.children}),u.return=o,u.sibling=null,i!==null&&(R=o.deletions,R===null?(o.deletions=[i],o.flags|=16):R.push(i)),o.child=u,o.memoizedState=null,u)}function Ug(i,o){return o=rf({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function rf(i,o){return i=Ha(22,i,null,o),i.lanes=0,i}function qg(i,o,u){return Ol(o,i.child,null,u),i=Ug(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Y2(i,o,u){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),rg(i.return,o,u)}function Hg(i,o,u,p,N,C){var R=i.memoizedState;R===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:N,treeForkCount:C}:(R.isBackwards=o,R.rendering=null,R.renderingStartTime=0,R.last=p,R.tail=u,R.tailMode=N,R.treeForkCount=C)}function G2(i,o,u){var p=o.pendingProps,N=p.revealOrder,C=p.tail;p=p.children;var R=bn.current,$=(R&2)!==0;if($?(R=R&1|2,o.flags|=128):R&=1,H(bn,R),sa(i,o,p,u),p=jt?dd:0,!$&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Y2(i,u,o);else if(i.tag===19)Y2(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(N){case"forwards":for(u=o.child,N=null;u!==null;)i=u.alternate,i!==null&&Km(i)===null&&(N=u),u=u.sibling;u=N,u===null?(N=o.child,o.child=null):(N=u.sibling,u.sibling=null),Hg(o,!1,N,u,C,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,N=o.child,o.child=null;N!==null;){if(i=N.alternate,i!==null&&Km(i)===null){o.child=N;break}i=N.sibling,N.sibling=u,u=N,N=i}Hg(o,!0,u,null,C,p);break;case"together":Hg(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function Is(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Ui|=o.lanes,(u&o.childLanes)===0)if(i!==null){if($o(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=ks(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=ks(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Vg(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&zm(i)))}function G_(i,o,u){switch(o.tag){case 3:ie(o,o.stateNode.containerInfo),_i(o,Dn,i.memoizedState.cache),wl();break;case 27:case 5:Me(o);break;case 4:ie(o,o.stateNode.containerInfo);break;case 10:_i(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,xg(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(zi(o),o.flags|=128,null):(u&o.child.childLanes)!==0?W2(i,o,u):(zi(o),i=Is(i,o,u),i!==null?i.sibling:null);zi(o);break;case 19:var N=(i.flags&128)!==0;if(p=(u&o.childLanes)!==0,p||($o(i,o,u,!1),p=(u&o.childLanes)!==0),N){if(p)return G2(i,o,u);o.flags|=128}if(N=o.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),H(bn,bn.current),p)break;return null;case 22:return o.lanes=0,F2(i,o,u,o.pendingProps);case 24:_i(o,Dn,i.memoizedState.cache)}return Is(i,o,u)}function Z2(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)En=!0;else{if(!Vg(i,u)&&(o.flags&128)===0)return En=!1,G_(i,o,u);En=(i.flags&131072)!==0}else En=!1,jt&&(o.flags&1048576)!==0&&Dw(o,dd,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(i=Ml(o.elementType),o.type=i,typeof i=="function")Zx(i)?(p=kl(i,p),o.tag=1,o=V2(null,o,i,p,u)):(o.tag=0,o=zg(null,o,i,p,u));else{if(i!=null){var N=i.$$typeof;if(N===O){o.tag=11,o=z2(null,o,i,p,u);break e}else if(N===_){o.tag=14,o=$2(null,o,i,p,u);break e}}throw o=T(i)||i,Error(r(306,o,""))}}return o;case 0:return zg(i,o,o.type,o.pendingProps,u);case 1:return p=o.type,N=kl(p,o.pendingProps),V2(i,o,p,N,u);case 3:e:{if(ie(o,o.stateNode.containerInfo),i===null)throw Error(r(387));p=o.pendingProps;var C=o.memoizedState;N=C.element,ug(i,o),yd(o,p,null,u);var R=o.memoizedState;if(p=R.cache,_i(o,Dn,p),p!==C.cache&&sg(o,[Dn],u,!0),gd(),p=R.element,C.isDehydrated)if(C={element:p,isDehydrated:!1,cache:R.cache},o.updateQueue.baseState=C,o.memoizedState=C,o.flags&256){o=K2(i,o,p,u);break e}else if(p!==N){N=hr(Error(r(424)),o),ud(N),o=K2(i,o,p,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(nn=vr(i.firstChild),aa=o,jt=!0,Pi=null,gr=!0,u=Fw(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(wl(),p===N){o=Is(i,o,u);break e}sa(i,o,p,u)}o=o.child}return o;case 26:return af(i,o),i===null?(u=l5(o.type,null,o.pendingProps,null))?o.memoizedState=u:jt||(u=o.type,i=o.pendingProps,p=jf(se.current).createElement(u),p[na]=o,p[Na]=i,ia(p,u,i),Kn(p),o.stateNode=p):o.memoizedState=l5(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Me(o),i===null&&jt&&(p=o.stateNode=r5(o.type,o.pendingProps,se.current),aa=o,gr=!0,N=nn,Wi(o.type)?(S0=N,nn=vr(p.firstChild)):nn=N),sa(i,o,o.pendingProps.children,u),af(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&jt&&((N=p=nn)&&(p=AT(p,o.type,o.pendingProps,gr),p!==null?(o.stateNode=p,aa=o,nn=vr(p.firstChild),gr=!1,N=!0):N=!1),N||Ri(o)),Me(o),N=o.type,C=o.pendingProps,R=i!==null?i.memoizedProps:null,p=C.children,v0(N,C)?p=null:R!==null&&v0(N,R)&&(o.flags|=32),o.memoizedState!==null&&(N=yg(i,o,B_,null,null,u),zd._currentValue=N),af(i,o),sa(i,o,p,u),o.child;case 6:return i===null&&jt&&((i=u=nn)&&(u=CT(u,o.pendingProps,gr),u!==null?(o.stateNode=u,aa=o,nn=null,i=!0):i=!1),i||Ri(o)),null;case 13:return W2(i,o,u);case 4:return ie(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=Ol(o,null,p,u):sa(i,o,p,u),o.child;case 11:return z2(i,o,o.type,o.pendingProps,u);case 7:return sa(i,o,o.pendingProps,u),o.child;case 8:return sa(i,o,o.pendingProps.children,u),o.child;case 12:return sa(i,o,o.pendingProps.children,u),o.child;case 10:return p=o.pendingProps,_i(o,o.type,p.value),sa(i,o,p.children,u),o.child;case 9:return N=o.type._context,p=o.pendingProps.children,Al(o),N=ra(N),p=p(N),o.flags|=1,sa(i,o,p,u),o.child;case 14:return $2(i,o,o.type,o.pendingProps,u);case 15:return B2(i,o,o.type,o.pendingProps,u);case 19:return G2(i,o,u);case 31:return Y_(i,o,u);case 22:return F2(i,o,u,o.pendingProps);case 24:return Al(o),p=ra(Dn),i===null?(N=og(),N===null&&(N=Vt,C=ig(),N.pooledCache=C,C.refCount++,C!==null&&(N.pooledCacheLanes|=u),N=C),o.memoizedState={parent:p,cache:N},dg(o),_i(o,Dn,N)):((i.lanes&u)!==0&&(ug(i,o),yd(o,null,null,u),gd()),N=i.memoizedState,C=o.memoizedState,N.parent!==p?(N={parent:p,cache:p},o.memoizedState=N,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=N),_i(o,Dn,p)):(p=C.cache,_i(o,Dn,p),p!==N.cache&&sg(o,[Dn],u,!0))),sa(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function zs(i){i.flags|=4}function Kg(i,o,u,p,N){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(N&335544128)===N)if(i.stateNode.complete)i.flags|=8192;else if(wS())i.flags|=8192;else throw Dl=Um,cg}else i.flags&=-16777217}function X2(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!m5(o))if(wS())i.flags|=8192;else throw Dl=Um,cg}function sf(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?jm():536870912,i.lanes|=o,Xo|=o)}function Sd(i,o){if(!jt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function an(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(o)for(var N=i.child;N!==null;)u|=N.lanes|N.childLanes,p|=N.subtreeFlags&65011712,p|=N.flags&65011712,N.return=i,N=N.sibling;else for(N=i.child;N!==null;)u|=N.lanes|N.childLanes,p|=N.subtreeFlags,p|=N.flags,N.return=i,N=N.sibling;return i.subtreeFlags|=p,i.childLanes=u,o}function Z_(i,o,u){var p=o.pendingProps;switch(eg(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(o),null;case 1:return an(o),null;case 3:return u=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),_s(Dn),ae(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(zo(o)?zs(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ng())),an(o),null;case 26:var N=o.type,C=o.memoizedState;return i===null?(zs(o),C!==null?(an(o),X2(o,C)):(an(o),Kg(o,N,null,p,u))):C?C!==i.memoizedState?(zs(o),an(o),X2(o,C)):(an(o),o.flags&=-16777217):(i=i.memoizedProps,i!==p&&zs(o),an(o),Kg(o,N,i,p,u)),null;case 27:if(Ce(o),u=se.current,N=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&zs(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return an(o),null}i=fe.current,zo(o)?Ew(o):(i=r5(N,p,u),o.stateNode=i,zs(o))}return an(o),null;case 5:if(Ce(o),N=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&zs(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return an(o),null}if(C=fe.current,zo(o))Ew(o);else{var R=jf(se.current);switch(C){case 1:C=R.createElementNS("http://www.w3.org/2000/svg",N);break;case 2:C=R.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;default:switch(N){case"svg":C=R.createElementNS("http://www.w3.org/2000/svg",N);break;case"math":C=R.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;case"script":C=R.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof p.is=="string"?R.createElement("select",{is:p.is}):R.createElement("select"),p.multiple?C.multiple=!0:p.size&&(C.size=p.size);break;default:C=typeof p.is=="string"?R.createElement(N,{is:p.is}):R.createElement(N)}}C[na]=o,C[Na]=p;e:for(R=o.child;R!==null;){if(R.tag===5||R.tag===6)C.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===o)break e;for(;R.sibling===null;){if(R.return===null||R.return===o)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}o.stateNode=C;e:switch(ia(C,N,p),N){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&zs(o)}}return an(o),Kg(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&zs(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(i=se.current,zo(o)){if(i=o.stateNode,u=o.memoizedProps,p=null,N=aa,N!==null)switch(N.tag){case 27:case 5:p=N.memoizedProps}i[na]=o,i=!!(i.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||WS(i.nodeValue,u)),i||Ri(o,!0)}else i=jf(i).createTextNode(p),i[na]=o,o.stateNode=i}return an(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(p=zo(o),u!==null){if(i===null){if(!p)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[na]=o}else wl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;an(o),i=!1}else u=ng(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(Ka(o),o):(Ka(o),null);if((o.flags&128)!==0)throw Error(r(558))}return an(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(N=zo(o),p!==null&&p.dehydrated!==null){if(i===null){if(!N)throw Error(r(318));if(N=o.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[na]=o}else wl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;an(o),N=!1}else N=ng(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=N),N=!0;if(!N)return o.flags&256?(Ka(o),o):(Ka(o),null)}return Ka(o),(o.flags&128)!==0?(o.lanes=u,o):(u=p!==null,i=i!==null&&i.memoizedState!==null,u&&(p=o.child,N=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(N=p.alternate.memoizedState.cachePool.pool),C=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(C=p.memoizedState.cachePool.pool),C!==N&&(p.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),sf(o,o.updateQueue),an(o),null);case 4:return ae(),i===null&&h0(o.stateNode.containerInfo),an(o),null;case 10:return _s(o.type),an(o),null;case 19:if(je(bn),p=o.memoizedState,p===null)return an(o),null;if(N=(o.flags&128)!==0,C=p.rendering,C===null)if(N)Sd(p,!1);else{if(gn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(C=Km(i),C!==null){for(o.flags|=128,Sd(p,!1),i=C.updateQueue,o.updateQueue=i,sf(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)Aw(u,i),u=u.sibling;return H(bn,bn.current&1|2),jt&&Ps(o,p.treeForkCount),o.child}i=i.sibling}p.tail!==null&&be()>uf&&(o.flags|=128,N=!0,Sd(p,!1),o.lanes=4194304)}else{if(!N)if(i=Km(C),i!==null){if(o.flags|=128,N=!0,i=i.updateQueue,o.updateQueue=i,sf(o,i),Sd(p,!0),p.tail===null&&p.tailMode==="hidden"&&!C.alternate&&!jt)return an(o),null}else 2*be()-p.renderingStartTime>uf&&u!==536870912&&(o.flags|=128,N=!0,Sd(p,!1),o.lanes=4194304);p.isBackwards?(C.sibling=o.child,o.child=C):(i=p.last,i!==null?i.sibling=C:o.child=C,p.last=C)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=be(),i.sibling=null,u=bn.current,H(bn,N?u&1|2:u&1),jt&&Ps(o,p.treeForkCount),i):(an(o),null);case 22:case 23:return Ka(o),pg(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(u&536870912)!==0&&(o.flags&128)===0&&(an(o),o.subtreeFlags&6&&(o.flags|=8192)):an(o),u=o.updateQueue,u!==null&&sf(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048),i!==null&&je(Cl),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),_s(Dn),an(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function X_(i,o){switch(eg(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return _s(Dn),ae(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Ce(o),null;case 31:if(o.memoizedState!==null){if(Ka(o),o.alternate===null)throw Error(r(340));wl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(Ka(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));wl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return je(bn),null;case 4:return ae(),null;case 10:return _s(o.type),null;case 22:case 23:return Ka(o),pg(),i!==null&&je(Cl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return _s(Dn),null;case 25:return null;default:return null}}function Q2(i,o){switch(eg(o),o.tag){case 3:_s(Dn),ae();break;case 26:case 27:case 5:Ce(o);break;case 4:ae();break;case 31:o.memoizedState!==null&&Ka(o);break;case 13:Ka(o);break;case 19:je(bn);break;case 10:_s(o.type);break;case 22:case 23:Ka(o),pg(),i!==null&&je(Cl);break;case 24:_s(Dn)}}function Ad(i,o){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var N=p.next;u=N;do{if((u.tag&i)===i){p=void 0;var C=u.create,R=u.inst;p=C(),R.destroy=p}u=u.next}while(u!==N)}}catch($){zt(o,o.return,$)}}function Bi(i,o,u){try{var p=o.updateQueue,N=p!==null?p.lastEffect:null;if(N!==null){var C=N.next;p=C;do{if((p.tag&i)===i){var R=p.inst,$=R.destroy;if($!==void 0){R.destroy=void 0,N=o;var G=u,ce=$;try{ce()}catch(pe){zt(N,G,pe)}}}p=p.next}while(p!==C)}}catch(pe){zt(o,o.return,pe)}}function J2(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{qw(o,u)}catch(p){zt(i,i.return,p)}}}function eS(i,o,u){u.props=kl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(p){zt(i,o,p)}}function Cd(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof u=="function"?i.refCleanup=u(p):u.current=p}}catch(N){zt(i,o,N)}}function ns(i,o){var u=i.ref,p=i.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(N){zt(i,o,N)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(N){zt(i,o,N)}else u.current=null}function tS(i){var o=i.type,u=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(N){zt(i,i.return,N)}}function Wg(i,o,u){try{var p=i.stateNode;vT(p,i.type,u,o),p[Na]=o}catch(N){zt(i,i.return,N)}}function nS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Wi(i.type)||i.tag===4}function Yg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||nS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Wi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Gg(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Os));else if(p!==4&&(p===27&&Wi(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(Gg(i,o,u),i=i.sibling;i!==null;)Gg(i,o,u),i=i.sibling}function lf(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(p!==4&&(p===27&&Wi(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(lf(i,o,u),i=i.sibling;i!==null;)lf(i,o,u),i=i.sibling}function aS(i){var o=i.stateNode,u=i.memoizedProps;try{for(var p=i.type,N=o.attributes;N.length;)o.removeAttributeNode(N[0]);ia(o,p,u),o[na]=i,o[Na]=u}catch(C){zt(i,i.return,C)}}var $s=!1,kn=!1,Zg=!1,rS=typeof WeakSet=="function"?WeakSet:Set,Wn=null;function Q_(i,o){if(i=i.containerInfo,g0=Df,i=xw(i),qx(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var N=p.anchorOffset,C=p.focusNode;p=p.focusOffset;try{u.nodeType,C.nodeType}catch{u=null;break e}var R=0,$=-1,G=-1,ce=0,pe=0,ve=i,de=null;t:for(;;){for(var me;ve!==u||N!==0&&ve.nodeType!==3||($=R+N),ve!==C||p!==0&&ve.nodeType!==3||(G=R+p),ve.nodeType===3&&(R+=ve.nodeValue.length),(me=ve.firstChild)!==null;)de=ve,ve=me;for(;;){if(ve===i)break t;if(de===u&&++ce===N&&($=R),de===C&&++pe===p&&(G=R),(me=ve.nextSibling)!==null)break;ve=de,de=ve.parentNode}ve=me}u=$===-1||G===-1?null:{start:$,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(y0={focusedElem:i,selectionRange:u},Df=!1,Wn=o;Wn!==null;)if(o=Wn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Wn=i;else for(;Wn!==null;){switch(o=Wn,C=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)N=i[u],N.ref.impl=N.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&C!==null){i=void 0,u=o,N=C.memoizedProps,C=C.memoizedState,p=u.stateNode;try{var Te=kl(u.type,N);i=p.getSnapshotBeforeUpdate(Te,C),p.__reactInternalSnapshotBeforeUpdate=i}catch(Ve){zt(u,u.return,Ve)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)j0(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":j0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Wn=i;break}Wn=o.return}}function sS(i,o,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:Fs(i,u),p&4&&Ad(5,u);break;case 1:if(Fs(i,u),p&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(R){zt(u,u.return,R)}else{var N=kl(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(N,o,i.__reactInternalSnapshotBeforeUpdate)}catch(R){zt(u,u.return,R)}}p&64&&J2(u),p&512&&Cd(u,u.return);break;case 3:if(Fs(i,u),p&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{qw(i,o)}catch(R){zt(u,u.return,R)}}break;case 27:o===null&&p&4&&aS(u);case 26:case 5:Fs(i,u),o===null&&p&4&&tS(u),p&512&&Cd(u,u.return);break;case 12:Fs(i,u);break;case 31:Fs(i,u),p&4&&oS(i,u);break;case 13:Fs(i,u),p&4&&cS(i,u),p&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=lT.bind(null,u),MT(i,u))));break;case 22:if(p=u.memoizedState!==null||$s,!p){o=o!==null&&o.memoizedState!==null||kn,N=$s;var C=kn;$s=p,(kn=o)&&!C?Us(i,u,(u.subtreeFlags&8772)!==0):Fs(i,u),$s=N,kn=C}break;case 30:break;default:Fs(i,u)}}function iS(i){var o=i.alternate;o!==null&&(i.alternate=null,iS(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Cx(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ln=null,Sa=!1;function Bs(i,o,u){for(u=u.child;u!==null;)lS(i,o,u),u=u.sibling}function lS(i,o,u){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(ta,u)}catch{}switch(u.tag){case 26:kn||ns(u,o),Bs(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:kn||ns(u,o);var p=ln,N=Sa;Wi(u.type)&&(ln=u.stateNode,Sa=!1),Bs(i,o,u),Td(u.stateNode),ln=p,Sa=N;break;case 5:kn||ns(u,o);case 6:if(p=ln,N=Sa,ln=null,Bs(i,o,u),ln=p,Sa=N,ln!==null)if(Sa)try{(ln.nodeType===9?ln.body:ln.nodeName==="HTML"?ln.ownerDocument.body:ln).removeChild(u.stateNode)}catch(C){zt(u,o,C)}else try{ln.removeChild(u.stateNode)}catch(C){zt(u,o,C)}break;case 18:ln!==null&&(Sa?(i=ln,JS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),sc(i)):JS(ln,u.stateNode));break;case 4:p=ln,N=Sa,ln=u.stateNode.containerInfo,Sa=!0,Bs(i,o,u),ln=p,Sa=N;break;case 0:case 11:case 14:case 15:Bi(2,u,o),kn||Bi(4,u,o),Bs(i,o,u);break;case 1:kn||(ns(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"&&eS(u,o,p)),Bs(i,o,u);break;case 21:Bs(i,o,u);break;case 22:kn=(p=kn)||u.memoizedState!==null,Bs(i,o,u),kn=p;break;default:Bs(i,o,u)}}function oS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{sc(i)}catch(u){zt(o,o.return,u)}}}function cS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{sc(i)}catch(u){zt(o,o.return,u)}}function J_(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new rS),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new rS),o;default:throw Error(r(435,i.tag))}}function of(i,o){var u=J_(i);o.forEach(function(p){if(!u.has(p)){u.add(p);var N=oT.bind(null,i,p);p.then(N,N)}})}function Aa(i,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var N=u[p],C=i,R=o,$=R;e:for(;$!==null;){switch($.tag){case 27:if(Wi($.type)){ln=$.stateNode,Sa=!1;break e}break;case 5:ln=$.stateNode,Sa=!1;break e;case 3:case 4:ln=$.stateNode.containerInfo,Sa=!0;break e}$=$.return}if(ln===null)throw Error(r(160));lS(C,R,N),ln=null,Sa=!1,C=N.alternate,C!==null&&(C.return=null),N.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)dS(o,i),o=o.sibling}var $r=null;function dS(i,o){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Aa(o,i),Ca(i),p&4&&(Bi(3,i,i.return),Ad(3,i),Bi(5,i,i.return));break;case 1:Aa(o,i),Ca(i),p&512&&(kn||u===null||ns(u,u.return)),p&64&&$s&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var N=$r;if(Aa(o,i),Ca(i),p&512&&(kn||u===null||ns(u,u.return)),p&4){var C=u!==null?u.memoizedState:null;if(p=i.memoizedState,u===null)if(p===null)if(i.stateNode===null){e:{p=i.type,u=i.memoizedProps,N=N.ownerDocument||N;t:switch(p){case"title":C=N.getElementsByTagName("title")[0],(!C||C[Jc]||C[na]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=N.createElement(p),N.head.insertBefore(C,N.querySelector("head > title"))),ia(C,p,u),C[na]=i,Kn(C),p=C;break e;case"link":var R=d5("link","href",N).get(p+(u.href||""));if(R){for(var $=0;$<R.length;$++)if(C=R[$],C.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&C.getAttribute("rel")===(u.rel==null?null:u.rel)&&C.getAttribute("title")===(u.title==null?null:u.title)&&C.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){R.splice($,1);break t}}C=N.createElement(p),ia(C,p,u),N.head.appendChild(C);break;case"meta":if(R=d5("meta","content",N).get(p+(u.content||""))){for($=0;$<R.length;$++)if(C=R[$],C.getAttribute("content")===(u.content==null?null:""+u.content)&&C.getAttribute("name")===(u.name==null?null:u.name)&&C.getAttribute("property")===(u.property==null?null:u.property)&&C.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&C.getAttribute("charset")===(u.charSet==null?null:u.charSet)){R.splice($,1);break t}}C=N.createElement(p),ia(C,p,u),N.head.appendChild(C);break;default:throw Error(r(468,p))}C[na]=i,Kn(C),p=C}i.stateNode=p}else u5(N,i.type,i.stateNode);else i.stateNode=c5(N,p,i.memoizedProps);else C!==p?(C===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):C.count--,p===null?u5(N,i.type,i.stateNode):c5(N,p,i.memoizedProps)):p===null&&i.stateNode!==null&&Wg(i,i.memoizedProps,u.memoizedProps)}break;case 27:Aa(o,i),Ca(i),p&512&&(kn||u===null||ns(u,u.return)),u!==null&&p&4&&Wg(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Aa(o,i),Ca(i),p&512&&(kn||u===null||ns(u,u.return)),i.flags&32){N=i.stateNode;try{Do(N,"")}catch(Te){zt(i,i.return,Te)}}p&4&&i.stateNode!=null&&(N=i.memoizedProps,Wg(i,N,u!==null?u.memoizedProps:N)),p&1024&&(Zg=!0);break;case 6:if(Aa(o,i),Ca(i),p&4){if(i.stateNode===null)throw Error(r(162));p=i.memoizedProps,u=i.stateNode;try{u.nodeValue=p}catch(Te){zt(i,i.return,Te)}}break;case 3:if(Sf=null,N=$r,$r=Nf(o.containerInfo),Aa(o,i),$r=N,Ca(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{sc(o.containerInfo)}catch(Te){zt(i,i.return,Te)}Zg&&(Zg=!1,uS(i));break;case 4:p=$r,$r=Nf(i.stateNode.containerInfo),Aa(o,i),Ca(i),$r=p;break;case 12:Aa(o,i),Ca(i);break;case 31:Aa(o,i),Ca(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,of(i,p)));break;case 13:Aa(o,i),Ca(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(df=be()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,of(i,p)));break;case 22:N=i.memoizedState!==null;var G=u!==null&&u.memoizedState!==null,ce=$s,pe=kn;if($s=ce||N,kn=pe||G,Aa(o,i),kn=pe,$s=ce,Ca(i),p&8192)e:for(o=i.stateNode,o._visibility=N?o._visibility&-2:o._visibility|1,N&&(u===null||G||$s||kn||Pl(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){G=u=o;try{if(C=G.stateNode,N)R=C.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{$=G.stateNode;var ve=G.memoizedProps.style,de=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;$.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(Te){zt(G,G.return,Te)}}}else if(o.tag===6){if(u===null){G=o;try{G.stateNode.nodeValue=N?"":G.memoizedProps}catch(Te){zt(G,G.return,Te)}}}else if(o.tag===18){if(u===null){G=o;try{var me=G.stateNode;N?e5(me,!0):e5(G.stateNode,!1)}catch(Te){zt(G,G.return,Te)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,of(i,u))));break;case 19:Aa(o,i),Ca(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,of(i,p)));break;case 30:break;case 21:break;default:Aa(o,i),Ca(i)}}function Ca(i){var o=i.flags;if(o&2){try{for(var u,p=i.return;p!==null;){if(nS(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var N=u.stateNode,C=Yg(i);lf(i,C,N);break;case 5:var R=u.stateNode;u.flags&32&&(Do(R,""),u.flags&=-33);var $=Yg(i);lf(i,$,R);break;case 3:case 4:var G=u.stateNode.containerInfo,ce=Yg(i);Gg(i,ce,G);break;default:throw Error(r(161))}}catch(pe){zt(i,i.return,pe)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function uS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;uS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Fs(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)sS(i,o.alternate,o),o=o.sibling}function Pl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Bi(4,o,o.return),Pl(o);break;case 1:ns(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&eS(o,o.return,u),Pl(o);break;case 27:Td(o.stateNode);case 26:case 5:ns(o,o.return),Pl(o);break;case 22:o.memoizedState===null&&Pl(o);break;case 30:Pl(o);break;default:Pl(o)}i=i.sibling}}function Us(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,N=i,C=o,R=C.flags;switch(C.tag){case 0:case 11:case 15:Us(N,C,u),Ad(4,C);break;case 1:if(Us(N,C,u),p=C,N=p.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(ce){zt(p,p.return,ce)}if(p=C,N=p.updateQueue,N!==null){var $=p.stateNode;try{var G=N.shared.hiddenCallbacks;if(G!==null)for(N.shared.hiddenCallbacks=null,N=0;N<G.length;N++)Uw(G[N],$)}catch(ce){zt(p,p.return,ce)}}u&&R&64&&J2(C),Cd(C,C.return);break;case 27:aS(C);case 26:case 5:Us(N,C,u),u&&p===null&&R&4&&tS(C),Cd(C,C.return);break;case 12:Us(N,C,u);break;case 31:Us(N,C,u),u&&R&4&&oS(N,C);break;case 13:Us(N,C,u),u&&R&4&&cS(N,C);break;case 22:C.memoizedState===null&&Us(N,C,u),Cd(C,C.return);break;case 30:break;default:Us(N,C,u)}o=o.sibling}}function Xg(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&md(u))}function Qg(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&md(i))}function Br(i,o,u,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)mS(i,o,u,p),o=o.sibling}function mS(i,o,u,p){var N=o.flags;switch(o.tag){case 0:case 11:case 15:Br(i,o,u,p),N&2048&&Ad(9,o);break;case 1:Br(i,o,u,p);break;case 3:Br(i,o,u,p),N&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&md(i)));break;case 12:if(N&2048){Br(i,o,u,p),i=o.stateNode;try{var C=o.memoizedProps,R=C.id,$=C.onPostCommit;typeof $=="function"&&$(R,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(G){zt(o,o.return,G)}}else Br(i,o,u,p);break;case 31:Br(i,o,u,p);break;case 13:Br(i,o,u,p);break;case 23:break;case 22:C=o.stateNode,R=o.alternate,o.memoizedState!==null?C._visibility&2?Br(i,o,u,p):Md(i,o):C._visibility&2?Br(i,o,u,p):(C._visibility|=2,Yo(i,o,u,p,(o.subtreeFlags&10256)!==0||!1)),N&2048&&Xg(R,o);break;case 24:Br(i,o,u,p),N&2048&&Qg(o.alternate,o);break;default:Br(i,o,u,p)}}function Yo(i,o,u,p,N){for(N=N&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var C=i,R=o,$=u,G=p,ce=R.flags;switch(R.tag){case 0:case 11:case 15:Yo(C,R,$,G,N),Ad(8,R);break;case 23:break;case 22:var pe=R.stateNode;R.memoizedState!==null?pe._visibility&2?Yo(C,R,$,G,N):Md(C,R):(pe._visibility|=2,Yo(C,R,$,G,N)),N&&ce&2048&&Xg(R.alternate,R);break;case 24:Yo(C,R,$,G,N),N&&ce&2048&&Qg(R.alternate,R);break;default:Yo(C,R,$,G,N)}o=o.sibling}}function Md(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,p=o,N=p.flags;switch(p.tag){case 22:Md(u,p),N&2048&&Xg(p.alternate,p);break;case 24:Md(u,p),N&2048&&Qg(p.alternate,p);break;default:Md(u,p)}o=o.sibling}}var Dd=8192;function Go(i,o,u){if(i.subtreeFlags&Dd)for(i=i.child;i!==null;)fS(i,o,u),i=i.sibling}function fS(i,o,u){switch(i.tag){case 26:Go(i,o,u),i.flags&Dd&&i.memoizedState!==null&&$T(u,$r,i.memoizedState,i.memoizedProps);break;case 5:Go(i,o,u);break;case 3:case 4:var p=$r;$r=Nf(i.stateNode.containerInfo),Go(i,o,u),$r=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=Dd,Dd=16777216,Go(i,o,u),Dd=p):Go(i,o,u));break;default:Go(i,o,u)}}function hS(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Od(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Wn=p,xS(p,i)}hS(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)pS(i),i=i.sibling}function pS(i){switch(i.tag){case 0:case 11:case 15:Od(i),i.flags&2048&&Bi(9,i,i.return);break;case 3:Od(i);break;case 12:Od(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,cf(i)):Od(i);break;default:Od(i)}}function cf(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Wn=p,xS(p,i)}hS(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Bi(8,o,o.return),cf(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,cf(o));break;default:cf(o)}i=i.sibling}}function xS(i,o){for(;Wn!==null;){var u=Wn;switch(u.tag){case 0:case 11:case 15:Bi(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:md(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,Wn=p;else e:for(u=i;Wn!==null;){p=Wn;var N=p.sibling,C=p.return;if(iS(p),p===u){Wn=null;break e}if(N!==null){N.return=C,Wn=N;break e}Wn=C}}}var eT={getCacheForType:function(i){var o=ra(Dn),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return ra(Dn).controller.signal}},tT=typeof WeakMap=="function"?WeakMap:Map,kt=0,Vt=null,pt=null,gt=0,It=0,Wa=null,Fi=!1,Zo=!1,Jg=!1,qs=0,gn=0,Ui=0,Rl=0,e0=0,Ya=0,Xo=0,Ed=null,Ma=null,t0=!1,df=0,gS=0,uf=1/0,mf=null,qi=null,$n=0,Hi=null,Qo=null,Hs=0,n0=0,a0=null,yS=null,kd=0,r0=null;function Ga(){return(kt&2)!==0&&gt!==0?gt&-gt:V.T!==null?d0():_N()}function vS(){if(Ya===0)if((gt&536870912)===0||jt){var i=Je;Je<<=1,(Je&3932160)===0&&(Je=262144),Ya=i}else Ya=536870912;return i=Va.current,i!==null&&(i.flags|=32),Ya}function Da(i,o,u){(i===Vt&&(It===2||It===9)||i.cancelPendingCommit!==null)&&(Jo(i,0),Vi(i,gt,Ya,!1)),Ms(i,u),((kt&2)===0||i!==Vt)&&(i===Vt&&((kt&2)===0&&(Rl|=u),gn===4&&Vi(i,gt,Ya,!1)),as(i))}function bS(i,o,u){if((kt&6)!==0)throw Error(r(327));var p=!u&&(o&127)===0&&(o&i.expiredLanes)===0||pl(i,o),N=p?rT(i,o):i0(i,o,!0),C=p;do{if(N===0){Zo&&!p&&Vi(i,o,0,!1);break}else{if(u=i.current.alternate,C&&!nT(u)){N=i0(i,o,!1),C=!1;continue}if(N===2){if(C=o,i.errorRecoveryDisabledLanes&C)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){o=R;e:{var $=i;N=Ed;var G=$.current.memoizedState.isDehydrated;if(G&&(Jo($,R).flags|=256),R=i0($,R,!1),R!==2){if(Jg&&!G){$.errorRecoveryDisabledLanes|=C,Rl|=C,N=4;break e}C=Ma,Ma=N,C!==null&&(Ma===null?Ma=C:Ma.push.apply(Ma,C))}N=R}if(C=!1,N!==2)continue}}if(N===1){Jo(i,0),Vi(i,o,0,!0);break}e:{switch(p=i,C=N,C){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Vi(p,o,Ya,!Fi);break e;case 2:Ma=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(N=df+300-be(),10<N)){if(Vi(p,o,Ya,!Fi),mt(p,0,!0)!==0)break e;Hs=o,p.timeoutHandle=XS(jS.bind(null,p,u,Ma,mf,t0,o,Ya,Rl,Xo,Fi,C,"Throttled",-0,0),N);break e}jS(p,u,Ma,mf,t0,o,Ya,Rl,Xo,Fi,C,null,-0,0)}}break}while(!0);as(i)}function jS(i,o,u,p,N,C,R,$,G,ce,pe,ve,de,me){if(i.timeoutHandle=-1,ve=o.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Os},fS(o,C,ve);var Te=(C&62914560)===C?df-be():(C&4194048)===C?gS-be():0;if(Te=BT(ve,Te),Te!==null){Hs=C,i.cancelPendingCommit=Te(OS.bind(null,i,o,C,u,p,N,R,$,G,pe,ve,null,de,me)),Vi(i,C,R,!ce);return}}OS(i,o,C,u,p,N,R,$,G)}function nT(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var N=u[p],C=N.getSnapshot;N=N.value;try{if(!qa(C(),N))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Vi(i,o,u,p){o&=~e0,o&=~Rl,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var N=o;0<N;){var C=31-Hn(N),R=1<<C;p[C]=-1,N&=~R}u!==0&&kN(i,u,o)}function ff(){return(kt&6)===0?(Pd(0),!1):!0}function s0(){if(pt!==null){if(It===0)var i=pt.return;else i=pt,Rs=Sl=null,jg(i),qo=null,hd=0,i=pt;for(;i!==null;)Q2(i.alternate,i),i=i.return;pt=null}}function Jo(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,NT(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Hs=0,s0(),Vt=i,pt=u=ks(i.current,null),gt=o,It=0,Wa=null,Fi=!1,Zo=pl(i,o),Jg=!1,Xo=Ya=e0=Rl=Ui=gn=0,Ma=Ed=null,t0=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var N=31-Hn(p),C=1<<N;o|=i[N],p&=~C}return qs=o,Rm(),u}function NS(i,o){it=null,V.H=Nd,o===Uo||o===Fm?(o=zw(),It=3):o===cg?(o=zw(),It=4):It=o===Ig?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Wa=o,pt===null&&(gn=1,tf(i,hr(o,i.current)))}function wS(){var i=Va.current;return i===null?!0:(gt&4194048)===gt?yr===null:(gt&62914560)===gt||(gt&536870912)!==0?i===yr:!1}function SS(){var i=V.H;return V.H=Nd,i===null?Nd:i}function AS(){var i=V.A;return V.A=eT,i}function hf(){gn=4,Fi||(gt&4194048)!==gt&&Va.current!==null||(Zo=!0),(Ui&134217727)===0&&(Rl&134217727)===0||Vt===null||Vi(Vt,gt,Ya,!1)}function i0(i,o,u){var p=kt;kt|=2;var N=SS(),C=AS();(Vt!==i||gt!==o)&&(mf=null,Jo(i,o)),o=!1;var R=gn;e:do try{if(It!==0&&pt!==null){var $=pt,G=Wa;switch(It){case 8:s0(),R=6;break e;case 3:case 2:case 9:case 6:Va.current===null&&(o=!0);var ce=It;if(It=0,Wa=null,ec(i,$,G,ce),u&&Zo){R=0;break e}break;default:ce=It,It=0,Wa=null,ec(i,$,G,ce)}}aT(),R=gn;break}catch(pe){NS(i,pe)}while(!0);return o&&i.shellSuspendCounter++,Rs=Sl=null,kt=p,V.H=N,V.A=C,pt===null&&(Vt=null,gt=0,Rm()),R}function aT(){for(;pt!==null;)CS(pt)}function rT(i,o){var u=kt;kt|=2;var p=SS(),N=AS();Vt!==i||gt!==o?(mf=null,uf=be()+500,Jo(i,o)):Zo=pl(i,o);e:do try{if(It!==0&&pt!==null){o=pt;var C=Wa;t:switch(It){case 1:It=0,Wa=null,ec(i,o,C,1);break;case 2:case 9:if(Lw(C)){It=0,Wa=null,MS(o);break}o=function(){It!==2&&It!==9||Vt!==i||(It=7),as(i)},C.then(o,o);break e;case 3:It=7;break e;case 4:It=5;break e;case 7:Lw(C)?(It=0,Wa=null,MS(o)):(It=0,Wa=null,ec(i,o,C,7));break;case 5:var R=null;switch(pt.tag){case 26:R=pt.memoizedState;case 5:case 27:var $=pt;if(R?m5(R):$.stateNode.complete){It=0,Wa=null;var G=$.sibling;if(G!==null)pt=G;else{var ce=$.return;ce!==null?(pt=ce,pf(ce)):pt=null}break t}}It=0,Wa=null,ec(i,o,C,5);break;case 6:It=0,Wa=null,ec(i,o,C,6);break;case 8:s0(),gn=6;break e;default:throw Error(r(462))}}sT();break}catch(pe){NS(i,pe)}while(!0);return Rs=Sl=null,V.H=p,V.A=N,kt=u,pt!==null?0:(Vt=null,gt=0,Rm(),gn)}function sT(){for(;pt!==null&&!he();)CS(pt)}function CS(i){var o=Z2(i.alternate,i,qs);i.memoizedProps=i.pendingProps,o===null?pf(i):pt=o}function MS(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=H2(u,o,o.pendingProps,o.type,void 0,gt);break;case 11:o=H2(u,o,o.pendingProps,o.type.render,o.ref,gt);break;case 5:jg(o);default:Q2(u,o),o=pt=Aw(o,qs),o=Z2(u,o,qs)}i.memoizedProps=i.pendingProps,o===null?pf(i):pt=o}function ec(i,o,u,p){Rs=Sl=null,jg(o),qo=null,hd=0;var N=o.return;try{if(W_(i,N,o,u,gt)){gn=1,tf(i,hr(u,i.current)),pt=null;return}}catch(C){if(N!==null)throw pt=N,C;gn=1,tf(i,hr(u,i.current)),pt=null;return}o.flags&32768?(jt||p===1?i=!0:Zo||(gt&536870912)!==0?i=!1:(Fi=i=!0,(p===2||p===9||p===3||p===6)&&(p=Va.current,p!==null&&p.tag===13&&(p.flags|=16384))),DS(o,i)):pf(o)}function pf(i){var o=i;do{if((o.flags&32768)!==0){DS(o,Fi);return}i=o.return;var u=Z_(o.alternate,o,qs);if(u!==null){pt=u;return}if(o=o.sibling,o!==null){pt=o;return}pt=o=i}while(o!==null);gn===0&&(gn=5)}function DS(i,o){do{var u=X_(i.alternate,i);if(u!==null){u.flags&=32767,pt=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){pt=i;return}pt=i=u}while(i!==null);gn=6,pt=null}function OS(i,o,u,p,N,C,R,$,G){i.cancelPendingCommit=null;do xf();while($n!==0);if((kt&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(C=o.lanes|o.childLanes,C|=Yx,z6(i,u,C,R,$,G),i===Vt&&(pt=Vt=null,gt=0),Qo=o,Hi=i,Hs=u,n0=C,a0=N,yS=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,cT(rt,function(){return _S(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=V.T,V.T=null,N=B.p,B.p=2,R=kt,kt|=4;try{Q_(i,o,u)}finally{kt=R,B.p=N,V.T=p}}$n=1,ES(),kS(),PS()}}function ES(){if($n===1){$n=0;var i=Hi,o=Qo,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=V.T,V.T=null;var p=B.p;B.p=2;var N=kt;kt|=4;try{dS(o,i);var C=y0,R=xw(i.containerInfo),$=C.focusedElem,G=C.selectionRange;if(R!==$&&$&&$.ownerDocument&&pw($.ownerDocument.documentElement,$)){if(G!==null&&qx($)){var ce=G.start,pe=G.end;if(pe===void 0&&(pe=ce),"selectionStart"in $)$.selectionStart=ce,$.selectionEnd=Math.min(pe,$.value.length);else{var ve=$.ownerDocument||document,de=ve&&ve.defaultView||window;if(de.getSelection){var me=de.getSelection(),Te=$.textContent.length,Ve=Math.min(G.start,Te),Ht=G.end===void 0?Ve:Math.min(G.end,Te);!me.extend&&Ve>Ht&&(R=Ht,Ht=Ve,Ve=R);var re=hw($,Ve),Q=hw($,Ht);if(re&&Q&&(me.rangeCount!==1||me.anchorNode!==re.node||me.anchorOffset!==re.offset||me.focusNode!==Q.node||me.focusOffset!==Q.offset)){var oe=ve.createRange();oe.setStart(re.node,re.offset),me.removeAllRanges(),Ve>Ht?(me.addRange(oe),me.extend(Q.node,Q.offset)):(oe.setEnd(Q.node,Q.offset),me.addRange(oe))}}}}for(ve=[],me=$;me=me.parentNode;)me.nodeType===1&&ve.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<ve.length;$++){var ye=ve[$];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}Df=!!g0,y0=g0=null}finally{kt=N,B.p=p,V.T=u}}i.current=o,$n=2}}function kS(){if($n===2){$n=0;var i=Hi,o=Qo,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=V.T,V.T=null;var p=B.p;B.p=2;var N=kt;kt|=4;try{sS(i,o.alternate,o)}finally{kt=N,B.p=p,V.T=u}}$n=3}}function PS(){if($n===4||$n===3){$n=0,Ee();var i=Hi,o=Qo,u=Hs,p=yS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?$n=5:($n=0,Qo=Hi=null,RS(i,i.pendingLanes));var N=i.pendingLanes;if(N===0&&(qi=null),Sx(u),o=o.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(ta,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=V.T,N=B.p,B.p=2,V.T=null;try{for(var C=i.onRecoverableError,R=0;R<p.length;R++){var $=p[R];C($.value,{componentStack:$.stack})}}finally{V.T=o,B.p=N}}(Hs&3)!==0&&xf(),as(i),N=i.pendingLanes,(u&261930)!==0&&(N&42)!==0?i===r0?kd++:(kd=0,r0=i):kd=0,Pd(0)}}function RS(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,md(o)))}function xf(){return ES(),kS(),PS(),_S()}function _S(){if($n!==5)return!1;var i=Hi,o=n0;n0=0;var u=Sx(Hs),p=V.T,N=B.p;try{B.p=32>u?32:u,V.T=null,u=a0,a0=null;var C=Hi,R=Hs;if($n=0,Qo=Hi=null,Hs=0,(kt&6)!==0)throw Error(r(331));var $=kt;if(kt|=4,pS(C.current),mS(C,C.current,R,u),kt=$,Pd(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(ta,C)}catch{}return!0}finally{B.p=N,V.T=p,RS(i,o)}}function TS(i,o,u){o=hr(u,o),o=Lg(i.stateNode,o,2),i=Ii(i,o,2),i!==null&&(Ms(i,2),as(i))}function zt(i,o,u){if(i.tag===3)TS(i,i,u);else for(;o!==null;){if(o.tag===3){TS(o,i,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(qi===null||!qi.has(p))){i=hr(u,i),u=L2(2),p=Ii(o,u,2),p!==null&&(I2(u,p,o,i),Ms(p,2),as(p));break}}o=o.return}}function l0(i,o,u){var p=i.pingCache;if(p===null){p=i.pingCache=new tT;var N=new Set;p.set(o,N)}else N=p.get(o),N===void 0&&(N=new Set,p.set(o,N));N.has(u)||(Jg=!0,N.add(u),i=iT.bind(null,i,o,u),o.then(i,i))}function iT(i,o,u){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Vt===i&&(gt&u)===u&&(gn===4||gn===3&&(gt&62914560)===gt&&300>be()-df?(kt&2)===0&&Jo(i,0):e0|=u,Xo===gt&&(Xo=0)),as(i)}function LS(i,o){o===0&&(o=jm()),i=jl(i,o),i!==null&&(Ms(i,o),as(i))}function lT(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),LS(i,u)}function oT(i,o){var u=0;switch(i.tag){case 31:case 13:var p=i.stateNode,N=i.memoizedState;N!==null&&(u=N.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(o),LS(i,u)}function cT(i,o){return Z(i,o)}var gf=null,tc=null,o0=!1,yf=!1,c0=!1,Ki=0;function as(i){i!==tc&&i.next===null&&(tc===null?gf=tc=i:tc=tc.next=i),yf=!0,o0||(o0=!0,uT())}function Pd(i,o){if(!c0&&yf){c0=!0;do for(var u=!1,p=gf;p!==null;){if(i!==0){var N=p.pendingLanes;if(N===0)var C=0;else{var R=p.suspendedLanes,$=p.pingedLanes;C=(1<<31-Hn(42|i)+1)-1,C&=N&~(R&~$),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(u=!0,BS(p,C))}else C=gt,C=mt(p,p===Vt?C:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(C&3)===0||pl(p,C)||(u=!0,BS(p,C));p=p.next}while(u);c0=!1}}function dT(){IS()}function IS(){yf=o0=!1;var i=0;Ki!==0&&jT()&&(i=Ki);for(var o=be(),u=null,p=gf;p!==null;){var N=p.next,C=zS(p,o);C===0?(p.next=null,u===null?gf=N:u.next=N,N===null&&(tc=u)):(u=p,(i!==0||(C&3)!==0)&&(yf=!0)),p=N}$n!==0&&$n!==5||Pd(i),Ki!==0&&(Ki=0)}function zS(i,o){for(var u=i.suspendedLanes,p=i.pingedLanes,N=i.expirationTimes,C=i.pendingLanes&-62914561;0<C;){var R=31-Hn(C),$=1<<R,G=N[R];G===-1?(($&u)===0||($&p)!==0)&&(N[R]=Nx($,o)):G<=o&&(i.expiredLanes|=$),C&=~$}if(o=Vt,u=gt,u=mt(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,u===0||i===o&&(It===2||It===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&le(p),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||pl(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(p!==null&&le(p),Sx(u)){case 2:case 8:u=Ze;break;case 32:u=rt;break;case 268435456:u=cr;break;default:u=rt}return p=$S.bind(null,i),u=Z(u,p),i.callbackPriority=o,i.callbackNode=u,o}return p!==null&&p!==null&&le(p),i.callbackPriority=2,i.callbackNode=null,2}function $S(i,o){if($n!==0&&$n!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(xf()&&i.callbackNode!==u)return null;var p=gt;return p=mt(i,i===Vt?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(bS(i,p,o),zS(i,be()),i.callbackNode!=null&&i.callbackNode===u?$S.bind(null,i):null)}function BS(i,o){if(xf())return null;bS(i,o,!0)}function uT(){wT(function(){(kt&6)!==0?Z(ke,dT):IS()})}function d0(){if(Ki===0){var i=Bo;i===0&&(i=Mt,Mt<<=1,(Mt&261888)===0&&(Mt=256)),Ki=i}return Ki}function FS(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Am(""+i)}function US(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function mT(i,o,u,p,N){if(o==="submit"&&u&&u.stateNode===N){var C=FS((N[Na]||null).action),R=p.submitter;R&&(o=(o=R[Na]||null)?FS(o.formAction):R.getAttribute("formAction"),o!==null&&(C=o,R=null));var $=new Om("action","action",null,p,N);i.push({event:$,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ki!==0){var G=R?US(N,R):new FormData(N);Eg(u,{pending:!0,data:G,method:N.method,action:C},null,G)}}else typeof C=="function"&&($.preventDefault(),G=R?US(N,R):new FormData(N),Eg(u,{pending:!0,data:G,method:N.method,action:C},C,G))},currentTarget:N}]})}}for(var u0=0;u0<Wx.length;u0++){var m0=Wx[u0],fT=m0.toLowerCase(),hT=m0[0].toUpperCase()+m0.slice(1);zr(fT,"on"+hT)}zr(vw,"onAnimationEnd"),zr(bw,"onAnimationIteration"),zr(jw,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(E_,"onTransitionRun"),zr(k_,"onTransitionStart"),zr(P_,"onTransitionCancel"),zr(Nw,"onTransitionEnd"),Co("onMouseEnter",["mouseout","mouseover"]),Co("onMouseLeave",["mouseout","mouseover"]),Co("onPointerEnter",["pointerout","pointerover"]),Co("onPointerLeave",["pointerout","pointerover"]),gl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gl("onBeforeInput",["compositionend","keypress","textInput","paste"]),gl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rd));function qS(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],N=p.event;p=p.listeners;e:{var C=void 0;if(o)for(var R=p.length-1;0<=R;R--){var $=p[R],G=$.instance,ce=$.currentTarget;if($=$.listener,G!==C&&N.isPropagationStopped())break e;C=$,N.currentTarget=ce;try{C(N)}catch(pe){Pm(pe)}N.currentTarget=null,C=G}else for(R=0;R<p.length;R++){if($=p[R],G=$.instance,ce=$.currentTarget,$=$.listener,G!==C&&N.isPropagationStopped())break e;C=$,N.currentTarget=ce;try{C(N)}catch(pe){Pm(pe)}N.currentTarget=null,C=G}}}}function xt(i,o){var u=o[Ax];u===void 0&&(u=o[Ax]=new Set);var p=i+"__bubble";u.has(p)||(HS(o,i,2,!1),u.add(p))}function f0(i,o,u){var p=0;o&&(p|=4),HS(u,i,p,o)}var vf="_reactListening"+Math.random().toString(36).slice(2);function h0(i){if(!i[vf]){i[vf]=!0,IN.forEach(function(u){u!=="selectionchange"&&(pT.has(u)||f0(u,!1,i),f0(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[vf]||(o[vf]=!0,f0("selectionchange",!1,o))}}function HS(i,o,u,p){switch(v5(o)){case 2:var N=qT;break;case 8:N=HT;break;default:N=O0}u=N.bind(null,o,u,i),N=void 0,!_x||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(N=!0),p?N!==void 0?i.addEventListener(o,u,{capture:!0,passive:N}):i.addEventListener(o,u,!0):N!==void 0?i.addEventListener(o,u,{passive:N}):i.addEventListener(o,u,!1)}function p0(i,o,u,p,N){var C=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var R=p.tag;if(R===3||R===4){var $=p.stateNode.containerInfo;if($===N)break;if(R===4)for(R=p.return;R!==null;){var G=R.tag;if((G===3||G===4)&&R.stateNode.containerInfo===N)return;R=R.return}for(;$!==null;){if(R=wo($),R===null)return;if(G=R.tag,G===5||G===6||G===26||G===27){p=C=R;continue e}$=$.parentNode}}p=p.return}GN(function(){var ce=C,pe=Px(u),ve=[];e:{var de=ww.get(i);if(de!==void 0){var me=Om,Te=i;switch(i){case"keypress":if(Mm(u)===0)break e;case"keydown":case"keyup":me=o_;break;case"focusin":Te="focus",me=zx;break;case"focusout":Te="blur",me=zx;break;case"beforeblur":case"afterblur":me=zx;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=QN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Z6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=u_;break;case vw:case bw:case jw:me=J6;break;case Nw:me=f_;break;case"scroll":case"scrollend":me=Y6;break;case"wheel":me=p_;break;case"copy":case"cut":case"paste":me=t_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=ew;break;case"toggle":case"beforetoggle":me=g_}var Ve=(o&4)!==0,Ht=!Ve&&(i==="scroll"||i==="scrollend"),re=Ve?de!==null?de+"Capture":null:de;Ve=[];for(var Q=ce,oe;Q!==null;){var ye=Q;if(oe=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||oe===null||re===null||(ye=td(Q,re),ye!=null&&Ve.push(_d(Q,ye,oe))),Ht)break;Q=Q.return}0<Ve.length&&(de=new me(de,Te,null,u,pe),ve.push({event:de,listeners:Ve}))}}if((o&7)===0){e:{if(de=i==="mouseover"||i==="pointerover",me=i==="mouseout"||i==="pointerout",de&&u!==kx&&(Te=u.relatedTarget||u.fromElement)&&(wo(Te)||Te[No]))break e;if((me||de)&&(de=pe.window===pe?pe:(de=pe.ownerDocument)?de.defaultView||de.parentWindow:window,me?(Te=u.relatedTarget||u.toElement,me=ce,Te=Te?wo(Te):null,Te!==null&&(Ht=l(Te),Ve=Te.tag,Te!==Ht||Ve!==5&&Ve!==27&&Ve!==6)&&(Te=null)):(me=null,Te=ce),me!==Te)){if(Ve=QN,ye="onMouseLeave",re="onMouseEnter",Q="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=ew,ye="onPointerLeave",re="onPointerEnter",Q="pointer"),Ht=me==null?de:ed(me),oe=Te==null?de:ed(Te),de=new Ve(ye,Q+"leave",me,u,pe),de.target=Ht,de.relatedTarget=oe,ye=null,wo(pe)===ce&&(Ve=new Ve(re,Q+"enter",Te,u,pe),Ve.target=oe,Ve.relatedTarget=Ht,ye=Ve),Ht=ye,me&&Te)t:{for(Ve=xT,re=me,Q=Te,oe=0,ye=re;ye;ye=Ve(ye))oe++;ye=0;for(var qe=Q;qe;qe=Ve(qe))ye++;for(;0<oe-ye;)re=Ve(re),oe--;for(;0<ye-oe;)Q=Ve(Q),ye--;for(;oe--;){if(re===Q||Q!==null&&re===Q.alternate){Ve=re;break t}re=Ve(re),Q=Ve(Q)}Ve=null}else Ve=null;me!==null&&VS(ve,de,me,Ve,!1),Te!==null&&Ht!==null&&VS(ve,Ht,Te,Ve,!0)}}e:{if(de=ce?ed(ce):window,me=de.nodeName&&de.nodeName.toLowerCase(),me==="select"||me==="input"&&de.type==="file")var Dt=ow;else if(iw(de))if(cw)Dt=M_;else{Dt=A_;var Ie=S_}else me=de.nodeName,!me||me.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ce&&Ex(ce.elementType)&&(Dt=ow):Dt=C_;if(Dt&&(Dt=Dt(i,ce))){lw(ve,Dt,u,pe);break e}Ie&&Ie(i,de,ce),i==="focusout"&&ce&&de.type==="number"&&ce.memoizedProps.value!=null&&Ox(de,"number",de.value)}switch(Ie=ce?ed(ce):window,i){case"focusin":(iw(Ie)||Ie.contentEditable==="true")&&(Po=Ie,Hx=ce,cd=null);break;case"focusout":cd=Hx=Po=null;break;case"mousedown":Vx=!0;break;case"contextmenu":case"mouseup":case"dragend":Vx=!1,gw(ve,u,pe);break;case"selectionchange":if(O_)break;case"keydown":case"keyup":gw(ve,u,pe)}var ot;if(Bx)e:{switch(i){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else ko?rw(i,u)&&(yt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(yt="onCompositionStart");yt&&(tw&&u.locale!=="ko"&&(ko||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&ko&&(ot=ZN()):(Ei=pe,Tx="value"in Ei?Ei.value:Ei.textContent,ko=!0)),Ie=bf(ce,yt),0<Ie.length&&(yt=new JN(yt,i,null,u,pe),ve.push({event:yt,listeners:Ie}),ot?yt.data=ot:(ot=sw(u),ot!==null&&(yt.data=ot)))),(ot=v_?b_(i,u):j_(i,u))&&(yt=bf(ce,"onBeforeInput"),0<yt.length&&(Ie=new JN("onBeforeInput","beforeinput",null,u,pe),ve.push({event:Ie,listeners:yt}),Ie.data=ot)),mT(ve,i,ce,u,pe)}qS(ve,o)})}function _d(i,o,u){return{instance:i,listener:o,currentTarget:u}}function bf(i,o){for(var u=o+"Capture",p=[];i!==null;){var N=i,C=N.stateNode;if(N=N.tag,N!==5&&N!==26&&N!==27||C===null||(N=td(i,u),N!=null&&p.unshift(_d(i,N,C)),N=td(i,o),N!=null&&p.push(_d(i,N,C))),i.tag===3)return p;i=i.return}return[]}function xT(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function VS(i,o,u,p,N){for(var C=o._reactName,R=[];u!==null&&u!==p;){var $=u,G=$.alternate,ce=$.stateNode;if($=$.tag,G!==null&&G===p)break;$!==5&&$!==26&&$!==27||ce===null||(G=ce,N?(ce=td(u,C),ce!=null&&R.unshift(_d(u,ce,G))):N||(ce=td(u,C),ce!=null&&R.push(_d(u,ce,G)))),u=u.return}R.length!==0&&i.push({event:o,listeners:R})}var gT=/\r\n?/g,yT=/\u0000|\uFFFD/g;function KS(i){return(typeof i=="string"?i:""+i).replace(gT,`
`).replace(yT,"")}function WS(i,o){return o=KS(o),KS(i)===o}function qt(i,o,u,p,N,C){switch(u){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Do(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Do(i,""+p);break;case"className":wm(i,"class",p);break;case"tabIndex":wm(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":wm(i,u,p);break;case"style":WN(i,p,C);break;case"data":if(o!=="object"){wm(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(u);break}p=Am(""+p),i.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(u==="formAction"?(o!=="input"&&qt(i,o,"name",N.name,N,null),qt(i,o,"formEncType",N.formEncType,N,null),qt(i,o,"formMethod",N.formMethod,N,null),qt(i,o,"formTarget",N.formTarget,N,null)):(qt(i,o,"encType",N.encType,N,null),qt(i,o,"method",N.method,N,null),qt(i,o,"target",N.target,N,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(u);break}p=Am(""+p),i.setAttribute(u,p);break;case"onClick":p!=null&&(i.onclick=Os);break;case"onScroll":p!=null&&xt("scroll",i);break;case"onScrollEnd":p!=null&&xt("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(N.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}u=Am(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,""+p):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":p===!0?i.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,p):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(u,p):i.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(u):i.setAttribute(u,p);break;case"popover":xt("beforetoggle",i),xt("toggle",i),Nm(i,"popover",p);break;case"xlinkActuate":Ds(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Ds(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Ds(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Ds(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Ds(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Ds(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Ds(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Ds(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Ds(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Nm(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=K6.get(u)||u,Nm(i,u,p))}}function x0(i,o,u,p,N,C){switch(u){case"style":WN(i,p,C);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(N.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof p=="string"?Do(i,p):(typeof p=="number"||typeof p=="bigint")&&Do(i,""+p);break;case"onScroll":p!=null&&xt("scroll",i);break;case"onScrollEnd":p!=null&&xt("scrollend",i);break;case"onClick":p!=null&&(i.onclick=Os);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zN.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(N=u.endsWith("Capture"),o=u.slice(2,N?u.length-7:void 0),C=i[Na]||null,C=C!=null?C[u]:null,typeof C=="function"&&i.removeEventListener(o,C,N),typeof p=="function")){typeof C!="function"&&C!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,p,N);break e}u in i?i[u]=p:p===!0?i.setAttribute(u,""):Nm(i,u,p)}}}function ia(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",i),xt("load",i);var p=!1,N=!1,C;for(C in u)if(u.hasOwnProperty(C)){var R=u[C];if(R!=null)switch(C){case"src":p=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:qt(i,o,C,R,u,null)}}N&&qt(i,o,"srcSet",u.srcSet,u,null),p&&qt(i,o,"src",u.src,u,null);return;case"input":xt("invalid",i);var $=C=R=N=null,G=null,ce=null;for(p in u)if(u.hasOwnProperty(p)){var pe=u[p];if(pe!=null)switch(p){case"name":N=pe;break;case"type":R=pe;break;case"checked":G=pe;break;case"defaultChecked":ce=pe;break;case"value":C=pe;break;case"defaultValue":$=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,o));break;default:qt(i,o,p,pe,u,null)}}qN(i,C,$,G,ce,R,N,!1);return;case"select":xt("invalid",i),p=R=C=null;for(N in u)if(u.hasOwnProperty(N)&&($=u[N],$!=null))switch(N){case"value":C=$;break;case"defaultValue":R=$;break;case"multiple":p=$;default:qt(i,o,N,$,u,null)}o=C,u=R,i.multiple=!!p,o!=null?Mo(i,!!p,o,!1):u!=null&&Mo(i,!!p,u,!0);return;case"textarea":xt("invalid",i),C=N=p=null;for(R in u)if(u.hasOwnProperty(R)&&($=u[R],$!=null))switch(R){case"value":p=$;break;case"defaultValue":N=$;break;case"children":C=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:qt(i,o,R,$,u,null)}VN(i,p,N,C);return;case"option":for(G in u)if(u.hasOwnProperty(G)&&(p=u[G],p!=null))switch(G){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:qt(i,o,G,p,u,null)}return;case"dialog":xt("beforetoggle",i),xt("toggle",i),xt("cancel",i),xt("close",i);break;case"iframe":case"object":xt("load",i);break;case"video":case"audio":for(p=0;p<Rd.length;p++)xt(Rd[p],i);break;case"image":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"embed":case"source":case"link":xt("error",i),xt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in u)if(u.hasOwnProperty(ce)&&(p=u[ce],p!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:qt(i,o,ce,p,u,null)}return;default:if(Ex(o)){for(pe in u)u.hasOwnProperty(pe)&&(p=u[pe],p!==void 0&&x0(i,o,pe,p,u,void 0));return}}for($ in u)u.hasOwnProperty($)&&(p=u[$],p!=null&&qt(i,o,$,p,u,null))}function vT(i,o,u,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,C=null,R=null,$=null,G=null,ce=null,pe=null;for(me in u){var ve=u[me];if(u.hasOwnProperty(me)&&ve!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":G=ve;default:p.hasOwnProperty(me)||qt(i,o,me,null,p,ve)}}for(var de in p){var me=p[de];if(ve=u[de],p.hasOwnProperty(de)&&(me!=null||ve!=null))switch(de){case"type":C=me;break;case"name":N=me;break;case"checked":ce=me;break;case"defaultChecked":pe=me;break;case"value":R=me;break;case"defaultValue":$=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,o));break;default:me!==ve&&qt(i,o,de,me,p,ve)}}Dx(i,R,$,G,ce,pe,C,N);return;case"select":me=R=$=de=null;for(C in u)if(G=u[C],u.hasOwnProperty(C)&&G!=null)switch(C){case"value":break;case"multiple":me=G;default:p.hasOwnProperty(C)||qt(i,o,C,null,p,G)}for(N in p)if(C=p[N],G=u[N],p.hasOwnProperty(N)&&(C!=null||G!=null))switch(N){case"value":de=C;break;case"defaultValue":$=C;break;case"multiple":R=C;default:C!==G&&qt(i,o,N,C,p,G)}o=$,u=R,p=me,de!=null?Mo(i,!!u,de,!1):!!p!=!!u&&(o!=null?Mo(i,!!u,o,!0):Mo(i,!!u,u?[]:"",!1));return;case"textarea":me=de=null;for($ in u)if(N=u[$],u.hasOwnProperty($)&&N!=null&&!p.hasOwnProperty($))switch($){case"value":break;case"children":break;default:qt(i,o,$,null,p,N)}for(R in p)if(N=p[R],C=u[R],p.hasOwnProperty(R)&&(N!=null||C!=null))switch(R){case"value":de=N;break;case"defaultValue":me=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:N!==C&&qt(i,o,R,N,p,C)}HN(i,de,me);return;case"option":for(var Te in u)if(de=u[Te],u.hasOwnProperty(Te)&&de!=null&&!p.hasOwnProperty(Te))switch(Te){case"selected":i.selected=!1;break;default:qt(i,o,Te,null,p,de)}for(G in p)if(de=p[G],me=u[G],p.hasOwnProperty(G)&&de!==me&&(de!=null||me!=null))switch(G){case"selected":i.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:qt(i,o,G,de,p,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in u)de=u[Ve],u.hasOwnProperty(Ve)&&de!=null&&!p.hasOwnProperty(Ve)&&qt(i,o,Ve,null,p,de);for(ce in p)if(de=p[ce],me=u[ce],p.hasOwnProperty(ce)&&de!==me&&(de!=null||me!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:qt(i,o,ce,de,p,me)}return;default:if(Ex(o)){for(var Ht in u)de=u[Ht],u.hasOwnProperty(Ht)&&de!==void 0&&!p.hasOwnProperty(Ht)&&x0(i,o,Ht,void 0,p,de);for(pe in p)de=p[pe],me=u[pe],!p.hasOwnProperty(pe)||de===me||de===void 0&&me===void 0||x0(i,o,pe,de,p,me);return}}for(var re in u)de=u[re],u.hasOwnProperty(re)&&de!=null&&!p.hasOwnProperty(re)&&qt(i,o,re,null,p,de);for(ve in p)de=p[ve],me=u[ve],!p.hasOwnProperty(ve)||de===me||de==null&&me==null||qt(i,o,ve,de,p,me)}function YS(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bT(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var N=u[p],C=N.transferSize,R=N.initiatorType,$=N.duration;if(C&&$&&YS(R)){for(R=0,$=N.responseEnd,p+=1;p<u.length;p++){var G=u[p],ce=G.startTime;if(ce>$)break;var pe=G.transferSize,ve=G.initiatorType;pe&&YS(ve)&&(G=G.responseEnd,R+=pe*(G<$?1:($-ce)/(G-ce)))}if(--p,o+=8*(C+R)/(N.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var g0=null,y0=null;function jf(i){return i.nodeType===9?i:i.ownerDocument}function GS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ZS(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function v0(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var b0=null;function jT(){var i=window.event;return i&&i.type==="popstate"?i===b0?!1:(b0=i,!0):(b0=null,!1)}var XS=typeof setTimeout=="function"?setTimeout:void 0,NT=typeof clearTimeout=="function"?clearTimeout:void 0,QS=typeof Promise=="function"?Promise:void 0,wT=typeof queueMicrotask=="function"?queueMicrotask:typeof QS<"u"?function(i){return QS.resolve(null).then(i).catch(ST)}:XS;function ST(i){setTimeout(function(){throw i})}function Wi(i){return i==="head"}function JS(i,o){var u=o,p=0;do{var N=u.nextSibling;if(i.removeChild(u),N&&N.nodeType===8)if(u=N.data,u==="/$"||u==="/&"){if(p===0){i.removeChild(N),sc(o);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")Td(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Td(u);for(var C=u.firstChild;C;){var R=C.nextSibling,$=C.nodeName;C[Jc]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&C.rel.toLowerCase()==="stylesheet"||u.removeChild(C),C=R}}else u==="body"&&Td(i.ownerDocument.body);u=N}while(u);sc(o)}function e5(i,o){var u=i;i=0;do{var p=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=p}while(u)}function j0(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":j0(u),Cx(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function AT(i,o,u,p){for(;i.nodeType===1;){var N=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[Jc])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(C=i.getAttribute("rel"),C==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(C!==N.rel||i.getAttribute("href")!==(N.href==null||N.href===""?null:N.href)||i.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||i.getAttribute("title")!==(N.title==null?null:N.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(C=i.getAttribute("src"),(C!==(N.src==null?null:N.src)||i.getAttribute("type")!==(N.type==null?null:N.type)||i.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&C&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var C=N.name==null?null:""+N.name;if(N.type==="hidden"&&i.getAttribute("name")===C)return i}else return i;if(i=vr(i.nextSibling),i===null)break}return null}function CT(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=vr(i.nextSibling),i===null))return null;return i}function t5(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=vr(i.nextSibling),i===null))return null;return i}function N0(i){return i.data==="$?"||i.data==="$~"}function w0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function MT(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var p=function(){o(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function vr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var S0=null;function n5(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return vr(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function a5(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function r5(i,o,u){switch(o=jf(u),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Td(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Cx(i)}var br=new Map,s5=new Set;function Nf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Vs=B.d;B.d={f:DT,r:OT,D:ET,C:kT,L:PT,m:RT,X:TT,S:_T,M:LT};function DT(){var i=Vs.f(),o=ff();return i||o}function OT(i){var o=So(i);o!==null&&o.tag===5&&o.type==="form"?N2(o):Vs.r(i)}var nc=typeof document>"u"?null:document;function i5(i,o,u){var p=nc;if(p&&typeof o=="string"&&o){var N=mr(o);N='link[rel="'+i+'"][href="'+N+'"]',typeof u=="string"&&(N+='[crossorigin="'+u+'"]'),s5.has(N)||(s5.add(N),i={rel:i,crossOrigin:u,href:o},p.querySelector(N)===null&&(o=p.createElement("link"),ia(o,"link",i),Kn(o),p.head.appendChild(o)))}}function ET(i){Vs.D(i),i5("dns-prefetch",i,null)}function kT(i,o){Vs.C(i,o),i5("preconnect",i,o)}function PT(i,o,u){Vs.L(i,o,u);var p=nc;if(p&&i&&o){var N='link[rel="preload"][as="'+mr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(N+='[imagesrcset="'+mr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(N+='[imagesizes="'+mr(u.imageSizes)+'"]')):N+='[href="'+mr(i)+'"]';var C=N;switch(o){case"style":C=ac(i);break;case"script":C=rc(i)}br.has(C)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),br.set(C,i),p.querySelector(N)!==null||o==="style"&&p.querySelector(Ld(C))||o==="script"&&p.querySelector(Id(C))||(o=p.createElement("link"),ia(o,"link",i),Kn(o),p.head.appendChild(o)))}}function RT(i,o){Vs.m(i,o);var u=nc;if(u&&i){var p=o&&typeof o.as=="string"?o.as:"script",N='link[rel="modulepreload"][as="'+mr(p)+'"][href="'+mr(i)+'"]',C=N;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=rc(i)}if(!br.has(C)&&(i=g({rel:"modulepreload",href:i},o),br.set(C,i),u.querySelector(N)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Id(C)))return}p=u.createElement("link"),ia(p,"link",i),Kn(p),u.head.appendChild(p)}}}function _T(i,o,u){Vs.S(i,o,u);var p=nc;if(p&&i){var N=Ao(p).hoistableStyles,C=ac(i);o=o||"default";var R=N.get(C);if(!R){var $={loading:0,preload:null};if(R=p.querySelector(Ld(C)))$.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=br.get(C))&&A0(i,u);var G=R=p.createElement("link");Kn(G),ia(G,"link",i),G._p=new Promise(function(ce,pe){G.onload=ce,G.onerror=pe}),G.addEventListener("load",function(){$.loading|=1}),G.addEventListener("error",function(){$.loading|=2}),$.loading|=4,wf(R,o,p)}R={type:"stylesheet",instance:R,count:1,state:$},N.set(C,R)}}}function TT(i,o){Vs.X(i,o);var u=nc;if(u&&i){var p=Ao(u).hoistableScripts,N=rc(i),C=p.get(N);C||(C=u.querySelector(Id(N)),C||(i=g({src:i,async:!0},o),(o=br.get(N))&&C0(i,o),C=u.createElement("script"),Kn(C),ia(C,"link",i),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},p.set(N,C))}}function LT(i,o){Vs.M(i,o);var u=nc;if(u&&i){var p=Ao(u).hoistableScripts,N=rc(i),C=p.get(N);C||(C=u.querySelector(Id(N)),C||(i=g({src:i,async:!0,type:"module"},o),(o=br.get(N))&&C0(i,o),C=u.createElement("script"),Kn(C),ia(C,"link",i),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},p.set(N,C))}}function l5(i,o,u,p){var N=(N=se.current)?Nf(N):null;if(!N)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=ac(u.href),u=Ao(N).hoistableStyles,p=u.get(o),p||(p={type:"style",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=ac(u.href);var C=Ao(N).hoistableStyles,R=C.get(i);if(R||(N=N.ownerDocument||N,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(i,R),(C=N.querySelector(Ld(i)))&&!C._p&&(R.instance=C,R.state.loading=5),br.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},br.set(i,u),C||IT(N,i,u,R.state))),o&&p===null)throw Error(r(528,""));return R}if(o&&p!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=rc(u),u=Ao(N).hoistableScripts,p=u.get(o),p||(p={type:"script",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ac(i){return'href="'+mr(i)+'"'}function Ld(i){return'link[rel="stylesheet"]['+i+"]"}function o5(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function IT(i,o,u,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),ia(o,"link",u),Kn(o),i.head.appendChild(o))}function rc(i){return'[src="'+mr(i)+'"]'}function Id(i){return"script[async]"+i}function c5(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+mr(u.href)+'"]');if(p)return o.instance=p,Kn(p),p;var N=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),Kn(p),ia(p,"style",N),wf(p,u.precedence,i),o.instance=p;case"stylesheet":N=ac(u.href);var C=i.querySelector(Ld(N));if(C)return o.state.loading|=4,o.instance=C,Kn(C),C;p=o5(u),(N=br.get(N))&&A0(p,N),C=(i.ownerDocument||i).createElement("link"),Kn(C);var R=C;return R._p=new Promise(function($,G){R.onload=$,R.onerror=G}),ia(C,"link",p),o.state.loading|=4,wf(C,u.precedence,i),o.instance=C;case"script":return C=rc(u.src),(N=i.querySelector(Id(C)))?(o.instance=N,Kn(N),N):(p=u,(N=br.get(C))&&(p=g({},u),C0(p,N)),i=i.ownerDocument||i,N=i.createElement("script"),Kn(N),ia(N,"link",p),i.head.appendChild(N),o.instance=N);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,wf(p,u.precedence,i));return o.instance}function wf(i,o,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=p.length?p[p.length-1]:null,C=N,R=0;R<p.length;R++){var $=p[R];if($.dataset.precedence===o)C=$;else if(C!==N)break}C?C.parentNode.insertBefore(i,C.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function A0(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function C0(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Sf=null;function d5(i,o,u){if(Sf===null){var p=new Map,N=Sf=new Map;N.set(u,p)}else N=Sf,p=N.get(u),p||(p=new Map,N.set(u,p));if(p.has(i))return p;for(p.set(i,null),u=u.getElementsByTagName(i),N=0;N<u.length;N++){var C=u[N];if(!(C[Jc]||C[na]||i==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var R=C.getAttribute(o)||"";R=i+R;var $=p.get(R);$?$.push(C):p.set(R,[C])}}return p}function u5(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function zT(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function m5(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function $T(i,o,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var N=ac(p.href),C=o.querySelector(Ld(N));if(C){o=C._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Af.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=C,Kn(C);return}C=o.ownerDocument||o,p=o5(p),(N=br.get(N))&&A0(p,N),C=C.createElement("link"),Kn(C);var R=C;R._p=new Promise(function($,G){R.onload=$,R.onerror=G}),ia(C,"link",p),u.instance=C}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Af.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var M0=0;function BT(i,o){return i.stylesheets&&i.count===0&&Mf(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var p=setTimeout(function(){if(i.stylesheets&&Mf(i,i.stylesheets),i.unsuspend){var C=i.unsuspend;i.unsuspend=null,C()}},6e4+o);0<i.imgBytes&&M0===0&&(M0=62500*bT());var N=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Mf(i,i.stylesheets),i.unsuspend)){var C=i.unsuspend;i.unsuspend=null,C()}},(i.imgBytes>M0?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(N)}}:null}function Af(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Cf=null;function Mf(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Cf=new Map,o.forEach(FT,i),Cf=null,Af.call(i))}function FT(i,o){if(!(o.state.loading&4)){var u=Cf.get(i);if(u)var p=u.get(null);else{u=new Map,Cf.set(i,u);for(var N=i.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<N.length;C++){var R=N[C];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(u.set(R.dataset.precedence,R),p=R)}p&&u.set(null,p)}N=o.instance,R=N.getAttribute("data-precedence"),C=u.get(R)||p,C===p&&u.set(null,N),u.set(R,N),this.count++,p=Af.bind(this),N.addEventListener("load",p),N.addEventListener("error",p),C?C.parentNode.insertBefore(N,C.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(N,i.firstChild)),o.state.loading|=4}}var zd={$$typeof:A,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function UT(i,o,u,p,N,C,R,$,G){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xl(0),this.hiddenUpdates=xl(null),this.identifierPrefix=p,this.onUncaughtError=N,this.onCaughtError=C,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function f5(i,o,u,p,N,C,R,$,G,ce,pe,ve){return i=new UT(i,o,u,R,G,ce,pe,ve,$),o=1,C===!0&&(o|=24),C=Ha(3,null,null,o),i.current=C,C.stateNode=i,o=ig(),o.refCount++,i.pooledCache=o,o.refCount++,C.memoizedState={element:p,isDehydrated:u,cache:o},dg(C),i}function h5(i){return i?(i=To,i):To}function p5(i,o,u,p,N,C){N=h5(N),p.context===null?p.context=N:p.pendingContext=N,p=Li(o),p.payload={element:u},C=C===void 0?null:C,C!==null&&(p.callback=C),u=Ii(i,p,o),u!==null&&(Da(u,i,o),xd(u,i,o))}function x5(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function D0(i,o){x5(i,o),(i=i.alternate)&&x5(i,o)}function g5(i){if(i.tag===13||i.tag===31){var o=jl(i,67108864);o!==null&&Da(o,i,67108864),D0(i,67108864)}}function y5(i){if(i.tag===13||i.tag===31){var o=Ga();o=wx(o);var u=jl(i,o);u!==null&&Da(u,i,o),D0(i,o)}}var Df=!0;function qT(i,o,u,p){var N=V.T;V.T=null;var C=B.p;try{B.p=2,O0(i,o,u,p)}finally{B.p=C,V.T=N}}function HT(i,o,u,p){var N=V.T;V.T=null;var C=B.p;try{B.p=8,O0(i,o,u,p)}finally{B.p=C,V.T=N}}function O0(i,o,u,p){if(Df){var N=E0(p);if(N===null)p0(i,o,p,Of,u),b5(i,p);else if(KT(N,i,o,u,p))p.stopPropagation();else if(b5(i,p),o&4&&-1<VT.indexOf(i)){for(;N!==null;){var C=So(N);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var R=Vn(C.pendingLanes);if(R!==0){var $=C;for($.pendingLanes|=2,$.entangledLanes|=2;R;){var G=1<<31-Hn(R);$.entanglements[1]|=G,R&=~G}as(C),(kt&6)===0&&(uf=be()+500,Pd(0))}}break;case 31:case 13:$=jl(C,2),$!==null&&Da($,C,2),ff(),D0(C,2)}if(C=E0(p),C===null&&p0(i,o,p,Of,u),C===N)break;N=C}N!==null&&p.stopPropagation()}else p0(i,o,p,null,u)}}function E0(i){return i=Px(i),k0(i)}var Of=null;function k0(i){if(Of=null,i=wo(i),i!==null){var o=l(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=c(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Of=i,null}function v5(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(we()){case ke:return 2;case Ze:return 8;case rt:case Mn:return 32;case cr:return 268435456;default:return 32}default:return 32}}var P0=!1,Yi=null,Gi=null,Zi=null,$d=new Map,Bd=new Map,Xi=[],VT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b5(i,o){switch(i){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":$d.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bd.delete(o.pointerId)}}function Fd(i,o,u,p,N,C){return i===null||i.nativeEvent!==C?(i={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:C,targetContainers:[N]},o!==null&&(o=So(o),o!==null&&g5(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,N!==null&&o.indexOf(N)===-1&&o.push(N),i)}function KT(i,o,u,p,N){switch(o){case"focusin":return Yi=Fd(Yi,i,o,u,p,N),!0;case"dragenter":return Gi=Fd(Gi,i,o,u,p,N),!0;case"mouseover":return Zi=Fd(Zi,i,o,u,p,N),!0;case"pointerover":var C=N.pointerId;return $d.set(C,Fd($d.get(C)||null,i,o,u,p,N)),!0;case"gotpointercapture":return C=N.pointerId,Bd.set(C,Fd(Bd.get(C)||null,i,o,u,p,N)),!0}return!1}function j5(i){var o=wo(i.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){i.blockedOn=o,TN(i.priority,function(){y5(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,TN(i.priority,function(){y5(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ef(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=E0(i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);kx=p,u.target.dispatchEvent(p),kx=null}else return o=So(u),o!==null&&g5(o),i.blockedOn=u,!1;o.shift()}return!0}function N5(i,o,u){Ef(i)&&u.delete(o)}function WT(){P0=!1,Yi!==null&&Ef(Yi)&&(Yi=null),Gi!==null&&Ef(Gi)&&(Gi=null),Zi!==null&&Ef(Zi)&&(Zi=null),$d.forEach(N5),Bd.forEach(N5)}function kf(i,o){i.blockedOn===o&&(i.blockedOn=null,P0||(P0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,WT)))}var Pf=null;function w5(i){Pf!==i&&(Pf=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Pf===i&&(Pf=null);for(var o=0;o<i.length;o+=3){var u=i[o],p=i[o+1],N=i[o+2];if(typeof p!="function"){if(k0(p||u)===null)continue;break}var C=So(u);C!==null&&(i.splice(o,3),o-=3,Eg(C,{pending:!0,data:N,method:u.method,action:p},p,N))}}))}function sc(i){function o(G){return kf(G,i)}Yi!==null&&kf(Yi,i),Gi!==null&&kf(Gi,i),Zi!==null&&kf(Zi,i),$d.forEach(o),Bd.forEach(o);for(var u=0;u<Xi.length;u++){var p=Xi[u];p.blockedOn===i&&(p.blockedOn=null)}for(;0<Xi.length&&(u=Xi[0],u.blockedOn===null);)j5(u),u.blockedOn===null&&Xi.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var N=u[p],C=u[p+1],R=N[Na]||null;if(typeof C=="function")R||w5(u);else if(R){var $=null;if(C&&C.hasAttribute("formAction")){if(N=C,R=C[Na]||null)$=R.formAction;else if(k0(N)!==null)continue}else $=R.action;typeof $=="function"?u[p+1]=$:(u.splice(p,3),p-=3),w5(u)}}}function S5(){function i(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(R){return N=R})},focusReset:"manual",scroll:"manual"})}function o(){N!==null&&(N(),N=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,N=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),N!==null&&(N(),N=null)}}}function R0(i){this._internalRoot=i}Rf.prototype.render=R0.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,p=Ga();p5(u,p,i,o,null,null)},Rf.prototype.unmount=R0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;p5(i.current,2,null,i,null,null),ff(),o[No]=null}};function Rf(i){this._internalRoot=i}Rf.prototype.unstable_scheduleHydration=function(i){if(i){var o=_N();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Xi.length&&o!==0&&o<Xi[u].priority;u++);Xi.splice(u,0,i),u===0&&j5(i)}};var A5=t.version;if(A5!=="19.2.0")throw Error(r(527,A5,"19.2.0"));B.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var YT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{ta=_f.inject(YT),pn=_f}catch{}}return qd.createRoot=function(i,o){if(!s(i))throw Error(r(299));var u=!1,p="",N=P2,C=R2,R=_2;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(N=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError)),o=f5(i,1,!1,null,null,u,p,null,N,C,R,S5),i[No]=o.current,h0(i),new R0(o)},qd.hydrateRoot=function(i,o,u){if(!s(i))throw Error(r(299));var p=!1,N="",C=P2,R=R2,$=_2,G=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(N=u.identifierPrefix),u.onUncaughtError!==void 0&&(C=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&($=u.onRecoverableError),u.formState!==void 0&&(G=u.formState)),o=f5(i,1,!0,o,u??null,p,N,G,C,R,$,S5),o.context=h5(null),u=o.current,p=Ga(),p=wx(p),N=Li(p),N.callback=null,Ii(u,N,p),u=p,o.current.lanes=u,Ms(o,u),as(o),i[No]=o.current,h0(i),new Rf(o)},qd.version="19.2.0",qd}var P5;function RL(){if(P5)return T0.exports;P5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),T0.exports=PL(),T0.exports}var _L=RL();const TL=_r(_L);function LL(e,t){let a;try{a=e()}catch{return}return{getItem:s=>{var l;const c=m=>m===null?null:JSON.parse(m,void 0),d=(l=a.getItem(s))!=null?l:null;return d instanceof Promise?d.then(c):c(d)},setItem:(s,l)=>a.setItem(s,JSON.stringify(l,void 0)),removeItem:s=>a.removeItem(s)}}const Uv=e=>t=>{try{const a=e(t);return a instanceof Promise?a:{then(r){return Uv(r)(a)},catch(r){return this}}}catch(a){return{then(r){return this},catch(r){return Uv(r)(a)}}}},IL=(e,t)=>(a,r,s)=>{let l={storage:LL(()=>localStorage),partialize:b=>b,version:0,merge:(b,S)=>({...S,...b}),...t},c=!1;const d=new Set,m=new Set;let f=l.storage;if(!f)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),a(...b)},r,s);const h=()=>{const b=l.partialize({...r()});return f.setItem(l.name,{state:b,version:l.version})},g=s.setState;s.setState=(b,S)=>(g(b,S),h());const v=e((...b)=>(a(...b),h()),r,s);s.getInitialState=()=>v;let y;const j=()=>{var b,S;if(!f)return;c=!1,d.forEach(w=>{var A;return w((A=r())!=null?A:v)});const M=((S=l.onRehydrateStorage)==null?void 0:S.call(l,(b=r())!=null?b:v))||void 0;return Uv(f.getItem.bind(f))(l.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==l.version){if(l.migrate){const A=l.migrate(w.state,w.version);return A instanceof Promise?A.then(O=>[!0,O]):[!0,A]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var A;const[O,D]=w;if(y=l.merge(D,(A=r())!=null?A:v),a(y,!0),O)return h()}).then(()=>{M?.(y,void 0),y=r(),c=!0,m.forEach(w=>w(y))}).catch(w=>{M?.(void 0,w)})};return s.persist={setOptions:b=>{l={...l,...b},b.storage&&(f=b.storage)},clearStorage:()=>{f?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>j(),hasHydrated:()=>c,onHydrate:b=>(d.add(b),()=>{d.delete(b)}),onFinishHydration:b=>(m.add(b),()=>{m.delete(b)})},l.skipHydration||j(),y||v},MD=IL,_l={oric:{id:"u-oric",name:"ORIC Officer",email:"oric@cecos.edu.pk",avatar:null,roles:["oric"],primaryRole:"oric",department:"ORIC",faculty:"Research"},finance:{id:"u-finance",name:"Finance Officer",email:"finance@cecos.edu.pk",avatar:null,roles:["finance"],primaryRole:"finance",department:"Finance",faculty:"Administration"},admin:{id:"u-admin",name:"System Administrator",email:"admin@cecos.edu.pk",avatar:null,roles:["admin"],primaryRole:"admin",department:null,faculty:null},hr:{id:"u-hr",name:"Sarah Khan",email:"hr@cecos.edu.pk",avatar:null,roles:["hr","employee"],primaryRole:"hr",department:"Human Resources",faculty:"Administration"},president:{id:"u-president",name:"University President",email:"president@cecos.edu.pk",avatar:null,roles:["president","employee"],primaryRole:"president",department:"Executive Office",faculty:null},dean:{id:"u-dean",name:"Prof. Fatima Ali",email:"dean.computing@cecos.edu.pk",avatar:null,roles:["dean","employee"],primaryRole:"dean",department:"CS",faculty:"Computing"},hod:{id:"u-hod",name:"Dr. Imran Shah",email:"hod.cs@cecos.edu.pk",avatar:null,roles:["hod","employee"],primaryRole:"hod",department:"CS",faculty:"Computing"},employee:{id:"e1",name:"Alice Smith",email:"alice@cecos.edu.pk",avatar:null,roles:["employee"],primaryRole:"employee",department:"CS",faculty:"Computing",designation:"Senior Lecturer",employeeCode:"EMP001"},demo:{id:"u-demo",name:"Demo User",email:"demo@cecos.edu.pk",avatar:null,roles:["employee","hr","president","dean","hod","admin"],primaryRole:"employee",department:"CS",faculty:"Computing"},vc:{id:"u-vc",name:"Vice Chancellor",email:"vc@cecos.edu.pk",password:"password",avatar:null,roles:["vc","employee"],primaryRole:"vc",department:"Executive Office",faculty:null}},R5={admin:100,president:95,vc:85,dean:70,hod:60,hr:50,employee:10},nu={admin:"/admin",president:"/president",vc:"/vc",dean:"/dean",hod:"/hod",hr:"/hr",employee:"/employee",finance:"/finance/dashboard",oric:"/oric"},zl={admin:"Administrator",president:"President",vc:"Vice Chancellor",dean:"Dean",hod:"Head of Department",hr:"HR Manager",employee:"Employee",oric:"ORIC"},Qe=AD(MD((e,t)=>({user:null,activeRole:null,isAuthenticated:!1,login:(a,r)=>{const s=Object.keys(_l).find(l=>_l[l].email===a);if(s&&r){const l=_l[s];return e({user:l,activeRole:l.primaryRole,isAuthenticated:!0}),{success:!0,user:l,redirectTo:nu[l.primaryRole]}}if(_l[a.toLowerCase()]){const l=_l[a.toLowerCase()];return e({user:l,activeRole:l.primaryRole,isAuthenticated:!0}),{success:!0,user:l,redirectTo:nu[l.primaryRole]}}return{success:!1,error:"Invalid credentials"}},loginAsRole:a=>{const r=_l[a]||_l.demo;return e({user:{...r,primaryRole:a},activeRole:a,isAuthenticated:!0}),a==="finance"?"/finance/dashboard":nu[a]||"/employee"},logout:()=>{e({user:null,activeRole:null,isAuthenticated:!1})},switchRole:a=>{const{user:r}=t();return r&&r.roles.includes(a)?(e({activeRole:a}),nu[a]):null},hasRole:a=>{const{user:r}=t();return r?.roles?.includes(a)||!1},isRole:a=>t().activeRole===a,canAccess:a=>{const{activeRole:r}=t();return r?R5[r]>=R5[a]:!1},getAvailableRoles:()=>{const{user:a}=t();return a?.roles||[]},updateProfile:a=>{e(r=>({user:r.user?{...r.user,...a}:null}))}}),{name:"hrms-auth",partialize:e=>({user:e.user,activeRole:e.activeRole,isAuthenticated:e.isAuthenticated})}));function hh({className:e="",variant:t="full",size:a="md"}){const r={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-12 w-12",xl:"h-16 w-16"};return t==="icon"?n.jsxs("svg",{className:`${r[a]} ${e}`,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M32 4L8 16V28C8 43.5 17.5 57 32 60C46.5 57 56 43.5 56 28V16L32 4Z",fill:"#0066CC"}),n.jsx("path",{d:"M32 4L8 16V28C8 43.5 17.5 57 32 60C46.5 57 56 43.5 56 28V16L32 4Z",stroke:"#003366",strokeWidth:"1.5"}),n.jsx("path",{d:"M38 24C38 19.5817 34.4183 16 30 16C25.5817 16 22 19.5817 22 24V40C22 44.4183 25.5817 48 30 48C34.4183 48 38 44.4183 38 40",stroke:"#FF9900",strokeWidth:"4",strokeLinecap:"round"}),n.jsx("circle",{cx:"30",cy:"32",r:"3",fill:"white"}),n.jsx("path",{d:"M40 28L48 26L40 24",stroke:"#FF9900",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M40 32L48 30L40 28",stroke:"#FF9900",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):n.jsxs("div",{className:`flex items-center gap-3 ${e}`,children:[n.jsxs("svg",{className:"h-12 w-12",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M32 4L8 16V28C8 43.5 17.5 57 32 60C46.5 57 56 43.5 56 28V16L32 4Z",fill:"#800020"}),n.jsx("path",{d:"M32 4L8 16V28C8 43.5 17.5 57 32 60C46.5 57 56 43.5 56 28V16L32 4Z",stroke:"#001F3F",strokeWidth:"1.5"}),n.jsx("path",{d:"M38 24C38 19.5817 34.4183 16 30 16C25.5817 16 22 19.5817 22 24V40C22 44.4183 25.5817 48 30 48C34.4183 48 38 44.4183 38 40",stroke:"#D4AF37",strokeWidth:"4",strokeLinecap:"round"}),n.jsx("circle",{cx:"30",cy:"32",r:"3",fill:"white"}),n.jsx("path",{d:"M40 28L48 26L40 24",stroke:"#D4AF37",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M40 32L48 30L40 28",stroke:"#D4AF37",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-xl font-bold text-[#800020] leading-tight",children:"CECOS"}),n.jsx("span",{className:"text-xs font-semibold text-[#001F3F] leading-tight",children:"University, Peshawar"})]})]})}function Cn({icon:e,type:t="text",value:a,onChange:r,name:s,id:l,placeholder:c,className:d="",inputClassName:m="",iconClassName:f="",disabled:h,autoComplete:g,required:v,onBlur:y,onFocus:j,"aria-label":b,children:S}){return n.jsxs("div",{className:`relative ${d}`,children:[e&&n.jsx(e,{className:`input-icon ${f}`}),n.jsx("input",{type:t,name:s,id:l,value:a,onChange:r,placeholder:c,disabled:h,autoComplete:g,required:v,onBlur:y,onFocus:j,"aria-label":b,className:`input-with-icon ${m}`}),S]})}function X({children:e,onClick:t,variant:a="primary",size:r="md",className:s="",type:l="button",disabled:c=!1}){const d="inline-flex items-center justify-center gap-2 rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",m={xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},f={primary:"bg-linear-to-r from-[hsl(var(--color-primary))] to-[hsl(var(--color-secondary))] text-white hover:shadow-lg hover:shadow-[hsl(var(--color-primary)/0.3)] border border-transparent",secondary:"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 hover:border-gray-300 shadow-xs",outline:"bg-transparent border border-[hsl(var(--color-primary))] text-[hsl(var(--color-primary))] hover:bg-[hsl(var(--color-primary)/0.05)]",danger:"bg-red-600 text-white hover:bg-red-700 shadow-sm hover:shadow-red-200",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 hover:text-gray-900",success:"bg-green-600 text-white hover:bg-green-700 shadow-sm"};return n.jsx("button",{type:l,className:`${d} ${m[r]||m.md} ${f[a]||f.primary} ${s}`,onClick:t,disabled:c,children:e})}function zL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const ll=x.forwardRef(zL);function $L({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Wt=x.forwardRef($L);function BL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const DD=x.forwardRef(BL);function FL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const jc=x.forwardRef(FL);function UL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const lu=x.forwardRef(UL);function qL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const ij=x.forwardRef(qL);function HL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const gs=x.forwardRef(HL);function VL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const KL=x.forwardRef(VL);function WL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const pu=x.forwardRef(WL);function YL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}const lj=x.forwardRef(YL);function GL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const nr=x.forwardRef(GL);function ZL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const XL=x.forwardRef(ZL);function QL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Xr=x.forwardRef(QL);function JL({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const qv=x.forwardRef(JL);function e7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"}))}const OD=x.forwardRef(e7);function t7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const Xl=x.forwardRef(t7);function n7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const Xe=x.forwardRef(n7);function a7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const ED=x.forwardRef(a7);function r7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const $a=x.forwardRef(r7);function s7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"}))}const oj=x.forwardRef(s7);function i7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const cj=x.forwardRef(i7);function l7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"}))}const Hv=x.forwardRef(l7);function o7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Le=x.forwardRef(o7);function c7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const d7=x.forwardRef(c7);function u7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const kD=x.forwardRef(u7);function m7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const f7=x.forwardRef(m7);function h7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const p7=x.forwardRef(h7);function x7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const _5=x.forwardRef(x7);function g7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const li=x.forwardRef(g7);function y7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const ys=x.forwardRef(y7);function v7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Be=x.forwardRef(v7);function b7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Tr=x.forwardRef(b7);function j7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ar=x.forwardRef(j7);function N7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const xu=x.forwardRef(N7);function w7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const oi=x.forwardRef(w7);function S7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const ht=x.forwardRef(S7);function A7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Cr=x.forwardRef(A7);function C7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const PD=x.forwardRef(C7);function M7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const ph=x.forwardRef(M7);function D7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Jn=x.forwardRef(D7);function O7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const E7=x.forwardRef(O7);function k7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const dj=x.forwardRef(k7);function P7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const lo=x.forwardRef(P7);function R7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const zu=x.forwardRef(R7);function _7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const T7=x.forwardRef(_7);function L7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 3.75H6.912a2.25 2.25 0 0 0-2.15 1.588L2.35 13.177a2.25 2.25 0 0 0-.1.661V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 0 0-2.15-1.588H15M2.25 13.5h3.86a2.25 2.25 0 0 1 2.012 1.244l.256.512a2.25 2.25 0 0 0 2.013 1.244h3.218a2.25 2.25 0 0 0 2.013-1.244l.256-.512a2.25 2.25 0 0 1 2.013-1.244h3.859M12 3v8.25m0 0-3-3m3 3 3-3"}))}const I7=x.forwardRef(L7);function z7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const au=x.forwardRef(z7);function $7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const B7=x.forwardRef($7);function F7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const U7=x.forwardRef(F7);function q7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"}))}const T5=x.forwardRef(q7);function H7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const vp=x.forwardRef(H7);function V7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const RD=x.forwardRef(V7);function K7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const W7=x.forwardRef(K7);function Y7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const ci=x.forwardRef(Y7);function G7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const Z7=x.forwardRef(G7);function X7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 14.25 6-6m4.5-3.493V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185ZM9.75 9h.008v.008H9.75V9Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm4.125 4.5h.008v.008h-.008V13.5Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Q7=x.forwardRef(X7);function J7({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))}const L5=x.forwardRef(J7);function e8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const di=x.forwardRef(e8);function t8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const uj=x.forwardRef(t8);function n8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const bp=x.forwardRef(n8);function a8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Dr=x.forwardRef(a8);function r8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const ms=x.forwardRef(r8);function s8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M22 10.5h-6m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM4 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 10.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const _D=x.forwardRef(s8);function i8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const xh=x.forwardRef(i8);function l8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const $u=x.forwardRef(l8);function o8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const en=x.forwardRef(o8);function c8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Tt=x.forwardRef(c8);function d8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const jp=x.forwardRef(d8),u8={employee:$u,hr:ms,dean:ll,hod:Xl,president:qv,vc:qv,admin:Tr,finance:nr,oric:B7};function m8(){const e=rj(),t=XT(),[a,r]=x.useState(""),[s,l]=x.useState(""),[c,d]=x.useState(!1),[m,f]=x.useState(""),[h,g]=x.useState(!1),{login:v,loginAsRole:y}=Qe(),j=t.state?.from?.pathname||null,b=async M=>{M.preventDefault(),f(""),g(!0),await new Promise(A=>setTimeout(A,500));const w=v(a,s);w.success?e(j||w.redirectTo,{replace:!0}):f(w.error||"Invalid credentials"),g(!1)},S=async M=>{g(!0),await new Promise(A=>setTimeout(A,300));const w=y(M);e(w,{replace:!0}),g(!1)};return n.jsxs("div",{className:"min-h-screen flex",children:[n.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-linear-to-br from-[hsl(var(--cecos-maroon))] via-[hsl(var(--cecos-navy))] to-[hsl(345,100%,15%)]"}),n.jsxs("div",{className:"absolute inset-0 opacity-10",children:[n.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-white rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-[hsl(var(--cecos-gold))] rounded-full blur-3xl"})]}),n.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-12 xl:px-20 text-white",children:[n.jsx("div",{className:"mb-8",children:n.jsx(hh,{variant:"full",size:"xl",className:"text-white"})}),n.jsxs("h1",{className:"text-4xl xl:text-5xl font-bold mb-4 leading-tight",children:["Human Resource",n.jsx("br",{}),"Management System"]}),n.jsx("p",{className:"text-lg text-blue-100/80 max-w-md",children:"Streamline your HR operations with our comprehensive management platform. Manage employees, track attendance, process leaves, and handle payroll efficiently."}),n.jsxs("div",{className:"mt-12 grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"glass-dark rounded-xl p-4",children:[n.jsx("p",{className:"text-3xl font-bold text-white",children:"500+"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Employees"})]}),n.jsxs("div",{className:"glass-dark rounded-xl p-4",children:[n.jsx("p",{className:"text-3xl font-bold text-white",children:"6"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Faculties"})]}),n.jsxs("div",{className:"glass-dark rounded-xl p-4",children:[n.jsx("p",{className:"text-3xl font-bold text-white",children:"24"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Departments"})]}),n.jsxs("div",{className:"glass-dark rounded-xl p-4",children:[n.jsx("p",{className:"text-3xl font-bold text-white",children:"99%"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Uptime"})]})]})]})]}),n.jsx("div",{className:"flex-1 flex items-center justify-center p-6 sm:p-12 bg-gray-50",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"lg:hidden text-center mb-8",children:[n.jsx(hh,{variant:"full",size:"lg"}),n.jsx("p",{className:"mt-2 text-gray-500",children:"Human Resource Management System"})]}),n.jsxs("div",{className:"glass rounded-2xl p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Welcome Back"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Sign in to access your portal"})]}),n.jsxs("form",{onSubmit:b,className:"space-y-5",children:[m&&n.jsx("div",{className:"p-3 rounded-lg bg-red-50 border border-red-200 text-red-700 text-sm",children:m}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email Address"}),n.jsx(Cn,{type:"email",value:a,onChange:M=>r(M.target.value),placeholder:"you@cecos.edu.pk",inputClassName:"pr-4 py-2.5",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Password"}),n.jsx(Cn,{type:c?"text":"password",value:s,onChange:M=>l(M.target.value),placeholder:"",inputClassName:"pr-12 py-2.5",required:!0,children:n.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?n.jsx(E7,{className:"w-5 h-5"}):n.jsx(dj,{className:"w-5 h-5"})})})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-[hsl(var(--cecos-maroon))]"}),n.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),n.jsx("a",{href:"#",className:"text-[hsl(var(--cecos-maroon))] hover:underline",children:"Forgot password?"})]}),n.jsx(X,{type:"submit",className:"w-full py-2.5",disabled:h,children:h?n.jsxs("span",{className:"flex items-center justify-center gap-2",children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):n.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Sign In",n.jsx(lu,{className:"w-4 h-4"})]})})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-200"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-4 bg-gray-50 text-gray-500",children:"Demo Quick Access"})})]}),n.jsx("div",{className:"mt-6 grid grid-cols-2 sm:grid-cols-3 gap-3",children:["employee","hr","hod","dean","president","vc","admin","finance","oric"].map(M=>{const w=u8[M];return n.jsxs("button",{onClick:()=>S(M),disabled:h,className:"flex flex-col items-center gap-2 p-4 rounded-xl border border-gray-200 bg-white hover:border-[hsl(var(--cecos-maroon))] hover:shadow-md transition-all group disabled:opacity-50",children:[n.jsx("div",{className:"p-2 rounded-lg bg-gray-100 group-hover:bg-[hsl(var(--cecos-maroon)/0.1)] transition-colors",children:n.jsx(w,{className:"w-5 h-5 text-gray-600 group-hover:text-[hsl(var(--cecos-maroon))]"})}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:M==="finance"?"Finance":M==="oric"?"ORIC":zl[M]})]},M)})}),n.jsx("p",{className:"mt-4 text-center text-xs text-gray-400",children:"Click any role above for instant demo access"})]})]})})]})}function f8(){return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-20 h-20 rounded-full bg-red-100 flex items-center justify-center",children:n.jsx(Jn,{className:"w-12 h-12 text-red-600"})})}),n.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Page Not Found"}),n.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"The page you're looking for doesn't exist or has been moved."}),n.jsx(fn,{to:"/",children:n.jsxs(X,{className:"inline-flex items-center gap-2",children:[n.jsx(zu,{className:"w-5 h-5"}),"Back to Home"]})})]})})}function vi({portalKey:e,portalName:t,navItems:a=[],switchableRoles:r=[],children:s}){const l=rj(),[c,d]=x.useState(!1),[m,f]=x.useState(!1),{user:h,activeRole:g,logout:v,switchRole:y,getAvailableRoles:j}=Qe(),b=j().filter(w=>w!==g),S=()=>{v(),l("/login")},M=w=>{const A=y(w);A&&l(A),f(!1)};return n.jsxs("div",{"data-portal":e,className:"min-h-screen flex flex-col lg:flex-row bg-gray-50",children:[n.jsxs("aside",{className:"hidden lg:flex flex-col w-72 glass-dark fixed inset-y-0 left-0 z-30",children:[n.jsx("div",{className:"p-6 border-b border-white/10",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(hh,{variant:"icon",size:"md"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg font-bold text-white tracking-tight",children:t}),n.jsx("p",{className:"text-xs text-blue-200/80",children:"CECOS University"})]})]})}),n.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:a.map(({path:w,label:A,icon:O,end:D})=>n.jsxs(C5,{to:w,end:D,className:({isActive:k})=>`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 ${k?"bg-linear-to-r from-[hsl(var(--color-primary))] to-[hsl(var(--color-secondary))] text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[n.jsx(O,{className:"w-5 h-5 shrink-0"}),n.jsx("span",{children:A})]},w))}),n.jsxs("div",{className:"p-4 border-t border-white/10 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-linear-to-br from-[hsl(var(--color-primary))] to-[hsl(var(--color-secondary))] flex items-center justify-center text-white font-bold",children:h?.name?.charAt(0)||"U"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-white truncate",children:h?.name}),n.jsx("p",{className:"text-xs text-gray-400 truncate",children:zl[g]})]})]}),b.length>0&&n.jsxs("div",{className:"px-2",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2 px-2",children:"Switch Role"}),b.map(w=>n.jsxs("button",{onClick:()=>M(w),className:"w-full flex items-center gap-3 px-4 py-2 rounded-lg text-sm text-gray-400 hover:text-white hover:bg-white/5 transition-all",children:[n.jsx(Dr,{className:"w-4 h-4"}),n.jsx("span",{children:zl[w]})]},w))]}),n.jsxs("button",{onClick:S,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-all",children:[n.jsx(jc,{className:"w-5 h-5"}),n.jsx("span",{children:"Logout"})]})]})]}),n.jsxs("main",{className:"flex-1 lg:ml-72 flex flex-col min-h-screen",children:[n.jsxs("header",{className:"hidden lg:flex glass sticky top-0 z-20 px-8 py-4 items-center justify-between border-b border-gray-200/50",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Welcome back, ",h?.name?.split(" ")[0]]}),n.jsx("p",{className:"text-sm text-gray-500",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[n.jsx(Xr,{className:"w-6 h-6 text-gray-600"}),n.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>f(!m),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-linear-to-br from-[hsl(var(--color-primary))] to-[hsl(var(--color-secondary))] flex items-center justify-center text-white text-sm font-bold",children:h?.name?.charAt(0)||"U"}),n.jsx(kD,{className:"w-4 h-4 text-gray-600"})]}),m&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>f(!1)}),n.jsxs("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white shadow-lg ring-1 ring-black/5 z-20 py-2",children:[n.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:h?.name}),n.jsx("p",{className:"text-xs text-gray-500",children:h?.email})]}),b.length>0&&n.jsxs("div",{className:"py-2 border-b border-gray-100",children:[n.jsx("p",{className:"px-4 py-1 text-xs text-gray-400 uppercase",children:"Switch Role"}),b.map(w=>n.jsx("button",{onClick:()=>M(w),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50",children:zl[w]},w))]}),n.jsx("button",{onClick:S,className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50",children:"Sign out"})]})]})]})]})]}),n.jsxs("header",{className:"lg:hidden glass sticky top-0 z-30 px-4 py-3 flex items-center justify-between border-b border-gray-200/50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(hh,{variant:"icon",size:"sm"}),n.jsx("span",{className:"font-bold text-gray-900",children:t})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100",children:[n.jsx(Xr,{className:"w-5 h-5 text-gray-600"}),n.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),n.jsx("button",{onClick:()=>d(!0),className:"p-2 rounded-lg hover:bg-gray-100",children:n.jsx(XL,{className:"w-6 h-6 text-gray-700"})})]})]}),c&&n.jsxs("div",{className:"lg:hidden fixed inset-0 z-50",children:[n.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>d(!1)}),n.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-80 max-w-[85vw] glass-dark",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-linear-to-br from-[hsl(var(--color-primary))] to-[hsl(var(--color-secondary))] flex items-center justify-center text-white font-bold",children:h?.name?.charAt(0)||"U"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-white",children:h?.name}),n.jsx("p",{className:"text-xs text-gray-400",children:zl[g]})]})]}),n.jsx("button",{onClick:()=>d(!1),className:"p-2 text-gray-400",children:n.jsx(jp,{className:"w-6 h-6"})})]}),n.jsx("nav",{className:"p-4 space-y-1",children:a.map(({path:w,label:A,icon:O,end:D})=>n.jsxs(C5,{to:w,end:D,onClick:()=>d(!1),className:({isActive:k})=>`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all ${k?"bg-linear-to-r from-[hsl(var(--color-primary))] to-[hsl(var(--color-secondary))] text-white":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[n.jsx(O,{className:"w-5 h-5"}),n.jsx("span",{children:A})]},w))}),b.length>0&&n.jsxs("div",{className:"px-4 py-2 border-t border-white/10",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2 px-2",children:"Switch Role"}),b.map(w=>n.jsxs("button",{onClick:()=>{M(w),d(!1)},className:"w-full flex items-center gap-3 px-4 py-2 rounded-lg text-sm text-gray-400 hover:text-white hover:bg-white/5",children:[n.jsx(Dr,{className:"w-4 h-4"}),n.jsx("span",{children:zl[w]})]},w))]}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-white/10",children:n.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl text-sm font-medium text-red-400 hover:bg-red-500/10",children:[n.jsx(jc,{className:"w-5 h-5"}),n.jsx("span",{children:"Logout"})]})})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8",children:n.jsx("div",{className:"max-w-7xl mx-auto animate-fade-in",children:s||n.jsx(SD,{})})})]})]})}const h8=[{path:"/admin",label:"Dashboard",icon:zu,end:!0},{path:"/admin/users",label:"User Management",icon:en},{path:"/admin/settings",label:"System Settings",icon:Tr},{path:"/admin/audit",label:"Audit Logs",icon:ys}];function p8(){return n.jsx(vi,{portalKey:"admin",portalName:"Admin Portal",navItems:h8})}function x8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v16.19l6.22-6.22a.75.75 0 1 1 1.06 1.06l-7.5 7.5a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 1 1 1.06-1.06l6.22 6.22V3a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const g8=x.forwardRef(x8);function y8({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{fillRule:"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06l-6.22-6.22V21a.75.75 0 0 1-1.5 0V4.81l-6.22 6.22a.75.75 0 1 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const v8=x.forwardRef(y8);function wt({title:e,value:t,subtitle:a,icon:r,iconBg:s,color:l="default",trend:c,trendValue:d,trendLabel:m="vs last month",onClick:f,className:h=""}){const g={primary:"bg-[hsl(var(--color-primary))]",success:"bg-green-500",warning:"bg-amber-500",danger:"bg-red-500",default:"bg-blue-500",info:"bg-blue-500"},v=c>0||d&&d.startsWith("+"),y=c!==void 0||d,j=s||g[l]||g.default;return n.jsx("div",{className:`glass rounded-2xl p-4 sm:p-6 card-hover ${f?"cursor-pointer":""} ${h}`,onClick:f,children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500 mb-1 truncate",children:e}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 tracking-tight truncate",children:t}),a&&n.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1 truncate",children:a}),y&&n.jsxs("div",{className:"flex items-center gap-1 mt-2 sm:mt-3 flex-wrap",children:[n.jsxs("span",{className:`inline-flex items-center gap-0.5 text-xs font-medium px-2 py-0.5 rounded-full ${v?"text-green-700 bg-green-100":"text-red-700 bg-red-100"}`,children:[v?n.jsx(v8,{className:"w-3 h-3"}):n.jsx(g8,{className:"w-3 h-3"}),d||`${Math.abs(c)}%`]}),n.jsx("span",{className:"text-xs text-gray-400",children:m})]})]}),r&&n.jsx("div",{className:`p-2 sm:p-3 rounded-xl ${j} text-white shadow-lg shrink-0`,children:n.jsx(r,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})})}function K({title:e,subtitle:t,children:a,actions:r,className:s="",noPadding:l=!1}){return n.jsxs("div",{className:`glass rounded-2xl ${l?"":"p-4 sm:p-6"} card-hover ${s}`,children:[(e||r)&&n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4 sm:mb-6",children:[n.jsxs("div",{children:[e&&n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 tracking-tight",children:e}),t&&n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t})]}),r&&n.jsx("div",{className:"flex gap-2 sm:gap-3 flex-wrap",children:r})]}),n.jsx("div",{className:"text-gray-700",children:a})]})}const $e=new Date,Gt=e=>`${e}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,b8=(e,t=6)=>{const a=ue(e),r=cs(a,t*30);return q(r,"yyyy-MM-dd")},j8=e=>{if(!e)return{eligible:!1,reason:"Employee not found"};if(e.gender?.toLowerCase()!=="female")return{eligible:!1,reason:"Maternity leave is only available for female employees"};if(e.employmentStatus==="probation"){const t=e.probationEndDate;return t?{eligible:!1,reason:`You are currently on probation. Maternity leave will be available after probation ends on ${q(ue(t),"MMM d, yyyy")}`}:{eligible:!1,reason:"Maternity leave is not available during probation period. Only confirmed employees can apply."}}return{eligible:!0,reason:"Employee is eligible for maternity leave"}},N8=(e,t=q($e,"yyyy-MM-dd"))=>{if(!e)return{valid:!1,daysInAdvance:0,minRequired:60,reason:"Expected delivery date is required for maternity leave application"};const r=Zr(ue(e),ue(t));return r<60?{valid:!1,daysInAdvance:r,minRequired:60,reason:`Maternity leave requires at least 60 days advance notice. You have only ${r} days.`}:{valid:!0,daysInAdvance:r,minRequired:60,reason:`Valid application with ${r} days advance notice`}},fs={Computing:["CS","IT","SE","AI"],Engineering:["EE","ME","CE","CH"],Management:["BBA","MBA","HRM","Finance"],Sciences:["Physics","Chemistry","Mathematics","Biology"]},I5=Object.values(fs).flat(),w8=["Professor","Associate Professor","Assistant Professor","Senior Lecturer","Lecturer","Lab Engineer","Research Assistant","Administrative Officer","HR Manager","Registrar","Dean","HOD"],S8={"Research Assistant":"Lecturer",Lecturer:"Senior Lecturer","Senior Lecturer":"Assistant Professor","Assistant Professor":"Associate Professor","Associate Professor":"Professor","Lab Engineer":"Senior Lab Engineer","Administrative Officer":"Senior Administrative Officer"},Zs=[{id:"annual",name:"Annual Leave",days:30,color:"blue"},{id:"sick",name:"Sick Leave",days:10,color:"red"},{id:"casual",name:"Casual Leave",days:10,color:"purple"},{id:"maternity",name:"Maternity Leave",days:90,color:"pink",requiresDocuments:!1,genderRestriction:"female"},{id:"medical",name:"Medical Leave",days:30,color:"teal",requiresDocuments:!0,approvalFlow:["hod","vc","president"]},{id:"unpaid",name:"Unpaid Leave",days:0,color:"gray"}],A8=[{id:"marriage",name:"Marriage Leave",days:3,color:"green"},{id:"hajj",name:"Hajj Leave",days:30,color:"indigo"},{id:"umrah",name:"Umrah Leave",days:14,color:"indigo"},{id:"msphd",name:"MS/PhD Study Leave",days:60,color:"orange"},{id:"other",name:"Other Complementary Leave",days:5,color:"gray"}],Tf=[{id:"applied",name:"Applied"},{id:"screening",name:"Screening"},{id:"shortlisted",name:"Shortlisted"},{id:"technical",name:"Technical Interview"},{id:"panel",name:"Panel"},{id:"selection_board",name:"Selection Board"},{id:"offer",name:"Offer"},{id:"hired",name:"Hired"},{id:"rejected",name:"Rejected"}],lh={defaultMembers:["hod","dean","hr"],requiredApprovals:2,checklist:["Qualification verification","Experience validation","Salary fitment and grade check","Reference check initiated"]},C8=[{id:"reason",question:"Primary reason for leaving",type:"select",options:["Better Opportunity","Personal Reasons","Relocation","Health Issues","Career Change","Retirement","Higher Studies","Other"]},{id:"satisfaction",question:"Overall job satisfaction (1-5)",type:"rating"},{id:"management",question:"Management satisfaction (1-5)",type:"rating"},{id:"workEnvironment",question:"Work environment satisfaction (1-5)",type:"rating"},{id:"growth",question:"Career growth opportunities (1-5)",type:"rating"},{id:"wouldRecommend",question:"Would you recommend CECOS to others?",type:"boolean"},{id:"wouldReturn",question:"Would you consider returning in the future?",type:"boolean"},{id:"feedback",question:"Additional feedback or suggestions",type:"textarea"}],M8=[{id:"e1",code:"EMP001",name:"Alice Smith",email:"alice@cecos.edu.pk",phone:"+92-321-1234567",gender:"female",department:"CS",faculty:"Computing",designation:"Senior Lecturer",joinDate:"2022-06-01",employmentStatus:"confirmed",status:"Active",salaryBase:12e4,bankAccount:"HBL-123456789",cnic:"17301-1234567-1",address:"123 University Road, Peshawar",emergencyContact:"+92-321-9876543",leaveBalance:{annual:18,sick:8,casual:8,medical:30},dependents:[],qualifications:[],publications:[]},{id:"e2",code:"EMP002",name:"Bob Ahmed",email:"bob@cecos.edu.pk",phone:"+92-333-2345678",gender:"male",department:"HRM",faculty:"Management",designation:"HR Manager",joinDate:"2021-07-15",employmentStatus:"confirmed",status:"Active",salaryBase:15e4,bankAccount:"MCB-987654321",cnic:"17301-2345678-2",address:"456 Hayatabad, Peshawar",emergencyContact:"+92-333-8765432",leaveBalance:{annual:20,sick:10,casual:10,medical:30},dependents:[],qualifications:[],publications:[]},{id:"e3",code:"EMP003",name:"Dr. Diana Prince",email:"diana@cecos.edu.pk",phone:"+92-300-3456789",gender:"female",department:"BBA",faculty:"Management",designation:"Associate Professor",joinDate:"2020-08-01",employmentStatus:"confirmed",status:"Active",salaryBase:2e5,bankAccount:"UBL-456789123",cnic:"17301-3456789-3",address:"789 University Town, Peshawar",emergencyContact:"+92-300-9876543",leaveBalance:{annual:15,sick:8,casual:5,medical:30},dependents:[],qualifications:[],publications:[]},{id:"e4",code:"EMP004",name:"Prof. Rashid Ali",email:"rashid@cecos.edu.pk",phone:"+92-311-4567890",gender:"male",department:"CS",faculty:"Computing",designation:"Professor",joinDate:"2019-01-10",employmentStatus:"confirmed",status:"Active",salaryBase:25e4,bankAccount:"ABL-321654987",cnic:"17301-4567890-4",address:"101 Saddar, Peshawar",emergencyContact:"+92-311-6543210",leaveBalance:{annual:5,sick:12,casual:4,medical:30},dependents:[],qualifications:[],publications:[]},{id:"e5",code:"EMP005",name:"Eng. Faraz Khan",email:"faraz@cecos.edu.pk",phone:"+92-322-5678901",gender:"male",department:"EE",faculty:"Engineering",designation:"Lab Engineer",joinDate:"2023-03-15",employmentStatus:"probation",probationEndDate:"2023-09-15",status:"Active",salaryBase:8e4,bankAccount:"HBL-789456123",cnic:"17301-5678901-5",address:"202 Cantt, Peshawar",emergencyContact:"+92-300-1098765",leaveBalance:{annual:20,sick:12,casual:10,medical:30},dependents:[],qualifications:[],publications:[]},{id:"e6",code:"EMP006",name:"Sana Malik",email:"sana@cecos.edu.pk",phone:"+92-333-6789012",gender:"female",department:"Physics",faculty:"Sciences",designation:"Lecturer",joinDate:"2024-01-20",employmentStatus:"probation",probationEndDate:"2024-07-20",status:"Active",salaryBase:9e4,bankAccount:"MCB-654987321",cnic:"17301-6789012-6",address:"303 Cantt, Peshawar",emergencyContact:"+92-322-2109876",leaveBalance:{annual:20,sick:12,casual:10,medical:30},dependents:[],qualifications:[],publications:[]}],Vv=M8.map((e,t)=>{const a=e.joinDate||q($e,"yyyy-MM-dd"),r=e.salaryBase||0,s=[{id:Gt("sal"),type:"base",amount:r,previousAmount:null,reason:"Joining salary",effectiveDate:a,reference:"joining",createdAt:a}],l=[{id:Gt("life"),type:"joining",title:"Joining",effectiveDate:a,meta:{designation:e.designation,salary:r},createdAt:a}];return{...e,salaryBase:r,salaryHistory:e.salaryHistory||s,lifecycle:e.lifecycle||l,contract:e.contract||{status:"active",startDate:a,endDate:e.contractEndDate||null,renewals:[]},version:e.version||1,lastUpdated:e.lastUpdated||a}});function z5(){const e=[],t=["Present","Present","Present","Late","Absent"];return Vv.forEach(a=>{for(let r=0;r<30;r++){const s=q(nt($e,r),"yyyy-MM-dd"),l=nt($e,r).getDay();if(l===0||l===6)continue;const c=t[Math.floor(Math.random()*t.length)],d=c==="Absent"?null:`08:${15+Math.floor(Math.random()*30)}`,m=c==="Absent"?null:`17:${45+Math.floor(Math.random()*15)}`;e.push({id:`att-${a.id}-${s}`,employeeId:a.id,date:s,clockIn:d,clockOut:m,status:c,workHours:c==="Absent"?0:8+Math.random()})}}),e}const $5=[{id:"l1",employeeId:"e1",employeeName:"Alice Smith",department:"CS",faculty:"Computing",type:"annual",startDate:q(nt($e,5),"yyyy-MM-dd"),endDate:q(nt($e,3),"yyyy-MM-dd"),days:3,reason:"Family vacation",status:"Approved",appliedOn:q(nt($e,10),"yyyy-MM-dd"),reviewedBy:"Dr. HOD",reviewedOn:q(nt($e,8),"yyyy-MM-dd"),paidDays:null,unpaidDays:null,leaveCategory:null,approvalChain:[{role:"hod",status:"approved",by:"Dr. HOD",date:q(nt($e,8),"yyyy-MM-dd"),comment:null},{role:"dean",status:"approved",by:"Prof. Dean",date:q(nt($e,7),"yyyy-MM-dd"),comment:null},{role:"hr",status:"approved",by:"HR Manager",date:q(nt($e,6),"yyyy-MM-dd"),comment:null}]},{id:"l2",employeeId:"e3",employeeName:"Dr. Diana Prince",department:"BBA",faculty:"Management",type:"medical",startDate:q(nt($e,12),"yyyy-MM-dd"),endDate:q(nt($e,8),"yyyy-MM-dd"),days:5,reason:"Medical procedure",status:"Approved",appliedOn:q(nt($e,15),"yyyy-MM-dd"),reviewedBy:"President",reviewedOn:q(nt($e,5),"yyyy-MM-dd"),paidDays:3,unpaidDays:2,leaveCategory:"medical",documents:[{id:"doc1",name:"Medical Certificate.pdf",file:"/mock/medical-cert.pdf",size:125e3,uploadedAt:q(nt($e,15),"yyyy-MM-dd")}],approvalChain:[{role:"hod",status:"approved",by:"Dr. HOD",date:q(nt($e,14),"yyyy-MM-dd"),comment:"Medical documents verified"},{role:"vc",status:"approved",by:"Vice Chancellor",date:q(nt($e,10),"yyyy-MM-dd"),comment:"Recommended for approval"},{role:"president",status:"approved",by:"President",date:q(nt($e,5),"yyyy-MM-dd"),comment:"Approved",paidDays:3,unpaidDays:2,leaveCategory:"medical"}]},{id:"l3",employeeId:"e4",employeeName:"Prof. Rashid Ali",department:"CS",faculty:"Computing",type:"sick",startDate:q(nt($e,4),"yyyy-MM-dd"),endDate:q(nt($e,2),"yyyy-MM-dd"),days:3,reason:"Flu",status:"Pending",appliedOn:q(nt($e,5),"yyyy-MM-dd"),paidDays:null,unpaidDays:null,leaveCategory:null,approvalChain:[{role:"hod",status:"pending",by:null,date:null,comment:null},{role:"dean",status:"pending",by:null,date:null,comment:null},{role:"hr",status:"pending",by:null,date:null,comment:null}]}],B5=[],F5=[{id:"n1",userId:"all",title:"System Maintenance",message:"The HR system will be under maintenance on Saturday 10 PM - 2 AM",type:"info",read:!1,createdAt:q(nt($e,1),"yyyy-MM-dd HH:mm")},{id:"n2",userId:"e1",title:"Leave Approved",message:"Your leave request has been forwarded to Dean",type:"success",read:!1,createdAt:q($e,"yyyy-MM-dd HH:mm")}],U5=[{id:"pr1",employeeId:"e1",employeeName:"Alice Smith",department:"CS",faculty:"Computing",currentDesignation:"Senior Lecturer",requestedDesignation:"Assistant Professor",justification:"Completed PhD and published 5 research papers in reputed journals",status:"Pending",appliedOn:q(nt($e,10),"yyyy-MM-dd"),supportingDocuments:["PhD Certificate","Research Publications"],committeeReview:null,hrDecision:null}],q5=[{id:"r1",employeeId:"e1",employeeName:"Alice Smith",department:"CS",faculty:"Computing",noticeDate:q(nt($e,45),"yyyy-MM-dd"),lastWorkingDate:q(nt($e,15),"yyyy-MM-dd"),reason:"Better opportunity",status:"Pending",handoverStatus:"in-progress",exitInterview:null,exitDocuments:[],exitSurvey:null}],H5=[{id:Gt("pams"),category:"faculty",employeeId:"e1",employeeName:"Alice Smith",department:"CS",faculty:"Computing",period:"2025-Q3",status:"submitted",workload:{teachingLoad:"3 courses across 2 sections; labs included with prep and grading.",projectSupervision:"2 FYP teams supervised; co-supervision with clear role split.",advisory:"Advisor for CS-21 batch (~50 students).",admin:"Exam coordinator (weekly) plus QEC focal (biweekly)."},rubric:{teaching:"SETE strong; course files updated; 100% syllabus coverage.",research:"2 W-category publications; 1 grant proposal submitted to HEC.",service:"Seminar series coordination; curriculum review committee member."},grievance:"",attachments:[{id:Gt("doc"),name:"Workload Form.pdf",type:"workload",url:"#"}],submittedAt:q(nt($e,5),"yyyy-MM-dd"),hodReview:{status:"pending",comment:null,meetingDate:null,decidedAt:null},vcReview:{status:"pending",comment:null,decidedAt:null},history:[{action:"submitted",by:"employee",at:q(nt($e,5),"yyyy-MM-dd")}]},{id:Gt("pams"),category:"hod",employeeId:"u-hod",employeeName:"Dr. Imran Shah",department:"CS",faculty:"Computing",period:"2025-Q3",status:"dean-review",workload:{teachingLoad:"Led department teaching plan; taught 1 course to CS-21.",projectSupervision:"Oversaw FYP panel distribution; co-supervised 1 project.",advisory:"Advised faculty on curriculum mapping; weekly office hours.",admin:"Department budgeting, QEC liaison, hiring coordination."},rubric:{teaching:"Reviewed course files; ensured accreditation compliance.",research:"1 grant submitted; 1 journal paper under review.",service:"Chaired curriculum committee; external outreach to industry."},grievance:"",attachments:[],submittedAt:q(nt($e,6),"yyyy-MM-dd"),hodReview:null,deanReview:{status:"pending",comment:null,meetingDate:null,decidedAt:null},history:[{action:"submitted",by:"hod",at:q(nt($e,6),"yyyy-MM-dd")}]}],V5=[{id:"alum1",employeeId:"ex-e10",name:"Dr. Salman Khan",email:"salman.khan@alumni.cecos.edu.pk",department:"CS",faculty:"Computing",designation:"Associate Professor",joinDate:q(nt($e,8*365),"yyyy-MM-dd"),exitDate:q(nt($e,180),"yyyy-MM-dd"),yearsOfService:8,exitReason:"Better Opportunity",exitInterview:null,exitDocuments:[],publications:[],exitSurvey:{reason:"Better Opportunity",satisfaction:4,management:4,workEnvironment:4,growth:3,wouldRecommend:!0,wouldReturn:!0,feedback:"Great institution, wonderful colleagues. Left for a senior position abroad."}},{id:"alum2",employeeId:"ex-e11",name:"Prof. Amina Bibi",email:"amina.bibi@outlook.com",department:"Chemistry",faculty:"Sciences",designation:"Professor",joinDate:"2010-03-15",exitDate:q(nt($e,365),"yyyy-MM-dd"),yearsOfService:14,exitReason:"Retirement",exitInterview:null,exitDocuments:[],publications:[],exitSurvey:{reason:"Retirement",satisfaction:5,management:5,workEnvironment:5,growth:4,wouldRecommend:!0,wouldReturn:!1,feedback:"Wonderful career at CECOS. Will cherish the memories forever."}}],K5=[{id:"ann1",title:"Eid Holidays Schedule",message:"CECOS University will remain closed from June 28 to July 3 for Eid ul Adha. Wishing everyone a blessed Eid!",priority:"high",targetAudience:"all",createdBy:"HR Department",createdAt:q(nt($e,2),"yyyy-MM-dd HH:mm"),expiresAt:q(cs($e,10),"yyyy-MM-dd"),isActive:!0},{id:"ann2",title:"Faculty Meeting Notice",message:"All faculty members are requested to attend the quarterly meeting on Friday at 2:00 PM in the main auditorium.",priority:"medium",targetAudience:"faculty",department:null,createdBy:"HR Department",createdAt:q(nt($e,1),"yyyy-MM-dd HH:mm"),expiresAt:q(cs($e,5),"yyyy-MM-dd"),isActive:!0}],W5=[{id:Gt("prv"),employeeId:"e1",period:"2025-Q2",reviewer:"HOD CS",rating:4.2,kpis:{teaching:4.5,research:4,service:4,punctuality:4.3},comments:"Consistent performance; published 2 papers.",date:q(nt($e,90),"yyyy-MM-dd")},{id:Gt("prv"),employeeId:"e3",period:"2025-Q2",reviewer:"Dean Management",rating:4.6,kpis:{teaching:4.8,research:4.7,service:4.2,punctuality:4.4},comments:"Strong research output and mentorship.",date:q(nt($e,88),"yyyy-MM-dd")}],Y5=[],G5=[],z0=[{id:"cand1",name:"Adeel Rahman",email:"adeel.rahman@example.com",phone:"+92-300-1111111",department:"CS",role:"Assistant Professor",stage:"shortlisted",source:"LinkedIn",appliedOn:q(nt($e,7),"yyyy-MM-dd"),resumeUrl:"https://drive.google.com/file/d/abc123",documents:[{id:"doc1",name:"CV.pdf",url:"https://drive.google.com/file/d/abc123",type:"resume",version:1,storage:"google-drive"}],evaluations:[{stage:"screening",by:"HR Manager",score:7.5,notes:"Meets minimum criteria",date:q(nt($e,6),"yyyy-MM-dd")},{stage:"technical",by:"CS HOD",score:8.2,notes:"Good research portfolio and teaching demos",date:q(nt($e,3),"yyyy-MM-dd")}],selectionBoard:{status:"pending",members:["hod","dean","hr"],approvals:[],checklist:lh.checklist},status:"In Progress"}],$0=[{id:"doc-global-policy",title:"HR Policy Handbook",owner:"HR",type:"policy",version:3,storage:"google-drive",link:"https://drive.google.com/file/d/policy123",lastUpdated:q(nt($e,15),"yyyy-MM-dd"),access:"org",tags:["policy","handbook"]}],Lf={workingDays:22,allowanceConfig:{housePercent:45,medicalPercent:10,transportFixed:5e3},deductionConfig:{latePenalty:500,absentPenaltyType:"daily_rate",absentPenaltyValue:0,taxThreshold:1e5,taxRate:5},overtimeRate:1.5,operationalConfig:{overtimeWarningHours:40,expiryHorizonDays:30}},Z5=[],ic=(e,t)=>{const a=[...e.lifecycle||[],{...t,id:Gt("life")}];return{...e,lifecycle:a,version:(e.version||1)+1,lastUpdated:t.effectiveDate||q($e,"yyyy-MM-dd")}},Hd=(e,t)=>{const a=t.effectiveDate||q($e,"yyyy-MM-dd"),r=[...e.salaryHistory||[],{id:Gt("sal"),previousAmount:e.salaryBase||0,amount:t.amount,type:t.type||"adjustment",reason:t.reason||"Salary update",effectiveDate:a,reference:t.reference||null,createdAt:q($e,"yyyy-MM-dd"),createdBy:t.createdBy||"system"}];return{...e,salaryBase:t.amount,salaryHistory:r,version:(e.version||1)+1,lastUpdated:a}},X5=(e,t,a,r,s=[])=>{const l=r?.workingDays||22,c=e.salaryBase||0,d=t.filter(P=>P.status==="Present").length,m=t.filter(P=>P.status==="Late").length,f=t.filter(P=>P.status==="Absent").length,h=r?.allowanceConfig||{},g=r?.deductionConfig||{},v=Math.round(c*((h.housePercent||0)/100)),y=Math.round(c*((h.medicalPercent||0)/100)),j=Math.round(h.transportFixed||0),b=v+y+j,S=Math.round(m*(g.latePenalty||0)),M=g.absentPenaltyType==="none"?0:g.absentPenaltyType==="fixed"?Math.round(f*(g.absentPenaltyValue||0)):Math.round(c/l*f),w=c+b,A=g.taxThreshold||0,O=g.taxRate||0,D=w>A?Math.round(w*(O/100)):0,k=S+M+D,_=c+b,E=_-k;return{employeeId:e.id,employeeName:e.name,department:e.department,designation:e.designation,baseSalary:c,period:a,attendance:{present:d,late:m,absent:f},earnings:{basic:c,house:v,medical:y,transport:j,total:_},deductions:{late:S,absent:M,tax:D,total:k},netPay:E,status:"Draft",exceptions:s}},Ae=AD(MD((e,t)=>({employees:Vv,attendance:z5(),leaves:$5,notifications:F5,promotions:U5,resignations:q5,exEmployees:V5,announcements:K5,bulkIncrements:Y5,profileUpdateRequests:G5,candidates:z0,documents:$0,payrollSettings:Lf,payrollRuns:Z5,attendanceCorrections:B5,performanceReviews:W5,pamsSubmissions:H5,candidates:z0,documents:$0,addEmployee:a=>e(r=>{const s=a.joinDate||q($e,"yyyy-MM-dd"),l=a.employmentStatus==="probation"&&s?b8(s):null,c=parseInt(a.salaryBase,10)||0,d=Gt("e"),m=a.code||`EMP${String(r.employees.length+1).padStart(3,"0")}`,f={...a,id:d,code:m,status:"Active",leaveBalance:{annual:20,sick:12,casual:10,medical:30},probationEndDate:l,gender:a.gender||"male",employmentStatus:a.employmentStatus||"confirmed",salaryBase:c,salaryHistory:[],lifecycle:[],contract:{status:"active",startDate:s,endDate:a.contractEndDate||null,renewals:[]},version:1,lastUpdated:s},h=ic(f,{type:"joining",title:"Joining",effectiveDate:s,meta:{designation:f.designation,salary:c},createdAt:s}),g=Hd({...h,salaryBase:0},{amount:c,type:"base",reason:"Joining salary",effectiveDate:s,createdBy:"HR"});return{employees:[...r.employees,g]}}),updateEmployee:(a,r)=>e(s=>({employees:s.employees.map(l=>l.id!==a?l:r.salaryBase!==void 0&&r.salaryBase!==l.salaryBase?{...Hd(l,{amount:r.salaryBase,type:r.salaryChangeType||"revision",reason:r.salaryChangeReason||"Salary revision",effectiveDate:r.effectiveDate||q($e,"yyyy-MM-dd"),reference:r.reference||null,createdBy:r.updatedBy||"HR"}),...r,salaryChangeType:void 0,salaryChangeReason:void 0,reference:void 0}:{...l,...r,version:(l.version||1)+1,lastUpdated:q($e,"yyyy-MM-dd")})})),deleteEmployee:a=>e(r=>({employees:r.employees.filter(s=>s.id!==a)})),getEmployee:a=>t().employees.find(r=>r.id===a),getEmployeesByDepartment:a=>t().employees.filter(r=>r.department===a),getEmployeesByFaculty:a=>t().employees.filter(r=>r.faculty===a),clockIn:a=>{const r=new Date,s=q(r,"yyyy-MM-dd"),l=q(r,"HH:mm"),c=r.getHours()>=9||r.getHours()===9&&r.getMinutes()>0;e(d=>({attendance:[...d.attendance,{id:Gt("att"),employeeId:a,date:s,clockIn:l,clockOut:null,status:c?"Late":"Present",workHours:0}]}))},clockOut:a=>{const r=new Date,s=q(r,"yyyy-MM-dd"),l=q(r,"HH:mm");e(c=>({attendance:c.attendance.map(d=>d.employeeId===a&&d.date===s?{...d,clockOut:l,workHours:8}:d)}))},getTodayAttendance:a=>{const r=q($e,"yyyy-MM-dd");return t().attendance.find(s=>s.employeeId===a&&s.date===r)},getAttendanceByEmployee:a=>t().attendance.filter(r=>r.employeeId===a),getAttendanceByDate:a=>t().attendance.filter(r=>r.date===a),addLeave:a=>{const r=t().getEmployee(a.employeeId);e(s=>({leaves:[...s.leaves,{...a,id:Gt("l"),employeeName:r?.name,department:r?.department,faculty:r?.faculty,status:"Pending",appliedOn:q($e,"yyyy-MM-dd"),paidDays:a.paidDays??null,unpaidDays:a.unpaidDays??null,leaveCategory:a.leaveCategory??null,approvalChain:a.type==="medical"?[{role:"hod",status:"pending",by:null,date:null,comment:null},{role:"vc",status:"pending",by:null,date:null,comment:null},{role:"president",status:"pending",by:null,date:null,comment:null,paidDays:null,unpaidDays:null,leaveCategory:null}]:[{role:"hod",status:"pending",by:null,date:null,comment:null},{role:"dean",status:"pending",by:null,date:null,comment:null},{role:"hr",status:"pending",by:null,date:null,comment:null}]}]}))},updateLeaveStatus:(a,r,s,l,c="",d={})=>{e(m=>{const f=s;return{leaves:m.leaves.map(g=>{if(g.id!==a)return g;const v=new Date().toISOString();let y={...g};y.approvalChain||(g.type==="medical"?y.approvalChain=[{role:"hod",status:"pending",by:null,date:null,comment:null},{role:"vc",status:"pending",by:null,date:null,comment:null},{role:"president",status:"pending",by:null,date:null,comment:null,paidDays:null,unpaidDays:null,leaveCategory:null}]:y.approvalChain=[{role:"hod",status:"pending",by:null,date:null,comment:null},{role:"dean",status:"pending",by:null,date:null,comment:null,paidDays:null,unpaidDays:null},{role:"hr",status:"pending",by:null,date:null,comment:null}]);const j=y.approvalChain.findIndex(b=>b.role===f);if(j===-1)return g;if(y.approvalChain[j]={...y.approvalChain[j],status:r.toLowerCase(),by:l,date:v,comment:c||null},g.type==="medical"&&f==="president"&&r==="Approved"&&(d.paidDays!==void 0&&(y.approvalChain[j].paidDays=d.paidDays,y.approvalChain[j].unpaidDays=d.unpaidDays,y.paidDays=d.paidDays,y.unpaidDays=d.unpaidDays),d.leaveCategory&&(y.approvalChain[j].leaveCategory=d.leaveCategory,y.leaveCategory=d.leaveCategory)),s==="dean"&&d.paidDays!==void 0&&(y.approvalChain[j].paidDays=d.paidDays,y.approvalChain[j].unpaidDays=d.unpaidDays,y.paidDays=d.paidDays,y.unpaidDays=d.unpaidDays),s==="hr"&&d.leaveCategory&&(y.leaveCategory=d.leaveCategory),r==="Rejected")y.status="Rejected",y.reviewedBy=l,y.reviewedOn=v,y.comments=c;else if(r==="Approved"){const b=y.approvalChain.find((S,M)=>M>j&&S.status==="pending");b?(y.status="Forwarded",y.currentApprover=b.role):(y.status="Approved",y.reviewedBy=l,y.reviewedOn=v),c&&(y.comments=c)}return y})}})},getLeavesByEmployee:a=>t().leaves.filter(r=>r.employeeId===a),getLeavesByDepartment:a=>t().leaves.filter(r=>r.department===a),getLeavesByFaculty:a=>t().leaves.filter(r=>r.faculty===a),getPendingLeaves:()=>t().leaves.filter(a=>a.status==="Pending"||a.status==="Forwarded"),addNotification:a=>e(r=>({notifications:[{...a,id:Gt("n"),read:!1,createdAt:q($e,"yyyy-MM-dd HH:mm")},...r.notifications]})),markNotificationRead:a=>e(r=>({notifications:r.notifications.map(s=>s.id===a?{...s,read:!0}:s)})),getNotifications:a=>t().notifications.filter(r=>r.userId===a||r.userId==="all"),getUnreadCount:a=>t().notifications.filter(r=>!r.read&&(r.userId===a||r.userId==="all")).length,notificationPreferences:{},sendEmailNotification:(a,r,s)=>{console.log("[EMAIL NOTIFICATION]",{eventType:a,recipientId:r,data:s,timestamp:new Date().toISOString()})},updateNotificationPreferences:(a,r)=>{e(s=>({notificationPreferences:{...s.notificationPreferences,[a]:r}})),console.log("[NOTIFICATION PREFERENCES UPDATED]",{userId:a,preferences:r})},getNotificationPreferences:a=>{const r=t().notificationPreferences[a];return r||{leave_approved:{email:!0,inApp:!0},leave_rejected:{email:!0,inApp:!0},attendance_correction_approved:{email:!0,inApp:!0},attendance_correction_rejected:{email:!0,inApp:!0},probation_completion:{email:!0,inApp:!0},contract_expiry_warning:{email:!0,inApp:!0},maternity_leave_milestone:{email:!0,inApp:!0},promotion_approved:{email:!0,inApp:!0},resignation_acknowledgment:{email:!0,inApp:!0}}},addPromotion:a=>{const r=t().getEmployee(a.employeeId),s=a.effectiveDate||q($e,"yyyy-MM-dd"),l=a.proposedSalary!==void 0?a.proposedSalary:r?.salaryBase;e(c=>({promotions:[...c.promotions,{...a,id:Gt("pr"),employeeName:r?.name,department:r?.department,faculty:r?.faculty,currentDesignation:r?.designation,effectiveDate:s,proposedSalary:l,status:"Pending",appliedOn:q(new Date,"yyyy-MM-dd"),committeeReview:null,hrDecision:null}]}))},updatePromotionStatus:(a,r,s)=>e(l=>({promotions:l.promotions.map(c=>c.id===a?{...c,status:r,...s.type==="committee"&&{committeeReview:s},...s.type==="hr"&&{hrDecision:s}}:c)})),approvePromotion:(a,r={})=>{const s=t().promotions.find(l=>l.id===a);if(s){const l=t().getEmployee(s.employeeId),c=r.effectiveDate||s.effectiveDate||q($e,"yyyy-MM-dd"),d=r.newSalary!==void 0?r.newSalary:s.proposedSalary!==void 0?s.proposedSalary:l?.salaryBase;e(m=>({employees:m.employees.map(f=>{if(f.id!==s.employeeId)return f;const h=Hd(f,{amount:d,type:"promotion",reason:`Promotion to ${s.requestedDesignation}`,effectiveDate:c,reference:s.id,createdBy:r.decidedBy||"HR"});return{...ic(h,{type:"promotion",title:`Promotion to ${s.requestedDesignation}`,effectiveDate:c,meta:{from:s.currentDesignation,to:s.requestedDesignation,salary:d},createdAt:c}),designation:s.requestedDesignation}}),promotions:m.promotions.map(f=>f.id===a?{...f,status:"Approved",approvedOn:q(new Date,"yyyy-MM-dd"),effectiveDate:c,approvedSalary:d,hrDecision:{type:"hr",decidedBy:r.decidedBy||"HR",date:q(new Date,"yyyy-MM-dd"),notes:r.notes||null}}:f)}))}},getPromotionsByEmployee:a=>t().promotions.filter(r=>r.employeeId===a),getPendingPromotions:()=>t().promotions.filter(a=>a.status==="Pending"||a.status==="Under Review"),reviseSalary:(a,r,s={})=>e(l=>({employees:l.employees.map(c=>c.id===a?Hd(c,{amount:r,type:s.type||"revision",reason:s.reason||"Salary revision",effectiveDate:s.effectiveDate||q($e,"yyyy-MM-dd"),reference:s.reference||null,createdBy:s.updatedBy||"HR"}):c)})),addLifecycleEntry:(a,r)=>e(s=>({employees:s.employees.map(l=>l.id===a?ic(l,{...r,effectiveDate:r.effectiveDate||q($e,"yyyy-MM-dd")}):l)})),renewContract:(a,r)=>e(s=>({employees:s.employees.map(l=>{if(l.id!==a)return l;const c=[...l.contract?.renewals||[],{...r,id:Gt("ren")}],d={...l,contract:{...l.contract||{},status:r.status||l.contract?.status||"active",endDate:r.newEndDate||l.contract?.endDate||null,renewals:c}};return ic(d,{type:"contract",title:"Contract Renewal",effectiveDate:r.effectiveDate||r.newEndDate,meta:{previousEndDate:l.contract?.endDate||null,newEndDate:r.newEndDate||null}})})})),createBulkIncrementBatch:a=>e(r=>{const s=a.effectiveDate||q($e,"yyyy-MM-dd"),l=a.employeeIds&&a.employeeIds.length>0?r.employees.filter(f=>a.employeeIds.includes(f.id)):r.employees,c=Gt("inc"),d=l.map(f=>{const h=f.salaryBase||0,g=a.mode==="percent"?Math.round(h*(1+(a.value||0)/100)):h+(a.value||0);return{employeeId:f.id,employeeName:f.name,previousSalary:h,newSalary:g,status:"pending"}}),m=[{action:"created",by:a.createdBy||"HR",date:q(new Date,"yyyy-MM-dd"),note:a.note||null}];return{bulkIncrements:[{id:c,code:a.code||c.toUpperCase(),title:a.title||"Bulk Increment",type:a.type||"Adjustment",mode:a.mode||"percent",value:a.value||0,effectiveDate:s,note:a.note||null,status:"Pending",items:d,audit:m},...r.bulkIncrements]}}),applyBulkIncrementBatch:(a,r={})=>e(s=>{const l=s.bulkIncrements.find(f=>f.id===a);if(!l||l.status==="Applied")return{};const c=l.effectiveDate||q($e,"yyyy-MM-dd"),d=s.employees.map(f=>{const h=l.items.find(v=>v.employeeId===f.id);if(!h)return f;const g=Hd(f,{amount:h.newSalary,type:"increment",reason:`${l.type} increment`,effectiveDate:c,reference:l.id,createdBy:r.approvedBy||"HR"});return ic(g,{type:"increment",title:`${l.type} increment`,effectiveDate:c,meta:{from:h.previousSalary,to:h.newSalary,batch:l.code}})}),m={...l,status:"Applied",appliedOn:q(new Date,"yyyy-MM-dd"),audit:[...l.audit||[],{action:"applied",by:r.approvedBy||"HR",date:q(new Date,"yyyy-MM-dd"),note:r.note||null}],items:l.items.map(f=>({...f,status:"applied"}))};return{employees:d,bulkIncrements:s.bulkIncrements.map(f=>f.id===a?m:f)}}),submitProfileUpdateRequest:(a,r,s={})=>{const l=t().getEmployee(a),c={id:Gt("pur"),employeeId:a,employeeName:l?.name,department:l?.department,requestedOn:q(new Date,"yyyy-MM-dd"),status:"Pending",changes:r,notes:s.notes||null,requestedBy:s.requestedBy||l?.name||"Employee",audit:[{action:"submitted",by:s.requestedBy||l?.name||"Employee",date:q(new Date,"yyyy-MM-dd"),note:s.notes||null}]};e(d=>({profileUpdateRequests:[c,...d.profileUpdateRequests]}))},reviewProfileUpdateRequest:(a,r)=>e(s=>{const l=s.profileUpdateRequests.find(h=>h.id===a);if(!l)return{};const c=r.status,d=q(new Date,"yyyy-MM-dd");let m=s.employees;c==="Approved"&&(m=s.employees.map(h=>{if(h.id!==l.employeeId)return h;const g={...h,...l.changes,version:(h.version||1)+1,lastUpdated:d};return ic(g,{type:"profile-update",title:"Profile Updated",effectiveDate:d,meta:{fields:Object.keys(l.changes||{})}})}));const f=s.profileUpdateRequests.map(h=>h.id===a?{...h,status:c,reviewedOn:d,reviewedBy:r.reviewer||"HR",notes:r.notes||h.notes,audit:[...h.audit||[],{action:c.toLowerCase(),by:r.reviewer||"HR",date:d,note:r.notes||null}]}:h);return{employees:m,profileUpdateRequests:f}}),getPayrollSettings:()=>t().payrollSettings,updatePayrollSettings:a=>e(r=>({payrollSettings:{...r.payrollSettings,...a}})),computePayrollForEmployee:(a,r,s)=>{const l=t(),c=l.payrollSettings||Lf,d=La(new Date(s,r-1,1)),m=Ia(d),f=l.attendance.filter(j=>{if(j.employeeId!==a)return!1;const b=ue(j.date);return b>=d&&b<=m}),h=[];l.promotions.find(j=>j.employeeId===a&&(j.status==="Pending"||j.status==="Under Review"))&&h.push("Promotion pending HR approval"),l.profileUpdateRequests.find(j=>j.employeeId===a&&j.status==="Pending")&&h.push("Profile changes pending HR approval");const y=l.employees.find(j=>j.id===a);return y?X5(y,f,{month:r,year:s,startDate:q(d,"yyyy-MM-dd"),endDate:q(m,"yyyy-MM-dd")},c,h):null},generatePayrollRun:({month:a,year:r,createdBy:s})=>e(l=>{const c=l.payrollSettings||Lf,d=La(new Date(r,a-1,1)),m=Ia(d),f=l.employees.map(v=>{const y=l.attendance.filter(M=>{if(M.employeeId!==v.id)return!1;const w=ue(M.date);return w>=d&&w<=m}),j=[];return l.promotions.find(M=>M.employeeId===v.id&&(M.status==="Pending"||M.status==="Under Review"))&&j.push("Promotion pending HR approval"),l.profileUpdateRequests.find(M=>M.employeeId===v.id&&M.status==="Pending")&&j.push("Profile changes pending HR approval"),X5(v,y,{month:a,year:r,startDate:q(d,"yyyy-MM-dd"),endDate:q(m,"yyyy-MM-dd")},c,j)}),h=f.reduce((v,y)=>(v.totalGross+=y.earnings.total,v.totalDeductions+=y.deductions.total,v.totalNet+=y.netPay,v.exceptions+=y.exceptions?.length?1:0,v),{totalGross:0,totalDeductions:0,totalNet:0,exceptions:0});return{payrollRuns:[{id:Gt("pay"),period:{month:a,year:r,label:q(d,"MMM yyyy"),startDate:q(d,"yyyy-MM-dd"),endDate:q(m,"yyyy-MM-dd")},status:"Draft",createdAt:q(new Date,"yyyy-MM-dd HH:mm"),createdBy:s||"HR",approvals:[],postedOn:null,items:f,summary:h},...l.payrollRuns]}}),updatePayrollRunStatus:(a,r,s={})=>e(l=>({payrollRuns:l.payrollRuns.map(c=>c.id===a?{...c,status:r,approvals:r==="Approved"?[...c.approvals||[],{by:s.by||"HR",date:q(new Date,"yyyy-MM-dd")}]:c.approvals}:c)})),postPayrollRun:(a,r={})=>e(s=>({payrollRuns:s.payrollRuns.map(l=>l.id===a?{...l,status:"Posted",postedOn:q(new Date,"yyyy-MM-dd"),postedBy:r.postedBy||"HR",items:l.items.map(c=>({...c,status:"Posted"}))}:l)})),getPayrollRunForPeriod:(a,r)=>t().payrollRuns.find(l=>l.period?.month===a&&l.period?.year===r&&l.status==="Posted"),getEmployeePayrollHistory:a=>t().payrollRuns.filter(l=>l.status==="Posted").map(l=>{const c=l.items.find(d=>d.employeeId===a);return c?{...c,periodLabel:l.period?.label,status:l.status}:null}).filter(Boolean).sort((l,c)=>new Date(c.period?.endDate||0)-new Date(l.period?.endDate||0)),submitAttendanceCorrection:(a,r,s={})=>e(l=>{const c=l.employees.find(m=>m.id===a);return{attendanceCorrections:[{id:Gt("atc"),employeeId:a,employeeName:c?.name,department:c?.department,originalAttendance:r.originalAttendance,requestedChange:r.requestedChange,reason:r.reason,documents:r.documents||[],submittedOn:q(new Date,"yyyy-MM-dd"),status:"Pending",submittedBy:s.submittedBy||c?.name,notes:s.notes||null,audit:[{action:"submitted",by:s.submittedBy||c?.name,date:q(new Date,"yyyy-MM-dd"),comment:s.notes||null}]},...l.attendanceCorrections]}}),reviewAttendanceCorrection:(a,r)=>e(s=>{const l=s.attendanceCorrections.find(d=>d.id===a);if(!l)return{};let c=s.attendance;if(r.status==="Approved"){const d=s.attendance.find(m=>m.employeeId===l.employeeId&&m.date===l.originalAttendance.date);d&&(c=s.attendance.map(m=>m.id===d.id?{...m,status:l.requestedChange.status,notes:`[Corrected] ${l.requestedChange.reason||""}`,correctionId:a}:m))}return{attendance:c,attendanceCorrections:s.attendanceCorrections.map(d=>d.id===a?{...d,status:r.status,reviewedOn:q(new Date,"yyyy-MM-dd"),reviewedBy:r.reviewer||"HR",audit:[...d.audit||[],{action:r.status.toLowerCase(),by:r.reviewer||"HR",date:q(new Date,"yyyy-MM-dd"),comment:r.notes||null}]}:d)}}),flagAttendanceAnomalies:a=>{const r=t(),s=r.employees.find(g=>g.id===a);if(!s)return{anomalies:[],employee:null};const l=r.attendance.filter(g=>g.employeeId===a),c=[],d=nt(new Date,7),m=l.filter(g=>g.status==="Late"&&ue(g.date)>=d);m.length>3&&c.push({type:"excessive_lates",severity:"warning",message:`${m.length} late arrivals in past week`,count:m.length});let f=0;l.slice().reverse().forEach(g=>{g.status==="Absent"?(f++,f>2&&c.push({type:"consecutive_absences",severity:"error",message:`${f} consecutive absences detected`,count:f})):f=0});const h=r.leaves.filter(g=>g.employeeId===a&&g.status==="Pending");return h.length>0&&c.push({type:"pending_leave_approvals",severity:"info",message:`${h.length} pending leave approvals`,count:h.length}),{anomalies:c,employee:s}},getLeaveRecommendations:a=>{const r=t(),s=r.employees.find(h=>h.id===a.employeeId);if(!s)return{recommendation:"Cannot process",reason:"Employee not found",recommendations:[]};const l=[],c=a.type,d=s.leaveBalance?.[c]||0;d<a.days&&l.push({type:"insufficient_balance",severity:"error",message:`Insufficient ${c} leave balance (requested: ${a.days}, available: ${d})`});const m=r.leaves.filter(h=>h.employeeId===a.employeeId&&h.status==="Approved"&&ue(h.startDate)<=ue(a.endDate)&&ue(h.endDate)>=ue(a.startDate));m.length>0&&l.push({type:"date_overlap",severity:"warning",message:`Leave dates overlap with ${m.length} existing approved leave(s)`});const f=Zr(ue(a.startDate),new Date);return c!=="sick"&&f<3&&l.push({type:"insufficient_notice",severity:"warning",message:`Leave requested with only ${f} days advance notice (minimum 3 required)`}),{recommendation:l.length===0?"Approve":"Review",recommendations:l,leaveBalance:d,daysInAdvance:f}},addCandidate:a=>e(r=>({candidates:[{...a,id:Gt("cand"),appliedOn:a.appliedOn||q(new Date,"yyyy-MM-dd"),stage:a.stage||"applied",status:a.status||"In Progress",evaluations:a.evaluations||[],documents:a.documents||[],selectionBoard:{status:"pending",members:lh.defaultMembers,approvals:[],checklist:lh.checklist,...a.selectionBoard||{}}},...r.candidates]})),updateCandidateStage:(a,r,s={})=>e(l=>({candidates:l.candidates.map(c=>c.id===a?{...c,stage:r,status:r==="hired"?"Hired":c.status,stageUpdatedOn:q(new Date,"yyyy-MM-dd"),...s}:c)})),addCandidateEvaluation:(a,r)=>e(s=>({candidates:s.candidates.map(l=>l.id===a?{...l,evaluations:[...l.evaluations,{...r,date:r.date||q(new Date,"yyyy-MM-dd")}]}:l)})),addSelectionBoardApproval:(a,r)=>e(s=>({candidates:s.candidates.map(l=>{if(l.id!==a)return l;const c=[...l.selectionBoard?.approvals||[],{...r,date:r.date||q(new Date,"yyyy-MM-dd")}],m=c.filter(f=>f.decision==="approved").length>=lh.requiredApprovals?"approved":"pending";return{...l,selectionBoard:{...l.selectionBoard||{},approvals:c,status:m}}})})),linkCandidateDocument:(a,r)=>e(s=>({candidates:s.candidates.map(l=>l.id===a?{...l,documents:[...l.documents||[],r]}:l)})),addDocument:a=>e(r=>({documents:[{...a,id:Gt("doc"),version:a.version||1,lastUpdated:a.lastUpdated||q(new Date,"yyyy-MM-dd")},...r.documents]})),updateDocument:(a,r)=>e(s=>({documents:s.documents.map(l=>l.id===a?{...l,...r,lastUpdated:r.lastUpdated||q(new Date,"yyyy-MM-dd")}:l)})),addResignation:a=>{const r=t().getEmployee(a.employeeId);e(s=>({resignations:[...s.resignations,{...a,id:Gt("res"),employeeName:r?.name,department:r?.department,faculty:r?.faculty,designation:r?.designation,status:"Pending",appliedOn:q(new Date,"yyyy-MM-dd"),exitSurvey:null,exitInterview:null,exitDocuments:[],hrApproval:null,handoverStatus:"pending"}]}))},updateResignationStatus:(a,r,s={})=>e(l=>({resignations:l.resignations.map(c=>c.id===a?{...c,status:r,...s}:c)})),submitExitSurvey:(a,r)=>e(s=>({resignations:s.resignations.map(l=>l.id===a?{...l,exitSurvey:r,exitSurveyDate:q(new Date,"yyyy-MM-dd")}:l)})),addExitInterview:(a,r)=>e(s=>({resignations:s.resignations.map(l=>l.id===a?{...l,exitInterview:{...r,date:r.date||q(new Date,"yyyy-MM-dd")}}:l)})),attachExitDocument:(a,r)=>e(s=>({resignations:s.resignations.map(l=>l.id===a?{...l,exitDocuments:[...l.exitDocuments||[],r]}:l)})),processResignation:a=>{const r=t().resignations.find(s=>s.id===a);if(r){const s=t().getEmployee(r.employeeId);s&&e(l=>({exEmployees:[...l.exEmployees,{id:Gt("alum"),employeeId:s.id,name:s.name,email:s.email,department:s.department,faculty:s.faculty,designation:s.designation,joinDate:s.joinDate,exitDate:r.lastWorkingDate,yearsOfService:Math.floor((new Date(r.lastWorkingDate)-new Date(s.joinDate))/(365.25*24*60*60*1e3)),exitReason:r.reason,exitInterview:r.exitInterview,exitDocuments:r.exitDocuments,exitSurvey:r.exitSurvey}],employees:l.employees.filter(c=>c.id!==r.employeeId),resignations:l.resignations.map(c=>c.id===a?{...c,status:"Completed",processedOn:q(new Date,"yyyy-MM-dd")}:c)}))}},getResignationsByEmployee:a=>t().resignations.filter(r=>r.employeeId===a),getPendingResignations:()=>t().resignations.filter(a=>a.status==="Pending"||a.status==="Approved"),addPerformanceReview:a=>e(r=>({performanceReviews:[{...a,id:Gt("prv"),date:a.date||q(new Date,"yyyy-MM-dd")},...r.performanceReviews]})),updatePerformanceReview:(a,r)=>e(s=>({performanceReviews:s.performanceReviews.map(l=>l.id===a?{...l,...r}:l)})),getPerformanceAnalytics:(a={})=>{const r=t(),s=r.performanceReviews.filter(f=>{const h=r.employees.find(g=>g.id===f.employeeId);return!(!h||a.faculty&&h.faculty!==a.faculty||a.department&&h.department!==a.department)}),l={};s.forEach(f=>{const g=r.employees.find(v=>v.id===f.employeeId)?.department||"Unknown";l[g]||(l[g]={count:0,total:0}),l[g].count+=1,l[g].total+=f.rating||0});const c=Object.entries(l).map(([f,h])=>({department:f,averageRating:h.count?+(h.total/h.count).toFixed(2):0,count:h.count})),d=s.length?+(s.reduce((f,h)=>f+(h.rating||0),0)/s.length).toFixed(2):0,m=s.slice().sort((f,h)=>(h.rating||0)-(f.rating||0)).slice(0,5).map(f=>{const h=r.employees.find(g=>g.id===f.employeeId);return{employeeId:f.employeeId,name:h?.name,department:h?.department,rating:f.rating}});return{overallAvg:d,avgByDepartment:c,topPerformers:m,count:s.length}},submitPamsForm:a=>{const r=q(new Date,"yyyy-MM-dd"),s={id:Gt("pams"),status:"submitted",submittedAt:r,category:a.category||"faculty",hodReview:{status:"pending",comment:null,meetingDate:null,decidedAt:null},vcReview:{status:"pending",comment:null,decidedAt:null},deanReview:a.category==="hod"?{status:"pending",comment:null,meetingDate:null,decidedAt:null}:null,history:[{action:"submitted",by:a.by||"employee",at:r}]};e(l=>({pamsSubmissions:[{...s,...a},...l.pamsSubmissions]}))},updatePamsSubmission:(a,r)=>e(s=>({pamsSubmissions:s.pamsSubmissions.map(l=>l.id===a?{...l,...r,history:r.resubmitted?[...l.history,{action:"resubmitted",by:r.by||"employee",at:q(new Date,"yyyy-MM-dd")}]:l.history,status:r.resubmitted?"submitted":r.status||l.status,submittedAt:r.resubmitted?q(new Date,"yyyy-MM-dd"):l.submittedAt}:l)})),hodReviewPams:(a,r)=>e(s=>({pamsSubmissions:s.pamsSubmissions.map(l=>{if(l.id!==a||l.category==="hod")return l;const c=r.action==="confirm"?"hod-confirmed":"returned";return{...l,status:c,hodReview:{status:c,comment:r.comment||null,meetingDate:r.meetingDate||null,decidedAt:q(new Date,"yyyy-MM-dd")},followUpMeeting:r.action==="confirm"?{topic:"Department performance follow-up",scheduledAt:r.followUpDate||r.meetingDate||q(new Date,"yyyy-MM-dd"),status:"pending"}:l.followUpMeeting,history:[...l.history,{action:r.action==="confirm"?"hod-confirmed":"returned",by:r.by||"hod",at:q(new Date,"yyyy-MM-dd"),note:r.comment||null}]}})})),vcApprovePams:(a,r)=>e(s=>({pamsSubmissions:s.pamsSubmissions.map(l=>{if(l.id!==a)return l;const c=r.action==="return"?"returned":"vc-approved",d={status:c,comment:r.comment||null,decidedAt:q(new Date,"yyyy-MM-dd")};return{...l,status:c,vcReview:d,history:[...l.history,{action:c,by:r.by||"vc",at:d.decidedAt,note:r.comment||null}]}})})),getPamsForEmployee:a=>t().pamsSubmissions.filter(r=>r.employeeId===a),getPamsForHod:a=>t().pamsSubmissions.filter(r=>r.category==="faculty"&&r.department===a&&["submitted","returned"].includes(r.status)),getPamsForVc:()=>t().pamsSubmissions.filter(a=>a.status==="hod-confirmed"),getPamsForHr:()=>t().pamsSubmissions.filter(a=>a.status==="vc-approved"),hrApprovePams:(a,r)=>e(s=>({pamsSubmissions:s.pamsSubmissions.map(l=>{if(l.id!==a)return l;const c=r.action==="return"?"returned":"hr-approved",d={status:c,comment:r.comment||null,processedAt:q(new Date,"yyyy-MM-dd")};return{...l,status:c,hrReview:d,history:[...l.history,{action:c,by:r.by||"hr",at:d.processedAt,note:r.comment||null}]}})})),getPamsForDean:a=>t().pamsSubmissions.filter(r=>r.category==="hod"&&r.faculty===a&&["dean-review","returned"].includes(r.status)),deanReviewPams:(a,r)=>e(s=>({pamsSubmissions:s.pamsSubmissions.map(l=>{if(l.id!==a||l.category!=="hod")return l;const c=r.action==="return"?"returned":"dean-confirmed",d={status:c,comment:r.comment||null,meetingDate:r.meetingDate||null,decidedAt:q(new Date,"yyyy-MM-dd")};return{...l,status:c,deanReview:d,followUpMeeting:r.action==="confirm"?{topic:"Department performance review with Dean",scheduledAt:r.followUpDate||r.meetingDate||d.decidedAt,status:"pending"}:l.followUpMeeting,history:[...l.history,{action:c,by:r.by||"dean",at:d.decidedAt,note:r.comment||null}]}})})),getOvertimeStats:({month:a=new Date().getMonth()+1,year:r=new Date().getFullYear()}={})=>{const s=t(),l=La(new Date(r,a-1,1)),c=Ia(l),d={};s.attendance.forEach(h=>{const g=ue(h.date);if(g<l||g>c)return;d[h.employeeId]||(d[h.employeeId]=0);const v=h.workHours||0,y=Math.max(0,v-8);d[h.employeeId]+=y});const m=Object.entries(d).map(([h,g])=>{const v=s.employees.find(y=>y.id===h);return{employeeId:h,name:v?.name,department:v?.department,hours:+g.toFixed(2)}}).filter(h=>h.hours>0).sort((h,g)=>g.hours-h.hours);return{totalHours:+m.reduce((h,g)=>h+g.hours,0).toFixed(2),rows:m}},getPendingApprovalsSummary:()=>{const a=t();return{leaves:a.leaves.filter(r=>r.status==="Pending"||r.status==="Forwarded").length,attendanceCorrections:a.attendanceCorrections.filter(r=>r.status==="Pending").length,promotions:a.promotions.filter(r=>r.status==="Pending"||r.status==="Under Review").length,profileUpdates:a.profileUpdateRequests.filter(r=>r.status==="Pending").length,selectionBoard:a.candidates.filter(r=>r.selectionBoard?.status==="pending").length}},getExpiringContracts:(a=30)=>{const r=t(),l=cs(new Date,a);return r.employees.map(d=>{const m=d.employmentStatus==="probation"?d.probationEndDate:null,f=d.contract?.endDate||null,h=m&&ue(m)<=l,g=f&&ue(f)<=l;return!h&&!g?null:{id:d.id,name:d.name,department:d.department,faculty:d.faculty,type:h?"Probation End":"Contract End",dueDate:h?m:f}}).filter(Boolean).sort((d,m)=>ue(d.dueDate)-ue(m.dueDate))},getProfileCompletion:a=>{const r=t().employees.find(h=>h.id===a);if(!r)return{percent:0,missing:[]};const s=["email","phone","cnic","bankAccount","address","emergencyContact","department","faculty","designation"],l=s.filter(h=>!r[h]),c=(s.length-l.length)/s.length*100,d=["dependents","qualifications","publications","certifications","awards","skills","languages","professionalMemberships"],m=d.reduce((h,g)=>g==="skills"||g==="languages"?h+(r[g]&&r[g].length>0?3:0):h+(r[g]&&r[g].length>0?5:0),0);return{percent:Math.min(100,Math.round(c+m)),missing:l,bonusFields:d}},getAccreditationReport:()=>{const a=t(),r={male:0,female:0,other:0},s={},l={};return a.employees.forEach(c=>{const d=(c.gender||"").toLowerCase();d==="male"?r.male+=1:d==="female"?r.female+=1:r.other+=1,s[c.designation]=(s[c.designation]||0)+1,l[c.faculty]=(l[c.faculty]||0)+1}),{headcount:a.employees.length,genderDist:r,byDesignation:s,byFaculty:l,probationCount:a.employees.filter(c=>c.employmentStatus==="probation").length,contractExpiring30:t().getExpiringContracts(30).length}},getExEmployeesByDepartment:a=>t().exEmployees.filter(r=>r.department===a),getExEmployeesByFaculty:a=>t().exEmployees.filter(r=>r.faculty===a),searchExEmployees:a=>{const r=a.toLowerCase();return t().exEmployees.filter(s=>s.name.toLowerCase().includes(r)||s.department.toLowerCase().includes(r)||s.designation.toLowerCase().includes(r))},addAnnouncement:a=>e(r=>({announcements:[{...a,id:Gt("ann"),createdAt:q(new Date,"yyyy-MM-dd HH:mm"),isActive:!0},...r.announcements]})),updateAnnouncement:(a,r)=>e(s=>({announcements:s.announcements.map(l=>l.id===a?{...l,...r}:l)})),deleteAnnouncement:a=>e(r=>({announcements:r.announcements.filter(s=>s.id!==a)})),getActiveAnnouncements:()=>{const a=new Date;return t().announcements.filter(r=>r.isActive&&(!r.expiresAt||new Date(r.expiresAt)>a))},getAnnouncementsForUser:a=>t().getActiveAnnouncements().filter(s=>!!(s.targetAudience==="all"||s.targetAudience==="faculty"&&a?.faculty||s.department&&s.department===a?.department)),getStats:()=>{const a=t(),r=q($e,"yyyy-MM-dd"),s=a.attendance.filter(l=>l.date===r);return{totalEmployees:a.employees.length,activeEmployees:a.employees.filter(l=>l.status==="Active").length,presentToday:s.filter(l=>l.status==="Present").length,lateToday:s.filter(l=>l.status==="Late").length,absentToday:a.employees.length-s.length,pendingLeaves:a.leaves.filter(l=>l.status==="Pending").length,pendingPromotions:a.promotions.filter(l=>l.status==="Pending").length,pendingResignations:a.resignations.filter(l=>l.status==="Pending").length,onLeave:a.employees.filter(l=>l.status==="On Leave").length,totalPayroll:a.employees.reduce((l,c)=>l+c.salaryBase,0),totalExEmployees:a.exEmployees.length}},resetData:()=>e({employees:Vv,attendance:z5(),leaves:$5,notifications:F5,promotions:U5,resignations:q5,exEmployees:V5,announcements:K5,bulkIncrements:Y5,profileUpdateRequests:G5,candidates:z0,documents:$0,payrollSettings:Lf,payrollRuns:Z5,attendanceCorrections:B5,performanceReviews:W5,pamsSubmissions:H5})}),{name:"hrms-data",partialize:e=>({employees:e.employees,attendance:e.attendance,leaves:e.leaves,notifications:e.notifications,promotions:e.promotions,resignations:e.resignations,exEmployees:e.exEmployees,announcements:e.announcements,bulkIncrements:e.bulkIncrements,profileUpdateRequests:e.profileUpdateRequests,candidates:e.candidates,documents:e.documents,payrollSettings:e.payrollSettings,payrollRuns:e.payrollRuns,attendanceCorrections:e.attendanceCorrections,performanceReviews:e.performanceReviews,pamsSubmissions:e.pamsSubmissions})})),D8="18a0400c-1b05-4bbb-a7f9-8ba08012816e",O8="https://api.web3forms.com/submit",gu=async e=>{try{const t=new FormData;return t.append("access_key",D8),t.append("to_email",e.to),t.append("subject",e.subject),t.append("message",e.message),t.append("from_name",e.from_name||"HRMS System"),await(await fetch(O8,{method:"POST",body:t})).json()}catch(t){return console.error("Email sending failed:",t),{success:!1,error:t.message}}},E8=async(e,t)=>{const s=(Ae.getState().employees||[]).filter(d=>d.email&&d.email!==t).map(d=>d.email);if(s.length===0)return console.log("No recipients found for leave notification"),null;const l=`Dear Colleague,

A new leave request has been submitted:

Employee Name: ${e.employeeName}
Leave Type: ${e.leaveType.charAt(0).toUpperCase()+e.leaveType.slice(1)}
Start Date: ${e.startDate}
End Date: ${e.endDate}
Duration: ${e.days} day(s)
Reason: ${e.reason}
Status: ${e.status}

Please review and process this leave request through the HRMS dashboard.

Best regards,
HRMS System
CECOS University`,c=s.map(d=>gu({to:d,subject:`New Leave Request - ${e.employeeName} (${e.leaveType})`,message:l,from_name:"HRMS Leave Management"}));try{const d=await Promise.all(c);return console.log(`Leave notification emails sent successfully to ${s.length} recipients`,d),d}catch(d){return console.error("Leave notification emails failed:",d),null}},k8=async(e,t)=>{const s=(Ae.getState().employees||[]).filter(d=>d.email&&d.email!==t&&d.email!==e.email).map(d=>d.email),l=`Dear Team,

A new employee has been added to the system:

Employee Name: ${e.name}
Employee Code: ${e.code}
Email: ${e.email}
Designation: ${e.designation}
Department: ${e.department}
Join Date: ${e.joinDate}

Please update your records accordingly.

Best regards,
HRMS System
CECOS University`,c=s.map(d=>gu({to:d,subject:`New Employee Added - ${e.name}`,message:l,from_name:"HRMS Employee Management"}));try{const d=await Promise.all(c);return await gu({to:e.email,subject:"Welcome to CECOS University - Your Employee Account",message:`Dear ${e.name},

Welcome to CECOS University!

Your employee account has been created in the HRMS.

Your Employee Code: ${e.code}
Your Designation: ${e.designation}
Your Department: ${e.department}

You can now access the HRMS portal using your credentials.

Best regards,
HRMS System
CECOS University`,from_name:"HRMS Welcome"}),console.log(`New employee notification emails sent successfully to ${s.length} recipients`,d),d}catch(d){return console.error("New employee notification emails failed:",d),null}},P8=async(e,t)=>{const s=(Ae.getState().employees||[]).filter(d=>d.email&&d.email!==t).map(d=>d.email);if(s.length===0)return console.log("No recipients found for announcement notification"),null;const l=`New Announcement:

Title: ${e.title}

${e.description}

Audience: ${e.audience}
Posted by: ${e.postedBy}
Date: ${new Date().toLocaleString("en-PK")}

Please log in to the HRMS system to view full details.

Best regards,
HRMS System
CECOS University`,c=s.map(d=>gu({to:d,subject:`New Announcement - ${e.title}`,message:l,from_name:"HRMS Announcements"}));try{const d=await Promise.all(c);return console.log(`Announcement notification emails sent successfully to ${s.length} recipients`,d),d}catch(d){return console.error("Announcement notification emails failed:",d),null}},TD=async(e,t)=>{const s=(Ae.getState().employees||[]).filter(d=>d.email&&d.email!==t).map(d=>d.email);if(s.length===0)return console.log("No recipients found for meeting notification"),null;const l=`Dear Colleague,

You are cordially invited to attend a committee meeting.

Meeting Title: ${e.title}
Date: ${e.date}
Time: ${e.time}
Location: ${e.location}

Agenda:
${e.agenda}

Convener: ${e.convener}

Please confirm your attendance and inform if you have any specific topics to discuss.

Best regards,
HRMS System
CECOS University`,c=s.map(d=>gu({to:d,subject:`Committee Meeting Invitation - ${e.title}`,message:l,from_name:`Committee Meeting - ${e.convener}`}));try{const d=await Promise.all(c);return console.log(`Meeting notification emails sent successfully to ${s.length} recipients`,d),d}catch(d){return console.error("Meeting notification emails failed:",d),null}};function R8(){const e=Ae(l=>l.employees);Ae(l=>l.getStats)();const a=[{title:"Total Users",value:e.length+6,icon:en,iconBg:"bg-blue-500",trend:5},{title:"Active Sessions",value:12,icon:L5,iconBg:"bg-green-500",subtitle:"Across all portals"},{title:"Security Alerts",value:0,icon:di,iconBg:"bg-purple-500",subtitle:"All systems secure"},{title:"Pending Issues",value:2,icon:Jn,iconBg:"bg-yellow-500",subtitle:"Requires attention"}],r=[{action:"User login",user:"Alice Smith",time:"2 minutes ago",status:"success"},{action:"Leave approved",user:"HR Manager",time:"15 minutes ago",status:"success"},{action:"Password reset",user:"Bob Ahmed",time:"1 hour ago",status:"warning"},{action:"New employee added",user:"HR Manager",time:"3 hours ago",status:"success"},{action:"System backup",user:"System",time:"6 hours ago",status:"success"}],s=[{name:"Database",status:"Operational",uptime:"99.9%"},{name:"Authentication",status:"Operational",uptime:"100%"},{name:"File Storage",status:"Operational",uptime:"99.8%"},{name:"Email Service",status:"Degraded",uptime:"98.5%"}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Administration"}),n.jsx("p",{className:"text-gray-500",children:"Monitor and manage HRMS system settings"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 stagger-animate",children:a.map((l,c)=>n.jsx(wt,{...l},c))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Recent Activity",subtitle:"Latest system events",children:n.jsx("div",{className:"space-y-4",children:r.map((l,c)=>n.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-gray-50",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${l.status==="success"?"bg-green-500":l.status==="warning"?"bg-yellow-500":"bg-red-500"}`}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.action}),n.jsxs("p",{className:"text-xs text-gray-500",children:["by ",l.user]})]}),n.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[n.jsx(Be,{className:"w-3 h-3"}),l.time]})]},c))})}),n.jsx(K,{title:"System Health",subtitle:"Service status overview",children:n.jsx("div",{className:"space-y-4",children:s.map((l,c)=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[l.status==="Operational"?n.jsx(Le,{className:"w-5 h-5 text-green-500"}):n.jsx(Jn,{className:"w-5 h-5 text-yellow-500"}),n.jsx("span",{className:"font-medium text-gray-900",children:l.name})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:`text-sm font-medium ${l.status==="Operational"?"text-green-600":"text-yellow-600"}`,children:l.status}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Uptime: ",l.uptime]})]})]},c))})})]}),n.jsx(K,{title:"Quick Actions",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("button",{className:"p-4 rounded-xl border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all text-center",children:[n.jsx(en,{className:"w-8 h-8 mx-auto mb-2 text-gray-600"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Add User"})]}),n.jsxs("button",{className:"p-4 rounded-xl border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all text-center",children:[n.jsx(di,{className:"w-8 h-8 mx-auto mb-2 text-gray-600"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Security Scan"})]}),n.jsxs("button",{className:"p-4 rounded-xl border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all text-center",children:[n.jsx(L5,{className:"w-8 h-8 mx-auto mb-2 text-gray-600"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Backup Data"})]}),n.jsxs("button",{className:"p-4 rounded-xl border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all text-center",children:[n.jsx(Jn,{className:"w-8 h-8 mx-auto mb-2 text-gray-600"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"View Alerts"})]})]})})]})}function ge({children:e,variant:t="default",size:a="sm"}){const r={default:"bg-gray-100 text-gray-700 border-gray-200",success:"bg-emerald-50 text-emerald-700 border-emerald-200",warning:"bg-amber-50 text-amber-700 border-amber-200",danger:"bg-red-50 text-red-700 border-red-200",error:"bg-red-50 text-red-700 border-red-200",info:"bg-blue-50 text-blue-700 border-blue-200",primary:"bg-[hsl(var(--color-primary)/0.1)] text-[hsl(var(--color-primary))] border-[hsl(var(--color-primary)/0.2)]",secondary:"bg-[hsl(var(--color-secondary)/0.1)] text-[hsl(var(--color-secondary))] border-[hsl(var(--color-secondary)/0.2)]",purple:"bg-purple-50 text-purple-700 border-purple-200"},s={xs:"px-1.5 py-0.5 text-[10px]",sm:"px-2.5 py-0.5 text-xs",md:"px-3 py-1 text-sm"};return n.jsx("span",{className:`inline-flex items-center rounded-full font-medium border whitespace-nowrap ${s[a]||s.sm} ${r[t]||r.default}`,children:e})}function vt({open:e,isOpen:t,onClose:a,title:r,children:s,actions:l,size:c="xl"}){if(!(e||t))return null;const m={sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl",full:"max-w-[98vw] lg:max-w-7xl"};return n.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-black/50 p-0 sm:p-4",style:{overscrollBehavior:"contain",paddingTop:"80px"},onClick:a,children:n.jsxs("div",{className:`bg-white rounded-t-2xl sm:rounded-xl shadow-2xl w-full ${m[c]||m.md} max-h-[90vh] sm:max-h-[85vh] overflow-hidden flex flex-col`,style:{position:"relative"},onClick:f=>f.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 py-3 sm:py-4 border-b bg-white shrink-0 sticky top-0 z-10",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 pr-4",children:r}),n.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 p-1.5 rounded-lg hover:bg-gray-100 transition-colors shrink-0",children:n.jsx(jp,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),n.jsx("div",{className:"px-4 sm:px-6 py-4 overflow-y-auto flex-1",style:{maxHeight:"calc(85vh - 64px)"},children:s}),l&&n.jsx("div",{className:"px-4 sm:px-6 py-3 sm:py-4 bg-gray-50 flex flex-col-reverse sm:flex-row gap-2 sm:gap-3 justify-end border-t shrink-0",children:l})]})})}function Nc({src:e,name:t="",size:a="md",status:r,className:s=""}){const l={xs:"w-6 h-6 text-xs",sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-12 h-12 text-lg",xl:"w-16 h-16 text-xl"},c={online:"bg-green-500",offline:"bg-gray-400",busy:"bg-red-500",away:"bg-yellow-500"},d={xs:"w-1.5 h-1.5",sm:"w-2 h-2",md:"w-2.5 h-2.5",lg:"w-3 h-3",xl:"w-4 h-4"},m=f=>{if(!f)return"?";const h=f.trim().split(" ");return h.length===1?h[0].charAt(0).toUpperCase():(h[0].charAt(0)+h[h.length-1].charAt(0)).toUpperCase()};return n.jsxs("div",{className:`relative inline-flex ${s}`,children:[e?n.jsx("img",{src:e,alt:t,className:`${l[a]} rounded-full object-cover ring-2 ring-white`}):n.jsx("div",{className:`${l[a]} rounded-full bg-linear-to-br from-[hsl(var(--color-primary))] to-[hsl(var(--color-secondary))] flex items-center justify-center text-white font-semibold ring-2 ring-white`,children:m(t)}),r&&n.jsx("span",{className:`absolute bottom-0 right-0 ${d[a]} ${c[r]} rounded-full ring-2 ring-white`})]})}function _8(){const{employees:e}=Ae(),[t,a]=x.useState(""),[r,s]=x.useState(!1),d=[...[{id:"u-admin",name:"System Administrator",email:"admin@cecos.edu.pk",role:"admin",status:"Active",lastLogin:"2 min ago"},{id:"u-hr",name:"Sarah Khan",email:"hr@cecos.edu.pk",role:"hr",status:"Active",lastLogin:"1 hour ago"},{id:"u-vp",name:"Dr. Ahmad Malik",email:"vp@cecos.edu.pk",role:"vp",status:"Active",lastLogin:"3 hours ago"},{id:"u-dean",name:"Prof. Fatima Ali",email:"dean.computing@cecos.edu.pk",role:"dean",status:"Active",lastLogin:"1 day ago"},{id:"u-hod",name:"Dr. Imran Shah",email:"hod.cs@cecos.edu.pk",role:"hod",status:"Active",lastLogin:"5 hours ago"}],...e.map(f=>({id:f.id,name:f.name,email:f.email,role:"employee",status:f.status,lastLogin:"N/A",department:f.department}))].filter(f=>f.name.toLowerCase().includes(t.toLowerCase())||f.email.toLowerCase().includes(t.toLowerCase())||f.role.toLowerCase().includes(t.toLowerCase())),m=f=>{switch(f){case"admin":return"danger";case"vp":return"primary";case"dean":return"warning";case"hod":return"success";case"hr":return"primary";default:return"default"}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),n.jsx("p",{className:"text-gray-500",children:"Manage system users and their roles"})]}),n.jsxs(X,{onClick:()=>s(!0),children:[n.jsx(ci,{className:"w-4 h-4"}),"Add User"]})]}),n.jsxs(K,{children:[n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"max-w-md",children:n.jsx(Cn,{type:"text",placeholder:"Search users...",value:t,onChange:f=>a(f.target.value),className:"w-full",inputClassName:"pr-4 py-2"})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"User"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Role"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Last Login"}),n.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:d.map(f=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Nc,{name:f.name,size:"sm"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:f.name}),n.jsx("p",{className:"text-sm text-gray-500",children:f.email})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(ge,{variant:m(f.role),children:zl[f.role]||f.role})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(ge,{variant:f.status==="Active"?"success":"warning",children:f.status})}),n.jsx("td",{className:"px-4 py-4 text-sm text-gray-500",children:f.lastLogin}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 text-gray-500 hover:text-gray-700",children:n.jsx(di,{className:"w-4 h-4"})}),n.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 text-gray-500 hover:text-gray-700",children:n.jsx(RD,{className:"w-4 h-4"})}),n.jsx("button",{className:"p-2 rounded-lg hover:bg-red-50 text-gray-500 hover:text-red-600",children:n.jsx(bp,{className:"w-4 h-4"})})]})})]},f.id))})]})}),d.length===0&&n.jsx("div",{className:"text-center py-12 text-gray-500",children:"No users found matching your search."})]}),n.jsx(vt,{isOpen:r,onClose:()=>s(!1),title:"Add New User",children:n.jsxs("form",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),n.jsx("input",{type:"text",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]",placeholder:"Enter full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{type:"email",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]",placeholder:"user@cecos.edu.pk"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),n.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]",children:[n.jsx("option",{value:"employee",children:"Employee"}),n.jsx("option",{value:"hr",children:"HR Manager"}),n.jsx("option",{value:"hod",children:"Head of Department"}),n.jsx("option",{value:"dean",children:"Dean"}),n.jsx("option",{value:"vp",children:"Vice President"}),n.jsx("option",{value:"admin",children:"Administrator"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx(X,{variant:"secondary",onClick:()=>s(!1),children:"Cancel"}),n.jsx(X,{type:"submit",children:"Create User"})]})]})})]})}const mj=x.createContext(null);function ca({children:e,value:t,onValueChange:a,defaultValue:r,className:s=""}){const[l,c]=x.useState(r||""),d=t!==void 0?t:l,m=a||c;return n.jsx(mj.Provider,{value:{value:d,onChange:m},children:n.jsx("div",{className:s,children:e})})}function da({children:e,className:t=""}){return n.jsx("div",{className:`flex gap-1 bg-gray-100 p-1 rounded-xl overflow-x-auto scrollbar-hide ${t}`,children:e})}function He({children:e,value:t,className:a=""}){const r=x.useContext(mj),s=r?.value===t;return n.jsx("button",{type:"button",onClick:()=>r?.onChange?.(t),className:`px-4 py-2 text-sm font-medium rounded-lg transition-all whitespace-nowrap shrink-0 ${s?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"} ${a}`,children:e})}function St({children:e,value:t,className:a=""}){return x.useContext(mj)?.value!==t?null:n.jsx("div",{className:`animate-fade-in ${a}`,children:e})}function T8({tabs:e=[],activeTab:t,onChange:a,variant:r="underline",className:s=""}){const c={underline:{container:"border-b border-gray-200",tab:"px-4 py-3 text-sm font-medium border-b-2 -mb-px transition-colors",active:"border-[hsl(var(--color-primary))] text-[hsl(var(--color-primary))]",inactive:"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"},pills:{container:"flex gap-2 bg-gray-100 p-1 rounded-xl",tab:"px-4 py-2 text-sm font-medium rounded-lg transition-all",active:"bg-white text-gray-900 shadow-sm",inactive:"text-gray-500 hover:text-gray-700"},boxed:{container:"flex gap-1",tab:"px-4 py-2 text-sm font-medium rounded-lg border transition-all",active:"bg-[hsl(var(--color-primary))] text-white border-transparent",inactive:"bg-white text-gray-600 border-gray-200 hover:border-gray-300"}}[r];return n.jsx("div",{className:`${c.container} ${s}`,children:n.jsx("nav",{className:r==="underline"?"flex gap-4":"flex",children:e.map(d=>n.jsxs("button",{onClick:()=>a?.(d.id),className:`${c.tab} ${t===d.id?c.active:c.inactive} flex items-center gap-2`,children:[d.icon&&n.jsx(d.icon,{className:"w-4 h-4"}),n.jsx("span",{children:d.label}),d.count!==void 0&&n.jsx("span",{className:`ml-1 px-2 py-0.5 text-xs rounded-full ${t===d.id?"bg-white/20 text-current":"bg-gray-200 text-gray-600"}`,children:d.count})]},d.id))})})}function L8(){const[e,t]=x.useState("general"),{resetData:a}=Ae(),r=[{id:"general",label:"General"},{id:"security",label:"Security"},{id:"notifications",label:"Notifications"},{id:"integrations",label:"Integrations"}],s=()=>{window.confirm("Are you sure you want to reset all data to defaults? This cannot be undone.")&&(a(),alert("Data has been reset to defaults."))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Settings"}),n.jsx("p",{className:"text-gray-500",children:"Configure HRMS system preferences"})]}),n.jsx(T8,{tabs:r,activeTab:e,onChange:t}),e==="general"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs(K,{title:"Organization Info",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),n.jsx("input",{type:"text",defaultValue:"CECOS University",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),n.jsx("input",{type:"url",defaultValue:"https://cecos.edu.pk",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email"}),n.jsx("input",{type:"email",defaultValue:"info@cecos.edu.pk",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),n.jsx("input",{type:"tel",defaultValue:"+92-91-1234567",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),n.jsx("textarea",{rows:3,defaultValue:"F-5 Phase 6, Hayatabad, Peshawar, KPK, Pakistan",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]})]}),n.jsxs(K,{title:"Working Hours",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Start Time"}),n.jsx("input",{type:"time",defaultValue:"09:00",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work End Time"}),n.jsx("input",{type:"time",defaultValue:"17:00",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Late Threshold (minutes)"}),n.jsx("input",{type:"number",defaultValue:"15",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Working Days"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((l,c)=>n.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-gray-200 cursor-pointer hover:bg-gray-50",children:[n.jsx("input",{type:"checkbox",defaultChecked:c<5,className:"rounded text-[hsl(var(--color-primary))]"}),n.jsx("span",{className:"text-sm",children:l})]},l))})]})]}),n.jsx(K,{title:"Leave Configuration",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Annual Leave (days/year)"}),n.jsx("input",{type:"number",defaultValue:"20",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sick Leave (days/year)"}),n.jsx("input",{type:"number",defaultValue:"12",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Casual Leave (days/year)"}),n.jsx("input",{type:"number",defaultValue:"10",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsx(X,{children:"Save Changes"})})]}),e==="security"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(K,{title:"Password Policy",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("label",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Minimum Password Length"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Require at least 8 characters"})]}),n.jsx("input",{type:"number",defaultValue:"8",className:"w-20 px-3 py-2 rounded-lg border border-gray-200 text-center"})]}),n.jsxs("label",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Require Special Characters"}),n.jsx("p",{className:"text-sm text-gray-500",children:"At least one special character (!@#$%)"})]}),n.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded text-[hsl(var(--color-primary))]"})]}),n.jsxs("label",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Password Expiry"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Force password reset every 90 days"})]}),n.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded text-[hsl(var(--color-primary))]"})]})]})}),n.jsx(K,{title:"Session Settings",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("label",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Session Timeout (minutes)"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Auto logout after inactivity"})]}),n.jsx("input",{type:"number",defaultValue:"30",className:"w-20 px-3 py-2 rounded-lg border border-gray-200 text-center"})]}),n.jsxs("label",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Single Session Only"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Prevent multiple simultaneous logins"})]}),n.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded text-[hsl(var(--color-primary))]"})]})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsx(X,{children:"Save Security Settings"})})]}),e==="notifications"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(K,{title:"Email Notifications",children:n.jsx("div",{className:"space-y-4",children:[{title:"Leave Request Submitted",desc:"Notify HR when leave is applied"},{title:"Leave Approved/Rejected",desc:"Notify employee of leave decision"},{title:"New Employee Added",desc:"Notify HR and Admin"},{title:"Attendance Alert",desc:"Notify when late or absent"},{title:"Payroll Processed",desc:"Notify employees of salary credit"}].map((l,c)=>n.jsxs("label",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:l.title}),n.jsx("p",{className:"text-sm text-gray-500",children:l.desc})]}),n.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded text-[hsl(var(--color-primary))]"})]},c))})}),n.jsx("div",{className:"flex justify-end",children:n.jsx(X,{children:"Save Notification Settings"})})]}),e==="integrations"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(K,{title:"Connected Services",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600 font-bold",children:"MS"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Microsoft 365"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Calendar and email integration"})]})]}),n.jsx(X,{variant:"secondary",className:"text-sm",children:"Configure"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center text-green-600 font-bold",children:"WA"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"WhatsApp Business"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Notification delivery"})]})]}),n.jsx(X,{variant:"outline",className:"text-sm",children:"Connect"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-100 flex items-center justify-center text-purple-600 font-bold",children:"BM"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Biometric System"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Attendance hardware integration"})]})]}),n.jsx(X,{variant:"outline",className:"text-sm",children:"Connect"})]})]})}),n.jsx(K,{title:"Data Management",className:"border-red-200",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Reset all data to default values. This will remove all employees, attendance records, and leave requests. This action cannot be undone."}),n.jsx(X,{variant:"danger",onClick:s,children:"Reset All Data"})]})})]})]})}const I8=()=>{const e=[{action:"User Login",category:"Authentication",severity:"info"},{action:"User Logout",category:"Authentication",severity:"info"},{action:"Employee Created",category:"Employee",severity:"info"},{action:"Employee Updated",category:"Employee",severity:"info"},{action:"Employee Deleted",category:"Employee",severity:"warning"},{action:"Leave Approved",category:"Leave",severity:"success"},{action:"Leave Rejected",category:"Leave",severity:"warning"},{action:"Password Changed",category:"Security",severity:"info"},{action:"Settings Updated",category:"System",severity:"info"},{action:"Failed Login Attempt",category:"Security",severity:"danger"},{action:"Role Changed",category:"Security",severity:"warning"},{action:"Data Export",category:"Data",severity:"info"}],t=["Admin","Sarah Khan","Dr. Ahmad Malik","System","Alice Smith"],a=[];for(let r=0;r<50;r++){const s=e[Math.floor(Math.random()*e.length)],l=t[Math.floor(Math.random()*t.length)],c=nt(new Date,Math.floor(Math.random()*30)),d=Math.floor(Math.random()*24),m=Math.floor(Math.random()*60);a.push({id:`log-${r}`,...s,user:l,timestamp:new Date(c.setHours(d,m)),ip:`192.168.1.${Math.floor(Math.random()*255)}`,details:`${s.action} performed successfully`})}return a.sort((r,s)=>s.timestamp-r.timestamp)},z8=I8();function $8(){const[e,t]=x.useState(""),[a,r]=x.useState("all"),[s,l]=x.useState("all"),c=["all","Authentication","Employee","Leave","Security","System","Data"],d=["all","info","success","warning","danger"],m=z8.filter(h=>{const g=h.action.toLowerCase().includes(e.toLowerCase())||h.user.toLowerCase().includes(e.toLowerCase()),v=a==="all"||h.category===a,y=s==="all"||h.severity===s;return g&&v&&y}),f=h=>{switch(h){case"success":return"success";case"warning":return"warning";case"danger":return"danger";default:return"default"}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Audit Logs"}),n.jsx("p",{className:"text-gray-500",children:"Track all system activities and changes"})]}),n.jsxs(X,{variant:"secondary",children:[n.jsx(Wt,{className:"w-4 h-4"}),"Export Logs"]})]}),n.jsxs(K,{children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Cn,{type:"text",placeholder:"Search logs...",value:e,onChange:h=>t(h.target.value),className:"w-full",inputClassName:"pr-4 py-2"})}),n.jsx("select",{value:a,onChange:h=>r(h.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]",children:c.map(h=>n.jsx("option",{value:h,children:h==="all"?"All Categories":h},h))}),n.jsx("select",{value:s,onChange:h=>l(h.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]",children:d.map(h=>n.jsx("option",{value:h,children:h==="all"?"All Severities":h.charAt(0).toUpperCase()+h.slice(1)},h))})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Timestamp"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Action"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"User"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Category"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Severity"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"IP Address"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:m.slice(0,20).map(h=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 whitespace-nowrap",children:q(h.timestamp,"MMM dd, yyyy HH:mm")}),n.jsxs("td",{className:"px-4 py-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:h.action}),n.jsx("p",{className:"text-xs text-gray-500",children:h.details})]}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:h.user}),n.jsx("td",{className:"px-4 py-3",children:n.jsx(ge,{variant:"default",children:h.category})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx(ge,{variant:f(h.severity),children:h.severity})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 font-mono",children:h.ip})]},h.id))})]})}),m.length===0&&n.jsx("div",{className:"text-center py-12 text-gray-500",children:"No logs found matching your filters."}),m.length>20&&n.jsx("div",{className:"mt-4 text-center",children:n.jsx(X,{variant:"secondary",children:"Load More"})})]})]})}function B8(){return n.jsx(yi,{children:n.jsxs(Se,{element:n.jsx(p8,{}),children:[n.jsx(Se,{index:!0,element:n.jsx(R8,{})}),n.jsx(Se,{path:"users",element:n.jsx(_8,{})}),n.jsx(Se,{path:"settings",element:n.jsx(L8,{})}),n.jsx(Se,{path:"audit",element:n.jsx($8,{})}),n.jsx(Se,{path:"*",element:n.jsx(ps,{to:".",replace:!0})})]})})}const F8=[{path:"/hr",label:"Dashboard",icon:zu,end:!0,roles:["hr","admin","dean","hod"]},{path:"/hr/pams",label:"PAMS Final Processing",icon:Hv,roles:["hr","admin"]},{path:"/hr/employees",label:"Employees",icon:en,roles:["hr","admin"]},{path:"/hr/attendance",label:"Attendance Mgmt",icon:Be,roles:["hr","admin"]},{path:"/hr/attendance-list",label:"Attendance List",icon:ht,roles:["hr","admin"]},{path:"/hr/recruitment",label:"Recruitment & ATS",icon:xh,roles:["hr","admin"]},{path:"/hr/operational",label:"Operational Dashboard",icon:$a,roles:["hr","admin"]},{path:"/hr/promotions",label:"Promotions",icon:gs,roles:["hr","admin"]},{path:"/hr/increments",label:"Bulk Increments",icon:nr,roles:["hr","admin"]},{path:"/hr/payroll",label:"Payroll",icon:ar,roles:["hr","admin"]},{path:"/hr/resignations",label:"Resignations",icon:jc,roles:["hr","admin"]},{path:"/hr/profile-requests",label:"Profile Requests",icon:T7,roles:["hr","admin"]},{path:"/hr/ex-employees",label:"Ex-Employees",icon:ll,roles:["hr","admin"]},{path:"/hr/analytics",label:"Analytics",icon:oj,roles:["hr","admin"]},{path:"/hr/reports",label:"Reports",icon:$a,roles:["hr","admin"]},{path:"/hr/policy-advisory",label:"Policy Advisory",icon:di,roles:["hr","admin"]},{path:"/hr/announcements",label:"Announcements",icon:Xr,roles:["hr","admin"]},{path:"/hr/settings",label:"Settings",icon:Tr,roles:["hr","admin"]}];function U8(){const e=Qe(s=>s.user),t=e?.primaryRole||e?.role,a=x.useMemo(()=>F8.filter(s=>s.roles.includes(t)),[t]),r=t==="dean"?"Dean Portal":t==="hod"?"HOD Portal":"HR Portal";return n.jsx(vi,{portalKey:"hr",portalName:r,navItems:a})}function q8(){const e=rj(),t=Qe(w=>w.user),{employees:a,attendance:r,leaves:s}=Ae(),l=Ae(w=>w.getOvertimeStats),c=Ae(w=>w.getPendingApprovalsSummary),d=Ae(w=>w.getExpiringContracts),m=Ae(w=>w.payrollSettings),f=t?.primaryRole||t?.role,h=f==="dean",g=f==="hod",v=h||g,y=w=>{const A=Zs.find(O=>O.id===w);return A?A.name:w},j=x.useMemo(()=>{const w=new Date,A=q(w,"yyyy-MM-dd"),O=La(w),D=Ia(w),k=r.filter(Y=>Y.date===A),_=k.filter(Y=>Y.status==="Present").length,E=k.filter(Y=>Y.status==="Late").length,P=a.length-_-E,z=s.filter(Y=>Y.status==="Pending"),L=s.filter(Y=>{if(Y.status!=="Approved")return!1;const V=ue(Y.appliedOn);return xs(V,{start:O,end:D})}),I=a.filter(Y=>Y.status==="Active").length,J=a.filter(Y=>Y.status==="On Leave").length,T=a.filter(Y=>Y.status==="Active").reduce((Y,V)=>Y+(V.salaryBase||0),0);return{totalEmployees:a.length,activeEmployees:I,onLeave:J,presentToday:_,lateToday:E,absentToday:P,pendingLeaves:z.length,approvedThisMonth:L.length,totalPayroll:T,attendanceRate:a.length>0?Math.round((_+E)/a.length*100):0,overtimeThisMonth:l()?.totalHours||0,pendingApprovals:c(),expiringSoon:d(m?.operationalConfig?.expiryHorizonDays||30)}},[a,r,s,l,c,d,m]),b=x.useMemo(()=>{let w=s;if(v){const A=f?.toLowerCase();w=s.filter(O=>O.approvalChain?.find(k=>k.role===A)?.status==="pending"&&(O.status==="Pending"||O.status==="Forwarded"))}else w=s.filter(A=>A.status==="Pending");return w.sort((A,O)=>ue(O.appliedOn)-ue(A.appliedOn)).slice(0,5)},[s,v,f]),S=x.useMemo(()=>r.filter(w=>w.status==="Late"||w.status==="Absent").sort((w,A)=>ue(A.date)-ue(w.date)).slice(0,5).map(w=>({...w,employee:a.find(A=>A.id===w.employeeId)})),[r,a]),M=w=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(w);return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-linear-to-r from-red-800 to-red-900 rounded-2xl p-6 text-white",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:h?"Dean Dashboard":g?"HOD Dashboard":"HR Dashboard"}),n.jsxs("p",{className:"text-red-100 mt-1",children:["Welcome back, ",t?.name?.split(" ")[0],"!",v?" Review pending leave requests.":` Here's your overview for ${q(new Date,"EEEE, MMMM d")}`]})]}),!v&&n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-lg px-4 py-2",children:[n.jsx("p",{className:"text-sm text-red-100",children:"Attendance Rate"}),n.jsxs("p",{className:"text-2xl font-bold",children:[j.attendanceRate,"%"]})]})})]})}),v?n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[n.jsx(wt,{title:"Pending Approvals",value:(j.pendingApprovals?.leaves||0)+(j.pendingApprovals?.attendanceCorrections||0)+(j.pendingApprovals?.promotions||0),subtitle:"Requests awaiting your approval",icon:ht,color:b.length>5?"warning":"default"}),n.jsx(wt,{title:"Your Department",value:t?.faculty||"N/A",subtitle:`${t?.department||"Department"} Department`,icon:en,color:"primary"}),n.jsx(wt,{title:"Approved This Month",value:j.approvedThisMonth,subtitle:"Leave requests approved",icon:Le,color:"success"})]}):n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx(wt,{title:"Total Employees",value:j.totalEmployees,subtitle:`${j.activeEmployees} active, ${j.onLeave} on leave`,icon:en,trend:"up",trendValue:"+2 this month",color:"primary"}),n.jsx(wt,{title:"Present Today",value:j.presentToday,subtitle:`${j.lateToday} late, ${j.absentToday} absent`,icon:Le,color:"success"}),n.jsx(wt,{title:"Pending Leaves",value:j.pendingLeaves,subtitle:`${j.approvedThisMonth} approved this month`,icon:ht,color:j.pendingLeaves>5?"warning":"default"}),n.jsx(wt,{title:"Monthly Payroll",value:M(j.totalPayroll),subtitle:"Total base salary expense",icon:ar,color:"success"}),n.jsx(wt,{title:"Overtime (Month)",value:`${j.overtimeThisMonth.toFixed?j.overtimeThisMonth.toFixed(1):j.overtimeThisMonth} hrs`,subtitle:`Warning above ${m?.operationalConfig?.overtimeWarningHours||40} hrs`,icon:Be,color:j.overtimeThisMonth>(m?.operationalConfig?.overtimeWarningHours||40)?"warning":"default"}),n.jsx(wt,{title:"Pending Approvals",value:(j.pendingApprovals?.leaves||0)+(j.pendingApprovals?.attendanceCorrections||0)+(j.pendingApprovals?.promotions||0)+(j.pendingApprovals?.profileUpdates||0)+(j.pendingApprovals?.selectionBoard||0),subtitle:"Leaves, corrections, promotions, profiles, board",icon:ht,color:(j.pendingApprovals?.leaves||0)>5?"warning":"default"}),n.jsx(wt,{title:`Expiries (${m?.operationalConfig?.expiryHorizonDays||30}d)`,value:j.expiringSoon?.length||0,subtitle:"Probation & contracts due",icon:ED,color:(j.expiringSoon?.length||0)>0?"warning":"default"})]}),!v&&n.jsxs(K,{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[n.jsxs(fn,{to:"/hr/employees",className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-blue-50 hover:bg-blue-100 transition-colors group",children:[n.jsx(en,{className:"w-6 h-6 text-blue-600 group-hover:scale-110 transition-transform"}),n.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Manage Employees"})]}),n.jsxs(fn,{to:"/hr/leaves",className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-green-50 hover:bg-green-100 transition-colors group",children:[n.jsx(ht,{className:"w-6 h-6 text-green-600 group-hover:scale-110 transition-transform"}),n.jsx("span",{className:"text-sm font-medium text-green-900",children:"Approve Leaves"})]}),n.jsxs(fn,{to:"/hr/attendance",className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-amber-50 hover:bg-amber-100 transition-colors group",children:[n.jsx(Be,{className:"w-6 h-6 text-amber-600 group-hover:scale-110 transition-transform"}),n.jsx("span",{className:"text-sm font-medium text-amber-900",children:"View Attendance"})]}),n.jsxs(fn,{to:"/hr/reports",className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-purple-50 hover:bg-purple-100 transition-colors group",children:[n.jsx($a,{className:"w-6 h-6 text-purple-600 group-hover:scale-110 transition-transform"}),n.jsx("span",{className:"text-sm font-medium text-purple-900",children:"View Reports"})]})]})]}),n.jsxs("div",{className:v?"grid gap-6":"grid lg:grid-cols-2 gap-6",children:[n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:v?"Leave Requests Awaiting Your Approval":"Pending Leave Requests"}),n.jsxs(fn,{to:"/hr/leaves",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:["View All ",n.jsx(lu,{className:"w-4 h-4"})]})]}),b.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Le,{className:"w-12 h-12 text-green-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-700 font-medium",children:v?"All Caught Up!":"No pending leave requests"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:v?"You have no leave requests awaiting your approval at this time.":"No pending leave requests"})]}):n.jsx("div",{className:"space-y-3",children:b.map(w=>n.jsxs("div",{onClick:()=>e("/hr/leaves"),className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-medium text-gray-600",children:w.employeeName?.split(" ").map(A=>A[0]).join("")})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:w.employeeName}),n.jsxs("p",{className:"text-xs text-gray-500",children:[y(w.type),"  ",w.days," day",w.days>1?"s":""," "," ",w.department]})]})]}),n.jsx(ge,{variant:"warning",children:"Pending"})]},w.id))})]}),!v&&n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Attendance Issues"}),n.jsxs(fn,{to:"/hr/attendance",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:["View All ",n.jsx(lu,{className:"w-4 h-4"})]})]}),S.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Le,{className:"w-12 h-12 text-green-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-500",children:"No attendance issues"})]}):n.jsx("div",{className:"space-y-3",children:S.map(w=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${w.status==="Late"?"bg-yellow-100":"bg-red-100"}`,children:n.jsx(Jn,{className:`w-5 h-5 ${w.status==="Late"?"text-yellow-600":"text-red-600"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:w.employee?.name||"Unknown"}),n.jsxs("p",{className:"text-xs text-gray-500",children:[q(ue(w.date),"MMM d, yyyy")," "," ",w.clockIn||"No clock in"]})]})]}),n.jsx(ge,{variant:w.status==="Late"?"warning":"error",children:w.status})]},w.id))})]}),!v&&n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:`Upcoming Probation/Contract Expiries (${m?.operationalConfig?.expiryHorizonDays||30}d)`}),n.jsxs(fn,{to:"/hr/employees",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:["Manage ",n.jsx(lu,{className:"w-4 h-4"})]})]}),!j.expiringSoon||j.expiringSoon.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Le,{className:"w-12 h-12 text-green-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-500",children:"No upcoming expiries"})]}):n.jsx("div",{className:"space-y-3",children:j.expiringSoon.map(w=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:w.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:[w.department,"  ",w.type]})]}),n.jsx(ge,{variant:"warning",children:q(ue(w.dueDate),"MMM d, yyyy")})]},`${w.id}-${w.dueDate}`))})]})]})," ",!v&&n.jsxs(K,{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Department Overview"}),n.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:["Computing","Engineering","Management","Sciences"].map(w=>{const A=a.filter(O=>O.faculty===w);return n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("p",{className:"font-medium text-gray-900",children:w}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:A.length}),n.jsxs("p",{className:"text-xs text-gray-500",children:[A.filter(O=>O.status==="Active").length," active"]})]},w)})})]})]})}var Bu=e=>e.type==="checkbox",$l=e=>e instanceof Date,ka=e=>e==null;const LD=e=>typeof e=="object";var Tn=e=>!ka(e)&&!Array.isArray(e)&&LD(e)&&!$l(e),H8=e=>Tn(e)&&e.target?Bu(e.target)?e.target.checked:e.target.value:e,V8=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,K8=(e,t)=>e.has(V8(t)),W8=e=>{const t=e.constructor&&e.constructor.prototype;return Tn(t)&&t.hasOwnProperty("isPrototypeOf")},fj=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Yn(e){let t;const a=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(fj&&(e instanceof Blob||r))&&(a||Tn(e)))if(t=a?[]:Object.create(Object.getPrototypeOf(e)),!a&&!W8(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Yn(e[s]));else return e;return t}var Np=e=>/^\w*$/.test(e),wn=e=>e===void 0,hj=e=>Array.isArray(e)?e.filter(Boolean):[],pj=e=>hj(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ze=(e,t,a)=>{if(!t||!Tn(e))return a;const r=(Np(t)?[t]:pj(t)).reduce((s,l)=>ka(s)?s:s[l],e);return wn(r)||r===e?wn(e[t])?a:e[t]:r},ss=e=>typeof e=="boolean",on=(e,t,a)=>{let r=-1;const s=Np(t)?[t]:pj(t),l=s.length,c=l-1;for(;++r<l;){const d=s[r];let m=a;if(r!==c){const f=e[d];m=Tn(f)||Array.isArray(f)?f:isNaN(+s[r+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=m,e=e[d]}};const Q5={BLUR:"blur",FOCUS_OUT:"focusout"},Fr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ks={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Y8=De.createContext(null);Y8.displayName="HookFormContext";var G8=(e,t,a,r=!0)=>{const s={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(s,l,{get:()=>{const c=l;return t._proxyFormState[c]!==Fr.all&&(t._proxyFormState[c]=!r||Fr.all),e[c]}});return s};const Z8=typeof window<"u"?De.useLayoutEffect:De.useEffect;var Xa=e=>typeof e=="string",X8=(e,t,a,r,s)=>Xa(e)?(r&&t.watch.add(e),ze(a,e,s)):Array.isArray(e)?e.map(l=>(r&&t.watch.add(l),ze(a,l))):(r&&(t.watchAll=!0),a),Kv=e=>ka(e)||!LD(e);function al(e,t,a=new WeakSet){if(Kv(e)||Kv(t))return Object.is(e,t);if($l(e)&&$l(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;if(a.has(e)||a.has(t))return!0;a.add(e),a.add(t);for(const l of r){const c=e[l];if(!s.includes(l))return!1;if(l!=="ref"){const d=t[l];if($l(c)&&$l(d)||Tn(c)&&Tn(d)||Array.isArray(c)&&Array.isArray(d)?!al(c,d,a):!Object.is(c,d))return!1}}return!0}var Q8=(e,t,a,r,s)=>t?{...a[e],types:{...a[e]&&a[e].types?a[e].types:{},[r]:s||!0}}:{},ou=e=>Array.isArray(e)?e:[e],J5=()=>{let e=[];return{get observers(){return e},next:s=>{for(const l of e)l.next&&l.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(l=>l!==s)}}),unsubscribe:()=>{e=[]}}};function ID(e,t){const a={};for(const r in e)if(e.hasOwnProperty(r)){const s=e[r],l=t[r];if(s&&Tn(s)&&l){const c=ID(s,l);Tn(c)&&(a[r]=c)}else e[r]&&(a[r]=l)}return a}var ya=e=>Tn(e)&&!Object.keys(e).length,xj=e=>e.type==="file",Ur=e=>typeof e=="function",gh=e=>{if(!fj)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},zD=e=>e.type==="select-multiple",gj=e=>e.type==="radio",J8=e=>gj(e)||Bu(e),B0=e=>gh(e)&&e.isConnected;function e9(e,t){const a=t.slice(0,-1).length;let r=0;for(;r<a;)e=wn(e)?r++:e[t[r++]];return e}function t9(e){for(const t in e)if(e.hasOwnProperty(t)&&!wn(e[t]))return!1;return!0}function Pn(e,t){const a=Array.isArray(t)?t:Np(t)?[t]:pj(t),r=a.length===1?e:e9(e,a),s=a.length-1,l=a[s];return r&&delete r[l],s!==0&&(Tn(r)&&ya(r)||Array.isArray(r)&&t9(r))&&Pn(e,a.slice(0,-1)),e}var n9=e=>{for(const t in e)if(Ur(e[t]))return!0;return!1};function $D(e){return Array.isArray(e)||Tn(e)&&!n9(e)}function Wv(e,t={}){for(const a in e){const r=e[a];$D(r)?(t[a]=Array.isArray(r)?[]:{},Wv(r,t[a])):wn(r)||(t[a]=!0)}return t}function fc(e,t,a){a||(a=Wv(t));for(const r in e){const s=e[r];if($D(s))wn(t)||Kv(a[r])?a[r]=Wv(s,Array.isArray(s)?[]:{}):fc(s,ka(t)?{}:t[r],a[r]);else{const l=t[r];a[r]=!al(s,l)}}return a}const eA={value:!1,isValid:!1},tA={value:!0,isValid:!0};var BD=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!wn(e[0].attributes.value)?wn(e[0].value)||e[0].value===""?tA:{value:e[0].value,isValid:!0}:tA:eA}return eA},FD=(e,{valueAsNumber:t,valueAsDate:a,setValueAs:r})=>wn(e)?e:t?e===""?NaN:e&&+e:a&&Xa(e)?new Date(e):r?r(e):e;const nA={isValid:!1,value:null};var UD=e=>Array.isArray(e)?e.reduce((t,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:t,nA):nA;function aA(e){const t=e.ref;return xj(t)?t.files:gj(t)?UD(e.refs).value:zD(t)?[...t.selectedOptions].map(({value:a})=>a):Bu(t)?BD(e.refs).value:FD(wn(t.value)?e.ref.value:t.value,e)}var a9=(e,t,a,r)=>{const s={};for(const l of e){const c=ze(t,l);c&&on(s,l,c._f)}return{criteriaMode:a,names:[...e],fields:s,shouldUseNativeValidation:r}},yh=e=>e instanceof RegExp,Vd=e=>wn(e)?e:yh(e)?e.source:Tn(e)?yh(e.value)?e.value.source:e.value:e,rA=e=>({isOnSubmit:!e||e===Fr.onSubmit,isOnBlur:e===Fr.onBlur,isOnChange:e===Fr.onChange,isOnAll:e===Fr.all,isOnTouch:e===Fr.onTouched});const sA="AsyncFunction";var r9=e=>!!e&&!!e.validate&&!!(Ur(e.validate)&&e.validate.constructor.name===sA||Tn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===sA)),s9=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),iA=(e,t,a)=>!a&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const cu=(e,t,a,r)=>{for(const s of a||Object.keys(e)){const l=ze(e,s);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&t(c.refs[0],s)&&!r)return!0;if(c.ref&&t(c.ref,c.name)&&!r)return!0;if(cu(d,t))break}else if(Tn(d)&&cu(d,t))break}}};function lA(e,t,a){const r=ze(e,a);if(r||Np(a))return{error:r,name:a};const s=a.split(".");for(;s.length;){const l=s.join("."),c=ze(t,l),d=ze(e,l);if(c&&!Array.isArray(c)&&a!==l)return{name:a};if(d&&d.type)return{name:l,error:d};if(d&&d.root&&d.root.type)return{name:`${l}.root`,error:d.root};s.pop()}return{name:a}}var i9=(e,t,a,r)=>{a(e);const{name:s,...l}=e;return ya(l)||Object.keys(l).length>=Object.keys(t).length||Object.keys(l).find(c=>t[c]===(!r||Fr.all))},l9=(e,t,a)=>!e||!t||e===t||ou(e).some(r=>r&&(a?r===t:r.startsWith(t)||t.startsWith(r))),o9=(e,t,a,r,s)=>s.isOnAll?!1:!a&&s.isOnTouch?!(t||e):(a?r.isOnBlur:s.isOnBlur)?!e:(a?r.isOnChange:s.isOnChange)?e:!0,c9=(e,t)=>!hj(ze(e,t)).length&&Pn(e,t),d9=(e,t,a)=>{const r=ou(ze(e,a));return on(r,"root",t[a]),on(e,a,r),e};function oA(e,t,a="validate"){if(Xa(e)||Array.isArray(e)&&e.every(Xa)||ss(e)&&!e)return{type:a,message:Xa(e)?e:"",ref:t}}var lc=e=>Tn(e)&&!yh(e)?e:{value:e,message:""},cA=async(e,t,a,r,s,l)=>{const{ref:c,refs:d,required:m,maxLength:f,minLength:h,min:g,max:v,pattern:y,validate:j,name:b,valueAsNumber:S,mount:M}=e._f,w=ze(a,b);if(!M||t.has(b))return{};const A=d?d[0]:c,O=I=>{s&&A.reportValidity&&(A.setCustomValidity(ss(I)?"":I||""),A.reportValidity())},D={},k=gj(c),_=Bu(c),E=k||_,P=(S||xj(c))&&wn(c.value)&&wn(w)||gh(c)&&c.value===""||w===""||Array.isArray(w)&&!w.length,z=Q8.bind(null,b,r,D),L=(I,J,T,Y=Ks.maxLength,V=Ks.minLength)=>{const B=I?J:T;D[b]={type:I?Y:V,message:B,ref:c,...z(I?Y:V,B)}};if(l?!Array.isArray(w)||!w.length:m&&(!E&&(P||ka(w))||ss(w)&&!w||_&&!BD(d).isValid||k&&!UD(d).isValid)){const{value:I,message:J}=Xa(m)?{value:!!m,message:m}:lc(m);if(I&&(D[b]={type:Ks.required,message:J,ref:A,...z(Ks.required,J)},!r))return O(J),D}if(!P&&(!ka(g)||!ka(v))){let I,J;const T=lc(v),Y=lc(g);if(!ka(w)&&!isNaN(w)){const V=c.valueAsNumber||w&&+w;ka(T.value)||(I=V>T.value),ka(Y.value)||(J=V<Y.value)}else{const V=c.valueAsDate||new Date(w),B=W=>new Date(new Date().toDateString()+" "+W),U=c.type=="time",F=c.type=="week";Xa(T.value)&&w&&(I=U?B(w)>B(T.value):F?w>T.value:V>new Date(T.value)),Xa(Y.value)&&w&&(J=U?B(w)<B(Y.value):F?w<Y.value:V<new Date(Y.value))}if((I||J)&&(L(!!I,T.message,Y.message,Ks.max,Ks.min),!r))return O(D[b].message),D}if((f||h)&&!P&&(Xa(w)||l&&Array.isArray(w))){const I=lc(f),J=lc(h),T=!ka(I.value)&&w.length>+I.value,Y=!ka(J.value)&&w.length<+J.value;if((T||Y)&&(L(T,I.message,J.message),!r))return O(D[b].message),D}if(y&&!P&&Xa(w)){const{value:I,message:J}=lc(y);if(yh(I)&&!w.match(I)&&(D[b]={type:Ks.pattern,message:J,ref:c,...z(Ks.pattern,J)},!r))return O(J),D}if(j){if(Ur(j)){const I=await j(w,a),J=oA(I,A);if(J&&(D[b]={...J,...z(Ks.validate,J.message)},!r))return O(J.message),D}else if(Tn(j)){let I={};for(const J in j){if(!ya(I)&&!r)break;const T=oA(await j[J](w,a),A,J);T&&(I={...T,...z(J,T.message)},O(T.message),r&&(D[b]=I))}if(!ya(I)&&(D[b]={ref:A,...I},!r))return D}}return O(!0),D};const u9={mode:Fr.onSubmit,reValidateMode:Fr.onChange,shouldFocusError:!0};function m9(e={}){let t={...u9,...e},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ur(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=Tn(t.defaultValues)||Tn(t.values)?Yn(t.defaultValues||t.values)||{}:{},l=t.shouldUnregister?{}:Yn(s),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,f=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...h};const v={array:J5(),state:J5()},y=t.criteriaMode===Fr.all,j=Z=>le=>{clearTimeout(f),f=setTimeout(Z,le)},b=async Z=>{if(!t.disabled&&(h.isValid||g.isValid||Z)){const le=t.resolver?ya((await _()).errors):await P(r,!0);le!==a.isValid&&v.state.next({isValid:le})}},S=(Z,le)=>{!t.disabled&&(h.isValidating||h.validatingFields||g.isValidating||g.validatingFields)&&((Z||Array.from(d.mount)).forEach(he=>{he&&(le?on(a.validatingFields,he,le):Pn(a.validatingFields,he))}),v.state.next({validatingFields:a.validatingFields,isValidating:!ya(a.validatingFields)}))},M=(Z,le=[],he,Ee,be=!0,we=!0)=>{if(Ee&&he&&!t.disabled){if(c.action=!0,we&&Array.isArray(ze(r,Z))){const ke=he(ze(r,Z),Ee.argA,Ee.argB);be&&on(r,Z,ke)}if(we&&Array.isArray(ze(a.errors,Z))){const ke=he(ze(a.errors,Z),Ee.argA,Ee.argB);be&&on(a.errors,Z,ke),c9(a.errors,Z)}if((h.touchedFields||g.touchedFields)&&we&&Array.isArray(ze(a.touchedFields,Z))){const ke=he(ze(a.touchedFields,Z),Ee.argA,Ee.argB);be&&on(a.touchedFields,Z,ke)}(h.dirtyFields||g.dirtyFields)&&(a.dirtyFields=fc(s,l)),v.state.next({name:Z,isDirty:L(Z,le),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else on(l,Z,le)},w=(Z,le)=>{on(a.errors,Z,le),v.state.next({errors:a.errors})},A=Z=>{a.errors=Z,v.state.next({errors:a.errors,isValid:!1})},O=(Z,le,he,Ee)=>{const be=ze(r,Z);if(be){const we=ze(l,Z,wn(he)?ze(s,Z):he);wn(we)||Ee&&Ee.defaultChecked||le?on(l,Z,le?we:aA(be._f)):T(Z,we),c.mount&&!c.action&&b()}},D=(Z,le,he,Ee,be)=>{let we=!1,ke=!1;const Ze={name:Z};if(!t.disabled){if(!he||Ee){(h.isDirty||g.isDirty)&&(ke=a.isDirty,a.isDirty=Ze.isDirty=L(),we=ke!==Ze.isDirty);const rt=al(ze(s,Z),le);ke=!!ze(a.dirtyFields,Z),rt?Pn(a.dirtyFields,Z):on(a.dirtyFields,Z,!0),Ze.dirtyFields=a.dirtyFields,we=we||(h.dirtyFields||g.dirtyFields)&&ke!==!rt}if(he){const rt=ze(a.touchedFields,Z);rt||(on(a.touchedFields,Z,he),Ze.touchedFields=a.touchedFields,we=we||(h.touchedFields||g.touchedFields)&&rt!==he)}we&&be&&v.state.next(Ze)}return we?Ze:{}},k=(Z,le,he,Ee)=>{const be=ze(a.errors,Z),we=(h.isValid||g.isValid)&&ss(le)&&a.isValid!==le;if(t.delayError&&he?(m=j(()=>w(Z,he)),m(t.delayError)):(clearTimeout(f),m=null,he?on(a.errors,Z,he):Pn(a.errors,Z)),(he?!al(be,he):be)||!ya(Ee)||we){const ke={...Ee,...we&&ss(le)?{isValid:le}:{},errors:a.errors,name:Z};a={...a,...ke},v.state.next(ke)}},_=async Z=>{S(Z,!0);const le=await t.resolver(l,t.context,a9(Z||d.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return S(Z),le},E=async Z=>{const{errors:le}=await _(Z);if(Z)for(const he of Z){const Ee=ze(le,he);Ee?on(a.errors,he,Ee):Pn(a.errors,he)}else a.errors=le;return le},P=async(Z,le,he={valid:!0})=>{for(const Ee in Z){const be=Z[Ee];if(be){const{_f:we,...ke}=be;if(we){const Ze=d.array.has(we.name),rt=be._f&&r9(be._f);rt&&h.validatingFields&&S([we.name],!0);const Mn=await cA(be,d.disabled,l,y,t.shouldUseNativeValidation&&!le,Ze);if(rt&&h.validatingFields&&S([we.name]),Mn[we.name]&&(he.valid=!1,le))break;!le&&(ze(Mn,we.name)?Ze?d9(a.errors,Mn,we.name):on(a.errors,we.name,Mn[we.name]):Pn(a.errors,we.name))}!ya(ke)&&await P(ke,le,he)}}return he.valid},z=()=>{for(const Z of d.unMount){const le=ze(r,Z);le&&(le._f.refs?le._f.refs.every(he=>!B0(he)):!B0(le._f.ref))&&ee(Z)}d.unMount=new Set},L=(Z,le)=>!t.disabled&&(Z&&le&&on(l,Z,le),!al(W(),s)),I=(Z,le,he)=>X8(Z,d,{...c.mount?l:wn(le)?s:Xa(Z)?{[Z]:le}:le},he,le),J=Z=>hj(ze(c.mount?l:s,Z,t.shouldUnregister?ze(s,Z,[]):[])),T=(Z,le,he={})=>{const Ee=ze(r,Z);let be=le;if(Ee){const we=Ee._f;we&&(!we.disabled&&on(l,Z,FD(le,we)),be=gh(we.ref)&&ka(le)?"":le,zD(we.ref)?[...we.ref.options].forEach(ke=>ke.selected=be.includes(ke.value)):we.refs?Bu(we.ref)?we.refs.forEach(ke=>{(!ke.defaultChecked||!ke.disabled)&&(Array.isArray(be)?ke.checked=!!be.find(Ze=>Ze===ke.value):ke.checked=be===ke.value||!!be)}):we.refs.forEach(ke=>ke.checked=ke.value===be):xj(we.ref)?we.ref.value="":(we.ref.value=be,we.ref.type||v.state.next({name:Z,values:Yn(l)})))}(he.shouldDirty||he.shouldTouch)&&D(Z,be,he.shouldTouch,he.shouldDirty,!0),he.shouldValidate&&F(Z)},Y=(Z,le,he)=>{for(const Ee in le){if(!le.hasOwnProperty(Ee))return;const be=le[Ee],we=Z+"."+Ee,ke=ze(r,we);(d.array.has(Z)||Tn(be)||ke&&!ke._f)&&!$l(be)?Y(we,be,he):T(we,be,he)}},V=(Z,le,he={})=>{const Ee=ze(r,Z),be=d.array.has(Z),we=Yn(le);on(l,Z,we),be?(v.array.next({name:Z,values:Yn(l)}),(h.isDirty||h.dirtyFields||g.isDirty||g.dirtyFields)&&he.shouldDirty&&v.state.next({name:Z,dirtyFields:fc(s,l),isDirty:L(Z,we)})):Ee&&!Ee._f&&!ka(we)?Y(Z,we,he):T(Z,we,he),iA(Z,d)&&v.state.next({...a,name:Z}),v.state.next({name:c.mount?Z:void 0,values:Yn(l)})},B=async Z=>{c.mount=!0;const le=Z.target;let he=le.name,Ee=!0;const be=ze(r,he),we=rt=>{Ee=Number.isNaN(rt)||$l(rt)&&isNaN(rt.getTime())||al(rt,ze(l,he,rt))},ke=rA(t.mode),Ze=rA(t.reValidateMode);if(be){let rt,Mn;const cr=le.type?aA(be._f):H8(Z),zn=Z.type===Q5.BLUR||Z.type===Q5.FOCUS_OUT,ua=!s9(be._f)&&!t.resolver&&!ze(a.errors,he)&&!be._f.deps||o9(zn,ze(a.touchedFields,he),a.isSubmitted,Ze,ke),ta=iA(he,d,zn);on(l,he,cr),zn?(!le||!le.readOnly)&&(be._f.onBlur&&be._f.onBlur(Z),m&&m(0)):be._f.onChange&&be._f.onChange(Z);const pn=D(he,cr,zn),dr=!ya(pn)||ta;if(!zn&&v.state.next({name:he,type:Z.type,values:Yn(l)}),ua)return(h.isValid||g.isValid)&&(t.mode==="onBlur"?zn&&b():zn||b()),dr&&v.state.next({name:he,...ta?{}:pn});if(!zn&&ta&&v.state.next({...a}),t.resolver){const{errors:Hn}=await _([he]);if(we(cr),Ee){const bo=lA(a.errors,r,he),jo=lA(Hn,r,bo.name||he);rt=jo.error,he=jo.name,Mn=ya(Hn)}}else S([he],!0),rt=(await cA(be,d.disabled,l,y,t.shouldUseNativeValidation))[he],S([he]),we(cr),Ee&&(rt?Mn=!1:(h.isValid||g.isValid)&&(Mn=await P(r,!0)));Ee&&(be._f.deps&&(!Array.isArray(be._f.deps)||be._f.deps.length>0)&&F(be._f.deps),k(he,Mn,rt,pn))}},U=(Z,le)=>{if(ze(a.errors,le)&&Z.focus)return Z.focus(),1},F=async(Z,le={})=>{let he,Ee;const be=ou(Z);if(t.resolver){const we=await E(wn(Z)?Z:be);he=ya(we),Ee=Z?!be.some(ke=>ze(we,ke)):he}else Z?(Ee=(await Promise.all(be.map(async we=>{const ke=ze(r,we);return await P(ke&&ke._f?{[we]:ke}:ke)}))).every(Boolean),!(!Ee&&!a.isValid)&&b()):Ee=he=await P(r);return v.state.next({...!Xa(Z)||(h.isValid||g.isValid)&&he!==a.isValid?{}:{name:Z},...t.resolver||!Z?{isValid:he}:{},errors:a.errors}),le.shouldFocus&&!Ee&&cu(r,U,Z?be:d.mount),Ee},W=(Z,le)=>{let he={...c.mount?l:s};return le&&(he=ID(le.dirtyFields?a.dirtyFields:a.touchedFields,he)),wn(Z)?he:Xa(Z)?ze(he,Z):Z.map(Ee=>ze(he,Ee))},ne=(Z,le)=>({invalid:!!ze((le||a).errors,Z),isDirty:!!ze((le||a).dirtyFields,Z),error:ze((le||a).errors,Z),isValidating:!!ze(a.validatingFields,Z),isTouched:!!ze((le||a).touchedFields,Z)}),je=Z=>{Z&&ou(Z).forEach(le=>Pn(a.errors,le)),v.state.next({errors:Z?a.errors:{}})},H=(Z,le,he)=>{const Ee=(ze(r,Z,{_f:{}})._f||{}).ref,be=ze(a.errors,Z)||{},{ref:we,message:ke,type:Ze,...rt}=be;on(a.errors,Z,{...rt,...le,ref:Ee}),v.state.next({name:Z,errors:a.errors,isValid:!1}),he&&he.shouldFocus&&Ee&&Ee.focus&&Ee.focus()},fe=(Z,le)=>Ur(Z)?v.state.subscribe({next:he=>"values"in he&&Z(I(void 0,le),he)}):I(Z,le,!0),Ne=Z=>v.state.subscribe({next:le=>{l9(Z.name,le.name,Z.exact)&&i9(le,Z.formState||h,tn,Z.reRenderRoot)&&Z.callback({values:{...l},...a,...le,defaultValues:s})}}).unsubscribe,se=Z=>(c.mount=!0,g={...g,...Z.formState},Ne({...Z,formState:g})),ee=(Z,le={})=>{for(const he of Z?ou(Z):d.mount)d.mount.delete(he),d.array.delete(he),le.keepValue||(Pn(r,he),Pn(l,he)),!le.keepError&&Pn(a.errors,he),!le.keepDirty&&Pn(a.dirtyFields,he),!le.keepTouched&&Pn(a.touchedFields,he),!le.keepIsValidating&&Pn(a.validatingFields,he),!t.shouldUnregister&&!le.keepDefaultValue&&Pn(s,he);v.state.next({values:Yn(l)}),v.state.next({...a,...le.keepDirty?{isDirty:L()}:{}}),!le.keepIsValid&&b()},ie=({disabled:Z,name:le})=>{(ss(Z)&&c.mount||Z||d.disabled.has(le))&&(Z?d.disabled.add(le):d.disabled.delete(le))},ae=(Z,le={})=>{let he=ze(r,Z);const Ee=ss(le.disabled)||ss(t.disabled);return on(r,Z,{...he||{},_f:{...he&&he._f?he._f:{ref:{name:Z}},name:Z,mount:!0,...le}}),d.mount.add(Z),he?ie({disabled:ss(le.disabled)?le.disabled:t.disabled,name:Z}):O(Z,!0,le.value),{...Ee?{disabled:le.disabled||t.disabled}:{},...t.progressive?{required:!!le.required,min:Vd(le.min),max:Vd(le.max),minLength:Vd(le.minLength),maxLength:Vd(le.maxLength),pattern:Vd(le.pattern)}:{},name:Z,onChange:B,onBlur:B,ref:be=>{if(be){ae(Z,le),he=ze(r,Z);const we=wn(be.value)&&be.querySelectorAll&&be.querySelectorAll("input,select,textarea")[0]||be,ke=J8(we),Ze=he._f.refs||[];if(ke?Ze.find(rt=>rt===we):we===he._f.ref)return;on(r,Z,{_f:{...he._f,...ke?{refs:[...Ze.filter(B0),we,...Array.isArray(ze(s,Z))?[{}]:[]],ref:{type:we.type,name:Z}}:{ref:we}}}),O(Z,!1,void 0,we)}else he=ze(r,Z,{}),he._f&&(he._f.mount=!1),(t.shouldUnregister||le.shouldUnregister)&&!(K8(d.array,Z)&&c.action)&&d.unMount.add(Z)}}},Me=()=>t.shouldFocusError&&cu(r,U,d.mount),Ce=Z=>{ss(Z)&&(v.state.next({disabled:Z}),cu(r,(le,he)=>{const Ee=ze(r,he);Ee&&(le.disabled=Ee._f.disabled||Z,Array.isArray(Ee._f.refs)&&Ee._f.refs.forEach(be=>{be.disabled=Ee._f.disabled||Z}))},0,!1))},xe=(Z,le)=>async he=>{let Ee;he&&(he.preventDefault&&he.preventDefault(),he.persist&&he.persist());let be=Yn(l);if(v.state.next({isSubmitting:!0}),t.resolver){const{errors:we,values:ke}=await _();a.errors=we,be=Yn(ke)}else await P(r);if(d.disabled.size)for(const we of d.disabled)Pn(be,we);if(Pn(a.errors,"root"),ya(a.errors)){v.state.next({errors:{}});try{await Z(be,he)}catch(we){Ee=we}}else le&&await le({...a.errors},he),Me(),setTimeout(Me);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ya(a.errors)&&!Ee,submitCount:a.submitCount+1,errors:a.errors}),Ee)throw Ee},lt=(Z,le={})=>{ze(r,Z)&&(wn(le.defaultValue)?V(Z,Yn(ze(s,Z))):(V(Z,le.defaultValue),on(s,Z,Yn(le.defaultValue))),le.keepTouched||Pn(a.touchedFields,Z),le.keepDirty||(Pn(a.dirtyFields,Z),a.isDirty=le.defaultValue?L(Z,Yn(ze(s,Z))):L()),le.keepError||(Pn(a.errors,Z),h.isValid&&b()),v.state.next({...a}))},Re=(Z,le={})=>{const he=Z?Yn(Z):s,Ee=Yn(he),be=ya(Z),we=be?s:Ee;if(le.keepDefaultValues||(s=he),!le.keepValues){if(le.keepDirtyValues){const ke=new Set([...d.mount,...Object.keys(fc(s,l))]);for(const Ze of Array.from(ke))ze(a.dirtyFields,Ze)?on(we,Ze,ze(l,Ze)):V(Ze,ze(we,Ze))}else{if(fj&&wn(Z))for(const ke of d.mount){const Ze=ze(r,ke);if(Ze&&Ze._f){const rt=Array.isArray(Ze._f.refs)?Ze._f.refs[0]:Ze._f.ref;if(gh(rt)){const Mn=rt.closest("form");if(Mn){Mn.reset();break}}}}if(le.keepFieldsRef)for(const ke of d.mount)V(ke,ze(we,ke));else r={}}l=t.shouldUnregister?le.keepDefaultValues?Yn(s):{}:Yn(we),v.array.next({values:{...we}}),v.state.next({values:{...we}})}d={mount:le.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!h.isValid||!!le.keepIsValid||!!le.keepDirtyValues||!t.shouldUnregister&&!ya(we),c.watch=!!t.shouldUnregister,v.state.next({submitCount:le.keepSubmitCount?a.submitCount:0,isDirty:be?!1:le.keepDirty?a.isDirty:!!(le.keepDefaultValues&&!al(Z,s)),isSubmitted:le.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:be?{}:le.keepDirtyValues?le.keepDefaultValues&&l?fc(s,l):a.dirtyFields:le.keepDefaultValues&&Z?fc(s,Z):le.keepDirty?a.dirtyFields:{},touchedFields:le.keepTouched?a.touchedFields:{},errors:le.keepErrors?a.errors:{},isSubmitSuccessful:le.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Ke=(Z,le)=>Re(Ur(Z)?Z(l):Z,le),Fe=(Z,le={})=>{const he=ze(r,Z),Ee=he&&he._f;if(Ee){const be=Ee.refs?Ee.refs[0]:Ee.ref;be.focus&&(be.focus(),le.shouldSelect&&Ur(be.select)&&be.select())}},tn=Z=>{a={...a,...Z}},Ct={control:{register:ae,unregister:ee,getFieldState:ne,handleSubmit:xe,setError:H,_subscribe:Ne,_runSchema:_,_focusError:Me,_getWatch:I,_getDirty:L,_setValid:b,_setFieldArray:M,_setDisabledField:ie,_setErrors:A,_getFieldArray:J,_reset:Re,_resetDefaultValues:()=>Ur(t.defaultValues)&&t.defaultValues().then(Z=>{Ke(Z,t.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:z,_disableForm:Ce,_subjects:v,_proxyFormState:h,get _fields(){return r},get _formValues(){return l},get _state(){return c},set _state(Z){c=Z},get _defaultValues(){return s},get _names(){return d},set _names(Z){d=Z},get _formState(){return a},get _options(){return t},set _options(Z){t={...t,...Z}}},subscribe:se,trigger:F,register:ae,handleSubmit:xe,watch:fe,setValue:V,getValues:W,reset:Ke,resetField:lt,clearErrors:je,unregister:ee,setError:H,setFocus:Fe,getFieldState:ne};return{...Ct,formControl:Ct}}function Tc(e={}){const t=De.useRef(void 0),a=De.useRef(void 0),[r,s]=De.useState({isDirty:!1,isValidating:!1,isLoading:Ur(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ur(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Ur(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:c,...d}=m9(e);t.current={...d,formState:r}}const l=t.current.control;return l._options=e,Z8(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>s({...l._formState}),reRenderRoot:!0});return s(d=>({...d,isReady:!0})),l._formState.isReady=!0,c},[l]),De.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),De.useEffect(()=>{e.mode&&(l._options.mode=e.mode),e.reValidateMode&&(l._options.reValidateMode=e.reValidateMode)},[l,e.mode,e.reValidateMode]),De.useEffect(()=>{e.errors&&(l._setErrors(e.errors),l._focusError())},[l,e.errors]),De.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,e.shouldUnregister]),De.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==r.isDirty&&l._subjects.state.next({isDirty:c})}},[l,r.isDirty]),De.useEffect(()=>{var c;e.values&&!al(e.values,a.current)?(l._reset(e.values,{keepFieldsRef:!0,...l._options.resetOptions}),!((c=l._options.resetOptions)===null||c===void 0)&&c.keepIsValid||l._setValid(),a.current=e.values,s(d=>({...d}))):l._resetDefaultValues()},[l,e.values]),De.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),t.current.formState=G8(r,l),t.current}function f9(){const e=Qe(F=>F.user),{employees:t,addEmployee:a,updateEmployee:r,removeEmployee:s,addLifecycleEntry:l,renewContract:c}=Ae(),[d,m]=x.useState(!1),[f,h]=x.useState(null),[g,v]=x.useState(null),[y,j]=x.useState(""),[b,S]=x.useState("all"),[M,w]=x.useState("all"),[A,O]=x.useState(q(new Date,"yyyy-MM-dd")),{register:D,handleSubmit:k,reset:_,setValue:E,watch:P,formState:{errors:z,isSubmitting:L}}=Tc({mode:"onChange",defaultValues:{code:"",name:"",email:"",phone:"",department:"CS",faculty:"Computing",designation:"Lecturer",joinDate:q(new Date,"yyyy-MM-dd"),salaryBase:1e5,status:"Active",gender:"male",employmentStatus:"confirmed",probationEndDate:"",cnic:"",bankAccount:"",address:"",emergencyContact:""}}),I=x.useMemo(()=>t.filter(F=>{const W=F.name?.toLowerCase().includes(y.toLowerCase())||F.code?.toLowerCase().includes(y.toLowerCase())||F.email?.toLowerCase().includes(y.toLowerCase()),ne=b==="all"||F.department===b,je=M==="all"||F.status===M;return W&&ne&&je}),[t,y,b,M]),J=F=>{const W={...F,salaryBase:parseInt(F.salaryBase),probationEndDate:F.employmentStatus==="probation"&&F.probationEndDate?F.probationEndDate:null};f?r(f.id,W):(a(W),k8({name:W.name,code:W.code||`EMP${String(t.length+1).padStart(3,"0")}`,email:W.email,designation:W.designation,department:W.department,joinDate:W.joinDate},e?.email)),Y()},T=(F=null)=>{F?(h(F),Object.keys(F).forEach(W=>{E(W,F[W])})):(h(null),_()),m(!0)},Y=()=>{m(!1),h(null),_()},V=F=>{confirm("Are you sure you want to delete this employee?")&&s(F)},B=()=>{const F=["Code","Name","Email","Department","Faculty","Designation","Join Date","Status","Salary"],W=t.map(Ne=>[Ne.code,Ne.name,Ne.email,Ne.department,Ne.faculty,Ne.designation,Ne.joinDate,Ne.status,Ne.salaryBase]),ne=[F,...W].map(Ne=>Ne.join(",")).join(`
`),je=new Blob([ne],{type:"text/csv"}),H=URL.createObjectURL(je),fe=document.createElement("a");fe.href=H,fe.download="employees.csv",fe.click()},U=F=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(F||0);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Employees"}),n.jsx("p",{className:"text-gray-600",children:"Manage employee records and information"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{variant:"outline",onClick:B,className:"gap-2",children:[n.jsx(Wt,{className:"w-4 h-4"}),"Export CSV"]}),n.jsxs(X,{onClick:()=>T(),className:"gap-2",children:[n.jsx(ci,{className:"w-4 h-4"}),"Add Employee"]})]})]}),n.jsx(K,{children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Cn,{type:"text",placeholder:"Search by name, code, or email...",value:y,onChange:F=>j(F.target.value),className:"w-full",inputClassName:"pr-4 py-2"})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lo,{className:"w-5 h-5 text-gray-400"}),n.jsxs("select",{value:b,onChange:F=>S(F.target.value),className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Departments"}),I5.map(F=>n.jsx("option",{value:F,children:F},F))]})]}),n.jsxs("select",{value:M,onChange:F=>w(F.target.value),className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"On Leave",children:"On Leave"}),n.jsx("option",{value:"Resigned",children:"Resigned"})]})]})}),n.jsxs(K,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Employee"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Department"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Designation"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Join Date"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Status"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Actions"})]})}),n.jsx("tbody",{children:I.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"text-center py-8 text-gray-500",children:"No employees found"})}):I.map(F=>n.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Nc,{name:F.name,size:"sm"}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium text-gray-900",children:F.name}),n.jsx(ge,{variant:F.gender==="female"?"info":"secondary",className:"text-xs",children:F.gender==="female"?" Female":" Male"}),F.employmentStatus==="probation"&&n.jsx(ge,{variant:"warning",className:"text-xs",children:"Probation"})]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[F.code,"  ",F.email]}),F.employmentStatus==="probation"&&F.probationEndDate&&n.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["Probation ends:"," ",q(ue(F.probationEndDate),"MMM d, yyyy")]})]})]})}),n.jsxs("td",{className:"py-3 px-4",children:[n.jsx("p",{className:"text-gray-900",children:F.department}),n.jsx("p",{className:"text-xs text-gray-500",children:F.faculty})]}),n.jsx("td",{className:"py-3 px-4 text-gray-900",children:F.designation}),n.jsx("td",{className:"py-3 px-4 text-gray-600",children:F.joinDate?q(ue(F.joinDate),"MMM d, yyyy"):"N/A"}),n.jsx("td",{className:"py-3 px-4",children:n.jsx(ge,{variant:F.status==="Active"?"success":F.status==="On Leave"?"warning":"error",children:F.status})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(X,{size:"sm",variant:"ghost",onClick:()=>v(F),children:n.jsx(dj,{className:"w-4 h-4"})}),n.jsx(X,{size:"sm",variant:"ghost",onClick:()=>T(F),children:n.jsx(vp,{className:"w-4 h-4"})}),n.jsx(X,{size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-700",onClick:()=>V(F.id),children:n.jsx(bp,{className:"w-4 h-4"})})]})})]},F.id))})]})}),n.jsx("div",{className:"flex items-center justify-between pt-4 border-t mt-4",children:n.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",I.length," of ",t.length," employees"]})})]}),n.jsx(vt,{isOpen:d,onClose:Y,title:f?"Edit Employee":"Add New Employee",size:"lg",children:n.jsxs("form",{onSubmit:k(J),className:"space-y-4",children:[n.jsxs(ca,{defaultValue:"basic",children:[n.jsxs(da,{children:[n.jsx(He,{value:"basic",children:"Basic Info"}),n.jsx(He,{value:"employment",children:"Employment"}),n.jsx(He,{value:"additional",children:"Additional"})]}),n.jsxs(St,{value:"basic",className:"space-y-4 pt-4",children:[n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Employee Code ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{...D("code",{required:"Employee code is required"}),placeholder:"EMP001",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),z.code&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:z.code.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{...D("name",{required:"Name is required"}),placeholder:"John Doe",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),z.name&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:z.name.message})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",...D("email",{required:"Email is required"}),placeholder:"john@cecos.edu.pk",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),z.email&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:z.email.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),n.jsx("input",{...D("phone"),placeholder:"+92-XXX-XXXXXXX",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]}),n.jsxs(St,{value:"employment",className:"space-y-4 pt-4",children:[n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Faculty"}),n.jsx("select",{...D("faculty"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:Object.keys(fs).map(F=>n.jsx("option",{value:F,children:F},F))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),n.jsx("select",{...D("department"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:I5.map(F=>n.jsx("option",{value:F,children:F},F))})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designation"}),n.jsx("select",{...D("designation"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:w8.map(F=>n.jsx("option",{value:F,children:F},F))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{...D("status"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"On Leave",children:"On Leave"}),n.jsx("option",{value:"Resigned",children:"Resigned"})]})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),n.jsxs("select",{...D("gender"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"male",children:"Male"}),n.jsx("option",{value:"female",children:"Female"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employment Status"}),n.jsxs("select",{...D("employmentStatus"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"probation",children:"Probation"})]})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Join Date"}),n.jsx("input",{type:"date",...D("joinDate"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Salary (PKR)"}),n.jsx("input",{type:"number",...D("salaryBase"),placeholder:"100000",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Probation End Date",n.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"(Auto-calculated if on probation, otherwise leave empty)"})]}),n.jsx("input",{type:"date",...D("probationEndDate"),disabled:P("employmentStatus")!=="probation",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-100 disabled:text-gray-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only applicable for probation status"})]})]}),n.jsxs(St,{value:"additional",className:"space-y-4 pt-4",children:[n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CNIC ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{...D("cnic",{required:"CNIC is required"}),placeholder:"XXXXX-XXXXXXX-X",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),z.cnic&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:z.cnic.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Bank Account ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{...D("bankAccount",{required:"Bank account is required"}),placeholder:"Bank-AccountNumber",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),z.bankAccount&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:z.bankAccount.message})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{...D("address",{required:"Address is required"}),rows:2,placeholder:"Enter address",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),z.address&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:z.address.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Emergency Contact ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{...D("emergencyContact",{required:"Emergency contact is required"}),placeholder:"+92-XXX-XXXXXXX",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),z.emergencyContact&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:z.emergencyContact.message})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{type:"button",variant:"outline",onClick:Y,disabled:L,children:"Cancel"}),n.jsx(X,{type:"submit",disabled:L,children:L?"Saving...":f?"Update Employee":"Add Employee"})]})]})}),n.jsx(vt,{isOpen:!!g,onClose:()=>v(null),title:"Employee Details",size:"lg",children:g&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Nc,{name:g.name,size:"xl"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:g.name}),n.jsx("p",{className:"text-gray-500",children:g.designation}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx(ge,{variant:"primary",children:g.department}),n.jsx(ge,{variant:g.status==="Active"?"success":"warning",children:g.status}),n.jsx(ge,{variant:g.gender==="female"?"info":"secondary",children:g.gender==="female"?" Female":" Male"}),g.employmentStatus==="probation"&&n.jsx(ge,{variant:"warning",children:"Probation"})]})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(OD,{className:"w-5 h-5"}),n.jsx("span",{children:g.faculty})]}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(PD,{className:"w-5 h-5"}),n.jsx("span",{children:g.email})]}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(W7,{className:"w-5 h-5"}),n.jsx("span",{children:g.phone||"Not provided"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Employee Code"}),n.jsx("p",{className:"font-medium",children:g.code})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Join Date"}),n.jsx("p",{className:"font-medium",children:g.joinDate?q(ue(g.joinDate),"MMMM d, yyyy"):"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Base Salary"}),n.jsx("p",{className:"font-medium",children:U(g.salaryBase)})]}),g.employmentStatus==="probation"&&g.probationEndDate&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Probation End Date"}),n.jsx("p",{className:"font-medium text-orange-600",children:q(ue(g.probationEndDate),"MMMM d, yyyy")})]})]})]}),g.leaveBalance&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Leave Balance"}),n.jsx("div",{className:"grid grid-cols-3 gap-3",children:Object.entries(g.leaveBalance).map(([F,W])=>n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:W}),n.jsx("p",{className:"text-xs text-gray-500 capitalize",children:F})]},F))})]}),g.salaryHistory&&g.salaryHistory.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Salary History"}),n.jsx("div",{className:"max-h-60 overflow-y-auto divide-y border rounded-lg",children:g.salaryHistory.slice().reverse().map(F=>n.jsxs("div",{className:"flex items-center justify-between px-3 py-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:U(F.amount)}),n.jsxs("p",{className:"text-xs text-gray-500",children:[F.type,"  ",F.reason]})]}),n.jsx("p",{className:"text-xs text-gray-500",children:F.effectiveDate?q(ue(F.effectiveDate),"MMM d, yyyy"):"N/A"})]},F.id))})]}),g.lifecycle&&g.lifecycle.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Lifecycle"}),n.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:g.lifecycle.slice().reverse().map(F=>n.jsxs("div",{className:"p-3 rounded-lg bg-gray-50 border",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:F.title}),n.jsx("span",{className:"text-xs text-gray-500",children:F.effectiveDate?q(ue(F.effectiveDate),"MMM d, yyyy"):F.createdAt})]}),F.meta&&n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:Object.entries(F.meta).map(([W,ne])=>`${W}: ${ne}`).join("  ")})]},F.id))})]}),n.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[g.employmentStatus==="probation"&&n.jsx(X,{size:"sm",variant:"outline",onClick:()=>{l(g.id,{type:"confirmation",title:"Confirmation",meta:{from:"probation",to:"confirmed"}}),r(g.id,{employmentStatus:"confirmed"})},children:"Mark Confirmed"}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[n.jsx("span",{children:"Contract renewal"}),n.jsx("input",{type:"date",value:A,onChange:F=>O(F.target.value),className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500 text-sm"})]}),n.jsx(X,{size:"sm",variant:"outline",onClick:()=>c(g.id,{newEndDate:A,effectiveDate:A,status:"active"}),children:"Renew"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{variant:"outline",onClick:()=>v(null),children:"Close"}),n.jsx(X,{onClick:()=>{v(null),T(g)},children:"Edit Employee"})]})]})})]})}var oh={exports:{}};var h9=oh.exports,dA;function p9(){return dA||(dA=1,(function(e,t){((a,r)=>{e.exports=r()})(h9,function a(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s,l=!r.document&&!!r.postMessage,c=r.IS_PAPA_WORKER||!1,d={},m=0,f={};function h(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(P){var z=D(P);z.chunkSize=parseInt(z.chunkSize),P.step||P.chunk||(z.chunkSize=null),this._handle=new b(z),(this._handle.streamer=this)._config=z}).call(this,E),this.parseChunk=function(P,z){var L=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<L){let J=this._config.newline;J||(I=this._config.quoteChar||'"',J=this._handle.guessLineEndings(P,I)),P=[...P.split(J).slice(L)].join(J)}this.isFirstChunk&&_(this._config.beforeFirstChunk)&&(I=this._config.beforeFirstChunk(P))!==void 0&&(P=I),this.isFirstChunk=!1,this._halted=!1;var L=this._partialLine+P,I=(this._partialLine="",this._handle.parse(L,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(P=I.meta.cursor,L=(this._finished||(this._partialLine=L.substring(P-this._baseIndex),this._baseIndex=P),I&&I.data&&(this._rowCount+=I.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),c)r.postMessage({results:I,workerId:f.WORKER_ID,finished:L});else if(_(this._config.chunk)&&!z){if(this._config.chunk(I,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=I=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(I.data),this._completeResults.errors=this._completeResults.errors.concat(I.errors),this._completeResults.meta=I.meta),this._completed||!L||!_(this._config.complete)||I&&I.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),L||I&&I.meta.paused||this._nextChunk(),I}this._halted=!0},this._sendError=function(P){_(this._config.error)?this._config.error(P):c&&this._config.error&&r.postMessage({workerId:f.WORKER_ID,error:P,finished:!1})}}function g(E){var P;(E=E||{}).chunkSize||(E.chunkSize=f.RemoteChunkSize),h.call(this,E),this._nextChunk=l?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(z){this._input=z,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),l||(P.onload=k(this._chunkLoaded,this),P.onerror=k(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!l),this._config.downloadRequestHeaders){var z,L=this._config.downloadRequestHeaders;for(z in L)P.setRequestHeader(z,L[z])}var I;this._config.chunkSize&&(I=this._start+this._config.chunkSize-1,P.setRequestHeader("Range","bytes="+this._start+"-"+I));try{P.send(this._config.downloadRequestBody)}catch(J){this._chunkError(J.message)}l&&P.status===0&&this._chunkError()}},this._chunkLoaded=function(){P.readyState===4&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize||P.responseText.length,this._finished=!this._config.chunkSize||this._start>=(z=>(z=z.getResponseHeader("Content-Range"))!==null?parseInt(z.substring(z.lastIndexOf("/")+1)):-1)(P),this.parseChunk(P.responseText)))},this._chunkError=function(z){z=P.statusText||z,this._sendError(new Error(z))}}function v(E){(E=E||{}).chunkSize||(E.chunkSize=f.LocalChunkSize),h.call(this,E);var P,z,L=typeof FileReader<"u";this.stream=function(I){this._input=I,z=I.slice||I.webkitSlice||I.mozSlice,L?((P=new FileReader).onload=k(this._chunkLoaded,this),P.onerror=k(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var I=this._input,J=(this._config.chunkSize&&(J=Math.min(this._start+this._config.chunkSize,this._input.size),I=z.call(I,this._start,J)),P.readAsText(I,this._config.encoding));L||this._chunkLoaded({target:{result:J}})},this._chunkLoaded=function(I){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(I.target.result)},this._chunkError=function(){this._sendError(P.error)}}function y(E){var P;h.call(this,E=E||{}),this.stream=function(z){return P=z,this._nextChunk()},this._nextChunk=function(){var z,L;if(!this._finished)return z=this._config.chunkSize,P=z?(L=P.substring(0,z),P.substring(z)):(L=P,""),this._finished=!P,this.parseChunk(L)}}function j(E){h.call(this,E=E||{});var P=[],z=!0,L=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(I){this._input=I,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){L&&P.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):z=!0},this._streamData=k(function(I){try{P.push(typeof I=="string"?I:I.toString(this._config.encoding)),z&&(z=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(J){this._streamError(J)}},this),this._streamError=k(function(I){this._streamCleanUp(),this._sendError(I)},this),this._streamEnd=k(function(){this._streamCleanUp(),L=!0,this._streamData("")},this),this._streamCleanUp=k(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(E){var P,z,L,I,J=Math.pow(2,53),T=-J,Y=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,V=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,B=this,U=0,F=0,W=!1,ne=!1,je=[],H={data:[],errors:[],meta:{}};function fe(ie){return E.skipEmptyLines==="greedy"?ie.join("").trim()==="":ie.length===1&&ie[0].length===0}function Ne(){if(H&&L&&(ee("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),L=!1),E.skipEmptyLines&&(H.data=H.data.filter(function(Ce){return!fe(Ce)})),se()){let Ce=function(xe,lt){_(E.transformHeader)&&(xe=E.transformHeader(xe,lt)),je.push(xe)};if(H)if(Array.isArray(H.data[0])){for(var ie=0;se()&&ie<H.data.length;ie++)H.data[ie].forEach(Ce);H.data.splice(0,1)}else H.data.forEach(Ce)}function ae(Ce,xe){for(var lt=E.header?{}:[],Re=0;Re<Ce.length;Re++){var Ke=Re,Fe=Ce[Re],Fe=((tn,Ge)=>(Ct=>(E.dynamicTypingFunction&&E.dynamicTyping[Ct]===void 0&&(E.dynamicTyping[Ct]=E.dynamicTypingFunction(Ct)),(E.dynamicTyping[Ct]||E.dynamicTyping)===!0))(tn)?Ge==="true"||Ge==="TRUE"||Ge!=="false"&&Ge!=="FALSE"&&((Ct=>{if(Y.test(Ct)&&(Ct=parseFloat(Ct),T<Ct&&Ct<J))return 1})(Ge)?parseFloat(Ge):V.test(Ge)?new Date(Ge):Ge===""?null:Ge):Ge)(Ke=E.header?Re>=je.length?"__parsed_extra":je[Re]:Ke,Fe=E.transform?E.transform(Fe,Ke):Fe);Ke==="__parsed_extra"?(lt[Ke]=lt[Ke]||[],lt[Ke].push(Fe)):lt[Ke]=Fe}return E.header&&(Re>je.length?ee("FieldMismatch","TooManyFields","Too many fields: expected "+je.length+" fields but parsed "+Re,F+xe):Re<je.length&&ee("FieldMismatch","TooFewFields","Too few fields: expected "+je.length+" fields but parsed "+Re,F+xe)),lt}var Me;H&&(E.header||E.dynamicTyping||E.transform)&&(Me=1,!H.data.length||Array.isArray(H.data[0])?(H.data=H.data.map(ae),Me=H.data.length):H.data=ae(H.data,0),E.header&&H.meta&&(H.meta.fields=je),F+=Me)}function se(){return E.header&&je.length===0}function ee(ie,ae,Me,Ce){ie={type:ie,code:ae,message:Me},Ce!==void 0&&(ie.row=Ce),H.errors.push(ie)}_(E.step)&&(I=E.step,E.step=function(ie){H=ie,se()?Ne():(Ne(),H.data.length!==0&&(U+=ie.data.length,E.preview&&U>E.preview?z.abort():(H.data=H.data[0],I(H,B))))}),this.parse=function(ie,ae,Me){var Ce=E.quoteChar||'"',Ce=(E.newline||(E.newline=this.guessLineEndings(ie,Ce)),L=!1,E.delimiter?_(E.delimiter)&&(E.delimiter=E.delimiter(ie),H.meta.delimiter=E.delimiter):((Ce=((xe,lt,Re,Ke,Fe)=>{var tn,Ge,Ct,Z;Fe=Fe||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var le=0;le<Fe.length;le++){for(var he,Ee=Fe[le],be=0,we=0,ke=0,Ze=(Ct=void 0,new M({comments:Ke,delimiter:Ee,newline:lt,preview:10}).parse(xe)),rt=0;rt<Ze.data.length;rt++)Re&&fe(Ze.data[rt])?ke++:(he=Ze.data[rt].length,we+=he,Ct===void 0?Ct=he:0<he&&(be+=Math.abs(he-Ct),Ct=he));0<Ze.data.length&&(we/=Ze.data.length-ke),(Ge===void 0||be<=Ge)&&(Z===void 0||Z<we)&&1.99<we&&(Ge=be,tn=Ee,Z=we)}return{successful:!!(E.delimiter=tn),bestDelimiter:tn}})(ie,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess)).successful?E.delimiter=Ce.bestDelimiter:(L=!0,E.delimiter=f.DefaultDelimiter),H.meta.delimiter=E.delimiter),D(E));return E.preview&&E.header&&Ce.preview++,P=ie,z=new M(Ce),H=z.parse(P,ae,Me),Ne(),W?{meta:{paused:!0}}:H||{meta:{paused:!1}}},this.paused=function(){return W},this.pause=function(){W=!0,z.abort(),P=_(E.chunk)?"":P.substring(z.getCharIndex())},this.resume=function(){B.streamer._halted?(W=!1,B.streamer.parseChunk(P,!0)):setTimeout(B.resume,3)},this.aborted=function(){return ne},this.abort=function(){ne=!0,z.abort(),H.meta.aborted=!0,_(E.complete)&&E.complete(H),P=""},this.guessLineEndings=function(xe,Ce){xe=xe.substring(0,1048576);var Ce=new RegExp(S(Ce)+"([^]*?)"+S(Ce),"gm"),Me=(xe=xe.replace(Ce,"")).split("\r"),Ce=xe.split(`
`),xe=1<Ce.length&&Ce[0].length<Me[0].length;if(Me.length===1||xe)return`
`;for(var lt=0,Re=0;Re<Me.length;Re++)Me[Re][0]===`
`&&lt++;return lt>=Me.length/2?`\r
`:"\r"}}function S(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function M(E){var P=(E=E||{}).delimiter,z=E.newline,L=E.comments,I=E.step,J=E.preview,T=E.fastMode,Y=null,V=!1,B=E.quoteChar==null?'"':E.quoteChar,U=B;if(E.escapeChar!==void 0&&(U=E.escapeChar),(typeof P!="string"||-1<f.BAD_DELIMITERS.indexOf(P))&&(P=","),L===P)throw new Error("Comment character same as delimiter");L===!0?L="#":(typeof L!="string"||-1<f.BAD_DELIMITERS.indexOf(L))&&(L=!1),z!==`
`&&z!=="\r"&&z!==`\r
`&&(z=`
`);var F=0,W=!1;this.parse=function(ne,je,H){if(typeof ne!="string")throw new Error("Input must be a string");var fe=ne.length,Ne=P.length,se=z.length,ee=L.length,ie=_(I),ae=[],Me=[],Ce=[],xe=F=0;if(!ne)return be();if(T||T!==!1&&ne.indexOf(B)===-1){for(var lt=ne.split(z),Re=0;Re<lt.length;Re++){if(Ce=lt[Re],F+=Ce.length,Re!==lt.length-1)F+=z.length;else if(H)return be();if(!L||Ce.substring(0,ee)!==L){if(ie){if(ae=[],Z(Ce.split(P)),we(),W)return be()}else Z(Ce.split(P));if(J&&J<=Re)return ae=ae.slice(0,J),be(!0)}}return be()}for(var Ke=ne.indexOf(P,F),Fe=ne.indexOf(z,F),tn=new RegExp(S(U)+S(B),"g"),Ge=ne.indexOf(B,F);;)if(ne[F]===B)for(Ge=F,F++;;){if((Ge=ne.indexOf(B,Ge+1))===-1)return H||Me.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ae.length,index:F}),he();if(Ge===fe-1)return he(ne.substring(F,Ge).replace(tn,B));if(B===U&&ne[Ge+1]===U)Ge++;else if(B===U||Ge===0||ne[Ge-1]!==U){Ke!==-1&&Ke<Ge+1&&(Ke=ne.indexOf(P,Ge+1));var Ct=le((Fe=Fe!==-1&&Fe<Ge+1?ne.indexOf(z,Ge+1):Fe)===-1?Ke:Math.min(Ke,Fe));if(ne.substr(Ge+1+Ct,Ne)===P){Ce.push(ne.substring(F,Ge).replace(tn,B)),ne[F=Ge+1+Ct+Ne]!==B&&(Ge=ne.indexOf(B,F)),Ke=ne.indexOf(P,F),Fe=ne.indexOf(z,F);break}if(Ct=le(Fe),ne.substring(Ge+1+Ct,Ge+1+Ct+se)===z){if(Ce.push(ne.substring(F,Ge).replace(tn,B)),Ee(Ge+1+Ct+se),Ke=ne.indexOf(P,F),Ge=ne.indexOf(B,F),ie&&(we(),W))return be();if(J&&ae.length>=J)return be(!0);break}Me.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ae.length,index:F}),Ge++}}else if(L&&Ce.length===0&&ne.substring(F,F+ee)===L){if(Fe===-1)return be();F=Fe+se,Fe=ne.indexOf(z,F),Ke=ne.indexOf(P,F)}else if(Ke!==-1&&(Ke<Fe||Fe===-1))Ce.push(ne.substring(F,Ke)),F=Ke+Ne,Ke=ne.indexOf(P,F);else{if(Fe===-1)break;if(Ce.push(ne.substring(F,Fe)),Ee(Fe+se),ie&&(we(),W))return be();if(J&&ae.length>=J)return be(!0)}return he();function Z(ke){ae.push(ke),xe=F}function le(ke){var Ze=0;return Ze=ke!==-1&&(ke=ne.substring(Ge+1,ke))&&ke.trim()===""?ke.length:Ze}function he(ke){return H||(ke===void 0&&(ke=ne.substring(F)),Ce.push(ke),F=fe,Z(Ce),ie&&we()),be()}function Ee(ke){F=ke,Z(Ce),Ce=[],Fe=ne.indexOf(z,F)}function be(ke){if(E.header&&!je&&ae.length&&!V){var Ze=ae[0],rt=Object.create(null),Mn=new Set(Ze);let cr=!1;for(let zn=0;zn<Ze.length;zn++){let ua=Ze[zn];if(rt[ua=_(E.transformHeader)?E.transformHeader(ua,zn):ua]){let ta,pn=rt[ua];for(;ta=ua+"_"+pn,pn++,Mn.has(ta););Mn.add(ta),Ze[zn]=ta,rt[ua]++,cr=!0,(Y=Y===null?{}:Y)[ta]=ua}else rt[ua]=1,Ze[zn]=ua;Mn.add(ua)}cr&&console.warn("Duplicate headers found and renamed."),V=!0}return{data:ae,errors:Me,meta:{delimiter:P,linebreak:z,aborted:W,truncated:!!ke,cursor:xe+(je||0),renamedHeaders:Y}}}function we(){I(be()),ae=[],Me=[]}},this.abort=function(){W=!0},this.getCharIndex=function(){return F}}function w(E){var P=E.data,z=d[P.workerId],L=!1;if(P.error)z.userError(P.error,P.file);else if(P.results&&P.results.data){var I={abort:function(){L=!0,A(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(_(z.userStep)){for(var J=0;J<P.results.data.length&&(z.userStep({data:P.results.data[J],errors:P.results.errors,meta:P.results.meta},I),!L);J++);delete P.results}else _(z.userChunk)&&(z.userChunk(P.results,I,P.file),delete P.results)}P.finished&&!L&&A(P.workerId,P.results)}function A(E,P){var z=d[E];_(z.userComplete)&&z.userComplete(P),z.terminate(),delete d[E]}function O(){throw new Error("Not implemented.")}function D(E){if(typeof E!="object"||E===null)return E;var P,z=Array.isArray(E)?[]:{};for(P in E)z[P]=D(E[P]);return z}function k(E,P){return function(){E.apply(P,arguments)}}function _(E){return typeof E=="function"}return f.parse=function(E,P){var z=(P=P||{}).dynamicTyping||!1;if(_(z)&&(P.dynamicTypingFunction=z,z={}),P.dynamicTyping=z,P.transform=!!_(P.transform)&&P.transform,!P.worker||!f.WORKERS_SUPPORTED)return z=null,f.NODE_STREAM_INPUT,typeof E=="string"?(E=(L=>L.charCodeAt(0)!==65279?L:L.slice(1))(E),z=new(P.download?g:y)(P)):E.readable===!0&&_(E.read)&&_(E.on)?z=new j(P):(r.File&&E instanceof File||E instanceof Object)&&(z=new v(P)),z.stream(E);(z=(()=>{var L;return!!f.WORKERS_SUPPORTED&&(L=(()=>{var I=r.URL||r.webkitURL||null,J=a.toString();return f.BLOB_URL||(f.BLOB_URL=I.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",J,")();"],{type:"text/javascript"})))})(),(L=new r.Worker(L)).onmessage=w,L.id=m++,d[L.id]=L)})()).userStep=P.step,z.userChunk=P.chunk,z.userComplete=P.complete,z.userError=P.error,P.step=_(P.step),P.chunk=_(P.chunk),P.complete=_(P.complete),P.error=_(P.error),delete P.worker,z.postMessage({input:E,config:P,workerId:z.id})},f.unparse=function(E,P){var z=!1,L=!0,I=",",J=`\r
`,T='"',Y=T+T,V=!1,B=null,U=!1,F=((()=>{if(typeof P=="object"){if(typeof P.delimiter!="string"||f.BAD_DELIMITERS.filter(function(je){return P.delimiter.indexOf(je)!==-1}).length||(I=P.delimiter),typeof P.quotes!="boolean"&&typeof P.quotes!="function"&&!Array.isArray(P.quotes)||(z=P.quotes),typeof P.skipEmptyLines!="boolean"&&typeof P.skipEmptyLines!="string"||(V=P.skipEmptyLines),typeof P.newline=="string"&&(J=P.newline),typeof P.quoteChar=="string"&&(T=P.quoteChar),typeof P.header=="boolean"&&(L=P.header),Array.isArray(P.columns)){if(P.columns.length===0)throw new Error("Option columns is empty");B=P.columns}P.escapeChar!==void 0&&(Y=P.escapeChar+T),P.escapeFormulae instanceof RegExp?U=P.escapeFormulae:typeof P.escapeFormulae=="boolean"&&P.escapeFormulae&&(U=/^[=+\-@\t\r].*$/)}})(),new RegExp(S(T),"g"));if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return W(null,E,V);if(typeof E[0]=="object")return W(B||Object.keys(E[0]),E,V)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||B),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),W(E.fields||[],E.data||[],V);throw new Error("Unable to serialize unrecognized input");function W(je,H,fe){var Ne="",se=(typeof je=="string"&&(je=JSON.parse(je)),typeof H=="string"&&(H=JSON.parse(H)),Array.isArray(je)&&0<je.length),ee=!Array.isArray(H[0]);if(se&&L){for(var ie=0;ie<je.length;ie++)0<ie&&(Ne+=I),Ne+=ne(je[ie],ie);0<H.length&&(Ne+=J)}for(var ae=0;ae<H.length;ae++){var Me=(se?je:H[ae]).length,Ce=!1,xe=se?Object.keys(H[ae]).length===0:H[ae].length===0;if(fe&&!se&&(Ce=fe==="greedy"?H[ae].join("").trim()==="":H[ae].length===1&&H[ae][0].length===0),fe==="greedy"&&se){for(var lt=[],Re=0;Re<Me;Re++){var Ke=ee?je[Re]:Re;lt.push(H[ae][Ke])}Ce=lt.join("").trim()===""}if(!Ce){for(var Fe=0;Fe<Me;Fe++){0<Fe&&!xe&&(Ne+=I);var tn=se&&ee?je[Fe]:Fe;Ne+=ne(H[ae][tn],Fe)}ae<H.length-1&&(!fe||0<Me&&!xe)&&(Ne+=J)}}return Ne}function ne(je,H){var fe,Ne;return je==null?"":je.constructor===Date?JSON.stringify(je).slice(1,25):(Ne=!1,U&&typeof je=="string"&&U.test(je)&&(je="'"+je,Ne=!0),fe=je.toString().replace(F,Y),(Ne=Ne||z===!0||typeof z=="function"&&z(je,H)||Array.isArray(z)&&z[H]||((se,ee)=>{for(var ie=0;ie<ee.length;ie++)if(-1<se.indexOf(ee[ie]))return!0;return!1})(fe,f.BAD_DELIMITERS)||-1<fe.indexOf(I)||fe.charAt(0)===" "||fe.charAt(fe.length-1)===" ")?T+fe+T:fe)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!l&&!!r.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=M,f.ParserHandle=b,f.NetworkStreamer=g,f.FileStreamer=v,f.StringStreamer=y,f.ReadableStreamStreamer=j,r.jQuery&&((s=r.jQuery).fn.parse=function(E){var P=E.config||{},z=[];return this.each(function(J){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var T=0;T<this.files.length;T++)z.push({file:this.files[T],inputElem:this,instanceConfig:s.extend({},P)})}),L(),this;function L(){if(z.length===0)_(E.complete)&&E.complete();else{var J,T,Y,V,B=z[0];if(_(E.before)){var U=E.before(B.file,B.inputElem);if(typeof U=="object"){if(U.action==="abort")return J="AbortError",T=B.file,Y=B.inputElem,V=U.reason,void(_(E.error)&&E.error({name:J},T,Y,V));if(U.action==="skip")return void I();typeof U.config=="object"&&(B.instanceConfig=s.extend(B.instanceConfig,U.config))}else if(U==="skip")return void I()}var F=B.instanceConfig.complete;B.instanceConfig.complete=function(W){_(F)&&F(W,B.file,B.inputElem),I()},f.parse(B.file,B.instanceConfig)}}function I(){z.splice(0,1),L()}}),c&&(r.onmessage=function(E){E=E.data,f.WORKER_ID===void 0&&E&&(f.WORKER_ID=E.workerId),typeof E.input=="string"?r.postMessage({workerId:f.WORKER_ID,results:f.parse(E.input,E.config),finished:!0}):(r.File&&E.input instanceof File||E.input instanceof Object)&&(E=f.parse(E.input,E.config))&&r.postMessage({workerId:f.WORKER_ID,results:E,finished:!0})}),(g.prototype=Object.create(h.prototype)).constructor=g,(v.prototype=Object.create(h.prototype)).constructor=v,(y.prototype=Object.create(y.prototype)).constructor=y,(j.prototype=Object.create(h.prototype)).constructor=j,f})})(oh)),oh.exports}var x9=p9();const Ss=_r(x9);function g9(){const{employees:e,attendance:t}=Ae(),a=t.map(l=>{const c=e.find(d=>d.id===l.employeeId);return{...l,employeeName:c?.name,employeeCode:c?.code}}),r=()=>{const l=Ss.unparse(a),c=new Blob([l],{type:"text/csv"}),d=URL.createObjectURL(c),m=document.createElement("a");m.href=d,m.download="attendance.csv",m.click()},s=l=>l==="Present"?"success":l==="Late"?"warning":l==="Absent"?"error":"default";return n.jsx(K,{title:"Attendance Records",subtitle:"View employee attendance",actions:n.jsxs(X,{variant:"outline",onClick:r,children:[n.jsx(Wt,{className:"w-4 h-4"})," Export CSV"]}),children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Code"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Employee"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Clock In"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Clock Out"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:a.map(l=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:l.employeeCode}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:l.employeeName}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:l.date}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:l.clockIn}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:l.clockOut}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsx(ge,{variant:s(l.status),children:l.status})})]},l.id))})]})})})}function tt({label:e,id:t,error:a,children:r,required:s,hint:l,className:c=""}){return n.jsxs("div",{className:`space-y-1.5 ${c}`,children:[e&&n.jsxs("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700",children:[e," ",s&&n.jsx("span",{className:"text-red-500",children:"*"})]}),r,l&&!a&&n.jsx("p",{className:"text-xs text-gray-500",children:l}),a&&n.jsx("p",{className:"text-xs text-red-600",children:a})]})}function y9(){const e=Qe(H=>H.user),{employees:t,leaves:a,updateLeaveStatus:r}=Ae(),[s,l]=x.useState(null),[c,d]=x.useState(""),[m,f]=x.useState("all"),[h,g]=x.useState("all"),[v,y]=x.useState(""),[j,b]=x.useState(0),[S,M]=x.useState(0),[w,A]=x.useState(""),[O,D]=x.useState(null),[k,_]=x.useState(null),E=x.useMemo(()=>({total:a.length,pending:a.filter(H=>H.status==="Pending").length,approved:a.filter(H=>H.status==="Approved").length,rejected:a.filter(H=>H.status==="Rejected").length}),[a]),P=x.useMemo(()=>a.map(H=>{const fe=t.find(Ne=>Ne.id===H.employeeId);return{...H,employee:fe,employeeName:H.employeeName||fe?.name,department:H.department||fe?.department,faculty:H.faculty||fe?.faculty}}),[a,t]),z=x.useMemo(()=>P.filter(H=>{const fe=H.employeeName?.toLowerCase().includes(c.toLowerCase())||H.department?.toLowerCase().includes(c.toLowerCase()),Ne=m==="all"||H.type===m,se=h==="all"||H.status===h;return fe&&Ne&&se}).sort((H,fe)=>ue(fe.appliedOn)-ue(H.appliedOn)),[P,c,m,h]),L=z.filter(H=>H.status==="Pending"),I=z.filter(H=>H.status==="Approved"),J=z.filter(H=>H.status==="Rejected"),Y=(()=>{const H=(e?.primaryRole||e?.role)?.toLowerCase()||"hr";return{hod:"hod",dean:"dean",hr:"hr","manager-hr":"hr",vc:"vc","vice-chancellor":"vc",president:"president"}[H]||"hr"})();x.useEffect(()=>{if(!s){D(null);return}const H=s.paidDays??s.days??0,fe=s.unpaidDays??0;b(H),M(fe),A(""),D(s.leaveCategory||null)},[s]);const V=H=>{if(H.type!=="maternity")return{eligible:!0,reason:""};const fe=t.find(ee=>ee.id===H.employeeId);return fe?fe.gender&&fe.gender.toLowerCase()==="female"?fe.status==="confirmed"||fe.employmentStatus==="confirmed"?{eligible:!0,reason:""}:{eligible:!1,reason:"Probationary employees are not eligible for maternity leave. Only confirmed female employees can apply."}:{eligible:!1,reason:"Maternity leave is only available for female employees"}:{eligible:!1,reason:"Employee not found"}},B=(H,fe,Ne="")=>{if(s?.type==="maternity"&&fe==="Approved"){const se=V(s);if(!se.eligible){alert(`Cannot approve: ${se.reason}`);return}}if(s?.type==="medical"&&Y==="president"&&fe==="Approved"){const se=Number(j)||0,ee=Number(S)||0,ie=se+ee,ae=s?.days||0;if(ie!==ae){A(`Days don't match: ${se} + ${ee} = ${ie}, but leave is ${ae} days`);return}if(!O){alert("Please select a classification for this medical leave (Paid Medical or Unpaid Medical)");return}A(""),r(H,fe,Y,e?.name||"System",Ne,{paidDays:se,unpaidDays:ee,leaveCategory:O}),l(null),D(null),b(0),M(0);return}if(Y==="dean"&&fe==="Approved"){const se=Number(j)||0,ee=Number(S)||0,ie=se+ee,ae=s?.days||0;if(ie!==ae){A(`Days don't match: ${se} + ${ee} = ${ie}, but leave is ${ae} days`);return}A(""),r(H,fe,Y,e?.name||"System",Ne,{paidDays:se,unpaidDays:ee}),l(null),b(0),M(0);return}r(H,fe,Y,e?.name||"System",Ne),l(null)},U=H=>{const fe=H?.file?URL.createObjectURL(H.file):H?.fileUrl||H?.url;if(!fe)return;const Ne=document.createElement("a");Ne.href=fe,Ne.download=H?.name||"document",document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne),H?.file&&URL.revokeObjectURL(fe)},F=H=>H.status!=="Pending"&&H.status!=="Forwarded"?!1:H.approvalChain?.find(Ne=>Ne.role===Y)?.status==="pending",W=H=>H==="Approved"?"success":H==="Pending"?"warning":H==="Rejected"?"error":"info",ne=H=>Zs.find(fe=>fe.id===H)?.name||H,je=H=>n.jsxs("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>l(H),children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4",children:[n.jsx(Nc,{name:H.employeeName,size:"md"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:H.employeeName}),n.jsx(ge,{variant:W(H.status),children:H.status})]}),n.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[H.department,"  ",ne(H.type)]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-gray-600",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Xe,{className:"w-4 h-4"}),q(ue(H.startDate),"MMM d")," -"," ",q(ue(H.endDate),"MMM d, yyyy")]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Be,{className:"w-4 h-4"}),H.days," day",H.days>1?"s":""]})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-2 line-clamp-1",children:H.reason}),(H.paidDays!==null||H.unpaidDays!==null)&&n.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-xs",children:[H.paidDays!==null&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-green-50 text-green-700 border border-green-100",children:["Paid: ",H.paidDays]}),H.unpaidDays!==null&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-amber-50 text-amber-700 border border-amber-100",children:["Unpaid: ",H.unpaidDays]})]})]}),n.jsxs("div",{className:"text-right text-sm text-gray-500",children:[n.jsx("p",{children:"Applied"}),n.jsx("p",{className:"font-medium",children:q(ue(H.appliedOn),"MMM d")})]})]}),F(H)&&n.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[n.jsxs(X,{size:"sm",onClick:fe=>{fe.stopPropagation(),Y==="dean"?(l(H),b(H.paidDays??H.days??0),M(H.unpaidDays??0),A("")):B(H.id,"Approved")},className:"gap-1",children:[n.jsx(Le,{className:"w-4 h-4"}),"Approve"]}),n.jsxs(X,{size:"sm",variant:"outline",onClick:fe=>{fe.stopPropagation(),B(H.id,"Rejected")},className:"gap-1 text-red-600 border-red-200 hover:bg-red-50",children:[n.jsx(Tt,{className:"w-4 h-4"}),"Reject"]}),n.jsxs(X,{size:"sm",variant:"outline",onClick:fe=>{fe.stopPropagation(),l(H)},className:"gap-1",children:[n.jsx(DD,{className:"w-4 h-4"}),"Details & Comments"]})]}),!F(H)&&H.status!=="Pending"&&n.jsx("div",{className:"mt-3 pt-3 border-t",children:n.jsxs(ge,{variant:"info",size:"sm",children:["Awaiting ",H.approvalChain?.find(fe=>fe.status==="pending")?.role.toUpperCase()," ","approval"]})})]},H.id);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Leave Requests"}),n.jsx("p",{className:"text-gray-600",children:"Review and manage employee leave applications"})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx(wt,{title:"Total Requests",value:E.total,icon:ht,color:"primary"}),n.jsx(wt,{title:"Pending",value:E.pending,subtitle:"Awaiting approval",icon:Be,color:"warning"}),n.jsx(wt,{title:"Approved",value:E.approved,icon:Le,color:"success"}),n.jsx(wt,{title:"Rejected",value:E.rejected,icon:Tt,color:"error"})]}),n.jsx(K,{children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Cn,{type:"text",placeholder:"Search by employee name or department...",value:c,onChange:H=>d(H.target.value),className:"w-full",inputClassName:"pr-4 py-2"})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lo,{className:"w-5 h-5 text-gray-400"}),n.jsxs("select",{value:m,onChange:H=>f(H.target.value),className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Types"}),Zs.map(H=>n.jsx("option",{value:H.id,children:H.name},H.id))]})]}),n.jsxs("select",{value:h,onChange:H=>g(H.target.value),className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"Pending",children:"Pending"}),n.jsx("option",{value:"Approved",children:"Approved"}),n.jsx("option",{value:"Rejected",children:"Rejected"})]})]})}),n.jsxs(ca,{defaultValue:"pending",children:[n.jsxs(da,{children:[n.jsxs(He,{value:"pending",children:["Pending (",L.length,")"]}),n.jsxs(He,{value:"approved",children:["Approved (",I.length,")"]}),n.jsxs(He,{value:"rejected",children:["Rejected (",J.length,")"]}),n.jsxs(He,{value:"all",children:["All (",z.length,")"]})]}),[{key:"pending",data:L},{key:"approved",data:I},{key:"rejected",data:J},{key:"all",data:z}].map(({key:H,data:fe})=>n.jsx(St,{value:H,children:n.jsx(K,{children:fe.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ht,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),n.jsxs("p",{className:"text-gray-500",children:["No ",H==="all"?"":H," leave requests"]})]}):n.jsx("div",{className:"space-y-4",children:fe.map(je)})})},H))]}),n.jsx(vt,{isOpen:!!s,onClose:()=>{l(null),y(""),b(0),M(0),A(""),D(null),_(null)},title:"Leave Request Details",size:"lg",children:s&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Nc,{name:s.employeeName,size:"lg"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:s.employeeName}),n.jsxs("p",{className:"text-sm text-gray-500",children:[s.department,"  ",s.faculty]}),n.jsx(ge,{variant:W(s.status),className:"mt-1",children:s.status})]})]}),s.type==="maternity"&&(()=>{const H=V(s);return H.eligible?n.jsx("div",{className:"bg-linear-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl p-5",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center shrink-0",children:n.jsx(Le,{className:"w-6 h-6 text-green-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-bold text-green-900 text-lg mb-2",children:" Maternity Leave Eligible"}),n.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Employee meets all eligibility criteria for maternity leave benefits."}),n.jsx("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Gender"}),n.jsx("p",{className:"font-semibold text-green-700",children:s.employee?.gender||"Female"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Status"}),n.jsx("p",{className:"font-semibold text-green-700",children:s.employee?.status||s.employee?.employmentStatus||"Confirmed"})]})]})})]})]})}):n.jsx("div",{className:"bg-linear-to-r from-red-50 to-rose-50 border-2 border-red-300 rounded-xl p-5",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center shrink-0",children:n.jsx(Tt,{className:"w-6 h-6 text-red-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-bold text-red-900 text-lg mb-2",children:" Maternity Leave Ineligible"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{className:"text-red-700",children:[n.jsx("span",{className:"font-semibold",children:"Reason:"})," ",H.reason]}),n.jsx("div",{className:"bg-white p-3 rounded-lg border border-red-200",children:n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Gender"}),n.jsx("p",{className:"font-medium text-gray-900",children:s.employee?.gender||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Status"}),n.jsx("p",{className:"font-medium text-gray-900",children:s.employee?.status||s.employee?.employmentStatus||"Unknown"})]})]})}),n.jsx("div",{className:"bg-red-100 p-3 rounded-lg border border-red-200",children:n.jsx("p",{className:"text-xs text-red-800 font-semibold",children:" Policy Requirement: Maternity leave is available only for confirmed female employees"})})]})]})]})})})(),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Leave Type"}),n.jsx("p",{className:"font-medium",children:ne(s.type)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Duration"}),n.jsxs("p",{className:"font-medium",children:[s.days," day",s.days>1?"s":""]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Employee Status"}),n.jsx("p",{className:"font-medium",children:s.employee?.status||s.employee?.employmentStatus||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Days Allowed"}),n.jsxs("p",{className:"font-medium",children:[s.employee?.leaveBalance?.[s.type]??"N/A"," days"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Remaining After"}),n.jsx("p",{className:"font-medium",children:(s.employee?.leaveBalance?.[s.type]??0)-s.days>=0?(s.employee?.leaveBalance?.[s.type]??0)-s.days+" days":n.jsx("span",{className:"text-red-600",children:"Insufficient balance"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"From"}),n.jsx("p",{className:"font-medium",children:q(ue(s.startDate),"MMMM d, yyyy")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"To"}),n.jsx("p",{className:"font-medium",children:q(ue(s.endDate),"MMMM d, yyyy")})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase mb-1",children:"Reason"}),n.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:s.reason})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase mb-1",children:"Applied On"}),n.jsx("p",{className:"font-medium",children:q(ue(s.appliedOn),"MMMM d, yyyy")})]}),(s.paidDays!==null||s.unpaidDays!==null)&&n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 bg-gray-50 border border-gray-200 rounded-lg p-3",children:[s.paidDays!==null&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Paid Days"}),n.jsx("p",{className:"font-medium text-green-700",children:s.paidDays})]}),s.unpaidDays!==null&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Unpaid Days"}),n.jsx("p",{className:"font-medium text-amber-700",children:s.unpaidDays})]})]}),s.documents&&s.documents.length>0&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-gray-500 uppercase mb-2 flex items-center gap-2",children:[n.jsx(ht,{className:"w-4 h-4"}),"Supporting Documents"]}),n.jsx("div",{className:"space-y-2",children:s.documents.map(H=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[n.jsx(ht,{className:"w-4 h-4 text-gray-400 shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:H.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:[(H.size/1024).toFixed(1)," KB"]})]})]}),n.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 transition-colors ml-2",title:"Download document",type:"button",onClick:()=>U(H),children:n.jsx(Wt,{className:"w-4 h-4"})})]},H.id))})]}),F(s)&&s.type==="medical"&&Y==="president"&&n.jsxs("div",{className:"space-y-5 bg-linear-to-br from-purple-50 via-indigo-50 to-blue-50 border-2 border-purple-300 rounded-xl p-6 shadow-lg",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-linear-to-br from-purple-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:n.jsx(Cr,{className:"w-7 h-7 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-purple-900 text-xl",children:" President's Final Medical Leave Decision"}),n.jsx("p",{className:"text-sm text-purple-700",children:"As the final authority, classify days and categorize this medical leave"})]})]}),n.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-xl p-5 shadow-sm",children:[n.jsx("p",{className:"font-bold text-purple-900 mb-1 text-lg",children:"Step 1: Classify Leave Days"}),n.jsxs("p",{className:"text-sm text-purple-700 mb-4",children:["Total days to classify:"," ",n.jsx("span",{className:"font-bold text-xl",children:s.days})," days"]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Paid Days"}),n.jsx("input",{type:"number",min:0,max:s.days,value:j,onChange:H=>{b(H.target.value),A("")},className:"w-full px-4 py-3 border-2 border-green-300 rounded-xl text-lg font-bold text-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 bg-green-50",placeholder:"0"}),n.jsx("p",{className:"text-xs text-green-600 mt-2 font-medium",children:" Employee receives full salary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Unpaid Days"}),n.jsx("input",{type:"number",min:0,max:s.days,value:S,onChange:H=>{M(H.target.value),A("")},className:"w-full px-4 py-3 border-2 border-amber-300 rounded-xl text-lg font-bold text-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500 bg-amber-50",placeholder:"0"}),n.jsx("p",{className:"text-xs text-amber-600 mt-2 font-medium",children:" Employee receives no salary"})]})]}),(()=>{const H=Number(j)||0,fe=Number(S)||0,Ne=H+fe,se=Ne===s.days,ee=Ne>s.days;return s.days-Ne,n.jsxs("div",{className:`flex items-center gap-4 p-5 rounded-xl border-2 transition-all ${se?"bg-linear-to-r from-green-50 to-emerald-50 border-green-400":ee?"bg-linear-to-r from-red-50 to-rose-50 border-red-400":"bg-linear-to-r from-yellow-50 to-amber-50 border-yellow-400"}`,children:[n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:"text-3xl font-bold text-green-600",children:H}),n.jsx("p",{className:"text-xs text-green-700 font-bold uppercase",children:"Paid"})]}),n.jsx("div",{className:"text-4xl text-gray-300 font-bold",children:"+"}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:"text-3xl font-bold text-amber-600",children:fe}),n.jsx("p",{className:"text-xs text-amber-700 font-bold uppercase",children:"Unpaid"})]}),n.jsx("div",{className:"text-4xl text-gray-300 font-bold",children:"="}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:`text-3xl font-bold ${se?"text-green-600":ee?"text-red-600":"text-yellow-600"}`,children:Ne}),n.jsxs("p",{className:"text-xs text-gray-700 font-bold uppercase",children:["of ",s.days]})]})]})})(),w&&n.jsx("div",{className:"bg-red-100 border border-red-300 rounded-lg p-3 mt-3",children:n.jsxs("p",{className:"text-sm text-red-700 font-semibold",children:[" ",w]})})]}),n.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-xl p-5 shadow-sm",children:[n.jsx("p",{className:"font-bold text-purple-900 mb-1 text-lg",children:"Step 2: Final Medical Leave Category"}),n.jsx("p",{className:"text-sm text-purple-700 mb-4",children:"Based on submitted medical documentation and paid days allocation, select final classification:"}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("button",{type:"button",onClick:()=>D("medical"),className:`group p-5 rounded-xl border-3 transition-all text-left ${O==="medical"?"border-green-500 bg-linear-to-br from-green-50 to-emerald-50 shadow-lg scale-105":"border-gray-200 bg-white hover:border-green-300 hover:shadow-md"}`,children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${O==="medical"?"bg-green-500":"bg-gray-100"}`,children:n.jsx(Le,{className:`w-6 h-6 ${O==="medical"?"text-white":"text-gray-400"}`})}),n.jsx("p",{className:"font-bold text-gray-900 text-lg",children:" Paid Medical Leave"})]}),n.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Approved with medical benefits. Employee receives full salary for paid days. Deducted from medical leave balance."})]}),n.jsxs("button",{type:"button",onClick:()=>D("unpaid"),className:`group p-5 rounded-xl border-3 transition-all text-left ${O==="unpaid"?"border-amber-500 bg-linear-to-br from-amber-50 to-orange-50 shadow-lg scale-105":"border-gray-200 bg-white hover:border-amber-300 hover:shadow-md"}`,children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${O==="unpaid"?"bg-amber-500":"bg-gray-100"}`,children:n.jsx(Tt,{className:`w-6 h-6 ${O==="unpaid"?"text-white":"text-gray-400"}`})}),n.jsx("p",{className:"font-bold text-gray-900 text-lg",children:" Unpaid Medical Leave"})]}),n.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Not eligible for medical benefits. Employee receives no salary. No balance deduction."})]})]}),O&&n.jsx("div",{className:"bg-linear-to-r from-blue-50 to-indigo-50 border border-blue-300 rounded-lg p-4 mt-4",children:n.jsxs("p",{className:"text-sm text-blue-900 font-bold",children:[" Final Classification Selected:"," ",n.jsx("span",{className:"text-lg",children:O==="medical"?"Paid Medical Leave":"Unpaid Medical Leave"})]})})]}),s.approvalChain?.find(H=>H.role==="vc")?.comment&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(au,{className:"w-5 h-5 text-blue-600 shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-bold text-blue-900 mb-1",children:" Vice Chancellor's Recommendation:"}),n.jsx("p",{className:"text-sm text-blue-700 leading-relaxed",children:s.approvalChain.find(H=>H.role==="vc").comment})]})]})})]}),s.approvalChain&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase mb-2",children:"Approval Chain"}),n.jsx("div",{className:"space-y-2",children:s.approvalChain.map((H,fe)=>n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[H.status==="approved"?n.jsx(Le,{className:"w-5 h-5 text-green-500"}):H.status==="rejected"?n.jsx(Tt,{className:"w-5 h-5 text-red-500"}):n.jsx(Be,{className:"w-5 h-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium uppercase text-sm",children:H.role}),H.date&&n.jsx("p",{className:"text-xs text-gray-500",children:q(ue(H.date),"MMM d, yyyy")})]})]}),n.jsxs("div",{className:"flex-1",children:[H.by&&n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"By:"})," ",H.by]}),H.comment&&n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[n.jsx("span",{className:"font-medium",children:"Comment:"})," ",H.comment]})]}),n.jsx("span",{className:`text-sm font-medium capitalize whitespace-nowrap ${H.status==="approved"?"text-green-600":H.status==="rejected"?"text-red-600":"text-gray-500"}`,children:H.status})]},fe))})]}),F(s)&&n.jsx("div",{children:n.jsx(tt,{label:"Comments (Optional)",children:n.jsx("textarea",{value:v,onChange:H=>y(H.target.value),placeholder:"Add comments for this approval (e.g., medical documents verified, alternative arrangements made, etc.)",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})})}),F(s)&&Y==="dean"&&n.jsxs("div",{className:"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-blue-900 mb-3",children:"Classify Leave Days as Paid or Unpaid"}),n.jsxs("p",{className:"text-sm text-blue-700 mb-4",children:["Total days to classify: ",n.jsx("span",{className:"font-bold",children:s.days})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Paid Days"}),n.jsx("input",{type:"number",min:0,max:s.days,value:j,onChange:H=>{b(H.target.value),A("")},className:"w-full px-3 py-2 border border-green-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 bg-white",placeholder:"0"}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Employee receives full pay"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unpaid Days"}),n.jsx("input",{type:"number",min:0,max:s.days,value:S,onChange:H=>{M(H.target.value),A("")},className:"w-full px-3 py-2 border border-amber-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-500 bg-white",placeholder:"0"}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Employee receives no pay"})]})]}),n.jsxs("div",{className:"flex gap-3 p-3 bg-white rounded-lg border border-blue-100",children:[n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:j}),n.jsx("p",{className:"text-xs text-green-700 font-medium",children:"PAID"})]}),n.jsx("div",{className:"text-center text-2xl text-gray-300 font-bold",children:"+"}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:S}),n.jsx("p",{className:"text-xs text-amber-700 font-medium",children:"UNPAID"})]}),n.jsx("div",{className:"text-center text-2xl text-gray-300 font-bold",children:"="}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.days}),n.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"TOTAL"})]})]}),w&&n.jsxs("p",{className:"text-sm text-red-600 bg-red-50 p-2 rounded border border-red-200",children:[" ",w]})]}),k==="approve"&&s.type==="Medical"&&s.approvalChain?.dean?.status==="Approved"&&n.jsxs("div",{className:"space-y-4 bg-teal-50 border border-teal-200 rounded-lg p-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-teal-900 mb-3",children:" Final Medical Leave Classification"}),n.jsx("p",{className:"text-sm text-teal-700 mb-4",children:"Based on Dean's assessment and submitted documentation, select the final category:"})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("button",{onClick:()=>D("medical"),className:`p-4 rounded-lg border-2 transition-all ${O==="medical"?"bg-green-100 border-green-500":"bg-white border-gray-200 hover:border-green-300"}`,children:[n.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:" Paid Medical Leave"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Employee receives full salary"})]}),n.jsxs("button",{onClick:()=>D("unpaid"),className:`p-4 rounded-lg border-2 transition-all ${O==="unpaid"?"bg-red-100 border-red-500":"bg-white border-gray-200 hover:border-red-300"}`,children:[n.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:" Unpaid Medical Leave"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Employee receives no salary"})]})]}),O&&n.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded text-sm text-blue-900",children:[" Selected:"," ",O==="medical"?"Paid Medical Leave":"Unpaid Medical Leave"]})]}),F(s)&&n.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t-2",children:[n.jsx(X,{variant:"outline",onClick:()=>{B(s.id,"Rejected",v),y(""),b(0),M(0),A(""),D(null),_(null)},className:"text-red-600 border-red-200 hover:bg-red-50 px-6 py-2",children:"Reject"}),n.jsx(X,{onClick:()=>{B(s.id,"Approved",v),y(""),b(0),M(0),A(""),D(null),_(null)},disabled:s.type==="maternity"&&!V(s).eligible||s.type==="medical"&&Y==="president"&&(!O||Number(j)+Number(S)!==s.days),className:"bg-linear-to-r from-emerald-500 to-green-500 hover:from-emerald-600 hover:to-green-600 text-white px-6 py-2",children:"Approve"})]}),!F(s)&&n.jsx("div",{className:"flex justify-end pt-4 border-t",children:n.jsx(X,{variant:"outline",onClick:()=>{l(null),y(""),b(0),M(0),A(""),D(null),_(null)},children:"Close"})})]})})]})}function Fu({icon:e,title:t,subtitle:a,description:r,action:s,className:l=""}){const c=a||r,d=e&&(typeof e=="function"||e.$$typeof);return n.jsxs("div",{className:`text-center py-8 sm:py-12 px-4 ${l}`,children:[e&&n.jsx("div",{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-gray-400",children:d?n.jsx(e,{className:"h-10 w-10 sm:h-12 sm:w-12"}):e}),n.jsx("h3",{className:"mt-3 text-sm sm:text-base font-medium text-gray-900",children:t}),c&&n.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500 max-w-sm mx-auto",children:c}),s&&n.jsx("div",{className:"mt-4 sm:mt-6",children:s})]})}function v9(){const e=Qe(T=>T.user),{promotions:t,updatePromotionStatus:a,approvePromotion:r}=Ae(),[s,l]=x.useState("pending"),[c,d]=x.useState(""),[m,f]=x.useState("all"),[h,g]=x.useState(null),[v,y]=x.useState(!1),[j,b]=x.useState(null),[S,M]=x.useState(""),[w,A]=x.useState(""),[O,D]=x.useState(q(new Date,"yyyy-MM-dd")),[k,_]=x.useState(""),E=x.useMemo(()=>t.filter(T=>{if(s==="pending"&&T.status!=="Pending"||s==="review"&&T.status!=="Under Review"||s==="completed"&&!["Approved","Rejected"].includes(T.status))return!1;if(c){const Y=c.toLowerCase();if(!T.employeeName?.toLowerCase().includes(Y)&&!T.department?.toLowerCase().includes(Y))return!1}return!(m!=="all"&&T.department!==m)}),[t,s,c,m]),P=(T,Y)=>{g(T),b(Y),y(!0),M(""),A(""),D(T.effectiveDate||q(new Date,"yyyy-MM-dd")),_(T.proposedSalary||T.currentSalary||T.salaryBase||"")},z=()=>{h&&(j==="approve"?r(h.id,{decidedBy:e?.name,notes:S,newSalary:k?parseInt(k,10):h.proposedSalary,effectiveDate:O}):j==="reject"&&a(h.id,"Rejected",{type:"hr",notes:S,decidedBy:e?.name,date:q(new Date,"yyyy-MM-dd")}),y(!1),g(null))},L=T=>{const Y={Pending:"warning","Under Review":"info",Approved:"success",Rejected:"error"};return n.jsx(ge,{variant:Y[T]||"default",children:T})},I=Object.values(fs).flat(),J={pending:t.filter(T=>T.status==="Pending").length,underReview:t.filter(T=>T.status==="Under Review").length,approved:t.filter(T=>T.status==="Approved").length,rejected:t.filter(T=>T.status==="Rejected").length};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Promotion Management"}),n.jsx("p",{className:"text-gray-600",children:"Review and process promotion requests"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Pending",value:J.pending,color:"amber",icon:Be},{label:"Under Review",value:J.underReview,color:"blue",icon:ms},{label:"Approved",value:J.approved,color:"green",icon:Le},{label:"Rejected",value:J.rejected,color:"red",icon:Tt}].map(T=>n.jsx(K,{className:`bg-${T.color}-50 border-${T.color}-100`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm text-${T.color}-600`,children:T.label}),n.jsx("p",{className:`text-2xl font-bold text-${T.color}-700`,children:T.value})]}),n.jsx(T.icon,{className:`w-8 h-8 text-${T.color}-400`})]})},T.label))}),n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsx(ca,{value:s,onValueChange:l,children:n.jsxs(da,{children:[n.jsxs(He,{value:"pending",children:["Pending (",J.pending,")"]}),n.jsxs(He,{value:"review",children:["Under Review (",J.underReview,")"]}),n.jsxs(He,{value:"completed",children:["Completed (",J.approved+J.rejected,")"]})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsx(Cn,{type:"text",placeholder:"Search employees...",value:c,onChange:T=>d(T.target.value),className:"w-full sm:w-64",inputClassName:"pr-4 py-2 text-sm"}),n.jsxs("select",{value:m,onChange:T=>f(T.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Departments"}),I.map(T=>n.jsx("option",{value:T,children:T},T))]})]})]}),n.jsx(K,{className:"bg-blue-50 border-blue-200",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ms,{className:"w-6 h-6 text-blue-600 shrink-0 mt-1"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-blue-900",children:"Committee Meeting Scheduling"}),n.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"As HR, you can monitor promotion requests. Committee meeting scheduling is handled by the Dean, who serves as the convener for promotion reviews."})]})]})}),n.jsx(K,{children:E.length===0?n.jsx(Fu,{icon:uj,title:"No Promotions Found",description:s==="pending"?"No pending promotion requests":s==="review"?"No promotions under review":"No completed promotions"}):n.jsx("div",{className:"space-y-4",children:E.map(T=>n.jsxs("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold",children:T.employeeName?.charAt(0)||"?"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:T.employeeName}),n.jsxs("p",{className:"text-sm text-gray-500",children:[T.department,"  ",T.faculty]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-indigo-600",children:[n.jsx("span",{children:T.currentDesignation}),n.jsx(pu,{className:"w-4 h-4"}),n.jsx("span",{className:"font-medium",children:T.requestedDesignation}),T.proposedSalary&&n.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-lg",children:["Proposed Salary: ",T.proposedSalary.toLocaleString()]})]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:[n.jsx(Xe,{className:"w-4 h-4 inline mr-1"}),q(ue(T.appliedOn),"MMM d, yyyy")]}),n.jsxs("div",{className:"text-sm text-gray-500",children:[T.yearsInService," years service"]}),L(T.status)]}),T.status==="Pending"&&n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"px-3 py-2 bg-blue-50 border border-blue-200 rounded-lg text-xs text-blue-700",children:" Committee scheduling is handled by Dean"}),n.jsx(X,{size:"sm",variant:"outline",onClick:()=>P(T,"reject"),className:"text-red-600 border-red-200 hover:bg-red-50",children:"Reject"})]}),T.status==="Under Review"&&n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{size:"sm",onClick:()=>P(T,"approve"),className:"bg-green-600 hover:bg-green-700 gap-1",children:[n.jsx(Le,{className:"w-4 h-4"}),"Approve"]}),n.jsx(X,{size:"sm",variant:"outline",onClick:()=>P(T,"reject"),className:"text-red-600 border-red-200 hover:bg-red-50",children:"Reject"})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t",children:[n.jsx("p",{className:"text-sm text-gray-600",children:T.reason}),T.documents?.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:T.documents.map((Y,V)=>n.jsxs("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs text-gray-600",children:[" ",Y]},V))})]}),T.committeeReview&&n.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Committee Meeting"}),n.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Scheduled: ",T.committeeReview.meetingDate," by"," ",T.committeeReview.scheduledBy]}),T.committeeReview.notes&&n.jsx("p",{className:"text-sm text-blue-600 mt-1",children:T.committeeReview.notes})]})]},T.id))})}),n.jsx(vt,{isOpen:v,onClose:()=>y(!1),title:j==="approve"?"Approve Promotion":"Reject Promotion",children:h&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"font-medium",children:h.employeeName}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[h.currentDesignation,"  ",h.requestedDesignation]})]}),j==="approve"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Salary (PKR)"}),n.jsx("input",{type:"number",value:k,onChange:T=>_(T.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., 180000"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Effective Date"}),n.jsx("input",{type:"date",value:O,onChange:T=>D(T.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments"}),n.jsx("textarea",{value:S,onChange:T=>M(T.target.value),rows:3,placeholder:j==="reject"?"Please provide reason for rejection...":"Add any notes...",className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),n.jsx(X,{onClick:z,className:j==="reject"?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700",children:j==="approve"?"Confirm Approval":"Confirm Rejection"})]})]})})]})}function b9(){const e=Qe(I=>I.user),{resignations:t,employees:a,updateResignationStatus:r,processResignation:s}=Ae(),[l,c]=x.useState("pending"),[d,m]=x.useState(""),[f,h]=x.useState("all"),[g,v]=x.useState(null),[y,j]=x.useState(!1),[b,S]=x.useState(!1),[M,w]=x.useState(null),[A,O]=x.useState(""),D=x.useMemo(()=>t.filter(I=>{if(l==="pending"&&I.status!=="Pending"||l==="approved"&&I.status!=="Approved"||l==="completed"&&I.status!=="Completed")return!1;if(d){const J=d.toLowerCase();if(!I.employeeName?.toLowerCase().includes(J)&&!I.department?.toLowerCase().includes(J))return!1}return!(f!=="all"&&I.department!==f)}),[t,l,d,f]),k=(I,J)=>{v(I),w(J),j(!0),O("")},_=()=>{g&&(M==="approve"?r(g.id,"Approved",{hrApproval:{approvedBy:e?.name,date:q(new Date,"yyyy-MM-dd"),comments:A}}):M==="reject"?r(g.id,"Rejected",{hrApproval:{rejectedBy:e?.name,date:q(new Date,"yyyy-MM-dd"),comments:A}}):M==="process"&&s(g.id),j(!1),v(null))},E=I=>{const J={Pending:"warning",Approved:"info",Completed:"success",Rejected:"error",Withdrawn:"default"};return n.jsx(ge,{variant:J[I]||"default",children:I})},P=I=>{const J=Zr(ue(I),new Date);return J>0?J:0},z=Object.values(fs).flat(),L={pending:t.filter(I=>I.status==="Pending").length,approved:t.filter(I=>I.status==="Approved").length,completed:t.filter(I=>I.status==="Completed").length};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Resignation Management"}),n.jsx("p",{className:"text-gray-600",children:"Process employee resignations and exit procedures"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{label:"Pending Review",value:L.pending,color:"amber",icon:Be},{label:"In Process",value:L.approved,color:"blue",icon:jc},{label:"Completed",value:L.completed,color:"green",icon:Le}].map(I=>n.jsx(K,{className:`bg-${I.color}-50 border-${I.color}-100`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm text-${I.color}-600`,children:I.label}),n.jsx("p",{className:`text-2xl font-bold text-${I.color}-700`,children:I.value})]}),n.jsx(I.icon,{className:`w-8 h-8 text-${I.color}-400`})]})},I.label))}),n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsx(ca,{value:l,onValueChange:c,children:n.jsxs(da,{children:[n.jsxs(He,{value:"pending",children:["Pending (",L.pending,")"]}),n.jsxs(He,{value:"approved",children:["In Process (",L.approved,")"]}),n.jsxs(He,{value:"completed",children:["Completed (",L.completed,")"]})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsx(Cn,{type:"text",placeholder:"Search employees...",value:d,onChange:I=>m(I.target.value),className:"w-full sm:w-64",inputClassName:"pr-4 py-2 text-sm"}),n.jsxs("select",{value:f,onChange:I=>h(I.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Departments"}),z.map(I=>n.jsx("option",{value:I,children:I},I))]})]})]}),n.jsx(K,{children:D.length===0?n.jsx(Fu,{icon:_D,title:"No Resignations Found",description:l==="pending"?"No pending resignation requests":l==="approved"?"No resignations in process":"No completed resignations"}):n.jsx("div",{className:"space-y-4",children:D.map(I=>n.jsxs("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-red-400 to-orange-400 flex items-center justify-center text-white font-bold",children:I.employeeName?.charAt(0)||"?"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:I.employeeName}),n.jsxs("p",{className:"text-sm text-gray-500",children:[I.designation,"  ",I.department]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Reason: ",I.reason]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Applied:"})," ",q(ue(I.appliedOn),"MMM d")]}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Last Day:"})," ",n.jsx("span",{className:"font-medium text-red-600",children:q(ue(I.lastWorkingDate),"MMM d, yyyy")})]}),I.status==="Approved"&&n.jsxs("div",{className:"px-3 py-1 bg-amber-100 rounded-full text-sm text-amber-700",children:[P(I.lastWorkingDate)," days left"]}),E(I.status)]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{size:"sm",variant:"outline",onClick:()=>{v(I),S(!0)},children:"View Details"}),I.status==="Pending"&&n.jsxs(n.Fragment,{children:[n.jsx(X,{size:"sm",onClick:()=>k(I,"approve"),className:"bg-green-600 hover:bg-green-700",children:"Approve"}),n.jsx(X,{size:"sm",variant:"outline",onClick:()=>k(I,"reject"),className:"text-red-600 border-red-200 hover:bg-red-50",children:"Reject"})]}),I.status==="Approved"&&I.exitSurvey&&n.jsxs(X,{size:"sm",onClick:()=>k(I,"process"),className:"gap-1",children:[n.jsx(Le,{className:"w-4 h-4"}),"Complete Exit"]})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t flex flex-wrap gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[I.exitSurvey?n.jsx(Le,{className:"w-5 h-5 text-green-500"}):n.jsx(Be,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Exit Survey"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[I.handoverStatus==="completed"?n.jsx(Le,{className:"w-5 h-5 text-green-500"}):n.jsx(Be,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Handover"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[I.status==="Completed"?n.jsx(Le,{className:"w-5 h-5 text-green-500"}):n.jsx(Be,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Clearance"})]})]})]},I.id))})}),n.jsx(vt,{isOpen:y,onClose:()=>j(!1),title:M==="approve"?"Approve Resignation":M==="reject"?"Reject Resignation":"Complete Exit Process",children:g&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"font-medium",children:g.employeeName}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[g.designation,"  ",g.department]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Last Working Day:"," ",q(ue(g.lastWorkingDate),"MMM d, yyyy")]})]}),M==="process"&&n.jsx("div",{className:"p-4 bg-amber-50 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Jn,{className:"w-5 h-5 text-amber-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-amber-800",children:"Confirm Exit Completion"}),n.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"This will move the employee to ex-employee records and remove them from active employees. This action cannot be undone."})]})]})}),M!=="process"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments"}),n.jsx("textarea",{value:A,onChange:I=>O(I.target.value),rows:3,placeholder:M==="reject"?"Reason for rejection...":"Add any notes...",className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),n.jsx(X,{onClick:_,className:M==="reject"?"bg-red-600 hover:bg-red-700":M==="approve"?"bg-green-600 hover:bg-green-700":"",children:M==="approve"?"Approve Resignation":M==="reject"?"Reject Request":"Complete Exit"})]})]})}),n.jsx(vt,{isOpen:b,onClose:()=>S(!1),title:"Resignation Details",size:"lg",children:g&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-linear-to-br from-red-400 to-orange-400 flex items-center justify-center text-white text-2xl font-bold",children:g.employeeName?.charAt(0)}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:g.employeeName}),n.jsxs("p",{className:"text-gray-500",children:[g.designation,"  ",g.department]})]}),E(g.status)]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Applied On"}),n.jsx("p",{className:"font-medium",children:q(ue(g.appliedOn),"MMM d, yyyy")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Last Working Day"}),n.jsx("p",{className:"font-medium text-red-600",children:q(ue(g.lastWorkingDate),"MMM d, yyyy")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Notice Period"}),n.jsxs("p",{className:"font-medium",children:[g.noticePeriod," days"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Reason"}),n.jsx("p",{className:"font-medium",children:g.reason})]})]}),g.detailedReason&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Detailed Explanation"}),n.jsx("p",{className:"text-sm text-gray-700 p-3 bg-gray-50 rounded-lg",children:g.detailedReason})]}),g.exitSurvey&&n.jsxs("div",{className:"border rounded-xl p-4",children:[n.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(li,{className:"w-5 h-5 text-green-500"}),"Exit Survey Responses"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Primary Reason"}),n.jsx("p",{className:"font-medium",children:g.exitSurvey.reason})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Job Satisfaction"}),n.jsx("div",{className:"flex gap-1 mt-1",children:[1,2,3,4,5].map(I=>n.jsx("span",{className:`w-6 h-6 rounded flex items-center justify-center text-xs ${I<=g.exitSurvey.satisfaction?"bg-yellow-400 text-white":"bg-gray-200"}`,children:I},I))})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Would Recommend"}),n.jsx("p",{className:"font-medium",children:g.exitSurvey.wouldRecommend?" Yes":" No"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Would Return"}),n.jsx("p",{className:"font-medium",children:g.exitSurvey.wouldReturn?" Yes":" No"})]})]}),g.exitSurvey.feedback&&n.jsxs("div",{className:"mt-4 pt-4 border-t",children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Feedback"}),n.jsx("p",{className:"text-sm text-gray-700",children:g.exitSurvey.feedback})]})]})]})})]})}function qD(e){var t,a,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(a=qD(e[t]))&&(r&&(r+=" "),r+=a)}else for(a in e)e[a]&&(r&&(r+=" "),r+=a);return r}function at(){for(var e,t,a=0,r="",s=arguments.length;a<s;a++)(e=arguments[a])&&(t=qD(e))&&(r&&(r+=" "),r+=t);return r}var j9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function yj(e){if(typeof e!="string")return!1;var t=j9;return t.includes(e)}var N9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],w9=new Set(N9);function HD(e){return typeof e!="string"?!1:w9.has(e)}function VD(e){return typeof e=="string"&&e.startsWith("data-")}function Bt(e){if(typeof e!="object"||e===null)return{};var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(HD(a)||VD(a))&&(t[a]=e[a]);return t}function Qr(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Bt(t)}return typeof e=="object"&&!Array.isArray(e)?Bt(e):null}function Sn(e){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(HD(a)||VD(a)||yj(a))&&(t[a]=e[a]);return t}function S9(e){return e==null?null:x.isValidElement(e)?Sn(e.props):typeof e=="object"&&!Array.isArray(e)?Sn(e):null}var A9=["children","width","height","viewBox","className","style","title","desc"];function Yv(){return Yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Yv.apply(null,arguments)}function C9(e,t){if(e==null)return{};var a,r,s=M9(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function M9(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var vj=x.forwardRef((e,t)=>{var{children:a,width:r,height:s,viewBox:l,className:c,style:d,title:m,desc:f}=e,h=C9(e,A9),g=l||{width:r,height:s,x:0,y:0},v=at("recharts-surface",c);return x.createElement("svg",Yv({},Sn(h),{className:v,width:r,height:s,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),x.createElement("title",null,m),x.createElement("desc",null,f),a)}),D9=["children","className"];function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Gv.apply(null,arguments)}function O9(e,t){if(e==null)return{};var a,r,s=E9(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function E9(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var ft=x.forwardRef((e,t)=>{var{children:a,className:r}=e,s=O9(e,D9),l=at("recharts-layer",r);return x.createElement("g",Gv({className:l},Sn(s),{ref:t}),a)}),KD=x.createContext(null),k9=()=>x.useContext(KD);function Zt(e){return function(){return e}}const WD=Math.cos,vh=Math.sin,Jr=Math.sqrt,bh=Math.PI,wp=2*bh,Zv=Math.PI,Xv=2*Zv,Tl=1e-6,P9=Xv-Tl;function YD(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=arguments[t]+e[t]}function R9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return YD;const a=10**t;return function(r){this._+=r[0];for(let s=1,l=r.length;s<l;++s)this._+=Math.round(arguments[s]*a)/a+r[s]}}class _9{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?YD:R9(t)}moveTo(t,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,a){this._append`L${this._x1=+t},${this._y1=+a}`}quadraticCurveTo(t,a,r,s){this._append`Q${+t},${+a},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,a,r,s,l,c){this._append`C${+t},${+a},${+r},${+s},${this._x1=+l},${this._y1=+c}`}arcTo(t,a,r,s,l){if(t=+t,a=+a,r=+r,s=+s,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,d=this._y1,m=r-t,f=s-a,h=c-t,g=d-a,v=h*h+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=a}`;else if(v>Tl)if(!(Math.abs(g*m-f*h)>Tl)||!l)this._append`L${this._x1=t},${this._y1=a}`;else{let y=r-c,j=s-d,b=m*m+f*f,S=y*y+j*j,M=Math.sqrt(b),w=Math.sqrt(v),A=l*Math.tan((Zv-Math.acos((b+v-S)/(2*M*w)))/2),O=A/w,D=A/M;Math.abs(O-1)>Tl&&this._append`L${t+O*h},${a+O*g}`,this._append`A${l},${l},0,0,${+(g*y>h*j)},${this._x1=t+D*m},${this._y1=a+D*f}`}}arc(t,a,r,s,l,c){if(t=+t,a=+a,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(s),m=r*Math.sin(s),f=t+d,h=a+m,g=1^c,v=c?s-l:l-s;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Tl||Math.abs(this._y1-h)>Tl)&&this._append`L${f},${h}`,r&&(v<0&&(v=v%Xv+Xv),v>P9?this._append`A${r},${r},0,1,${g},${t-d},${a-m}A${r},${r},0,1,${g},${this._x1=f},${this._y1=h}`:v>Tl&&this._append`A${r},${r},0,${+(v>=Zv)},${g},${this._x1=t+r*Math.cos(l)},${this._y1=a+r*Math.sin(l)}`)}rect(t,a,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function bj(e){let t=3;return e.digits=function(a){if(!arguments.length)return t;if(a==null)t=null;else{const r=Math.floor(a);if(!(r>=0))throw new RangeError(`invalid digits: ${a}`);t=r}return e},()=>new _9(t)}function jj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function GD(e){this._context=e}GD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Sp(e){return new GD(e)}function ZD(e){return e[0]}function XD(e){return e[1]}function QD(e,t){var a=Zt(!0),r=null,s=Sp,l=null,c=bj(d);e=typeof e=="function"?e:e===void 0?ZD:Zt(e),t=typeof t=="function"?t:t===void 0?XD:Zt(t);function d(m){var f,h=(m=jj(m)).length,g,v=!1,y;for(r==null&&(l=s(y=c())),f=0;f<=h;++f)!(f<h&&a(g=m[f],f,m))===v&&((v=!v)?l.lineStart():l.lineEnd()),v&&l.point(+e(g,f,m),+t(g,f,m));if(y)return l=null,y+""||null}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:Zt(+m),d):e},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:Zt(+m),d):t},d.defined=function(m){return arguments.length?(a=typeof m=="function"?m:Zt(!!m),d):a},d.curve=function(m){return arguments.length?(s=m,r!=null&&(l=s(r)),d):s},d.context=function(m){return arguments.length?(m==null?r=l=null:l=s(r=m),d):r},d}function If(e,t,a){var r=null,s=Zt(!0),l=null,c=Sp,d=null,m=bj(f);e=typeof e=="function"?e:e===void 0?ZD:Zt(+e),t=typeof t=="function"?t:Zt(t===void 0?0:+t),a=typeof a=="function"?a:a===void 0?XD:Zt(+a);function f(g){var v,y,j,b=(g=jj(g)).length,S,M=!1,w,A=new Array(b),O=new Array(b);for(l==null&&(d=c(w=m())),v=0;v<=b;++v){if(!(v<b&&s(S=g[v],v,g))===M)if(M=!M)y=v,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),j=v-1;j>=y;--j)d.point(A[j],O[j]);d.lineEnd(),d.areaEnd()}M&&(A[v]=+e(S,v,g),O[v]=+t(S,v,g),d.point(r?+r(S,v,g):A[v],a?+a(S,v,g):O[v]))}if(w)return d=null,w+""||null}function h(){return QD().defined(s).curve(c).context(l)}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:Zt(+g),r=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Zt(+g),f):e},f.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Zt(+g),f):r},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:Zt(+g),a=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Zt(+g),f):t},f.y1=function(g){return arguments.length?(a=g==null?null:typeof g=="function"?g:Zt(+g),f):a},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(a)},f.lineX1=function(){return h().x(r).y(t)},f.defined=function(g){return arguments.length?(s=typeof g=="function"?g:Zt(!!g),f):s},f.curve=function(g){return arguments.length?(c=g,l!=null&&(d=c(l)),f):c},f.context=function(g){return arguments.length?(g==null?l=d=null:d=c(l=g),f):l},f}class JD{constructor(t,a){this._context=t,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,a){switch(t=+t,a=+a,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,a):this._context.moveTo(t,a);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,a,t,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,t,this._y0,t,a);break}}this._x0=t,this._y0=a}}function T9(e){return new JD(e,!0)}function L9(e){return new JD(e,!1)}const Nj={draw(e,t){const a=Jr(t/bh);e.moveTo(a,0),e.arc(0,0,a,0,wp)}},I9={draw(e,t){const a=Jr(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}},eO=Jr(1/3),z9=eO*2,$9={draw(e,t){const a=Jr(t/z9),r=a*eO;e.moveTo(0,-a),e.lineTo(r,0),e.lineTo(0,a),e.lineTo(-r,0),e.closePath()}},B9={draw(e,t){const a=Jr(t),r=-a/2;e.rect(r,r,a,a)}},F9=.8908130915292852,tO=vh(bh/10)/vh(7*bh/10),U9=vh(wp/10)*tO,q9=-WD(wp/10)*tO,H9={draw(e,t){const a=Jr(t*F9),r=U9*a,s=q9*a;e.moveTo(0,-a),e.lineTo(r,s);for(let l=1;l<5;++l){const c=wp*l/5,d=WD(c),m=vh(c);e.lineTo(m*a,-d*a),e.lineTo(d*r-m*s,m*r+d*s)}e.closePath()}},F0=Jr(3),V9={draw(e,t){const a=-Jr(t/(F0*3));e.moveTo(0,a*2),e.lineTo(-F0*a,-a),e.lineTo(F0*a,-a),e.closePath()}},jr=-.5,Nr=Jr(3)/2,Qv=1/Jr(12),K9=(Qv/2+1)*3,W9={draw(e,t){const a=Jr(t/K9),r=a/2,s=a*Qv,l=r,c=a*Qv+a,d=-l,m=c;e.moveTo(r,s),e.lineTo(l,c),e.lineTo(d,m),e.lineTo(jr*r-Nr*s,Nr*r+jr*s),e.lineTo(jr*l-Nr*c,Nr*l+jr*c),e.lineTo(jr*d-Nr*m,Nr*d+jr*m),e.lineTo(jr*r+Nr*s,jr*s-Nr*r),e.lineTo(jr*l+Nr*c,jr*c-Nr*l),e.lineTo(jr*d+Nr*m,jr*m-Nr*d),e.closePath()}};function Y9(e,t){let a=null,r=bj(s);e=typeof e=="function"?e:Zt(e||Nj),t=typeof t=="function"?t:Zt(t===void 0?64:+t);function s(){let l;if(a||(a=l=r()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),l)return a=null,l+""||null}return s.type=function(l){return arguments.length?(e=typeof l=="function"?l:Zt(l),s):e},s.size=function(l){return arguments.length?(t=typeof l=="function"?l:Zt(+l),s):t},s.context=function(l){return arguments.length?(a=l??null,s):a},s}function jh(){}function Nh(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function nO(e){this._context=e}nO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function G9(e){return new nO(e)}function aO(e){this._context=e}aO.prototype={areaStart:jh,areaEnd:jh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Z9(e){return new aO(e)}function rO(e){this._context=e}rO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:Nh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function X9(e){return new rO(e)}function sO(e){this._context=e}sO.prototype={areaStart:jh,areaEnd:jh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Q9(e){return new sO(e)}function uA(e){return e<0?-1:1}function mA(e,t,a){var r=e._x1-e._x0,s=t-e._x1,l=(e._y1-e._y0)/(r||s<0&&-0),c=(a-e._y1)/(s||r<0&&-0),d=(l*s+c*r)/(r+s);return(uA(l)+uA(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(d))||0}function fA(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function U0(e,t,a){var r=e._x0,s=e._y0,l=e._x1,c=e._y1,d=(l-r)/3;e._context.bezierCurveTo(r+d,s+d*t,l-d,c-d*a,l,c)}function wh(e){this._context=e}wh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:U0(this,this._t0,fA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,U0(this,fA(this,a=mA(this,e,t)),a);break;default:U0(this,this._t0,a=mA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function iO(e){this._context=new lO(e)}(iO.prototype=Object.create(wh.prototype)).point=function(e,t){wh.prototype.point.call(this,t,e)};function lO(e){this._context=e}lO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,r,s,l){this._context.bezierCurveTo(t,e,r,a,l,s)}};function J9(e){return new wh(e)}function eI(e){return new iO(e)}function oO(e){this._context=e}oO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var r=hA(e),s=hA(t),l=0,c=1;c<a;++l,++c)this._context.bezierCurveTo(r[0][l],s[0][l],r[1][l],s[1][l],e[c],t[c]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function hA(e){var t,a=e.length-1,r,s=new Array(a),l=new Array(a),c=new Array(a);for(s[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<a-1;++t)s[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[a-1]=2,l[a-1]=7,c[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)r=s[t]/l[t-1],l[t]-=r,c[t]-=r*c[t-1];for(s[a-1]=c[a-1]/l[a-1],t=a-2;t>=0;--t)s[t]=(c[t]-s[t+1])/l[t];for(l[a-1]=(e[a]+s[a-1])/2,t=0;t<a-1;++t)l[t]=2*e[t+1]-s[t+1];return[s,l]}function tI(e){return new oO(e)}function Ap(e,t){this._context=e,this._t=t}Ap.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function nI(e){return new Ap(e,.5)}function aI(e){return new Ap(e,0)}function rI(e){return new Ap(e,1)}function wc(e,t){if((c=e.length)>1)for(var a=1,r,s,l=e[t[0]],c,d=l.length;a<c;++a)for(s=l,l=e[t[a]],r=0;r<d;++r)l[r][1]+=l[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function Jv(e){for(var t=e.length,a=new Array(t);--t>=0;)a[t]=t;return a}function sI(e,t){return e[t]}function iI(e){const t=[];return t.key=e,t}function lI(){var e=Zt([]),t=Jv,a=wc,r=sI;function s(l){var c=Array.from(e.apply(this,arguments),iI),d,m=c.length,f=-1,h;for(const g of l)for(d=0,++f;d<m;++d)(c[d][f]=[0,+r(g,c[d].key,f,l)]).data=g;for(d=0,h=jj(t(c));d<m;++d)c[h[d]].index=d;return a(c,h),c}return s.keys=function(l){return arguments.length?(e=typeof l=="function"?l:Zt(Array.from(l)),s):e},s.value=function(l){return arguments.length?(r=typeof l=="function"?l:Zt(+l),s):r},s.order=function(l){return arguments.length?(t=l==null?Jv:typeof l=="function"?l:Zt(Array.from(l)),s):t},s.offset=function(l){return arguments.length?(a=l??wc,s):a},s}function oI(e,t){if((r=e.length)>0){for(var a,r,s=0,l=e[0].length,c;s<l;++s){for(c=a=0;a<r;++a)c+=e[a][s][1]||0;if(c)for(a=0;a<r;++a)e[a][s][1]/=c}wc(e,t)}}function cI(e,t){if((s=e.length)>0){for(var a=0,r=e[t[0]],s,l=r.length;a<l;++a){for(var c=0,d=0;c<s;++c)d+=e[c][a][1]||0;r[a][1]+=r[a][0]=-d/2}wc(e,t)}}function dI(e,t){if(!(!((c=e.length)>0)||!((l=(s=e[t[0]]).length)>0))){for(var a=0,r=1,s,l,c;r<l;++r){for(var d=0,m=0,f=0;d<c;++d){for(var h=e[t[d]],g=h[r][1]||0,v=h[r-1][1]||0,y=(g-v)/2,j=0;j<d;++j){var b=e[t[j]],S=b[r][1]||0,M=b[r-1][1]||0;y+=S-M}m+=g,f+=y*g}s[r-1][1]+=s[r-1][0]=a,m&&(a-=f/m)}s[r-1][1]+=s[r-1][0]=a,wc(e,t)}}var q0={},H0={},pA;function uI(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==="__proto__"}e.isUnsafeProperty=t})(H0)),H0}var V0={},xA;function cO(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){switch(typeof a){case"number":case"symbol":return!1;case"string":return a.includes(".")||a.includes("[")||a.includes("]")}}e.isDeepKey=t})(V0)),V0}var K0={},gA;function wj(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="string"||typeof a=="symbol"?a:Object.is(a?.valueOf?.(),-0)?"-0":String(a)}e.toKey=t})(K0)),K0}var W0={},Y0={},yA;function mI(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){if(a==null)return"";if(typeof a=="string")return a;if(Array.isArray(a))return a.map(t).join(",");const r=String(a);return r==="0"&&Object.is(Number(a),-0)?"-0":r}e.toString=t})(Y0)),Y0}var vA;function Sj(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mI(),a=wj();function r(s){if(Array.isArray(s))return s.map(a.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const l=[],c=s.length;if(c===0)return l;let d=0,m="",f="",h=!1;for(s.charCodeAt(0)===46&&(l.push(""),d++);d<c;){const g=s[d];f?g==="\\"&&d+1<c?(d++,m+=s[d]):g===f?f="":m+=g:h?g==='"'||g==="'"?f=g:g==="]"?(h=!1,l.push(m),m=""):m+=g:g==="["?(h=!0,m&&(l.push(m),m="")):g==="."?m&&(l.push(m),m=""):m+=g,d++}return m&&l.push(m),l}e.toPath=r})(W0)),W0}var bA;function Aj(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uI(),a=cO(),r=wj(),s=Sj();function l(d,m,f){if(d==null)return f;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return f;const h=d[m];return h===void 0?a.isDeepKey(m)?l(d,s.toPath(m),f):f:h}case"number":case"symbol":{typeof m=="number"&&(m=r.toKey(m));const h=d[m];return h===void 0?f:h}default:{if(Array.isArray(m))return c(d,m,f);if(Object.is(m?.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return f;const h=d[m];return h===void 0?f:h}}}function c(d,m,f){if(m.length===0)return f;let h=d;for(let g=0;g<m.length;g++){if(h==null||t.isUnsafeProperty(m[g]))return f;h=h[m[g]]}return h===void 0?f:h}e.get=l})(q0)),q0}var G0,jA;function fI(){return jA||(jA=1,G0=Aj().get),G0}var hI=fI();const Ql=_r(hI);var _n=e=>e===0?0:e>0?1:-1,Or=e=>typeof e=="number"&&e!=+e,ui=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Pe=e=>(typeof e=="number"||e instanceof Number)&&!Or(e),vs=e=>Pe(e)||typeof e=="string",pI=0,yu=e=>{var t=++pI;return"".concat(e||"").concat(t)},xa=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(t)&&typeof t!="string")return r;var l;if(ui(t)){if(a==null)return r;var c=t.indexOf("%");l=a*parseFloat(t.slice(0,c))/100}else l=+t;return Or(l)&&(l=r),s&&a!=null&&l>a&&(l=a),l},dO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,a={},r=0;r<t;r++)if(!a[e[r]])a[e[r]]=!0;else return!0;return!1};function ct(e,t,a){return Pe(e)&&Pe(t)?e+a*(t-e):t}function uO(e,t,a){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Ql(r,t))===a)}var xI=e=>{for(var t=e.length,a=0,r=0,s=0,l=0,c=1/0,d=-1/0,m=0,f=0,h=0;h<t;h++)m=e[h].cx||0,f=e[h].cy||0,a+=m,r+=f,s+=m*f,l+=m*m,c=Math.min(c,m),d=Math.max(d,m);var g=t*l!==a*a?(t*s-a*r)/(t*l-a*a):0;return{xmin:c,xmax:d,a:g,b:(r-g*a)/t}},At=e=>e===null||typeof e>"u",Uu=e=>At(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function gI(e){return e!=null}function qu(){}var yI=["type","size","sizeType"];function eb(){return eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},eb.apply(null,arguments)}function NA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function wA(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(a),!0).forEach(function(r){vI(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):NA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function vI(e,t,a){return(t=bI(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function bI(e){var t=jI(e,"string");return typeof t=="symbol"?t:t+""}function jI(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NI(e,t){if(e==null)return{};var a,r,s=wI(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function wI(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var mO={symbolCircle:Nj,symbolCross:I9,symbolDiamond:$9,symbolSquare:B9,symbolStar:H9,symbolTriangle:V9,symbolWye:W9},SI=Math.PI/180,AI=e=>{var t="symbol".concat(Uu(e));return mO[t]||Nj},CI=(e,t,a)=>{if(t==="area")return e;switch(a){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*SI;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},MI=(e,t)=>{mO["symbol".concat(Uu(e))]=t},Cp=e=>{var{type:t="circle",size:a=64,sizeType:r="area"}=e,s=NI(e,yI),l=wA(wA({},s),{},{type:t,size:a,sizeType:r}),c="circle";typeof t=="string"&&(c=t);var d=()=>{var v=AI(c),y=Y9().type(v).size(CI(a,r,c)),j=y();if(j!==null)return j},{className:m,cx:f,cy:h}=l,g=Sn(l);return Pe(f)&&Pe(h)&&Pe(a)?x.createElement("path",eb({},g,{className:at("recharts-symbols",m),transform:"translate(".concat(f,", ").concat(h,")"),d:d()})):null};Cp.registerSymbol=MI;var fO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Cj=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(x.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var r={};return Object.keys(a).forEach(s=>{yj(s)&&(r[s]=(l=>a[s](a,l)))}),r},DI=(e,t,a)=>r=>(e(t,a,r),null),As=(e,t,a)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(s=>{var l=e[s];yj(s)&&typeof l=="function"&&(r||(r={}),r[s]=DI(l,t,a))}),r},OI=e=>Array.isArray(e)&&e.length>0;function SA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function EI(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(a),!0).forEach(function(r){kI(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):SA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function kI(e,t,a){return(t=PI(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function PI(e){var t=RI(e,"string");return typeof t=="symbol"?t:t+""}function RI(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rt(e,t){var a=EI({},e),r=t,s=Object.keys(t),l=s.reduce((c,d)=>(c[d]===void 0&&r[d]!==void 0&&(c[d]=r[d]),c),a);return l}function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Sh.apply(null,arguments)}function AA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function _I(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(a),!0).forEach(function(r){TI(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):AA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function TI(e,t,a){return(t=LI(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function LI(e){var t=II(e,"string");return typeof t=="symbol"?t:t+""}function II(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sr=32,zI={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function $I(e){var{data:t,iconType:a,inactiveColor:r}=e,s=Sr/2,l=Sr/6,c=Sr/3,d=t.inactive?r:t.color,m=a??t.type;if(m==="none")return null;if(m==="plainline"){var f;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(f=t.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:s,x2:Sr,y2:s,className:"recharts-legend-icon"})}if(m==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(Sr,"M").concat(2*c,",").concat(s,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(m==="rect")return x.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Sr/8,"h").concat(Sr,"v").concat(Sr*3/4,"h").concat(-Sr,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var h=_I({},t);return delete h.legendIcon,x.cloneElement(t.legendIcon,h)}return x.createElement(Cp,{fill:d,cx:s,cy:s,size:Sr,sizeType:"diameter",type:m})}function BI(e){var{payload:t,iconSize:a,layout:r,formatter:s,inactiveColor:l,iconType:c}=e,d={x:0,y:0,width:Sr,height:Sr},m={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,g)=>{var v=h.formatter||s,y=at({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:h.inactive});if(h.type==="none")return null;var j=h.inactive?l:h.color,b=v?v(h.value,h,g):h.value;return x.createElement("li",Sh({className:y,style:m,key:"legend-item-".concat(g)},As(e,h,g)),x.createElement(vj,{width:a,height:a,viewBox:d,style:f,"aria-label":"".concat(b," legend icon")},x.createElement($I,{data:h,iconType:c,inactiveColor:l})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},b))})}var FI=e=>{var t=Rt(e,zI),{payload:a,layout:r,align:s}=t;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:r==="horizontal"?s:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:l},x.createElement(BI,Sh({},t,{payload:a})))},Z0={},X0={},CA;function UI(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){const s=new Map;for(let l=0;l<a.length;l++){const c=a[l],d=r(c);s.has(d)||s.set(d,c)}return Array.from(s.values())}e.uniqBy=t})(X0)),X0}var Q0={},MA;function Mp(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a}e.identity=t})(Q0)),Q0}var J0={},ey={},ty={},DA;function qI(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Number.isSafeInteger(a)&&a>=0}e.isLength=t})(ty)),ty}var OA;function Mj(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qI();function a(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=a})(ey)),ey}var ny={},EA;function HI(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="object"&&a!==null}e.isObjectLike=t})(ny)),ny}var kA;function VI(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mj(),a=HI();function r(s){return a.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=r})(J0)),J0}var ay={},ry={},PA;function KI(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Aj();function a(r){return function(s){return t.get(s,r)}}e.property=a})(ry)),ry}var sy={},iy={},ly={},oy={},RA;function hO(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a!==null&&(typeof a=="object"||typeof a=="function")}e.isObject=t})(oy)),oy}var cy={},_A;function pO(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null||typeof a!="object"&&typeof a!="function"}e.isPrimitive=t})(cy)),cy}var dy={},TA;function xO(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){return a===r||Number.isNaN(a)&&Number.isNaN(r)}e.eq=t})(dy)),dy}var LA;function WI(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hO(),a=pO(),r=xO();function s(h,g,v){return typeof v!="function"?s(h,g,()=>{}):l(h,g,function y(j,b,S,M,w,A){const O=v(j,b,S,M,w,A);return O!==void 0?!!O:l(j,b,y,A)},new Map)}function l(h,g,v,y){if(g===h)return!0;switch(typeof g){case"object":return c(h,g,v,y);case"function":return Object.keys(g).length>0?l(h,{...g},v,y):r.eq(h,g);default:return t.isObject(h)?typeof g=="string"?g==="":!0:r.eq(h,g)}}function c(h,g,v,y){if(g==null)return!0;if(Array.isArray(g))return m(h,g,v,y);if(g instanceof Map)return d(h,g,v,y);if(g instanceof Set)return f(h,g,v,y);const j=Object.keys(g);if(h==null)return j.length===0;if(j.length===0)return!0;if(y?.has(g))return y.get(g)===h;y?.set(g,h);try{for(let b=0;b<j.length;b++){const S=j[b];if(!a.isPrimitive(h)&&!(S in h)||g[S]===void 0&&h[S]!==void 0||g[S]===null&&h[S]!==null||!v(h[S],g[S],S,h,g,y))return!1}return!0}finally{y?.delete(g)}}function d(h,g,v,y){if(g.size===0)return!0;if(!(h instanceof Map))return!1;for(const[j,b]of g.entries()){const S=h.get(j);if(v(S,b,j,h,g,y)===!1)return!1}return!0}function m(h,g,v,y){if(g.length===0)return!0;if(!Array.isArray(h))return!1;const j=new Set;for(let b=0;b<g.length;b++){const S=g[b];let M=!1;for(let w=0;w<h.length;w++){if(j.has(w))continue;const A=h[w];let O=!1;if(v(A,S,b,h,g,y)&&(O=!0),O){j.add(w),M=!0;break}}if(!M)return!1}return!0}function f(h,g,v,y){return g.size===0?!0:h instanceof Set?m([...h],[...g],v,y):!1}e.isMatchWith=s,e.isSetMatch=f})(ly)),ly}var IA;function gO(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WI();function a(r,s){return t.isMatchWith(r,s,()=>{})}e.isMatch=a})(iy)),iy}var uy={},my={},fy={},zA;function YI(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Object.getOwnPropertySymbols(a).filter(r=>Object.prototype.propertyIsEnumerable.call(a,r))}e.getSymbols=t})(fy)),fy}var hy={},$A;function yO(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}e.getTag=t})(hy)),hy}var py={},BA;function vO(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",a="[object String]",r="[object Number]",s="[object Boolean]",l="[object Arguments]",c="[object Symbol]",d="[object Date]",m="[object Map]",f="[object Set]",h="[object Array]",g="[object Function]",v="[object ArrayBuffer]",y="[object Object]",j="[object Error]",b="[object DataView]",S="[object Uint8Array]",M="[object Uint8ClampedArray]",w="[object Uint16Array]",A="[object Uint32Array]",O="[object BigUint64Array]",D="[object Int8Array]",k="[object Int16Array]",_="[object Int32Array]",E="[object BigInt64Array]",P="[object Float32Array]",z="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=O,e.booleanTag=s,e.dataViewTag=b,e.dateTag=d,e.errorTag=j,e.float32ArrayTag=P,e.float64ArrayTag=z,e.functionTag=g,e.int16ArrayTag=k,e.int32ArrayTag=_,e.int8ArrayTag=D,e.mapTag=m,e.numberTag=r,e.objectTag=y,e.regexpTag=t,e.setTag=f,e.stringTag=a,e.symbolTag=c,e.uint16ArrayTag=w,e.uint32ArrayTag=A,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=M})(py)),py}var xy={},FA;function GI(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}e.isTypedArray=t})(xy)),xy}var UA;function bO(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YI(),a=yO(),r=vO(),s=pO(),l=GI();function c(h,g){return d(h,void 0,h,new Map,g)}function d(h,g,v,y=new Map,j=void 0){const b=j?.(h,g,v,y);if(b!==void 0)return b;if(s.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const S=new Array(h.length);y.set(h,S);for(let M=0;M<h.length;M++)S[M]=d(h[M],M,v,y,j);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;y.set(h,S);for(const[M,w]of h)S.set(M,d(w,M,v,y,j));return S}if(h instanceof Set){const S=new Set;y.set(h,S);for(const M of h)S.add(d(M,void 0,v,y,j));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,S);for(let M=0;M<h.length;M++)S[M]=d(h[M],M,v,y,j);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,S),m(S,h,v,y,j),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return y.set(h,S),m(S,h,v,y,j),S}if(typeof Blob<"u"&&h instanceof Blob){const S=new Blob([h],{type:h.type});return y.set(h,S),m(S,h,v,y,j),S}if(h instanceof Error){const S=new h.constructor;return y.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,m(S,h,v,y,j),S}if(h instanceof Boolean){const S=new Boolean(h.valueOf());return y.set(h,S),m(S,h,v,y,j),S}if(h instanceof Number){const S=new Number(h.valueOf());return y.set(h,S),m(S,h,v,y,j),S}if(h instanceof String){const S=new String(h.valueOf());return y.set(h,S),m(S,h,v,y,j),S}if(typeof h=="object"&&f(h)){const S=Object.create(Object.getPrototypeOf(h));return y.set(h,S),m(S,h,v,y,j),S}return h}function m(h,g,v=h,y,j){const b=[...Object.keys(g),...t.getSymbols(g)];for(let S=0;S<b.length;S++){const M=b[S],w=Object.getOwnPropertyDescriptor(h,M);(w==null||w.writable)&&(h[M]=d(g[M],M,v,y,j))}}function f(h){switch(a.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=d,e.copyProperties=m})(my)),my}var qA;function ZI(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bO();function a(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=a})(uy)),uy}var HA;function XI(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gO(),a=ZI();function r(s){return s=a.cloneDeep(s),l=>t.isMatch(l,s)}e.matches=r})(sy)),sy}var gy={},yy={},vy={},VA;function QI(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bO(),a=vO();function r(s,l){return t.cloneDeepWith(s,(c,d,m,f)=>{const h=l?.(c,d,m,f);if(h!==void 0)return h;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case a.numberTag:case a.stringTag:case a.booleanTag:{const g=new s.constructor(s?.valueOf());return t.copyProperties(g,s),g}case a.argumentsTag:{const g={};return t.copyProperties(g,s),g.length=s.length,g[Symbol.iterator]=s[Symbol.iterator],g}default:return}})}e.cloneDeepWith=r})(vy)),vy}var KA;function JI(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QI();function a(r){return t.cloneDeepWith(r)}e.cloneDeep=a})(yy)),yy}var by={},jy={},WA;function jO(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function a(r,s=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<s;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=a})(jy)),jy}var Ny={},YA;function ez(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yO();function a(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=a})(Ny)),Ny}var GA;function tz(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cO(),a=jO(),r=ez(),s=Sj();function l(c,d){let m;if(Array.isArray(d)?m=d:typeof d=="string"&&t.isDeepKey(d)&&c?.[d]==null?m=s.toPath(d):m=[d],m.length===0)return!1;let f=c;for(let h=0;h<m.length;h++){const g=m[h];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||r.isArguments(f))&&a.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}e.has=l})(by)),by}var ZA;function nz(){return ZA||(ZA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gO(),a=wj(),r=JI(),s=Aj(),l=tz();function c(d,m){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=a.toKey(d);break}}return m=r.cloneDeep(m),function(f){const h=s.get(f,d);return h===void 0?l.has(f,d):m===void 0?h===void 0:t.isMatch(h,m)}}e.matchesProperty=c})(gy)),gy}var XA;function Dj(){return XA||(XA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mp(),a=KI(),r=XI(),s=nz();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return a.property(c)}}e.iteratee=l})(ay)),ay}var QA;function az(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UI(),a=Mp(),r=VI(),s=Dj();function l(c,d=a.identity){return r.isArrayLikeObject(c)?t.uniqBy(Array.from(c),s.iteratee(d)):[]}e.uniqBy=l})(Z0)),Z0}var wy,JA;function rz(){return JA||(JA=1,wy=az().uniqBy),wy}var sz=rz();const eC=_r(sz);function NO(e,t,a){return t===!0?eC(e,a):typeof t=="function"?eC(e,t):e}var Sy={exports:{}},Ay={},Cy={exports:{}},My={};var tC;function iz(){if(tC)return My;tC=1;var e=yp();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var a=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function d(g,v){var y=v(),j=r({inst:{value:y,getSnapshot:v}}),b=j[0].inst,S=j[1];return l(function(){b.value=y,b.getSnapshot=v,m(b)&&S({inst:b})},[g,y,v]),s(function(){return m(b)&&S({inst:b}),g(function(){m(b)&&S({inst:b})})},[g]),c(y),y}function m(g){var v=g.getSnapshot;g=g.value;try{var y=v();return!a(g,y)}catch{return!0}}function f(g,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return My.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,My}var nC;function lz(){return nC||(nC=1,Cy.exports=iz()),Cy.exports}var aC;function oz(){if(aC)return Ay;aC=1;var e=yp(),t=lz();function a(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:a,s=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,d=e.useMemo,m=e.useDebugValue;return Ay.useSyncExternalStoreWithSelector=function(f,h,g,v,y){var j=l(null);if(j.current===null){var b={hasValue:!1,value:null};j.current=b}else b=j.current;j=d(function(){function M(k){if(!w){if(w=!0,A=k,k=v(k),y!==void 0&&b.hasValue){var _=b.value;if(y(_,k))return O=_}return O=k}if(_=O,r(A,k))return _;var E=v(k);return y!==void 0&&y(_,E)?(A=k,_):(A=k,O=E)}var w=!1,A,O,D=g===void 0?null:g;return[function(){return M(h())},D===null?void 0:function(){return M(D())}]},[h,g,v,y]);var S=s(f,j[0],j[1]);return c(function(){b.hasValue=!0,b.value=S},[S]),m(S),S},Ay}var rC;function cz(){return rC||(rC=1,Sy.exports=oz()),Sy.exports}var dz=cz(),Oj=x.createContext(null),uz=e=>e,Ft=()=>{var e=x.useContext(Oj);return e?e.store.dispatch:uz},ch=()=>{},mz=()=>ch,fz=(e,t)=>e===t;function Oe(e){var t=x.useContext(Oj);return dz.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:mz,t?t.store.getState:ch,t?t.store.getState:ch,t?e:ch,fz)}function hz(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function pz(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function xz(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(a=>typeof a=="function")){const a=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${a}]`)}}var sC=e=>Array.isArray(e)?e:[e];function gz(e){const t=Array.isArray(e[0])?e[0]:e;return xz(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function yz(e,t){const a=[],{length:r}=e;for(let s=0;s<r;s++)a.push(e[s].apply(null,t));return a}var vz=class{constructor(e){this.value=e}deref(){return this.value}},bz=typeof WeakRef<"u"?WeakRef:vz,jz=0,iC=1;function zf(){return{s:jz,v:void 0,o:null,p:null}}function wO(e,t={}){let a=zf();const{resultEqualityCheck:r}=t;let s,l=0;function c(){let d=a;const{length:m}=arguments;for(let g=0,v=m;g<v;g++){const y=arguments[g];if(typeof y=="function"||typeof y=="object"&&y!==null){let j=d.o;j===null&&(d.o=j=new WeakMap);const b=j.get(y);b===void 0?(d=zf(),j.set(y,d)):d=b}else{let j=d.p;j===null&&(d.p=j=new Map);const b=j.get(y);b===void 0?(d=zf(),j.set(y,d)):d=b}}const f=d;let h;if(d.s===iC)h=d.v;else if(h=e.apply(null,arguments),l++,r){const g=s?.deref?.()??s;g!=null&&r(g,h)&&(h=g,l!==0&&l--),s=typeof h=="object"&&h!==null||typeof h=="function"?new bz(h):h}return f.s=iC,f.v=h,h}return c.clearCache=()=>{a=zf(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function Nz(e,...t){const a=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...s)=>{let l=0,c=0,d,m={},f=s.pop();typeof f=="object"&&(m=f,f=s.pop()),hz(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...a,...m},{memoize:g,memoizeOptions:v=[],argsMemoize:y=wO,argsMemoizeOptions:j=[]}=h,b=sC(v),S=sC(j),M=gz(s),w=g(function(){return l++,f.apply(null,arguments)},...b),A=y(function(){c++;const D=yz(M,arguments);return d=w.apply(null,D),d},...S);return Object.assign(A,{resultFunc:f,memoizedResultFunc:w,dependencies:M,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:g,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var te=Nz(wO),wz=Object.assign((e,t=te)=>{pz(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const a=Object.keys(e),r=a.map(l=>e[l]);return t(r,(...l)=>l.reduce((c,d,m)=>(c[a[m]]=d,c),{}))},{withTypes:()=>wz}),Dy={},Oy={},Ey={},lC;function Sz(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const a=(r,s,l)=>{if(r!==s){const c=t(r),d=t(s);if(c===d&&c===0){if(r<s)return l==="desc"?1:-1;if(r>s)return l==="desc"?-1:1}return l==="desc"?d-c:c-d}return 0};e.compareValues=a})(Ey)),Ey}var ky={},Py={},oC;function SO(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"||a instanceof Symbol}e.isSymbol=t})(Py)),Py}var cC;function Az(){return cC||(cC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SO(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(r.test(l)||!a.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=s})(ky)),ky}var dC;function Cz(){return dC||(dC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sz(),a=Az(),r=Sj();function s(l,c,d,m){if(l==null)return[];d=m?void 0:d,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(y=>String(y));const f=(y,j)=>{let b=y;for(let S=0;S<j.length&&b!=null;++S)b=b[j[S]];return b},h=(y,j)=>j==null||y==null?j:typeof y=="object"&&"key"in y?Object.hasOwn(j,y.key)?j[y.key]:f(j,y.path):typeof y=="function"?y(j):Array.isArray(y)?f(j,y):typeof j=="object"?j[y]:j,g=c.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||a.isKey(y)?y:{key:y,path:r.toPath(y)}));return l.map(y=>({original:y,criteria:g.map(j=>h(j,y))})).slice().sort((y,j)=>{for(let b=0;b<g.length;b++){const S=t.compareValues(y.criteria[b],j.criteria[b],d[b]);if(S!==0)return S}return 0}).map(y=>y.original)}e.orderBy=s})(Oy)),Oy}var Ry={},uC;function Mz(){return uC||(uC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r=1){const s=[],l=Math.floor(r),c=(d,m)=>{for(let f=0;f<d.length;f++){const h=d[f];Array.isArray(h)&&m<l?c(h,m+1):s.push(h)}};return c(a,0),s}e.flatten=t})(Ry)),Ry}var _y={},mC;function AO(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jO(),a=Mj(),r=hO(),s=xO();function l(c,d,m){return r.isObject(m)&&(typeof d=="number"&&a.isArrayLike(m)&&t.isIndex(d)&&d<m.length||typeof d=="string"&&d in m)?s.eq(m[d],c):!1}e.isIterateeCall=l})(_y)),_y}var fC;function Dz(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cz(),a=Mz(),r=AO();function s(l,...c){const d=c.length;return d>1&&r.isIterateeCall(l,c[0],c[1])?c=[]:d>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,a.flatten(c),["asc"])}e.sortBy=s})(Dy)),Dy}var Ty,hC;function Oz(){return hC||(hC=1,Ty=Dz().sortBy),Ty}var Ez=Oz();const Dp=_r(Ez);var CO=e=>e.legend.settings,kz=e=>e.legend.size,Pz=e=>e.legend.payload,Rz=te([Pz,CO],(e,t)=>{var{itemSorter:a}=t,r=e.flat(1);return a?Dp(r,a):r});function _z(){return Oe(Rz)}var $f=1;function MO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,a]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(s=>{if(s!=null){var l=s.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>$f||Math.abs(c.left-t.left)>$f||Math.abs(c.top-t.top)>$f||Math.abs(c.width-t.width)>$f)&&a({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function la(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Tz=typeof Symbol=="function"&&Symbol.observable||"@@observable",pC=Tz,Ly=()=>Math.random().toString(36).substring(7).split("").join("."),Lz={INIT:`@@redux/INIT${Ly()}`,REPLACE:`@@redux/REPLACE${Ly()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ly()}`},Ah=Lz;function Ej(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function DO(e,t,a){if(typeof e!="function")throw new Error(la(2));if(typeof t=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(la(0));if(typeof t=="function"&&typeof a>"u"&&(a=t,t=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(la(1));return a(DO)(e,t)}let r=e,s=t,l=new Map,c=l,d=0,m=!1;function f(){c===l&&(c=new Map,l.forEach((S,M)=>{c.set(M,S)}))}function h(){if(m)throw new Error(la(3));return s}function g(S){if(typeof S!="function")throw new Error(la(4));if(m)throw new Error(la(5));let M=!0;f();const w=d++;return c.set(w,S),function(){if(M){if(m)throw new Error(la(6));M=!1,f(),c.delete(w),l=null}}}function v(S){if(!Ej(S))throw new Error(la(7));if(typeof S.type>"u")throw new Error(la(8));if(typeof S.type!="string")throw new Error(la(17));if(m)throw new Error(la(9));try{m=!0,s=r(s,S)}finally{m=!1}return(l=c).forEach(w=>{w()}),S}function y(S){if(typeof S!="function")throw new Error(la(10));r=S,v({type:Ah.REPLACE})}function j(){const S=g;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error(la(11));function w(){const O=M;O.next&&O.next(h())}return w(),{unsubscribe:S(w)}},[pC](){return this}}}return v({type:Ah.INIT}),{dispatch:v,subscribe:g,getState:h,replaceReducer:y,[pC]:j}}function Iz(e){Object.keys(e).forEach(t=>{const a=e[t];if(typeof a(void 0,{type:Ah.INIT})>"u")throw new Error(la(12));if(typeof a(void 0,{type:Ah.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(la(13))})}function OO(e){const t=Object.keys(e),a={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(a[c]=e[c])}const r=Object.keys(a);let s;try{Iz(a)}catch(l){s=l}return function(c={},d){if(s)throw s;let m=!1;const f={};for(let h=0;h<r.length;h++){const g=r[h],v=a[g],y=c[g],j=v(y,d);if(typeof j>"u")throw d&&d.type,new Error(la(14));f[g]=j,m=m||j!==y}return m=m||r.length!==Object.keys(c).length,m?f:c}}function Ch(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,a)=>(...r)=>t(a(...r)))}function zz(...e){return t=>(a,r)=>{const s=t(a,r);let l=()=>{throw new Error(la(15))};const c={getState:s.getState,dispatch:(m,...f)=>l(m,...f)},d=e.map(m=>m(c));return l=Ch(...d)(s.dispatch),{...s,dispatch:l}}}function EO(e){return Ej(e)&&"type"in e&&typeof e.type=="string"}var kO=Symbol.for("immer-nothing"),xC=Symbol.for("immer-draftable"),ja=Symbol.for("immer-state");function qr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ja=Object,Sc=Ja.getPrototypeOf,Mh="constructor",Op="prototype",tb="configurable",Dh="enumerable",dh="writable",vu="value",mi=e=>!!e&&!!e[ja];function bs(e){return e?PO(e)||Ep(e)||!!e[xC]||!!e[Mh]?.[xC]||kp(e)||Pp(e):!1}var $z=Ja[Op][Mh].toString(),gC=new WeakMap;function PO(e){if(!e||!kj(e))return!1;const t=Sc(e);if(t===null||t===Ja[Op])return!0;const a=Ja.hasOwnProperty.call(t,Mh)&&t[Mh];if(a===Object)return!0;if(!hc(a))return!1;let r=gC.get(a);return r===void 0&&(r=Function.toString.call(a),gC.set(a,r)),r===$z}function Hu(e,t,a=!0){Vu(e)===0?(a?Reflect.ownKeys(e):Ja.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((r,s)=>t(s,r,e))}function Vu(e){const t=e[ja];return t?t.type_:Ep(e)?1:kp(e)?2:Pp(e)?3:0}var yC=(e,t,a=Vu(e))=>a===2?e.has(t):Ja[Op].hasOwnProperty.call(e,t),nb=(e,t,a=Vu(e))=>a===2?e.get(t):e[t],Oh=(e,t,a,r=Vu(e))=>{r===2?e.set(t,a):r===3?e.add(a):e[t]=a};function Bz(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ep=Array.isArray,kp=e=>e instanceof Map,Pp=e=>e instanceof Set,kj=e=>typeof e=="object",hc=e=>typeof e=="function",Iy=e=>typeof e=="boolean",Gs=e=>e.copy_||e.base_,Pj=e=>e.modified_?e.copy_:e.base_;function ab(e,t){if(kp(e))return new Map(e);if(Pp(e))return new Set(e);if(Ep(e))return Array[Op].slice.call(e);const a=PO(e);if(t===!0||t==="class_only"&&!a){const r=Ja.getOwnPropertyDescriptors(e);delete r[ja];let s=Reflect.ownKeys(r);for(let l=0;l<s.length;l++){const c=s[l],d=r[c];d[dh]===!1&&(d[dh]=!0,d[tb]=!0),(d.get||d.set)&&(r[c]={[tb]:!0,[dh]:!0,[Dh]:d[Dh],[vu]:e[c]})}return Ja.create(Sc(e),r)}else{const r=Sc(e);if(r!==null&&a)return{...e};const s=Ja.create(r);return Ja.assign(s,e)}}function Rj(e,t=!1){return Rp(e)||mi(e)||(Vu(e)>1&&Ja.defineProperties(e,{set:Bf,add:Bf,clear:Bf,delete:Bf}),Ja.freeze(e),t&&Hu(e,(a,r)=>{Rj(r,!0)},!1)),e}function Fz(){qr(2)}var Bf={[vu]:Fz};function Rp(e){return e===null||!kj(e)?!0:Ja.isFrozen(e)}var Eh="MapSet",rb="Patches",RO={};function Ac(e){const t=RO[e];return t||qr(0,e),t}var Uz=e=>!!RO[e],bu,_O=()=>bu,qz=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Uz(Eh)?Ac(Eh):void 0});function vC(e,t){t&&(e.patchPlugin_=Ac(rb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function sb(e){ib(e),e.drafts_.forEach(Hz),e.drafts_=null}function ib(e){e===bu&&(bu=e.parent_)}var bC=e=>bu=qz(bu,e);function Hz(e){const t=e[ja];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function jC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const a=t.drafts_[0];if(e!==void 0&&e!==a){a[ja].modified_&&(sb(t),qr(4)),bs(e)&&(e=NC(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(a[ja].base_,e,t)}else e=NC(t,a);return Vz(t,e,!0),sb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==kO?e:void 0}function NC(e,t){if(Rp(t))return t;const a=t[ja];if(!a)return _j(t,e.handledSet_,e);if(!_p(a,e))return t;if(!a.modified_)return a.base_;if(!a.finalized_){const{callbacks_:r}=a;if(r)for(;r.length>0;)r.pop()(e);IO(a,e)}return a.copy_}function Vz(e,t,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Rj(t,a)}function TO(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var _p=(e,t)=>e.scope_===t,Kz=[];function LO(e,t,a,r){const s=Gs(e),l=e.type_;if(r!==void 0&&nb(s,r,l)===t){Oh(s,r,a,l);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;Hu(s,(m,f)=>{if(mi(f)){const h=d.get(f)||[];h.push(m),d.set(f,h)}})}const c=e.draftLocations_.get(t)??Kz;for(const d of c)Oh(s,d,a,l)}function Wz(e,t,a){e.callbacks_.push(function(s){const l=t;if(!l||!_p(l,s))return;s.mapSetPlugin_?.fixSetContents(l);const c=Pj(l);LO(e,l.draft_??l,c,a),IO(l,s)})}function IO(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const s=r.getPath(e);s&&r.generatePatches_(e,s,t)}TO(e)}}function Yz(e,t,a){const{scope_:r}=e;if(mi(a)){const s=a[ja];_p(s,r)&&s.callbacks_.push(function(){uh(e);const c=Pj(s);LO(e,a,c,t)})}else bs(a)&&e.callbacks_.push(function(){const l=Gs(e);nb(l,t,e.type_)===a&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&_j(nb(e.copy_,t,e.type_),r.handledSet_,r)})}function _j(e,t,a){return!a.immer_.autoFreeze_&&a.unfinalizedDrafts_<1||mi(e)||t.has(e)||!bs(e)||Rp(e)||(t.add(e),Hu(e,(r,s)=>{if(mi(s)){const l=s[ja];if(_p(l,a)){const c=Pj(l);Oh(e,r,c,e.type_),TO(l)}}else bs(s)&&_j(s,t,a)})),e}function Gz(e,t){const a=Ep(e),r={type_:a?1:0,scope_:t?t.scope_:_O(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=r,l=Tj;a&&(s=[r],l=ju);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return r.draft_=d,r.revoke_=c,[d,r]}var Tj={get(e,t){if(t===ja)return e;const a=Gs(e);if(!yC(a,t,e.type_))return Zz(e,a,t);const r=a[t];if(e.finalized_||!bs(r))return r;if(r===zy(e.base_,t)){uh(e);const s=e.type_===1?+t:t,l=ob(e.scope_,r,e,s);return e.copy_[s]=l}return r},has(e,t){return t in Gs(e)},ownKeys(e){return Reflect.ownKeys(Gs(e))},set(e,t,a){const r=zO(Gs(e),t);if(r?.set)return r.set.call(e.draft_,a),!0;if(!e.modified_){const s=zy(Gs(e),t),l=s?.[ja];if(l&&l.base_===a)return e.copy_[t]=a,e.assigned_.set(t,!1),!0;if(Bz(a,s)&&(a!==void 0||yC(e.base_,t,e.type_)))return!0;uh(e),lb(e)}return e.copy_[t]===a&&(a!==void 0||t in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=a,e.assigned_.set(t,!0),Yz(e,t,a)),!0},deleteProperty(e,t){return uh(e),zy(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),lb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const a=Gs(e),r=Reflect.getOwnPropertyDescriptor(a,t);return r&&{[dh]:!0,[tb]:e.type_!==1||t!=="length",[Dh]:r[Dh],[vu]:a[t]}},defineProperty(){qr(11)},getPrototypeOf(e){return Sc(e.base_)},setPrototypeOf(){qr(12)}},ju={};Hu(Tj,(e,t)=>{ju[e]=function(){const a=arguments;return a[0]=a[0][0],t.apply(this,a)}});ju.deleteProperty=function(e,t){return ju.set.call(this,e,t,void 0)};ju.set=function(e,t,a){return Tj.set.call(this,e[0],t,a,e[0])};function zy(e,t){const a=e[ja];return(a?Gs(a):e)[t]}function Zz(e,t,a){const r=zO(t,a);return r?vu in r?r[vu]:r.get?.call(e.draft_):void 0}function zO(e,t){if(!(t in e))return;let a=Sc(e);for(;a;){const r=Object.getOwnPropertyDescriptor(a,t);if(r)return r;a=Sc(a)}}function lb(e){e.modified_||(e.modified_=!0,e.parent_&&lb(e.parent_))}function uh(e){e.copy_||(e.assigned_=new Map,e.copy_=ab(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Xz=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(a,r,s)=>{if(hc(a)&&!hc(r)){const c=r;r=a;const d=this;return function(f=c,...h){return d.produce(f,g=>r.call(this,g,...h))}}hc(r)||qr(6),s!==void 0&&!hc(s)&&qr(7);let l;if(bs(a)){const c=bC(this),d=ob(c,a,void 0);let m=!0;try{l=r(d),m=!1}finally{m?sb(c):ib(c)}return vC(c,s),jC(l,c)}else if(!a||!kj(a)){if(l=r(a),l===void 0&&(l=a),l===kO&&(l=void 0),this.autoFreeze_&&Rj(l,!0),s){const c=[],d=[];Ac(rb).generateReplacementPatches_(a,l,{patches_:c,inversePatches_:d}),s(c,d)}return l}else qr(1,a)},this.produceWithPatches=(a,r)=>{if(hc(a))return(d,...m)=>this.produceWithPatches(d,f=>a(f,...m));let s,l;return[this.produce(a,r,(d,m)=>{s=d,l=m}),s,l]},Iy(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Iy(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Iy(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){bs(t)||qr(8),mi(t)&&(t=Yr(t));const a=bC(this),r=ob(a,t,void 0);return r[ja].isManual_=!0,ib(a),r}finishDraft(t,a){const r=t&&t[ja];(!r||!r.isManual_)&&qr(9);const{scope_:s}=r;return vC(s,a),jC(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,a){let r;for(r=a.length-1;r>=0;r--){const l=a[r];if(l.path.length===0&&l.op==="replace"){t=l.value;break}}r>-1&&(a=a.slice(r+1));const s=Ac(rb).applyPatches_;return mi(t)?s(t,a):this.produce(t,l=>s(l,a))}};function ob(e,t,a,r){const[s,l]=kp(t)?Ac(Eh).proxyMap_(t,a):Pp(t)?Ac(Eh).proxySet_(t,a):Gz(t,a);return(a?.scope_??_O()).drafts_.push(s),l.callbacks_=a?.callbacks_??[],l.key_=r,a&&r!==void 0?Wz(a,l,r):l.callbacks_.push(function(m){m.mapSetPlugin_?.fixSetContents(l);const{patchPlugin_:f}=m;l.modified_&&f&&f.generatePatches_(l,[],m)}),s}function Yr(e){return mi(e)||qr(10,e),$O(e)}function $O(e){if(!bs(e)||Rp(e))return e;const t=e[ja];let a,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,a=ab(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else a=ab(e,!0);return Hu(a,(s,l)=>{Oh(a,s,$O(l))},r),t&&(t.finalized_=!1),a}var Qz=new Xz,BO=Qz.produce;function FO(e){return({dispatch:a,getState:r})=>s=>l=>typeof l=="function"?l(a,r,e):s(l)}var Jz=FO(),e$=FO,t$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ch:Ch.apply(null,arguments)};function Er(e,t){function a(...r){if(t){let s=t(...r);if(!s)throw new Error(er(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return a.toString=()=>`${e}`,a.type=e,a.match=r=>EO(r)&&r.type===e,a}var UO=class ru extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ru.prototype)}static get[Symbol.species](){return ru}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ru(...t[0].concat(this)):new ru(...t.concat(this))}};function wC(e){return bs(e)?BO(e,()=>{}):e}function Ff(e,t,a){return e.has(t)?e.get(t):e.set(t,a(t)).get(t)}function n$(e){return typeof e=="boolean"}var a$=()=>function(t){const{thunk:a=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=t??{};let c=new UO;return a&&(n$(a)?c.push(Jz):c.push(e$(a.extraArgument))),c},qO="RTK_autoBatch",cn=()=>e=>({payload:e,meta:{[qO]:!0}}),SC=e=>t=>{setTimeout(t,e)},HO=(e={type:"raf"})=>t=>(...a)=>{const r=t(...a);let s=!0,l=!1,c=!1;const d=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:SC(10):e.type==="callback"?e.queueNotification:SC(e.timeout),f=()=>{c=!1,l&&(l=!1,d.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const g=()=>s&&h(),v=r.subscribe(g);return d.add(h),()=>{v(),d.delete(h)}},dispatch(h){try{return s=!h?.meta?.[qO],l=!s,l&&(c||(c=!0,m(f))),r.dispatch(h)}finally{s=!0}}})},r$=e=>function(a){const{autoBatch:r=!0}=a??{};let s=new UO(e);return r&&s.push(HO(typeof r=="object"?r:void 0)),s};function s$(e){const t=a$(),{reducer:a=void 0,middleware:r,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let d;if(typeof a=="function")d=a;else if(Ej(a))d=OO(a);else throw new Error(er(1));let m;typeof r=="function"?m=r(t):m=t();let f=Ch;s&&(f=t$({trace:!1,...typeof s=="object"&&s}));const h=zz(...m),g=r$(h);let v=typeof c=="function"?c(g):g();const y=f(...v);return DO(d,l,y)}function VO(e){const t={},a=[];let r;const s={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(er(28));if(d in t)throw new Error(er(29));return t[d]=c,s},addAsyncThunk(l,c){return c.pending&&(t[l.pending.type]=c.pending),c.rejected&&(t[l.rejected.type]=c.rejected),c.fulfilled&&(t[l.fulfilled.type]=c.fulfilled),c.settled&&a.push({matcher:l.settled,reducer:c.settled}),s},addMatcher(l,c){return a.push({matcher:l,reducer:c}),s},addDefaultCase(l){return r=l,s}};return e(s),[t,a,r]}function i$(e){return typeof e=="function"}function l$(e,t){let[a,r,s]=VO(t),l;if(i$(e))l=()=>wC(e());else{const d=wC(e);l=()=>d}function c(d=l(),m){let f=[a[m.type],...r.filter(({matcher:h})=>h(m)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[s]),f.reduce((h,g)=>{if(g)if(mi(h)){const y=g(h,m);return y===void 0?h:y}else{if(bs(h))return BO(h,v=>g(v,m));{const v=g(h,m);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},d)}return c.getInitialState=l,c}var o$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",c$=(e=21)=>{let t="",a=e;for(;a--;)t+=o$[Math.random()*64|0];return t},d$=Symbol.for("rtk-slice-createasyncthunk");function u$(e,t){return`${e}/${t}`}function m$({creators:e}={}){const t=e?.asyncThunk?.[d$];return function(r){const{name:s,reducerPath:l=s}=r;if(!s)throw new Error(er(11));const c=(typeof r.reducers=="function"?r.reducers(h$()):r.reducers)||{},d=Object.keys(c),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(A,O){const D=typeof A=="string"?A:A.type;if(!D)throw new Error(er(12));if(D in m.sliceCaseReducersByType)throw new Error(er(13));return m.sliceCaseReducersByType[D]=O,f},addMatcher(A,O){return m.sliceMatchers.push({matcher:A,reducer:O}),f},exposeAction(A,O){return m.actionCreators[A]=O,f},exposeCaseReducer(A,O){return m.sliceCaseReducersByName[A]=O,f}};d.forEach(A=>{const O=c[A],D={reducerName:A,type:u$(s,A),createNotation:typeof r.reducers=="function"};x$(O)?y$(D,O,f,t):p$(D,O,f)});function h(){const[A={},O=[],D=void 0]=typeof r.extraReducers=="function"?VO(r.extraReducers):[r.extraReducers],k={...A,...m.sliceCaseReducersByType};return l$(r.initialState,_=>{for(let E in k)_.addCase(E,k[E]);for(let E of m.sliceMatchers)_.addMatcher(E.matcher,E.reducer);for(let E of O)_.addMatcher(E.matcher,E.reducer);D&&_.addDefaultCase(D)})}const g=A=>A,v=new Map,y=new WeakMap;let j;function b(A,O){return j||(j=h()),j(A,O)}function S(){return j||(j=h()),j.getInitialState()}function M(A,O=!1){function D(_){let E=_[A];return typeof E>"u"&&O&&(E=Ff(y,D,S)),E}function k(_=g){const E=Ff(v,O,()=>new WeakMap);return Ff(E,_,()=>{const P={};for(const[z,L]of Object.entries(r.selectors??{}))P[z]=f$(L,_,()=>Ff(y,_,S),O);return P})}return{reducerPath:A,getSelectors:k,get selectors(){return k(D)},selectSlice:D}}const w={name:s,reducer:b,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:S,...M(l),injectInto(A,{reducerPath:O,...D}={}){const k=O??l;return A.inject({reducerPath:k,reducer:b},D),{...w,...M(k,!0)}}};return w}}function f$(e,t,a,r){function s(l,...c){let d=t(l);return typeof d>"u"&&r&&(d=a()),e(d,...c)}return s.unwrapped=e,s}var Ua=m$();function h$(){function e(t,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...a}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...a){return t(...a)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:a}},asyncThunk:e}}function p$({type:e,reducerName:t,createNotation:a},r,s){let l,c;if("reducer"in r){if(a&&!g$(r))throw new Error(er(17));l=r.reducer,c=r.prepare}else l=r;s.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?Er(e,c):Er(e))}function x$(e){return e._reducerDefinitionType==="asyncThunk"}function g$(e){return e._reducerDefinitionType==="reducerWithPrepare"}function y$({type:e,reducerName:t},a,r,s){if(!s)throw new Error(er(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:m,settled:f,options:h}=a,g=s(e,l,h);r.exposeAction(t,g),c&&r.addCase(g.fulfilled,c),d&&r.addCase(g.pending,d),m&&r.addCase(g.rejected,m),f&&r.addMatcher(g.settled,f),r.exposeCaseReducer(t,{fulfilled:c||Uf,pending:d||Uf,rejected:m||Uf,settled:f||Uf})}function Uf(){}var v$="task",KO="listener",WO="completed",Lj="cancelled",b$=`task-${Lj}`,j$=`task-${WO}`,cb=`${KO}-${Lj}`,N$=`${KO}-${WO}`,Tp=class{constructor(e){this.code=e,this.message=`${v$} ${Lj} (reason: ${e})`}name="TaskAbortError";message},Ij=(e,t)=>{if(typeof e!="function")throw new TypeError(er(32))},kh=()=>{},YO=(e,t=kh)=>(e.catch(t),e),GO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Hl=(e,t)=>{const a=e.signal;a.aborted||("reason"in a||Object.defineProperty(a,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Vl=e=>{if(e.aborted){const{reason:t}=e;throw new Tp(t)}};function ZO(e,t){let a=kh;return new Promise((r,s)=>{const l=()=>s(new Tp(e.reason));if(e.aborted){l();return}a=GO(e,l),t.finally(()=>a()).then(r,s)}).finally(()=>{a=kh})}var w$=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(a){return{status:a instanceof Tp?"cancelled":"rejected",error:a}}finally{t?.()}},Ph=e=>t=>YO(ZO(e,t).then(a=>(Vl(e),a))),XO=e=>{const t=Ph(e);return a=>t(new Promise(r=>setTimeout(r,a)))},{assign:vc}=Object,AC={},Lp="listenerMiddleware",S$=(e,t)=>{const a=r=>GO(e,()=>Hl(r,e.reason));return(r,s)=>{Ij(r);const l=new AbortController;a(l);const c=w$(async()=>{Vl(e),Vl(l.signal);const d=await r({pause:Ph(l.signal),delay:XO(l.signal),signal:l.signal});return Vl(l.signal),d},()=>Hl(l,j$));return s?.autoJoin&&t.push(c.catch(kh)),{result:Ph(e)(c),cancel(){Hl(l,b$)}}}},A$=(e,t)=>{const a=async(r,s)=>{Vl(t);let l=()=>{};const d=[new Promise((m,f)=>{let h=e({predicate:r,effect:(g,v)=>{v.unsubscribe(),m([g,v.getState(),v.getOriginalState()])}});l=()=>{h(),f()}})];s!=null&&d.push(new Promise(m=>setTimeout(m,s,null)));try{const m=await ZO(t,Promise.race(d));return Vl(t),m}finally{l()}};return(r,s)=>YO(a(r,s))},QO=e=>{let{type:t,actionCreator:a,matcher:r,predicate:s,effect:l}=e;if(t)s=Er(t).match;else if(a)t=a.type,s=a.match;else if(r)s=r;else if(!s)throw new Error(er(21));return Ij(l),{predicate:s,type:t,effect:l}},JO=vc(e=>{const{type:t,predicate:a,effect:r}=QO(e);return{id:c$(),effect:r,type:t,predicate:a,pending:new Set,unsubscribe:()=>{throw new Error(er(22))}}},{withTypes:()=>JO}),CC=(e,t)=>{const{type:a,effect:r,predicate:s}=QO(t);return Array.from(e.values()).find(l=>(typeof a=="string"?l.type===a:l.predicate===s)&&l.effect===r)},db=e=>{e.pending.forEach(t=>{Hl(t,cb)})},C$=(e,t)=>()=>{for(const a of t.keys())db(a);e.clear()},MC=(e,t,a)=>{try{e(t,a)}catch(r){setTimeout(()=>{throw r},0)}},eE=vc(Er(`${Lp}/add`),{withTypes:()=>eE}),M$=Er(`${Lp}/removeAll`),tE=vc(Er(`${Lp}/remove`),{withTypes:()=>tE}),D$=(...e)=>{console.error(`${Lp}/error`,...e)},Ku=(e={})=>{const t=new Map,a=new Map,r=y=>{const j=a.get(y)??0;a.set(y,j+1)},s=y=>{const j=a.get(y)??1;j===1?a.delete(y):a.set(y,j-1)},{extra:l,onError:c=D$}=e;Ij(c);const d=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),j=>{y.unsubscribe(),j?.cancelActive&&db(y)}),m=y=>{const j=CC(t,y)??JO(y);return d(j)};vc(m,{withTypes:()=>m});const f=y=>{const j=CC(t,y);return j&&(j.unsubscribe(),y.cancelActive&&db(j)),!!j};vc(f,{withTypes:()=>f});const h=async(y,j,b,S)=>{const M=new AbortController,w=A$(m,M.signal),A=[];try{y.pending.add(M),r(y),await Promise.resolve(y.effect(j,vc({},b,{getOriginalState:S,condition:(O,D)=>w(O,D).then(Boolean),take:w,delay:XO(M.signal),pause:Ph(M.signal),extra:l,signal:M.signal,fork:S$(M.signal,A),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((O,D,k)=>{O!==M&&(Hl(O,cb),k.delete(O))})},cancel:()=>{Hl(M,cb),y.pending.delete(M)},throwIfCancelled:()=>{Vl(M.signal)}})))}catch(O){O instanceof Tp||MC(c,O,{raisedBy:"effect"})}finally{await Promise.all(A),Hl(M,N$),s(y),y.pending.delete(M)}},g=C$(t,a);return{middleware:y=>j=>b=>{if(!EO(b))return j(b);if(eE.match(b))return m(b.payload);if(M$.match(b)){g();return}if(tE.match(b))return f(b.payload);let S=y.getState();const M=()=>{if(S===AC)throw new Error(er(23));return S};let w;try{if(w=j(b),t.size>0){const A=y.getState(),O=Array.from(t.values());for(const D of O){let k=!1;try{k=D.predicate(b,A,S)}catch(_){k=!1,MC(c,_,{raisedBy:"predicate"})}k&&h(D,b,y,M)}}}finally{S=AC}return w},startListening:m,stopListening:f,clearListeners:g}};function er(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var O$={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},nE=Ua({name:"chartLayout",initialState:O$,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var a,r,s,l;e.margin.top=(a=t.payload.top)!==null&&a!==void 0?a:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(l=t.payload.left)!==null&&l!==void 0?l:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:E$,setLayout:k$,setChartSize:P$,setScale:R$}=nE.actions,_$=nE.reducer;function aE(e,t,a){return Array.isArray(e)&&e&&t+a!==0?e.slice(t,a+1):e}function DC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function pc(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(a),!0).forEach(function(r){T$(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):DC(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function T$(e,t,a){return(t=L$(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function L$(e){var t=I$(e,"string");return typeof t=="symbol"?t:t+""}function I$(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bt(e,t,a){return At(e)||At(t)?a:vs(t)?Ql(e,t,a):typeof t=="function"?t(e):a}var z$=(e,t,a)=>{if(t&&a){var{width:r,height:s}=a,{align:l,verticalAlign:c,layout:d}=t;if((d==="vertical"||d==="horizontal"&&c==="middle")&&l!=="center"&&Pe(e[l]))return pc(pc({},e),{},{[l]:e[l]+(r||0)});if((d==="horizontal"||d==="vertical"&&l==="center")&&c!=="middle"&&Pe(e[c]))return pc(pc({},e),{},{[c]:e[c]+(s||0)})}return e},Lr=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",rE=(e,t,a,r)=>{if(r)return e.map(d=>d.coordinate);var s,l,c=e.map(d=>(d.coordinate===t&&(s=!0),d.coordinate===a&&(l=!0),d.coordinate));return s||c.push(t),l||c.push(a),c},sE=(e,t,a)=>{if(!e)return null;var{duplicateDomain:r,type:s,range:l,scale:c,realScaleType:d,isCategorical:m,categoricalDomain:f,tickCount:h,ticks:g,niceTicks:v,axisType:y}=e;if(!c)return null;var j=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,b=s==="category"&&c.bandwidth?c.bandwidth()/j:0;if(b=y==="angleAxis"&&l&&l.length>=2?_n(l[0]-l[1])*2*b:b,g||v){var S=(g||v||[]).map((M,w)=>{var A=r?r.indexOf(M):M;return{coordinate:c(A)+b,value:M,offset:b,index:w}});return S.filter(M=>!Or(M.coordinate))}return m&&f?f.map((M,w)=>({coordinate:c(M)+b,value:M,index:w,offset:b})):c.ticks&&h!=null?c.ticks(h).map((M,w)=>({coordinate:c(M)+b,value:M,offset:b,index:w})):c.domain().map((M,w)=>({coordinate:c(M)+b,value:r?r[M]:M,index:w,offset:b}))},OC=1e-4,$$=e=>{var t=e.domain();if(!(!t||t.length<=2)){var a=t.length,r=e.range(),s=Math.min(r[0],r[1])-OC,l=Math.max(r[0],r[1])+OC,c=e(t[0]),d=e(t[a-1]);(c<s||c>l||d<s||d>l)&&e.domain([t[0],t[a-1]])}},iE=(e,t)=>{if(!t||t.length!==2||!Pe(t[0])||!Pe(t[1]))return e;var a=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Pe(e[0])||e[0]<a)&&(s[0]=a),(!Pe(e[1])||e[1]>r)&&(s[1]=r),s[0]>r&&(s[0]=r),s[1]<a&&(s[1]=a),s},B$=e=>{var t=e.length;if(!(t<=0))for(var a=0,r=e[0].length;a<r;++a)for(var s=0,l=0,c=0;c<t;++c){var d=Or(e[c][a][1])?e[c][a][0]:e[c][a][1];d>=0?(e[c][a][0]=s,e[c][a][1]=s+d,s=e[c][a][1]):(e[c][a][0]=l,e[c][a][1]=l+d,l=e[c][a][1])}},F$=e=>{var t=e.length;if(!(t<=0))for(var a=0,r=e[0].length;a<r;++a)for(var s=0,l=0;l<t;++l){var c=Or(e[l][a][1])?e[l][a][0]:e[l][a][1];c>=0?(e[l][a][0]=s,e[l][a][1]=s+c,s=e[l][a][1]):(e[l][a][0]=0,e[l][a][1]=0)}},U$={sign:B$,expand:oI,none:wc,silhouette:cI,wiggle:dI,positive:F$},q$=(e,t,a)=>{var r=U$[a],s=lI().keys(t).value((l,c)=>Number(bt(l,c,0))).order(Jv).offset(r);return s(e)};function Ip(e){return e==null?void 0:String(e)}function Cc(e){var{axis:t,ticks:a,bandSize:r,entry:s,index:l,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!At(s[t.dataKey])){var d=uO(a,"value",s[t.dataKey]);if(d)return d.coordinate+r/2}return a[l]?a[l].coordinate+r/2:null}var m=bt(s,At(c)?t.dataKey:c);return At(m)?null:t.scale(m)}var Rh=e=>{var{axis:t,ticks:a,offset:r,bandSize:s,entry:l,index:c}=e;if(t.type==="category")return a[c]?a[c].coordinate+r:null;var d=bt(l,t.dataKey,t.scale.domain()[c]);return At(d)?null:t.scale(d)-s/2+r},lE=e=>{var{numericAxis:t}=e,a=t.scale.domain();if(t.type==="number"){var r=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);return r<=0&&s>=0?0:s<0?s:r}return a[0]},H$=e=>{var t=e.flat(2).filter(Pe);return[Math.min(...t),Math.max(...t)]},V$=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],K$=(e,t,a)=>{if(e!=null)return V$(Object.keys(e).reduce((r,s)=>{var l=e[s],{stackedData:c}=l,d=c.reduce((m,f)=>{var h=aE(f,t,a),g=H$(h);return[Math.min(m[0],g[0]),Math.max(m[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},EC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ba=(e,t,a)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!a||r>0)return r}if(e&&t&&t.length>=2){for(var s=Dp(t,h=>h.coordinate),l=1/0,c=1,d=s.length;c<d;c++){var m=s[c],f=s[c-1];l=Math.min((m.coordinate||0)-(f.coordinate||0),l)}return l===1/0?0:l}return a?void 0:0};function PC(e){var{tooltipEntrySettings:t,dataKey:a,payload:r,value:s,name:l}=e;return pc(pc({},t),{},{dataKey:a,payload:r,value:s,name:l})}function or(e,t){if(e)return String(e);if(typeof t=="string")return t}var W$=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Y$=(e,t)=>t==="centric"?e.angle:e.radius,bi=e=>e.layout.width,ji=e=>e.layout.height,G$=e=>e.layout.scale,oE=e=>e.layout.margin,zp=te(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),$p=te(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),zj="data-recharts-item-index",$j="data-recharts-item-data-key",Wu=60;function RC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function qf(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(a),!0).forEach(function(r){Z$(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):RC(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Z$(e,t,a){return(t=X$(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function X$(e){var t=Q$(e,"string");return typeof t=="symbol"?t:t+""}function Q$(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J$=e=>e.brush.height;function eB(e){var t=$p(e);return t.reduce((a,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var s=typeof r.width=="number"?r.width:Wu;return a+s}return a},0)}function tB(e){var t=$p(e);return t.reduce((a,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var s=typeof r.width=="number"?r.width:Wu;return a+s}return a},0)}function nB(e){var t=zp(e);return t.reduce((a,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?a+r.height:a,0)}function aB(e){var t=zp(e);return t.reduce((a,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?a+r.height:a,0)}var Fn=te([bi,ji,oE,J$,eB,tB,nB,aB,CO,kz],(e,t,a,r,s,l,c,d,m,f)=>{var h={left:(a.left||0)+s,right:(a.right||0)+l},g={top:(a.top||0)+c,bottom:(a.bottom||0)+d},v=qf(qf({},g),h),y=v.bottom;v.bottom+=r,v=z$(v,m,f);var j=e-v.left-v.right,b=t-v.top-v.bottom;return qf(qf({brushBottom:y},v),{},{width:Math.max(j,0),height:Math.max(b,0)})}),rB=te(Fn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Bj=te(bi,ji,(e,t)=>({x:0,y:0,width:e,height:t})),sB=x.createContext(null),vn=()=>x.useContext(sB)!=null,Bp=e=>e.brush,Fp=te([Bp,Fn,oE],(e,t,a)=>({height:e.height,x:Pe(e.x)?e.x:t.left,y:Pe(e.y)?e.y:t.top+t.height+t.brushBottom-(a?.bottom||0),width:Pe(e.width)?e.width:t.width})),$y={},By={},Fy={},_C;function iB(){return _C||(_C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r,{signal:s,edges:l}={}){let c,d=null;const m=l!=null&&l.includes("leading"),f=l==null||l.includes("trailing"),h=()=>{d!==null&&(a.apply(c,d),c=void 0,d=null)},g=()=>{f&&h(),b()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},r)},j=()=>{v!==null&&(clearTimeout(v),v=null)},b=()=>{j(),c=void 0,d=null},S=()=>{h()},M=function(...w){if(s?.aborted)return;c=this,d=w;const A=v==null;y(),m&&A&&h()};return M.schedule=y,M.cancel=b,M.flush=S,s?.addEventListener("abort",b,{once:!0}),M}e.debounce=t})(Fy)),Fy}var TC;function lB(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iB();function a(r,s=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:d=!0,maxWait:m}=l,f=Array(2);c&&(f[0]="leading"),d&&(f[1]="trailing");let h,g=null;const v=t.debounce(function(...b){h=r.apply(this,b),g=null},s,{edges:f}),y=function(...b){return m!=null&&(g===null&&(g=Date.now()),Date.now()-g>=m)?(h=r.apply(this,b),g=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,b),h)},j=()=>(v.flush(),h);return y.cancel=v.cancel,y.flush=j,y}e.debounce=a})(By)),By}var LC;function oB(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lB();function a(r,s=0,l={}){const{leading:c=!0,trailing:d=!0}=l;return t.debounce(r,s,{leading:c,maxWait:s,trailing:d})}e.throttle=a})($y)),$y}var Uy,IC;function cB(){return IC||(IC=1,Uy=oB().throttle),Uy}var dB=cB();const uB=_r(dB);var _h=function(t,a){for(var r=arguments.length,s=new Array(r>2?r-2:0),l=2;l<r;l++)s[l-2]=arguments[l];if(typeof console<"u"&&console.warn&&(a===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(a===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(a.replace(/%s/g,()=>s[c++]))}},cE=(e,t,a)=>{var{width:r="100%",height:s="100%",aspect:l,maxHeight:c}=a,d=ui(r)?e:Number(r),m=ui(s)?t:Number(s);return l&&l>0&&(d?m=d/l:m&&(d=m*l),c&&m!=null&&m>c&&(m=c)),{calculatedWidth:d,calculatedHeight:m}},mB={width:0,height:0,overflow:"visible"},fB={width:0,overflowX:"visible"},hB={height:0,overflowY:"visible"},pB={},xB=e=>{var{width:t,height:a}=e,r=ui(t),s=ui(a);return r&&s?mB:r?fB:s?hB:pB};function gB(e){var{width:t,height:a,aspect:r}=e,s=t,l=a;return s===void 0&&l===void 0?(s="100%",l="100%"):s===void 0?s=r&&r>0?void 0:"100%":l===void 0&&(l=r&&r>0?void 0:"100%"),{width:s,height:l}}function sn(e){return Number.isFinite(e)}function js(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ub.apply(null,arguments)}function zC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function $C(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?zC(Object(a),!0).forEach(function(r){yB(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zC(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function yB(e,t,a){return(t=vB(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function vB(e){var t=bB(e,"string");return typeof t=="symbol"?t:t+""}function bB(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dE=x.createContext({width:-1,height:-1});function jB(e){return js(e.width)&&js(e.height)}function uE(e){var{children:t,width:a,height:r}=e,s=x.useMemo(()=>({width:a,height:r}),[a,r]);return jB(s)?x.createElement(dE.Provider,{value:s},t):null}var Fj=()=>x.useContext(dE),NB=x.forwardRef((e,t)=>{var{aspect:a,initialDimension:r={width:-1,height:-1},width:s,height:l,minWidth:c=0,minHeight:d,maxHeight:m,children:f,debounce:h=0,id:g,className:v,onResize:y,style:j={}}=e,b=x.useRef(null),S=x.useRef();S.current=y,x.useImperativeHandle(t,()=>b.current);var[M,w]=x.useState({containerWidth:r.width,containerHeight:r.height}),A=x.useCallback((E,P)=>{w(z=>{var L=Math.round(E),I=Math.round(P);return z.containerWidth===L&&z.containerHeight===I?z:{containerWidth:L,containerHeight:I}})},[]);x.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return qu;var E=I=>{var J,{width:T,height:Y}=I[0].contentRect;A(T,Y),(J=S.current)===null||J===void 0||J.call(S,T,Y)};h>0&&(E=uB(E,h,{trailing:!0,leading:!1}));var P=new ResizeObserver(E),{width:z,height:L}=b.current.getBoundingClientRect();return A(z,L),P.observe(b.current),()=>{P.disconnect()}},[A,h]);var{containerWidth:O,containerHeight:D}=M;_h(!a||a>0,"The aspect(%s) must be greater than zero.",a);var{calculatedWidth:k,calculatedHeight:_}=cE(O,D,{width:s,height:l,aspect:a,maxHeight:m});return _h(k!=null&&k>0||_!=null&&_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,_,s,l,c,d,a),x.createElement("div",{id:g?"".concat(g):void 0,className:at("recharts-responsive-container",v),style:$C($C({},j),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:m}),ref:b},x.createElement("div",{style:xB({width:s,height:l})},x.createElement(uE,{width:k,height:_},f)))}),dt=x.forwardRef((e,t)=>{var a=Fj();if(js(a.width)&&js(a.height))return e.children;var{width:r,height:s}=gB({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:l,calculatedHeight:c}=cE(void 0,void 0,{width:r,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Pe(l)&&Pe(c)?x.createElement(uE,{width:l,height:c},e.children):x.createElement(NB,ub({},e,{width:r,height:s,ref:t}))});function mE(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Yu=()=>{var e,t=vn(),a=Oe(rB),r=Oe(Fp),s=(e=Oe(Bp))===null||e===void 0?void 0:e.padding;return!t||!r||!s?a:{width:r.width-s.left-s.right,height:r.height-s.top-s.bottom,x:s.left,y:s.top}},wB={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},fE=()=>{var e;return(e=Oe(Fn))!==null&&e!==void 0?e:wB},Uj=()=>Oe(bi),qj=()=>Oe(ji),SB=()=>Oe(e=>e.layout.margin),et=e=>e.layout.layoutType,oo=()=>Oe(et),AB=()=>{var e=oo();if(e==="horizontal"||e==="vertical")return e},CB=()=>{var e=oo();return e!==void 0},Up=e=>{var t=Ft(),a=vn(),{width:r,height:s}=e,l=Fj(),c=r,d=s;return l&&(c=l.width>0?l.width:r,d=l.height>0?l.height:s),x.useEffect(()=>{!a&&js(c)&&js(d)&&t(P$({width:c,height:d}))},[t,a,c,d]),null},hE=Symbol.for("immer-nothing"),BC=Symbol.for("immer-draftable"),rr=Symbol.for("immer-state");function Hr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Nu=Object.getPrototypeOf;function Mc(e){return!!e&&!!e[rr]}function Jl(e){return e?pE(e)||Array.isArray(e)||!!e[BC]||!!e.constructor?.[BC]||Gu(e)||Hp(e):!1}var MB=Object.prototype.constructor.toString(),FC=new WeakMap;function pE(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const a=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(a===Object)return!0;if(typeof a!="function")return!1;let r=FC.get(a);return r===void 0&&(r=Function.toString.call(a),FC.set(a,r)),r===MB}function Th(e,t,a=!0){qp(e)===0?(a?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((r,s)=>t(s,r,e))}function qp(e){const t=e[rr];return t?t.type_:Array.isArray(e)?1:Gu(e)?2:Hp(e)?3:0}function mb(e,t){return qp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function xE(e,t,a){const r=qp(e);r===2?e.set(t,a):r===3?e.add(a):e[t]=a}function DB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Gu(e){return e instanceof Map}function Hp(e){return e instanceof Set}function Ll(e){return e.copy_||e.base_}function fb(e,t){if(Gu(e))return new Map(e);if(Hp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const a=pE(e);if(t===!0||t==="class_only"&&!a){const r=Object.getOwnPropertyDescriptors(e);delete r[rr];let s=Reflect.ownKeys(r);for(let l=0;l<s.length;l++){const c=s[l],d=r[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(Nu(e),r)}else{const r=Nu(e);if(r!==null&&a)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function Hj(e,t=!1){return Vp(e)||Mc(e)||!Jl(e)||(qp(e)>1&&Object.defineProperties(e,{set:Hf,add:Hf,clear:Hf,delete:Hf}),Object.freeze(e),t&&Object.values(e).forEach(a=>Hj(a,!0))),e}function OB(){Hr(2)}var Hf={value:OB};function Vp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var EB={};function eo(e){const t=EB[e];return t||Hr(0,e),t}var wu;function gE(){return wu}function kB(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function UC(e,t){t&&(eo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function hb(e){pb(e),e.drafts_.forEach(PB),e.drafts_=null}function pb(e){e===wu&&(wu=e.parent_)}function qC(e){return wu=kB(wu,e)}function PB(e){const t=e[rr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function HC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const a=t.drafts_[0];return e!==void 0&&e!==a?(a[rr].modified_&&(hb(t),Hr(4)),Jl(e)&&(e=Lh(t,e),t.parent_||Ih(t,e)),t.patches_&&eo("Patches").generateReplacementPatches_(a[rr].base_,e,t.patches_,t.inversePatches_)):e=Lh(t,a,[]),hb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==hE?e:void 0}function Lh(e,t,a){if(Vp(t))return t;const r=e.immer_.shouldUseStrictIteration(),s=t[rr];if(!s)return Th(t,(l,c)=>VC(e,s,t,l,c,a),r),t;if(s.scope_!==e)return t;if(!s.modified_)return Ih(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const l=s.copy_;let c=l,d=!1;s.type_===3&&(c=new Set(l),l.clear(),d=!0),Th(c,(m,f)=>VC(e,s,l,m,f,a,d),r),Ih(e,l,!1),a&&e.patches_&&eo("Patches").generatePatches_(s,a,e.patches_,e.inversePatches_)}return s.copy_}function VC(e,t,a,r,s,l,c){if(s==null||typeof s!="object"&&!c)return;const d=Vp(s);if(!(d&&!c)){if(Mc(s)){const m=l&&t&&t.type_!==3&&!mb(t.assigned_,r)?l.concat(r):void 0,f=Lh(e,s,m);if(xE(a,r,f),Mc(f))e.canAutoFreeze_=!1;else return}else c&&a.add(s);if(Jl(s)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===s&&d)return;Lh(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Gu(a)?a.has(r):Object.prototype.propertyIsEnumerable.call(a,r))&&Ih(e,s)}}}function Ih(e,t,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Hj(t,a)}function RB(e,t){const a=Array.isArray(e),r={type_:a?1:0,scope_:t?t.scope_:gE(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,l=Vj;a&&(s=[r],l=Su);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return r.draft_=d,r.revoke_=c,d}var Vj={get(e,t){if(t===rr)return e;const a=Ll(e);if(!mb(a,t))return _B(e,a,t);const r=a[t];return e.finalized_||!Jl(r)?r:r===qy(e.base_,t)?(Hy(e),e.copy_[t]=gb(r,e)):r},has(e,t){return t in Ll(e)},ownKeys(e){return Reflect.ownKeys(Ll(e))},set(e,t,a){const r=yE(Ll(e),t);if(r?.set)return r.set.call(e.draft_,a),!0;if(!e.modified_){const s=qy(Ll(e),t),l=s?.[rr];if(l&&l.base_===a)return e.copy_[t]=a,e.assigned_[t]=!1,!0;if(DB(a,s)&&(a!==void 0||mb(e.base_,t)))return!0;Hy(e),xb(e)}return e.copy_[t]===a&&(a!==void 0||t in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=a,e.assigned_[t]=!0),!0},deleteProperty(e,t){return qy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Hy(e),xb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const a=Ll(e),r=Reflect.getOwnPropertyDescriptor(a,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:a[t]}},defineProperty(){Hr(11)},getPrototypeOf(e){return Nu(e.base_)},setPrototypeOf(){Hr(12)}},Su={};Th(Vj,(e,t)=>{Su[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Su.deleteProperty=function(e,t){return Su.set.call(this,e,t,void 0)};Su.set=function(e,t,a){return Vj.set.call(this,e[0],t,a,e[0])};function qy(e,t){const a=e[rr];return(a?Ll(a):e)[t]}function _B(e,t,a){const r=yE(t,a);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function yE(e,t){if(!(t in e))return;let a=Nu(e);for(;a;){const r=Object.getOwnPropertyDescriptor(a,t);if(r)return r;a=Nu(a)}}function xb(e){e.modified_||(e.modified_=!0,e.parent_&&xb(e.parent_))}function Hy(e){e.copy_||(e.copy_=fb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var TB=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,a,r)=>{if(typeof t=="function"&&typeof a!="function"){const l=a;a=t;const c=this;return function(m=l,...f){return c.produce(m,h=>a.call(this,h,...f))}}typeof a!="function"&&Hr(6),r!==void 0&&typeof r!="function"&&Hr(7);let s;if(Jl(t)){const l=qC(this),c=gb(t,void 0);let d=!0;try{s=a(c),d=!1}finally{d?hb(l):pb(l)}return UC(l,r),HC(s,l)}else if(!t||typeof t!="object"){if(s=a(t),s===void 0&&(s=t),s===hE&&(s=void 0),this.autoFreeze_&&Hj(s,!0),r){const l=[],c=[];eo("Patches").generateReplacementPatches_(t,s,l,c),r(l,c)}return s}else Hr(1,t)},this.produceWithPatches=(t,a)=>{if(typeof t=="function")return(c,...d)=>this.produceWithPatches(c,m=>t(m,...d));let r,s;return[this.produce(t,a,(c,d)=>{r=c,s=d}),r,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Jl(e)||Hr(8),Mc(e)&&(e=LB(e));const t=qC(this),a=gb(e,void 0);return a[rr].isManual_=!0,pb(t),a}finishDraft(e,t){const a=e&&e[rr];(!a||!a.isManual_)&&Hr(9);const{scope_:r}=a;return UC(r,t),HC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let a;for(a=t.length-1;a>=0;a--){const s=t[a];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}a>-1&&(t=t.slice(a+1));const r=eo("Patches").applyPatches_;return Mc(e)?r(e,t):this.produce(e,s=>r(s,t))}};function gb(e,t){const a=Gu(e)?eo("MapSet").proxyMap_(e,t):Hp(e)?eo("MapSet").proxySet_(e,t):RB(e,t);return(t?t.scope_:gE()).drafts_.push(a),a}function LB(e){return Mc(e)||Hr(10,e),vE(e)}function vE(e){if(!Jl(e)||Vp(e))return e;const t=e[rr];let a,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,a=fb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else a=fb(e,!0);return Th(a,(s,l)=>{xE(a,s,vE(l))},r),t&&(t.finalized_=!1),a}var IB=new TB;IB.produce;var zB={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},bE=Ua({name:"legend",initialState:zB,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:cn()},replaceLegendPayload:{reducer(e,t){var{prev:a,next:r}=t.payload,s=Yr(e).payload.indexOf(a);s>-1&&(e.payload[s]=r)},prepare:cn()},removeLegendPayload:{reducer(e,t){var a=Yr(e).payload.indexOf(t.payload);a>-1&&e.payload.splice(a,1)},prepare:cn()}}}),{setLegendSize:KC,setLegendSettings:$B,addLegendPayload:jE,replaceLegendPayload:NE,removeLegendPayload:wE}=bE.actions,BB=bE.reducer,FB=["contextPayload"];function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},yb.apply(null,arguments)}function WC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Dc(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(a),!0).forEach(function(r){UB(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):WC(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function UB(e,t,a){return(t=qB(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function qB(e){var t=HB(e,"string");return typeof t=="symbol"?t:t+""}function HB(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VB(e,t){if(e==null)return{};var a,r,s=KB(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function KB(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function WB(e){return e.value}function YB(e){var{contextPayload:t}=e,a=VB(e,FB),r=NO(t,e.payloadUniqBy,WB),s=Dc(Dc({},a),{},{payload:r});return x.isValidElement(e.content)?x.cloneElement(e.content,s):typeof e.content=="function"?x.createElement(e.content,s):x.createElement(FI,s)}function GB(e,t,a,r,s,l){var{layout:c,align:d,verticalAlign:m}=t,f,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&c==="vertical"?f={left:((r||0)-l.width)/2}:f=d==="right"?{right:a&&a.right||0}:{left:a&&a.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(m==="middle"?h={top:((s||0)-l.height)/2}:h=m==="bottom"?{bottom:a&&a.bottom||0}:{top:a&&a.top||0}),Dc(Dc({},f),h)}function ZB(e){var t=Ft();return x.useEffect(()=>{t($B(e))},[t,e]),null}function XB(e){var t=Ft();return x.useEffect(()=>(t(KC(e)),()=>{t(KC({width:0,height:0}))}),[t,e]),null}function QB(e,t,a,r){return e==="vertical"&&Pe(t)?{height:t}:e==="horizontal"?{width:a||r}:null}var JB={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function tr(e){var t=Rt(e,JB),a=_z(),r=k9(),s=SB(),{width:l,height:c,wrapperStyle:d,portal:m}=t,[f,h]=MO([a]),g=Uj(),v=qj();if(g==null||v==null)return null;var y=g-(s?.left||0)-(s?.right||0),j=QB(t.layout,c,l,y),b=m?d:Dc(Dc({position:"absolute",width:j?.width||l||"auto",height:j?.height||c||"auto"},GB(d,t,s,g,v,f)),d),S=m??r;if(S==null||a==null)return null;var M=x.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:h},x.createElement(ZB,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!m&&x.createElement(XB,{width:f.width,height:f.height}),x.createElement(YB,yb({},t,j,{margin:s,chartWidth:g,chartHeight:v,contextPayload:a})));return sj.createPortal(M,S)}tr.displayName="Legend";function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},vb.apply(null,arguments)}function YC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Vy(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(a),!0).forEach(function(r){eF(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):YC(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function eF(e,t,a){return(t=tF(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function tF(e){var t=nF(e,"string");return typeof t=="symbol"?t:t+""}function nF(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aF(e){return Array.isArray(e)&&vs(e[0])&&vs(e[1])?e.join(" ~ "):e}var rF=e=>{var{separator:t=" : ",contentStyle:a={},itemStyle:r={},labelStyle:s={},payload:l,formatter:c,itemSorter:d,wrapperClassName:m,labelClassName:f,label:h,labelFormatter:g,accessibilityLayer:v=!1}=e,y=()=>{if(l&&l.length){var D={padding:0,margin:0},k=(d?Dp(l,d):l).map((_,E)=>{if(_.type==="none")return null;var P=_.formatter||c||aF,{value:z,name:L}=_,I=z,J=L;if(P){var T=P(z,L,_,E,l);if(Array.isArray(T))[I,J]=T;else if(T!=null)I=T;else return null}var Y=Vy({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:Y},vs(J)?x.createElement("span",{className:"recharts-tooltip-item-name"},J):null,vs(J)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},I),x.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:D},k)}return null},j=Vy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),b=Vy({margin:0},s),S=!At(h),M=S?h:"",w=at("recharts-default-tooltip",m),A=at("recharts-tooltip-label",f);S&&g&&l!==void 0&&l!==null&&(M=g(h,l));var O=v?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",vb({className:w,style:j},O),x.createElement("p",{className:A,style:b},x.isValidElement(M)?M:"".concat(M)),y())},Kd="recharts-tooltip-wrapper",sF={visibility:"hidden"};function iF(e){var{coordinate:t,translateX:a,translateY:r}=e;return at(Kd,{["".concat(Kd,"-right")]:Pe(a)&&t&&Pe(t.x)&&a>=t.x,["".concat(Kd,"-left")]:Pe(a)&&t&&Pe(t.x)&&a<t.x,["".concat(Kd,"-bottom")]:Pe(r)&&t&&Pe(t.y)&&r>=t.y,["".concat(Kd,"-top")]:Pe(r)&&t&&Pe(t.y)&&r<t.y})}function GC(e){var{allowEscapeViewBox:t,coordinate:a,key:r,offsetTopLeft:s,position:l,reverseDirection:c,tooltipDimension:d,viewBox:m,viewBoxDimension:f}=e;if(l&&Pe(l[r]))return l[r];var h=a[r]-d-(s>0?s:0),g=a[r]+s;if(t[r])return c[r]?h:g;var v=m[r];if(v==null)return 0;if(c[r]){var y=h,j=v;return y<j?Math.max(g,v):Math.max(h,v)}if(f==null)return 0;var b=g+d,S=v+f;return b>S?Math.max(h,v):Math.max(g,v)}function lF(e){var{translateX:t,translateY:a,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(a,"px, 0)"):"translate(".concat(t,"px, ").concat(a,"px)")}}function oF(e){var{allowEscapeViewBox:t,coordinate:a,offsetTopLeft:r,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:m}=e,f,h,g;return c.height>0&&c.width>0&&a?(h=GC({allowEscapeViewBox:t,coordinate:a,key:"x",offsetTopLeft:r,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:m,viewBoxDimension:m.width}),g=GC({allowEscapeViewBox:t,coordinate:a,key:"y",offsetTopLeft:r,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:m,viewBoxDimension:m.height}),f=lF({translateX:h,translateY:g,useTranslate3d:d})):f=sF,{cssProperties:f,cssClasses:iF({translateX:h,translateY:g,coordinate:a})}}function ZC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Vf(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ZC(Object(a),!0).forEach(function(r){bb(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ZC(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function bb(e,t,a){return(t=cF(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function cF(e){var t=dF(e,"string");return typeof t=="symbol"?t:t+""}function dF(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class uF extends x.PureComponent{constructor(){super(...arguments),bb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),bb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var a,r,s,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&a!==void 0?a:0,y:(s=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,a;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:a,animationDuration:r,animationEasing:s,children:l,coordinate:c,hasPayload:d,isAnimationActive:m,offset:f,position:h,reverseDirection:g,useTranslate3d:v,viewBox:y,wrapperStyle:j,lastBoundingBox:b,innerRef:S,hasPortalFromProps:M}=this.props,{cssClasses:w,cssProperties:A}=oF({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:f,position:h,reverseDirection:g,tooltipBox:{height:b.height,width:b.width},useTranslate3d:v,viewBox:y}),O=M?{}:Vf(Vf({transition:m&&t?"transform ".concat(r,"ms ").concat(s):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),D=Vf(Vf({},O),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},j);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:D,ref:S},l)}}var SE=()=>{var e;return(e=Oe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},jb.apply(null,arguments)}function XC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function QC(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?XC(Object(a),!0).forEach(function(r){mF(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):XC(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function mF(e,t,a){return(t=fF(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function fF(e){var t=hF(e,"string");return typeof t=="symbol"?t:t+""}function hF(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JC={curveBasisClosed:Z9,curveBasisOpen:X9,curveBasis:G9,curveBumpX:T9,curveBumpY:L9,curveLinearClosed:Q9,curveLinear:Sp,curveMonotoneX:J9,curveMonotoneY:eI,curveNatural:tI,curveStep:nI,curveStepAfter:rI,curveStepBefore:aI},zh=e=>sn(e.x)&&sn(e.y),eM=e=>e.base!=null&&zh(e.base)&&zh(e),Wd=e=>e.x,Yd=e=>e.y,pF=(e,t)=>{if(typeof e=="function")return e;var a="curve".concat(Uu(e));return(a==="curveMonotone"||a==="curveBump")&&t?JC["".concat(a).concat(t==="vertical"?"Y":"X")]:JC[a]||Sp},xF=e=>{var{type:t="linear",points:a=[],baseLine:r,layout:s,connectNulls:l=!1}=e,c=pF(t,s),d=l?a.filter(zh):a,m;if(Array.isArray(r)){var f=a.map((y,j)=>QC(QC({},y),{},{base:r[j]}));s==="vertical"?m=If().y(Yd).x1(Wd).x0(y=>y.base.x):m=If().x(Wd).y1(Yd).y0(y=>y.base.y);var h=m.defined(eM).curve(c),g=l?f.filter(eM):f;return h(g)}s==="vertical"&&Pe(r)?m=If().y(Yd).x1(Wd).x0(r):Pe(r)?m=If().x(Wd).y1(Yd).y0(r):m=QD().x(Wd).y(Yd);var v=m.defined(zh).curve(c);return v(d)},Kl=e=>{var{className:t,points:a,path:r,pathRef:s}=e;if((!a||!a.length)&&!r)return null;var l=a&&a.length?xF(e):r;return x.createElement("path",jb({},Bt(e),Cj(e),{className:at("recharts-curve",t),d:l===null?void 0:l,ref:s}))},gF=["x","y","top","left","width","height","className"];function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Nb.apply(null,arguments)}function tM(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function yF(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?tM(Object(a),!0).forEach(function(r){vF(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function vF(e,t,a){return(t=bF(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function bF(e){var t=jF(e,"string");return typeof t=="symbol"?t:t+""}function jF(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NF(e,t){if(e==null)return{};var a,r,s=wF(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function wF(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var SF=(e,t,a,r,s,l)=>"M".concat(e,",").concat(s,"v").concat(r,"M").concat(l,",").concat(t,"h").concat(a),AF=e=>{var{x:t=0,y:a=0,top:r=0,left:s=0,width:l=0,height:c=0,className:d}=e,m=NF(e,gF),f=yF({x:t,y:a,top:r,left:s,width:l,height:c},m);return!Pe(t)||!Pe(a)||!Pe(l)||!Pe(c)||!Pe(r)||!Pe(s)?null:x.createElement("path",Nb({},Sn(f),{className:at("recharts-cross",d),d:SF(t,a,l,c,r,s)}))};function CF(e,t,a,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:a.left+.5,y:e==="horizontal"?a.top+.5:t.y-s,width:e==="horizontal"?r:a.width-1,height:e==="horizontal"?a.height-1:r}}function nM(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function aM(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?nM(Object(a),!0).forEach(function(r){MF(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function MF(e,t,a){return(t=DF(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function DF(e){var t=OF(e,"string");return typeof t=="symbol"?t:t+""}function OF(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EF=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),AE=(e,t,a)=>e.map(r=>"".concat(EF(r)," ").concat(t,"ms ").concat(a)).join(","),kF=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((a,r)=>a.filter(s=>r.includes(s))),Au=(e,t)=>Object.keys(t).reduce((a,r)=>aM(aM({},a),{},{[r]:e(r,t[r])}),{});function rM(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Bn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?rM(Object(a),!0).forEach(function(r){PF(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function PF(e,t,a){return(t=RF(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function RF(e){var t=_F(e,"string");return typeof t=="symbol"?t:t+""}function _F(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $h=(e,t,a)=>e+(t-e)*a,wb=e=>{var{from:t,to:a}=e;return t!==a},CE=(e,t,a)=>{var r=Au((s,l)=>{if(wb(l)){var[c,d]=e(l.from,l.to,l.velocity);return Bn(Bn({},l),{},{from:c,velocity:d})}return l},t);return a<1?Au((s,l)=>wb(l)?Bn(Bn({},l),{},{velocity:$h(l.velocity,r[s].velocity,a),from:$h(l.from,r[s].from,a)}):l,t):CE(e,r,a-1)};function TF(e,t,a,r,s,l){var c,d=r.reduce((v,y)=>Bn(Bn({},v),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),m=()=>Au((v,y)=>y.from,d),f=()=>!Object.values(d).filter(wb).length,h=null,g=v=>{c||(c=v);var y=v-c,j=y/a.dt;d=CE(a,d,j),s(Bn(Bn(Bn({},e),t),m())),c=v,f()||(h=l.setTimeout(g))};return()=>(h=l.setTimeout(g),()=>{var v;(v=h)===null||v===void 0||v()})}function LF(e,t,a,r,s,l,c){var d=null,m=s.reduce((g,v)=>Bn(Bn({},g),{},{[v]:[e[v],t[v]]}),{}),f,h=g=>{f||(f=g);var v=(g-f)/r,y=Au((b,S)=>$h(...S,a(v)),m);if(l(Bn(Bn(Bn({},e),t),y)),v<1)d=c.setTimeout(h);else{var j=Au((b,S)=>$h(...S,a(1)),m);l(Bn(Bn(Bn({},e),t),j))}};return()=>(d=c.setTimeout(h),()=>{var g;(g=d)===null||g===void 0||g()})}const IF=(e,t,a,r,s,l)=>{var c=kF(e,t);return a==null?()=>(s(Bn(Bn({},e),t)),()=>{}):a.isStepper===!0?TF(e,t,a,c,s,l):LF(e,t,a,r,c,s,l)};var Bh=1e-4,ME=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],DE=(e,t)=>e.map((a,r)=>a*t**r).reduce((a,r)=>a+r),sM=(e,t)=>a=>{var r=ME(e,t);return DE(r,a)},zF=(e,t)=>a=>{var r=ME(e,t),s=[...r.map((l,c)=>l*c).slice(1),0];return DE(s,a)},$F=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];if(a.length===1)switch(a[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s,l=a[0].split("(");if(l[0]==="cubic-bezier"&&((s=l[1])===null||s===void 0?void 0:s.split(")")[0].split(",").length)===4){var c=l[1].split(")")[0].split(",").map(d=>parseFloat(d));return[c[0],c[1],c[2],c[3]]}}}return a.length===4?a:[0,0,1,1]},BF=(e,t,a,r)=>{var s=sM(e,a),l=sM(t,r),c=zF(e,a),d=f=>f>1?1:f<0?0:f,m=f=>{for(var h=f>1?1:f,g=h,v=0;v<8;++v){var y=s(g)-h,j=c(g);if(Math.abs(y-h)<Bh||j<Bh)return l(g);g=d(g-y/j)}return l(g)};return m.isStepper=!1,m},iM=function(){return BF(...$F(...arguments))},FF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:a=100,damping:r=8,dt:s=17}=t,l=(c,d,m)=>{var f=-(c-d)*a,h=m*r,g=m+(f-h)*s/1e3,v=m*s/1e3+c;return Math.abs(v-d)<Bh&&Math.abs(g)<Bh?[d,0]:[v,g]};return l.isStepper=!0,l.dt=s,l},UF=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iM(e);case"spring":return FF();default:if(e.split("(")[0]==="cubic-bezier")return iM(e)}return typeof e=="function"?e:null};function qF(e){var t,a=()=>null,r=!1,s=null,l=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var d=c,[m,...f]=d;if(typeof m=="number"){s=e.setTimeout(l.bind(null,f),m);return}l(m),s=e.setTimeout(l.bind(null,f));return}typeof c=="string"&&(t=c,a(t)),typeof c=="object"&&(t=c,a(t)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,s&&(s(),s=null),l(c)},subscribe:c=>(a=c,()=>{a=()=>null}),getTimeoutController:()=>e}}class HF{setTimeout(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),s=null,l=c=>{c-r>=a?t(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(l))};return s=requestAnimationFrame(l),()=>{s!=null&&cancelAnimationFrame(s)}}}function VF(){return qF(new HF)}var KF=x.createContext(VF);function WF(e,t){var a=x.useContext(KF);return x.useMemo(()=>t??a(e),[e,t,a])}var YF=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Lc={devToolsEnabled:!1,isSsr:YF()},GF={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},lM={t:0},Ky={t:1};function Ni(e){var t=Rt(e,GF),{isActive:a,canBegin:r,duration:s,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:m,children:f}=t,h=a==="auto"?!Lc.isSsr:a,g=WF(t.animationId,t.animationManager),[v,y]=x.useState(h?lM:Ky),j=x.useRef(null);return x.useEffect(()=>{h||y(Ky)},[h]),x.useEffect(()=>{if(!h||!r)return qu;var b=IF(lM,Ky,UF(l),s,y,g.getTimeoutController()),S=()=>{j.current=b()};return g.start([m,c,S,s,d]),()=>{g.stop(),j.current&&j.current(),d()}},[h,r,s,l,c,m,d,g]),f(v.t)}function wi(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",a=x.useRef(yu(t)),r=x.useRef(e);return r.current!==e&&(a.current=yu(t),r.current=e),a.current}var ZF=["radius"],XF=["radius"];function oM(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function cM(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?oM(Object(a),!0).forEach(function(r){QF(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function QF(e,t,a){return(t=JF(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function JF(e){var t=eU(e,"string");return typeof t=="symbol"?t:t+""}function eU(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Fh.apply(null,arguments)}function dM(e,t){if(e==null)return{};var a,r,s=tU(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function tU(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var uM=(e,t,a,r,s)=>{var l=Math.min(Math.abs(a)/2,Math.abs(r)/2),c=r>=0?1:-1,d=a>=0?1:-1,m=r>=0&&a>=0||r<0&&a<0?1:0,f;if(l>0&&s instanceof Array){for(var h=[0,0,0,0],g=0,v=4;g<v;g++)h[g]=s[g]>l?l:s[g];f="M".concat(e,",").concat(t+c*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(m,",").concat(e+d*h[0],",").concat(t)),f+="L ".concat(e+a-d*h[1],",").concat(t),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(m,`,
        `).concat(e+a,",").concat(t+c*h[1])),f+="L ".concat(e+a,",").concat(t+r-c*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(m,`,
        `).concat(e+a-d*h[2],",").concat(t+r)),f+="L ".concat(e+d*h[3],",").concat(t+r),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(t+r-c*h[3])),f+="Z"}else if(l>0&&s===+s&&s>0){var y=Math.min(l,s);f="M ".concat(e,",").concat(t+c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e+d*y,",").concat(t,`
            L `).concat(e+a-d*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e+a,",").concat(t+c*y,`
            L `).concat(e+a,",").concat(t+r-c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e+a-d*y,",").concat(t+r,`
            L `).concat(e+d*y,",").concat(t+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e,",").concat(t+r-c*y," Z")}else f="M ".concat(e,",").concat(t," h ").concat(a," v ").concat(r," h ").concat(-a," Z");return f},mM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OE=e=>{var t=Rt(e,mM),a=x.useRef(null),[r,s]=x.useState(-1);x.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var B=a.current.getTotalLength();B&&s(B)}catch{}},[]);var{x:l,y:c,width:d,height:m,radius:f,className:h}=t,{animationEasing:g,animationDuration:v,animationBegin:y,isAnimationActive:j,isUpdateAnimationActive:b}=t,S=x.useRef(d),M=x.useRef(m),w=x.useRef(l),A=x.useRef(c),O=x.useMemo(()=>({x:l,y:c,width:d,height:m,radius:f}),[l,c,d,m,f]),D=wi(O,"rectangle-");if(l!==+l||c!==+c||d!==+d||m!==+m||d===0||m===0)return null;var k=at("recharts-rectangle",h);if(!b){var _=Sn(t),{radius:E}=_,P=dM(_,ZF);return x.createElement("path",Fh({},P,{radius:typeof f=="number"?f:void 0,className:k,d:uM(l,c,d,m,f)}))}var z=S.current,L=M.current,I=w.current,J=A.current,T="0px ".concat(r===-1?1:r,"px"),Y="".concat(r,"px 0px"),V=AE(["strokeDasharray"],v,typeof g=="string"?g:mM.animationEasing);return x.createElement(Ni,{animationId:D,key:D,canBegin:r>0,duration:v,easing:g,isActive:b,begin:y},B=>{var U=ct(z,d,B),F=ct(L,m,B),W=ct(I,l,B),ne=ct(J,c,B);a.current&&(S.current=U,M.current=F,w.current=W,A.current=ne);var je;j?B>0?je={transition:V,strokeDasharray:Y}:je={strokeDasharray:T}:je={strokeDasharray:Y};var H=Sn(t),{radius:fe}=H,Ne=dM(H,XF);return x.createElement("path",Fh({},Ne,{radius:typeof f=="number"?f:void 0,className:k,d:uM(W,ne,U,F,f),ref:a,style:cM(cM({},je),t.style)}))})};function fM(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function hM(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?fM(Object(a),!0).forEach(function(r){nU(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function nU(e,t,a){return(t=aU(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function aU(e){var t=rU(e,"string");return typeof t=="symbol"?t:t+""}function rU(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uh=Math.PI/180,qh=e=>e*Math.PI/180,sU=e=>e*180/Math.PI,Pt=(e,t,a,r)=>({x:e+Math.cos(-Uh*r)*a,y:t+Math.sin(-Uh*r)*a}),EE=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(a-(r.top||0)-(r.bottom||0)))/2},iU=(e,t)=>{var{x:a,y:r}=e,{x:s,y:l}=t;return Math.sqrt((a-s)**2+(r-l)**2)},lU=(e,t)=>{var{x:a,y:r}=e,{cx:s,cy:l}=t,c=iU({x:a,y:r},{x:s,y:l});if(c<=0)return{radius:c,angle:0};var d=(a-s)/c,m=Math.acos(d);return r>l&&(m=2*Math.PI-m),{radius:c,angle:sU(m),angleInRadian:m}},oU=e=>{var{startAngle:t,endAngle:a}=e,r=Math.floor(t/360),s=Math.floor(a/360),l=Math.min(r,s);return{startAngle:t-l*360,endAngle:a-l*360}},cU=(e,t)=>{var{startAngle:a,endAngle:r}=t,s=Math.floor(a/360),l=Math.floor(r/360),c=Math.min(s,l);return e+c*360},dU=(e,t)=>{var{chartX:a,chartY:r}=e,{radius:s,angle:l}=lU({x:a,y:r},t),{innerRadius:c,outerRadius:d}=t;if(s<c||s>d||s===0)return null;var{startAngle:m,endAngle:f}=oU(t),h=l,g;if(m<=f){for(;h>f;)h-=360;for(;h<m;)h+=360;g=h>=m&&h<=f}else{for(;h>m;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=m}return g?hM(hM({},t),{},{radius:s,angle:cU(h,t)}):null},kE=e=>!x.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function PE(e){var{cx:t,cy:a,radius:r,startAngle:s,endAngle:l}=e,c=Pt(t,a,r,s),d=Pt(t,a,r,l);return{points:[c,d],cx:t,cy:a,radius:r,startAngle:s,endAngle:l}}function Sb(){return Sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Sb.apply(null,arguments)}var uU=(e,t)=>{var a=_n(t-e),r=Math.min(Math.abs(t-e),359.999);return a*r},Kf=e=>{var{cx:t,cy:a,radius:r,angle:s,sign:l,isExternal:c,cornerRadius:d,cornerIsExternal:m}=e,f=d*(c?1:-1)+r,h=Math.asin(d/f)/Uh,g=m?s:s+l*h,v=Pt(t,a,f,g),y=Pt(t,a,r,g),j=m?s-l*h:s,b=Pt(t,a,f*Math.cos(h*Uh),j);return{center:v,circleTangency:y,lineTangency:b,theta:h}},RE=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:s,startAngle:l,endAngle:c}=e,d=uU(l,c),m=l+d,f=Pt(t,a,s,l),h=Pt(t,a,s,m),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>m),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var v=Pt(t,a,r,l),y=Pt(t,a,r,m);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=m),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(t,",").concat(a," Z");return g},mU=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:m,endAngle:f}=e,h=_n(f-m),{circleTangency:g,lineTangency:v,theta:y}=Kf({cx:t,cy:a,radius:s,angle:m,sign:h,cornerRadius:l,cornerIsExternal:d}),{circleTangency:j,lineTangency:b,theta:S}=Kf({cx:t,cy:a,radius:s,angle:f,sign:-h,cornerRadius:l,cornerIsExternal:d}),M=d?Math.abs(m-f):Math.abs(m-f)-y-S;if(M<0)return c?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):RE({cx:t,cy:a,innerRadius:r,outerRadius:s,startAngle:m,endAngle:f});var w="M ".concat(v.x,",").concat(v.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(M>180),",").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(r>0){var{circleTangency:A,lineTangency:O,theta:D}=Kf({cx:t,cy:a,radius:r,angle:m,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),{circleTangency:k,lineTangency:_,theta:E}=Kf({cx:t,cy:a,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),P=d?Math.abs(m-f):Math.abs(m-f)-D-E;if(P<0&&l===0)return"".concat(w,"L").concat(t,",").concat(a,"Z");w+="L".concat(_.x,",").concat(_.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(P>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,"Z")}else w+="L".concat(t,",").concat(a,"Z");return w},fU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_E=e=>{var t=Rt(e,fU),{cx:a,cy:r,innerRadius:s,outerRadius:l,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:m,startAngle:f,endAngle:h,className:g}=t;if(l<s||f===h)return null;var v=at("recharts-sector",g),y=l-s,j=xa(c,y,0,!0),b;return j>0&&Math.abs(f-h)<360?b=mU({cx:a,cy:r,innerRadius:s,outerRadius:l,cornerRadius:Math.min(j,y/2),forceCornerRadius:d,cornerIsExternal:m,startAngle:f,endAngle:h}):b=RE({cx:a,cy:r,innerRadius:s,outerRadius:l,startAngle:f,endAngle:h}),x.createElement("path",Sb({},Sn(t),{className:v,d:b}))};function hU(e,t,a){if(e==="horizontal")return[{x:t.x,y:a.top},{x:t.x,y:a.top+a.height}];if(e==="vertical")return[{x:a.left,y:t.y},{x:a.left+a.width,y:t.y}];if(fO(t)){if(e==="centric"){var{cx:r,cy:s,innerRadius:l,outerRadius:c,angle:d}=t,m=Pt(r,s,l,d),f=Pt(r,s,c,d);return[{x:m.x,y:m.y},{x:f.x,y:f.y}]}return PE(t)}}var Wy={},Yy={},Gy={},pM;function pU(){return pM||(pM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SO();function a(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=a})(Gy)),Gy}var xM;function xU(){return xM||(xM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pU();function a(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=a})(Yy)),Yy}var gM;function gU(){return gM||(gM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AO(),a=xU();function r(s,l,c){c&&typeof c!="number"&&t.isIterateeCall(s,l,c)&&(l=c=void 0),s=a.toFinite(s),l===void 0?(l=s,s=0):l=a.toFinite(l),c=c===void 0?s<l?1:-1:a.toFinite(c);const d=Math.max(Math.ceil((l-s)/(c||1)),0),m=new Array(d);for(let f=0;f<d;f++)m[f]=s,s+=c;return m}e.range=r})(Wy)),Wy}var Zy,yM;function yU(){return yM||(yM=1,Zy=gU().range),Zy}var vU=yU();const TE=_r(vU);function il(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Kj(e){let t,a,r;e.length!==2?(t=il,a=(d,m)=>il(e(d),m),r=(d,m)=>e(d)-m):(t=e===il||e===bU?e:jU,a=e,r=e);function s(d,m,f=0,h=d.length){if(f<h){if(t(m,m)!==0)return h;do{const g=f+h>>>1;a(d[g],m)<0?f=g+1:h=g}while(f<h)}return f}function l(d,m,f=0,h=d.length){if(f<h){if(t(m,m)!==0)return h;do{const g=f+h>>>1;a(d[g],m)<=0?f=g+1:h=g}while(f<h)}return f}function c(d,m,f=0,h=d.length){const g=s(d,m,f,h-1);return g>f&&r(d[g-1],m)>-r(d[g],m)?g-1:g}return{left:s,center:c,right:l}}function jU(){return 0}function LE(e){return e===null?NaN:+e}function*NU(e,t){for(let a of e)a!=null&&(a=+a)>=a&&(yield a)}const wU=Kj(il),Zu=wU.right;Kj(LE).center;class vM extends Map{constructor(t,a=CU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(bM(this,t))}has(t){return super.has(bM(this,t))}set(t,a){return super.set(SU(this,t),a)}delete(t){return super.delete(AU(this,t))}}function bM({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):a}function SU({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):(e.set(r,a),a)}function AU({_intern:e,_key:t},a){const r=t(a);return e.has(r)&&(a=e.get(r),e.delete(r)),a}function CU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function MU(e=il){if(e===il)return IE;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,a)=>{const r=e(t,a);return r||r===0?r:(e(a,a)===0)-(e(t,t)===0)}}function IE(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const DU=Math.sqrt(50),OU=Math.sqrt(10),EU=Math.sqrt(2);function Hh(e,t,a){const r=(t-e)/Math.max(0,a),s=Math.floor(Math.log10(r)),l=r/Math.pow(10,s),c=l>=DU?10:l>=OU?5:l>=EU?2:1;let d,m,f;return s<0?(f=Math.pow(10,-s)/c,d=Math.round(e*f),m=Math.round(t*f),d/f<e&&++d,m/f>t&&--m,f=-f):(f=Math.pow(10,s)*c,d=Math.round(e/f),m=Math.round(t/f),d*f<e&&++d,m*f>t&&--m),m<d&&.5<=a&&a<2?Hh(e,t,a*2):[d,m,f]}function Ab(e,t,a){if(t=+t,e=+e,a=+a,!(a>0))return[];if(e===t)return[e];const r=t<e,[s,l,c]=r?Hh(t,e,a):Hh(e,t,a);if(!(l>=s))return[];const d=l-s+1,m=new Array(d);if(r)if(c<0)for(let f=0;f<d;++f)m[f]=(l-f)/-c;else for(let f=0;f<d;++f)m[f]=(l-f)*c;else if(c<0)for(let f=0;f<d;++f)m[f]=(s+f)/-c;else for(let f=0;f<d;++f)m[f]=(s+f)*c;return m}function Cb(e,t,a){return t=+t,e=+e,a=+a,Hh(e,t,a)[2]}function Mb(e,t,a){t=+t,e=+e,a=+a;const r=t<e,s=r?Cb(t,e,a):Cb(e,t,a);return(r?-1:1)*(s<0?1/-s:s)}function jM(e,t){let a;for(const r of e)r!=null&&(a<r||a===void 0&&r>=r)&&(a=r);return a}function NM(e,t){let a;for(const r of e)r!=null&&(a>r||a===void 0&&r>=r)&&(a=r);return a}function zE(e,t,a=0,r=1/0,s){if(t=Math.floor(t),a=Math.floor(Math.max(0,a)),r=Math.floor(Math.min(e.length-1,r)),!(a<=t&&t<=r))return e;for(s=s===void 0?IE:MU(s);r>a;){if(r-a>600){const m=r-a+1,f=t-a+1,h=Math.log(m),g=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*g*(m-g)/m)*(f-m/2<0?-1:1),y=Math.max(a,Math.floor(t-f*g/m+v)),j=Math.min(r,Math.floor(t+(m-f)*g/m+v));zE(e,t,y,j,s)}const l=e[t];let c=a,d=r;for(Gd(e,a,t),s(e[r],l)>0&&Gd(e,a,r);c<d;){for(Gd(e,c,d),++c,--d;s(e[c],l)<0;)++c;for(;s(e[d],l)>0;)--d}s(e[a],l)===0?Gd(e,a,d):(++d,Gd(e,d,r)),d<=t&&(a=d+1),t<=d&&(r=d-1)}return e}function Gd(e,t,a){const r=e[t];e[t]=e[a],e[a]=r}function kU(e,t,a){if(e=Float64Array.from(NU(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return NM(e);if(t>=1)return jM(e);var r,s=(r-1)*t,l=Math.floor(s),c=jM(zE(e,l).subarray(0,l+1)),d=NM(e.subarray(l+1));return c+(d-c)*(s-l)}}function PU(e,t,a=LE){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+a(e[0],0,e);if(t>=1)return+a(e[r-1],r-1,e);var r,s=(r-1)*t,l=Math.floor(s),c=+a(e[l],l,e),d=+a(e[l+1],l+1,e);return c+(d-c)*(s-l)}}function RU(e,t,a){e=+e,t=+t,a=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+a;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/a))|0,l=new Array(s);++r<s;)l[r]=e+r*a;return l}function Ir(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Si(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Db=Symbol("implicit");function Wj(){var e=new vM,t=[],a=[],r=Db;function s(l){let c=e.get(l);if(c===void 0){if(r!==Db)return r;e.set(l,c=t.push(l)-1)}return a[c%a.length]}return s.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new vM;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(l){return arguments.length?(a=Array.from(l),s):a.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return Wj(t,a).unknown(r)},Ir.apply(s,arguments),s}function Yj(){var e=Wj().unknown(void 0),t=e.domain,a=e.range,r=0,s=1,l,c,d=!1,m=0,f=0,h=.5;delete e.unknown;function g(){var v=t().length,y=s<r,j=y?s:r,b=y?r:s;l=(b-j)/Math.max(1,v-m+f*2),d&&(l=Math.floor(l)),j+=(b-j-l*(v-m))*h,c=l*(1-m),d&&(j=Math.round(j),c=Math.round(c));var S=RU(v).map(function(M){return j+l*M});return a(y?S.reverse():S)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([r,s]=v,r=+r,s=+s,g()):[r,s]},e.rangeRound=function(v){return[r,s]=v,r=+r,s=+s,d=!0,g()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(v){return arguments.length?(d=!!v,g()):d},e.padding=function(v){return arguments.length?(m=Math.min(1,f=+v),g()):m},e.paddingInner=function(v){return arguments.length?(m=Math.min(1,v),g()):m},e.paddingOuter=function(v){return arguments.length?(f=+v,g()):f},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),g()):h},e.copy=function(){return Yj(t(),[r,s]).round(d).paddingInner(m).paddingOuter(f).align(h)},Ir.apply(g(),arguments)}function $E(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return $E(t())},e}function _U(){return $E(Yj.apply(null,arguments).paddingInner(1))}function Gj(e,t,a){e.prototype=t.prototype=a,a.constructor=e}function BE(e,t){var a=Object.create(e.prototype);for(var r in t)a[r]=t[r];return a}function Xu(){}var Cu=.7,Vh=1/Cu,bc="\\s*([+-]?\\d+)\\s*",Mu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TU=/^#([0-9a-f]{3,8})$/,LU=new RegExp(`^rgb\\(${bc},${bc},${bc}\\)$`),IU=new RegExp(`^rgb\\(${hs},${hs},${hs}\\)$`),zU=new RegExp(`^rgba\\(${bc},${bc},${bc},${Mu}\\)$`),$U=new RegExp(`^rgba\\(${hs},${hs},${hs},${Mu}\\)$`),BU=new RegExp(`^hsl\\(${Mu},${hs},${hs}\\)$`),FU=new RegExp(`^hsla\\(${Mu},${hs},${hs},${Mu}\\)$`),wM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gj(Xu,Du,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:SM,formatHex:SM,formatHex8:UU,formatHsl:qU,formatRgb:AM,toString:AM});function SM(){return this.rgb().formatHex()}function UU(){return this.rgb().formatHex8()}function qU(){return FE(this).formatHsl()}function AM(){return this.rgb().formatRgb()}function Du(e){var t,a;return e=(e+"").trim().toLowerCase(),(t=TU.exec(e))?(a=t[1].length,t=parseInt(t[1],16),a===6?CM(t):a===3?new Ra(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):a===8?Wf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):a===4?Wf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=LU.exec(e))?new Ra(t[1],t[2],t[3],1):(t=IU.exec(e))?new Ra(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=zU.exec(e))?Wf(t[1],t[2],t[3],t[4]):(t=$U.exec(e))?Wf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=BU.exec(e))?OM(t[1],t[2]/100,t[3]/100,1):(t=FU.exec(e))?OM(t[1],t[2]/100,t[3]/100,t[4]):wM.hasOwnProperty(e)?CM(wM[e]):e==="transparent"?new Ra(NaN,NaN,NaN,0):null}function CM(e){return new Ra(e>>16&255,e>>8&255,e&255,1)}function Wf(e,t,a,r){return r<=0&&(e=t=a=NaN),new Ra(e,t,a,r)}function HU(e){return e instanceof Xu||(e=Du(e)),e?(e=e.rgb(),new Ra(e.r,e.g,e.b,e.opacity)):new Ra}function Ob(e,t,a,r){return arguments.length===1?HU(e):new Ra(e,t,a,r??1)}function Ra(e,t,a,r){this.r=+e,this.g=+t,this.b=+a,this.opacity=+r}Gj(Ra,Ob,BE(Xu,{brighter(e){return e=e==null?Vh:Math.pow(Vh,e),new Ra(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cu:Math.pow(Cu,e),new Ra(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ra(Wl(this.r),Wl(this.g),Wl(this.b),Kh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MM,formatHex:MM,formatHex8:VU,formatRgb:DM,toString:DM}));function MM(){return`#${Bl(this.r)}${Bl(this.g)}${Bl(this.b)}`}function VU(){return`#${Bl(this.r)}${Bl(this.g)}${Bl(this.b)}${Bl((isNaN(this.opacity)?1:this.opacity)*255)}`}function DM(){const e=Kh(this.opacity);return`${e===1?"rgb(":"rgba("}${Wl(this.r)}, ${Wl(this.g)}, ${Wl(this.b)}${e===1?")":`, ${e})`}`}function Kh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bl(e){return e=Wl(e),(e<16?"0":"")+e.toString(16)}function OM(e,t,a,r){return r<=0?e=t=a=NaN:a<=0||a>=1?e=t=NaN:t<=0&&(e=NaN),new Vr(e,t,a,r)}function FE(e){if(e instanceof Vr)return new Vr(e.h,e.s,e.l,e.opacity);if(e instanceof Xu||(e=Du(e)),!e)return new Vr;if(e instanceof Vr)return e;e=e.rgb();var t=e.r/255,a=e.g/255,r=e.b/255,s=Math.min(t,a,r),l=Math.max(t,a,r),c=NaN,d=l-s,m=(l+s)/2;return d?(t===l?c=(a-r)/d+(a<r)*6:a===l?c=(r-t)/d+2:c=(t-a)/d+4,d/=m<.5?l+s:2-l-s,c*=60):d=m>0&&m<1?0:c,new Vr(c,d,m,e.opacity)}function KU(e,t,a,r){return arguments.length===1?FE(e):new Vr(e,t,a,r??1)}function Vr(e,t,a,r){this.h=+e,this.s=+t,this.l=+a,this.opacity=+r}Gj(Vr,KU,BE(Xu,{brighter(e){return e=e==null?Vh:Math.pow(Vh,e),new Vr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cu:Math.pow(Cu,e),new Vr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,r=a+(a<.5?a:1-a)*t,s=2*a-r;return new Ra(Xy(e>=240?e-240:e+120,s,r),Xy(e,s,r),Xy(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Vr(EM(this.h),Yf(this.s),Yf(this.l),Kh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kh(this.opacity);return`${e===1?"hsl(":"hsla("}${EM(this.h)}, ${Yf(this.s)*100}%, ${Yf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function EM(e){return e=(e||0)%360,e<0?e+360:e}function Yf(e){return Math.max(0,Math.min(1,e||0))}function Xy(e,t,a){return(e<60?t+(a-t)*e/60:e<180?a:e<240?t+(a-t)*(240-e)/60:t)*255}const Zj=e=>()=>e;function WU(e,t){return function(a){return e+a*t}}function YU(e,t,a){return e=Math.pow(e,a),t=Math.pow(t,a)-e,a=1/a,function(r){return Math.pow(e+r*t,a)}}function GU(e){return(e=+e)==1?UE:function(t,a){return a-t?YU(t,a,e):Zj(isNaN(t)?a:t)}}function UE(e,t){var a=t-e;return a?WU(e,a):Zj(isNaN(e)?t:e)}const kM=(function e(t){var a=GU(t);function r(s,l){var c=a((s=Ob(s)).r,(l=Ob(l)).r),d=a(s.g,l.g),m=a(s.b,l.b),f=UE(s.opacity,l.opacity);return function(h){return s.r=c(h),s.g=d(h),s.b=m(h),s.opacity=f(h),s+""}}return r.gamma=e,r})(1);function ZU(e,t){t||(t=[]);var a=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(l){for(s=0;s<a;++s)r[s]=e[s]*(1-l)+t[s]*l;return r}}function XU(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function QU(e,t){var a=t?t.length:0,r=e?Math.min(a,e.length):0,s=new Array(r),l=new Array(a),c;for(c=0;c<r;++c)s[c]=Ic(e[c],t[c]);for(;c<a;++c)l[c]=t[c];return function(d){for(c=0;c<r;++c)l[c]=s[c](d);return l}}function JU(e,t){var a=new Date;return e=+e,t=+t,function(r){return a.setTime(e*(1-r)+t*r),a}}function Wh(e,t){return e=+e,t=+t,function(a){return e*(1-a)+t*a}}function eq(e,t){var a={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?a[s]=Ic(e[s],t[s]):r[s]=t[s];return function(l){for(s in a)r[s]=a[s](l);return r}}var Eb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qy=new RegExp(Eb.source,"g");function tq(e){return function(){return e}}function nq(e){return function(t){return e(t)+""}}function aq(e,t){var a=Eb.lastIndex=Qy.lastIndex=0,r,s,l,c=-1,d=[],m=[];for(e=e+"",t=t+"";(r=Eb.exec(e))&&(s=Qy.exec(t));)(l=s.index)>a&&(l=t.slice(a,l),d[c]?d[c]+=l:d[++c]=l),(r=r[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,m.push({i:c,x:Wh(r,s)})),a=Qy.lastIndex;return a<t.length&&(l=t.slice(a),d[c]?d[c]+=l:d[++c]=l),d.length<2?m[0]?nq(m[0].x):tq(t):(t=m.length,function(f){for(var h=0,g;h<t;++h)d[(g=m[h]).i]=g.x(f);return d.join("")})}function Ic(e,t){var a=typeof t,r;return t==null||a==="boolean"?Zj(t):(a==="number"?Wh:a==="string"?(r=Du(t))?(t=r,kM):aq:t instanceof Du?kM:t instanceof Date?JU:XU(t)?ZU:Array.isArray(t)?QU:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?eq:Wh)(e,t)}function Xj(e,t){return e=+e,t=+t,function(a){return Math.round(e*(1-a)+t*a)}}function rq(e,t){t===void 0&&(t=e,e=Ic);for(var a=0,r=t.length-1,s=t[0],l=new Array(r<0?0:r);a<r;)l[a]=e(s,s=t[++a]);return function(c){var d=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return l[d](c-d)}}function sq(e){return function(){return e}}function Yh(e){return+e}var PM=[0,1];function ba(e){return e}function kb(e,t){return(t-=e=+e)?function(a){return(a-e)/t}:sq(isNaN(t)?NaN:.5)}function iq(e,t){var a;return e>t&&(a=e,e=t,t=a),function(r){return Math.max(e,Math.min(t,r))}}function lq(e,t,a){var r=e[0],s=e[1],l=t[0],c=t[1];return s<r?(r=kb(s,r),l=a(c,l)):(r=kb(r,s),l=a(l,c)),function(d){return l(r(d))}}function oq(e,t,a){var r=Math.min(e.length,t.length)-1,s=new Array(r),l=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<r;)s[c]=kb(e[c],e[c+1]),l[c]=a(t[c],t[c+1]);return function(d){var m=Zu(e,d,1,r)-1;return l[m](s[m](d))}}function Qu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Kp(){var e=PM,t=PM,a=Ic,r,s,l,c=ba,d,m,f;function h(){var v=Math.min(e.length,t.length);return c!==ba&&(c=iq(e[0],e[v-1])),d=v>2?oq:lq,m=f=null,g}function g(v){return v==null||isNaN(v=+v)?l:(m||(m=d(e.map(r),t,a)))(r(c(v)))}return g.invert=function(v){return c(s((f||(f=d(t,e.map(r),Wh)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,Yh),h()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),a=Xj,h()},g.clamp=function(v){return arguments.length?(c=v?!0:ba,h()):c!==ba},g.interpolate=function(v){return arguments.length?(a=v,h()):a},g.unknown=function(v){return arguments.length?(l=v,g):l},function(v,y){return r=v,s=y,h()}}function Qj(){return Kp()(ba,ba)}function cq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Gh(e,t){if((a=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var a,r=e.slice(0,a);return[r.length>1?r[0]+r.slice(2):r,+e.slice(a+1)]}function Oc(e){return e=Gh(Math.abs(e)),e?e[1]:NaN}function dq(e,t){return function(a,r){for(var s=a.length,l=[],c=0,d=e[0],m=0;s>0&&d>0&&(m+d+1>r&&(d=Math.max(1,r-m)),l.push(a.substring(s-=d,s+d)),!((m+=d+1)>r));)d=e[c=(c+1)%e.length];return l.reverse().join(t)}}function uq(e){return function(t){return t.replace(/[0-9]/g,function(a){return e[+a]})}}var mq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ou(e){if(!(t=mq.exec(e)))throw new Error("invalid format: "+e);var t;return new Jj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ou.prototype=Jj.prototype;function Jj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Jj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fq(e){e:for(var t=e.length,a=1,r=-1,s;a<t;++a)switch(e[a]){case".":r=s=a;break;case"0":r===0&&(r=a),s=a;break;default:if(!+e[a])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var qE;function hq(e,t){var a=Gh(e,t);if(!a)return e+"";var r=a[0],s=a[1],l=s-(qE=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=r.length;return l===c?r:l>c?r+new Array(l-c+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+Gh(e,Math.max(0,t+l-1))[0]}function RM(e,t){var a=Gh(e,t);if(!a)return e+"";var r=a[0],s=a[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const _M={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>RM(e*100,t),r:RM,s:hq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function TM(e){return e}var LM=Array.prototype.map,IM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pq(e){var t=e.grouping===void 0||e.thousands===void 0?TM:dq(LM.call(e.grouping,Number),e.thousands+""),a=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?TM:uq(LM.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function f(g){g=Ou(g);var v=g.fill,y=g.align,j=g.sign,b=g.symbol,S=g.zero,M=g.width,w=g.comma,A=g.precision,O=g.trim,D=g.type;D==="n"?(w=!0,D="g"):_M[D]||(A===void 0&&(A=12),O=!0,D="g"),(S||v==="0"&&y==="=")&&(S=!0,v="0",y="=");var k=b==="$"?a:b==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",_=b==="$"?r:/[%p]/.test(D)?c:"",E=_M[D],P=/[defgprs%]/.test(D);A=A===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function z(L){var I=k,J=_,T,Y,V;if(D==="c")J=E(L)+J,L="";else{L=+L;var B=L<0||1/L<0;if(L=isNaN(L)?m:E(Math.abs(L),A),O&&(L=fq(L)),B&&+L==0&&j!=="+"&&(B=!1),I=(B?j==="("?j:d:j==="-"||j==="("?"":j)+I,J=(D==="s"?IM[8+qE/3]:"")+J+(B&&j==="("?")":""),P){for(T=-1,Y=L.length;++T<Y;)if(V=L.charCodeAt(T),48>V||V>57){J=(V===46?s+L.slice(T+1):L.slice(T))+J,L=L.slice(0,T);break}}}w&&!S&&(L=t(L,1/0));var U=I.length+L.length+J.length,F=U<M?new Array(M-U+1).join(v):"";switch(w&&S&&(L=t(F+L,F.length?M-J.length:1/0),F=""),y){case"<":L=I+L+J+F;break;case"=":L=I+F+L+J;break;case"^":L=F.slice(0,U=F.length>>1)+I+L+J+F.slice(U);break;default:L=F+I+L+J;break}return l(L)}return z.toString=function(){return g+""},z}function h(g,v){var y=f((g=Ou(g),g.type="f",g)),j=Math.max(-8,Math.min(8,Math.floor(Oc(v)/3)))*3,b=Math.pow(10,-j),S=IM[8+j/3];return function(M){return y(b*M)+S}}return{format:f,formatPrefix:h}}var Gf,e1,HE;xq({thousands:",",grouping:[3],currency:["$",""]});function xq(e){return Gf=pq(e),e1=Gf.format,HE=Gf.formatPrefix,Gf}function gq(e){return Math.max(0,-Oc(Math.abs(e)))}function yq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Oc(t)/3)))*3-Oc(Math.abs(e)))}function vq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Oc(t)-Oc(e))+1}function VE(e,t,a,r){var s=Mb(e,t,a),l;switch(r=Ou(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(l=yq(s,c))&&(r.precision=l),HE(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=vq(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=gq(s))&&(r.precision=l-(r.type==="%")*2);break}}return e1(r)}function ul(e){var t=e.domain;return e.ticks=function(a){var r=t();return Ab(r[0],r[r.length-1],a??10)},e.tickFormat=function(a,r){var s=t();return VE(s[0],s[s.length-1],a??10,r)},e.nice=function(a){a==null&&(a=10);var r=t(),s=0,l=r.length-1,c=r[s],d=r[l],m,f,h=10;for(d<c&&(f=c,c=d,d=f,f=s,s=l,l=f);h-- >0;){if(f=Cb(c,d,a),f===m)return r[s]=c,r[l]=d,t(r);if(f>0)c=Math.floor(c/f)*f,d=Math.ceil(d/f)*f;else if(f<0)c=Math.ceil(c*f)/f,d=Math.floor(d*f)/f;else break;m=f}return e},e}function KE(){var e=Qj();return e.copy=function(){return Qu(e,KE())},Ir.apply(e,arguments),ul(e)}function WE(e){var t;function a(r){return r==null||isNaN(r=+r)?t:r}return a.invert=a,a.domain=a.range=function(r){return arguments.length?(e=Array.from(r,Yh),a):e.slice()},a.unknown=function(r){return arguments.length?(t=r,a):t},a.copy=function(){return WE(e).unknown(t)},e=arguments.length?Array.from(e,Yh):[0,1],ul(a)}function YE(e,t){e=e.slice();var a=0,r=e.length-1,s=e[a],l=e[r],c;return l<s&&(c=a,a=r,r=c,c=s,s=l,l=c),e[a]=t.floor(s),e[r]=t.ceil(l),e}function zM(e){return Math.log(e)}function $M(e){return Math.exp(e)}function bq(e){return-Math.log(-e)}function jq(e){return-Math.exp(-e)}function Nq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wq(e){return e===10?Nq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Sq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function BM(e){return(t,a)=>-e(-t,a)}function t1(e){const t=e(zM,$M),a=t.domain;let r=10,s,l;function c(){return s=Sq(r),l=wq(r),a()[0]<0?(s=BM(s),l=BM(l),e(bq,jq)):e(zM,$M),t}return t.base=function(d){return arguments.length?(r=+d,c()):r},t.domain=function(d){return arguments.length?(a(d),c()):a()},t.ticks=d=>{const m=a();let f=m[0],h=m[m.length-1];const g=h<f;g&&([f,h]=[h,f]);let v=s(f),y=s(h),j,b;const S=d==null?10:+d;let M=[];if(!(r%1)&&y-v<S){if(v=Math.floor(v),y=Math.ceil(y),f>0){for(;v<=y;++v)for(j=1;j<r;++j)if(b=v<0?j/l(-v):j*l(v),!(b<f)){if(b>h)break;M.push(b)}}else for(;v<=y;++v)for(j=r-1;j>=1;--j)if(b=v>0?j/l(-v):j*l(v),!(b<f)){if(b>h)break;M.push(b)}M.length*2<S&&(M=Ab(f,h,S))}else M=Ab(v,y,Math.min(y-v,S)).map(l);return g?M.reverse():M},t.tickFormat=(d,m)=>{if(d==null&&(d=10),m==null&&(m=r===10?"s":","),typeof m!="function"&&(!(r%1)&&(m=Ou(m)).precision==null&&(m.trim=!0),m=e1(m)),d===1/0)return m;const f=Math.max(1,r*d/t.ticks().length);return h=>{let g=h/l(Math.round(s(h)));return g*r<r-.5&&(g*=r),g<=f?m(h):""}},t.nice=()=>a(YE(a(),{floor:d=>l(Math.floor(s(d))),ceil:d=>l(Math.ceil(s(d)))})),t}function GE(){const e=t1(Kp()).domain([1,10]);return e.copy=()=>Qu(e,GE()).base(e.base()),Ir.apply(e,arguments),e}function FM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function UM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function n1(e){var t=1,a=e(FM(t),UM(t));return a.constant=function(r){return arguments.length?e(FM(t=+r),UM(t)):t},ul(a)}function ZE(){var e=n1(Kp());return e.copy=function(){return Qu(e,ZE()).constant(e.constant())},Ir.apply(e,arguments)}function qM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Aq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Cq(e){return e<0?-e*e:e*e}function a1(e){var t=e(ba,ba),a=1;function r(){return a===1?e(ba,ba):a===.5?e(Aq,Cq):e(qM(a),qM(1/a))}return t.exponent=function(s){return arguments.length?(a=+s,r()):a},ul(t)}function r1(){var e=a1(Kp());return e.copy=function(){return Qu(e,r1()).exponent(e.exponent())},Ir.apply(e,arguments),e}function Mq(){return r1.apply(null,arguments).exponent(.5)}function HM(e){return Math.sign(e)*e*e}function Dq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function XE(){var e=Qj(),t=[0,1],a=!1,r;function s(l){var c=Dq(e(l));return isNaN(c)?r:a?Math.round(c):c}return s.invert=function(l){return e.invert(HM(l))},s.domain=function(l){return arguments.length?(e.domain(l),s):e.domain()},s.range=function(l){return arguments.length?(e.range((t=Array.from(l,Yh)).map(HM)),s):t.slice()},s.rangeRound=function(l){return s.range(l).round(!0)},s.round=function(l){return arguments.length?(a=!!l,s):a},s.clamp=function(l){return arguments.length?(e.clamp(l),s):e.clamp()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return XE(e.domain(),t).round(a).clamp(e.clamp()).unknown(r)},Ir.apply(s,arguments),ul(s)}function QE(){var e=[],t=[],a=[],r;function s(){var c=0,d=Math.max(1,t.length);for(a=new Array(d-1);++c<d;)a[c-1]=PU(e,c/d);return l}function l(c){return c==null||isNaN(c=+c)?r:t[Zu(a,c)]}return l.invertExtent=function(c){var d=t.indexOf(c);return d<0?[NaN,NaN]:[d>0?a[d-1]:e[0],d<a.length?a[d]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(il),s()},l.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},l.unknown=function(c){return arguments.length?(r=c,l):r},l.quantiles=function(){return a.slice()},l.copy=function(){return QE().domain(e).range(t).unknown(r)},Ir.apply(l,arguments)}function JE(){var e=0,t=1,a=1,r=[.5],s=[0,1],l;function c(m){return m!=null&&m<=m?s[Zu(r,m,0,a)]:l}function d(){var m=-1;for(r=new Array(a);++m<a;)r[m]=((m+1)*t-(m-a)*e)/(a+1);return c}return c.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,d()):[e,t]},c.range=function(m){return arguments.length?(a=(s=Array.from(m)).length-1,d()):s.slice()},c.invertExtent=function(m){var f=s.indexOf(m);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=a?[r[a-1],t]:[r[f-1],r[f]]},c.unknown=function(m){return arguments.length&&(l=m),c},c.thresholds=function(){return r.slice()},c.copy=function(){return JE().domain([e,t]).range(s).unknown(l)},Ir.apply(ul(c),arguments)}function ek(){var e=[.5],t=[0,1],a,r=1;function s(l){return l!=null&&l<=l?t[Zu(e,l,0,r)]:a}return s.domain=function(l){return arguments.length?(e=Array.from(l),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(l){return arguments.length?(t=Array.from(l),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},s.unknown=function(l){return arguments.length?(a=l,s):a},s.copy=function(){return ek().domain(e).range(t).unknown(a)},Ir.apply(s,arguments)}const Jy=new Date,ev=new Date;function Un(e,t,a,r){function s(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return s.floor=l=>(e(l=new Date(+l)),l),s.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),s.round=l=>{const c=s(l),d=s.ceil(l);return l-c<d-l?c:d},s.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),s.range=(l,c,d)=>{const m=[];if(l=s.ceil(l),d=d==null?1:Math.floor(d),!(l<c)||!(d>0))return m;let f;do m.push(f=new Date(+l)),t(l,d),e(l);while(f<l&&l<c);return m},s.filter=l=>Un(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;t(c,-1),!l(c););else for(;--d>=0;)for(;t(c,1),!l(c););}),a&&(s.count=(l,c)=>(Jy.setTime(+l),ev.setTime(+c),e(Jy),e(ev),Math.floor(a(Jy,ev))),s.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?s.filter(r?c=>r(c)%l===0:c=>s.count(0,c)%l===0):s)),s}const Zh=Un(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Zh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Un(t=>{t.setTime(Math.floor(t/e)*e)},(t,a)=>{t.setTime(+t+a*e)},(t,a)=>(a-t)/e):Zh);Zh.range;const Qs=1e3,Ar=Qs*60,Js=Ar*60,fi=Js*24,s1=fi*7,VM=fi*30,tv=fi*365,Fl=Un(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Qs)},(e,t)=>(t-e)/Qs,e=>e.getUTCSeconds());Fl.range;const i1=Un(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qs)},(e,t)=>{e.setTime(+e+t*Ar)},(e,t)=>(t-e)/Ar,e=>e.getMinutes());i1.range;const l1=Un(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ar)},(e,t)=>(t-e)/Ar,e=>e.getUTCMinutes());l1.range;const o1=Un(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qs-e.getMinutes()*Ar)},(e,t)=>{e.setTime(+e+t*Js)},(e,t)=>(t-e)/Js,e=>e.getHours());o1.range;const c1=Un(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Js)},(e,t)=>(t-e)/Js,e=>e.getUTCHours());c1.range;const Ju=Un(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ar)/fi,e=>e.getDate()-1);Ju.range;const Wp=Un(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fi,e=>e.getUTCDate()-1);Wp.range;const tk=Un(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fi,e=>Math.floor(e/fi));tk.range;function co(e){return Un(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,a)=>{t.setDate(t.getDate()+a*7)},(t,a)=>(a-t-(a.getTimezoneOffset()-t.getTimezoneOffset())*Ar)/s1)}const Yp=co(0),Xh=co(1),Oq=co(2),Eq=co(3),Ec=co(4),kq=co(5),Pq=co(6);Yp.range;Xh.range;Oq.range;Eq.range;Ec.range;kq.range;Pq.range;function uo(e){return Un(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCDate(t.getUTCDate()+a*7)},(t,a)=>(a-t)/s1)}const Gp=uo(0),Qh=uo(1),Rq=uo(2),_q=uo(3),kc=uo(4),Tq=uo(5),Lq=uo(6);Gp.range;Qh.range;Rq.range;_q.range;kc.range;Tq.range;Lq.range;const d1=Un(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());d1.range;const u1=Un(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());u1.range;const hi=Un(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Un(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,a)=>{t.setFullYear(t.getFullYear()+a*e)});hi.range;const pi=Un(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());pi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Un(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCFullYear(t.getUTCFullYear()+a*e)});pi.range;function nk(e,t,a,r,s,l){const c=[[Fl,1,Qs],[Fl,5,5*Qs],[Fl,15,15*Qs],[Fl,30,30*Qs],[l,1,Ar],[l,5,5*Ar],[l,15,15*Ar],[l,30,30*Ar],[s,1,Js],[s,3,3*Js],[s,6,6*Js],[s,12,12*Js],[r,1,fi],[r,2,2*fi],[a,1,s1],[t,1,VM],[t,3,3*VM],[e,1,tv]];function d(f,h,g){const v=h<f;v&&([f,h]=[h,f]);const y=g&&typeof g.range=="function"?g:m(f,h,g),j=y?y.range(f,+h+1):[];return v?j.reverse():j}function m(f,h,g){const v=Math.abs(h-f)/g,y=Kj(([,,S])=>S).right(c,v);if(y===c.length)return e.every(Mb(f/tv,h/tv,g));if(y===0)return Zh.every(Math.max(Mb(f,h,g),1));const[j,b]=c[v/c[y-1][2]<c[y][2]/v?y-1:y];return j.every(b)}return[d,m]}const[Iq,zq]=nk(pi,u1,Gp,tk,c1,l1),[$q,Bq]=nk(hi,d1,Yp,Ju,o1,i1);function nv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function av(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Zd(e,t,a){return{y:e,m:t,d:a,H:0,M:0,S:0,L:0}}function Fq(e){var t=e.dateTime,a=e.date,r=e.time,s=e.periods,l=e.days,c=e.shortDays,d=e.months,m=e.shortMonths,f=Xd(s),h=Qd(s),g=Xd(l),v=Qd(l),y=Xd(c),j=Qd(c),b=Xd(d),S=Qd(d),M=Xd(m),w=Qd(m),A={a:B,A:U,b:F,B:W,c:null,d:XM,e:XM,f:dH,g:bH,G:NH,H:lH,I:oH,j:cH,L:ak,m:uH,M:mH,p:ne,q:je,Q:e3,s:t3,S:fH,u:hH,U:pH,V:xH,w:gH,W:yH,x:null,X:null,y:vH,Y:jH,Z:wH,"%":JM},O={a:H,A:fe,b:Ne,B:se,c:null,d:QM,e:QM,f:MH,g:IH,G:$H,H:SH,I:AH,j:CH,L:sk,m:DH,M:OH,p:ee,q:ie,Q:e3,s:t3,S:EH,u:kH,U:PH,V:RH,w:_H,W:TH,x:null,X:null,y:LH,Y:zH,Z:BH,"%":JM},D={a:z,A:L,b:I,B:J,c:T,d:GM,e:GM,f:aH,g:YM,G:WM,H:ZM,I:ZM,j:Jq,L:nH,m:Qq,M:eH,p:P,q:Xq,Q:sH,s:iH,S:tH,u:Kq,U:Wq,V:Yq,w:Vq,W:Gq,x:Y,X:V,y:YM,Y:WM,Z:Zq,"%":rH};A.x=k(a,A),A.X=k(r,A),A.c=k(t,A),O.x=k(a,O),O.X=k(r,O),O.c=k(t,O);function k(ae,Me){return function(Ce){var xe=[],lt=-1,Re=0,Ke=ae.length,Fe,tn,Ge;for(Ce instanceof Date||(Ce=new Date(+Ce));++lt<Ke;)ae.charCodeAt(lt)===37&&(xe.push(ae.slice(Re,lt)),(tn=KM[Fe=ae.charAt(++lt)])!=null?Fe=ae.charAt(++lt):tn=Fe==="e"?" ":"0",(Ge=Me[Fe])&&(Fe=Ge(Ce,tn)),xe.push(Fe),Re=lt+1);return xe.push(ae.slice(Re,lt)),xe.join("")}}function _(ae,Me){return function(Ce){var xe=Zd(1900,void 0,1),lt=E(xe,ae,Ce+="",0),Re,Ke;if(lt!=Ce.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(Me&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(Re=av(Zd(xe.y,0,1)),Ke=Re.getUTCDay(),Re=Ke>4||Ke===0?Qh.ceil(Re):Qh(Re),Re=Wp.offset(Re,(xe.V-1)*7),xe.y=Re.getUTCFullYear(),xe.m=Re.getUTCMonth(),xe.d=Re.getUTCDate()+(xe.w+6)%7):(Re=nv(Zd(xe.y,0,1)),Ke=Re.getDay(),Re=Ke>4||Ke===0?Xh.ceil(Re):Xh(Re),Re=Ju.offset(Re,(xe.V-1)*7),xe.y=Re.getFullYear(),xe.m=Re.getMonth(),xe.d=Re.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),Ke="Z"in xe?av(Zd(xe.y,0,1)).getUTCDay():nv(Zd(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(Ke+5)%7:xe.w+xe.U*7-(Ke+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,av(xe)):nv(xe)}}function E(ae,Me,Ce,xe){for(var lt=0,Re=Me.length,Ke=Ce.length,Fe,tn;lt<Re;){if(xe>=Ke)return-1;if(Fe=Me.charCodeAt(lt++),Fe===37){if(Fe=Me.charAt(lt++),tn=D[Fe in KM?Me.charAt(lt++):Fe],!tn||(xe=tn(ae,Ce,xe))<0)return-1}else if(Fe!=Ce.charCodeAt(xe++))return-1}return xe}function P(ae,Me,Ce){var xe=f.exec(Me.slice(Ce));return xe?(ae.p=h.get(xe[0].toLowerCase()),Ce+xe[0].length):-1}function z(ae,Me,Ce){var xe=y.exec(Me.slice(Ce));return xe?(ae.w=j.get(xe[0].toLowerCase()),Ce+xe[0].length):-1}function L(ae,Me,Ce){var xe=g.exec(Me.slice(Ce));return xe?(ae.w=v.get(xe[0].toLowerCase()),Ce+xe[0].length):-1}function I(ae,Me,Ce){var xe=M.exec(Me.slice(Ce));return xe?(ae.m=w.get(xe[0].toLowerCase()),Ce+xe[0].length):-1}function J(ae,Me,Ce){var xe=b.exec(Me.slice(Ce));return xe?(ae.m=S.get(xe[0].toLowerCase()),Ce+xe[0].length):-1}function T(ae,Me,Ce){return E(ae,t,Me,Ce)}function Y(ae,Me,Ce){return E(ae,a,Me,Ce)}function V(ae,Me,Ce){return E(ae,r,Me,Ce)}function B(ae){return c[ae.getDay()]}function U(ae){return l[ae.getDay()]}function F(ae){return m[ae.getMonth()]}function W(ae){return d[ae.getMonth()]}function ne(ae){return s[+(ae.getHours()>=12)]}function je(ae){return 1+~~(ae.getMonth()/3)}function H(ae){return c[ae.getUTCDay()]}function fe(ae){return l[ae.getUTCDay()]}function Ne(ae){return m[ae.getUTCMonth()]}function se(ae){return d[ae.getUTCMonth()]}function ee(ae){return s[+(ae.getUTCHours()>=12)]}function ie(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Me=k(ae+="",A);return Me.toString=function(){return ae},Me},parse:function(ae){var Me=_(ae+="",!1);return Me.toString=function(){return ae},Me},utcFormat:function(ae){var Me=k(ae+="",O);return Me.toString=function(){return ae},Me},utcParse:function(ae){var Me=_(ae+="",!0);return Me.toString=function(){return ae},Me}}}var KM={"-":"",_:" ",0:"0"},ea=/^\s*\d+/,Uq=/^%/,qq=/[\\^$*+?|[\]().{}]/g;function Et(e,t,a){var r=e<0?"-":"",s=(r?-e:e)+"",l=s.length;return r+(l<a?new Array(a-l+1).join(t)+s:s)}function Hq(e){return e.replace(qq,"\\$&")}function Xd(e){return new RegExp("^(?:"+e.map(Hq).join("|")+")","i")}function Qd(e){return new Map(e.map((t,a)=>[t.toLowerCase(),a]))}function Vq(e,t,a){var r=ea.exec(t.slice(a,a+1));return r?(e.w=+r[0],a+r[0].length):-1}function Kq(e,t,a){var r=ea.exec(t.slice(a,a+1));return r?(e.u=+r[0],a+r[0].length):-1}function Wq(e,t,a){var r=ea.exec(t.slice(a,a+2));return r?(e.U=+r[0],a+r[0].length):-1}function Yq(e,t,a){var r=ea.exec(t.slice(a,a+2));return r?(e.V=+r[0],a+r[0].length):-1}function Gq(e,t,a){var r=ea.exec(t.slice(a,a+2));return r?(e.W=+r[0],a+r[0].length):-1}function WM(e,t,a){var r=ea.exec(t.slice(a,a+4));return r?(e.y=+r[0],a+r[0].length):-1}function YM(e,t,a){var r=ea.exec(t.slice(a,a+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),a+r[0].length):-1}function Zq(e,t,a){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(a,a+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),a+r[0].length):-1}function Xq(e,t,a){var r=ea.exec(t.slice(a,a+1));return r?(e.q=r[0]*3-3,a+r[0].length):-1}function Qq(e,t,a){var r=ea.exec(t.slice(a,a+2));return r?(e.m=r[0]-1,a+r[0].length):-1}function GM(e,t,a){var r=ea.exec(t.slice(a,a+2));return r?(e.d=+r[0],a+r[0].length):-1}function Jq(e,t,a){var r=ea.exec(t.slice(a,a+3));return r?(e.m=0,e.d=+r[0],a+r[0].length):-1}function ZM(e,t,a){var r=ea.exec(t.slice(a,a+2));return r?(e.H=+r[0],a+r[0].length):-1}function eH(e,t,a){var r=ea.exec(t.slice(a,a+2));return r?(e.M=+r[0],a+r[0].length):-1}function tH(e,t,a){var r=ea.exec(t.slice(a,a+2));return r?(e.S=+r[0],a+r[0].length):-1}function nH(e,t,a){var r=ea.exec(t.slice(a,a+3));return r?(e.L=+r[0],a+r[0].length):-1}function aH(e,t,a){var r=ea.exec(t.slice(a,a+6));return r?(e.L=Math.floor(r[0]/1e3),a+r[0].length):-1}function rH(e,t,a){var r=Uq.exec(t.slice(a,a+1));return r?a+r[0].length:-1}function sH(e,t,a){var r=ea.exec(t.slice(a));return r?(e.Q=+r[0],a+r[0].length):-1}function iH(e,t,a){var r=ea.exec(t.slice(a));return r?(e.s=+r[0],a+r[0].length):-1}function XM(e,t){return Et(e.getDate(),t,2)}function lH(e,t){return Et(e.getHours(),t,2)}function oH(e,t){return Et(e.getHours()%12||12,t,2)}function cH(e,t){return Et(1+Ju.count(hi(e),e),t,3)}function ak(e,t){return Et(e.getMilliseconds(),t,3)}function dH(e,t){return ak(e,t)+"000"}function uH(e,t){return Et(e.getMonth()+1,t,2)}function mH(e,t){return Et(e.getMinutes(),t,2)}function fH(e,t){return Et(e.getSeconds(),t,2)}function hH(e){var t=e.getDay();return t===0?7:t}function pH(e,t){return Et(Yp.count(hi(e)-1,e),t,2)}function rk(e){var t=e.getDay();return t>=4||t===0?Ec(e):Ec.ceil(e)}function xH(e,t){return e=rk(e),Et(Ec.count(hi(e),e)+(hi(e).getDay()===4),t,2)}function gH(e){return e.getDay()}function yH(e,t){return Et(Xh.count(hi(e)-1,e),t,2)}function vH(e,t){return Et(e.getFullYear()%100,t,2)}function bH(e,t){return e=rk(e),Et(e.getFullYear()%100,t,2)}function jH(e,t){return Et(e.getFullYear()%1e4,t,4)}function NH(e,t){var a=e.getDay();return e=a>=4||a===0?Ec(e):Ec.ceil(e),Et(e.getFullYear()%1e4,t,4)}function wH(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Et(t/60|0,"0",2)+Et(t%60,"0",2)}function QM(e,t){return Et(e.getUTCDate(),t,2)}function SH(e,t){return Et(e.getUTCHours(),t,2)}function AH(e,t){return Et(e.getUTCHours()%12||12,t,2)}function CH(e,t){return Et(1+Wp.count(pi(e),e),t,3)}function sk(e,t){return Et(e.getUTCMilliseconds(),t,3)}function MH(e,t){return sk(e,t)+"000"}function DH(e,t){return Et(e.getUTCMonth()+1,t,2)}function OH(e,t){return Et(e.getUTCMinutes(),t,2)}function EH(e,t){return Et(e.getUTCSeconds(),t,2)}function kH(e){var t=e.getUTCDay();return t===0?7:t}function PH(e,t){return Et(Gp.count(pi(e)-1,e),t,2)}function ik(e){var t=e.getUTCDay();return t>=4||t===0?kc(e):kc.ceil(e)}function RH(e,t){return e=ik(e),Et(kc.count(pi(e),e)+(pi(e).getUTCDay()===4),t,2)}function _H(e){return e.getUTCDay()}function TH(e,t){return Et(Qh.count(pi(e)-1,e),t,2)}function LH(e,t){return Et(e.getUTCFullYear()%100,t,2)}function IH(e,t){return e=ik(e),Et(e.getUTCFullYear()%100,t,2)}function zH(e,t){return Et(e.getUTCFullYear()%1e4,t,4)}function $H(e,t){var a=e.getUTCDay();return e=a>=4||a===0?kc(e):kc.ceil(e),Et(e.getUTCFullYear()%1e4,t,4)}function BH(){return"+0000"}function JM(){return"%"}function e3(e){return+e}function t3(e){return Math.floor(+e/1e3)}var oc,lk,ok;FH({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FH(e){return oc=Fq(e),lk=oc.format,oc.parse,ok=oc.utcFormat,oc.utcParse,oc}function UH(e){return new Date(e)}function qH(e){return e instanceof Date?+e:+new Date(+e)}function m1(e,t,a,r,s,l,c,d,m,f){var h=Qj(),g=h.invert,v=h.domain,y=f(".%L"),j=f(":%S"),b=f("%I:%M"),S=f("%I %p"),M=f("%a %d"),w=f("%b %d"),A=f("%B"),O=f("%Y");function D(k){return(m(k)<k?y:d(k)<k?j:c(k)<k?b:l(k)<k?S:r(k)<k?s(k)<k?M:w:a(k)<k?A:O)(k)}return h.invert=function(k){return new Date(g(k))},h.domain=function(k){return arguments.length?v(Array.from(k,qH)):v().map(UH)},h.ticks=function(k){var _=v();return e(_[0],_[_.length-1],k??10)},h.tickFormat=function(k,_){return _==null?D:f(_)},h.nice=function(k){var _=v();return(!k||typeof k.range!="function")&&(k=t(_[0],_[_.length-1],k??10)),k?v(YE(_,k)):h},h.copy=function(){return Qu(h,m1(e,t,a,r,s,l,c,d,m,f))},h}function HH(){return Ir.apply(m1($q,Bq,hi,d1,Yp,Ju,o1,i1,Fl,lk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function VH(){return Ir.apply(m1(Iq,zq,pi,u1,Gp,Wp,c1,l1,Fl,ok).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zp(){var e=0,t=1,a,r,s,l,c=ba,d=!1,m;function f(g){return g==null||isNaN(g=+g)?m:c(s===0?.5:(g=(l(g)-a)*s,d?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t]=g,a=l(e=+e),r=l(t=+t),s=a===r?0:1/(r-a),f):[e,t]},f.clamp=function(g){return arguments.length?(d=!!g,f):d},f.interpolator=function(g){return arguments.length?(c=g,f):c};function h(g){return function(v){var y,j;return arguments.length?([y,j]=v,c=g(y,j),f):[c(0),c(1)]}}return f.range=h(Ic),f.rangeRound=h(Xj),f.unknown=function(g){return arguments.length?(m=g,f):m},function(g){return l=g,a=g(e),r=g(t),s=a===r?0:1/(r-a),f}}function ml(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ck(){var e=ul(Zp()(ba));return e.copy=function(){return ml(e,ck())},Si.apply(e,arguments)}function dk(){var e=t1(Zp()).domain([1,10]);return e.copy=function(){return ml(e,dk()).base(e.base())},Si.apply(e,arguments)}function uk(){var e=n1(Zp());return e.copy=function(){return ml(e,uk()).constant(e.constant())},Si.apply(e,arguments)}function f1(){var e=a1(Zp());return e.copy=function(){return ml(e,f1()).exponent(e.exponent())},Si.apply(e,arguments)}function KH(){return f1.apply(null,arguments).exponent(.5)}function mk(){var e=[],t=ba;function a(r){if(r!=null&&!isNaN(r=+r))return t((Zu(e,r,1)-1)/(e.length-1))}return a.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(il),a},a.interpolator=function(r){return arguments.length?(t=r,a):t},a.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},a.quantiles=function(r){return Array.from({length:r+1},(s,l)=>kU(e,l/r))},a.copy=function(){return mk(t).domain(e)},Si.apply(a,arguments)}function Xp(){var e=0,t=.5,a=1,r=1,s,l,c,d,m,f=ba,h,g=!1,v;function y(b){return isNaN(b=+b)?v:(b=.5+((b=+h(b))-l)*(r*b<r*l?d:m),f(g?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([e,t,a]=b,s=h(e=+e),l=h(t=+t),c=h(a=+a),d=s===l?0:.5/(l-s),m=l===c?0:.5/(c-l),r=l<s?-1:1,y):[e,t,a]},y.clamp=function(b){return arguments.length?(g=!!b,y):g},y.interpolator=function(b){return arguments.length?(f=b,y):f};function j(b){return function(S){var M,w,A;return arguments.length?([M,w,A]=S,f=rq(b,[M,w,A]),y):[f(0),f(.5),f(1)]}}return y.range=j(Ic),y.rangeRound=j(Xj),y.unknown=function(b){return arguments.length?(v=b,y):v},function(b){return h=b,s=b(e),l=b(t),c=b(a),d=s===l?0:.5/(l-s),m=l===c?0:.5/(c-l),r=l<s?-1:1,y}}function fk(){var e=ul(Xp()(ba));return e.copy=function(){return ml(e,fk())},Si.apply(e,arguments)}function hk(){var e=t1(Xp()).domain([.1,1,10]);return e.copy=function(){return ml(e,hk()).base(e.base())},Si.apply(e,arguments)}function pk(){var e=n1(Xp());return e.copy=function(){return ml(e,pk()).constant(e.constant())},Si.apply(e,arguments)}function h1(){var e=a1(Xp());return e.copy=function(){return ml(e,h1()).exponent(e.exponent())},Si.apply(e,arguments)}function WH(){return h1.apply(null,arguments).exponent(.5)}const su=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yj,scaleDiverging:fk,scaleDivergingLog:hk,scaleDivergingPow:h1,scaleDivergingSqrt:WH,scaleDivergingSymlog:pk,scaleIdentity:WE,scaleImplicit:Db,scaleLinear:KE,scaleLog:GE,scaleOrdinal:Wj,scalePoint:_U,scalePow:r1,scaleQuantile:QE,scaleQuantize:JE,scaleRadial:XE,scaleSequential:ck,scaleSequentialLog:dk,scaleSequentialPow:f1,scaleSequentialQuantile:mk,scaleSequentialSqrt:KH,scaleSequentialSymlog:uk,scaleSqrt:Mq,scaleSymlog:ZE,scaleThreshold:ek,scaleTime:HH,scaleUtc:VH,tickFormat:VE},Symbol.toStringTag,{value:"Module"}));var Ai=e=>e.chartData,zc=te([Ai],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),$c=(e,t,a,r)=>r?zc(e):Ai(e);function ol(e){if(Array.isArray(e)&&e.length===2){var[t,a]=e;if(sn(t)&&sn(a))return!0}return!1}function n3(e,t,a){return a?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function xk(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[a,r]=e,s,l;if(sn(a))s=a;else if(typeof a=="function")return;if(sn(r))l=r;else if(typeof r=="function")return;var c=[s,l];if(ol(c))return c}}function YH(e,t,a){if(!(!a&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,a);if(ol(r))return n3(r,t,a)}catch{}if(Array.isArray(e)&&e.length===2){var[s,l]=e,c,d;if(s==="auto")t!=null&&(c=Math.min(...t));else if(Pe(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t?.[0]))}catch{}else if(typeof s=="string"&&EC.test(s)){var m=EC.exec(s);if(m==null||t==null)c=void 0;else{var f=+m[1];c=t[0]-f}}else c=t?.[0];if(l==="auto")t!=null&&(d=Math.max(...t));else if(Pe(l))d=l;else if(typeof l=="function")try{t!=null&&(d=l(t?.[1]))}catch{}else if(typeof l=="string"&&kC.test(l)){var h=kC.exec(l);if(h==null||t==null)d=void 0;else{var g=+h[1];d=t[1]+g}}else d=t?.[1];var v=[c,d];if(ol(v))return t==null?v:n3(v,t,a)}}}var Bc=1e9,GH={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},x1,dn=!0,kr="[DecimalError] ",Yl=kr+"Invalid argument: ",p1=kr+"Exponent out of range: ",Fc=Math.floor,Il=Math.pow,ZH=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qa,Xn=1e7,rn=7,gk=9007199254740991,Jh=Fc(gk/rn),_e={};_e.absoluteValue=_e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};_e.comparedTo=_e.cmp=function(e){var t,a,r,s,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(r=l.d.length,s=e.d.length,t=0,a=r<s?r:s;t<a;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return r===s?0:r>s^l.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var e=this,t=e.d.length-1,a=(t-e.e)*rn;if(t=e.d[t],t)for(;t%10==0;t/=10)a--;return a<0?0:a};_e.dividedBy=_e.div=function(e){return si(this,new this.constructor(e))};_e.dividedToIntegerBy=_e.idiv=function(e){var t=this,a=t.constructor;return Kt(si(t,new a(e),0,1),a.precision)};_e.equals=_e.eq=function(e){return!this.cmp(e)};_e.exponent=function(){return Ln(this)};_e.greaterThan=_e.gt=function(e){return this.cmp(e)>0};_e.greaterThanOrEqualTo=_e.gte=function(e){return this.cmp(e)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(e){return this.cmp(e)<0};_e.lessThanOrEqualTo=_e.lte=function(e){return this.cmp(e)<1};_e.logarithm=_e.log=function(e){var t,a=this,r=a.constructor,s=r.precision,l=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Qa))throw Error(kr+"NaN");if(a.s<1)throw Error(kr+(a.s?"NaN":"-Infinity"));return a.eq(Qa)?new r(0):(dn=!1,t=si(Eu(a,l),Eu(e,l),l),dn=!0,Kt(t,s))};_e.minus=_e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bk(t,e):yk(t,(e.s=-e.s,e))};_e.modulo=_e.mod=function(e){var t,a=this,r=a.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(kr+"NaN");return a.s?(dn=!1,t=si(a,e,0,1).times(e),dn=!0,a.minus(t)):Kt(new r(a),s)};_e.naturalExponential=_e.exp=function(){return vk(this)};_e.naturalLogarithm=_e.ln=function(){return Eu(this)};_e.negated=_e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};_e.plus=_e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yk(t,e):bk(t,(e.s=-e.s,e))};_e.precision=_e.sd=function(e){var t,a,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Yl+e);if(t=Ln(s)+1,r=s.d.length-1,a=r*rn+1,r=s.d[r],r){for(;r%10==0;r/=10)a--;for(r=s.d[0];r>=10;r/=10)a++}return e&&t>a?t:a};_e.squareRoot=_e.sqrt=function(){var e,t,a,r,s,l,c,d=this,m=d.constructor;if(d.s<1){if(!d.s)return new m(0);throw Error(kr+"NaN")}for(e=Ln(d),dn=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=ds(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Fc((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new m(t)):r=new m(s.toString()),a=m.precision,s=c=a+3;;)if(l=r,r=l.plus(si(d,l,c+2)).times(.5),ds(l.d).slice(0,c)===(t=ds(r.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(Kt(l,a+1,0),l.times(l).eq(d)){r=l;break}}else if(t!="9999")break;c+=4}return dn=!0,Kt(r,a)};_e.times=_e.mul=function(e){var t,a,r,s,l,c,d,m,f,h=this,g=h.constructor,v=h.d,y=(e=new g(e)).d;if(!h.s||!e.s)return new g(0);for(e.s*=h.s,a=h.e+e.e,m=v.length,f=y.length,m<f&&(l=v,v=y,y=l,c=m,m=f,f=c),l=[],c=m+f,r=c;r--;)l.push(0);for(r=f;--r>=0;){for(t=0,s=m+r;s>r;)d=l[s]+y[r]*v[s-r-1]+t,l[s--]=d%Xn|0,t=d/Xn|0;l[s]=(l[s]+t)%Xn|0}for(;!l[--c];)l.pop();return t?++a:l.shift(),e.d=l,e.e=a,dn?Kt(e,g.precision):e};_e.toDecimalPlaces=_e.todp=function(e,t){var a=this,r=a.constructor;return a=new r(a),e===void 0?a:(Ns(e,0,Bc),t===void 0?t=r.rounding:Ns(t,0,8),Kt(a,e+Ln(a)+1,t))};_e.toExponential=function(e,t){var a,r=this,s=r.constructor;return e===void 0?a=to(r,!0):(Ns(e,0,Bc),t===void 0?t=s.rounding:Ns(t,0,8),r=Kt(new s(r),e+1,t),a=to(r,!0,e+1)),a};_e.toFixed=function(e,t){var a,r,s=this,l=s.constructor;return e===void 0?to(s):(Ns(e,0,Bc),t===void 0?t=l.rounding:Ns(t,0,8),r=Kt(new l(s),e+Ln(s)+1,t),a=to(r.abs(),!1,e+Ln(r)+1),s.isneg()&&!s.isZero()?"-"+a:a)};_e.toInteger=_e.toint=function(){var e=this,t=e.constructor;return Kt(new t(e),Ln(e)+1,t.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(e){var t,a,r,s,l,c,d=this,m=d.constructor,f=12,h=+(e=new m(e));if(!e.s)return new m(Qa);if(d=new m(d),!d.s){if(e.s<1)throw Error(kr+"Infinity");return d}if(d.eq(Qa))return d;if(r=m.precision,e.eq(Qa))return Kt(d,r);if(t=e.e,a=e.d.length-1,c=t>=a,l=d.s,c){if((a=h<0?-h:h)<=gk){for(s=new m(Qa),t=Math.ceil(r/rn+4),dn=!1;a%2&&(s=s.times(d),r3(s.d,t)),a=Fc(a/2),a!==0;)d=d.times(d),r3(d.d,t);return dn=!0,e.s<0?new m(Qa).div(s):Kt(s,r)}}else if(l<0)throw Error(kr+"NaN");return l=l<0&&e.d[Math.max(t,a)]&1?-1:1,d.s=1,dn=!1,s=e.times(Eu(d,r+f)),dn=!0,s=vk(s),s.s=l,s};_e.toPrecision=function(e,t){var a,r,s=this,l=s.constructor;return e===void 0?(a=Ln(s),r=to(s,a<=l.toExpNeg||a>=l.toExpPos)):(Ns(e,1,Bc),t===void 0?t=l.rounding:Ns(t,0,8),s=Kt(new l(s),e,t),a=Ln(s),r=to(s,e<=a||a<=l.toExpNeg,e)),r};_e.toSignificantDigits=_e.tosd=function(e,t){var a=this,r=a.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ns(e,1,Bc),t===void 0?t=r.rounding:Ns(t,0,8)),Kt(new r(a),e,t)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ln(e),a=e.constructor;return to(e,t<=a.toExpNeg||t>=a.toExpPos)};function yk(e,t){var a,r,s,l,c,d,m,f,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),dn?Kt(t,g):t;if(m=e.d,f=t.d,c=e.e,s=t.e,m=m.slice(),l=c-s,l){for(l<0?(r=m,l=-l,d=f.length):(r=f,s=c,d=m.length),c=Math.ceil(g/rn),d=c>d?c+1:d+1,l>d&&(l=d,r.length=1),r.reverse();l--;)r.push(0);r.reverse()}for(d=m.length,l=f.length,d-l<0&&(l=d,r=f,f=m,m=r),a=0;l;)a=(m[--l]=m[l]+f[l]+a)/Xn|0,m[l]%=Xn;for(a&&(m.unshift(a),++s),d=m.length;m[--d]==0;)m.pop();return t.d=m,t.e=s,dn?Kt(t,g):t}function Ns(e,t,a){if(e!==~~e||e<t||e>a)throw Error(Yl+e)}function ds(e){var t,a,r,s=e.length-1,l="",c=e[0];if(s>0){for(l+=c,t=1;t<s;t++)r=e[t]+"",a=rn-r.length,a&&(l+=tl(a)),l+=r;c=e[t],r=c+"",a=rn-r.length,a&&(l+=tl(a))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var si=(function(){function e(r,s){var l,c=0,d=r.length;for(r=r.slice();d--;)l=r[d]*s+c,r[d]=l%Xn|0,c=l/Xn|0;return c&&r.unshift(c),r}function t(r,s,l,c){var d,m;if(l!=c)m=l>c?1:-1;else for(d=m=0;d<l;d++)if(r[d]!=s[d]){m=r[d]>s[d]?1:-1;break}return m}function a(r,s,l){for(var c=0;l--;)r[l]-=c,c=r[l]<s[l]?1:0,r[l]=c*Xn+r[l]-s[l];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,l,c){var d,m,f,h,g,v,y,j,b,S,M,w,A,O,D,k,_,E,P=r.constructor,z=r.s==s.s?1:-1,L=r.d,I=s.d;if(!r.s)return new P(r);if(!s.s)throw Error(kr+"Division by zero");for(m=r.e-s.e,_=I.length,D=L.length,y=new P(z),j=y.d=[],f=0;I[f]==(L[f]||0);)++f;if(I[f]>(L[f]||0)&&--m,l==null?w=l=P.precision:c?w=l+(Ln(r)-Ln(s))+1:w=l,w<0)return new P(0);if(w=w/rn+2|0,f=0,_==1)for(h=0,I=I[0],w++;(f<D||h)&&w--;f++)A=h*Xn+(L[f]||0),j[f]=A/I|0,h=A%I|0;else{for(h=Xn/(I[0]+1)|0,h>1&&(I=e(I,h),L=e(L,h),_=I.length,D=L.length),O=_,b=L.slice(0,_),S=b.length;S<_;)b[S++]=0;E=I.slice(),E.unshift(0),k=I[0],I[1]>=Xn/2&&++k;do h=0,d=t(I,b,_,S),d<0?(M=b[0],_!=S&&(M=M*Xn+(b[1]||0)),h=M/k|0,h>1?(h>=Xn&&(h=Xn-1),g=e(I,h),v=g.length,S=b.length,d=t(g,b,v,S),d==1&&(h--,a(g,_<v?E:I,v))):(h==0&&(d=h=1),g=I.slice()),v=g.length,v<S&&g.unshift(0),a(b,g,S),d==-1&&(S=b.length,d=t(I,b,_,S),d<1&&(h++,a(b,_<S?E:I,S))),S=b.length):d===0&&(h++,b=[0]),j[f++]=h,d&&b[0]?b[S++]=L[O]||0:(b=[L[O]],S=1);while((O++<D||b[0]!==void 0)&&w--)}return j[0]||j.shift(),y.e=m,Kt(y,c?l+Ln(y)+1:l)}})();function vk(e,t){var a,r,s,l,c,d,m=0,f=0,h=e.constructor,g=h.precision;if(Ln(e)>16)throw Error(p1+Ln(e));if(!e.s)return new h(Qa);for(dn=!1,d=g,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),f+=5;for(r=Math.log(Il(2,f))/Math.LN10*2+5|0,d+=r,a=s=l=new h(Qa),h.precision=d;;){if(s=Kt(s.times(e),d),a=a.times(++m),c=l.plus(si(s,a,d)),ds(c.d).slice(0,d)===ds(l.d).slice(0,d)){for(;f--;)l=Kt(l.times(l),d);return h.precision=g,t==null?(dn=!0,Kt(l,g)):l}l=c}}function Ln(e){for(var t=e.e*rn,a=e.d[0];a>=10;a/=10)t++;return t}function rv(e,t,a){if(t>e.LN10.sd())throw dn=!0,a&&(e.precision=a),Error(kr+"LN10 precision limit exceeded");return Kt(new e(e.LN10),t)}function tl(e){for(var t="";e--;)t+="0";return t}function Eu(e,t){var a,r,s,l,c,d,m,f,h,g=1,v=10,y=e,j=y.d,b=y.constructor,S=b.precision;if(y.s<1)throw Error(kr+(y.s?"NaN":"-Infinity"));if(y.eq(Qa))return new b(0);if(t==null?(dn=!1,f=S):f=t,y.eq(10))return t==null&&(dn=!0),rv(b,f);if(f+=v,b.precision=f,a=ds(j),r=a.charAt(0),l=Ln(y),Math.abs(l)<15e14){for(;r<7&&r!=1||r==1&&a.charAt(1)>3;)y=y.times(e),a=ds(y.d),r=a.charAt(0),g++;l=Ln(y),r>1?(y=new b("0."+a),l++):y=new b(r+"."+a.slice(1))}else return m=rv(b,f+2,S).times(l+""),y=Eu(new b(r+"."+a.slice(1)),f-v).plus(m),b.precision=S,t==null?(dn=!0,Kt(y,S)):y;for(d=c=y=si(y.minus(Qa),y.plus(Qa),f),h=Kt(y.times(y),f),s=3;;){if(c=Kt(c.times(h),f),m=d.plus(si(c,new b(s),f)),ds(m.d).slice(0,f)===ds(d.d).slice(0,f))return d=d.times(2),l!==0&&(d=d.plus(rv(b,f+2,S).times(l+""))),d=si(d,new b(g),f),b.precision=S,t==null?(dn=!0,Kt(d,S)):d;d=m,s+=2}}function a3(e,t){var a,r,s;for((a=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(a<0&&(a=r),a+=+t.slice(r+1),t=t.substring(0,r)):a<0&&(a=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,a=a-r-1,e.e=Fc(a/rn),e.d=[],r=(a+1)%rn,a<0&&(r+=rn),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=rn;r<s;)e.d.push(+t.slice(r,r+=rn));t=t.slice(r),r=rn-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),dn&&(e.e>Jh||e.e<-Jh))throw Error(p1+a)}else e.s=0,e.e=0,e.d=[0];return e}function Kt(e,t,a){var r,s,l,c,d,m,f,h,g=e.d;for(c=1,l=g[0];l>=10;l/=10)c++;if(r=t-c,r<0)r+=rn,s=t,f=g[h=0];else{if(h=Math.ceil((r+1)/rn),l=g.length,h>=l)return e;for(f=l=g[h],c=1;l>=10;l/=10)c++;r%=rn,s=r-rn+c}if(a!==void 0&&(l=Il(10,c-s-1),d=f/l%10|0,m=t<0||g[h+1]!==void 0||f%l,m=a<4?(d||m)&&(a==0||a==(e.s<0?3:2)):d>5||d==5&&(a==4||m||a==6&&(r>0?s>0?f/Il(10,c-s):0:g[h-1])%10&1||a==(e.s<0?8:7))),t<1||!g[0])return m?(l=Ln(e),g.length=1,t=t-l-1,g[0]=Il(10,(rn-t%rn)%rn),e.e=Fc(-t/rn)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=h,l=1,h--):(g.length=h+1,l=Il(10,rn-r),g[h]=s>0?(f/Il(10,c-s)%Il(10,s)|0)*l:0),m)for(;;)if(h==0){(g[0]+=l)==Xn&&(g[0]=1,++e.e);break}else{if(g[h]+=l,g[h]!=Xn)break;g[h--]=0,l=1}for(r=g.length;g[--r]===0;)g.pop();if(dn&&(e.e>Jh||e.e<-Jh))throw Error(p1+Ln(e));return e}function bk(e,t){var a,r,s,l,c,d,m,f,h,g,v=e.constructor,y=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),dn?Kt(t,y):t;if(m=e.d,g=t.d,r=t.e,f=e.e,m=m.slice(),c=f-r,c){for(h=c<0,h?(a=m,c=-c,d=g.length):(a=g,r=f,d=m.length),s=Math.max(Math.ceil(y/rn),d)+2,c>s&&(c=s,a.length=1),a.reverse(),s=c;s--;)a.push(0);a.reverse()}else{for(s=m.length,d=g.length,h=s<d,h&&(d=s),s=0;s<d;s++)if(m[s]!=g[s]){h=m[s]<g[s];break}c=0}for(h&&(a=m,m=g,g=a,t.s=-t.s),d=m.length,s=g.length-d;s>0;--s)m[d++]=0;for(s=g.length;s>c;){if(m[--s]<g[s]){for(l=s;l&&m[--l]===0;)m[l]=Xn-1;--m[l],m[s]+=Xn}m[s]-=g[s]}for(;m[--d]===0;)m.pop();for(;m[0]===0;m.shift())--r;return m[0]?(t.d=m,t.e=r,dn?Kt(t,y):t):new v(0)}function to(e,t,a){var r,s=Ln(e),l=ds(e.d),c=l.length;return t?(a&&(r=a-c)>0?l=l.charAt(0)+"."+l.slice(1)+tl(r):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(s<0?"e":"e+")+s):s<0?(l="0."+tl(-s-1)+l,a&&(r=a-c)>0&&(l+=tl(r))):s>=c?(l+=tl(s+1-c),a&&(r=a-s-1)>0&&(l=l+"."+tl(r))):((r=s+1)<c&&(l=l.slice(0,r)+"."+l.slice(r)),a&&(r=a-c)>0&&(s+1===c&&(l+="."),l+=tl(r))),e.s<0?"-"+l:l}function r3(e,t){if(e.length>t)return e.length=t,!0}function jk(e){var t,a,r;function s(l){var c=this;if(!(c instanceof s))return new s(l);if(c.constructor=s,l instanceof s){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(Yl+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return a3(c,l.toString())}else if(typeof l!="string")throw Error(Yl+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,ZH.test(l))a3(c,l);else throw Error(Yl+l)}if(s.prototype=_e,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=jk,s.config=s.set=XH,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(a=r[t++])||(e[a]=this[a]);return s.config(e),s}function XH(e){if(!e||typeof e!="object")throw Error(kr+"Object expected");var t,a,r,s=["precision",1,Bc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[a=s[t]])!==void 0)if(Fc(r)===r&&r>=s[t+1]&&r<=s[t+2])this[a]=r;else throw Error(Yl+a+": "+r);if((r=e[a="LN10"])!==void 0)if(r==Math.LN10)this[a]=new this(r);else throw Error(Yl+a+": "+r);return this}var x1=jk(GH);Qa=new x1(1);const $t=x1;var QH=e=>e,Nk={},wk=e=>e===Nk,s3=e=>function t(){return arguments.length===0||arguments.length===1&&wk(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Sk=(e,t)=>e===1?t:s3(function(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];var l=r.filter(c=>c!==Nk).length;return l>=e?t(...r):Sk(e-l,s3(function(){for(var c=arguments.length,d=new Array(c),m=0;m<c;m++)d[m]=arguments[m];var f=r.map(h=>wk(h)?d.shift():h);return t(...f,...d)}))}),JH=e=>Sk(e.length,e),Pb=(e,t)=>{for(var a=[],r=e;r<t;++r)a[r-e]=r;return a},eV=JH((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(a=>t[a]).map(e)),tV=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];if(!a.length)return QH;var s=a.reverse(),l=s[0],c=s.slice(1);return function(){return c.reduce((d,m)=>m(d),l(...arguments))}},Rb=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function Ak(e){var t;return e===0?t=1:t=Math.floor(new $t(e).abs().log(10).toNumber())+1,t}function Ck(e,t,a){for(var r=new $t(e),s=0,l=[];r.lt(t)&&s<1e5;)l.push(r.toNumber()),r=r.add(a),s++;return l}var Mk=e=>{var[t,a]=e,[r,s]=[t,a];return t>a&&([r,s]=[a,t]),[r,s]},Dk=(e,t,a)=>{if(e.lte(0))return new $t(0);var r=Ak(e.toNumber()),s=new $t(10).pow(r),l=e.div(s),c=r!==1?.05:.1,d=new $t(Math.ceil(l.div(c).toNumber())).add(a).mul(c),m=d.mul(s);return t?new $t(m.toNumber()):new $t(Math.ceil(m.toNumber()))},nV=(e,t,a)=>{var r=new $t(1),s=new $t(e);if(!s.isint()&&a){var l=Math.abs(e);l<1?(r=new $t(10).pow(Ak(e)-1),s=new $t(Math.floor(s.div(r).toNumber())).mul(r)):l>1&&(s=new $t(Math.floor(e)))}else e===0?s=new $t(Math.floor((t-1)/2)):a||(s=new $t(Math.floor(e)));var c=Math.floor((t-1)/2),d=tV(eV(m=>s.add(new $t(m-c).mul(r)).toNumber()),Pb);return d(0,t)},Ok=function(t,a,r,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((a-t)/(r-1)))return{step:new $t(0),tickMin:new $t(0),tickMax:new $t(0)};var c=Dk(new $t(a).sub(t).div(r-1),s,l),d;t<=0&&a>=0?d=new $t(0):(d=new $t(t).add(a).div(2),d=d.sub(new $t(d).mod(c)));var m=Math.ceil(d.sub(t).div(c).toNumber()),f=Math.ceil(new $t(a).sub(d).div(c).toNumber()),h=m+f+1;return h>r?Ok(t,a,r,s,l+1):(h<r&&(f=a>0?f+(r-h):f,m=a>0?m:m+(r-h)),{step:c,tickMin:d.sub(new $t(m).mul(c)),tickMax:d.add(new $t(f).mul(c))})},aV=function(t){var[a,r]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(s,2),[d,m]=Mk([a,r]);if(d===-1/0||m===1/0){var f=m===1/0?[d,...Pb(0,s-1).map(()=>1/0)]:[...Pb(0,s-1).map(()=>-1/0),m];return a>r?Rb(f):f}if(d===m)return nV(d,s,l);var{step:h,tickMin:g,tickMax:v}=Ok(d,m,c,l,0),y=Ck(g,v.add(new $t(.1).mul(h)),h);return a>r?Rb(y):y},rV=function(t,a){var[r,s]=t,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=Mk([r,s]);if(c===-1/0||d===1/0)return[r,s];if(c===d)return[c];var m=Math.max(a,2),f=Dk(new $t(d).sub(c).div(m-1),l,0),h=[...Ck(new $t(c),new $t(d),f),d];return l===!1&&(h=h.map(g=>Math.round(g))),r>s?Rb(h):h},Qp=e=>e.rootProps.maxBarSize,Ek=e=>e.rootProps.barGap,g1=e=>e.rootProps.barCategoryGap,kk=e=>e.rootProps.barSize,Uc=e=>e.rootProps.stackOffset,y1=e=>e.rootProps.reverseStackOrder,v1=e=>e.options.chartName,b1=e=>e.rootProps.syncId,Pk=e=>e.rootProps.syncMethod,j1=e=>e.options.eventEmitter,sV=e=>e.rootProps.baseValue,Lt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ls={allowDecimals:!1,allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category",zIndex:Lt.axis},Pa={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number",zIndex:Lt.axis},Jp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},iV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ls.angleAxisId,includeHidden:!1,name:void 0,reversed:ls.reversed,scale:ls.scale,tick:ls.tick,tickCount:void 0,ticks:void 0,type:ls.type,unit:void 0},lV={allowDataOverflow:Pa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Pa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pa.scale,tick:Pa.tick,tickCount:Pa.tickCount,ticks:void 0,type:Pa.type,unit:void 0},oV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ls.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ls.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ls.scale,tick:ls.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},cV={allowDataOverflow:Pa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Pa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pa.scale,tick:Pa.tick,tickCount:Pa.tickCount,ticks:void 0,type:"category",unit:void 0},mo=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?oV:iV,qc=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?cV:lV,ex=e=>e.polarOptions,N1=te([bi,ji,Fn],EE),Rk=te([ex,N1],(e,t)=>{if(e!=null)return xa(e.innerRadius,t,0)}),_k=te([ex,N1],(e,t)=>{if(e!=null)return xa(e.outerRadius,t,t*.8)}),dV=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:a}=e;return[t,a]},Tk=te([ex],dV),uV=te([mo,Tk],Jp),Lk=te([N1,Rk,_k],(e,t,a)=>{if(!(e==null||t==null||a==null))return[t,a]}),mV=te([qc,Lk],Jp),fo=te([et,ex,Rk,_k,bi,ji],(e,t,a,r,s,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||a==null||r==null)){var{cx:c,cy:d,startAngle:m,endAngle:f}=t;return{cx:xa(c,s,s/2),cy:xa(d,l,l/2),innerRadius:a,outerRadius:r,startAngle:m,endAngle:f,clockWise:!1}}}),Yt=(e,t)=>t,em=(e,t,a)=>a;function tx(e){return e?.id}function w1(e,t,a){var{chartData:r=[]}=t,{allowDuplicatedCategory:s,dataKey:l}=a,c=new Map;return e.forEach(d=>{var m,f=(m=d.data)!==null&&m!==void 0?m:r;if(!(f==null||f.length===0)){var h=tx(d);f.forEach((g,v)=>{var y=l==null||s?v:String(bt(g,l,null)),j=bt(g,d.dataKey,0),b;c.has(y)?b=c.get(y):b={},Object.assign(b,{[h]:j}),c.set(y,b)})}}),Array.from(c.values())}function tm(e){return e.stackId!=null&&e.dataKey!=null}var nx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ax(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function fV(e,t){if(e.length===t.length){for(var a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}return!1}var qn=e=>{var t=et(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Hc=e=>e.tooltip.settings.axisId;function i3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ep(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?i3(Object(a),!0).forEach(function(r){hV(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function hV(e,t,a){return(t=pV(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function pV(e){var t=xV(e,"string");return typeof t=="symbol"?t:t+""}function xV(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _b=[0,"auto"],Gn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ik=(e,t)=>e.cartesianAxis.xAxis[t],Ci=(e,t)=>{var a=Ik(e,t);return a??Gn},Zn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:_b,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Wu},zk=(e,t)=>e.cartesianAxis.yAxis[t],Mi=(e,t)=>{var a=zk(e,t);return a??Zn},ei={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},S1=(e,t)=>{var a=e.cartesianAxis.zAxis[t];return a??ei},hn=(e,t,a)=>{switch(t){case"xAxis":return Ci(e,a);case"yAxis":return Mi(e,a);case"zAxis":return S1(e,a);case"angleAxis":return mo(e,a);case"radiusAxis":return qc(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},gV=(e,t,a)=>{switch(t){case"xAxis":return Ci(e,a);case"yAxis":return Mi(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},Vc=(e,t,a)=>{switch(t){case"xAxis":return Ci(e,a);case"yAxis":return Mi(e,a);case"angleAxis":return mo(e,a);case"radiusAxis":return qc(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},$k=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function A1(e,t){return a=>{switch(e){case"xAxis":return"xAxisId"in a&&a.xAxisId===t;case"yAxis":return"yAxisId"in a&&a.yAxisId===t;case"zAxis":return"zAxisId"in a&&a.zAxisId===t;case"angleAxis":return"angleAxisId"in a&&a.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in a&&a.radiusAxisId===t;default:return!1}}}var Kc=e=>e.graphicalItems.cartesianItems,yV=te([Yt,em],A1),C1=(e,t,a)=>e.filter(a).filter(r=>t?.includeHidden===!0?!0:!r.hide),nm=te([Kc,hn,yV],C1,{memoizeOptions:{resultEqualityCheck:ax}}),Bk=te([nm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(tm)),Fk=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),vV=te([nm],Fk),M1=e=>e.map(t=>t.data).filter(Boolean).flat(1),bV=te([nm],M1,{memoizeOptions:{resultEqualityCheck:ax}}),D1=(e,t)=>{var{chartData:a=[],dataStartIndex:r,dataEndIndex:s}=t;return e.length>0?e:a.slice(r,s+1)},O1=te([bV,$c],D1),E1=(e,t,a)=>t?.dataKey!=null?e.map(r=>({value:bt(r,t.dataKey)})):a.length>0?a.map(r=>r.dataKey).flatMap(r=>e.map(s=>({value:bt(s,r)}))):e.map(r=>({value:r})),rx=te([O1,hn,nm],E1);function Uk(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function mh(e){if(vs(e)||e instanceof Date){var t=Number(e);if(sn(t))return t}}function l3(e){if(Array.isArray(e)){var t=[mh(e[0]),mh(e[1])];return ol(t)?t:void 0}var a=mh(e);if(a!=null)return[a,a]}function xi(e){return e.map(mh).filter(gI)}function jV(e,t,a){return!a||typeof t!="number"||Or(t)?[]:a.length?xi(a.flatMap(r=>{var s=bt(e,r.dataKey),l,c;if(Array.isArray(s)?[l,c]=s:l=c=s,!(!sn(l)||!sn(c)))return[t-l,t+c]})):[]}var In=e=>{var t=qn(e),a=Hc(e);return Vc(e,t,a)},am=te([In],e=>e?.dataKey),NV=te([Bk,$c,In],w1),k1=(e,t,a,r)=>{var s={},l=t.reduce((c,d)=>(d.stackId==null||(c[d.stackId]==null&&(c[d.stackId]=[]),c[d.stackId].push(d)),c),s);return Object.fromEntries(Object.entries(l).map(c=>{var[d,m]=c,f=r?[...m].reverse():m,h=f.map(tx);return[d,{stackedData:q$(e,h,a),graphicalItems:f}]}))},ku=te([NV,Bk,Uc,y1],k1),qk=(e,t,a,r)=>{var{dataStartIndex:s,dataEndIndex:l}=t;if(r==null&&a!=="zAxis"){var c=K$(e,s,l);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},wV=te([hn],e=>e.allowDataOverflow),P1=e=>{var t;if(e==null||!("domain"in e))return _b;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var a=xi(e.ticks);return[Math.min(...a),Math.max(...a)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:_b},R1=te([hn],P1),_1=te([R1,wV],xk),SV=te([ku,Ai,Yt,_1],qk,{memoizeOptions:{resultEqualityCheck:nx}}),sx=e=>e.errorBars,AV=(e,t,a)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>Uk(a,r)),tp=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];var s=a.filter(Boolean);if(s.length!==0){var l=s.flat(),c=Math.min(...l),d=Math.max(...l);return[c,d]}},T1=(e,t,a,r,s)=>{var l,c;if(a.length>0&&e.forEach(d=>{a.forEach(m=>{var f,h,g=(f=r[m.id])===null||f===void 0?void 0:f.filter(M=>Uk(s,M)),v=bt(d,(h=t.dataKey)!==null&&h!==void 0?h:m.dataKey),y=jV(d,v,g);if(y.length>=2){var j=Math.min(...y),b=Math.max(...y);(l==null||j<l)&&(l=j),(c==null||b>c)&&(c=b)}var S=l3(v);S!=null&&(l=l==null?S[0]:Math.min(l,S[0]),c=c==null?S[1]:Math.max(c,S[1]))})}),t?.dataKey!=null&&e.forEach(d=>{var m=l3(bt(d,t.dataKey));m!=null&&(l=l==null?m[0]:Math.min(l,m[0]),c=c==null?m[1]:Math.max(c,m[1]))}),sn(l)&&sn(c))return[l,c]},CV=te([O1,hn,vV,sx,Yt],T1,{memoizeOptions:{resultEqualityCheck:nx}});function MV(e){var{value:t}=e;if(vs(t)||t instanceof Date)return t}var DV=(e,t,a)=>{var r=e.map(MV).filter(s=>s!=null);return a&&(t.dataKey==null||t.allowDuplicatedCategory&&dO(r))?TE(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Hk=e=>e.referenceElements.dots,Wc=(e,t,a)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===a:r.yAxisId===a),OV=te([Hk,Yt,em],Wc),Vk=e=>e.referenceElements.areas,EV=te([Vk,Yt,em],Wc),Kk=e=>e.referenceElements.lines,kV=te([Kk,Yt,em],Wc),Wk=(e,t)=>{var a=xi(e.map(r=>t==="xAxis"?r.x:r.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},PV=te(OV,Yt,Wk),Yk=(e,t)=>{var a=xi(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},RV=te([EV,Yt],Yk);function _V(e){var t;if(e.x!=null)return xi([e.x]);var a=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return a==null||a.length===0?[]:xi(a)}function TV(e){var t;if(e.y!=null)return xi([e.y]);var a=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return a==null||a.length===0?[]:xi(a)}var Gk=(e,t)=>{var a=e.flatMap(r=>t==="xAxis"?_V(r):TV(r));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},LV=te([kV,Yt],Gk),IV=te(PV,LV,RV,(e,t,a)=>tp(e,a,t)),L1=(e,t,a,r,s,l,c,d)=>{if(a!=null)return a;var m=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",f=m?tp(r,l,s):tp(l,s);return YH(t,f,e.allowDataOverflow)},zV=te([hn,R1,_1,SV,CV,IV,et,Yt],L1,{memoizeOptions:{resultEqualityCheck:nx}}),$V=[0,1],I1=(e,t,a,r,s,l,c)=>{if(!((e==null||a==null||a.length===0)&&c===void 0)){var{dataKey:d,type:m}=e,f=Lr(t,l);if(f&&d==null){var h;return TE(0,(h=a?.length)!==null&&h!==void 0?h:0)}return m==="category"?DV(r,e,f):s==="expand"?$V:c}},z1=te([hn,et,O1,rx,Uc,Yt,zV],I1),Zk=(e,t,a,r,s)=>{if(e!=null){var{scale:l,type:c}=e;if(l==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?"point":c==="category"?"band":"linear";if(typeof l=="string"){var d="scale".concat(Uu(l));return d in su?d:"point"}}},fl=te([hn,et,$k,v1,Yt],Zk);function BV(e){if(e!=null){if(e in su)return su[e]();var t="scale".concat(Uu(e));if(t in su)return su[t]()}}function ix(e,t,a,r){if(!(a==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(a).range(r);var s=BV(t);if(s!=null){var l=s.domain(a).range(r);return $$(l),l}}}var $1=(e,t,a)=>{var r=P1(t);if(!(a!=="auto"&&a!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ol(e))return aV(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ol(e))return rV(e,t.tickCount,t.allowDecimals)}},B1=te([z1,Vc,fl],$1),F1=(e,t,a,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&ol(t)&&Array.isArray(a)&&a.length>0){var s=t[0],l=a[0],c=t[1],d=a[a.length-1];return[Math.min(s,l),Math.max(c,d)]}return t},FV=te([hn,z1,B1,Yt],F1),UV=te(rx,hn,(e,t)=>{if(!(!t||t.type!=="number")){var a=1/0,r=Array.from(xi(e.map(d=>d.value))).sort((d,m)=>d-m);if(r.length<2)return 1/0;var s=r[r.length-1]-r[0];if(s===0)return 1/0;for(var l=0;l<r.length-1;l++){var c=r[l+1]-r[l];a=Math.min(a,c)}return a/s}}),Xk=te(UV,et,g1,Fn,(e,t,a,r)=>r,(e,t,a,r,s)=>{if(!sn(e))return 0;var l=t==="vertical"?r.height:r.width;if(s==="gap")return e*l/2;if(s==="no-gap"){var c=xa(a,e*l),d=e*l/2;return d-c-(d-c)/l*c}return 0}),qV=(e,t)=>{var a=Ci(e,t);return a==null||typeof a.padding!="string"?0:Xk(e,"xAxis",t,a.padding)},HV=(e,t)=>{var a=Mi(e,t);return a==null||typeof a.padding!="string"?0:Xk(e,"yAxis",t,a.padding)},VV=te(Ci,qV,(e,t)=>{var a,r;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((a=s.left)!==null&&a!==void 0?a:0)+t,right:((r=s.right)!==null&&r!==void 0?r:0)+t}}),KV=te(Mi,HV,(e,t)=>{var a,r;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((a=s.top)!==null&&a!==void 0?a:0)+t,bottom:((r=s.bottom)!==null&&r!==void 0?r:0)+t}}),WV=te([Fn,VV,Fp,Bp,(e,t,a)=>a],(e,t,a,r,s)=>{var{padding:l}=r;return s?[l.left,a.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),YV=te([Fn,et,KV,Fp,Bp,(e,t,a)=>a],(e,t,a,r,s,l)=>{var{padding:c}=s;return l?[r.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-a.bottom,e.top+a.top]:[e.top+a.top,e.top+e.height-a.bottom]}),rm=(e,t,a,r)=>{var s;switch(t){case"xAxis":return WV(e,a,r);case"yAxis":return YV(e,a,r);case"zAxis":return(s=S1(e,a))===null||s===void 0?void 0:s.range;case"angleAxis":return Tk(e);case"radiusAxis":return Lk(e,a);default:return}},Qk=te([hn,rm],Jp),Yc=te([hn,fl,FV,Qk],ix);te([nm,sx,Yt],AV);function Jk(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var lx=(e,t)=>t,ox=(e,t,a)=>a,GV=te(zp,lx,ox,(e,t,a)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===a).sort(Jk)),ZV=te($p,lx,ox,(e,t,a)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===a).sort(Jk)),eP=(e,t)=>({width:e.width,height:t.height}),XV=(e,t)=>{var a=typeof t.width=="number"?t.width:Wu;return{width:a,height:e.height}},tP=te(Fn,Ci,eP),QV=(e,t,a)=>{switch(t){case"top":return e.top;case"bottom":return a-e.bottom;default:return 0}},JV=(e,t,a)=>{switch(t){case"left":return e.left;case"right":return a-e.right;default:return 0}},eK=te(ji,Fn,GV,lx,ox,(e,t,a,r,s)=>{var l={},c;return a.forEach(d=>{var m=eP(t,d);c==null&&(c=QV(t,r,e));var f=r==="top"&&!s||r==="bottom"&&s;l[d.id]=c-Number(f)*m.height,c+=(f?-1:1)*m.height}),l}),tK=te(bi,Fn,ZV,lx,ox,(e,t,a,r,s)=>{var l={},c;return a.forEach(d=>{var m=XV(t,d);c==null&&(c=JV(t,r,e));var f=r==="left"&&!s||r==="right"&&s;l[d.id]=c-Number(f)*m.width,c+=(f?-1:1)*m.width}),l}),nK=(e,t)=>{var a=Ci(e,t);if(a!=null)return eK(e,a.orientation,a.mirror)},aK=te([Fn,Ci,nK,(e,t)=>t],(e,t,a,r)=>{if(t!=null){var s=a?.[r];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),rK=(e,t)=>{var a=Mi(e,t);if(a!=null)return tK(e,a.orientation,a.mirror)},sK=te([Fn,Mi,rK,(e,t)=>t],(e,t,a,r)=>{if(t!=null){var s=a?.[r];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),nP=te(Fn,Mi,(e,t)=>{var a=typeof t.width=="number"?t.width:Wu;return{width:a,height:e.height}}),o3=(e,t,a)=>{switch(t){case"xAxis":return tP(e,a).width;case"yAxis":return nP(e,a).height;default:return}},aP=(e,t,a,r)=>{if(a!=null){var{allowDuplicatedCategory:s,type:l,dataKey:c}=a,d=Lr(e,r),m=t.map(f=>f.value);if(c&&d&&l==="category"&&s&&dO(m))return m}},sm=te([et,rx,hn,Yt],aP),U1=(e,t,a,r)=>{if(!(a==null||a.dataKey==null)){var{type:s,scale:l}=a,c=Lr(e,r);if(c&&(s==="number"||l!=="auto"))return t.map(d=>d.value)}},q1=te([et,rx,Vc,Yt],U1),c3=te([et,gV,fl,Yc,sm,q1,rm,B1,Yt],(e,t,a,r,s,l,c,d,m)=>{if(t!=null){var f=Lr(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:l,duplicateDomain:s,isCategorical:f,niceTicks:d,range:c,realScaleType:a,scale:r}}}),rP=(e,t,a,r,s,l,c,d,m)=>{if(!(t==null||r==null)){var f=Lr(e,m),{type:h,ticks:g,tickCount:v}=t,y=a==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,j=h==="category"&&r.bandwidth?r.bandwidth()/y:0;j=m==="angleAxis"&&l!=null&&l.length>=2?_n(l[0]-l[1])*2*j:j;var b=g||s;if(b){var S=b.map((M,w)=>{var A=c?c.indexOf(M):M;return{index:w,coordinate:r(A)+j,value:M,offset:j}});return S.filter(M=>sn(M.coordinate))}return f&&d?d.map((M,w)=>({coordinate:r(M)+j,value:M,index:w,offset:j})).filter(M=>sn(M.coordinate)):r.ticks?r.ticks(v).map(M=>({coordinate:r(M)+j,value:M,offset:j})):r.domain().map((M,w)=>({coordinate:r(M)+j,value:c?c[M]:M,index:w,offset:j}))}},sP=te([et,Vc,fl,Yc,B1,rm,sm,q1,Yt],rP),iP=(e,t,a,r,s,l,c)=>{if(!(t==null||a==null||r==null||r[0]===r[1])){var d=Lr(e,c),{tickCount:m}=t,f=0;return f=c==="angleAxis"&&r?.length>=2?_n(r[0]-r[1])*2*f:f,d&&l?l.map((h,g)=>({coordinate:a(h)+f,value:h,index:g,offset:f})):a.ticks?a.ticks(m).map(h=>({coordinate:a(h)+f,value:h,offset:f})):a.domain().map((h,g)=>({coordinate:a(h)+f,value:s?s[h]:h,index:g,offset:f}))}},Pr=te([et,Vc,Yc,rm,sm,q1,Yt],iP),Rr=te(hn,Yc,(e,t)=>{if(!(e==null||t==null))return ep(ep({},e),{},{scale:t})}),iK=te([hn,fl,z1,Qk],ix),lK=te((e,t,a)=>S1(e,a),iK,(e,t)=>{if(!(e==null||t==null))return ep(ep({},e),{},{scale:t})}),oK=te([et,zp,$p],(e,t,a)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return a.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),lP=e=>e.options.defaultTooltipEventType,oP=e=>e.options.validateTooltipEventTypes;function cP(e,t,a){if(e==null)return t;var r=e?"axis":"item";return a==null?t:a.includes(r)?r:t}function H1(e,t){var a=lP(e),r=oP(e);return cP(t,a,r)}function cK(e){return Oe(t=>H1(t,e))}var dP=(e,t)=>{var a,r=Number(t);if(!(Or(r)||t==null))return r>=0?e==null||(a=e[r])===null||a===void 0?void 0:a.value:void 0},dK=e=>e.tooltip.settings,rl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},uK={itemInteraction:{click:rl,hover:rl},axisInteraction:{click:rl,hover:rl},keyboardInteraction:rl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},uP=Ua({name:"tooltip",initialState:uK,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:cn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:a,next:r}=t.payload,s=Yr(e).tooltipItemPayloads.indexOf(a);s>-1&&(e.tooltipItemPayloads[s]=r)},prepare:cn()},removeTooltipEntrySettings:{reducer(e,t){var a=Yr(e).tooltipItemPayloads.indexOf(t.payload);a>-1&&e.tooltipItemPayloads.splice(a,1)},prepare:cn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:mK,replaceTooltipEntrySettings:fK,removeTooltipEntrySettings:hK,setTooltipSettingsState:pK,setActiveMouseOverItemIndex:mP,mouseLeaveItem:xK,mouseLeaveChart:fP,setActiveClickItemIndex:gK,setMouseOverAxisIndex:hP,setMouseClickAxisIndex:yK,setSyncInteraction:Tb,setKeyboardInteraction:Lb}=uP.actions,vK=uP.reducer;function d3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Zf(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(a),!0).forEach(function(r){bK(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function bK(e,t,a){return(t=jK(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function jK(e){var t=NK(e,"string");return typeof t=="symbol"?t:t+""}function NK(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wK(e,t,a){return t==="axis"?a==="click"?e.axisInteraction.click:e.axisInteraction.hover:a==="click"?e.itemInteraction.click:e.itemInteraction.hover}function SK(e){return e.index!=null}var pP=(e,t,a,r)=>{if(t==null)return rl;var s=wK(e,t,a);if(s==null)return rl;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(SK(s)){if(l)return Zf(Zf({},s),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Zf(Zf({},rl),{},{coordinate:s.coordinate})};function AK(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var a=Number(e);return Number.isFinite(a)?a:void 0}function CK(e,t){var a=AK(e),r=t[0],s=t[1];if(a===void 0)return!1;var l=Math.min(r,s),c=Math.max(r,s);return a>=l&&a<=c}function MK(e,t,a){if(a==null||t==null)return!0;var r=bt(e,t);return r==null||!ol(a)?!0:CK(r,a)}var V1=(e,t,a,r)=>{var s=e?.index;if(s==null)return null;var l=Number(s);if(!sn(l))return s;var c=0,d=1/0;t.length>0&&(d=t.length-1);var m=Math.max(c,Math.min(l,d)),f=t[m];return f==null||MK(f,a,r)?String(m):null},xP=(e,t,a,r,s,l,c,d)=>{if(!(l==null||d==null)){var m=c[0],f=m==null?void 0:d(m.positions,l);if(f!=null)return f;var h=s?.[Number(l)];if(h)switch(a){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},gP=(e,t,a,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return a==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.dataKey)===s})},im=e=>e.options.tooltipPayloadSearcher,Gc=e=>e.tooltip;function u3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function m3(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?u3(Object(a),!0).forEach(function(r){DK(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function DK(e,t,a){return(t=OK(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function OK(e){var t=EK(e,"string");return typeof t=="symbol"?t:t+""}function EK(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kK(e,t){return e??t}var yP=(e,t,a,r,s,l,c)=>{if(!(t==null||l==null)){var{chartData:d,computedData:m,dataStartIndex:f,dataEndIndex:h}=a,g=[];return e.reduce((v,y)=>{var j,{dataDefinedOnItem:b,settings:S}=y,M=kK(b,d),w=Array.isArray(M)?aE(M,f,h):M,A=(j=S?.dataKey)!==null&&j!==void 0?j:r,O=S?.nameKey,D;if(r&&Array.isArray(w)&&!Array.isArray(w[0])&&c==="axis"?D=uO(w,r,s):D=l(w,t,m,O),Array.isArray(D))D.forEach(_=>{var E=m3(m3({},S),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});v.push(PC({tooltipEntrySettings:E,dataKey:_.dataKey,payload:_.payload,value:bt(_.payload,_.dataKey),name:_.name}))});else{var k;v.push(PC({tooltipEntrySettings:S,dataKey:A,payload:D,value:bt(D,A),name:(k=bt(D,O))!==null&&k!==void 0?k:S?.name}))}return v},g)}},K1=te([In,et,$k,v1,qn],Zk),PK=te([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),RK=te([qn,Hc],A1),lm=te([PK,In,RK],C1,{memoizeOptions:{resultEqualityCheck:ax}}),_K=te([lm],e=>e.filter(tm)),TK=te([lm],M1,{memoizeOptions:{resultEqualityCheck:ax}}),Zc=te([TK,Ai],D1),LK=te([_K,Ai,In],w1),W1=te([Zc,In,lm],E1),vP=te([In],P1),IK=te([In],e=>e.allowDataOverflow),bP=te([vP,IK],xk),zK=te([lm],e=>e.filter(tm)),$K=te([LK,zK,Uc,y1],k1),BK=te([$K,Ai,qn,bP],qk),FK=te([lm],Fk),UK=te([Zc,In,FK,sx,qn],T1,{memoizeOptions:{resultEqualityCheck:nx}}),qK=te([Hk,qn,Hc],Wc),HK=te([qK,qn],Wk),VK=te([Vk,qn,Hc],Wc),KK=te([VK,qn],Yk),WK=te([Kk,qn,Hc],Wc),YK=te([WK,qn],Gk),GK=te([HK,YK,KK],tp),ZK=te([In,vP,bP,BK,UK,GK,et,qn],L1),om=te([In,et,Zc,W1,Uc,qn,ZK],I1),XK=te([om,In,K1],$1),QK=te([In,om,XK,qn],F1),jP=e=>{var t=qn(e),a=Hc(e),r=!1;return rm(e,t,a,r)},NP=te([In,jP],Jp),wP=te([In,K1,QK,NP],ix),JK=te([et,W1,In,qn],aP),eW=te([et,W1,In,qn],U1),tW=(e,t,a,r,s,l,c,d)=>{if(t){var{type:m}=t,f=Lr(e,d);if(r){var h=a==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=m==="category"&&r.bandwidth?r.bandwidth()/h:0;return g=d==="angleAxis"&&s!=null&&s?.length>=2?_n(s[0]-s[1])*2*g:g,f&&c?c.map((v,y)=>({coordinate:r(v)+g,value:v,index:y,offset:g})):r.domain().map((v,y)=>({coordinate:r(v)+g,value:l?l[v]:v,index:y,offset:g}))}}},Di=te([et,In,K1,wP,jP,JK,eW,qn],tW),Y1=te([lP,oP,dK],(e,t,a)=>cP(a.shared,e,t)),SP=e=>e.tooltip.settings.trigger,G1=e=>e.tooltip.settings.defaultIndex,cm=te([Gc,Y1,SP,G1],pP),ws=te([cm,Zc,am,om],V1),AP=te([Di,ws],dP),Z1=te([cm],e=>{if(e)return e.dataKey}),nW=te([cm],e=>{if(e)return e.graphicalItemId}),CP=te([Gc,Y1,SP,G1],gP),aW=te([bi,ji,et,Fn,Di,G1,CP,im],xP),rW=te([cm,aW],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),sW=te([cm],e=>e.active),iW=te([CP,ws,Ai,am,AP,im,Y1],yP),lW=te([iW],e=>{if(e!=null){var t=e.map(a=>a.payload).filter(a=>a!=null);return Array.from(new Set(t))}});function f3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function h3(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?f3(Object(a),!0).forEach(function(r){oW(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function oW(e,t,a){return(t=cW(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function cW(e){var t=dW(e,"string");return typeof t=="symbol"?t:t+""}function dW(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uW=()=>Oe(In),mW=()=>{var e=uW(),t=Oe(Di),a=Oe(wP);return Ba(!e||!a?void 0:h3(h3({},e),{},{scale:a}),t)};function p3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function cc(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?p3(Object(a),!0).forEach(function(r){fW(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function fW(e,t,a){return(t=hW(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function hW(e){var t=pW(e,"string");return typeof t=="symbol"?t:t+""}function pW(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xW=(e,t,a,r)=>{var s=t.find(l=>l&&l.index===a);if(s){if(e==="horizontal")return{x:s.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:s.coordinate}}return{x:0,y:0}},gW=(e,t,a,r)=>{var s=t.find(f=>f&&f.index===a);if(s){if(e==="centric"){var l=s.coordinate,{radius:c}=r;return cc(cc(cc({},r),Pt(r.cx,r.cy,c,l)),{},{angle:l,radius:c})}var d=s.coordinate,{angle:m}=r;return cc(cc(cc({},r),Pt(r.cx,r.cy,d,m)),{},{angle:m,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function yW(e,t){var{chartX:a,chartY:r}=e;return a>=t.left&&a<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var MP=(e,t,a,r,s)=>{var l,c=-1,d=(l=t?.length)!==null&&l!==void 0?l:0;if(d<=1||e==null)return 0;if(r==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var m=0;m<d;m++){var f=m>0?a[m-1].coordinate:a[d-1].coordinate,h=a[m].coordinate,g=m>=d-1?a[0].coordinate:a[m+1].coordinate,v=void 0;if(_n(h-f)!==_n(g-h)){var y=[];if(_n(g-h)===_n(s[1]-s[0])){v=g;var j=h+s[1]-s[0];y[0]=Math.min(j,(j+f)/2),y[1]=Math.max(j,(j+f)/2)}else{v=f;var b=g+s[1]-s[0];y[0]=Math.min(h,(b+h)/2),y[1]=Math.max(h,(b+h)/2)}var S=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){({index:c}=a[m]);break}}else{var M=Math.min(f,g),w=Math.max(f,g);if(e>(M+h)/2&&e<=(w+h)/2){({index:c}=a[m]);break}}}else if(t){for(var A=0;A<d;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<d-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===d-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:c}=t[A]);break}}return c},DP=()=>Oe(v1),X1=(e,t)=>t,OP=(e,t,a)=>a,Q1=(e,t,a,r)=>r,vW=te(Di,e=>Dp(e,t=>t.coordinate)),J1=te([Gc,X1,OP,Q1],pP),eN=te([J1,Zc,am,om],V1),bW=(e,t,a)=>{if(t!=null){var r=Gc(e);return t==="axis"?a==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:a==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},EP=te([Gc,X1,OP,Q1],gP),np=te([bi,ji,et,Fn,Di,Q1,EP,im],xP),jW=te([J1,np],(e,t)=>{var a;return(a=e.coordinate)!==null&&a!==void 0?a:t}),kP=te([Di,eN],dP),NW=te([EP,eN,Ai,am,kP,im,X1],yP),wW=te([J1,eN],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),SW=(e,t,a,r,s,l,c)=>{if(!(!e||!a||!r||!s)&&yW(e,c)){var d=W$(e,t),m=MP(d,l,s,a,r),f=xW(t,s,m,e);return{activeIndex:String(m),activeCoordinate:f}}},AW=(e,t,a,r,s,l,c)=>{if(!(!e||!r||!s||!l||!a)){var d=dU(e,a);if(d){var m=Y$(d,t),f=MP(m,c,l,r,s),h=gW(t,l,f,d);return{activeIndex:String(f),activeCoordinate:h}}}},CW=(e,t,a,r,s,l,c,d)=>{if(!(!e||!t||!r||!s||!l))return t==="horizontal"||t==="vertical"?SW(e,t,r,s,l,c,d):AW(e,t,a,r,s,l,c)},MW=te(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,a)=>a,(e,t,a)=>{if(t!=null){var r=e[t];if(r!=null)return a?r.panoramaElementId:r.elementId}}),DW=te(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Lt)),a=Array.from(new Set(t));return a.sort((r,s)=>r-s)},{memoizeOptions:{resultEqualityCheck:fV}});function x3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function g3(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?x3(Object(a),!0).forEach(function(r){OW(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function OW(e,t,a){return(t=EW(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function EW(e){var t=kW(e,"string");return typeof t=="symbol"?t:t+""}function kW(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PW={},RW={zIndexMap:Object.values(Lt).reduce((e,t)=>g3(g3({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),PW)},_W=new Set(Object.values(Lt));function TW(e){return _W.has(e)}var PP=Ua({name:"zIndex",initialState:RW,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:a}=t.payload;e.zIndexMap[a]?e.zIndexMap[a].consumers+=1:e.zIndexMap[a]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:cn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:a}=t.payload;e.zIndexMap[a]&&(e.zIndexMap[a].consumers-=1,e.zIndexMap[a].consumers<=0&&!TW(a)&&delete e.zIndexMap[a])},prepare:cn()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:a,elementId:r,isPanorama:s}=t.payload;e.zIndexMap[a]?s?e.zIndexMap[a].panoramaElementId=r:e.zIndexMap[a].elementId=r:e.zIndexMap[a]={consumers:0,elementId:s?void 0:r,panoramaElementId:s?r:void 0}},prepare:cn()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:a}=t.payload;e.zIndexMap[a]&&(t.payload.isPanorama?e.zIndexMap[a].panoramaElementId=void 0:e.zIndexMap[a].elementId=void 0)},prepare:cn()}}}),{registerZIndexPortal:LW,unregisterZIndexPortal:IW,registerZIndexPortalId:zW,unregisterZIndexPortalId:$W}=PP.actions,BW=PP.reducer;function un(e){var{zIndex:t,children:a}=e,r=CB(),s=r&&t!==void 0&&t!==0,l=vn(),c=Ft();x.useLayoutEffect(()=>s?(c(LW({zIndex:t})),()=>{c(IW({zIndex:t}))}):qu,[c,t,s]);var d=Oe(f=>MW(f,t,l));if(!s)return a;if(!d)return null;var m=document.getElementById(d);return m?sj.createPortal(a,m):null}function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ib.apply(null,arguments)}function y3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Xf(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?y3(Object(a),!0).forEach(function(r){FW(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function FW(e,t,a){return(t=UW(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function UW(e){var t=qW(e,"string");return typeof t=="symbol"?t:t+""}function qW(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HW(e){var{cursor:t,cursorComp:a,cursorProps:r}=e;return x.isValidElement(t)?x.cloneElement(t,r):x.createElement(a,r)}function VW(e){var t,{coordinate:a,payload:r,index:s,offset:l,tooltipAxisBandSize:c,layout:d,cursor:m,tooltipEventType:f,chartName:h}=e,g=a,v=r,y=s;if(!m||!g||h!=="ScatterChart"&&f!=="axis")return null;var j,b,S;if(h==="ScatterChart")j=g,b=AF,S=Lt.cursorLine;else if(h==="BarChart")j=CF(d,g,l,c),b=OE,S=Lt.cursorRectangle;else if(d==="radial"&&fO(g)){var{cx:M,cy:w,radius:A,startAngle:O,endAngle:D}=PE(g);j={cx:M,cy:w,startAngle:O,endAngle:D,innerRadius:A,outerRadius:A},b=_E,S=Lt.cursorLine}else j={points:hU(d,g,l)},b=Kl,S=Lt.cursorLine;var k=typeof m=="object"&&"className"in m?m.className:void 0,_=Xf(Xf(Xf(Xf({stroke:"#ccc",pointerEvents:"none"},l),j),Qr(m)),{},{payload:v,payloadIndex:y,className:at("recharts-tooltip-cursor",k)});return x.createElement(un,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:S},x.createElement(HW,{cursor:m,cursorComp:b,cursorProps:_}))}function KW(e){var t=mW(),a=fE(),r=oo(),s=DP();return t==null||a==null||r==null||s==null?null:x.createElement(VW,Ib({},e,{offset:a,layout:r,tooltipAxisBandSize:t,chartName:s}))}var RP=x.createContext(null),WW=()=>x.useContext(RP),sv={exports:{}},v3;function YW(){return v3||(v3=1,(function(e){var t=Object.prototype.hasOwnProperty,a="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(a=!1));function s(m,f,h){this.fn=m,this.context=f,this.once=h||!1}function l(m,f,h,g,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new s(h,g||m,v),j=a?a+f:f;return m._events[j]?m._events[j].fn?m._events[j]=[m._events[j],y]:m._events[j].push(y):(m._events[j]=y,m._eventsCount++),m}function c(m,f){--m._eventsCount===0?m._events=new r:delete m._events[f]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var f=[],h,g;if(this._eventsCount===0)return f;for(g in h=this._events)t.call(h,g)&&f.push(a?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},d.prototype.listeners=function(f){var h=a?a+f:f,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,y=g.length,j=new Array(y);v<y;v++)j[v]=g[v].fn;return j},d.prototype.listenerCount=function(f){var h=a?a+f:f,g=this._events[h];return g?g.fn?1:g.length:0},d.prototype.emit=function(f,h,g,v,y,j){var b=a?a+f:f;if(!this._events[b])return!1;var S=this._events[b],M=arguments.length,w,A;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),M){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,g),!0;case 4:return S.fn.call(S.context,h,g,v),!0;case 5:return S.fn.call(S.context,h,g,v,y),!0;case 6:return S.fn.call(S.context,h,g,v,y,j),!0}for(A=1,w=new Array(M-1);A<M;A++)w[A-1]=arguments[A];S.fn.apply(S.context,w)}else{var O=S.length,D;for(A=0;A<O;A++)switch(S[A].once&&this.removeListener(f,S[A].fn,void 0,!0),M){case 1:S[A].fn.call(S[A].context);break;case 2:S[A].fn.call(S[A].context,h);break;case 3:S[A].fn.call(S[A].context,h,g);break;case 4:S[A].fn.call(S[A].context,h,g,v);break;default:if(!w)for(D=1,w=new Array(M-1);D<M;D++)w[D-1]=arguments[D];S[A].fn.apply(S[A].context,w)}}return!0},d.prototype.on=function(f,h,g){return l(this,f,h,g,!1)},d.prototype.once=function(f,h,g){return l(this,f,h,g,!0)},d.prototype.removeListener=function(f,h,g,v){var y=a?a+f:f;if(!this._events[y])return this;if(!h)return c(this,y),this;var j=this._events[y];if(j.fn)j.fn===h&&(!v||j.once)&&(!g||j.context===g)&&c(this,y);else{for(var b=0,S=[],M=j.length;b<M;b++)(j[b].fn!==h||v&&!j[b].once||g&&j[b].context!==g)&&S.push(j[b]);S.length?this._events[y]=S.length===1?S[0]:S:c(this,y)}return this},d.prototype.removeAllListeners=function(f){var h;return f?(h=a?a+f:f,this._events[h]&&c(this,h)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=a,d.EventEmitter=d,e.exports=d})(sv)),sv.exports}var GW=YW();const ZW=_r(GW);var Pu=new ZW,zb="recharts.syncEvent.tooltip",b3="recharts.syncEvent.brush";function ho(e,t){if(t){var a=Number.parseInt(t,10);if(!Or(a))return e?.[a]}}var XW={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},_P=Ua({name:"options",initialState:XW,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),QW=_P.reducer,{createEventEmitter:JW}=_P.actions;function eY(e){return e.tooltip.syncInteraction}var tY={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},TP=Ua({name:"chartData",initialState:tY,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:a,endIndex:r}=t.payload;a!=null&&(e.dataStartIndex=a),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:j3,setDataStartEndIndexes:nY,setComputedData:Zce}=TP.actions,aY=TP.reducer,rY=["x","y"];function N3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function dc(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?N3(Object(a),!0).forEach(function(r){sY(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function sY(e,t,a){return(t=iY(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function iY(e){var t=lY(e,"string");return typeof t=="symbol"?t:t+""}function lY(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oY(e,t){if(e==null)return{};var a,r,s=cY(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function cY(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function dY(){var e=Oe(b1),t=Oe(j1),a=Ft(),r=Oe(Pk),s=Oe(Di),l=oo(),c=Yu(),d=Oe(m=>m.rootProps.className);x.useEffect(()=>{if(e==null)return qu;var m=(f,h,g)=>{if(t!==g&&e===f){if(r==="index"){var v;if(c&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var y=h.payload.coordinate,{x:j,y:b}=y,S=oY(y,rY),{x:M,y:w,width:A,height:O}=h.payload.sourceViewBox,D=dc(dc({},S),{},{x:c.x+(A?(j-M)/A:0)*c.width,y:c.y+(O?(b-w)/O:0)*c.height});a(dc(dc({},h),{},{payload:dc(dc({},h.payload),{},{coordinate:D})}))}else a(h);return}if(s!=null){var k;if(typeof r=="function"){var _={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},E=r(s,_);k=s[E]}else r==="value"&&(k=s.find(V=>String(V.value)===h.payload.label));var{coordinate:P}=h.payload;if(k==null||h.payload.active===!1||P==null||c==null){a(Tb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:z,y:L}=P,I=Math.min(z,c.x+c.width),J=Math.min(L,c.y+c.height),T={x:l==="horizontal"?k.coordinate:I,y:l==="horizontal"?J:k.coordinate},Y=Tb({active:h.payload.active,coordinate:T,dataKey:h.payload.dataKey,index:String(k.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});a(Y)}}};return Pu.on(zb,m),()=>{Pu.off(zb,m)}},[d,a,t,e,r,s,l,c])}function uY(){var e=Oe(b1),t=Oe(j1),a=Ft();x.useEffect(()=>{if(e==null)return qu;var r=(s,l,c)=>{t!==c&&e===s&&a(nY(l))};return Pu.on(b3,r),()=>{Pu.off(b3,r)}},[a,t,e])}function mY(){var e=Ft();x.useEffect(()=>{e(JW())},[e]),dY(),uY()}function fY(e,t,a,r,s,l){var c=Oe(y=>bW(y,e,t)),d=Oe(j1),m=Oe(b1),f=Oe(Pk),h=Oe(eY),g=h?.active,v=Yu();x.useEffect(()=>{if(!g&&m!=null&&d!=null){var y=Tb({active:l,coordinate:a,dataKey:c,index:s,label:typeof r=="number"?String(r):r,sourceViewBox:v,graphicalItemId:void 0});Pu.emit(zb,m,y,d)}},[g,a,c,s,r,d,m,f,l,v])}function w3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function S3(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?w3(Object(a),!0).forEach(function(r){hY(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function hY(e,t,a){return(t=pY(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function pY(e){var t=xY(e,"string");return typeof t=="symbol"?t:t+""}function xY(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gY(e){return e.dataKey}function yY(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(rF,t)}var A3=[],vY={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ut(e){var t,a,r=Rt(e,vY),{active:s,allowEscapeViewBox:l,animationDuration:c,animationEasing:d,content:m,filterNull:f,isAnimationActive:h,offset:g,payloadUniqBy:v,position:y,reverseDirection:j,useTranslate3d:b,wrapperStyle:S,cursor:M,shared:w,trigger:A,defaultIndex:O,portal:D,axisId:k}=r,_=Ft(),E=typeof O=="number"?String(O):O;x.useEffect(()=>{_(pK({shared:w,trigger:A,axisId:k,active:s,defaultIndex:E}))},[_,w,A,k,s,E]);var P=Yu(),z=SE(),L=cK(w),{activeIndex:I,isActive:J}=(t=Oe(ee=>wW(ee,L,A,E)))!==null&&t!==void 0?t:{},T=Oe(ee=>NW(ee,L,A,E)),Y=Oe(ee=>kP(ee,L,A,E)),V=Oe(ee=>jW(ee,L,A,E)),B=T,U=WW(),F=(a=s??J)!==null&&a!==void 0?a:!1,[W,ne]=MO([B,F]),je=L==="axis"?Y:void 0;fY(L,A,V,je,I,F);var H=D??U;if(H==null||P==null||L==null)return null;var fe=B??A3;F||(fe=A3),f&&fe.length&&(fe=NO(fe.filter(ee=>ee.value!=null&&(ee.hide!==!0||r.includeHidden)),v,gY));var Ne=fe.length>0,se=x.createElement(uF,{allowEscapeViewBox:l,animationDuration:c,animationEasing:d,isAnimationActive:h,active:F,coordinate:V,hasPayload:Ne,offset:g,position:y,reverseDirection:j,useTranslate3d:b,viewBox:P,wrapperStyle:S,lastBoundingBox:W,innerRef:ne,hasPortalFromProps:!!D},yY(m,S3(S3({},r),{},{payload:fe,label:je,active:F,activeIndex:I,coordinate:V,accessibilityLayer:z})));return x.createElement(x.Fragment,null,sj.createPortal(se,H),F&&x.createElement(KW,{cursor:M,tooltipEventType:L,coordinate:V,payload:fe,index:I}))}var An=e=>null;An.displayName="Cell";function bY(e,t,a){return(t=jY(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function jY(e){var t=NY(e,"string");return typeof t=="symbol"?t:t+""}function NY(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wY{constructor(t){bY(this,"cache",new Map),this.maxSize=t}get(t){var a=this.cache.get(t);return a!==void 0&&(this.cache.delete(t),this.cache.set(t,a)),a}set(t,a){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,a)}clear(){this.cache.clear()}size(){return this.cache.size}}function C3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function SY(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?C3(Object(a),!0).forEach(function(r){AY(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function AY(e,t,a){return(t=CY(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function CY(e){var t=MY(e,"string");return typeof t=="symbol"?t:t+""}function MY(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DY={cacheSize:2e3,enableCache:!0},LP=SY({},DY),M3=new wY(LP.cacheSize),OY={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},D3="recharts_measurement_span";function EY(e,t){var a=t.fontSize||"",r=t.fontFamily||"",s=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(a,"|").concat(r,"|").concat(s,"|").concat(l,"|").concat(c,"|").concat(d)}var O3=(e,t)=>{try{var a=document.getElementById(D3);a||(a=document.createElement("span"),a.setAttribute("id",D3),a.setAttribute("aria-hidden","true"),document.body.appendChild(a)),Object.assign(a.style,OY,t),a.textContent="".concat(e);var r=a.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},du=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Lc.isSsr)return{width:0,height:0};if(!LP.enableCache)return O3(t,a);var r=EY(t,a),s=M3.get(r);if(s)return s;var l=O3(t,a);return M3.set(r,l),l},E3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,k3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kY=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,PY=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,IP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},RY=Object.keys(IP),xc="NaN";function _Y(e,t){return e*IP[t]}class Ea{static parse(t){var a,[,r,s]=(a=PY.exec(t))!==null&&a!==void 0?a:[];return new Ea(parseFloat(r),s??"")}constructor(t,a){this.num=t,this.unit=a,this.num=t,this.unit=a,Or(t)&&(this.unit=""),a!==""&&!kY.test(a)&&(this.num=NaN,this.unit=""),RY.includes(a)&&(this.num=_Y(t,a),this.unit="px")}add(t){return this.unit!==t.unit?new Ea(NaN,""):new Ea(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ea(NaN,""):new Ea(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ea(NaN,""):new Ea(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ea(NaN,""):new Ea(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Or(this.num)}}function zP(e){if(e.includes(xc))return xc;for(var t=e;t.includes("*")||t.includes("/");){var a,[,r,s,l]=(a=E3.exec(t))!==null&&a!==void 0?a:[],c=Ea.parse(r??""),d=Ea.parse(l??""),m=s==="*"?c.multiply(d):c.divide(d);if(m.isNaN())return xc;t=t.replace(E3,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,g,v]=(f=k3.exec(t))!==null&&f!==void 0?f:[],y=Ea.parse(h??""),j=Ea.parse(v??""),b=g==="+"?y.add(j):y.subtract(j);if(b.isNaN())return xc;t=t.replace(k3,b.toString())}return t}var P3=/\(([^()]*)\)/;function TY(e){for(var t=e,a;(a=P3.exec(t))!=null;){var[,r]=a;t=t.replace(P3,zP(r))}return t}function LY(e){var t=e.replace(/\s+/g,"");return t=TY(t),t=zP(t),t}function IY(e){try{return LY(e)}catch{return xc}}function iv(e){var t=IY(e.slice(5,-1));return t===xc?"":t}var zY=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],$Y=["dx","dy","angle","className","breakAll"];function $b(){return $b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},$b.apply(null,arguments)}function R3(e,t){if(e==null)return{};var a,r,s=BY(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function BY(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var $P=/[ \f\n\r\t\v\u2028\u2029]+/,BP=e=>{var{children:t,breakAll:a,style:r}=e;try{var s=[];At(t)||(a?s=t.toString().split(""):s=t.toString().split($P));var l=s.map(d=>({word:d,width:du(d,r).width})),c=a?0:du("",r).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}};function FY(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var FP=(e,t,a,r)=>e.reduce((s,l)=>{var{word:c,width:d}=l,m=s[s.length-1];if(m&&d!=null&&(t==null||r||m.width+d+a<Number(t)))m.words.push(c),m.width+=d+a;else{var f={words:[c],width:d};s.push(f)}return s},[]),UP=e=>e.reduce((t,a)=>t.width>a.width?t:a),UY="",_3=(e,t,a,r,s,l,c,d)=>{var m=e.slice(0,t),f=BP({breakAll:a,style:r,children:m+UY});if(!f)return[!1,[]];var h=FP(f.wordsWithComputedWidth,l,c,d),g=h.length>s||UP(h).width>Number(l);return[g,h]},qY=(e,t,a,r,s)=>{var{maxLines:l,children:c,style:d,breakAll:m}=e,f=Pe(l),h=String(c),g=FP(t,r,a,s);if(!f||s)return g;var v=g.length>l||UP(g).width>Number(r);if(!v)return g;for(var y=0,j=h.length-1,b=0,S;y<=j&&b<=h.length-1;){var M=Math.floor((y+j)/2),w=M-1,[A,O]=_3(h,w,m,d,l,r,a,s),[D]=_3(h,M,m,d,l,r,a,s);if(!A&&!D&&(y=M+1),A&&D&&(j=M-1),!A&&D){S=O;break}b++}return S||g},T3=e=>{var t=At(e)?[]:e.toString().split($P);return[{words:t,width:void 0}]},HY=e=>{var{width:t,scaleToFit:a,children:r,style:s,breakAll:l,maxLines:c}=e;if((t||a)&&!Lc.isSsr){var d,m,f=BP({breakAll:l,children:r,style:s});if(f){var{wordsWithComputedWidth:h,spaceWidth:g}=f;d=h,m=g}else return T3(r);return qY({breakAll:l,children:r,maxLines:c,style:s},d,m,t,!!a)}return T3(r)},qP="#808080",VY={angle:0,breakAll:!1,capHeight:"0.71em",fill:qP,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Xc=x.forwardRef((e,t)=>{var a=Rt(e,VY),{x:r,y:s,lineHeight:l,capHeight:c,fill:d,scaleToFit:m,textAnchor:f,verticalAnchor:h}=a,g=R3(a,zY),v=x.useMemo(()=>HY({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:m,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,m,g.style,g.width]),{dx:y,dy:j,angle:b,className:S,breakAll:M}=g,w=R3(g,$Y);if(!vs(r)||!vs(s)||v.length===0)return null;var A=Number(r)+(Pe(y)?y:0),O=Number(s)+(Pe(j)?j:0);if(!sn(A)||!sn(O))return null;var D;switch(h){case"start":D=iv("calc(".concat(c,")"));break;case"middle":D=iv("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:D=iv("calc(".concat(v.length-1," * -").concat(l,")"));break}var k=[];if(m){var _=v[0].width,{width:E}=g;k.push("scale(".concat(Pe(E)&&Pe(_)?E/_:1,")"))}return b&&k.push("rotate(".concat(b,", ").concat(A,", ").concat(O,")")),k.length&&(w.transform=k.join(" ")),x.createElement("text",$b({},Sn(w),{ref:t,x:A,y:O,className:at("recharts-text",S),textAnchor:f,fill:d.includes("url")?qP:d}),v.map((P,z)=>{var L=P.words.join(M?"":" ");return x.createElement("tspan",{x:A,dy:z===0?D:l,key:"".concat(L,"-").concat(z)},L)}))});Xc.displayName="Text";var KY=["labelRef"];function WY(e,t){if(e==null)return{};var a,r,s=YY(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function YY(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function L3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Nn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?L3(Object(a),!0).forEach(function(r){GY(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function GY(e,t,a){return(t=ZY(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ZY(e){var t=XY(e,"string");return typeof t=="symbol"?t:t+""}function XY(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xs(){return Xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Xs.apply(null,arguments)}var HP=x.createContext(null),QY=e=>{var{x:t,y:a,upperWidth:r,lowerWidth:s,width:l,height:c,children:d}=e,m=x.useMemo(()=>({x:t,y:a,upperWidth:r,lowerWidth:s,width:l,height:c}),[t,a,r,s,l,c]);return x.createElement(HP.Provider,{value:m},d)},VP=()=>{var e=x.useContext(HP),t=Yu();return e||mE(t)},KP=x.createContext(null),JY=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:s,startAngle:l,endAngle:c,clockWise:d,children:m}=e,f=x.useMemo(()=>({cx:t,cy:a,innerRadius:r,outerRadius:s,startAngle:l,endAngle:c,clockWise:d}),[t,a,r,s,l,c,d]);return x.createElement(KP.Provider,{value:f},m)},WP=()=>{var e=x.useContext(KP),t=Oe(fo);return e||t},eG=e=>{var{value:t,formatter:a}=e,r=At(e.children)?t:e.children;return typeof a=="function"?a(r):r},tN=e=>e!=null&&typeof e=="function",tG=(e,t)=>{var a=_n(t-e),r=Math.min(Math.abs(t-e),360);return a*r},nG=(e,t,a,r,s)=>{var{offset:l,className:c}=e,{cx:d,cy:m,innerRadius:f,outerRadius:h,startAngle:g,endAngle:v,clockWise:y}=s,j=(f+h)/2,b=tG(g,v),S=b>=0?1:-1,M,w;switch(t){case"insideStart":M=g+S*l,w=y;break;case"insideEnd":M=v-S*l,w=!y;break;case"end":M=v+S*l,w=y;break;default:throw new Error("Unsupported position ".concat(t))}w=b<=0?w:!w;var A=Pt(d,m,j,M),O=Pt(d,m,j,M+(w?1:-1)*359),D="M".concat(A.x,",").concat(A.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(w?0:1,`,
    `).concat(O.x,",").concat(O.y),k=At(e.id)?yu("recharts-radial-line-"):e.id;return x.createElement("text",Xs({},r,{dominantBaseline:"central",className:at("recharts-radial-bar-label",c)}),x.createElement("defs",null,x.createElement("path",{id:k,d:D})),x.createElement("textPath",{xlinkHref:"#".concat(k)},a))},aG=(e,t,a)=>{var{cx:r,cy:s,innerRadius:l,outerRadius:c,startAngle:d,endAngle:m}=e,f=(d+m)/2;if(a==="outside"){var{x:h,y:g}=Pt(r,s,c+t,f);return{x:h,y:g,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,{x:y,y:j}=Pt(r,s,v,f);return{x:y,y:j,textAnchor:"middle",verticalAnchor:"middle"}},Bb=e=>"cx"in e&&Pe(e.cx),rG=(e,t)=>{var{parentViewBox:a,offset:r,position:s}=e,l;a!=null&&!Bb(a)&&(l=a);var{x:c,y:d,upperWidth:m,lowerWidth:f,height:h}=t,g=c,v=c+(m-f)/2,y=(g+v)/2,j=(m+f)/2,b=g+m/2,S=h>=0?1:-1,M=S*r,w=S>0?"end":"start",A=S>0?"start":"end",O=m>=0?1:-1,D=O*r,k=O>0?"end":"start",_=O>0?"start":"end";if(s==="top"){var E={x:g+m/2,y:d-M,textAnchor:"middle",verticalAnchor:w};return Nn(Nn({},E),l?{height:Math.max(d-l.y,0),width:m}:{})}if(s==="bottom"){var P={x:v+f/2,y:d+h+M,textAnchor:"middle",verticalAnchor:A};return Nn(Nn({},P),l?{height:Math.max(l.y+l.height-(d+h),0),width:f}:{})}if(s==="left"){var z={x:y-D,y:d+h/2,textAnchor:k,verticalAnchor:"middle"};return Nn(Nn({},z),l?{width:Math.max(z.x-l.x,0),height:h}:{})}if(s==="right"){var L={x:y+j+D,y:d+h/2,textAnchor:_,verticalAnchor:"middle"};return Nn(Nn({},L),l?{width:Math.max(l.x+l.width-L.x,0),height:h}:{})}var I=l?{width:j,height:h}:{};return s==="insideLeft"?Nn({x:y+D,y:d+h/2,textAnchor:_,verticalAnchor:"middle"},I):s==="insideRight"?Nn({x:y+j-D,y:d+h/2,textAnchor:k,verticalAnchor:"middle"},I):s==="insideTop"?Nn({x:g+m/2,y:d+M,textAnchor:"middle",verticalAnchor:A},I):s==="insideBottom"?Nn({x:v+f/2,y:d+h-M,textAnchor:"middle",verticalAnchor:w},I):s==="insideTopLeft"?Nn({x:g+D,y:d+M,textAnchor:_,verticalAnchor:A},I):s==="insideTopRight"?Nn({x:g+m-D,y:d+M,textAnchor:k,verticalAnchor:A},I):s==="insideBottomLeft"?Nn({x:v+D,y:d+h-M,textAnchor:_,verticalAnchor:w},I):s==="insideBottomRight"?Nn({x:v+f-D,y:d+h-M,textAnchor:k,verticalAnchor:w},I):s&&typeof s=="object"&&(Pe(s.x)||ui(s.x))&&(Pe(s.y)||ui(s.y))?Nn({x:c+xa(s.x,j),y:d+xa(s.y,h),textAnchor:"end",verticalAnchor:"end"},I):Nn({x:b,y:d+h/2,textAnchor:"middle",verticalAnchor:"middle"},I)},sG={angle:0,offset:5,zIndex:Lt.label,position:"middle",textBreakAll:!1};function nl(e){var t=Rt(e,sG),{viewBox:a,position:r,value:s,children:l,content:c,className:d="",textBreakAll:m,labelRef:f}=t,h=WP(),g=VP(),v=r==="center"?g:h??g,y,j,b;if(a==null?y=v:Bb(a)?y=a:y=mE(a),!y||At(s)&&At(l)&&!x.isValidElement(c)&&typeof c!="function")return null;var S=Nn(Nn({},t),{},{viewBox:y});if(x.isValidElement(c)){var{labelRef:M}=S,w=WY(S,KY);return x.cloneElement(c,w)}if(typeof c=="function"){if(j=x.createElement(c,S),x.isValidElement(j))return j}else j=eG(t);var A=Sn(t);if(Bb(y)){if(r==="insideStart"||r==="insideEnd"||r==="end")return nG(t,r,j,A,y);b=aG(y,t.offset,t.position)}else b=rG(t,y);return x.createElement(un,{zIndex:t.zIndex},x.createElement(Xc,Xs({ref:f,className:at("recharts-label",d)},A,b,{textAnchor:FY(A.textAnchor)?A.textAnchor:b.textAnchor,breakAll:m}),j))}nl.displayName="Label";var YP=(e,t,a)=>{if(!e)return null;var r={viewBox:t,labelRef:a};return e===!0?x.createElement(nl,Xs({key:"label-implicit"},r)):vs(e)?x.createElement(nl,Xs({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===nl?x.cloneElement(e,Nn({key:"label-implicit"},r)):x.createElement(nl,Xs({key:"label-implicit",content:e},r)):tN(e)?x.createElement(nl,Xs({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(nl,Xs({},e,{key:"label-implicit"},r)):null};function iG(e){var{label:t,labelRef:a}=e,r=VP();return YP(t,r,a)||null}function lG(e){var{label:t}=e,a=WP();return YP(t,a)||null}var lv={},ov={},I3;function oG(){return I3||(I3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a[a.length-1]}e.last=t})(ov)),ov}var cv={},z3;function cG(){return z3||(z3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Array.isArray(a)?a:Array.from(a)}e.toArray=t})(cv)),cv}var $3;function dG(){return $3||($3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oG(),a=cG(),r=Mj();function s(l){if(r.isArrayLike(l))return t.last(a.toArray(l))}e.last=s})(lv)),lv}var dv,B3;function uG(){return B3||(B3=1,dv=dG().last),dv}var mG=uG();const GP=_r(mG);var fG=["valueAccessor"],hG=["dataKey","clockWise","id","textBreakAll","zIndex"];function ap(){return ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ap.apply(null,arguments)}function F3(e,t){if(e==null)return{};var a,r,s=pG(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function pG(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var xG=e=>Array.isArray(e.value)?GP(e.value):e.value,ZP=x.createContext(void 0),dm=ZP.Provider,XP=x.createContext(void 0),QP=XP.Provider;function gG(){return x.useContext(ZP)}function yG(){return x.useContext(XP)}function fh(e){var{valueAccessor:t=xG}=e,a=F3(e,fG),{dataKey:r,clockWise:s,id:l,textBreakAll:c,zIndex:d}=a,m=F3(a,hG),f=gG(),h=yG(),g=f||h;return!g||!g.length?null:x.createElement(un,{zIndex:d??Lt.label},x.createElement(ft,{className:"recharts-label-list"},g.map((v,y)=>{var j,b=At(r)?t(v,y):bt(v&&v.payload,r),S=At(l)?{}:{id:"".concat(l,"-").concat(y)};return x.createElement(nl,ap({key:"label-".concat(y)},Sn(v),m,S,{fill:(j=a.fill)!==null&&j!==void 0?j:v.fill,parentViewBox:v.parentViewBox,value:b,textBreakAll:c,viewBox:v.viewBox,index:y,zIndex:0}))})))}fh.displayName="LabelList";function po(e){var{label:t}=e;return t?t===!0?x.createElement(fh,{key:"labelList-implicit"}):x.isValidElement(t)||tN(t)?x.createElement(fh,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(fh,ap({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var vG=["points","className","baseLinePoints","connectNulls"];function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},gc.apply(null,arguments)}function bG(e,t){if(e==null)return{};var a,r,s=jG(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function jG(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var U3=e=>e&&e.x===+e.x&&e.y===+e.y,NG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=[[]];return t.forEach(r=>{U3(r)?a[a.length-1].push(r):a[a.length-1].length>0&&a.push([])}),U3(t[0])&&a[a.length-1].push(t[0]),a[a.length-1].length<=0&&(a=a.slice(0,-1)),a},uu=(e,t)=>{var a=NG(e);t&&(a=[a.reduce((s,l)=>[...s,...l],[])]);var r=a.map(s=>s.reduce((l,c,d)=>"".concat(l).concat(d===0?"M":"L").concat(c.x,",").concat(c.y),"")).join("");return a.length===1?"".concat(r,"Z"):r},wG=(e,t,a)=>{var r=uu(e,a);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(uu(Array.from(t).reverse(),a).slice(1))},JP=e=>{var{points:t,className:a,baseLinePoints:r,connectNulls:s}=e,l=bG(e,vG);if(!t||!t.length)return null;var c=at("recharts-polygon",a);if(r&&r.length){var d=l.stroke&&l.stroke!=="none",m=wG(t,r,s);return x.createElement("g",{className:c},x.createElement("path",gc({},Sn(l),{fill:m.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:m})),d?x.createElement("path",gc({},Sn(l),{fill:"none",d:uu(t,s)})):null,d?x.createElement("path",gc({},Sn(l),{fill:"none",d:uu(r,s)})):null)}var f=uu(t,s);return x.createElement("path",gc({},Sn(l),{fill:f.slice(-1)==="Z"?l.fill:"none",className:c,d:f}))};function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Fb.apply(null,arguments)}var nN=e=>{var{cx:t,cy:a,r,className:s}=e,l=at("recharts-dot",s);return Pe(t)&&Pe(a)&&Pe(r)?x.createElement("circle",Fb({},Bt(e),Cj(e),{className:l,cx:t,cy:a,r})):null},um=e=>e.graphicalItems.polarItems,SG=te([Yt,em],A1),mm=te([um,hn,SG],C1),AG=te([mm],M1),cx=te([AG,zc],D1),eR=te([cx,hn,mm],E1);te([cx,hn,mm],(e,t,a)=>a.length>0?e.flatMap(r=>a.flatMap(s=>{var l,c=bt(r,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:bt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var q3=()=>{},CG=te([cx,hn,mm,sx,Yt],T1),MG=te([hn,R1,_1,q3,CG,q3,et,Yt],L1),tR=te([hn,et,cx,eR,Uc,Yt,MG],I1),nR=te([tR,hn,fl],$1),DG=te([hn,tR,nR,Yt],F1),aN=(e,t,a)=>{switch(t){case"angleAxis":return mo(e,a);case"radiusAxis":return qc(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},rN=(e,t,a)=>{switch(t){case"angleAxis":return uV(e,a);case"radiusAxis":return mV(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},hl=te([aN,fl,DG,rN],ix),aR=te([et,eR,Vc,Yt],U1),xo=te([et,aN,fl,hl,nR,rN,sm,aR,Yt],rP),OG=te([xo],e=>{if(e){var t=new Map;return e.forEach(a=>{var r=(a.coordinate+360)%360;t.has(r)||t.set(r,a)}),Array.from(t.values())}}),EG=te([et,aN,hl,rN,sm,aR,Yt],iP),kG=(e,t)=>xo(e,"angleAxis",t,!1),PG=te([kG],e=>{if(e)return e.map(t=>t.coordinate)}),RG=(e,t)=>xo(e,"radiusAxis",t,!1),_G=te([RG],e=>{if(e)return e.map(t=>t.coordinate)}),TG=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius"];function LG(e,t){if(e==null)return{};var a,r,s=IG(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function IG(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Kr(){return Kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Kr.apply(null,arguments)}function H3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Ru(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?H3(Object(a),!0).forEach(function(r){zG(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function zG(e,t,a){return(t=$G(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $G(e){var t=BG(e,"string");return typeof t=="symbol"?t:t+""}function BG(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FG=(e,t,a,r)=>{var s="";return r.forEach((l,c)=>{var d=Pt(t,a,e,l);c?s+="L ".concat(d.x,",").concat(d.y):s+="M ".concat(d.x,",").concat(d.y)}),s+="Z",s},UG=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:s,polarAngles:l,radialLines:c}=e;if(!l||!l.length||!c)return null;var d=Ru({stroke:"#ccc"},Bt(e));return x.createElement("g",{className:"recharts-polar-grid-angle"},l.map(m=>{var f=Pt(t,a,r,m),h=Pt(t,a,s,m);return x.createElement("line",Kr({key:"line-".concat(m)},d,{x1:f.x,y1:f.y,x2:h.x,y2:h.y}))}))},V3=e=>{var{cx:t,cy:a,radius:r}=e,s=Ru({stroke:"#ccc",fill:"none"},Bt(e));return x.createElement("circle",Kr({},s,{className:at("recharts-polar-grid-concentric-circle",e.className),cx:t,cy:a,r}))},K3=e=>{var{radius:t}=e,a=Ru({stroke:"#ccc",fill:"none"},Bt(e));return x.createElement("path",Kr({},a,{className:at("recharts-polar-grid-concentric-polygon",e.className),d:FG(t,e.cx,e.cy,e.polarAngles)}))},qG=e=>{var{polarRadius:t,gridType:a}=e;if(!t||!t.length)return null;var r=Math.max(...t),s=e.fill&&e.fill!=="none";return x.createElement("g",{className:"recharts-polar-grid-concentric"},s&&a==="circle"&&x.createElement(V3,Kr({},e,{radius:r})),s&&a!=="circle"&&x.createElement(K3,Kr({},e,{radius:r})),t.map((l,c)=>{var d=c;return a==="circle"?x.createElement(V3,Kr({key:d},e,{fill:"none",radius:l})):x.createElement(K3,Kr({key:d},e,{fill:"none",radius:l}))}))},rR=e=>{var t,a,r,s,l,c,d,m,f,{gridType:h="polygon",radialLines:g=!0,angleAxisId:v=0,radiusAxisId:y=0,cx:j,cy:b,innerRadius:S,outerRadius:M,polarAngles:w,polarRadius:A}=e,O=LG(e,TG),D=Oe(fo),k=Oe(I=>PG(I,v)),_=Oe(I=>_G(I,y)),E=Array.isArray(w)?w:k,P=Array.isArray(A)?A:_;if(E==null||P==null)return null;var z=Ru(Ru({cx:(t=(a=D?.cx)!==null&&a!==void 0?a:j)!==null&&t!==void 0?t:0,cy:(r=(s=D?.cy)!==null&&s!==void 0?s:b)!==null&&r!==void 0?r:0,innerRadius:(l=(c=D?.innerRadius)!==null&&c!==void 0?c:S)!==null&&l!==void 0?l:0,outerRadius:(d=(m=D?.outerRadius)!==null&&m!==void 0?m:M)!==null&&d!==void 0?d:0,polarAngles:E,polarRadius:P},O),{},{zIndex:(f=O.zIndex)!==null&&f!==void 0?f:Lt.grid}),{outerRadius:L}=z;return L<=0?null:x.createElement(un,{zIndex:z.zIndex},x.createElement("g",{className:"recharts-polar-grid"},x.createElement(qG,Kr({gridType:h,radialLines:g},z,{polarAngles:E,polarRadius:P})),x.createElement(UG,Kr({gridType:h,radialLines:g},z,{polarAngles:E,polarRadius:P}))))};rR.displayName="PolarGrid";var uv={},mv={},W3;function HG(){return W3||(W3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){if(a.length===0)return;let s=a[0],l=r(s);for(let c=1;c<a.length;c++){const d=a[c],m=r(d);m>l&&(l=m,s=d)}return s}e.maxBy=t})(mv)),mv}var Y3;function VG(){return Y3||(Y3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HG(),a=Mp(),r=Dj();function s(l,c){if(l!=null)return t.maxBy(Array.from(l),r.iteratee(c??a.identity))}e.maxBy=s})(uv)),uv}var fv,G3;function KG(){return G3||(G3=1,fv=VG().maxBy),fv}var WG=KG();const YG=_r(WG);var hv={},pv={},Z3;function GG(){return Z3||(Z3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){if(a.length===0)return;let s=a[0],l=r(s);for(let c=1;c<a.length;c++){const d=a[c],m=r(d);m<l&&(l=m,s=d)}return s}e.minBy=t})(pv)),pv}var X3;function ZG(){return X3||(X3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GG(),a=Mp(),r=Dj();function s(l,c){if(l!=null)return t.minBy(Array.from(l),r.iteratee(c??a.identity))}e.minBy=s})(hv)),hv}var xv,Q3;function XG(){return Q3||(Q3=1,xv=ZG().minBy),xv}var QG=XG();const JG=_r(QG);var eZ={radiusAxis:{},angleAxis:{}},sR=Ua({name:"polarAxis",initialState:eZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:tZ,removeRadiusAxis:nZ,addAngleAxis:aZ,removeAngleAxis:rZ}=sR.actions,sZ=sR.reducer,iZ=["cx","cy","angle","axisLine"],lZ=["angle","tickFormatter","stroke","tick"];function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},_u.apply(null,arguments)}function J3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ti(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?J3(Object(a),!0).forEach(function(r){oZ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function oZ(e,t,a){return(t=cZ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function cZ(e){var t=dZ(e,"string");return typeof t=="symbol"?t:t+""}function dZ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iR(e,t){if(e==null)return{};var a,r,s=uZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function uZ(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var mZ="radiusAxis";function fZ(e){var t=Ft();return x.useEffect(()=>(t(tZ(e)),()=>{t(nZ(e))})),null}var hZ=(e,t,a,r)=>{var{coordinate:s}=e;return Pt(a,r,s,t)},pZ=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},xZ=(e,t,a,r)=>{var s=YG(r,c=>c.coordinate||0),l=JG(r,c=>c.coordinate||0);return{cx:t,cy:a,startAngle:e,endAngle:e,innerRadius:l?.coordinate||0,outerRadius:s?.coordinate||0,clockWise:!1}},gZ=(e,t)=>{var{cx:a,cy:r,angle:s,axisLine:l}=e,c=iR(e,iZ),d=t.reduce((g,v)=>[Math.min(g[0],v.coordinate),Math.max(g[1],v.coordinate)],[1/0,-1/0]),m=Pt(a,r,d[0],s),f=Pt(a,r,d[1],s),h=ti(ti(ti({},Bt(c)),{},{fill:"none"},Bt(l)),{},{x1:m.x,y1:m.y,x2:f.x,y2:f.y});return x.createElement("line",_u({className:"recharts-polar-radius-axis-line"},h))},yZ=(e,t,a)=>{var r;return x.isValidElement(e)?r=x.cloneElement(e,t):typeof e=="function"?r=e(t):r=x.createElement(Xc,_u({},t,{className:"recharts-polar-radius-axis-tick-value"}),a),r},vZ=(e,t)=>{var{angle:a,tickFormatter:r,stroke:s,tick:l}=e,c=iR(e,lZ),d=pZ(e.orientation),m=Bt(c),f=Qr(l),h=t.map((g,v)=>{var y=hZ(g,e.angle,e.cx,e.cy),j=ti(ti(ti(ti({textAnchor:d,transform:"rotate(".concat(90-a,", ").concat(y.x,", ").concat(y.y,")")},m),{},{stroke:"none",fill:s},f),{},{index:v},y),{},{payload:g});return x.createElement(ft,_u({className:at("recharts-polar-radius-axis-tick",kE(l)),key:"tick-".concat(g.coordinate)},As(e,g,v)),yZ(l,j,r?r(g.value,v):g.value))});return x.createElement(ft,{className:"recharts-polar-radius-axis-ticks"},h)},bZ=e=>{var{radiusAxisId:t}=e,a=Oe(fo),r=Oe(m=>hl(m,"radiusAxis",t)),s=Oe(m=>xo(m,"radiusAxis",t,!1));if(a==null||!s||!s.length||r==null)return null;var l=ti(ti({},e),{},{scale:r},a),{tick:c,axisLine:d}=l;return x.createElement(un,{zIndex:l.zIndex},x.createElement(ft,{className:at("recharts-polar-radius-axis",mZ,l.className)},d&&gZ(l,s),c&&vZ(l,s),x.createElement(JY,xZ(l.angle,l.cx,l.cy,s),x.createElement(lG,{label:l.label}),l.children)))};function lR(e){var t=Rt(e,Pa);return x.createElement(x.Fragment,null,x.createElement(fZ,{domain:t.domain,id:t.radiusAxisId,scale:t.scale,type:t.type,dataKey:t.dataKey,unit:void 0,name:t.name,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDataOverflow:t.allowDataOverflow,reversed:t.reversed,includeHidden:t.includeHidden,allowDecimals:t.allowDecimals,ticks:t.ticks,tickCount:t.tickCount,tick:t.tick}),x.createElement(bZ,t))}lR.displayName="PolarRadiusAxis";var jZ=["children"];function no(){return no=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},no.apply(null,arguments)}function e4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function os(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?e4(Object(a),!0).forEach(function(r){NZ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):e4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function NZ(e,t,a){return(t=wZ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function wZ(e){var t=SZ(e,"string");return typeof t=="symbol"?t:t+""}function SZ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AZ(e,t){if(e==null)return{};var a,r,s=CZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function CZ(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var t4=1e-5,MZ=Math.cos(qh(45)),DZ="angleAxis";function OZ(e){var t=Ft(),a=x.useMemo(()=>{var{children:l}=e,c=AZ(e,jZ);return c},[e]),r=Oe(l=>mo(l,a.id)),s=a===r;return x.useEffect(()=>(t(aZ(a)),()=>{t(rZ(a))}),[t,a]),s?e.children:null}var EZ=(e,t)=>{var{cx:a,cy:r,radius:s,orientation:l,tickSize:c}=t,d=c||8,m=Pt(a,r,s,e.coordinate),f=Pt(a,r,s+(l==="inner"?-1:1)*d,e.coordinate);return{x1:m.x,y1:m.y,x2:f.x,y2:f.y}},kZ=(e,t)=>{var a=Math.cos(qh(-e.coordinate));return a>t4?t==="outer"?"start":"end":a<-t4?t==="outer"?"end":"start":"middle"},PZ=e=>{var t=Math.cos(qh(-e.coordinate)),a=Math.sin(qh(-e.coordinate));return Math.abs(t)<=MZ?a>0?"start":"end":"middle"},RZ=e=>{var{cx:t,cy:a,radius:r,axisLineType:s,axisLine:l,ticks:c}=e;if(!l)return null;var d=os(os({},Bt(e)),{},{fill:"none"},Bt(l));if(s==="circle")return x.createElement(nN,no({className:"recharts-polar-angle-axis-line"},d,{cx:t,cy:a,r}));var m=c.map(f=>Pt(t,a,r,f.coordinate));return x.createElement(JP,no({className:"recharts-polar-angle-axis-line"},d,{points:m}))},_Z=e=>{var{tick:t,tickProps:a,value:r}=e;return t?x.isValidElement(t)?x.cloneElement(t,a):typeof t=="function"?t(a):x.createElement(Xc,no({},a,{className:"recharts-polar-angle-axis-tick-value"}),r):null},TZ=e=>{var{tick:t,tickLine:a,tickFormatter:r,stroke:s,ticks:l}=e,c=Bt(e),d=Qr(t),m=os(os({},c),{},{fill:"none"},Bt(a)),f=l.map((h,g)=>{var v=EZ(h,e),y=kZ(h,e.orientation),j=PZ(h),b=os(os(os({},c),{},{textAnchor:y,verticalAnchor:j,stroke:"none",fill:s},d),{},{index:g,payload:h,x:v.x2,y:v.y2});return x.createElement(ft,no({className:at("recharts-polar-angle-axis-tick",kE(t)),key:"tick-".concat(h.coordinate)},As(e,h,g)),a&&x.createElement("line",no({className:"recharts-polar-angle-axis-tick-line"},m,v)),x.createElement(_Z,{tick:t,tickProps:b,value:r?r(h.value,g):h.value}))});return x.createElement(ft,{className:"recharts-polar-angle-axis-ticks"},f)},LZ=e=>{var{angleAxisId:t}=e,a=Oe(fo),r=Oe(d=>hl(d,"angleAxis",t)),s=vn(),l=Oe(d=>OG(d,"angleAxis",t,s));if(a==null||!l||!l.length||r==null)return null;var c=os(os(os({},e),{},{scale:r},a),{},{radius:a.outerRadius,ticks:l});return x.createElement(un,{zIndex:c.zIndex},x.createElement(ft,{className:at("recharts-polar-angle-axis",DZ,c.className)},x.createElement(RZ,c),x.createElement(TZ,c)))};function oR(e){var t=Rt(e,ls);return x.createElement(OZ,{id:t.angleAxisId,scale:t.scale,type:t.type,dataKey:t.dataKey,unit:void 0,name:t.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:t.reversed,includeHidden:!1,allowDecimals:t.allowDecimals,tickCount:t.tickCount,ticks:t.ticks,tick:t.tick,domain:t.domain},x.createElement(LZ,t))}oR.displayName="PolarAngleAxis";function n4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function a4(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?n4(Object(a),!0).forEach(function(r){IZ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function IZ(e,t,a){return(t=zZ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function zZ(e){var t=$Z(e,"string");return typeof t=="symbol"?t:t+""}function $Z(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BZ=(e,t)=>t,sN=te([um,BZ],(e,t)=>e.filter(a=>a.type==="pie").find(a=>a.id===t)),FZ=[],iN=(e,t,a)=>a?.length===0?FZ:a,cR=te([zc,sN,iN],(e,t,a)=>{var{chartData:r}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=r,(!s||!s.length)&&a!=null&&(s=a.map(l=>a4(a4({},t.presentationProps),l.props))),s!=null)return s}}),UZ=te([cR,sN,iN],(e,t,a)=>{if(!(e==null||t==null))return e.map((r,s)=>{var l,c=bt(r,t.nameKey,t.name),d;return a!=null&&(l=a[s])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?d=a[s].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=t.fill,{value:or(c,t.dataKey),color:d,payload:r,type:t.legendType}})}),qZ=te([cR,sN,iN,Fn],(e,t,a,r)=>{if(!(t==null||e==null))return UX({offset:r,pieSettings:t,displayedData:e,cells:a})}),gv={exports:{}},_t={};var r4;function HZ(){if(r4)return _t;r4=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,a=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,l=e?Symbol.for("react.profiler"):60114,c=e?Symbol.for("react.provider"):60109,d=e?Symbol.for("react.context"):60110,m=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,g=e?Symbol.for("react.suspense"):60113,v=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,j=e?Symbol.for("react.lazy"):60116,b=e?Symbol.for("react.block"):60121,S=e?Symbol.for("react.fundamental"):60117,M=e?Symbol.for("react.responder"):60118,w=e?Symbol.for("react.scope"):60119;function A(D){if(typeof D=="object"&&D!==null){var k=D.$$typeof;switch(k){case t:switch(D=D.type,D){case m:case f:case r:case l:case s:case g:return D;default:switch(D=D&&D.$$typeof,D){case d:case h:case j:case y:case c:return D;default:return k}}case a:return k}}}function O(D){return A(D)===f}return _t.AsyncMode=m,_t.ConcurrentMode=f,_t.ContextConsumer=d,_t.ContextProvider=c,_t.Element=t,_t.ForwardRef=h,_t.Fragment=r,_t.Lazy=j,_t.Memo=y,_t.Portal=a,_t.Profiler=l,_t.StrictMode=s,_t.Suspense=g,_t.isAsyncMode=function(D){return O(D)||A(D)===m},_t.isConcurrentMode=O,_t.isContextConsumer=function(D){return A(D)===d},_t.isContextProvider=function(D){return A(D)===c},_t.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===t},_t.isForwardRef=function(D){return A(D)===h},_t.isFragment=function(D){return A(D)===r},_t.isLazy=function(D){return A(D)===j},_t.isMemo=function(D){return A(D)===y},_t.isPortal=function(D){return A(D)===a},_t.isProfiler=function(D){return A(D)===l},_t.isStrictMode=function(D){return A(D)===s},_t.isSuspense=function(D){return A(D)===g},_t.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===r||D===f||D===l||D===s||D===g||D===v||typeof D=="object"&&D!==null&&(D.$$typeof===j||D.$$typeof===y||D.$$typeof===c||D.$$typeof===d||D.$$typeof===h||D.$$typeof===S||D.$$typeof===M||D.$$typeof===w||D.$$typeof===b)},_t.typeOf=A,_t}var s4;function VZ(){return s4||(s4=1,gv.exports=HZ()),gv.exports}var KZ=VZ(),i4=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",l4=null,yv=null,dR=e=>{if(e===l4&&Array.isArray(yv))return yv;var t=[];return x.Children.forEach(e,a=>{At(a)||(KZ.isFragment(a)?t=t.concat(dR(a.props.children)):t.push(a))}),yv=t,l4=e,t};function fm(e,t){var a=[],r=[];return Array.isArray(t)?r=t.map(s=>i4(s)):r=[i4(t)],dR(e).forEach(s=>{var l=Ql(s,"type.displayName")||Ql(s,"type.name");l&&r.indexOf(l)!==-1&&a.push(s)}),a}var lN=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,vv={},o4;function WZ(){return o4||(o4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){if(typeof a!="object"||a==null)return!1;if(Object.getPrototypeOf(a)===null)return!0;if(Object.prototype.toString.call(a)!=="[object Object]"){const s=a[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(a,Symbol.toStringTag)?.writable?!1:a.toString()===`[object ${s}]`}let r=a;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(a)===r}e.isPlainObject=t})(vv)),vv}var bv,c4;function YZ(){return c4||(c4=1,bv=WZ().isPlainObject),bv}var GZ=YZ();const ZZ=_r(GZ);function d4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function u4(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?d4(Object(a),!0).forEach(function(r){XZ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function XZ(e,t,a){return(t=QZ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function QZ(e){var t=JZ(e,"string");return typeof t=="symbol"?t:t+""}function JZ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},rp.apply(null,arguments)}var m4=(e,t,a,r,s)=>{var l=a-r,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+a,",").concat(t),c+="L ".concat(e+a-l/2,",").concat(t+s),c+="L ".concat(e+a-l/2-r,",").concat(t+s),c+="L ".concat(e,",").concat(t," Z"),c},eX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tX=e=>{var t=Rt(e,eX),{x:a,y:r,upperWidth:s,lowerWidth:l,height:c,className:d}=t,{animationEasing:m,animationDuration:f,animationBegin:h,isUpdateAnimationActive:g}=t,v=x.useRef(null),[y,j]=x.useState(-1),b=x.useRef(s),S=x.useRef(l),M=x.useRef(c),w=x.useRef(a),A=x.useRef(r),O=wi(e,"trapezoid-");if(x.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var T=v.current.getTotalLength();T&&j(T)}catch{}},[]),a!==+a||r!==+r||s!==+s||l!==+l||c!==+c||s===0&&l===0||c===0)return null;var D=at("recharts-trapezoid",d);if(!g)return x.createElement("g",null,x.createElement("path",rp({},Sn(t),{className:D,d:m4(a,r,s,l,c)})));var k=b.current,_=S.current,E=M.current,P=w.current,z=A.current,L="0px ".concat(y===-1?1:y,"px"),I="".concat(y,"px 0px"),J=AE(["strokeDasharray"],f,m);return x.createElement(Ni,{animationId:O,key:O,canBegin:y>0,duration:f,easing:m,isActive:g,begin:h},T=>{var Y=ct(k,s,T),V=ct(_,l,T),B=ct(E,c,T),U=ct(P,a,T),F=ct(z,r,T);v.current&&(b.current=Y,S.current=V,M.current=B,w.current=U,A.current=F);var W=T>0?{transition:J,strokeDasharray:I}:{strokeDasharray:L};return x.createElement("path",rp({},Sn(t),{className:D,d:m4(U,F,Y,V,B),ref:v,style:u4(u4({},W),t.style)}))})},nX=["option","shapeType","propTransformer","activeClassName"];function aX(e,t){if(e==null)return{};var a,r,s=rX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function rX(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function f4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function sp(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?f4(Object(a),!0).forEach(function(r){sX(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function sX(e,t,a){return(t=iX(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function iX(e){var t=lX(e,"string");return typeof t=="symbol"?t:t+""}function lX(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oX(e,t){return sp(sp({},t),e)}function cX(e,t){return e==="symbols"}function h4(e){var{shapeType:t,elementProps:a}=e;switch(t){case"rectangle":return x.createElement(OE,a);case"trapezoid":return x.createElement(tX,a);case"sector":return x.createElement(_E,a);case"symbols":if(cX(t))return x.createElement(Cp,a);break;case"curve":return x.createElement(Kl,a);default:return null}}function dX(e){return x.isValidElement(e)?e.props:e}function Pc(e){var{option:t,shapeType:a,propTransformer:r=oX,activeClassName:s="recharts-active-shape"}=e,l=aX(e,nX),c;if(x.isValidElement(t))c=x.cloneElement(t,sp(sp({},l),dX(t)));else if(typeof t=="function")c=t(l,l.index);else if(ZZ(t)&&typeof t!="boolean"){var d=r(t,l);c=x.createElement(h4,{shapeType:a,elementProps:d})}else{var m=l;c=x.createElement(h4,{shapeType:a,elementProps:m})}return l.isActive?x.createElement(ft,{className:s},c):c}var hm=(e,t,a)=>{var r=Ft();return(s,l)=>c=>{e?.(s,l,c),r(mP({activeIndex:String(l),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:a}))}},pm=e=>{var t=Ft();return(a,r)=>s=>{e?.(a,r,s),t(xK())}},xm=(e,t,a)=>{var r=Ft();return(s,l)=>c=>{e?.(s,l,c),r(gK({activeIndex:String(l),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:a}))}};function go(e){var{tooltipEntrySettings:t}=e,a=Ft(),r=vn(),s=x.useRef(null);return x.useLayoutEffect(()=>{r||(s.current===null?a(mK(t)):s.current!==t&&a(fK({prev:s.current,next:t})),s.current=t)},[t,a,r]),x.useLayoutEffect(()=>()=>{s.current&&(a(hK(s.current)),s.current=null)},[a]),null}function dx(e){var{legendPayload:t}=e,a=Ft(),r=vn(),s=x.useRef(null);return x.useLayoutEffect(()=>{r||(s.current===null?a(jE(t)):s.current!==t&&a(NE({prev:s.current,next:t})),s.current=t)},[a,r,t]),x.useLayoutEffect(()=>()=>{s.current&&(a(wE(s.current)),s.current=null)},[a]),null}function oN(e){var{legendPayload:t}=e,a=Ft(),r=Oe(et),s=x.useRef(null);return x.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(s.current===null?a(jE(t)):s.current!==t&&a(NE({prev:s.current,next:t})),s.current=t)},[a,r,t]),x.useLayoutEffect(()=>()=>{s.current&&(a(wE(s.current)),s.current=null)},[a]),null}var jv,uX=()=>{var[e]=x.useState(()=>yu("uid-"));return e},mX=(jv=QT.useId)!==null&&jv!==void 0?jv:uX;function uR(e,t){var a=mX();return t||(e?"".concat(e,"-").concat(a):a)}var fX=x.createContext(void 0),yo=e=>{var{id:t,type:a,children:r}=e,s=uR("recharts-".concat(a),t);return x.createElement(fX.Provider,{value:s},r(s))},hX={cartesianItems:[],polarItems:[]},mR=Ua({name:"graphicalItems",initialState:hX,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:cn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:a,next:r}=t.payload,s=Yr(e).cartesianItems.indexOf(a);s>-1&&(e.cartesianItems[s]=r)},prepare:cn()},removeCartesianGraphicalItem:{reducer(e,t){var a=Yr(e).cartesianItems.indexOf(t.payload);a>-1&&e.cartesianItems.splice(a,1)},prepare:cn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:cn()},removePolarGraphicalItem:{reducer(e,t){var a=Yr(e).polarItems.indexOf(t.payload);a>-1&&e.polarItems.splice(a,1)},prepare:cn()}}}),{addCartesianGraphicalItem:pX,replaceCartesianGraphicalItem:xX,removeCartesianGraphicalItem:gX,addPolarGraphicalItem:yX,removePolarGraphicalItem:vX}=mR.actions,bX=mR.reducer,jX=e=>{var t=Ft(),a=x.useRef(null);return x.useLayoutEffect(()=>{a.current===null?t(pX(e)):a.current!==e&&t(xX({prev:a.current,next:e})),a.current=e},[t,e]),x.useLayoutEffect(()=>()=>{a.current&&(t(gX(a.current)),a.current=null)},[t]),null},ux=x.memo(jX);function cN(e){var t=Ft();return x.useLayoutEffect(()=>(t(yX(e)),()=>{t(vX(e))}),[t,e]),null}var NX=["key"],wX=["onMouseEnter","onClick","onMouseLeave"],SX=["id"],AX=["id"];function p4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function yn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?p4(Object(a),!0).forEach(function(r){CX(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function CX(e,t,a){return(t=MX(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function MX(e){var t=DX(e,"string");return typeof t=="symbol"?t:t+""}function DX(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cl(){return cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},cl.apply(null,arguments)}function mx(e,t){if(e==null)return{};var a,r,s=OX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function OX(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function EX(e){var t=x.useMemo(()=>fm(e.children,An),[e.children]),a=Oe(r=>UZ(r,e.id,t));return a==null?null:x.createElement(oN,{legendPayload:a})}var kX=x.memo(e=>{var{dataKey:t,nameKey:a,sectors:r,stroke:s,strokeWidth:l,fill:c,name:d,hide:m,tooltipType:f}=e,h={dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:s,strokeWidth:l,fill:c,dataKey:t,nameKey:a,name:or(d,t),hide:m,type:f,color:c,unit:""}};return x.createElement(go,{tooltipEntrySettings:h})}),PX=(e,t)=>e>t?"start":e<t?"end":"middle",RX=(e,t,a)=>xa(typeof t=="function"?t(e):t,a,a*.8),_X=(e,t,a)=>{var{top:r,left:s,width:l,height:c}=t,d=EE(l,c),m=s+xa(e.cx,l,l/2),f=r+xa(e.cy,c,c/2),h=xa(e.innerRadius,d,0),g=RX(a,e.outerRadius,d),v=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:m,cy:f,innerRadius:h,outerRadius:g,maxRadius:v}},TX=(e,t)=>{var a=_n(t-e),r=Math.min(Math.abs(t-e),360);return a*r};function LX(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var IX=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var a=at("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,s=mx(t,NX);return x.createElement(Kl,cl({},s,{type:"linear",className:a}))},zX=(e,t,a)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var r=a;if(typeof e=="function"&&(r=e(t),x.isValidElement(r)))return r;var s=at("recharts-pie-label-text",LX(e));return x.createElement(Xc,cl({},t,{alignmentBaseline:"middle",className:s}),r)};function $X(e){var{sectors:t,props:a,showLabels:r}=e,{label:s,labelLine:l,dataKey:c}=a;if(!r||!s||!t)return null;var d=Bt(a),m=Qr(s),f=Qr(l),h=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,g=t.map((v,y)=>{var j=(v.startAngle+v.endAngle)/2,b=Pt(v.cx,v.cy,v.outerRadius+h,j),S=yn(yn(yn(yn({},d),v),{},{stroke:"none"},m),{},{index:y,textAnchor:PX(b.x,v.cx)},b),M=yn(yn(yn(yn({},d),v),{},{fill:"none",stroke:v.fill},f),{},{index:y,points:[Pt(v.cx,v.cy,v.outerRadius,j),b],key:"line"});return x.createElement(un,{zIndex:Lt.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},x.createElement(ft,null,l&&IX(l,M),zX(s,S,bt(v,c))))});return x.createElement(ft,{className:"recharts-pie-labels"},g)}function BX(e){var{sectors:t,props:a,showLabels:r}=e,{label:s}=a;return typeof s=="object"&&s!=null&&"position"in s?x.createElement(po,{label:s}):x.createElement($X,{sectors:t,props:a,showLabels:r})}function FX(e){var{sectors:t,activeShape:a,inactiveShape:r,allOtherPieProps:s,shape:l,id:c}=e,d=Oe(ws),m=Oe(Z1),f=Oe(nW),{onMouseEnter:h,onClick:g,onMouseLeave:v}=s,y=mx(s,wX),j=hm(h,s.dataKey,c),b=pm(v),S=xm(g,s.dataKey,c);return t==null||t.length===0?null:x.createElement(x.Fragment,null,t.map((M,w)=>{if(M?.startAngle===0&&M?.endAngle===0&&t.length!==1)return null;var A=f==null||f===c,O=String(w)===d&&(m==null||s.dataKey===m)&&A,D=d?r:null,k=a&&O?a:D,_=yn(yn({},M),{},{stroke:M.stroke,tabIndex:-1,[zj]:w,[$j]:s.dataKey});return x.createElement(ft,cl({key:"sector-".concat(M?.startAngle,"-").concat(M?.endAngle,"-").concat(M.midAngle,"-").concat(w),tabIndex:-1,className:"recharts-pie-sector"},As(y,M,w),{onMouseEnter:j(M,w),onMouseLeave:b(M,w),onClick:S(M,w)}),x.createElement(Pc,cl({option:l??k,index:w,shapeType:"sector",isActive:O},_)))}))}function UX(e){var t,{pieSettings:a,displayedData:r,cells:s,offset:l}=e,{cornerRadius:c,startAngle:d,endAngle:m,dataKey:f,nameKey:h,tooltipType:g}=a,v=Math.abs(a.minAngle),y=TX(d,m),j=Math.abs(y),b=r.length<=1?0:(t=a.paddingAngle)!==null&&t!==void 0?t:0,S=r.filter(k=>bt(k,f,0)!==0).length,M=(j>=360?S:S-1)*b,w=j-S*v-M,A=r.reduce((k,_)=>{var E=bt(_,f,0);return k+(Pe(E)?E:0)},0),O;if(A>0){var D;O=r.map((k,_)=>{var E=bt(k,f,0),P=bt(k,h,_),z=_X(a,l,k),L=(Pe(E)?E:0)/A,I,J=yn(yn({},k),s&&s[_]&&s[_].props);_?I=D.endAngle+_n(y)*b*(E!==0?1:0):I=d;var T=I+_n(y)*((E!==0?v:0)+L*w),Y=(I+T)/2,V=(z.innerRadius+z.outerRadius)/2,B=[{name:P,value:E,payload:J,dataKey:f,type:g}],U=Pt(z.cx,z.cy,V,Y);return D=yn(yn(yn(yn({},a.presentationProps),{},{percent:L,cornerRadius:typeof c=="string"?parseFloat(c):c,name:P,tooltipPayload:B,midAngle:Y,middleRadius:V,tooltipPosition:U},J),z),{},{value:E,dataKey:f,startAngle:I,endAngle:T,payload:J,paddingAngle:_n(y)*b}),D})}return O}function qX(e){var{showLabels:t,sectors:a,children:r}=e,s=x.useMemo(()=>!t||!a?[]:a.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[a,t]);return x.createElement(QP,{value:t?s:void 0},r)}function HX(e){var{props:t,previousSectorsRef:a,id:r}=e,{sectors:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:m,activeShape:f,inactiveShape:h,onAnimationStart:g,onAnimationEnd:v}=t,y=wi(t,"recharts-pie-"),j=a.current,[b,S]=x.useState(!1),M=x.useCallback(()=>{typeof v=="function"&&v(),S(!1)},[v]),w=x.useCallback(()=>{typeof g=="function"&&g(),S(!0)},[g]);return x.createElement(qX,{showLabels:!b,sectors:s},x.createElement(Ni,{animationId:y,begin:c,duration:d,isActive:l,easing:m,onAnimationStart:w,onAnimationEnd:M,key:y},A=>{var O=[],D=s&&s[0],k=D?.startAngle;return s?.forEach((_,E)=>{var P=j&&j[E],z=E>0?Ql(_,"paddingAngle",0):0;if(P){var L=ct(P.endAngle-P.startAngle,_.endAngle-_.startAngle,A),I=yn(yn({},_),{},{startAngle:k+z,endAngle:k+L+z});O.push(I),k=I.endAngle}else{var{endAngle:J,startAngle:T}=_,Y=ct(0,J-T,A),V=yn(yn({},_),{},{startAngle:k+z,endAngle:k+Y+z});O.push(V),k=V.endAngle}}),a.current=O,x.createElement(ft,null,x.createElement(FX,{sectors:O,activeShape:f,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:r}))}),x.createElement(BX,{showLabels:!b,sectors:s,props:t}),t.children)}var VX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Lt.area};function KX(e){var{id:t}=e,a=mx(e,SX),{hide:r,className:s,rootTabIndex:l}=e,c=x.useMemo(()=>fm(e.children,An),[e.children]),d=Oe(h=>qZ(h,t,c)),m=x.useRef(null),f=at("recharts-pie",s);return r||d==null?(m.current=null,x.createElement(ft,{tabIndex:l,className:f})):x.createElement(un,{zIndex:e.zIndex},x.createElement(kX,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:d,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),x.createElement(ft,{tabIndex:l,className:f},x.createElement(HX,{props:yn(yn({},a),{},{sectors:d}),previousSectorsRef:m,id:t})))}function Fa(e){var t=Rt(e,VX),{id:a}=t,r=mx(t,AX),s=Bt(r);return x.createElement(yo,{id:a,type:"pie"},l=>x.createElement(x.Fragment,null,x.createElement(cN,{type:"pie",id:l,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),x.createElement(EX,cl({},r,{id:l})),x.createElement(KX,cl({},r,{id:l}))))}Fa.displayName="Pie";var WX=["points"];function x4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Nv(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?x4(Object(a),!0).forEach(function(r){YX(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function YX(e,t,a){return(t=GX(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function GX(e){var t=ZX(e,"string");return typeof t=="symbol"?t:t+""}function ZX(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ip.apply(null,arguments)}function XX(e,t){if(e==null)return{};var a,r,s=QX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function QX(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function JX(e){var{option:t,dotProps:a,className:r}=e;if(x.isValidElement(t))return x.cloneElement(t,a);if(typeof t=="function")return t(a);var s=at(r,typeof t!="boolean"?t.className:""),l=a??{},{points:c}=l,d=XX(l,WX);return x.createElement(nN,ip({},d,{className:s}))}function eQ(e,t){return e==null?!1:t?!0:e.length===1}function dN(e){var{points:t,dot:a,className:r,dotClassName:s,dataKey:l,baseProps:c,needClip:d,clipPathId:m,zIndex:f=Lt.scatter}=e;if(!eQ(t,a))return null;var h=lN(a),g=S9(a),v=t.map((j,b)=>{var S,M,w=Nv(Nv(Nv({r:3},c),g),{},{index:b,cx:(S=j.x)!==null&&S!==void 0?S:void 0,cy:(M=j.y)!==null&&M!==void 0?M:void 0,dataKey:l,value:j.value,payload:j.payload,points:t});return x.createElement(JX,{key:"dot-".concat(b),option:a,dotProps:w,className:s})}),y={};return d&&m!=null&&(y.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(m,")")),x.createElement(un,{zIndex:f},x.createElement(ft,ip({className:r},y),v))}function g4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function y4(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?g4(Object(a),!0).forEach(function(r){tQ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function tQ(e,t,a){return(t=nQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function nQ(e){var t=aQ(e,"string");return typeof t=="symbol"?t:t+""}function aQ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rQ={xAxis:{},yAxis:{},zAxis:{}},fR=Ua({name:"cartesianAxis",initialState:rQ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:cn()},replaceXAxis:{reducer(e,t){var{prev:a,next:r}=t.payload;e.xAxis[a.id]!==void 0&&(a.id!==r.id&&delete e.xAxis[a.id],e.xAxis[r.id]=r)},prepare:cn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:cn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:cn()},replaceYAxis:{reducer(e,t){var{prev:a,next:r}=t.payload;e.yAxis[a.id]!==void 0&&(a.id!==r.id&&delete e.yAxis[a.id],e.yAxis[r.id]=r)},prepare:cn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:cn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:cn()},replaceZAxis:{reducer(e,t){var{prev:a,next:r}=t.payload;e.zAxis[a.id]!==void 0&&(a.id!==r.id&&delete e.zAxis[a.id],e.zAxis[r.id]=r)},prepare:cn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:cn()},updateYAxisWidth(e,t){var{id:a,width:r}=t.payload,s=e.yAxis[a];if(s){var l=s.widthHistory||[];if(l.length===3&&l[0]===l[2]&&r===l[1]&&r!==s.width&&Math.abs(r-l[0])<=1)return;var c=[...l,r].slice(-3);e.yAxis[a]=y4(y4({},e.yAxis[a]),{},{width:r,widthHistory:c})}}}}),{addXAxis:sQ,replaceXAxis:iQ,removeXAxis:lQ,addYAxis:oQ,replaceYAxis:cQ,removeYAxis:dQ,addZAxis:uQ,replaceZAxis:mQ,removeZAxis:fQ,updateYAxisWidth:hQ}=fR.actions,pQ=fR.reducer,xQ=te([Fn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),gQ=te([xQ,bi,ji],(e,t,a)=>{if(!(!e||t==null||a==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,a-e.top-e.bottom)}}),fx=()=>Oe(gQ),yQ=()=>Oe(lW);function v4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function wv(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?v4(Object(a),!0).forEach(function(r){vQ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function vQ(e,t,a){return(t=bQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function bQ(e){var t=jQ(e,"string");return typeof t=="symbol"?t:t+""}function jQ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NQ=e=>{var{point:t,childIndex:a,mainColor:r,activeDot:s,dataKey:l,clipPath:c}=e;if(s===!1||t.x==null||t.y==null)return null;var d={index:a,dataKey:l,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},m=wv(wv(wv({},d),Qr(s)),Cj(s)),f;return x.isValidElement(s)?f=x.cloneElement(s,m):typeof s=="function"?f=s(m):f=x.createElement(nN,m),x.createElement(ft,{className:"recharts-active-dot",clipPath:c},f)};function lp(e){var{points:t,mainColor:a,activeDot:r,itemDataKey:s,clipPath:l,zIndex:c=Lt.activeDot}=e,d=Oe(ws),m=yQ();if(t==null||m==null)return null;var f=t.find(h=>m.includes(h.payload));return At(f)?null:x.createElement(un,{zIndex:c},x.createElement(NQ,{point:f,childIndex:Number(d),mainColor:a,dataKey:s,activeDot:r,clipPath:l}))}function b4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function op(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?b4(Object(a),!0).forEach(function(r){wQ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function wQ(e,t,a){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function SQ(e){var t=AQ(e,"string");return typeof t=="symbol"?t:t+""}function AQ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hR=(e,t)=>hl(e,"radiusAxis",t),CQ=te([hR],e=>{if(e!=null)return{scale:e}}),MQ=te([qc,hR],(e,t)=>{if(!(e==null||t==null))return op(op({},e),{},{scale:t})}),DQ=(e,t,a,r)=>xo(e,"radiusAxis",t,r),pR=(e,t,a)=>mo(e,a),xR=(e,t,a)=>hl(e,"angleAxis",a),OQ=te([pR,xR],(e,t)=>{if(!(e==null||t==null))return op(op({},e),{},{scale:t})}),EQ=(e,t,a,r)=>xo(e,"angleAxis",a,r),kQ=te([pR,xR,fo],(e,t,a)=>{if(!(a==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:a.cx,cy:a.cy}}),PQ=(e,t,a,r,s)=>s,RQ=te([et,MQ,DQ,OQ,EQ],(e,t,a,r,s)=>Lr(e,"radiusAxis")?Ba(t,a,!1):Ba(r,s,!1)),_Q=te([um,PQ],(e,t)=>{if(e!=null){var a=e.find(r=>r.type==="radar"&&t===r.id);return a?.dataKey}}),TQ=te([CQ,kQ,zc,_Q,RQ],(e,t,a,r,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=a;if(!(e==null||t==null||l==null||s==null||r==null)){var m=l.slice(c,d+1);return VQ({radiusAxis:e,angleAxis:t,displayedData:m,dataKey:r,bandSize:s})}}),LQ=["id"];function Tu(){return Tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Tu.apply(null,arguments)}function j4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function _a(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?j4(Object(a),!0).forEach(function(r){IQ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function IQ(e,t,a){return(t=zQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function zQ(e){var t=$Q(e,"string");return typeof t=="symbol"?t:t+""}function $Q(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BQ(e,t){if(e==null)return{};var a,r,s=FQ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function FQ(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function uN(e,t){return e&&e!=="none"?e:t}var UQ=e=>{var{dataKey:t,name:a,stroke:r,fill:s,legendType:l,hide:c}=e;return[{inactive:c,dataKey:t,type:l,color:uN(r,s),value:or(a,t),payload:e}]},qQ=x.memo(e=>{var{dataKey:t,stroke:a,strokeWidth:r,fill:s,name:l,hide:c,tooltipType:d}=e,m={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:r,fill:s,nameKey:void 0,dataKey:t,name:or(l,t),hide:c,type:d,color:uN(a,s),unit:""}};return x.createElement(go,{tooltipEntrySettings:m})});function HQ(e){var{points:t,props:a}=e,{dot:r,dataKey:s}=a,{id:l}=a,c=BQ(a,LQ),d=Bt(c);return x.createElement(dN,{points:t,dot:r,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:s,baseProps:d})}function VQ(e){var{radiusAxis:t,angleAxis:a,displayedData:r,dataKey:s,bandSize:l}=e,{cx:c,cy:d}=a,m=!1,f=[],h=a.type!=="number"?l??0:0;r.forEach((v,y)=>{var j=bt(v,a.dataKey,y),b=bt(v,s),S=a.scale(j)+h,M=Array.isArray(b)?GP(b):b,w=At(M)?0:t.scale(M);Array.isArray(b)&&b.length>=2&&(m=!0),f.push(_a(_a({},Pt(c,d,w,S)),{},{name:j,value:b,cx:c,cy:d,radius:w,angle:S,payload:v}))});var g=[];return m&&f.forEach(v=>{if(Array.isArray(v.value)){var y=v.value[0],j=At(y)?0:t.scale(y);g.push(_a(_a({},v),{},{radius:j},Pt(c,d,j,v.angle)))}else g.push(v)}),{points:f,isRange:m,baseLinePoints:g}}function KQ(e){var{showLabels:t,points:a,children:r}=e,s=a.map(l=>{var c,d={x:l.x,y:l.y,width:0,lowerWidth:0,upperWidth:0,height:0};return _a(_a({},d),{},{value:(c=l.value)!==null&&c!==void 0?c:"",payload:l.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return x.createElement(dm,{value:t?s:void 0},r)}function WQ(e){var{points:t,baseLinePoints:a,props:r}=e;if(t==null)return null;var{shape:s,isRange:l,connectNulls:c}=r,d=h=>{var{onMouseEnter:g}=r;g&&g(r,h)},m=h=>{var{onMouseLeave:g}=r;g&&g(r,h)},f;return x.isValidElement(s)?f=x.cloneElement(s,_a(_a({},r),{},{points:t})):typeof s=="function"?f=s(_a(_a({},r),{},{points:t})):f=x.createElement(JP,Tu({},Sn(r),{onMouseEnter:d,onMouseLeave:m,points:t,baseLinePoints:l?a:void 0,connectNulls:c})),x.createElement(ft,{className:"recharts-radar-polygon"},f,x.createElement(HQ,{props:r,points:t}))}var N4=(e,t,a)=>(r,s)=>{var l=e&&e[Math.floor(s*t)];return l?_a(_a({},r),{},{x:ct(l.x,r.x,a),y:ct(l.y,r.y,a)}):_a(_a({},r),{},{x:ct(r.cx,r.x,a),y:ct(r.cy,r.y,a)})};function YQ(e){var{props:t,previousPointsRef:a,previousBaseLinePointsRef:r}=e,{points:s,baseLinePoints:l,isAnimationActive:c,animationBegin:d,animationDuration:m,animationEasing:f,onAnimationEnd:h,onAnimationStart:g}=t,v=a.current,y=r.current,j=v?v.length/s.length:1,b=y?y.length/l.length:1,S=wi(t,"recharts-radar-"),[M,w]=x.useState(!1),A=!M,O=x.useCallback(()=>{typeof h=="function"&&h(),w(!1)},[h]),D=x.useCallback(()=>{typeof g=="function"&&g(),w(!0)},[g]);return x.createElement(KQ,{showLabels:A,points:s},x.createElement(Ni,{animationId:S,begin:d,duration:m,isActive:c,easing:f,key:"radar-".concat(S),onAnimationEnd:O,onAnimationStart:D},k=>{var _=k===1?s:s.map(N4(v,j,k)),E=k===1?l:l?.map(N4(y,b,k));return k>0&&(a.current=_,r.current=E),x.createElement(WQ,{points:_,baseLinePoints:E,props:t})}),x.createElement(po,{label:t.label}),t.children)}function GQ(e){var t=x.useRef(void 0),a=x.useRef(void 0);return x.createElement(YQ,{props:e,previousPointsRef:t,previousBaseLinePointsRef:a})}var ZQ={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:Lt.area};function XQ(e){var{hide:t,className:a,points:r}=e;if(t)return null;var s=at("recharts-radar",a);return x.createElement(un,{zIndex:e.zIndex},x.createElement(ft,{className:s},x.createElement(GQ,e)),x.createElement(lp,{points:r,mainColor:uN(e.stroke,e.fill),itemDataKey:e.dataKey,activeDot:e.activeDot}))}function QQ(e){var t=vn(),a=Oe(r=>TQ(r,e.radiusAxisId,e.angleAxisId,t,e.id));return a?.points==null?null:x.createElement(XQ,Tu({},e,{points:a?.points,baseLinePoints:a?.baseLinePoints,isRange:a?.isRange}))}function gR(e){var t=Rt(e,ZQ);return x.createElement(yo,{id:t.id,type:"radar"},a=>x.createElement(x.Fragment,null,x.createElement(cN,{type:"radar",id:a,data:void 0,dataKey:t.dataKey,hide:t.hide,angleAxisId:t.angleAxisId,radiusAxisId:t.radiusAxisId}),x.createElement(oN,{legendPayload:UQ(t)}),x.createElement(qQ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),x.createElement(QQ,Tu({},t,{id:a}))))}gR.displayName="Radar";function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ub.apply(null,arguments)}function w4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Sv(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(a),!0).forEach(function(r){JQ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function JQ(e,t,a){return(t=eJ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function eJ(e){var t=tJ(e,"string");return typeof t=="symbol"?t:t+""}function tJ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yR(e){return typeof e=="string"?parseInt(e,10):e}function nJ(e,t){var a="".concat(t.cx||e.cx),r=Number(a),s="".concat(t.cy||e.cy),l=Number(s);return Sv(Sv(Sv({},t),e),{},{cx:r,cy:l})}function qb(e){return x.createElement(Pc,Ub({shapeType:"sector",propTransformer:nJ},e))}var aJ="Invariant failed";function rJ(e,t){throw new Error(aJ)}var sJ=["x","y"];function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Hb.apply(null,arguments)}function S4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Jd(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?S4(Object(a),!0).forEach(function(r){iJ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function iJ(e,t,a){return(t=lJ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function lJ(e){var t=oJ(e,"string");return typeof t=="symbol"?t:t+""}function oJ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cJ(e,t){if(e==null)return{};var a,r,s=dJ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function dJ(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function uJ(e,t){var{x:a,y:r}=e,s=cJ(e,sJ),l="".concat(a),c=parseInt(l,10),d="".concat(r),m=parseInt(d,10),f="".concat(t.height||s.height),h=parseInt(f,10),g="".concat(t.width||s.width),v=parseInt(g,10);return Jd(Jd(Jd(Jd(Jd({},t),s),c?{x:c}:{}),m?{y:m}:{}),{},{height:h,width:v,name:t.name,radius:t.radius})}function cp(e){return x.createElement(Pc,Hb({shapeType:"rectangle",propTransformer:uJ,activeClassName:"recharts-active-bar"},e))}var mJ=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,s)=>{if(Pe(t))return t;var l=Pe(r)||At(r);return l?t(r,s):(l||rJ(),a)}},fJ={},vR=Ua({name:"errorBars",initialState:fJ,reducers:{addErrorBar:(e,t)=>{var{itemId:a,errorBar:r}=t.payload;e[a]||(e[a]=[]),e[a].push(r)},replaceErrorBar:(e,t)=>{var{itemId:a,prev:r,next:s}=t.payload;e[a]&&(e[a]=e[a].map(l=>l.dataKey===r.dataKey&&l.direction===r.direction?s:l))},removeErrorBar:(e,t)=>{var{itemId:a,errorBar:r}=t.payload;e[a]&&(e[a]=e[a].filter(s=>s.dataKey!==r.dataKey||s.direction!==r.direction))}}}),{addErrorBar:Xce,replaceErrorBar:Qce,removeErrorBar:Jce}=vR.actions,hJ=vR.reducer,pJ=["children"];function xJ(e,t){if(e==null)return{};var a,r,s=gJ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function gJ(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var yJ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},vJ=x.createContext(yJ);function mN(e){var{children:t}=e,a=xJ(e,pJ);return x.createElement(vJ.Provider,{value:a},t)}function gm(e,t){var a,r,s=Oe(f=>Ci(f,e)),l=Oe(f=>Mi(f,t)),c=(a=s?.allowDataOverflow)!==null&&a!==void 0?a:Gn.allowDataOverflow,d=(r=l?.allowDataOverflow)!==null&&r!==void 0?r:Zn.allowDataOverflow,m=c||d;return{needClip:m,needClipX:c,needClipY:d}}function hx(e){var{xAxisId:t,yAxisId:a,clipPathId:r}=e,s=fx(),{needClipX:l,needClipY:c,needClip:d}=gm(t,a);if(!d||!s)return null;var{x:m,y:f,width:h,height:g}=s;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:l?m:m-h/2,y:c?f:f-g/2,width:l?h:h*2,height:c?g:g*2}))}function bR(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&sn(e.zIndex)?e.zIndex:t}var Av={exports:{}},Cv={};var A4;function bJ(){if(A4)return Cv;A4=1;var e=yp();function t(m,f){return m===f&&(m!==0||1/m===1/f)||m!==m&&f!==f}var a=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return Cv.useSyncExternalStoreWithSelector=function(m,f,h,g,v){var y=s(null);if(y.current===null){var j={hasValue:!1,value:null};y.current=j}else j=y.current;y=c(function(){function S(D){if(!M){if(M=!0,w=D,D=g(D),v!==void 0&&j.hasValue){var k=j.value;if(v(k,D))return A=k}return A=D}if(k=A,a(w,D))return k;var _=g(D);return v!==void 0&&v(k,_)?(w=D,k):(w=D,A=_)}var M=!1,w,A,O=h===void 0?null:h;return[function(){return S(f())},O===null?void 0:function(){return S(O())}]},[f,h,g,v]);var b=r(m,y[0],y[1]);return l(function(){j.hasValue=!0,j.value=b},[b]),d(b),b},Cv}var C4;function jJ(){return C4||(C4=1,Av.exports=bJ()),Av.exports}jJ();function NJ(e){e()}function wJ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){NJ(()=>{let a=e;for(;a;)a.callback(),a=a.next})},get(){const a=[];let r=e;for(;r;)a.push(r),r=r.next;return a},subscribe(a){let r=!0;const s=t={callback:a,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var M4={notify(){},get:()=>[]};function SJ(e,t){let a,r=M4,s=0,l=!1;function c(b){h();const S=r.subscribe(b);let M=!1;return()=>{M||(M=!0,S(),g())}}function d(){r.notify()}function m(){j.onStateChange&&j.onStateChange()}function f(){return l}function h(){s++,a||(a=e.subscribe(m),r=wJ())}function g(){s--,a&&s===0&&(a(),a=void 0,r.clear(),r=M4)}function v(){l||(l=!0,h())}function y(){l&&(l=!1,g())}const j={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:f,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>r};return j}var AJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CJ=AJ(),MJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",DJ=MJ(),OJ=()=>CJ||DJ?x.useLayoutEffect:x.useEffect,EJ=OJ();function D4(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function kJ(e,t){if(D4(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(let s=0;s<a.length;s++)if(!Object.prototype.hasOwnProperty.call(t,a[s])||!D4(e[a[s]],t[a[s]]))return!1;return!0}var PJ=Symbol.for("react-redux-context"),RJ=typeof globalThis<"u"?globalThis:{};function _J(){if(!x.createContext)return{};const e=RJ[PJ]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var TJ=_J();function LJ(e){const{children:t,context:a,serverState:r,store:s}=e,l=x.useMemo(()=>{const m=SJ(s);return{store:s,subscription:m,getServerState:r?()=>r:void 0}},[s,r]),c=x.useMemo(()=>s.getState(),[s]);EJ(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==s.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const d=a||TJ;return x.createElement(d.Provider,{value:l},t)}var IJ=LJ,zJ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function $J(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Qc(e,t){var a=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of a)if(zJ.has(r)){if(e[r]==null&&t[r]==null)continue;if(!kJ(e[r],t[r]))return!1}else if(!$J(e[r],t[r]))return!1;return!0}var BJ=["onMouseEnter","onMouseLeave","onClick"],FJ=["value","background","tooltipPosition"],UJ=["id"],qJ=["onMouseEnter","onClick","onMouseLeave"];function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},gi.apply(null,arguments)}function O4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function va(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?O4(Object(a),!0).forEach(function(r){HJ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function HJ(e,t,a){return(t=VJ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function VJ(e){var t=KJ(e,"string");return typeof t=="symbol"?t:t+""}function KJ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dp(e,t){if(e==null)return{};var a,r,s=WJ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function WJ(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var YJ=e=>{var{dataKey:t,name:a,fill:r,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:r,value:or(a,t),payload:e}]},GJ=x.memo(e=>{var{dataKey:t,stroke:a,strokeWidth:r,fill:s,name:l,hide:c,unit:d,tooltipType:m}=e,f={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:r,fill:s,dataKey:t,nameKey:void 0,name:or(l,t),hide:c,type:m,color:s,unit:d}};return x.createElement(go,{tooltipEntrySettings:f})});function ZJ(e){var t=Oe(ws),{data:a,dataKey:r,background:s,allOtherBarProps:l}=e,{onMouseEnter:c,onMouseLeave:d,onClick:m}=l,f=dp(l,BJ),h=hm(c,r),g=pm(d),v=xm(m,r);if(!s||a==null)return null;var y=Qr(s);return x.createElement(un,{zIndex:bR(s,Lt.barBackground)},a.map((j,b)=>{var{value:S,background:M,tooltipPosition:w}=j,A=dp(j,FJ);if(!M)return null;var O=h(j,b),D=g(j,b),k=v(j,b),_=va(va(va(va(va({option:s,isActive:String(b)===t},A),{},{fill:"#eee"},M),y),As(f,j,b)),{},{onMouseEnter:O,onMouseLeave:D,onClick:k,dataKey:r,index:b,className:"recharts-bar-background-rectangle"});return x.createElement(cp,gi({key:"background-bar-".concat(b)},_))}))}function XJ(e){var{showLabels:t,children:a,rects:r}=e,s=r?.map(l=>{var c={x:l.x,y:l.y,width:l.width,lowerWidth:l.width,upperWidth:l.width,height:l.height};return va(va({},c),{},{value:l.value,payload:l.payload,parentViewBox:l.parentViewBox,viewBox:c,fill:l.fill})});return x.createElement(dm,{value:t?s:void 0},a)}function QJ(e){var{shape:t,activeBar:a,baseProps:r,entry:s,index:l,dataKey:c}=e,d=Oe(ws),m=Oe(Z1),f=a&&String(l)===d&&(m==null||c===m),h=f?a:t;return f?x.createElement(un,{zIndex:Lt.activeBar},x.createElement(cp,gi({},r,{name:String(r.name)},s,{isActive:f,option:h,index:l,dataKey:c}))):x.createElement(cp,gi({},r,{name:String(r.name)},s,{isActive:f,option:h,index:l,dataKey:c}))}function JJ(e){var{shape:t,baseProps:a,entry:r,index:s,dataKey:l}=e;return x.createElement(cp,gi({},a,{name:String(a.name)},r,{isActive:!1,option:t,index:s,dataKey:l}))}function eee(e){var t,{data:a,props:r}=e,s=(t=Bt(r))!==null&&t!==void 0?t:{},{id:l}=s,c=dp(s,UJ),{shape:d,dataKey:m,activeBar:f}=r,{onMouseEnter:h,onClick:g,onMouseLeave:v}=r,y=dp(r,qJ),j=hm(h,m),b=pm(v),S=xm(g,m);return a?x.createElement(x.Fragment,null,a.map((M,w)=>x.createElement(ft,gi({key:"rectangle-".concat(M?.x,"-").concat(M?.y,"-").concat(M?.value,"-").concat(w),className:"recharts-bar-rectangle"},As(y,M,w),{onMouseEnter:j(M,w),onMouseLeave:b(M,w),onClick:S(M,w)}),f?x.createElement(QJ,{shape:d,activeBar:f,baseProps:c,entry:M,index:w,dataKey:m}):x.createElement(JJ,{shape:d,baseProps:c,entry:M,index:w,dataKey:m})))):null}function tee(e){var{props:t,previousRectanglesRef:a}=e,{data:r,layout:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:m,onAnimationEnd:f,onAnimationStart:h}=t,g=a.current,v=wi(t,"recharts-bar-"),[y,j]=x.useState(!1),b=!y,S=x.useCallback(()=>{typeof f=="function"&&f(),j(!1)},[f]),M=x.useCallback(()=>{typeof h=="function"&&h(),j(!0)},[h]);return x.createElement(XJ,{showLabels:b,rects:r},x.createElement(Ni,{animationId:v,begin:c,duration:d,isActive:l,easing:m,onAnimationEnd:S,onAnimationStart:M,key:v},w=>{var A=w===1?r:r?.map((O,D)=>{var k=g&&g[D];if(k)return va(va({},O),{},{x:ct(k.x,O.x,w),y:ct(k.y,O.y,w),width:ct(k.width,O.width,w),height:ct(k.height,O.height,w)});if(s==="horizontal"){var _=ct(0,O.height,w),E=ct(O.stackedBarStart,O.y,w);return va(va({},O),{},{y:E,height:_})}var P=ct(0,O.width,w),z=ct(O.stackedBarStart,O.x,w);return va(va({},O),{},{width:P,x:z})});return w>0&&(a.current=A??null),A==null?null:x.createElement(ft,null,x.createElement(eee,{props:t,data:A}))}),x.createElement(po,{label:t.label}),t.children)}function nee(e){var t=x.useRef(null);return x.createElement(tee,{previousRectanglesRef:t,props:e})}var jR=0,aee=(e,t)=>{var a=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:a,errorVal:bt(e,t)}};class ree extends x.PureComponent{render(){var{hide:t,data:a,dataKey:r,className:s,xAxisId:l,yAxisId:c,needClip:d,background:m,id:f}=this.props;if(t||a==null)return null;var h=at("recharts-bar",s),g=f;return x.createElement(ft,{className:h,id:f},d&&x.createElement("defs",null,x.createElement(hx,{clipPathId:g,xAxisId:l,yAxisId:c})),x.createElement(ft,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},x.createElement(ZJ,{data:a,dataKey:r,background:m,allOtherBarProps:this.props}),x.createElement(nee,this.props)))}}var see={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:jR,xAxisId:0,yAxisId:0,zIndex:Lt.bar};function iee(e){var{xAxisId:t,yAxisId:a,hide:r,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:m,animationEasing:f,isAnimationActive:h}=e,{needClip:g}=gm(t,a),v=oo(),y=vn(),j=fm(e.children,An),b=Oe(w=>kee(w,t,a,y,e.id,j));if(v!=="vertical"&&v!=="horizontal")return null;var S,M=b?.[0];return M==null||M.height==null||M.width==null?S=0:S=v==="vertical"?M.height/2:M.width/2,x.createElement(mN,{xAxisId:t,yAxisId:a,data:b,dataPointFormatter:aee,errorBarOffset:S},x.createElement(ree,gi({},e,{layout:v,needClip:g,data:b,xAxisId:t,yAxisId:a,hide:r,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:m,animationEasing:f,isAnimationActive:h})))}function lee(e){var{layout:t,barSettings:{dataKey:a,minPointSize:r},pos:s,bandSize:l,xAxis:c,yAxis:d,xAxisTicks:m,yAxisTicks:f,stackedData:h,displayedData:g,offset:v,cells:y,parentViewBox:j,dataStartIndex:b}=e,S=t==="horizontal"?d:c,M=h?S.scale.domain():null,w=lE({numericAxis:S}),A=S.scale(w);return g.map((O,D)=>{var k,_,E,P,z,L;h?k=iE(h[D+b],M):(k=bt(O,a),Array.isArray(k)||(k=[w,k]));var I=mJ(r,jR)(k[1],D);if(t==="horizontal"){var J,[T,Y]=[d.scale(k[0]),d.scale(k[1])];_=Rh({axis:c,ticks:m,bandSize:l,offset:s.offset,entry:O,index:D}),E=(J=Y??T)!==null&&J!==void 0?J:void 0,P=s.size;var V=T-Y;if(z=Or(V)?0:V,L={x:_,y:v.top,width:P,height:v.height},Math.abs(I)>0&&Math.abs(z)<Math.abs(I)){var B=_n(z||I)*(Math.abs(I)-Math.abs(z));E-=B,z+=B}}else{var[U,F]=[c.scale(k[0]),c.scale(k[1])];if(_=U,E=Rh({axis:d,ticks:f,bandSize:l,offset:s.offset,entry:O,index:D}),P=F-U,z=s.size,L={x:v.left,y:E,width:v.width,height:z},Math.abs(I)>0&&Math.abs(P)<Math.abs(I)){var W=_n(P||I)*(Math.abs(I)-Math.abs(P));P+=W}}if(_==null||E==null||P==null||z==null)return null;var ne=va(va({},O),{},{stackedBarStart:A,x:_,y:E,width:P,height:z,value:h?k:k[1],payload:O,background:L,tooltipPosition:{x:_+P/2,y:E+z/2},parentViewBox:j},y&&y[D]&&y[D].props);return ne}).filter(Boolean)}function oee(e){var t=Rt(e,see),a=vn();return x.createElement(yo,{id:t.id,type:"bar"},r=>x.createElement(x.Fragment,null,x.createElement(dx,{legendPayload:YJ(t)}),x.createElement(GJ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(ux,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:Ip(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),x.createElement(un,{zIndex:t.zIndex},x.createElement(iee,gi({},t,{id:r})))))}var Qn=x.memo(oee,Qc);Qn.displayName="Bar";function E4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Qf(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?E4(Object(a),!0).forEach(function(r){cee(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function cee(e,t,a){return(t=dee(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function dee(e){var t=uee(e,"string");return typeof t=="symbol"?t:t+""}function uee(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mee=(e,t)=>t,fee=(e,t,a)=>a,hee=(e,t,a,r)=>r,pee=(e,t,a,r,s)=>s,ym=te([Kc,pee],(e,t)=>e.filter(a=>a.type==="bar").find(a=>a.id===t)),xee=te([ym],e=>e?.maxBarSize),gee=(e,t,a,r,s,l)=>l,k4=(e,t,a)=>{var r=a??e;if(!At(r))return xa(r,t,0)},yee=te([et,Kc,mee,fee,hee],(e,t,a,r,s)=>t.filter(l=>e==="horizontal"?l.xAxisId===a:l.yAxisId===r).filter(l=>l.isPanorama===s).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),vee=(e,t,a,r)=>{var s=et(e);return s==="horizontal"?ku(e,"yAxis",a,r):ku(e,"xAxis",t,r)},bee=(e,t,a)=>{var r=et(e);return r==="horizontal"?o3(e,"xAxis",t):o3(e,"yAxis",a)},NR=(e,t,a)=>{var r={},s=e.filter(tm),l=e.filter(f=>f.stackId==null),c=s.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),r),d=Object.entries(c).map(f=>{var[h,g]=f,v=g.map(j=>j.dataKey),y=k4(t,a,g[0].barSize);return{stackId:h,dataKeys:v,barSize:y}}),m=l.map(f=>{var h=[f.dataKey].filter(v=>v!=null),g=k4(t,a,f.barSize);return{stackId:void 0,dataKeys:h,barSize:g}});return[...d,...m]},jee=te([yee,kk,bee],NR),Nee=(e,t,a,r,s)=>{var l,c,d=ym(e,t,a,r,s);if(d!=null){var m=et(e),f=Qp(e),{maxBarSize:h}=d,g=At(h)?f:h,v,y;return m==="horizontal"?(v=Rr(e,"xAxis",t,r),y=Pr(e,"xAxis",t,r)):(v=Rr(e,"yAxis",a,r),y=Pr(e,"yAxis",a,r)),(l=(c=Ba(v,y,!0))!==null&&c!==void 0?c:g)!==null&&l!==void 0?l:0}},wR=(e,t,a,r)=>{var s=et(e),l,c;return s==="horizontal"?(l=Rr(e,"xAxis",t,r),c=Pr(e,"xAxis",t,r)):(l=Rr(e,"yAxis",a,r),c=Pr(e,"yAxis",a,r)),Ba(l,c)};function wee(e,t,a,r,s){var l=r.length;if(!(l<1)){var c=xa(e,a,0,!0),d,m=[];if(sn(r[0].barSize)){var f=!1,h=a/l,g=r.reduce((M,w)=>M+(w.barSize||0),0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&h>0&&(f=!0,h*=.9,g=l*h);var v=(a-g)/2>>0,y={offset:v-c,size:0};d=r.reduce((M,w)=>{var A,O={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:y.offset+y.size+c,size:f?h:(A=w.barSize)!==null&&A!==void 0?A:0}},D=[...M,O];return y=D[D.length-1].position,D},m)}else{var j=xa(t,a,0,!0);a-2*j-(l-1)*c<=0&&(c=0);var b=(a-2*j-(l-1)*c)/l;b>1&&(b>>=0);var S=sn(s)?Math.min(b,s):b;d=r.reduce((M,w,A)=>[...M,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:j+(b+c)*A+(b-S)/2,size:S}}],m)}return d}}var SR=(e,t,a,r,s,l,c)=>{var d=At(c)?t:c,m=wee(a,r,s!==l?s:l,e,d);return s!==l&&m!=null&&(m=m.map(f=>Qf(Qf({},f),{},{position:Qf(Qf({},f.position),{},{offset:f.position.offset-s/2})}))),m},See=te([jee,Qp,Ek,g1,Nee,wR,xee],SR),Aee=(e,t,a,r)=>Rr(e,"xAxis",t,r),Cee=(e,t,a,r)=>Rr(e,"yAxis",a,r),Mee=(e,t,a,r)=>Pr(e,"xAxis",t,r),Dee=(e,t,a,r)=>Pr(e,"yAxis",a,r),Oee=te([See,ym],(e,t)=>{if(!(e==null||t==null)){var a=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(a!=null)return a.position}}),AR=(e,t)=>{var a=tx(t);if(!(!e||a==null||t==null)){var{stackId:r}=t;if(r!=null){var s=e[r];if(s){var{stackedData:l}=s;if(l)return l.find(c=>c.key===a)}}}},Eee=te([vee,ym],AR),kee=te([Fn,Bj,Aee,Cee,Mee,Dee,Oee,et,$c,wR,Eee,ym,gee],(e,t,a,r,s,l,c,d,m,f,h,g,v)=>{var{chartData:y,dataStartIndex:j,dataEndIndex:b}=m;if(!(g==null||c==null||t==null||d!=="horizontal"&&d!=="vertical"||a==null||r==null||s==null||l==null||f==null)){var{data:S}=g,M;if(S!=null&&S.length>0?M=S:M=y?.slice(j,b+1),M!=null)return lee({layout:d,barSettings:g,pos:c,parentViewBox:t,bandSize:f,xAxis:a,yAxis:r,xAxisTicks:s,yAxisTicks:l,stackedData:h,displayedData:M,offset:e,cells:v,dataStartIndex:j})}});function P4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function up(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?P4(Object(a),!0).forEach(function(r){Pee(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Pee(e,t,a){return(t=Ree(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ree(e){var t=_ee(e,"string");return typeof t=="symbol"?t:t+""}function _ee(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tee=(e,t)=>qc(e,t),Lee=(e,t)=>hl(e,"radiusAxis",t),px=te([Tee,Lee],(e,t)=>{if(!(e==null||t==null))return up(up({},e),{},{scale:t})}),fN=(e,t,a,r)=>EG(e,"radiusAxis",t,r),Iee=(e,t,a)=>mo(e,a),zee=(e,t,a)=>hl(e,"angleAxis",a),xx=te([Iee,zee],(e,t)=>{if(!(e==null||t==null))return up(up({},e),{},{scale:t})}),hN=(e,t,a,r)=>xo(e,"angleAxis",a,r),$ee=(e,t,a,r)=>r,pN=te([um,$ee],(e,t)=>{if(e.some(a=>a.type==="radialBar"&&t.dataKey===a.dataKey&&t.stackId===a.stackId))return t}),CR=te([et,px,fN,xx,hN],(e,t,a,r,s)=>Lr(e,"radiusAxis")?Ba(t,a,!1):Ba(r,s,!1)),Bee=te([xx,px,et],(e,t,a)=>{var r=a==="radial"?e:t;if(!(r==null||r.scale==null))return lE({numericAxis:r})}),Fee=(e,t,a,r,s)=>s,Uee=(e,t,a,r,s)=>a,qee=(e,t,a,r,s)=>t,MR=(e,t,a,r,s)=>r.maxBarSize,DR=e=>e.type==="radialBar",Hee=te([et,um,Uee,qee],(e,t,a,r)=>t.filter(s=>e==="centric"?s.angleAxisId===a:s.radiusAxisId===r).filter(s=>s.hide===!1).filter(DR)),Vee=()=>{},Kee=te([Hee,kk,Vee],NR),Wee=te([et,Qp,xx,hN,px,fN,MR],(e,t,a,r,s,l,c)=>{var d,m,f=At(c)?t:c;if(e==="centric"){var h,g;return(h=(g=Ba(a,r,!0))!==null&&g!==void 0?g:f)!==null&&h!==void 0?h:0}return(d=(m=Ba(s,l,!0))!==null&&m!==void 0?m:f)!==null&&d!==void 0?d:0}),Yee=te([Kee,Qp,Ek,g1,Wee,CR,MR],SR),Gee=te([Yee,pN],(e,t)=>{if(!(e==null||t==null)){var a=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(a!=null)return a.position}}),OR=te([mm],e=>e.filter(DR).filter(tm)),Zee=te([OR,zc,In],w1),R4=te([Zee,OR,Uc,y1],k1),Xee=(e,t,a)=>{var r=et(e);return r==="centric"?R4(e,"radiusAxis",t):R4(e,"angleAxis",a)},Qee=te([Xee,pN],AR),Jee=te([xx,hN,px,fN,Ai,pN,CR,et,Bee,fo,Fee,Gee,Qee],(e,t,a,r,s,l,c,d,m,f,h,g,v)=>{var{chartData:y,dataStartIndex:j,dataEndIndex:b}=s;if(l==null||a==null||e==null||y==null||c==null||g==null||d!=="centric"&&d!=="radial"||r==null)return[];var{dataKey:S,minPointSize:M}=l,{cx:w,cy:A,startAngle:O,endAngle:D}=f,k=y.slice(j,b+1),_=d==="centric"?a:e,E=v?_.scale.domain():null;return xte({angleAxis:e,angleAxisTicks:t,bandSize:c,baseValue:m,cells:h,cx:w,cy:A,dataKey:S,dataStartIndex:j,displayedData:k,endAngle:D,layout:d,minPointSize:M,pos:g,radiusAxis:a,radiusAxisTicks:r,stackedData:v,stackedDomain:E,startAngle:O})}),ete=te([zc,(e,t)=>t],(e,t)=>{var{chartData:a,dataStartIndex:r,dataEndIndex:s}=e;if(a==null)return[];var l=a.slice(r,s+1);return l.length===0?[]:l.map(c=>({type:t,value:c.name,color:c.fill,payload:c}))}),tte=["shape","activeShape","cornerRadius","id"],nte=["onMouseEnter","onClick","onMouseLeave"],ate=["value","background"];function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Rc.apply(null,arguments)}function _4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function pa(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?_4(Object(a),!0).forEach(function(r){rte(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function rte(e,t,a){return(t=ste(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ste(e){var t=ite(e,"string");return typeof t=="symbol"?t:t+""}function ite(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vb(e,t){if(e==null)return{};var a,r,s=lte(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function lte(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var mp=[];function ote(e){var{showLabels:t,sectors:a,children:r}=e,s=a.map(l=>({value:l.value,payload:l.payload,parentViewBox:void 0,clockWise:!1,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill}));return x.createElement(QP,{value:t?s:void 0},r)}function cte(e){var{sectors:t,allOtherRadialBarProps:a,showLabels:r}=e,{shape:s,activeShape:l,cornerRadius:c,id:d}=a,m=Vb(a,tte),f=Bt(m),h=Oe(ws),{onMouseEnter:g,onClick:v,onMouseLeave:y}=a,j=Vb(a,nte),b=hm(g,a.dataKey),S=pm(y),M=xm(v,a.dataKey);return t==null?null:x.createElement(ote,{showLabels:r,sectors:t},t.map((w,A)=>{var O=l&&h===String(A),D=b(w,A),k=S(w,A),_=M(w,A),E=pa(pa(pa(pa({},f),{},{cornerRadius:yR(c)},w),As(j,w,A)),{},{onMouseEnter:D,onMouseLeave:k,onClick:_,className:"recharts-radial-bar-sector ".concat(w.className),forceCornerRadius:m.forceCornerRadius,cornerIsExternal:m.cornerIsExternal,isActive:O,option:O?l:s});return O?x.createElement(un,{zIndex:Lt.activeBar,key:"sector-".concat(w.cx,"-").concat(w.cy,"-").concat(w.innerRadius,"-").concat(w.outerRadius,"-").concat(w.startAngle,"-").concat(w.endAngle,"-").concat(A)},x.createElement(qb,E)):x.createElement(qb,Rc({key:"sector-".concat(w.cx,"-").concat(w.cy,"-").concat(w.innerRadius,"-").concat(w.outerRadius,"-").concat(w.startAngle,"-").concat(w.endAngle,"-").concat(A)},E))}),x.createElement(po,{label:a.label}),a.children)}function dte(e){var{props:t,previousSectorsRef:a}=e,{data:r,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d,onAnimationEnd:m,onAnimationStart:f}=t,h=wi(t,"recharts-radialbar-"),g=a.current,[v,y]=x.useState(!1),j=x.useCallback(()=>{typeof m=="function"&&m(),y(!1)},[m]),b=x.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return x.createElement(Ni,{animationId:h,begin:l,duration:c,isActive:s,easing:d,onAnimationStart:b,onAnimationEnd:j,key:h},S=>{var M=S===1?r:(r??mp).map((w,A)=>{var O=g&&g[A];if(O)return pa(pa({},w),{},{startAngle:ct(O.startAngle,w.startAngle,S),endAngle:ct(O.endAngle,w.endAngle,S)});var{endAngle:D,startAngle:k}=w;return pa(pa({},w),{},{endAngle:ct(k,D,S)})});return S>0&&(a.current=M??null),x.createElement(ft,null,x.createElement(cte,{sectors:M??mp,allOtherRadialBarProps:t,showLabels:!v}))})}function ute(e){var t=x.useRef(null);return x.createElement(dte,{props:e,previousSectorsRef:t})}function mte(e){var t=Oe(a=>ete(a,e.legendType));return x.createElement(oN,{legendPayload:t??[]})}var fte=x.memo(e=>{var{dataKey:t,data:a,stroke:r,strokeWidth:s,name:l,hide:c,fill:d,tooltipType:m}=e,f={dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:d,nameKey:void 0,dataKey:t,name:or(l,t),hide:c,type:m,color:d,unit:""}};return x.createElement(go,{tooltipEntrySettings:f})});class hte extends x.PureComponent{renderBackground(t){if(t==null)return null;var{cornerRadius:a}=this.props,r=Qr(this.props.background);return x.createElement(un,{zIndex:bR(this.props.background,Lt.barBackground)},t.map((s,l)=>{var{value:c,background:d}=s,m=Vb(s,ate);if(!d)return null;var f=pa(pa(pa(pa(pa({cornerRadius:yR(a)},m),{},{fill:"#eee"},d),r),As(this.props,s,l)),{},{index:l,className:at("recharts-radial-bar-background-sector",String(r?.className)),option:d,isActive:!1});return x.createElement(qb,Rc({key:"background-".concat(m.cx,"-").concat(m.cy,"-").concat(m.innerRadius,"-").concat(m.outerRadius,"-").concat(m.startAngle,"-").concat(m.endAngle,"-").concat(l)},f))}))}render(){var{hide:t,data:a,className:r,background:s}=this.props;if(t)return null;var l=at("recharts-area",r);return x.createElement(un,{zIndex:this.props.zIndex},x.createElement(ft,{className:l},s&&x.createElement(ft,{className:"recharts-radial-bar-background"},this.renderBackground(a)),x.createElement(ft,{className:"recharts-radial-bar-sectors"},x.createElement(ute,this.props))))}}function pte(e){var t,a=fm(e.children,An),r={data:void 0,hide:!1,id:e.id,dataKey:e.dataKey,minPointSize:e.minPointSize,stackId:Ip(e.stackId),maxBarSize:e.maxBarSize,barSize:e.barSize,type:"radialBar",angleAxisId:e.angleAxisId,radiusAxisId:e.radiusAxisId},s=(t=Oe(l=>Jee(l,e.radiusAxisId,e.angleAxisId,r,a)))!==null&&t!==void 0?t:mp;return x.createElement(x.Fragment,null,x.createElement(fte,{dataKey:e.dataKey,data:s,stroke:e.stroke,strokeWidth:e.strokeWidth,name:e.name,hide:e.hide,fill:e.fill,tooltipType:e.tooltipType}),x.createElement(hte,Rc({},e,{data:s})))}var Jf={angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",background:!1,cornerIsExternal:!1,cornerRadius:0,data:[],forceCornerRadius:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:0,radiusAxisId:0,zIndex:Lt.bar};function xte(e){var{displayedData:t,stackedData:a,dataStartIndex:r,stackedDomain:s,dataKey:l,baseValue:c,layout:d,radiusAxis:m,radiusAxisTicks:f,bandSize:h,pos:g,angleAxis:v,minPointSize:y,cx:j,cy:b,angleAxisTicks:S,cells:M,startAngle:w,endAngle:A}=e;return S==null||f==null?mp:(t??[]).map((O,D)=>{var k,_,E,P,z,L;if(a?k=iE(a[r+D],s):(k=bt(O,l),Array.isArray(k)||(k=[c,k])),d==="radial"){_=Rh({axis:m,ticks:f,bandSize:h,offset:g.offset,entry:O,index:D}),z=v.scale(k[1]),P=v.scale(k[0]),E=(_??0)+g.size;var I=z-P;if(Math.abs(y)>0&&Math.abs(I)<Math.abs(y)){var J=_n(I||y)*(Math.abs(y)-Math.abs(I));z+=J}L={background:{cx:j,cy:b,innerRadius:_,outerRadius:E,startAngle:w,endAngle:A}}}else{_=m.scale(k[0]),E=m.scale(k[1]),P=Rh({axis:v,ticks:S,bandSize:h,offset:g.offset,entry:O,index:D}),z=(P??0)+g.size;var T=E-_;if(Math.abs(y)>0&&Math.abs(T)<Math.abs(y)){var Y=_n(T||y)*(Math.abs(y)-Math.abs(T));E+=Y}}return pa(pa(pa({},O),L),{},{payload:O,value:a?k:k[1],cx:j,cy:b,innerRadius:_,outerRadius:E,startAngle:P,endAngle:z},M&&M[D]&&M[D].props)})}function ER(e){var t=Rt(e,Jf);return x.createElement(yo,{id:t.id,type:"radialBar"},a=>{var r,s,l;return x.createElement(x.Fragment,null,x.createElement(cN,{type:"radialBar",id:a,data:void 0,dataKey:t.dataKey,hide:(r=t.hide)!==null&&r!==void 0?r:Jf.hide,angleAxisId:(s=t.angleAxisId)!==null&&s!==void 0?s:Jf.angleAxisId,radiusAxisId:(l=t.radiusAxisId)!==null&&l!==void 0?l:Jf.radiusAxisId,stackId:Ip(t.stackId),barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize}),x.createElement(mte,t),x.createElement(pte,Rc({},t,{id:a})))})}ER.displayName="RadialBar";var kR=e=>{var{chartData:t}=e,a=Ft(),r=vn();return x.useEffect(()=>r?()=>{}:(a(j3(t)),()=>{a(j3(void 0))}),[t,a,r]),null},T4={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},PR=Ua({name:"brush",initialState:T4,reducers:{setBrushSettings(e,t){return t.payload==null?T4:t.payload}}}),{setBrushSettings:ede}=PR.actions,gte=PR.reducer;function yte(e,t,a){return(t=vte(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function vte(e){var t=bte(e,"string");return typeof t=="symbol"?t:t+""}function bte(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xN{static create(t){return new xN(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:a,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(t)+l}default:return this.scale(t)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var a=this.range(),r=a[0],s=a[a.length-1];return r<=s?t>=r&&t<=s:t>=s&&t<=r}}yte(xN,"EPS",1e-4);function jte(e){return(e%180+180)%180}var Nte=function(t){var{width:a,height:r}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=jte(s),c=l*Math.PI/180,d=Math.atan(r/a),m=c>d&&c<Math.PI-d?r/Math.sin(c):a/Math.cos(c);return Math.abs(m)},wte={dots:[],areas:[],lines:[]},RR=Ua({name:"referenceElements",initialState:wte,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var a=Yr(e).dots.findIndex(r=>r===t.payload);a!==-1&&e.dots.splice(a,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var a=Yr(e).areas.findIndex(r=>r===t.payload);a!==-1&&e.areas.splice(a,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var a=Yr(e).lines.findIndex(r=>r===t.payload);a!==-1&&e.lines.splice(a,1)}}}),{addDot:tde,removeDot:nde,addArea:ade,removeArea:rde,addLine:sde,removeLine:ide}=RR.actions,Ste=RR.reducer,Ate=x.createContext(void 0),Cte=e=>{var{children:t}=e,[a]=x.useState("".concat(yu("recharts"),"-clip")),r=fx();if(r==null)return null;var{x:s,y:l,width:c,height:d}=r;return x.createElement(Ate.Provider,{value:a},x.createElement("defs",null,x.createElement("clipPath",{id:a},x.createElement("rect",{x:s,y:l,height:d,width:c}))),t)};function _R(e,t){if(t<1)return[];if(t===1)return e;for(var a=[],r=0;r<e.length;r+=t)a.push(e[r]);return a}function Mte(e,t,a){var r={width:e.width+t.width,height:e.height+t.height};return Nte(r,a)}function Dte(e,t,a){var r=a==="width",{x:s,y:l,width:c,height:d}=e;return t===1?{start:r?s:l,end:r?s+c:l+d}:{start:r?s+c:l+d,end:r?s:l}}function fp(e,t,a,r,s){if(e*t<e*r||e*t>e*s)return!1;var l=a();return e*(t-e*l/2-r)>=0&&e*(t+e*l/2-s)<=0}function Ote(e,t){return _R(e,t+1)}function Ete(e,t,a,r,s){for(var l=(r||[]).slice(),{start:c,end:d}=t,m=0,f=1,h=c,g=function(){var j=r?.[m];if(j===void 0)return{v:_R(r,f)};var b=m,S,M=()=>(S===void 0&&(S=a(j,b)),S),w=j.coordinate,A=m===0||fp(e,w,M,h,d);A||(m=0,h=c,f+=1),A&&(h=w+e*(M()/2+s),m+=f)},v;f<=l.length;)if(v=g(),v)return v.v;return[]}function L4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function fa(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?L4(Object(a),!0).forEach(function(r){kte(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function kte(e,t,a){return(t=Pte(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Pte(e){var t=Rte(e,"string");return typeof t=="symbol"?t:t+""}function Rte(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _te(e,t,a,r,s){for(var l=(r||[]).slice(),c=l.length,{start:d}=t,{end:m}=t,f=function(v){var y=l[v],j,b=()=>(j===void 0&&(j=a(y,v)),j);if(v===c-1){var S=e*(y.coordinate+e*b()/2-m);l[v]=y=fa(fa({},y),{},{tickCoord:S>0?y.coordinate-S*e:y.coordinate})}else l[v]=y=fa(fa({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var M=fp(e,y.tickCoord,b,d,m);M&&(m=y.tickCoord-e*(b()/2+s),l[v]=fa(fa({},y),{},{isShow:!0}))}},h=c-1;h>=0;h--)f(h);return l}function Tte(e,t,a,r,s,l){var c=(r||[]).slice(),d=c.length,{start:m,end:f}=t;if(l){var h=r[d-1],g=a(h,d-1),v=e*(h.coordinate+e*g/2-f);if(c[d-1]=h=fa(fa({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate}),h.tickCoord!=null){var y=fp(e,h.tickCoord,()=>g,m,f);y&&(f=h.tickCoord-e*(g/2+s),c[d-1]=fa(fa({},h),{},{isShow:!0}))}}for(var j=l?d-1:d,b=function(w){var A=c[w],O,D=()=>(O===void 0&&(O=a(A,w)),O);if(w===0){var k=e*(A.coordinate-e*D()/2-m);c[w]=A=fa(fa({},A),{},{tickCoord:k<0?A.coordinate-k*e:A.coordinate})}else c[w]=A=fa(fa({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var _=fp(e,A.tickCoord,D,m,f);_&&(m=A.tickCoord+e*(D()/2+s),c[w]=fa(fa({},A),{},{isShow:!0}))}},S=0;S<j;S++)b(S);return c}function gN(e,t,a){var{tick:r,ticks:s,viewBox:l,minTickGap:c,orientation:d,interval:m,tickFormatter:f,unit:h,angle:g}=e;if(!s||!s.length||!r)return[];if(Pe(m)||Lc.isSsr){var v;return(v=Ote(s,Pe(m)?m:0))!==null&&v!==void 0?v:[]}var y=[],j=d==="top"||d==="bottom"?"width":"height",b=h&&j==="width"?du(h,{fontSize:t,letterSpacing:a}):{width:0,height:0},S=(A,O)=>{var D=typeof f=="function"?f(A.value,O):A.value;return j==="width"?Mte(du(D,{fontSize:t,letterSpacing:a}),b,g):du(D,{fontSize:t,letterSpacing:a})[j]},M=s.length>=2?_n(s[1].coordinate-s[0].coordinate):1,w=Dte(l,M,j);return m==="equidistantPreserveStart"?Ete(M,w,S,s,c):(m==="preserveStart"||m==="preserveStartEnd"?y=Tte(M,w,S,s,c,m==="preserveStartEnd"):y=_te(M,w,S,s,c),y.filter(A=>A.isShow))}var Lte=e=>{var{ticks:t,label:a,labelGapWithTick:r=5,tickSize:s=0,tickMargin:l=0}=e,c=0;if(t){Array.from(t).forEach(h=>{if(h){var g=h.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=a?a.getBoundingClientRect().width:0,m=s+l,f=c+m+d+(a?r:0);return Math.round(f)}return 0},Ite=["axisLine","width","height","className","hide","ticks","axisType"];function zte(e,t){if(e==null)return{};var a,r,s=$te(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function $te(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function ao(){return ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ao.apply(null,arguments)}function I4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Rn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?I4(Object(a),!0).forEach(function(r){Bte(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Bte(e,t,a){return(t=Fte(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Fte(e){var t=Ute(e,"string");return typeof t=="symbol"?t:t+""}function Ute(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ii={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Lt.axis};function qte(e){var{x:t,y:a,width:r,height:s,orientation:l,mirror:c,axisLine:d,otherSvgProps:m}=e;if(!d)return null;var f=Rn(Rn(Rn({},m),Bt(d)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Rn(Rn({},f),{},{x1:t,y1:a+h*s,x2:t+r,y2:a+h*s})}else{var g=+(l==="left"&&!c||l==="right"&&c);f=Rn(Rn({},f),{},{x1:t+g*r,y1:a,x2:t+g*r,y2:a+s})}return x.createElement("line",ao({},f,{className:at("recharts-cartesian-axis-line",Ql(d,"className"))}))}function Hte(e,t,a,r,s,l,c,d,m){var f,h,g,v,y,j,b=d?-1:1,S=e.tickSize||c,M=Pe(e.tickCoord)?e.tickCoord:e.coordinate;switch(l){case"top":f=h=e.coordinate,v=a+ +!d*s,g=v-b*S,j=g-b*m,y=M;break;case"left":g=v=e.coordinate,h=t+ +!d*r,f=h-b*S,y=f-b*m,j=M;break;case"right":g=v=e.coordinate,h=t+ +d*r,f=h+b*S,y=f+b*m,j=M;break;default:f=h=e.coordinate,v=a+ +d*s,g=v+b*S,j=g+b*m,y=M;break}return{line:{x1:f,y1:g,x2:h,y2:v},tick:{x:y,y:j}}}function Vte(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Kte(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Wte(e){var{option:t,tickProps:a,value:r}=e,s,l=at(a.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))s=x.cloneElement(t,Rn(Rn({},a),{},{className:l}));else if(typeof t=="function")s=t(Rn(Rn({},a),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=at(c,t?.className)),s=x.createElement(Xc,ao({},a,{className:c}),r)}return s}var Yte=x.forwardRef((e,t)=>{var{ticks:a=[],tick:r,tickLine:s,stroke:l,tickFormatter:c,unit:d,padding:m,tickTextProps:f,orientation:h,mirror:g,x:v,y,width:j,height:b,tickSize:S,tickMargin:M,fontSize:w,letterSpacing:A,getTicksConfig:O,events:D,axisType:k}=e,_=gN(Rn(Rn({},O),{},{ticks:a}),w,A),E=Vte(h,g),P=Kte(h,g),z=Bt(O),L=Qr(r),I={};typeof s=="object"&&(I=s);var J=Rn(Rn({},z),{},{fill:"none"},I),T=_.map(B=>Rn({entry:B},Hte(B,v,y,j,b,h,S,g,M))),Y=T.map(B=>{var{entry:U,line:F}=B;return x.createElement(ft,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},s&&x.createElement("line",ao({},J,F,{className:at("recharts-cartesian-axis-tick-line",Ql(s,"className"))})))}),V=T.map((B,U)=>{var{entry:F,tick:W}=B,ne=Rn(Rn(Rn(Rn({textAnchor:E,verticalAnchor:P},z),{},{stroke:"none",fill:l},L),W),{},{index:U,payload:F,visibleTicksCount:_.length,tickFormatter:c,padding:m},f);return x.createElement(ft,ao({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},As(D,F,U)),r&&x.createElement(Wte,{option:r,tickProps:ne,value:"".concat(typeof c=="function"?c(F.value,U):F.value).concat(d||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},V.length>0&&x.createElement(un,{zIndex:Lt.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:t},V)),Y.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},Y))}),Gte=x.forwardRef((e,t)=>{var{axisLine:a,width:r,height:s,className:l,hide:c,ticks:d,axisType:m}=e,f=zte(e,Ite),[h,g]=x.useState(""),[v,y]=x.useState(""),j=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return Lte({ticks:j.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=x.useCallback(S=>{if(S){var M=S.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=M;var w=M[0];if(w){var A=window.getComputedStyle(w),O=A.fontSize,D=A.letterSpacing;(O!==h||D!==v)&&(g(O),y(D))}}},[h,v]);return c||r!=null&&r<=0||s!=null&&s<=0?null:x.createElement(un,{zIndex:e.zIndex},x.createElement(ft,{className:at("recharts-cartesian-axis",l)},x.createElement(qte,{x:e.x,y:e.y,width:r,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:a,otherSvgProps:Bt(e)}),x.createElement(Yte,{ref:b,axisType:m,events:f,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(QY,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(iG,{label:e.label,labelRef:e.labelRef}),e.children)))}),yN=x.forwardRef((e,t)=>{var a=Rt(e,ii);return x.createElement(Gte,ao({},a,{ref:t}))});yN.displayName="CartesianAxis";var Zte=["x1","y1","x2","y2","key"],Xte=["offset"],Qte=["xAxisId","yAxisId"],Jte=["xAxisId","yAxisId"];function z4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ha(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?z4(Object(a),!0).forEach(function(r){ene(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function ene(e,t,a){return(t=tne(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function tne(e){var t=nne(e,"string");return typeof t=="symbol"?t:t+""}function nne(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ul.apply(null,arguments)}function hp(e,t){if(e==null)return{};var a,r,s=ane(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function ane(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var rne=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:a,x:r,y:s,width:l,height:c,ry:d}=e;return x.createElement("rect",{x:r,y:s,ry:d,width:l,height:c,stroke:"none",fill:t,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function TR(e){var{option:t,lineItemProps:a}=e,r;if(x.isValidElement(t))r=x.cloneElement(t,a);else if(typeof t=="function")r=t(a);else{var s,{x1:l,y1:c,x2:d,y2:m,key:f}=a,h=hp(a,Zte),g=(s=Bt(h))!==null&&s!==void 0?s:{},{offset:v}=g,y=hp(g,Xte);r=x.createElement("line",Ul({},y,{x1:l,y1:c,x2:d,y2:m,fill:"none",key:f}))}return r}function sne(e){var{x:t,width:a,horizontal:r=!0,horizontalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=hp(e,Qte),m=s.map((f,h)=>{var g=ha(ha({},d),{},{x1:t,y1:f,x2:t+a,y2:f,key:"line-".concat(h),index:h});return x.createElement(TR,{key:"line-".concat(h),option:r,lineItemProps:g})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function ine(e){var{y:t,height:a,vertical:r=!0,verticalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=hp(e,Jte),m=s.map((f,h)=>{var g=ha(ha({},d),{},{x1:f,y1:t,x2:f,y2:t+a,key:"line-".concat(h),index:h});return x.createElement(TR,{option:r,lineItemProps:g,key:"line-".concat(h)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function lne(e){var{horizontalFill:t,fillOpacity:a,x:r,y:s,width:l,height:c,horizontalPoints:d,horizontal:m=!0}=e;if(!m||!t||!t.length||d==null)return null;var f=d.map(g=>Math.round(g+s-s)).sort((g,v)=>g-v);s!==f[0]&&f.unshift(0);var h=f.map((g,v)=>{var y=!f[v+1],j=y?s+c-g:f[v+1]-g;if(j<=0)return null;var b=v%t.length;return x.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:j,width:l,stroke:"none",fill:t[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function one(e){var{vertical:t=!0,verticalFill:a,fillOpacity:r,x:s,y:l,width:c,height:d,verticalPoints:m}=e;if(!t||!a||!a.length)return null;var f=m.map(g=>Math.round(g+s-s)).sort((g,v)=>g-v);s!==f[0]&&f.unshift(0);var h=f.map((g,v)=>{var y=!f[v+1],j=y?s+c-g:f[v+1]-g;if(j<=0)return null;var b=v%a.length;return x.createElement("rect",{key:"react-".concat(v),x:g,y:l,width:j,height:d,stroke:"none",fill:a[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var cne=(e,t)=>{var{xAxis:a,width:r,height:s,offset:l}=e;return rE(gN(ha(ha(ha({},ii),a),{},{ticks:sE(a),viewBox:{x:0,y:0,width:r,height:s}})),l.left,l.left+l.width,t)},dne=(e,t)=>{var{yAxis:a,width:r,height:s,offset:l}=e;return rE(gN(ha(ha(ha({},ii),a),{},{ticks:sE(a),viewBox:{x:0,y:0,width:r,height:s}})),l.top,l.top+l.height,t)},une={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Lt.grid};function Xt(e){var t=Uj(),a=qj(),r=fE(),s=ha(ha({},Rt(e,une)),{},{x:Pe(e.x)?e.x:r.left,y:Pe(e.y)?e.y:r.top,width:Pe(e.width)?e.width:r.width,height:Pe(e.height)?e.height:r.height}),{xAxisId:l,yAxisId:c,x:d,y:m,width:f,height:h,syncWithTicks:g,horizontalValues:v,verticalValues:y}=s,j=vn(),b=Oe(P=>c3(P,"xAxis",l,j)),S=Oe(P=>c3(P,"yAxis",c,j));if(!js(f)||!js(h)||!Pe(d)||!Pe(m))return null;var M=s.verticalCoordinatesGenerator||cne,w=s.horizontalCoordinatesGenerator||dne,{horizontalPoints:A,verticalPoints:O}=s;if((!A||!A.length)&&typeof w=="function"){var D=v&&v.length,k=w({yAxis:S?ha(ha({},S),{},{ticks:D?v:S.ticks}):void 0,width:t??f,height:a??h,offset:r},D?!0:g);_h(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(A=k)}if((!O||!O.length)&&typeof M=="function"){var _=y&&y.length,E=M({xAxis:b?ha(ha({},b),{},{ticks:_?y:b.ticks}):void 0,width:t??f,height:a??h,offset:r},_?!0:g);_h(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(O=E)}return x.createElement(un,{zIndex:s.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(rne,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),x.createElement(lne,Ul({},s,{horizontalPoints:A})),x.createElement(one,Ul({},s,{verticalPoints:O})),x.createElement(sne,Ul({},s,{offset:r,horizontalPoints:A,xAxis:b,yAxis:S})),x.createElement(ine,Ul({},s,{offset:r,verticalPoints:O,xAxis:b,yAxis:S}))))}Xt.displayName="CartesianGrid";var LR=(e,t,a,r)=>Rr(e,"xAxis",t,r),IR=(e,t,a,r)=>Pr(e,"xAxis",t,r),zR=(e,t,a,r)=>Rr(e,"yAxis",a,r),$R=(e,t,a,r)=>Pr(e,"yAxis",a,r),mne=te([et,LR,zR,IR,$R],(e,t,a,r,s)=>Lr(e,"xAxis")?Ba(t,r,!1):Ba(a,s,!1)),fne=(e,t,a,r,s)=>s;function hne(e){return e.type==="line"}var pne=te([Kc,fne],(e,t)=>e.filter(hne).find(a=>a.id===t)),xne=te([et,LR,zR,IR,$R,pne,mne,$c],(e,t,a,r,s,l,c,d)=>{var{chartData:m,dataStartIndex:f,dataEndIndex:h}=d;if(!(l==null||t==null||a==null||r==null||s==null||r.length===0||s.length===0||c==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:g,data:v}=l,y;if(v!=null&&v.length>0?y=v:y=m?.slice(f,h+1),y!=null)return Lne({layout:e,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:s,dataKey:g,bandSize:c,displayedData:y})}});function BR(e){var t=Qr(e),a=3,r=2;if(t!=null){var{r:s,strokeWidth:l}=t,c=Number(s),d=Number(l);return(Number.isNaN(c)||c<0)&&(c=a),(Number.isNaN(d)||d<0)&&(d=r),{r:c,strokeWidth:d}}return{r:a,strokeWidth:r}}var gne=["id"],yne=["type","layout","connectNulls","needClip","shape"],vne=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Lu.apply(null,arguments)}function $4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function is(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?$4(Object(a),!0).forEach(function(r){bne(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function bne(e,t,a){return(t=jne(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function jne(e){var t=Nne(e,"string");return typeof t=="symbol"?t:t+""}function Nne(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vN(e,t){if(e==null)return{};var a,r,s=wne(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function wne(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Sne=e=>{var{dataKey:t,name:a,stroke:r,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:r,value:or(a,t),payload:e}]},Ane=x.memo(e=>{var{dataKey:t,data:a,stroke:r,strokeWidth:s,fill:l,name:c,hide:d,unit:m,tooltipType:f}=e,h={dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:l,dataKey:t,nameKey:void 0,name:or(c,t),hide:d,type:f,color:r,unit:m}};return x.createElement(go,{tooltipEntrySettings:h})}),FR=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Cne(e,t){for(var a=e.length%2!==0?[...e,0]:e,r=[],s=0;s<t;++s)r=[...r,...a];return r}var Mne=(e,t,a)=>{var r=a.reduce((g,v)=>g+v);if(!r)return FR(t,e);for(var s=Math.floor(e/r),l=e%r,c=t-e,d=[],m=0,f=0;m<a.length;f+=a[m],++m)if(f+a[m]>l){d=[...a.slice(0,m),l-f];break}var h=d.length%2===0?[0,c]:[c];return[...Cne(a,s),...d,...h].map(g=>"".concat(g,"px")).join(", ")};function Dne(e){var{clipPathId:t,points:a,props:r}=e,{dot:s,dataKey:l,needClip:c}=r,{id:d}=r,m=vN(r,gne),f=Bt(m);return x.createElement(dN,{points:a,dot:s,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:l,baseProps:f,needClip:c,clipPathId:t})}function One(e){var{showLabels:t,children:a,points:r}=e,s=x.useMemo(()=>r?.map(l=>{var c,d,m={x:(c=l.x)!==null&&c!==void 0?c:0,y:(d=l.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return is(is({},m),{},{value:l.value,payload:l.payload,viewBox:m,parentViewBox:void 0,fill:void 0})}),[r]);return x.createElement(dm,{value:t?s:void 0},a)}function B4(e){var{clipPathId:t,pathRef:a,points:r,strokeDasharray:s,props:l}=e,{type:c,layout:d,connectNulls:m,needClip:f,shape:h}=l,g=vN(l,yne),v=is(is({},Sn(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:r,type:c,layout:d,connectNulls:m,strokeDasharray:s??l.strokeDasharray});return x.createElement(x.Fragment,null,r?.length>1&&x.createElement(Pc,Lu({shapeType:"curve",option:h},v,{pathRef:a})),x.createElement(Dne,{points:r,clipPathId:t,props:l}))}function Ene(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function kne(e){var{clipPathId:t,props:a,pathRef:r,previousPointsRef:s,longestAnimatedLengthRef:l}=e,{points:c,strokeDasharray:d,isAnimationActive:m,animationBegin:f,animationDuration:h,animationEasing:g,animateNewValues:v,width:y,height:j,onAnimationEnd:b,onAnimationStart:S}=a,M=s.current,w=wi(c,"recharts-line-"),A=x.useRef(w),[O,D]=x.useState(!1),k=!O,_=x.useCallback(()=>{typeof b=="function"&&b(),D(!1)},[b]),E=x.useCallback(()=>{typeof S=="function"&&S(),D(!0)},[S]),P=Ene(r.current),z=x.useRef(0);A.current!==w&&(z.current=l.current,A.current=w);var L=z.current;return x.createElement(One,{points:c,showLabels:k},a.children,x.createElement(Ni,{animationId:w,begin:f,duration:h,isActive:m,easing:g,onAnimationEnd:_,onAnimationStart:E,key:w},I=>{var J=ct(L,P+L,I),T=Math.min(J,P),Y;if(m)if(d){var V="".concat(d).split(/[,\s]+/gim).map(F=>parseFloat(F));Y=Mne(T,P,V)}else Y=FR(P,T);else Y=d==null?void 0:String(d);if(I>0&&P>0&&(s.current=c,l.current=Math.max(l.current,T)),M){var B=M.length/c.length,U=I===1?c:c.map((F,W)=>{var ne=Math.floor(W*B);if(M[ne]){var je=M[ne];return is(is({},F),{},{x:ct(je.x,F.x,I),y:ct(je.y,F.y,I)})}return v?is(is({},F),{},{x:ct(y*2,F.x,I),y:ct(j/2,F.y,I)}):is(is({},F),{},{x:F.x,y:F.y})});return s.current=U,x.createElement(B4,{props:a,points:U,clipPathId:t,pathRef:r,strokeDasharray:Y})}return x.createElement(B4,{props:a,points:c,clipPathId:t,pathRef:r,strokeDasharray:Y})}),x.createElement(po,{label:a.label}))}function Pne(e){var{clipPathId:t,props:a}=e,r=x.useRef(null),s=x.useRef(0),l=x.useRef(null);return x.createElement(kne,{props:a,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:s,pathRef:l})}var Rne=(e,t)=>{var a,r;return{x:(a=e.x)!==null&&a!==void 0?a:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:bt(e.payload,t)}};class _ne extends x.Component{render(){var{hide:t,dot:a,points:r,className:s,xAxisId:l,yAxisId:c,top:d,left:m,width:f,height:h,id:g,needClip:v,zIndex:y}=this.props;if(t)return null;var j=at("recharts-line",s),b=g,{r:S,strokeWidth:M}=BR(a),w=lN(a),A=S*2+M,O=v?"url(#clipPath-".concat(w?"":"dots-").concat(b,")"):void 0;return x.createElement(un,{zIndex:y},x.createElement(ft,{className:j},v&&x.createElement("defs",null,x.createElement(hx,{clipPathId:b,xAxisId:l,yAxisId:c}),!w&&x.createElement("clipPath",{id:"clipPath-dots-".concat(b)},x.createElement("rect",{x:m-A/2,y:d-A/2,width:f+A,height:h+A}))),x.createElement(mN,{xAxisId:l,yAxisId:c,data:r,dataPointFormatter:Rne,errorBarOffset:0},x.createElement(Pne,{props:this.props,clipPathId:b}))),x.createElement(lp,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:O}))}}var UR={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Lt.line,type:"linear"};function Tne(e){var t=Rt(e,UR),{activeDot:a,animateNewValues:r,animationBegin:s,animationDuration:l,animationEasing:c,connectNulls:d,dot:m,hide:f,isAnimationActive:h,label:g,legendType:v,xAxisId:y,yAxisId:j,id:b}=t,S=vN(t,vne),{needClip:M}=gm(y,j),w=fx(),A=oo(),O=vn(),D=Oe(z=>xne(z,y,j,O,b));if(A!=="horizontal"&&A!=="vertical"||D==null||w==null)return null;var{height:k,width:_,x:E,y:P}=w;return x.createElement(_ne,Lu({},S,{id:b,connectNulls:d,dot:m,activeDot:a,animateNewValues:r,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:h,hide:f,label:g,legendType:v,xAxisId:y,yAxisId:j,points:D,layout:A,height:k,width:_,left:E,top:P,needClip:M}))}function Lne(e){var{layout:t,xAxis:a,yAxis:r,xAxisTicks:s,yAxisTicks:l,dataKey:c,bandSize:d,displayedData:m}=e;return m.map((f,h)=>{var g=bt(f,c);if(t==="horizontal"){var v=Cc({axis:a,ticks:s,bandSize:d,entry:f,index:h}),y=At(g)?null:r.scale(g);return{x:v,y,value:g,payload:f}}var j=At(g)?null:a.scale(g),b=Cc({axis:r,ticks:l,bandSize:d,entry:f,index:h});return j==null||b==null?null:{x:j,y:b,value:g,payload:f}}).filter(Boolean)}function Ine(e){var t=Rt(e,UR),a=vn();return x.createElement(yo,{id:t.id,type:"line"},r=>x.createElement(x.Fragment,null,x.createElement(dx,{legendPayload:Sne(t)}),x.createElement(Ane,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(ux,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:a}),x.createElement(Tne,Lu({},t,{id:r}))))}var _c=x.memo(Ine,Qc);_c.displayName="Line";var qR=(e,t,a,r)=>Rr(e,"xAxis",t,r),HR=(e,t,a,r)=>Pr(e,"xAxis",t,r),VR=(e,t,a,r)=>Rr(e,"yAxis",a,r),KR=(e,t,a,r)=>Pr(e,"yAxis",a,r),zne=te([et,qR,VR,HR,KR],(e,t,a,r,s)=>Lr(e,"xAxis")?Ba(t,r,!1):Ba(a,s,!1)),$ne=(e,t,a,r,s)=>s,WR=te([Kc,$ne],(e,t)=>e.filter(a=>a.type==="area").find(a=>a.id===t)),Bne=(e,t,a,r,s)=>{var l,c=WR(e,t,a,r,s);if(c!=null){var d=et(e),m=Lr(d,"xAxis"),f;if(m?f=ku(e,"yAxis",a,r):f=ku(e,"xAxis",t,r),f!=null){var{stackId:h}=c,g=tx(c);if(!(h==null||g==null)){var v=(l=f[h])===null||l===void 0?void 0:l.stackedData;return v?.find(y=>y.key===g)}}}},Fne=te([et,qR,VR,HR,KR,Bne,$c,zne,WR,sV],(e,t,a,r,s,l,c,d,m,f)=>{var{chartData:h,dataStartIndex:g,dataEndIndex:v}=c;if(!(m==null||e!=="horizontal"&&e!=="vertical"||t==null||a==null||r==null||s==null||r.length===0||s.length===0||d==null)){var{data:y}=m,j;if(y&&y.length>0?j=y:j=h?.slice(g,v+1),j!=null)return iae({layout:e,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:s,dataStartIndex:g,areaSettings:m,stackedData:l,displayedData:j,chartBaseValue:f,bandSize:d})}}),Une=["id"],qne=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Gl.apply(null,arguments)}function YR(e,t){if(e==null)return{};var a,r,s=Hne(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Hne(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function F4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function yc(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(a),!0).forEach(function(r){Vne(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Vne(e,t,a){return(t=Kne(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Kne(e){var t=Wne(e,"string");return typeof t=="symbol"?t:t+""}function Wne(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pp(e,t){return e&&e!=="none"?e:t}var Yne=e=>{var{dataKey:t,name:a,stroke:r,fill:s,legendType:l,hide:c}=e;return[{inactive:c,dataKey:t,type:l,color:pp(r,s),value:or(a,t),payload:e}]},Gne=x.memo(e=>{var{dataKey:t,data:a,stroke:r,strokeWidth:s,fill:l,name:c,hide:d,unit:m,tooltipType:f}=e,h={dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:l,dataKey:t,nameKey:void 0,name:or(c,t),hide:d,type:f,color:pp(r,l),unit:m}};return x.createElement(go,{tooltipEntrySettings:h})});function Zne(e){var{clipPathId:t,points:a,props:r}=e,{needClip:s,dot:l,dataKey:c}=r,d=Bt(r);return x.createElement(dN,{points:a,dot:l,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:d,needClip:s,clipPathId:t})}function Xne(e){var{showLabels:t,children:a,points:r}=e,s=r.map(l=>{var c,d,m={x:(c=l.x)!==null&&c!==void 0?c:0,y:(d=l.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return yc(yc({},m),{},{value:l.value,payload:l.payload,parentViewBox:void 0,viewBox:m,fill:void 0})});return x.createElement(dm,{value:t?s:void 0},a)}function U4(e){var{points:t,baseLine:a,needClip:r,clipPathId:s,props:l}=e,{layout:c,type:d,stroke:m,connectNulls:f,isRange:h}=l,{id:g}=l,v=YR(l,Une),y=Bt(v),j=Sn(v);return x.createElement(x.Fragment,null,t?.length>1&&x.createElement(ft,{clipPath:r?"url(#clipPath-".concat(s,")"):void 0},x.createElement(Kl,Gl({},j,{id:g,points:t,connectNulls:f,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),m!=="none"&&x.createElement(Kl,Gl({},y,{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:t})),m!=="none"&&h&&x.createElement(Kl,Gl({},y,{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:a}))),x.createElement(Zne,{points:t,props:v,clipPathId:s}))}function Qne(e){var{alpha:t,baseLine:a,points:r,strokeWidth:s}=e,l=r[0].y,c=r[r.length-1].y;if(!sn(l)||!sn(c))return null;var d=t*Math.abs(l-c),m=Math.max(...r.map(f=>f.x||0));return Pe(a)?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(...a.map(f=>f.x||0),m)),Pe(m)?x.createElement("rect",{x:0,y:l<c?l:l-d,width:m+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}function Jne(e){var{alpha:t,baseLine:a,points:r,strokeWidth:s}=e,l=r[0].x,c=r[r.length-1].x;if(!sn(l)||!sn(c))return null;var d=t*Math.abs(l-c),m=Math.max(...r.map(f=>f.y||0));return Pe(a)?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(...a.map(f=>f.y||0),m)),Pe(m)?x.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(m+(s?parseInt("".concat(s),10):1))}):null}function eae(e){var{alpha:t,layout:a,points:r,baseLine:s,strokeWidth:l}=e;return a==="vertical"?x.createElement(Qne,{alpha:t,points:r,baseLine:s,strokeWidth:l}):x.createElement(Jne,{alpha:t,points:r,baseLine:s,strokeWidth:l})}function tae(e){var{needClip:t,clipPathId:a,props:r,previousPointsRef:s,previousBaselineRef:l}=e,{points:c,baseLine:d,isAnimationActive:m,animationBegin:f,animationDuration:h,animationEasing:g,onAnimationStart:v,onAnimationEnd:y}=r,j=x.useMemo(()=>({points:c,baseLine:d}),[c,d]),b=wi(j,"recharts-area-"),S=AB(),[M,w]=x.useState(!1),A=!M,O=x.useCallback(()=>{typeof y=="function"&&y(),w(!1)},[y]),D=x.useCallback(()=>{typeof v=="function"&&v(),w(!0)},[v]);if(S==null)return null;var k=s.current,_=l.current;return x.createElement(Xne,{showLabels:A,points:c},r.children,x.createElement(Ni,{animationId:b,begin:f,duration:h,isActive:m,easing:g,onAnimationEnd:O,onAnimationStart:D,key:b},E=>{if(k){var P=k.length/c.length,z=E===1?c:c.map((I,J)=>{var T=Math.floor(J*P);if(k[T]){var Y=k[T];return yc(yc({},I),{},{x:ct(Y.x,I.x,E),y:ct(Y.y,I.y,E)})}return I}),L;return Pe(d)?L=ct(_,d,E):At(d)||Or(d)?L=ct(_,0,E):L=d.map((I,J)=>{var T=Math.floor(J*P);if(Array.isArray(_)&&_[T]){var Y=_[T];return yc(yc({},I),{},{x:ct(Y.x,I.x,E),y:ct(Y.y,I.y,E)})}return I}),E>0&&(s.current=z,l.current=L),x.createElement(U4,{points:z,baseLine:L,needClip:t,clipPathId:a,props:r})}return E>0&&(s.current=c,l.current=d),x.createElement(ft,null,m&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(a)},x.createElement(eae,{alpha:E,points:c,baseLine:d,layout:S,strokeWidth:r.strokeWidth}))),x.createElement(ft,{clipPath:"url(#animationClipPath-".concat(a,")")},x.createElement(U4,{points:c,baseLine:d,needClip:t,clipPathId:a,props:r})))}),x.createElement(po,{label:r.label}))}function nae(e){var{needClip:t,clipPathId:a,props:r}=e,s=x.useRef(null),l=x.useRef();return x.createElement(tae,{needClip:t,clipPathId:a,props:r,previousPointsRef:s,previousBaselineRef:l})}class aae extends x.PureComponent{render(){var{hide:t,dot:a,points:r,className:s,top:l,left:c,needClip:d,xAxisId:m,yAxisId:f,width:h,height:g,id:v,baseLine:y,zIndex:j}=this.props;if(t)return null;var b=at("recharts-area",s),S=v,{r:M,strokeWidth:w}=BR(a),A=lN(a),O=M*2+w,D=d?"url(#clipPath-".concat(A?"":"dots-").concat(S,")"):void 0;return x.createElement(un,{zIndex:j},x.createElement(ft,{className:b},d&&x.createElement("defs",null,x.createElement(hx,{clipPathId:S,xAxisId:m,yAxisId:f}),!A&&x.createElement("clipPath",{id:"clipPath-dots-".concat(S)},x.createElement("rect",{x:c-O/2,y:l-O/2,width:h+O,height:g+O}))),x.createElement(nae,{needClip:d,clipPathId:S,props:this.props})),x.createElement(lp,{points:r,mainColor:pp(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}),this.props.isRange&&Array.isArray(y)&&x.createElement(lp,{points:y,mainColor:pp(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}))}}var GR={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Lt.area};function rae(e){var t,a=Rt(e,GR),{activeDot:r,animationBegin:s,animationDuration:l,animationEasing:c,connectNulls:d,dot:m,fill:f,fillOpacity:h,hide:g,isAnimationActive:v,legendType:y,stroke:j,xAxisId:b,yAxisId:S}=a,M=YR(a,qne),w=oo(),A=DP(),{needClip:O}=gm(b,S),D=vn(),{points:k,isRange:_,baseLine:E}=(t=Oe(T=>Fne(T,b,S,D,e.id)))!==null&&t!==void 0?t:{},P=fx();if(w!=="horizontal"&&w!=="vertical"||P==null||A!=="AreaChart"&&A!=="ComposedChart")return null;var{height:z,width:L,x:I,y:J}=P;return!k||!k.length?null:x.createElement(aae,Gl({},M,{activeDot:r,animationBegin:s,animationDuration:l,animationEasing:c,baseLine:E,connectNulls:d,dot:m,fill:f,fillOpacity:h,height:z,hide:g,layout:w,isAnimationActive:v==="auto"?!Lc.isSsr:v,isRange:_,legendType:y,needClip:O,points:k,stroke:j,width:L,left:I,top:J,xAxisId:b,yAxisId:S}))}var sae=(e,t,a,r,s)=>{var l=a??t;if(Pe(l))return l;var c=e==="horizontal"?s:r,d=c.scale.domain();if(c.type==="number"){var m=Math.max(d[0],d[1]),f=Math.min(d[0],d[1]);return l==="dataMin"?f:l==="dataMax"||m<0?m:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]};function iae(e){var{areaSettings:{connectNulls:t,baseValue:a,dataKey:r},stackedData:s,layout:l,chartBaseValue:c,xAxis:d,yAxis:m,displayedData:f,dataStartIndex:h,xAxisTicks:g,yAxisTicks:v,bandSize:y}=e,j=s&&s.length,b=sae(l,c,a,d,m),S=l==="horizontal",M=!1,w=f.map((O,D)=>{var k;j?k=s[h+D]:(k=bt(O,r),Array.isArray(k)?M=!0:k=[b,k]);var _=k[1]==null||j&&!t&&bt(O,r)==null;return S?{x:Cc({axis:d,ticks:g,bandSize:y,entry:O,index:D}),y:_?null:m.scale(k[1]),value:k,payload:O}:{x:_?null:d.scale(k[1]),y:Cc({axis:m,ticks:v,bandSize:y,entry:O,index:D}),value:k,payload:O}}),A;return j||M?A=w.map(O=>{var D=Array.isArray(O.value)?O.value[0]:null;return S?{x:O.x,y:D!=null&&O.y!=null?m.scale(D):null,payload:O.payload}:{x:D!=null?d.scale(D):null,y:O.y,payload:O.payload}}):A=S?m.scale(b):d.scale(b),{points:w,baseLine:A,isRange:M}}function lae(e){var t=Rt(e,GR),a=vn();return x.createElement(yo,{id:t.id,type:"area"},r=>x.createElement(x.Fragment,null,x.createElement(dx,{legendPayload:Yne(t)}),x.createElement(Gne,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(ux,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Ip(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:a,connectNulls:t.connectNulls}),x.createElement(rae,Gl({},t,{id:r}))))}var za=x.memo(lae,Qc);za.displayName="Area";var oae=["option","isActive"];function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},mu.apply(null,arguments)}function cae(e,t){if(e==null)return{};var a,r,s=dae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function dae(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function uae(e){var{option:t,isActive:a}=e,r=cae(e,oae);return typeof t=="string"?x.createElement(Pc,mu({option:x.createElement(Cp,mu({type:t},r)),isActive:a,shapeType:"symbols"},r)):x.createElement(Pc,mu({option:t,isActive:a,shapeType:"symbols"},r))}var mae=(e,t,a,r,s,l,c)=>Rr(e,"xAxis",t,c),fae=(e,t,a,r,s,l,c)=>Pr(e,"xAxis",t,c),hae=(e,t,a,r,s,l,c)=>Rr(e,"yAxis",a,c),pae=(e,t,a,r,s,l,c)=>Pr(e,"yAxis",a,c),xae=(e,t,a,r)=>lK(e,"zAxis",r,!1),gae=(e,t,a,r,s)=>s,yae=(e,t,a,r,s,l)=>l,vae=(e,t,a,r,s,l,c)=>$c(e,t,a,c),bae=te([Kc,gae],(e,t)=>e.filter(a=>a.type==="scatter").find(a=>a.id===t)),jae=te([vae,mae,fae,hae,pae,xae,bae,yae],(e,t,a,r,s,l,c,d)=>{var{chartData:m,dataStartIndex:f,dataEndIndex:h}=e;if(c!=null){var g;if(c?.data!=null&&c.data.length>0?g=c.data:g=m?.slice(f,h+1),!(g==null||t==null||r==null||a==null||s==null||a?.length===0||s?.length===0))return Tae({displayedData:g,xAxis:t,yAxis:r,zAxis:l,scatterSettings:c,xAxisTicks:a,yAxisTicks:s,cells:d})}}),Nae=["onMouseEnter","onClick","onMouseLeave"],wae=["id"],Sae=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function Kb(e,t){if(e==null)return{};var a,r,s=Aae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Aae(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ro.apply(null,arguments)}function q4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Ta(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?q4(Object(a),!0).forEach(function(r){Cae(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Cae(e,t,a){return(t=Mae(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Mae(e){var t=Dae(e,"string");return typeof t=="symbol"?t:t+""}function Dae(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oae=e=>{var{dataKey:t,name:a,fill:r,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:r,value:or(a,t),payload:e}]},Eae=x.memo(e=>{var{dataKey:t,points:a,stroke:r,strokeWidth:s,fill:l,name:c,hide:d,tooltipType:m}=e,f={dataDefinedOnItem:a?.map(h=>h.tooltipPayload),positions:a?.map(h=>h.tooltipPosition),settings:{stroke:r,strokeWidth:s,fill:l,nameKey:void 0,dataKey:t,name:or(c,t),hide:d,type:m,color:l,unit:""}};return x.createElement(go,{tooltipEntrySettings:f})});function kae(e){var{points:t,props:a}=e,{line:r,lineType:s,lineJointType:l}=a;if(!r)return null;var c=Bt(a),d=Qr(r),m,f;if(s==="joint")m=t.map(S=>{var M,w;return{x:(M=S.cx)!==null&&M!==void 0?M:null,y:(w=S.cy)!==null&&w!==void 0?w:null}});else if(s==="fitting"){var{xmin:h,xmax:g,a:v,b:y}=xI(t),j=S=>v*S+y;m=[{x:h,y:j(h)},{x:g,y:j(g)}]}var b=Ta(Ta(Ta({},c),{},{fill:"none",stroke:c&&c.fill},d),{},{points:m});return x.isValidElement(r)?f=x.cloneElement(r,b):typeof r=="function"?f=r(b):f=x.createElement(Kl,ro({},b,{type:l})),x.createElement(ft,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}function Pae(e){var{showLabels:t,points:a,children:r}=e,s=Yu(),l=x.useMemo(()=>a?.map(c=>{var d,m,f={x:(d=c.x)!==null&&d!==void 0?d:0,y:(m=c.y)!==null&&m!==void 0?m:0,width:c.width,height:c.height,lowerWidth:c.width,upperWidth:c.width};return Ta(Ta({},f),{},{value:void 0,payload:c.payload,viewBox:f,parentViewBox:s,fill:void 0})}),[s,a]);return x.createElement(dm,{value:t?l:void 0},r)}function Rae(e){var{points:t,allOtherScatterProps:a}=e,{shape:r,activeShape:s,dataKey:l}=a,c=Oe(ws),{onMouseEnter:d,onClick:m,onMouseLeave:f}=a,h=Kb(a,Nae),g=hm(d,a.dataKey),v=pm(f),y=xm(m,a.dataKey);if(!OI(t))return null;var{id:j}=a,b=Kb(a,wae),S=Bt(b);return x.createElement(x.Fragment,null,x.createElement(kae,{points:t,props:b}),t.map((M,w)=>{var A=s!=null&&s!==!1,O=A&&c===String(w),D=A&&O?s:r,k=Ta(Ta(Ta({},S),M),{},{[zj]:w,[$j]:String(l)});return x.createElement(un,{key:"symbol-".concat(M?.cx,"-").concat(M?.cy,"-").concat(M?.size,"-").concat(w),zIndex:O?Lt.activeDot:void 0},x.createElement(ft,ro({className:"recharts-scatter-symbol"},As(h,M,w),{onMouseEnter:g(M,w),onMouseLeave:v(M,w),onClick:y(M,w)}),x.createElement(uae,ro({option:D,isActive:O},k))))}))}function _ae(e){var{previousPointsRef:t,props:a}=e,{points:r,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d}=a,m=t.current,f=wi(a,"recharts-scatter-"),[h,g]=x.useState(!1),v=x.useCallback(()=>{g(!1)},[]),y=x.useCallback(()=>{g(!0)},[]),j=!h;return x.createElement(Pae,{showLabels:j,points:r},a.children,x.createElement(Ni,{animationId:f,begin:l,duration:c,isActive:s,easing:d,onAnimationEnd:v,onAnimationStart:y,key:f},b=>{var S=b===1?r:r?.map((M,w)=>{var A=m&&m[w];return A?Ta(Ta({},M),{},{cx:M.cx==null?void 0:ct(A.cx,M.cx,b),cy:M.cy==null?void 0:ct(A.cy,M.cy,b),size:ct(A.size,M.size,b)}):Ta(Ta({},M),{},{size:ct(0,M.size,b)})});return b>0&&(t.current=S),x.createElement(ft,null,x.createElement(Rae,{points:S,allOtherScatterProps:a,showLabels:j}))}),x.createElement(po,{label:a.label}))}function Tae(e){var{displayedData:t,xAxis:a,yAxis:r,zAxis:s,scatterSettings:l,xAxisTicks:c,yAxisTicks:d,cells:m}=e,f=At(a.dataKey)?l.dataKey:a.dataKey,h=At(r.dataKey)?l.dataKey:r.dataKey,g=s&&s.dataKey,v=s?s.range:ei.range,y=v&&v[0],j=a.scale.bandwidth?a.scale.bandwidth():0,b=r.scale.bandwidth?r.scale.bandwidth():0;return t.map((S,M)=>{var w=bt(S,f),A=bt(S,h),O=!At(g)&&bt(S,g)||"-",D=[{name:At(a.dataKey)?l.name:a.name||String(a.dataKey),unit:a.unit||"",value:w,payload:S,dataKey:f,type:l.tooltipType},{name:At(r.dataKey)?l.name:r.name||String(r.dataKey),unit:r.unit||"",value:A,payload:S,dataKey:h,type:l.tooltipType}];O!=="-"&&D.push({name:s.name||s.dataKey,unit:s.unit||"",value:O,payload:S,dataKey:g,type:l.tooltipType});var k=Cc({axis:a,ticks:c,bandSize:j,entry:S,index:M,dataKey:f}),_=Cc({axis:r,ticks:d,bandSize:b,entry:S,index:M,dataKey:h}),E=O!=="-"?s.scale(O):y,P=Math.sqrt(Math.max(E,0)/Math.PI);return Ta(Ta({},S),{},{cx:k,cy:_,x:k==null?void 0:k-P,y:_==null?void 0:_-P,width:2*P,height:2*P,size:E,node:{x:w,y:A,z:O},tooltipPayload:D,tooltipPosition:{x:k,y:_},payload:S},m&&m[M]&&m[M].props)})}var Lae=(e,t,a)=>({x:e.cx,y:e.cy,value:Number(a==="x"?e.node.x:e.node.y),errorVal:bt(e,t)});function Iae(e){var{hide:t,points:a,className:r,needClip:s,xAxisId:l,yAxisId:c,id:d}=e,m=x.useRef(null);if(t)return null;var f=at("recharts-scatter",r),h=d;return x.createElement(un,{zIndex:e.zIndex},x.createElement(ft,{className:f,clipPath:s?"url(#clipPath-".concat(h,")"):void 0,id:d},s&&x.createElement("defs",null,x.createElement(hx,{clipPathId:h,xAxisId:l,yAxisId:c})),x.createElement(mN,{xAxisId:l,yAxisId:c,data:a,dataPointFormatter:Lae,errorBarOffset:0},x.createElement(ft,{key:"recharts-scatter-symbols"},x.createElement(_ae,{props:e,previousPointsRef:m})))))}var ZR={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:Lt.scatter};function zae(e){var t=Rt(e,ZR),{animationBegin:a,animationDuration:r,animationEasing:s,hide:l,isAnimationActive:c,legendType:d,lineJointType:m,lineType:f,shape:h,xAxisId:g,yAxisId:v,zAxisId:y}=t,j=Kb(t,Sae),{needClip:b}=gm(g,v),S=x.useMemo(()=>fm(e.children,An),[e.children]),M=vn(),w=Oe(A=>jae(A,g,v,y,e.id,S,M));return b==null||w==null?null:x.createElement(x.Fragment,null,x.createElement(Eae,{dataKey:e.dataKey,points:w,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),x.createElement(Iae,ro({},j,{xAxisId:g,yAxisId:v,zAxisId:y,lineType:f,lineJointType:m,legendType:d,shape:h,hide:l,isAnimationActive:c,animationBegin:a,animationDuration:r,animationEasing:s,points:w,needClip:b})))}function $ae(e){var t=Rt(e,ZR),a=vn();return x.createElement(yo,{id:t.id,type:"scatter"},r=>x.createElement(x.Fragment,null,x.createElement(dx,{legendPayload:Oae(t)}),x.createElement(ux,{type:"scatter",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:a}),x.createElement(zae,ro({},t,{id:r}))))}var XR=x.memo($ae,Qc);XR.displayName="Scatter";var Bae=["domain","range"],Fae=["domain","range"];function H4(e,t){if(e==null)return{};var a,r,s=Uae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Uae(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function V4(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function QR(e,t){if(e===t)return!0;var{domain:a,range:r}=e,s=H4(e,Bae),{domain:l,range:c}=t,d=H4(t,Fae);return!V4(a,l)||!V4(r,c)?!1:Qc(s,d)}var qae=["dangerouslySetInnerHTML","ticks"],Hae=["id"];function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Wb.apply(null,arguments)}function K4(e,t){if(e==null)return{};var a,r,s=Vae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Vae(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Kae(e){var t=Ft(),a=x.useRef(null);return x.useLayoutEffect(()=>{a.current===null?t(sQ(e)):a.current!==e&&t(iQ({prev:a.current,next:e})),a.current=e},[e,t]),x.useLayoutEffect(()=>()=>{a.current&&(t(lQ(a.current)),a.current=null)},[t]),null}var Wae=e=>{var{xAxisId:t,className:a}=e,r=Oe(Bj),s=vn(),l="xAxis",c=Oe(S=>Yc(S,l,t,s)),d=Oe(S=>sP(S,l,t,s)),m=Oe(S=>tP(S,t)),f=Oe(S=>aK(S,t)),h=Oe(S=>Ik(S,t));if(m==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,y=K4(e,qae),{id:j}=h,b=K4(h,Hae);return x.createElement(yN,Wb({},y,b,{scale:c,x:f.x,y:f.y,width:m.width,height:m.height,className:at("recharts-".concat(l," ").concat(l),a),viewBox:r,ticks:d,axisType:l}))},Yae={allowDataOverflow:Gn.allowDataOverflow,allowDecimals:Gn.allowDecimals,allowDuplicatedCategory:Gn.allowDuplicatedCategory,angle:Gn.angle,axisLine:ii.axisLine,height:Gn.height,hide:!1,includeHidden:Gn.includeHidden,interval:Gn.interval,minTickGap:Gn.minTickGap,mirror:Gn.mirror,orientation:Gn.orientation,padding:Gn.padding,reversed:Gn.reversed,scale:Gn.scale,tick:Gn.tick,tickCount:Gn.tickCount,tickLine:ii.tickLine,tickSize:ii.tickSize,type:Gn.type,xAxisId:0},Gae=e=>{var t=Rt(e,Yae);return x.createElement(x.Fragment,null,x.createElement(Kae,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(Wae,t))},Qt=x.memo(Gae,QR);Qt.displayName="XAxis";var Zae=["dangerouslySetInnerHTML","ticks"],Xae=["id"];function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Yb.apply(null,arguments)}function W4(e,t){if(e==null)return{};var a,r,s=Qae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Qae(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Jae(e){var t=Ft(),a=x.useRef(null);return x.useLayoutEffect(()=>{a.current===null?t(oQ(e)):a.current!==e&&t(cQ({prev:a.current,next:e})),a.current=e},[e,t]),x.useLayoutEffect(()=>()=>{a.current&&(t(dQ(a.current)),a.current=null)},[t]),null}var ere=e=>{var{yAxisId:t,className:a,width:r,label:s}=e,l=x.useRef(null),c=x.useRef(null),d=Oe(Bj),m=vn(),f=Ft(),h="yAxis",g=Oe(D=>Yc(D,h,t,m)),v=Oe(D=>nP(D,t)),y=Oe(D=>sK(D,t)),j=Oe(D=>sP(D,h,t,m)),b=Oe(D=>zk(D,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!v||tN(s)||x.isValidElement(s)||b==null)){var D=l.current;if(D){var k=D.getCalculatedWidth();Math.round(v.width)!==Math.round(k)&&f(hQ({id:t,width:k}))}}},[j,v,f,s,t,r,b]),v==null||y==null||b==null)return null;var{dangerouslySetInnerHTML:S,ticks:M}=e,w=W4(e,Zae),{id:A}=b,O=W4(b,Xae);return x.createElement(yN,Yb({},w,O,{ref:l,labelRef:c,scale:g,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:at("recharts-".concat(h," ").concat(h),a),viewBox:d,ticks:j,axisType:h}))},tre={allowDataOverflow:Zn.allowDataOverflow,allowDecimals:Zn.allowDecimals,allowDuplicatedCategory:Zn.allowDuplicatedCategory,angle:Zn.angle,axisLine:ii.axisLine,hide:!1,includeHidden:Zn.includeHidden,interval:Zn.interval,minTickGap:Zn.minTickGap,mirror:Zn.mirror,orientation:Zn.orientation,padding:Zn.padding,reversed:Zn.reversed,scale:Zn.scale,tick:Zn.tick,tickCount:Zn.tickCount,tickLine:ii.tickLine,tickSize:ii.tickSize,type:Zn.type,width:Zn.width,yAxisId:0},nre=e=>{var t=Rt(e,tre);return x.createElement(x.Fragment,null,x.createElement(Jae,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(ere,t))},Jt=x.memo(nre,QR);Jt.displayName="YAxis";function are(e){var t=Ft(),a=x.useRef(null);return x.useLayoutEffect(()=>{a.current===null?t(uQ(e)):a.current!==e&&t(mQ({prev:a.current,next:e})),a.current=e},[e,t]),x.useLayoutEffect(()=>()=>{a.current&&(t(fQ(a.current)),a.current=null)},[t]),null}var rre={zAxisId:0,range:ei.range,scale:ei.scale,type:ei.type};function JR(e){var t=Rt(e,rre);return x.createElement(are,{domain:t.domain,id:t.zAxisId,dataKey:t.dataKey,name:t.name,unit:t.unit,range:t.range,scale:t.scale,type:t.type,allowDuplicatedCategory:ei.allowDuplicatedCategory,allowDataOverflow:ei.allowDataOverflow,reversed:ei.reversed,includeHidden:ei.includeHidden})}JR.displayName="ZAxis";var sre=(e,t)=>t,bN=te([sre,et,fo,qn,NP,Di,vW,Fn],CW),jN=e=>{var t=e.currentTarget.getBoundingClientRect(),a=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/a),chartY:Math.round((e.clientY-t.top)/r)}},e6=Er("mouseClick"),t6=Ku();t6.startListening({actionCreator:e6,effect:(e,t)=>{var a=e.payload,r=bN(t.getState(),jN(a));r?.activeIndex!=null&&t.dispatch(yK({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Gb=Er("mouseMove"),n6=Ku(),eh=null;n6.startListening({actionCreator:Gb,effect:(e,t)=>{var a=e.payload;eh!==null&&cancelAnimationFrame(eh);var r=jN(a);eh=requestAnimationFrame(()=>{var s=t.getState(),l=H1(s,s.tooltip.settings.shared);if(l==="axis"){var c=bN(s,r);c?.activeIndex!=null?t.dispatch(hP({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(fP())}eh=null})}});var Y4={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},a6=Ua({name:"rootProps",initialState:Y4,reducers:{updateOptions:(e,t)=>{var a;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(a=t.payload.barGap)!==null&&a!==void 0?a:Y4.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),ire=a6.reducer,{updateOptions:lre}=a6.actions,r6=Ua({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:ore}=r6.actions,cre=r6.reducer,s6=Er("keyDown"),i6=Er("focus"),NN=Ku();NN.startListening({actionCreator:s6,effect:(e,t)=>{var a=t.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=a.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=V1(s,Zc(a),am(a),om(a)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var m=Di(a);if(l==="Enter"){var f=np(a,"axis","hover",String(s.index));t.dispatch(Lb({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:f}));return}var h=oK(a),g=h==="left-to-right"?1:-1,v=l==="ArrowRight"?1:-1,y=d+v*g;if(!(m==null||y>=m.length||y<0)){var j=np(a,"axis","hover",String(y));t.dispatch(Lb({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:j}))}}}}}});NN.startListening({actionCreator:i6,effect:(e,t)=>{var a=t.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=a.tooltip;if(!s.active&&s.index==null){var l="0",c=np(a,"axis","hover",String(l));t.dispatch(Lb({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:c}))}}}});var wr=Er("externalEvent"),l6=Ku(),Mv=new Map;l6.startListening({actionCreator:wr,effect:(e,t)=>{var{handler:a,reactEvent:r}=e.payload;if(a!=null){r.persist();var s=r.type,l=Mv.get(s);l!==void 0&&cancelAnimationFrame(l);var c=requestAnimationFrame(()=>{try{var d=t.getState(),m={activeCoordinate:rW(d),activeDataKey:Z1(d),activeIndex:ws(d),activeLabel:AP(d),activeTooltipIndex:ws(d),isTooltipActive:sW(d)};a(m,r)}finally{Mv.delete(s)}});Mv.set(s,c)}}});var dre=te([Gc],e=>e.tooltipItemPayloads),ure=te([dre,im,(e,t,a)=>t,(e,t,a)=>a],(e,t,a,r)=>{var s=e.find(d=>d.settings.dataKey===r);if(s!=null){var{positions:l}=s;if(l!=null){var c=t(l,a);return c}}}),o6=Er("touchMove"),c6=Ku();c6.startListening({actionCreator:o6,effect:(e,t)=>{var a=e.payload;if(!(a.touches==null||a.touches.length===0)){var r=t.getState(),s=H1(r,r.tooltip.settings.shared);if(s==="axis"){var l=bN(r,jN({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,currentTarget:a.currentTarget}));l?.activeIndex!=null&&t.dispatch(hP({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(s==="item"){var c,d=a.touches[0];if(document.elementFromPoint==null)return;var m=document.elementFromPoint(d.clientX,d.clientY);if(!m||!m.getAttribute)return;var f=m.getAttribute(zj),h=(c=m.getAttribute($j))!==null&&c!==void 0?c:void 0,g=ure(t.getState(),f,h);t.dispatch(mP({activeDataKey:h,activeIndex:f,activeCoordinate:g}))}}}});var mre=OO({brush:gte,cartesianAxis:pQ,chartData:aY,errorBars:hJ,graphicalItems:bX,layout:_$,legend:BB,options:QW,polarAxis:sZ,polarOptions:cre,referenceElements:Ste,rootProps:ire,tooltip:vK,zIndex:BW}),fre=function(t){return s$({reducer:mre,preloadedState:t,middleware:a=>{var r;return a({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([t6.middleware,n6.middleware,NN.middleware,l6.middleware,c6.middleware])},enhancers:a=>{var r=a;return typeof a=="function"&&(r=a()),r.concat(HO({type:"raf"}))},devTools:Lc.devToolsEnabled})};function d6(e){var{preloadedState:t,children:a,reduxStoreName:r}=e,s=vn(),l=x.useRef(null);if(s)return a;l.current==null&&(l.current=fre(t));var c=Oj;return x.createElement(IJ,{context:c,store:l.current},a)}function hre(e){var{layout:t,margin:a}=e,r=Ft(),s=vn();return x.useEffect(()=>{s||(r(k$(t)),r(E$(a)))},[r,s,t,a]),null}var u6=x.memo(hre,Qc);function m6(e){var t=Ft();return x.useEffect(()=>{t(lre(e))},[t,e]),null}function G4(e){var{zIndex:t,isPanorama:a}=e,r=a?"recharts-zindex-panorama-":"recharts-zindex-",s=uR("".concat(r).concat(t)),l=Ft();return x.useLayoutEffect(()=>(l(zW({zIndex:t,elementId:s,isPanorama:a})),()=>{l($W({zIndex:t,isPanorama:a}))}),[l,t,s,a]),x.createElement("g",{tabIndex:-1,id:s})}function Z4(e){var{children:t,isPanorama:a}=e,r=Oe(DW);if(!r||r.length===0)return t;var s=r.filter(c=>c<0),l=r.filter(c=>c>0);return x.createElement(x.Fragment,null,s.map(c=>x.createElement(G4,{key:c,zIndex:c,isPanorama:a})),t,l.map(c=>x.createElement(G4,{key:c,zIndex:c,isPanorama:a})))}var pre=["children"];function xre(e,t){if(e==null)return{};var a,r,s=gre(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function gre(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},xp.apply(null,arguments)}var yre={width:"100%",height:"100%",display:"block"},vre=x.forwardRef((e,t)=>{var a=Uj(),r=qj(),s=SE();if(!js(a)||!js(r))return null;var{children:l,otherAttributes:c,title:d,desc:m}=e,f,h;return c!=null&&(typeof c.tabIndex=="number"?f=c.tabIndex:f=s?0:void 0,typeof c.role=="string"?h=c.role:h=s?"application":void 0),x.createElement(vj,xp({},c,{title:d,desc:m,role:h,tabIndex:f,width:a,height:r,style:yre,ref:t}),l)}),bre=e=>{var{children:t}=e,a=Oe(Fp);if(!a)return null;var{width:r,height:s,y:l,x:c}=a;return x.createElement(vj,{width:r,height:s,x:c,y:l},t)},X4=x.forwardRef((e,t)=>{var{children:a}=e,r=xre(e,pre),s=vn();return s?x.createElement(bre,null,x.createElement(Z4,{isPanorama:!0},a)):x.createElement(vre,xp({ref:t},r),x.createElement(Z4,{isPanorama:!1},a))});function jre(){var e=Ft(),[t,a]=x.useState(null),r=Oe(G$);return x.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),l=s.width/t.offsetWidth;sn(l)&&l!==r&&e(R$(l))}},[t,e,r]),a}function Q4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Nre(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Q4(Object(a),!0).forEach(function(r){wre(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function wre(e,t,a){return(t=Sre(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Sre(e){var t=Are(e,"string");return typeof t=="symbol"?t:t+""}function Are(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},so.apply(null,arguments)}var Cre=()=>(mY(),null);function gp(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Mre=x.forwardRef((e,t)=>{var a,r,s=x.useRef(null),[l,c]=x.useState({containerWidth:gp((a=e.style)===null||a===void 0?void 0:a.width),containerHeight:gp((r=e.style)===null||r===void 0?void 0:r.height)}),d=x.useCallback((f,h)=>{c(g=>{var v=Math.round(f),y=Math.round(h);return g.containerWidth===v&&g.containerHeight===y?g:{containerWidth:v,containerHeight:y}})},[]),m=x.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:g}=f.getBoundingClientRect();d(h,g);var v=j=>{var{width:b,height:S}=j[0].contentRect;d(b,S)},y=new ResizeObserver(v);y.observe(f),s.current=y}},[t,d]);return x.useEffect(()=>()=>{var f=s.current;f?.disconnect()},[d]),x.createElement(x.Fragment,null,x.createElement(Up,{width:l.containerWidth,height:l.containerHeight}),x.createElement("div",so({ref:m},e)))}),Dre=x.forwardRef((e,t)=>{var{width:a,height:r}=e,[s,l]=x.useState({containerWidth:gp(a),containerHeight:gp(r)}),c=x.useCallback((m,f)=>{l(h=>{var g=Math.round(m),v=Math.round(f);return h.containerWidth===g&&h.containerHeight===v?h:{containerWidth:g,containerHeight:v}})},[]),d=x.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null){var{width:f,height:h}=m.getBoundingClientRect();c(f,h)}},[t,c]);return x.createElement(x.Fragment,null,x.createElement(Up,{width:s.containerWidth,height:s.containerHeight}),x.createElement("div",so({ref:d},e)))}),Ore=x.forwardRef((e,t)=>{var{width:a,height:r}=e;return x.createElement(x.Fragment,null,x.createElement(Up,{width:a,height:r}),x.createElement("div",so({ref:t},e)))}),Ere=x.forwardRef((e,t)=>{var{width:a,height:r}=e;return ui(a)||ui(r)?x.createElement(Dre,so({},e,{ref:t})):x.createElement(Ore,so({},e,{ref:t}))});function kre(e){return e===!0?Mre:Ere}var Pre=x.forwardRef((e,t)=>{var{children:a,className:r,height:s,onClick:l,onContextMenu:c,onDoubleClick:d,onMouseDown:m,onMouseEnter:f,onMouseLeave:h,onMouseMove:g,onMouseUp:v,onTouchEnd:y,onTouchMove:j,onTouchStart:b,style:S,width:M,responsive:w,dispatchTouchEvents:A=!0}=e,O=x.useRef(null),D=Ft(),[k,_]=x.useState(null),[E,P]=x.useState(null),z=jre(),L=Fj(),I=L?.width>0?L.width:M,J=L?.height>0?L.height:s,T=x.useCallback(ae=>{z(ae),typeof t=="function"&&t(ae),_(ae),P(ae),ae!=null&&(O.current=ae)},[z,t,_,P]),Y=x.useCallback(ae=>{D(e6(ae)),D(wr({handler:l,reactEvent:ae}))},[D,l]),V=x.useCallback(ae=>{D(Gb(ae)),D(wr({handler:f,reactEvent:ae}))},[D,f]),B=x.useCallback(ae=>{D(fP()),D(wr({handler:h,reactEvent:ae}))},[D,h]),U=x.useCallback(ae=>{D(Gb(ae)),D(wr({handler:g,reactEvent:ae}))},[D,g]),F=x.useCallback(()=>{D(i6())},[D]),W=x.useCallback(ae=>{D(s6(ae.key))},[D]),ne=x.useCallback(ae=>{D(wr({handler:c,reactEvent:ae}))},[D,c]),je=x.useCallback(ae=>{D(wr({handler:d,reactEvent:ae}))},[D,d]),H=x.useCallback(ae=>{D(wr({handler:m,reactEvent:ae}))},[D,m]),fe=x.useCallback(ae=>{D(wr({handler:v,reactEvent:ae}))},[D,v]),Ne=x.useCallback(ae=>{D(wr({handler:b,reactEvent:ae}))},[D,b]),se=x.useCallback(ae=>{A&&D(o6(ae)),D(wr({handler:j,reactEvent:ae}))},[D,A,j]),ee=x.useCallback(ae=>{D(wr({handler:y,reactEvent:ae}))},[D,y]),ie=kre(w);return x.createElement(RP.Provider,{value:k},x.createElement(KD.Provider,{value:E},x.createElement(ie,{width:I??S?.width,height:J??S?.height,className:at("recharts-wrapper",r),style:Nre({position:"relative",cursor:"default",width:I,height:J},S),onClick:Y,onContextMenu:ne,onDoubleClick:je,onFocus:F,onKeyDown:W,onMouseDown:H,onMouseEnter:V,onMouseLeave:B,onMouseMove:U,onMouseUp:fe,onTouchEnd:ee,onTouchMove:se,onTouchStart:Ne,ref:T},x.createElement(Cre,null),a)))}),Rre=["width","height","responsive","children","className","style","compact","title","desc"];function _re(e,t){if(e==null)return{};var a,r,s=Tre(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Tre(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var f6=x.forwardRef((e,t)=>{var{width:a,height:r,responsive:s,children:l,className:c,style:d,compact:m,title:f,desc:h}=e,g=_re(e,Rre),v=Bt(g);return m?x.createElement(x.Fragment,null,x.createElement(Up,{width:a,height:r}),x.createElement(X4,{otherAttributes:v,title:f,desc:h},l)):x.createElement(Pre,{className:c,style:d,width:a,height:r,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(X4,{otherAttributes:v,title:f,desc:h,ref:t},x.createElement(Cte,null,l)))});function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Zb.apply(null,arguments)}var Lre={top:5,right:5,bottom:5,left:5},Ire={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Lre,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},gx=x.forwardRef(function(t,a){var r,s=Rt(t.categoricalChartProps,Ire),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:m,categoricalChartProps:f}=t,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:m,eventEmitter:void 0};return x.createElement(d6,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:l},x.createElement(kR,{chartData:f.data}),x.createElement(u6,{layout:s.layout,margin:s.margin}),x.createElement(m6,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),x.createElement(f6,Zb({},s,{ref:a})))}),zre=["axis"],Iu=x.forwardRef((e,t)=>x.createElement(gx,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zre,tooltipPayloadSearcher:ho,categoricalChartProps:e,ref:t})),$re=["axis","item"],Mr=x.forwardRef((e,t)=>x.createElement(gx,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$re,tooltipPayloadSearcher:ho,categoricalChartProps:e,ref:t}));function Bre(e){var t=Ft();return x.useEffect(()=>{t(ore(e))},[t,e]),null}var Fre=["layout"];function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Xb.apply(null,arguments)}function Ure(e,t){if(e==null)return{};var a,r,s=qre(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function qre(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Hre={top:5,right:5,bottom:5,left:5},yx={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Hre,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},wN=x.forwardRef(function(t,a){var r,s=Rt(t.categoricalChartProps,yx),{layout:l}=s,c=Ure(s,Fre),{chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,g={chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return x.createElement(d6,{preloadedState:{options:g},reduxStoreName:(r=s.id)!==null&&r!==void 0?r:d},x.createElement(kR,{chartData:s.data}),x.createElement(u6,{layout:l,margin:s.margin}),x.createElement(m6,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),x.createElement(Bre,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),x.createElement(f6,Xb({},c,{ref:a})))});function J4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function eD(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(a),!0).forEach(function(r){Vre(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Vre(e,t,a){return(t=Kre(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Kre(e){var t=Wre(e,"string");return typeof t=="symbol"?t:t+""}function Wre(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yre=["item"],Gre=eD(eD({},yx),{},{layout:"centric",startAngle:0,endAngle:360}),sr=x.forwardRef((e,t)=>{var a=Rt(e,Gre);return x.createElement(wN,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Yre,tooltipPayloadSearcher:ho,categoricalChartProps:a,ref:t})});function tD(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function nD(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(a),!0).forEach(function(r){Zre(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Zre(e,t,a){return(t=Xre(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Xre(e){var t=Qre(e,"string");return typeof t=="symbol"?t:t+""}function Qre(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jre=["axis"],ese=nD(nD({},yx),{},{layout:"centric",startAngle:90,endAngle:-270}),tse=x.forwardRef((e,t)=>{var a=Rt(e,ese);return x.createElement(wN,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Jre,tooltipPayloadSearcher:ho,categoricalChartProps:a,ref:t})}),nse=["item"],ase=x.forwardRef((e,t)=>x.createElement(gx,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:nse,tooltipPayloadSearcher:ho,categoricalChartProps:e,ref:t})),rse=["axis"],vo=x.forwardRef((e,t)=>x.createElement(gx,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rse,tooltipPayloadSearcher:ho,categoricalChartProps:e,ref:t}));function aD(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function rD(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(a),!0).forEach(function(r){sse(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):aD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function sse(e,t,a){return(t=ise(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ise(e){var t=lse(e,"string");return typeof t=="symbol"?t:t+""}function lse(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ose=["axis","item"],cse=rD(rD({},yx),{},{layout:"radial",startAngle:0,endAngle:360}),dse=x.forwardRef((e,t)=>{var a=Rt(e,cse);return x.createElement(wN,{chartName:"RadialBarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ose,tooltipPayloadSearcher:ho,categoricalChartProps:a,ref:t})});const sD=["#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899","#f43f5e","#f97316","#eab308"];function use(){const{exEmployees:e}=Ae(),[t,a]=x.useState(""),[r,s]=x.useState("all"),[l,c]=x.useState("all"),[d,m]=x.useState(null),[f,h]=x.useState(!1),g=x.useMemo(()=>e.filter(b=>{if(t){const S=t.toLowerCase();if(!b.name?.toLowerCase().includes(S)&&!b.department?.toLowerCase().includes(S)&&!b.designation?.toLowerCase().includes(S))return!1}return!(r!=="all"&&b.department!==r||l!=="all"&&b.faculty!==l)}),[e,t,r,l]),v=x.useMemo(()=>{const b={};e.forEach(E=>{const P=E.exitReason||"Other";b[P]=(b[P]||0)+1});const S=Object.entries(b).map(([E,P])=>({name:E,value:P})),M={};e.forEach(E=>{M[E.department]=(M[E.department]||0)+1});const w=Object.entries(M).map(([E,P])=>({name:E,count:P})).sort((E,P)=>P.count-E.count).slice(0,8),A=e.length?(e.reduce((E,P)=>E+(P.yearsOfService||0),0)/e.length).toFixed(1):0,O=e.filter(E=>E.exitSurvey?.satisfaction),D=O.length?(O.reduce((E,P)=>E+P.exitSurvey.satisfaction,0)/O.length).toFixed(1):0,k=e.filter(E=>E.exitSurvey?.wouldRecommend).length,_=e.length?Math.round(k/e.length*100):0;return{reasonData:S,deptData:w,avgTenure:A,avgSatisfaction:D,recommendPct:_}},[e]),y=()=>{const b=g.map(O=>({Name:O.name,Email:O.email,Department:O.department,Faculty:O.faculty,Designation:O.designation,"Join Date":O.joinDate,"Exit Date":O.exitDate,"Years of Service":O.yearsOfService,"Exit Reason":O.exitReason,Satisfaction:O.exitSurvey?.satisfaction||"N/A","Would Recommend":O.exitSurvey?.wouldRecommend?"Yes":"No"})),S=Ss.unparse(b),M=new Blob([S],{type:"text/csv"}),w=URL.createObjectURL(M),A=document.createElement("a");A.href=w,A.download=`ex-employees-${q(new Date,"yyyy-MM-dd")}.csv`,A.click()},j=Object.values(fs).flat();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ex-Employees"}),n.jsx("p",{className:"text-gray-600",children:"Former employees and exit analytics"})]}),n.jsxs(X,{variant:"outline",onClick:y,className:"gap-2",children:[n.jsx(Wt,{className:"w-5 h-5"}),"Export CSV"]})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Total Ex-Employees",value:e.length,icon:ms,color:"indigo"},{label:"Avg. Tenure",value:`${v.avgTenure} yrs`,icon:Xe,color:"purple"},{label:"Avg. Satisfaction",value:`${v.avgSatisfaction}/5`,icon:$a,color:"blue"},{label:"Would Recommend",value:`${v.recommendPct}%`,icon:ll,color:"green"}].map(b=>n.jsx(K,{className:`bg-${b.color}-50 border-${b.color}-100`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm text-${b.color}-600`,children:b.label}),n.jsx("p",{className:`text-2xl font-bold text-${b.color}-700`,children:b.value})]}),n.jsx(b.icon,{className:`w-8 h-8 text-${b.color}-400`})]})},b.label))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Exit Reasons",subtitle:"Distribution of departure reasons",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(sr,{children:[n.jsx(Fa,{data:v.reasonData,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:b,percent:S})=>`${b} (${(S*100).toFixed(0)}%)`,children:v.reasonData.map((b,S)=>n.jsx(An,{fill:sD[S%sD.length]},S))}),n.jsx(ut,{})]})})})}),n.jsx(K,{title:"Department Distribution",subtitle:"Ex-employees by department",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Mr,{data:v.deptData,layout:"vertical",children:[n.jsx(Xt,{strokeDasharray:"3 3"}),n.jsx(Qt,{type:"number"}),n.jsx(Jt,{type:"category",dataKey:"name",width:60}),n.jsx(ut,{}),n.jsx(Qn,{dataKey:"count",fill:"#6366f1",radius:[0,4,4,0]})]})})})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsx(Cn,{type:"text",placeholder:"Search ex-employees...",value:t,onChange:b=>a(b.target.value),className:"flex-1",inputClassName:"pr-4 py-2 text-sm"}),n.jsxs("select",{value:l,onChange:b=>c(b.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Faculties"}),Object.keys(fs).map(b=>n.jsx("option",{value:b,children:b},b))]}),n.jsxs("select",{value:r,onChange:b=>s(b.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Departments"}),j.map(b=>n.jsx("option",{value:b,children:b},b))]})]}),n.jsx(K,{title:`Ex-Employees Directory (${g.length})`,children:g.length===0?n.jsx(Fu,{icon:ms,title:"No Ex-Employees Found",description:"No former employees match your search criteria"}):n.jsx("div",{className:"space-y-4",children:g.map(b=>n.jsx("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{m(b),h(!0)},children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-indigo-400 to-purple-400 flex items-center justify-center text-white font-bold",children:b.name?.charAt(0)}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:b.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:[b.designation,"  ",b.department]}),n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-400 mt-1",children:[n.jsx(PD,{className:"w-4 h-4"}),b.email]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:[n.jsx(Xe,{className:"w-4 h-4 inline mr-1"}),b.yearsOfService," years"]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Left:"," ",b.exitDate?q(ue(b.exitDate),"MMM yyyy"):"N/A"]}),n.jsx(ge,{variant:"default",children:b.exitReason}),b.exitSurvey&&n.jsx(li,{className:"w-5 h-5 text-green-500",title:"Survey completed"})]})]})},b.id))})}),n.jsx(vt,{isOpen:f,onClose:()=>h(!1),title:"Ex-Employee Details",size:"lg",children:d&&n.jsxs("div",{className:"space-y-6",children:[d.publications&&d.publications.length>0&&n.jsxs("div",{className:"border rounded-xl p-4",children:[n.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(ll,{className:"w-5 h-5 text-blue-500"}),"Publications"]}),n.jsx("ul",{className:"divide-y",children:d.publications.map((b,S)=>n.jsxs("li",{className:"py-2",children:[n.jsx("div",{className:"font-semibold",children:b.type==="book"?b.bookTitle:(b.type==="research"||b.type==="conference",b.title)}),n.jsxs("div",{className:"text-sm text-gray-600",children:[b.type==="book"&&b.author,b.type==="research"&&b.journalAddress,b.type==="conference"&&b.conferenceAddress]}),b.type==="book"&&b.website&&n.jsx("a",{href:b.website,className:"text-blue-600 text-xs",target:"_blank",rel:"noopener noreferrer",children:b.website}),b.type==="research"&&b.doi&&n.jsx("a",{href:b.doi,className:"text-blue-600 text-xs",target:"_blank",rel:"noopener noreferrer",children:b.doi}),b.type==="conference"&&b.webLink&&n.jsx("a",{href:b.webLink,className:"text-blue-600 text-xs",target:"_blank",rel:"noopener noreferrer",children:b.webLink})]},S))})]}),n.jsxs("div",{className:"flex items-center gap-4 p-4 bg-linear-to-r from-indigo-50 to-purple-50 rounded-xl",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-linear-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-2xl font-bold",children:d.name?.charAt(0)}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:d.name}),n.jsx("p",{className:"text-gray-500",children:d.designation}),n.jsx("p",{className:"text-sm text-gray-400",children:d.email})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Department"}),n.jsx("p",{className:"font-medium",children:d.department})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Faculty"}),n.jsx("p",{className:"font-medium",children:d.faculty})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Join Date"}),n.jsx("p",{className:"font-medium",children:d.joinDate?q(ue(d.joinDate),"MMM d, yyyy"):"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Exit Date"}),n.jsx("p",{className:"font-medium",children:d.exitDate?q(ue(d.exitDate),"MMM d, yyyy"):"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Years of Service"}),n.jsxs("p",{className:"font-medium",children:[d.yearsOfService," years"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Exit Reason"}),n.jsx("p",{className:"font-medium",children:d.exitReason})]})]}),d.exitSurvey&&n.jsxs("div",{className:"border rounded-xl p-4",children:[n.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(li,{className:"w-5 h-5 text-green-500"}),"Exit Survey Responses"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Satisfaction",value:d.exitSurvey.satisfaction},{label:"Management",value:d.exitSurvey.management},{label:"Environment",value:d.exitSurvey.workEnvironment},{label:"Growth",value:d.exitSurvey.growth}].map(b=>n.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:b.label}),n.jsx("div",{className:"flex justify-center gap-1",children:[1,2,3,4,5].map(S=>n.jsx("span",{className:`w-5 h-5 rounded text-xs flex items-center justify-center ${S<=(b.value||0)?"bg-yellow-400 text-white":"bg-gray-200 text-gray-400"}`,children:""},S))})]},b.label))}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Would Recommend"}),n.jsx("p",{className:"font-medium",children:d.exitSurvey.wouldRecommend?" Yes":" No"})]}),n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Would Return"}),n.jsx("p",{className:"font-medium",children:d.exitSurvey.wouldReturn?" Yes":" No"})]})]}),d.exitSurvey.feedback&&n.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-blue-800 font-medium mb-1",children:"Feedback"}),n.jsx("p",{className:"text-sm text-blue-700",children:d.exitSurvey.feedback})]})]})]})]})})]})}const uc=["#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899","#f43f5e","#f97316","#eab308","#22c55e","#14b8a6"];function mse(){const{employees:e,exEmployees:t,resignations:a,promotions:r}=Ae(),s=Ae(M=>M.getPerformanceAnalytics),[l,c]=x.useState("12"),d=x.useMemo(()=>{const M=e.filter(D=>D.status==="Active").length,w=e.filter(D=>D.status==="On Leave").length,A=e.length,O=t.length;return{active:M,onLeave:w,total:A,totalExEmployees:O}},[e,t]),m=x.useMemo(()=>{const M=parseInt(l),w=[];for(let A=M-1;A>=0;A--){const O=io(new Date,A),D=La(O),k=Ia(O),_=e.filter(P=>{if(!P.joinDate)return!1;const z=ue(P.joinDate);return xs(z,{start:D,end:k})}).length,E=t.filter(P=>{if(!P.exitDate)return!1;const z=ue(P.exitDate);return xs(z,{start:D,end:k})}).length;w.push({month:q(O,"MMM yyyy"),shortMonth:q(O,"MMM"),hired:_,left:E,netChange:_-E})}return w},[e,t,l]),f=x.useMemo(()=>{const M={};return e.forEach(w=>{M[w.department]=(M[w.department]||0)+1}),Object.entries(M).map(([w,A])=>({name:w,value:A})).sort((w,A)=>A.value-w.value)},[e]),h=x.useMemo(()=>{const M={};return e.forEach(w=>{M[w.faculty]=(M[w.faculty]||0)+1}),Object.entries(M).map(([w,A])=>({name:w,value:A})).sort((w,A)=>A.value-w.value)},[e]),g=x.useMemo(()=>{const M={};return t.forEach(w=>{const A=w.exitReason||"Other";M[A]=(M[A]||0)+1}),Object.entries(M).map(([w,A])=>({name:w,value:A})).sort((w,A)=>A.value-w.value)},[t]),v=x.useMemo(()=>{const M={};return e.forEach(w=>{M[w.designation]=(M[w.designation]||0)+1}),Object.entries(M).map(([w,A])=>({name:w,value:A})).sort((w,A)=>A.value-w.value).slice(0,8)},[e]),y=x.useMemo(()=>{const M=e.filter(w=>w.joinDate).map(w=>(new Date-ue(w.joinDate))/315576e5);return M.length===0?0:(M.reduce((w,A)=>w+A,0)/M.length).toFixed(1)},[e]),j=x.useMemo(()=>{const M=r.filter(A=>A.status==="Pending"||A.status==="Under Review").length,w=a.filter(A=>A.status==="Pending"||A.status==="Approved").length;return{pendingPromotions:M,pendingResignations:w}},[r,a]),b=x.useMemo(()=>{const M=m.reduce((O,D)=>O+D.hired,0),w=m.reduce((O,D)=>O+D.left,0),A=M-w;return{totalHired:M,totalLeft:w,netChange:A}},[m]),S=x.useMemo(()=>s(),[s]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Workforce Analytics"}),n.jsx("p",{className:"text-gray-600",children:"Comprehensive overview of employee statistics"})]}),n.jsxs("select",{value:l,onChange:M=>c(M.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"6",children:"Last 6 Months"}),n.jsx("option",{value:"12",children:"Last 12 Months"}),n.jsx("option",{value:"24",children:"Last 24 Months"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(K,{className:"bg-linear-to-br from-indigo-50 to-indigo-100 border-indigo-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-indigo-700",children:"Current Workforce"}),n.jsx("p",{className:"text-3xl font-bold text-indigo-900 mt-1",children:d.total}),n.jsxs("p",{className:"text-xs text-indigo-600 mt-1",children:[d.active," active"]})]}),n.jsx("div",{className:"p-3 bg-indigo-500 rounded-lg",children:n.jsx(en,{className:"w-6 h-6 text-white"})})]})}),n.jsx(K,{className:"bg-linear-to-br from-green-50 to-green-100 border-green-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-green-700",children:"New Hires"}),n.jsx("p",{className:"text-3xl font-bold text-green-900 mt-1",children:b.totalHired}),n.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["in last ",l," months"]})]}),n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(xh,{className:"w-6 h-6 text-white"})})]})}),n.jsx(K,{className:"bg-linear-to-br from-red-50 to-red-100 border-red-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-red-700",children:"Departures"}),n.jsx("p",{className:"text-3xl font-bold text-red-900 mt-1",children:b.totalLeft}),n.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["in last ",l," months"]})]}),n.jsx("div",{className:"p-3 bg-red-500 rounded-lg",children:n.jsx(_D,{className:"w-6 h-6 text-white"})})]})}),n.jsx(K,{className:`bg-linear-to-br ${b.netChange>=0?"from-emerald-50 to-emerald-100 border-emerald-200":"from-orange-50 to-orange-100 border-orange-200"}`,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm font-medium ${b.netChange>=0?"text-emerald-700":"text-orange-700"}`,children:"Net Change"}),n.jsxs("p",{className:`text-3xl font-bold mt-1 ${b.netChange>=0?"text-emerald-900":"text-orange-900"}`,children:[b.netChange>=0?"+":"",b.netChange]}),n.jsx("p",{className:`text-xs mt-1 ${b.netChange>=0?"text-emerald-600":"text-orange-600"}`,children:b.netChange>=0?"Growth":"Decline"})]}),n.jsx("div",{className:`p-3 rounded-lg ${b.netChange>=0?"bg-emerald-500":"bg-orange-500"}`,children:b.netChange>=0?n.jsx(gs,{className:"w-6 h-6 text-white"}):n.jsx(ij,{className:"w-6 h-6 text-white"})})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(K,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:y}),n.jsx("p",{className:"text-sm text-gray-500",children:"Avg. Tenure (Years)"})]})}),n.jsx(K,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:d.totalExEmployees}),n.jsx("p",{className:"text-sm text-gray-500",children:"Total Ex-Employees"})]})}),n.jsx(K,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-amber-600",children:j.pendingPromotions}),n.jsx("p",{className:"text-sm text-gray-500",children:"Pending Promotions"})]})}),n.jsx(K,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-red-600",children:j.pendingResignations}),n.jsx("p",{className:"text-sm text-gray-500",children:"Active Resignations"})]})})]}),n.jsx(K,{title:"Hiring & Attrition Trend",subtitle:"Monthly employee movement",children:n.jsx("div",{className:"h-80",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(vo,{data:m,children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorHired",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#22c55e",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorLeft",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})]}),n.jsx(Xt,{strokeDasharray:"3 3"}),n.jsx(Qt,{dataKey:"shortMonth"}),n.jsx(Jt,{}),n.jsx(ut,{contentStyle:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),n.jsx(tr,{}),n.jsx(za,{type:"monotone",dataKey:"hired",name:"New Hires",stroke:"#22c55e",fillOpacity:1,fill:"url(#colorHired)"}),n.jsx(za,{type:"monotone",dataKey:"left",name:"Departures",stroke:"#ef4444",fillOpacity:1,fill:"url(#colorLeft)"})]})})})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Faculty Distribution",subtitle:"Employees by faculty",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(sr,{children:[n.jsx(Fa,{data:h,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,dataKey:"value",label:({name:M,percent:w})=>`${M} (${(w*100).toFixed(0)}%)`,children:h.map((M,w)=>n.jsx(An,{fill:uc[w%uc.length]},w))}),n.jsx(ut,{})]})})})}),n.jsx(K,{title:"Department Distribution",subtitle:"Top departments by headcount",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Mr,{data:f.slice(0,6),layout:"vertical",children:[n.jsx(Xt,{strokeDasharray:"3 3"}),n.jsx(Qt,{type:"number"}),n.jsx(Jt,{type:"category",dataKey:"name",width:80}),n.jsx(ut,{}),n.jsx(Qn,{dataKey:"value",fill:"#6366f1",radius:[0,4,4,0]})]})})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Designation Distribution",subtitle:"Employees by role",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Mr,{data:v,children:[n.jsx(Xt,{strokeDasharray:"3 3"}),n.jsx(Qt,{dataKey:"name",angle:-45,textAnchor:"end",height:80}),n.jsx(Jt,{}),n.jsx(ut,{}),n.jsx(Qn,{dataKey:"value",fill:"#8b5cf6",radius:[4,4,0,0]})]})})})}),n.jsx(K,{title:"Exit Reasons Analysis",subtitle:"Why employees leave",children:n.jsx("div",{className:"h-64",children:g.length===0?n.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No departure data available"}):n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(sr,{children:[n.jsx(Fa,{data:g,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:M,percent:w})=>`${M} (${(w*100).toFixed(0)}%)`,children:g.map((M,w)=>n.jsx(An,{fill:uc[w%uc.length]},w))}),n.jsx(ut,{})]})})})})]}),n.jsx(K,{title:"Net Workforce Change",subtitle:"Monthly growth/decline",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Mr,{data:m,children:[n.jsx(Xt,{strokeDasharray:"3 3"}),n.jsx(Qt,{dataKey:"shortMonth"}),n.jsx(Jt,{}),n.jsx(ut,{}),n.jsx(Qn,{dataKey:"netChange",name:"Net Change",fill:M=>M.netChange>=0?"#22c55e":"#ef4444",radius:[4,4,0,0],children:m.map((M,w)=>n.jsx(An,{fill:M.netChange>=0?"#22c55e":"#ef4444"},`cell-${w}`))})]})})})}),n.jsxs(K,{title:"Performance Analytics (PAMS)",subtitle:"Average ratings and top performers",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Average Rating by Department"}),S.avgByDepartment.length===0?n.jsx("div",{className:"text-sm text-gray-500",children:"No performance reviews available."}):n.jsx("div",{className:"space-y-3",children:S.avgByDepartment.map(M=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-600",children:M.department}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:`${M.averageRating/5*100}%`}})}),n.jsx("span",{className:"font-medium w-12 text-right",children:M.averageRating})]})]},M.department))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Top Performers"}),S.topPerformers.length===0?n.jsx("div",{className:"text-sm text-gray-500",children:"No performance reviews available."}):n.jsx("div",{className:"space-y-2",children:S.topPerformers.map(M=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:M.name}),n.jsx("p",{className:"text-xs text-gray-500",children:M.department})]}),n.jsx("span",{className:"text-sm font-semibold text-emerald-700",children:M.rating})]},M.employeeId))})]})]}),n.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Overall Average Rating:"," ",n.jsx("span",{className:"font-semibold text-gray-900",children:S.overallAvg})," (",S.count," ","reviews)"]})]}),n.jsx(K,{title:"Department Summary",subtitle:"Headcount by department",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Department"}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Total"}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Active"}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"On Leave"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"% of Total"})]})}),n.jsx("tbody",{children:f.map(M=>{const w=e.filter(k=>k.department===M.name),A=w.filter(k=>k.status==="Active").length,O=w.filter(k=>k.status==="On Leave").length,D=(M.value/d.total*100).toFixed(1);return n.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:uc[f.indexOf(M)%uc.length]}}),n.jsx("span",{className:"font-medium text-gray-900",children:M.name})]})}),n.jsx("td",{className:"py-3 px-4 text-center font-semibold",children:M.value}),n.jsx("td",{className:"py-3 px-4 text-center text-green-600",children:A}),n.jsx("td",{className:"py-3 px-4 text-center text-amber-600",children:O}),n.jsx("td",{className:"py-3 px-4 text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("div",{className:"w-16 h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${D}%`}})}),n.jsxs("span",{className:"text-sm text-gray-600",children:[D,"%"]})]})})]},M.name)})})]})})})]})}function h6(e,t){if(!e||e.length===0)return"";const a=t||Object.keys(e[0]),r=c=>{if(c==null)return"";const d=String(c);return/[",\n]/.test(d)?'"'+d.replace(/"/g,'""')+'"':d},s=a.join(","),l=e.map(c=>a.map(d=>r(c[d])).join(","));return[s,...l].join(`
`)}function p6(e,t){const a=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(a),s=document.createElement("a");s.href=r,s.setAttribute("download",e),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)}function fse(){const{employees:e,attendance:t,leaves:a}=Ae(),r=Ae(B=>B.getAccreditationReport),[s,l]=x.useState(new Date),[c,d]=x.useState("all"),[m,f]=x.useState("all"),[h,g]=x.useState("all"),[v,y]=x.useState("all"),[j,b]=x.useState("6months"),S=x.useMemo(()=>c==="all"?Object.values(fs).flat():fs[c]||[],[c]),M=x.useMemo(()=>{const B=new Set(e.map(U=>U.designation).filter(Boolean));return Array.from(B).sort()},[e]),w=["Active","On Leave","Resigned"],A=x.useMemo(()=>e.filter(B=>!(c!=="all"&&B.faculty!==c||m!=="all"&&B.department!==m||h!=="all"&&B.status!==h||v!=="all"&&B.designation!==v)),[e,c,m,h,v]),O=x.useMemo(()=>new Set(A.map(B=>B.id)),[A]),D=B=>{d(B),f("all")},k=()=>{d("all"),f("all"),g("all"),y("all"),b("6months")},_=()=>({"1month":1,"3months":3,"6months":6,"12months":12})[j]||6,E=c!=="all"||m!=="all"||h!=="all"||v!=="all"||j!=="6months",P=x.useMemo(()=>{const B={},U={},F={Active:0,"On Leave":0,Resigned:0};return A.forEach(W=>{B[W.department]=(B[W.department]||0)+1,U[W.faculty]=(U[W.faculty]||0)+1,F[W.status]=(F[W.status]||0)+1}),{byDepartment:B,byFaculty:U,byStatus:F}},[A]),z=x.useMemo(()=>{const B=La(s),U=Ia(s),F=t.filter(Ne=>{const se=ue(Ne.date),ee=xs(se,{start:B,end:U}),ie=O.has(Ne.employeeId);return ee&&ie}),W=F.filter(Ne=>Ne.status==="Present").length,ne=F.filter(Ne=>Ne.status==="Late").length,je=F.filter(Ne=>Ne.status==="Absent").length,H=F.length,fe={};return F.forEach(Ne=>{fe[Ne.employeeId]||(fe[Ne.employeeId]={present:0,late:0,absent:0}),fe[Ne.employeeId][Ne.status.toLowerCase()]++}),{present:W,late:ne,absent:je,total:H,byEmployee:fe}},[t,s,O]),L=x.useMemo(()=>{const B={Pending:0,Approved:0,Rejected:0},U={},F=a.filter(W=>O.has(W.employeeId));return F.forEach(W=>{B[W.status]=(B[W.status]||0)+1,U[W.type]=(U[W.type]||0)+1}),{byStatus:B,byType:U,total:F.length}},[a,O]),I=x.useMemo(()=>{const B=_();return Array.from({length:B},(U,F)=>{const W=io(new Date,F),ne=La(W),je=Ia(W),H=t.filter(ee=>{const ie=ue(ee.date),ae=xs(ie,{start:ne,end:je}),Me=O.has(ee.employeeId);return ae&&Me}),fe=H.filter(ee=>ee.status==="Present").length,Ne=H.filter(ee=>ee.status==="Late").length,se=H.filter(ee=>ee.status==="Absent").length;return{month:q(W,"MMM yyyy"),present:fe,late:Ne,absent:se,total:fe+Ne+se,attendanceRate:H.length>0?Math.round((fe+Ne)/H.length*100):0}}).reverse()},[t,O,j]),J=B=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(B),T=A.filter(B=>B.status==="Active").reduce((B,U)=>B+(U.salaryBase||0),0),Y=x.useMemo(()=>r(),[r]),V=()=>{const B=[];B.push({metric:"Headcount",value:Y.headcount}),B.push({metric:"Probation Count",value:Y.probationCount}),B.push({metric:"Contract Expiring (30d)",value:Y.contractExpiring30}),B.push({metric:"Gender Male",value:Y.genderDist.male}),B.push({metric:"Gender Female",value:Y.genderDist.female}),B.push({metric:"Gender Other",value:Y.genderDist.other}),Object.entries(Y.byFaculty||{}).forEach(([F,W])=>B.push({metric:`Faculty - ${F}`,value:W})),Object.entries(Y.byDesignation||{}).forEach(([F,W])=>B.push({metric:`Designation - ${F}`,value:W}));const U=h6(B,["metric","value"]);p6(`accreditation_${q(new Date,"yyyyMMdd")}.csv`,U)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),n.jsxs("p",{className:"text-gray-600",children:["View detailed reports and statistics",E&&n.jsxs("span",{className:"ml-2 text-indigo-600 font-medium",children:["(Filtered: ",A.length," of ",e.length," employees)"]})]})]}),n.jsxs(X,{className:"gap-2",children:[n.jsx(xu,{className:"w-5 h-5"}),"Export Report"]})]}),n.jsx(K,{className:"bg-linear-to-r from-indigo-50 to-purple-50 border-indigo-100",children:n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-indigo-700",children:[n.jsx(lo,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:"Filter Reports"})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[n.jsxs("select",{value:c,onChange:B=>D(B.target.value),className:"px-3 py-2 bg-white border border-indigo-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Faculties"}),Object.keys(fs).map(B=>n.jsx("option",{value:B,children:B},B))]}),n.jsxs("select",{value:m,onChange:B=>f(B.target.value),className:"px-3 py-2 bg-white border border-indigo-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Departments"}),S.map(B=>n.jsx("option",{value:B,children:B},B))]}),n.jsxs("select",{value:h,onChange:B=>g(B.target.value),className:"px-3 py-2 bg-white border border-indigo-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Status"}),w.map(B=>n.jsx("option",{value:B,children:B},B))]}),n.jsxs("select",{value:v,onChange:B=>y(B.target.value),className:"px-3 py-2 bg-white border border-indigo-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Designations"}),M.map(B=>n.jsx("option",{value:B,children:B},B))]}),n.jsxs("select",{value:j,onChange:B=>b(B.target.value),className:"px-3 py-2 bg-white border border-indigo-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"1month",children:"Last 1 Month"}),n.jsx("option",{value:"3months",children:"Last 3 Months"}),n.jsx("option",{value:"6months",children:"Last 6 Months"}),n.jsx("option",{value:"12months",children:"Last 12 Months"})]}),E&&n.jsxs(X,{variant:"outline",size:"sm",onClick:k,className:"gap-1 text-red-600 border-red-200 hover:bg-red-50",children:[n.jsx(jp,{className:"w-4 h-4"}),"Clear"]})]})]})}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx(K,{className:"bg-linear-to-br from-blue-50 to-blue-100 border-blue-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Total Employees"}),n.jsx("p",{className:"text-3xl font-bold text-blue-900 mt-1",children:A.length}),n.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:[P.byStatus.Active," active"]})]}),n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(en,{className:"w-6 h-6 text-white"})})]})}),n.jsx(K,{className:"bg-linear-to-br from-green-50 to-green-100 border-green-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-green-800",children:"Avg Attendance"}),n.jsxs("p",{className:"text-3xl font-bold text-green-900 mt-1",children:[z.total>0?Math.round((z.present+z.late)/z.total*100):0,"%"]}),n.jsx("p",{className:"text-xs text-green-700 mt-1",children:q(s,"MMMM yyyy")})]}),n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(Be,{className:"w-6 h-6 text-white"})})]})}),n.jsx(K,{className:"bg-linear-to-br from-amber-50 to-amber-100 border-amber-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Pending Leaves"}),n.jsx("p",{className:"text-3xl font-bold text-amber-900 mt-1",children:L.byStatus.Pending}),n.jsxs("p",{className:"text-xs text-amber-700 mt-1",children:[L.total," total requests"]})]}),n.jsx("div",{className:"p-3 bg-amber-500 rounded-lg",children:n.jsx(Xe,{className:"w-6 h-6 text-white"})})]})}),n.jsx(K,{className:"bg-linear-to-br from-purple-50 to-purple-100 border-purple-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Monthly Payroll"}),n.jsx("p",{className:"text-2xl font-bold text-purple-900 mt-1",children:J(T)}),n.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"Base salary expense"})]}),n.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:n.jsx(ar,{className:"w-6 h-6 text-white"})})]})})]}),n.jsxs(ca,{defaultValue:"attendance",children:[n.jsxs(da,{children:[n.jsx(He,{value:"attendance",children:"Attendance Report"}),n.jsx(He,{value:"employees",children:"Employee Report"}),n.jsx(He,{value:"leaves",children:"Leave Report"}),n.jsx(He,{value:"payroll",children:"Payroll Report"}),n.jsx(He,{value:"accreditation",children:"Accreditation & Regulatory"})]}),n.jsx(St,{value:"attendance",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[n.jsxs(K,{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Attendance Trend (Last ",_()," ",_()===1?"Month":"Months",")"]}),n.jsx("div",{className:"space-y-4",children:I.map(B=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"text-gray-600",children:B.month}),n.jsxs("span",{className:"font-medium",children:[B.attendanceRate,"%"]})]}),n.jsxs("div",{className:"h-4 bg-gray-100 rounded-full overflow-hidden flex",children:[n.jsx("div",{className:"bg-green-500 h-full",style:{width:`${B.present/(B.total||1)*100}%`}}),n.jsx("div",{className:"bg-yellow-500 h-full",style:{width:`${B.late/(B.total||1)*100}%`}}),n.jsx("div",{className:"bg-red-500 h-full",style:{width:`${B.absent/(B.total||1)*100}%`}})]})]},B.month))}),n.jsxs("div",{className:"flex justify-center gap-4 mt-4 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-3 h-3 rounded bg-green-500"}),n.jsx("span",{children:"Present"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-3 h-3 rounded bg-yellow-500"}),n.jsx("span",{children:"Late"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-3 h-3 rounded bg-red-500"}),n.jsx("span",{children:"Absent"})]})]})]}),n.jsxs(K,{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"This Month Summary"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[n.jsx("p",{className:"text-3xl font-bold text-green-600",children:z.present}),n.jsx("p",{className:"text-sm text-green-700",children:"Present"})]}),n.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-xl",children:[n.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:z.late}),n.jsx("p",{className:"text-sm text-yellow-700",children:"Late"})]}),n.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-xl",children:[n.jsx("p",{className:"text-3xl font-bold text-red-600",children:z.absent}),n.jsx("p",{className:"text-sm text-red-700",children:"Absent"})]})]})]})]})}),n.jsx(St,{value:"employees",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[n.jsxs(K,{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Employees by Department"}),n.jsx("div",{className:"space-y-3",children:Object.entries(P.byDepartment).map(([B,U])=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-600",children:B}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${U/e.length*100}%`}})}),n.jsx("span",{className:"font-medium w-8 text-right",children:U})]})]},B))})]}),n.jsxs(K,{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Employees by Faculty"}),n.jsx("div",{className:"space-y-3",children:Object.entries(P.byFaculty).map(([B,U])=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-600",children:B}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:`${U/e.length*100}%`}})}),n.jsx("span",{className:"font-medium w-8 text-right",children:U})]})]},B))})]}),n.jsxs(K,{className:"lg:col-span-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Employee Status Distribution"}),n.jsx("div",{className:"grid sm:grid-cols-3 gap-4",children:Object.entries(P.byStatus).map(([B,U])=>n.jsxs("div",{className:`p-4 rounded-xl ${B==="Active"?"bg-green-50":B==="On Leave"?"bg-yellow-50":"bg-red-50"}`,children:[n.jsx("p",{className:`text-3xl font-bold ${B==="Active"?"text-green-600":B==="On Leave"?"text-yellow-600":"text-red-600"}`,children:U}),n.jsx("p",{className:"text-sm text-gray-600",children:B})]},B))})]})]})}),n.jsx(St,{value:"leaves",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[n.jsxs(K,{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Leave Requests by Status"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-xl",children:[n.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:L.byStatus.Pending}),n.jsx("p",{className:"text-sm text-yellow-700",children:"Pending"})]}),n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[n.jsx("p",{className:"text-3xl font-bold text-green-600",children:L.byStatus.Approved}),n.jsx("p",{className:"text-sm text-green-700",children:"Approved"})]}),n.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-xl",children:[n.jsx("p",{className:"text-3xl font-bold text-red-600",children:L.byStatus.Rejected}),n.jsx("p",{className:"text-sm text-red-700",children:"Rejected"})]})]})]}),n.jsxs(K,{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Leave Requests by Type"}),n.jsx("div",{className:"space-y-3",children:Object.entries(L.byType).map(([B,U])=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-600 capitalize",children:B}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${U/L.total*100}%`}})}),n.jsx("span",{className:"font-medium w-8 text-right",children:U})]})]},B))})]})]})}),n.jsx(St,{value:"payroll",children:n.jsxs(K,{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Payroll Summary"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Department"}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Employees"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Total Salary"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Avg Salary"})]})}),n.jsxs("tbody",{children:[Object.entries(P.byDepartment).map(([B,U])=>{const W=A.filter(je=>je.department===B).reduce((je,H)=>je+(H.salaryBase||0),0),ne=W/U;return n.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:B}),n.jsx("td",{className:"py-3 px-4 text-center text-gray-600",children:U}),n.jsx("td",{className:"py-3 px-4 text-right text-gray-900",children:J(W)}),n.jsx("td",{className:"py-3 px-4 text-right text-gray-600",children:J(ne)})]},B)}),n.jsxs("tr",{className:"bg-gray-50 font-semibold",children:[n.jsx("td",{className:"py-3 px-4",children:"Total"}),n.jsx("td",{className:"py-3 px-4 text-center",children:A.length}),n.jsx("td",{className:"py-3 px-4 text-right",children:J(T)}),n.jsx("td",{className:"py-3 px-4 text-right",children:J(T/(A.length||1))})]})]})]})})]})}),n.jsxs(St,{value:"accreditation",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Accreditation & Regulatory Summary"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Gender, designation, and faculty distribution"})]}),n.jsxs(X,{className:"gap-2",onClick:V,children:[n.jsx(xu,{className:"w-5 h-5"}),"Export CSV"]})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx(K,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Y.headcount}),n.jsx("p",{className:"text-sm text-gray-500",children:"Total Employees"})]})}),n.jsx(K,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-amber-600",children:Y.probationCount}),n.jsx("p",{className:"text-sm text-gray-500",children:"On Probation"})]})}),n.jsx(K,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-red-600",children:Y.contractExpiring30}),n.jsx("p",{className:"text-sm text-gray-500",children:"Contracts Expiring (30d)"})]})}),n.jsx(K,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:Y.genderDist.female}),n.jsx("p",{className:"text-sm text-gray-500",children:"Female Employees"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-4",children:[n.jsxs(K,{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"By Faculty"}),n.jsx("div",{className:"space-y-3",children:Object.entries(Y.byFaculty).map(([B,U])=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-600",children:B}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${U/(Y.headcount||1)*100}%`}})}),n.jsx("span",{className:"font-medium w-8 text-right",children:U})]})]},B))})]}),n.jsxs(K,{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"By Designation"}),n.jsx("div",{className:"space-y-3",children:Object.entries(Y.byDesignation).map(([B,U])=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-600",children:B}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:`${U/(Y.headcount||1)*100}%`}})}),n.jsx("span",{className:"font-medium w-8 text-right",children:U})]})]},B))})]})]})]})]})]})}const hse=[{id:1,title:"Harassment Policy",description:"Comprehensive guidelines on prevention, reporting, and handling of harassment cases in the workplace.",category:"Workplace Conduct",fileSize:"2.4 MB",format:"PDF",lastUpdated:"2024-11-15",status:"Active",downloadUrl:"/PDF's/HARASSMENT-POLICY.pdf"},{id:2,title:"COVID-19 Pandemic Attendance Policy",description:"Special attendance guidelines and protocols during COVID-19 pandemic situations.",category:"Attendance",fileSize:"1.8 MB",format:"PDF",lastUpdated:"2024-10-20",status:"Active",downloadUrl:"/PDF's/COVID-19 Pandemic Attendance Policy.pdf"},{id:3,title:"Faculty Promotion Proforma",description:"Official form and guidelines for faculty promotion applications and evaluation criteria.",category:"Promotion",fileSize:"3.1 MB",format:"PDF",lastUpdated:"2024-12-01",status:"Active",downloadUrl:"/PDF's/Faculty Promotion Proforma_Updated (1).docx.pdf"},{id:4,title:"Private Consultancy Policy",description:"Official notification and guidelines for CECOS University private consultancy services and regulations.",category:"Workplace Conduct",fileSize:"1.2 MB",format:"PDF",lastUpdated:"2024-09-15",status:"Active",downloadUrl:"/PDF's/Notification CECOS University Private Consultancy.pdf"},{id:5,title:"CPD Courses Policy",description:"Continuing Professional Development (CPD) courses policy and enrollment guidelines for faculty and staff.",category:"Benefits",fileSize:"0.9 MB",format:"PDF",lastUpdated:"2024-08-22",status:"Active",downloadUrl:"/PDF's/Notification CPD Courses Policy.pdf"},{id:6,title:"Employees Grievance Committee",description:"Official notification establishing the Employees Grievance Committee and procedures for filing complaints.",category:"Workplace Conduct",fileSize:"0.7 MB",format:"PDF",lastUpdated:"2024-07-10",status:"Active",downloadUrl:"/PDF's/Notification Employees Grievance Committee.pdf"},{id:7,title:"Employees Resignation Policy",description:"Official policy and procedures for employee resignation, notice period, and exit formalities.",category:"Workplace Conduct",fileSize:"1.1 MB",format:"PDF",lastUpdated:"2024-06-18",status:"Active",downloadUrl:"/PDF's/Notification of Employees Resignation Policy.pdf"},{id:8,title:"Official Email Policy",description:"Guidelines and policy for official email usage, communication protocols, and email security.",category:"Workplace Conduct",fileSize:"0.8 MB",format:"PDF",lastUpdated:"2024-05-25",status:"Active",downloadUrl:"/PDF's/Notification of Official Email.pdf"},{id:9,title:"Provident Fund Policy",description:"Official notification regarding employee provident fund contributions, benefits, and withdrawal procedures.",category:"Benefits",fileSize:"1.5 MB",format:"PDF",lastUpdated:"2024-04-12",status:"Active",downloadUrl:"/PDF's/Notification of Provident Fund.pdf"}],pse=["All","Workplace Conduct","Attendance","Promotion","Leave","Salary","Benefits"];function xse(){const[e,t]=x.useState(hse),[a,r]=x.useState(""),[s,l]=x.useState("All"),[c,d]=x.useState(!1),[m,f]=x.useState({title:"",description:"",category:"Workplace Conduct",fileSize:"",format:"PDF",status:"Active",downloadUrl:""}),h=e.filter(b=>{const S=b.title.toLowerCase().includes(a.toLowerCase())||b.description.toLowerCase().includes(a.toLowerCase())||b.category.toLowerCase().includes(a.toLowerCase()),M=s==="All"||b.category===s;return S&&M}),g=b=>{const S=document.createElement("a");S.href=b.downloadUrl,S.download=`${b.title}.pdf`,document.body.appendChild(S),S.click(),document.body.removeChild(S)},v=b=>{const S={Active:"success",Archived:"default","Under Review":"warning"};return n.jsx(ge,{variant:S[b]||"default",children:b})},y=()=>{if(!m.title||!m.description||!m.downloadUrl){alert("Please fill in all required fields");return}const b={id:e.length+1,...m,lastUpdated:new Date().toISOString().split("T")[0]};t([...e,b]),d(!1),f({title:"",description:"",category:"Workplace Conduct",fileSize:"",format:"PDF",status:"Active",downloadUrl:""})},j={All:e.length,"Workplace Conduct":e.filter(b=>b.category==="Workplace Conduct").length,Attendance:e.filter(b=>b.category==="Attendance").length,Promotion:e.filter(b=>b.category==="Promotion").length,Leave:0,Salary:0,Benefits:0};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Policy Advisory"}),n.jsx("p",{className:"text-gray-600",children:"Access and download official university policies and documents"})]}),n.jsxs(X,{onClick:()=>d(!0),className:"gap-2",children:[n.jsx(ci,{className:"w-5 h-5"}),"Add Policy"]})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[n.jsx(K,{className:"bg-linear-to-br from-blue-50 to-blue-100 border-blue-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(ht,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-blue-900",children:e.length}),n.jsx("p",{className:"text-xs text-blue-700",children:"Total Policies"})]})]})}),n.jsx(K,{className:"bg-linear-to-br from-green-50 to-green-100 border-green-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(Le,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-green-900",children:e.filter(b=>b.status==="Active").length}),n.jsx("p",{className:"text-xs text-green-700",children:"Active"})]})]})}),n.jsx(K,{className:"bg-linear-to-br from-amber-50 to-amber-100 border-amber-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-amber-500 rounded-lg",children:n.jsx(Be,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-amber-900",children:e.filter(b=>b.status==="Under Review").length}),n.jsx("p",{className:"text-xs text-amber-700",children:"Under Review"})]})]})}),n.jsx(K,{className:"bg-linear-to-br from-purple-50 to-purple-100 border-purple-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:n.jsx(Wt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-purple-900",children:e.reduce((b,S)=>b+parseFloat(S.fileSize),0).toFixed(1)}),n.jsx("p",{className:"text-xs text-purple-700",children:"MB Total Size"})]})]})})]}),n.jsx(K,{children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Cn,{type:"text",placeholder:"Search policies by title, category, or description...",value:a,onChange:b=>r(b.target.value),className:"w-full",inputClassName:"pl-4 pr-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lo,{className:"w-5 h-5 text-gray-400"}),n.jsx("select",{value:s,onChange:b=>l(b.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:pse.map(b=>n.jsxs("option",{value:b,children:[b," ",j[b]>0&&`(${j[b]})`]},b))})]})]})}),h.length===0?n.jsx(K,{children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ph,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Policies Found"}),n.jsx("p",{className:"text-gray-500",children:"Try adjusting your search query or filter to find what you're looking for."})]})}):n.jsx("div",{className:"grid lg:grid-cols-2 gap-6",children:h.map(b=>n.jsx(K,{className:"hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[n.jsx("div",{className:"p-3 bg-indigo-50 rounded-lg shrink-0",children:n.jsx(ht,{className:"w-6 h-6 text-indigo-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-1",children:b.title}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-gray-500",children:[n.jsx(ge,{size:"xs",variant:"info",children:b.category}),n.jsx("span",{children:""}),n.jsx("span",{children:b.format}),n.jsx("span",{children:""}),n.jsx("span",{children:b.fileSize})]})]})]}),v(b.status)]}),n.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:b.description}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsx(Be,{className:"w-4 h-4"}),n.jsxs("span",{children:["Updated: ",new Date(b.lastUpdated).toLocaleDateString()]})]}),n.jsxs(X,{size:"sm",onClick:()=>g(b),className:"gap-2",children:[n.jsx(Wt,{className:"w-4 h-4"}),"Download"]})]})]})},b.id))}),n.jsx(K,{className:"bg-linear-to-r from-blue-50 to-indigo-50 border-blue-200",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg shrink-0",children:n.jsx(ph,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Important Notice"}),n.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"All employees are required to review and acknowledge the policies relevant to their role. For questions or clarifications about any policy, please contact the HR department."}),n.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 list-disc list-inside",children:[n.jsx("li",{children:"Policies are regularly updated to reflect current regulations"}),n.jsx("li",{children:"Download and keep a copy for your reference"}),n.jsx("li",{children:"Contact HR if you need assistance understanding any policy"})]})]})]})}),n.jsx(vt,{isOpen:c,onClose:()=>d(!1),title:"Add New Policy Document",size:"lg",actions:n.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[n.jsx(X,{variant:"secondary",onClick:()=>d(!1),className:"flex-1 sm:flex-initial",children:"Cancel"}),n.jsx(X,{onClick:y,className:"flex-1 sm:flex-initial",children:"Add Policy"})]}),children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(tt,{label:"Policy Title",required:!0,children:n.jsx("input",{type:"text",value:m.title,onChange:b=>f({...m,title:b.target.value}),placeholder:"Enter policy title",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),n.jsx(tt,{label:"Description",required:!0,children:n.jsx("textarea",{value:m.description,onChange:b=>f({...m,description:b.target.value}),placeholder:"Enter policy description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(tt,{label:"Category",required:!0,children:n.jsxs("select",{value:m.category,onChange:b=>f({...m,category:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"Workplace Conduct",children:"Workplace Conduct"}),n.jsx("option",{value:"Attendance",children:"Attendance"}),n.jsx("option",{value:"Promotion",children:"Promotion"}),n.jsx("option",{value:"Leave",children:"Leave"}),n.jsx("option",{value:"Salary",children:"Salary"}),n.jsx("option",{value:"Benefits",children:"Benefits"})]})}),n.jsx(tt,{label:"Status",children:n.jsxs("select",{value:m.status,onChange:b=>f({...m,status:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Under Review",children:"Under Review"}),n.jsx("option",{value:"Archived",children:"Archived"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(tt,{label:"File Size (e.g., 2.4 MB)",children:n.jsx("input",{type:"text",value:m.fileSize,onChange:b=>f({...m,fileSize:b.target.value}),placeholder:"e.g., 2.4 MB",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),n.jsx(tt,{label:"Format",children:n.jsxs("select",{value:m.format,onChange:b=>f({...m,format:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"PDF",children:"PDF"}),n.jsx("option",{value:"DOCX",children:"DOCX"}),n.jsx("option",{value:"DOC",children:"DOC"})]})})]}),n.jsx(tt,{label:"Download URL",required:!0,helper:"Path to the file (e.g., /PDFs/policy-name.pdf)",children:n.jsx("input",{type:"text",value:m.downloadUrl,onChange:b=>f({...m,downloadUrl:b.target.value}),placeholder:"/PDFs/policy-name.pdf",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Note:"})," Make sure to upload the PDF file to the"," ",n.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"public/PDFs/"})," folder before adding the policy."]})})]})})]})}const gse=[{id:"a1",title:"University Holiday Notice",content:"The university will remain closed on the upcoming national holiday. All staff are advised to complete their pending work before the holiday.",category:"holiday",priority:"high",targetAudience:"all",createdBy:"HR Department",createdAt:"2024-01-20",expiresAt:"2024-02-01",isActive:!0},{id:"a2",title:"New Leave Policy Update",content:"Please be informed that the leave policy has been updated. Employees can now carry forward up to 5 days of annual leave to the next year.",category:"policy",priority:"medium",targetAudience:"all",createdBy:"HR Department",createdAt:"2024-01-15",expiresAt:null,isActive:!0},{id:"a3",title:"IT System Maintenance",content:"The HRMS system will undergo maintenance this weekend. Please save all your work before Friday 6 PM.",category:"maintenance",priority:"medium",targetAudience:"all",createdBy:"IT Department",createdAt:"2024-01-10",expiresAt:"2024-01-14",isActive:!1}];function yse(){const e=Qe(A=>A.user),[t,a]=x.useState(gse),[r,s]=x.useState(!1),[l,c]=x.useState(null),[d,m]=x.useState("all"),{register:f,handleSubmit:h,reset:g,formState:{errors:v}}=Tc({defaultValues:{title:"",content:"",category:"general",priority:"medium",targetAudience:"all",expiresAt:""}}),y=x.useMemo(()=>d==="all"?t:d==="active"?t.filter(A=>A.isActive):d==="expired"?t.filter(A=>!A.isActive):t.filter(A=>A.category===d),[t,d]),j=A=>{const O={id:`a${Date.now()}`,...A,createdBy:e?.name||"HR Department",createdAt:q(new Date,"yyyy-MM-dd"),isActive:!0};a([O,...t]),P8({title:A.title,description:A.content,audience:A.targetAudience,postedBy:e?.name||"HR Department"},e?.email),g(),s(!1)},b=A=>{a(t.map(O=>O.id===A?{...O,isActive:!O.isActive}:O))},S=A=>{confirm("Are you sure you want to delete this announcement?")&&a(t.filter(O=>O.id!==A))},M=A=>({holiday:"error",policy:"primary",maintenance:"warning",general:"default",event:"success"})[A]||"default",w=A=>({high:"error",medium:"warning",low:"default"})[A]||"default";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Announcements"}),n.jsx("p",{className:"text-gray-600",children:"Create and manage university announcements"})]}),n.jsxs(X,{onClick:()=>s(!0),className:"gap-2",children:[n.jsx(ci,{className:"w-5 h-5"}),"New Announcement"]})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[n.jsx(K,{className:"bg-blue-50 border-blue-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:n.jsx(T5,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-blue-900",children:t.length}),n.jsx("p",{className:"text-sm text-blue-700",children:"Total Announcements"})]})]})}),n.jsx(K,{className:"bg-green-50 border-green-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:n.jsx(dj,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-green-900",children:t.filter(A=>A.isActive).length}),n.jsx("p",{className:"text-sm text-green-700",children:"Active"})]})]})}),n.jsx(K,{className:"bg-amber-50 border-amber-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-amber-500 rounded-lg",children:n.jsx(Xe,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-amber-900",children:t.filter(A=>A.priority==="high").length}),n.jsx("p",{className:"text-sm text-amber-700",children:"High Priority"})]})]})})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:["all","active","expired","holiday","policy","maintenance"].map(A=>n.jsx("button",{onClick:()=>m(A),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors capitalize ${d===A?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:A},A))}),n.jsx("div",{className:"space-y-4",children:y.length===0?n.jsx(K,{children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(T5,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"No announcements found"})]})}):y.map(A=>n.jsx(K,{className:A.isActive?"":"opacity-60",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:A.title}),n.jsx(ge,{variant:M(A.category),children:A.category}),n.jsx(ge,{variant:w(A.priority),children:A.priority}),!A.isActive&&n.jsx(ge,{variant:"outline",children:"Inactive"})]}),n.jsx("p",{className:"text-gray-600 text-sm mb-3",children:A.content}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-gray-500",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Xe,{className:"w-4 h-4"}),"Created: ",q(ue(A.createdAt),"MMM d, yyyy")]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ms,{className:"w-4 h-4"}),"Target: ",A.targetAudience]}),n.jsxs("span",{children:["By: ",A.createdBy]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{size:"sm",variant:"ghost",onClick:()=>b(A.id),children:A.isActive?"Deactivate":"Activate"}),n.jsx(X,{size:"sm",variant:"ghost",onClick:()=>c(A),children:n.jsx(vp,{className:"w-4 h-4"})}),n.jsx(X,{size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-700",onClick:()=>S(A.id),children:n.jsx(bp,{className:"w-4 h-4"})})]})]})},A.id))}),n.jsx(vt,{isOpen:r,onClose:()=>s(!1),title:"Create Announcement",size:"lg",children:n.jsxs("form",{onSubmit:h(j),className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Title ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",...f("title",{required:"Title is required"}),placeholder:"Enter announcement title",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),v.title&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:v.title.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Content ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{...f("content",{required:"Content is required"}),rows:4,placeholder:"Enter announcement details...",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),v.content&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:v.content.message})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{...f("category"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"general",children:"General"}),n.jsx("option",{value:"holiday",children:"Holiday"}),n.jsx("option",{value:"policy",children:"Policy"}),n.jsx("option",{value:"maintenance",children:"Maintenance"}),n.jsx("option",{value:"event",children:"Event"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),n.jsxs("select",{...f("priority"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"low",children:"Low"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"high",children:"High"})]})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Audience"}),n.jsxs("select",{...f("targetAudience"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Employees"}),n.jsx("option",{value:"faculty",children:"Faculty Only"}),n.jsx("option",{value:"staff",children:"Staff Only"}),n.jsx("option",{value:"management",children:"Management Only"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expires On"}),n.jsx("input",{type:"date",...f("expiresAt"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),n.jsx(X,{type:"submit",children:"Publish Announcement"})]})]})})]})}function vse(){Qe(c=>c.user);const{payrollSettings:e,updatePayrollSettings:t}=Ae(),[a,r]=x.useState({workStartTime:"09:00",workEndTime:"17:00",lateThreshold:15,halfDayThreshold:4,overtimeStartAfter:8,overtimeWarningHours:e?.operationalConfig?.overtimeWarningHours||40,expiryHorizonDays:e?.operationalConfig?.expiryHorizonDays||30,annualLeaveQuota:20,sickLeaveQuota:12,casualLeaveQuota:10,maxConsecutiveDays:14,minAdvanceNotice:3,workingDays:e?.workingDays||22,latePenalty:e?.deductionConfig?.latePenalty||500,absentPenalty:e?.deductionConfig?.absentPenaltyType||"daily_rate",absentPenaltyValue:e?.deductionConfig?.absentPenaltyValue||0,overtimeRate:e?.overtimeRate||1.5,taxThreshold:e?.deductionConfig?.taxThreshold||1e5,taxRate:e?.deductionConfig?.taxRate||5,housePercent:e?.allowanceConfig?.housePercent||45,medicalPercent:e?.allowanceConfig?.medicalPercent||10,transportFixed:e?.allowanceConfig?.transportFixed||5e3,emailNotifications:!0,leaveApprovalNotify:!0,attendanceAlerts:!0,payrollNotify:!0,systemAnnouncements:!0}),s=(c,d)=>{r(m=>({...m,[c]:d}))},l=()=>{t({workingDays:a.workingDays,overtimeRate:a.overtimeRate,allowanceConfig:{housePercent:a.housePercent,medicalPercent:a.medicalPercent,transportFixed:a.transportFixed},deductionConfig:{latePenalty:a.latePenalty,absentPenaltyType:a.absentPenalty,absentPenaltyValue:a.absentPenaltyValue,taxThreshold:a.taxThreshold,taxRate:a.taxRate},operationalConfig:{overtimeWarningHours:a.overtimeWarningHours,expiryHorizonDays:a.expiryHorizonDays}}),alert("Settings saved successfully!")};return x.useEffect(()=>{r(c=>({...c,workingDays:e?.workingDays||c.workingDays,latePenalty:e?.deductionConfig?.latePenalty||c.latePenalty,absentPenalty:e?.deductionConfig?.absentPenaltyType||c.absentPenalty,absentPenaltyValue:e?.deductionConfig?.absentPenaltyValue??c.absentPenaltyValue,overtimeRate:e?.overtimeRate||c.overtimeRate,taxThreshold:e?.deductionConfig?.taxThreshold||c.taxThreshold,taxRate:e?.deductionConfig?.taxRate||c.taxRate,housePercent:e?.allowanceConfig?.housePercent||c.housePercent,medicalPercent:e?.allowanceConfig?.medicalPercent||c.medicalPercent,transportFixed:e?.allowanceConfig?.transportFixed||c.transportFixed,overtimeWarningHours:e?.operationalConfig?.overtimeWarningHours??c.overtimeWarningHours,expiryHorizonDays:e?.operationalConfig?.expiryHorizonDays??c.expiryHorizonDays}))},[e]),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"HR Settings"}),n.jsx("p",{className:"text-gray-600",children:"Configure HR policies and system settings"})]}),n.jsxs(X,{onClick:l,className:"gap-2",children:[n.jsx(Tr,{className:"w-5 h-5"}),"Save Changes"]})]}),n.jsxs(ca,{defaultValue:"attendance",children:[n.jsxs(da,{children:[n.jsx(He,{value:"attendance",children:"Attendance"}),n.jsx(He,{value:"leave",children:"Leave Policy"}),n.jsx(He,{value:"payroll",children:"Payroll"}),n.jsx(He,{value:"notifications",children:"Notifications"}),n.jsx(He,{value:"system",children:"System"})]}),n.jsx(St,{value:"attendance",children:n.jsxs(K,{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Be,{className:"w-5 h-5 text-gray-400"}),"Attendance Settings"]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Start Time"}),n.jsx("input",{type:"time",value:a.workStartTime,onChange:c=>s("workStartTime",c.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work End Time"}),n.jsx("input",{type:"time",value:a.workEndTime,onChange:c=>s("workEndTime",c.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Late Threshold (minutes)"}),n.jsx("input",{type:"number",value:a.lateThreshold,onChange:c=>s("lateThreshold",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Employees arriving after this many minutes will be marked late"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Half Day Threshold (hours)"}),n.jsx("input",{type:"number",value:a.halfDayThreshold,onChange:c=>s("halfDayThreshold",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Working less than this counts as half day"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Overtime Starts After (hours)"}),n.jsx("input",{type:"number",value:a.overtimeStartAfter,onChange:c=>s("overtimeStartAfter",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Overtime Warning Threshold (hours/month)"}),n.jsx("input",{type:"number",value:a.overtimeWarningHours,onChange:c=>s("overtimeWarningHours",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dashboard warning when exceeded"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Horizon (days)"}),n.jsx("input",{type:"number",value:a.expiryHorizonDays,onChange:c=>s("expiryHorizonDays",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Show upcoming probation/contract expiries"})]})]})]})}),n.jsx(St,{value:"leave",children:n.jsxs(K,{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(ht,{className:"w-5 h-5 text-gray-400"}),"Leave Policy Settings"]}),n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Annual Leave Quota (days)"}),n.jsx("input",{type:"number",value:a.annualLeaveQuota,onChange:c=>s("annualLeaveQuota",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sick Leave Quota (days)"}),n.jsx("input",{type:"number",value:a.sickLeaveQuota,onChange:c=>s("sickLeaveQuota",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Casual Leave Quota (days)"}),n.jsx("input",{type:"number",value:a.casualLeaveQuota,onChange:c=>s("casualLeaveQuota",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Consecutive Days"}),n.jsx("input",{type:"number",value:a.maxConsecutiveDays,onChange:c=>s("maxConsecutiveDays",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum consecutive days for single leave request"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Advance Notice (days)"}),n.jsx("input",{type:"number",value:a.minAdvanceNotice,onChange:c=>s("minAdvanceNotice",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Except for sick leave"})]})]})]})}),n.jsx(St,{value:"payroll",children:n.jsxs(K,{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(ar,{className:"w-5 h-5 text-gray-400"}),"Payroll Settings"]}),n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Working Days"}),n.jsx("input",{type:"number",value:a.workingDays,onChange:c=>s("workingDays",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Used for daily-rate calculations"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Late Penalty (PKR)"}),n.jsx("input",{type:"number",value:a.latePenalty,onChange:c=>s("latePenalty",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Deduction per late arrival"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Absent Penalty"}),n.jsxs("select",{value:a.absentPenalty,onChange:c=>s("absentPenalty",c.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"daily_rate",children:"Daily Rate (Salary / working days)"}),n.jsx("option",{value:"fixed",children:"Fixed Amount"}),n.jsx("option",{value:"none",children:"No Deduction"})]})]}),a.absentPenalty==="fixed"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Absent Penalty (PKR)"}),n.jsx("input",{type:"number",value:a.absentPenaltyValue,onChange:c=>s("absentPenaltyValue",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Overtime Rate (multiplier)"}),n.jsx("input",{type:"number",step:"0.1",value:a.overtimeRate,onChange:c=>s("overtimeRate",parseFloat(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"1.5 = 150% of hourly rate"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"House Allowance (%)"}),n.jsx("input",{type:"number",value:a.housePercent,onChange:c=>s("housePercent",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medical Allowance (%)"}),n.jsx("input",{type:"number",value:a.medicalPercent,onChange:c=>s("medicalPercent",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transport Allowance (PKR)"}),n.jsx("input",{type:"number",value:a.transportFixed,onChange:c=>s("transportFixed",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tax Threshold (PKR)"}),n.jsx("input",{type:"number",value:a.taxThreshold,onChange:c=>s("taxThreshold",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Income above this is taxed"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tax Rate (%)"}),n.jsx("input",{type:"number",value:a.taxRate,onChange:c=>s("taxRate",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]})}),n.jsx(St,{value:"notifications",children:n.jsxs(K,{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Xr,{className:"w-5 h-5 text-gray-400"}),"Notification Settings"]}),n.jsx("div",{className:"space-y-4",children:[{key:"emailNotifications",label:"Email Notifications",desc:"Send notifications via email"},{key:"leaveApprovalNotify",label:"Leave Approval Alerts",desc:"Notify when leaves are approved/rejected"},{key:"attendanceAlerts",label:"Attendance Alerts",desc:"Send alerts for late arrivals and absences"},{key:"payrollNotify",label:"Payroll Notifications",desc:"Notify employees when payroll is processed"},{key:"systemAnnouncements",label:"System Announcements",desc:"Show system-wide announcements"}].map(c=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:c.label}),n.jsx("p",{className:"text-sm text-gray-500",children:c.desc})]}),n.jsx("button",{onClick:()=>s(c.key,!a[c.key]),className:`relative w-12 h-6 rounded-full transition-colors ${a[c.key]?"bg-blue-600":"bg-gray-300"}`,children:n.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${a[c.key]?"right-1":"left-1"}`})})]},c.key))})]})}),n.jsx(St,{value:"system",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs(K,{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(OD,{className:"w-5 h-5 text-gray-400"}),"Organization Info"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),n.jsx("input",{type:"text",defaultValue:"CECOS University",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),n.jsx("textarea",{rows:2,defaultValue:"F-5, Phase 6, Hayatabad, Peshawar",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email"}),n.jsx("input",{type:"email",defaultValue:"info@cecos.edu.pk",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]}),n.jsxs(K,{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(di,{className:"w-5 h-5 text-gray-400"}),"Security Settings"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Force Password Change"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Require password change every 90 days"})]}),n.jsx(ge,{variant:"success",children:"Enabled"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Require 2FA for admin users"})]}),n.jsx(ge,{variant:"warning",children:"Optional"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Session Timeout"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Auto logout after inactivity"})]}),n.jsx(ge,{variant:"primary",children:"30 min"})]})]})]})]})})]})]})}function bse(){const e=Qe(O=>O.user),{employees:t,bulkIncrements:a,createBulkIncrementBatch:r,applyBulkIncrementBatch:s}=Ae(),[l,c]=x.useState([]),[d,m]=x.useState({title:"Annual Increment",type:"Cost of Living",mode:"percent",value:7,effectiveDate:q(new Date,"yyyy-MM-dd"),note:""}),[f,h]=x.useState("pending"),[g,v]=x.useState(!1),[y,j]=x.useState(null);x.useEffect(()=>{c(t.map(O=>O.id))},[t]);const b=x.useMemo(()=>a.filter(O=>f==="pending"?O.status==="Pending":O.status==="Applied"),[a,f]),S=O=>{c(D=>D.includes(O)?D.filter(k=>k!==O):[...D,O])},M=O=>{O.preventDefault(),r({...d,value:Number(d.value)||0,employeeIds:l,createdBy:e?.name}),m(D=>({...D,note:""}))},w=O=>{j(O),v(!0)},A=O=>{const D={Pending:"warning",Applied:"success"};return n.jsx(ge,{variant:D[O]||"secondary",children:O})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bulk Increments"}),n.jsx("p",{className:"text-gray-600",children:"Create batches with effective dates, unique codes, and auditable application history."})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(nr,{className:"w-5 h-5"}),a.length," batches"]})]}),n.jsx(K,{title:"Create Increment Batch",subtitle:"Apply percent or flat increments across employees",children:n.jsxs("form",{onSubmit:M,className:"space-y-4",children:[n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),n.jsx("input",{value:d.title,onChange:O=>m(D=>({...D,title:O.target.value})),className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",placeholder:"Annual Increment",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Increment Type"}),n.jsxs("select",{value:d.type,onChange:O=>m(D=>({...D,type:O.target.value})),className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{children:"Cost of Living"}),n.jsx("option",{children:"Performance"}),n.jsx("option",{children:"Adjustment"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Effective Date"}),n.jsx("input",{type:"date",value:d.effectiveDate,onChange:O=>m(D=>({...D,effectiveDate:O.target.value})),className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mode"}),n.jsxs("select",{value:d.mode,onChange:O=>m(D=>({...D,mode:O.target.value})),className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"percent",children:"Percent (%)"}),n.jsx("option",{value:"flat",children:"Flat Amount"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value"}),n.jsx("input",{type:"number",value:d.value,onChange:O=>m(D=>({...D,value:O.target.value})),className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",min:0,step:"0.1",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Note"}),n.jsx("input",{value:d.note,onChange:O=>m(D=>({...D,note:O.target.value})),placeholder:"Optional audit note",className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Employees"}),n.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:()=>c(l.length===t.length?[]:t.map(O=>O.id)),children:l.length===t.length?"Clear":"Select All"})]}),n.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-2 max-h-52 overflow-y-auto border rounded-lg p-3 bg-gray-50",children:t.map(O=>n.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[n.jsx("input",{type:"checkbox",checked:l.includes(O.id),onChange:()=>S(O.id)}),n.jsxs("span",{children:[O.name,n.jsxs("span",{className:"text-xs text-gray-500",children:["  ",O.designation]})]})]},O.id))}),n.jsxs("p",{className:"text-xs text-gray-500",children:[l.length," employees selected"]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(X,{type:"submit",className:"gap-2",children:[n.jsx(ys,{className:"w-4 h-4"}),"Create Batch"]})})]})}),n.jsxs(K,{title:"Batches",subtitle:"Apply and audit historical increments",children:[n.jsx(ca,{value:f,onValueChange:h,children:n.jsxs(da,{children:[n.jsx(He,{value:"pending",children:"Pending"}),n.jsx(He,{value:"applied",children:"Applied"})]})}),n.jsx("div",{className:"mt-4 space-y-3",children:b.length===0?n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[n.jsx(Be,{className:"w-4 h-4"})," No batches found"]}):b.map(O=>n.jsxs("div",{className:"border rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3 hover:bg-gray-50",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:O.title}),A(O.status)]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[O.type," "," ",O.mode==="percent"?`${O.value}%`:`PKR ${O.value}`]}),n.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx(Xe,{className:"w-4 h-4"})," Effective ",O.effectiveDate]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Batch Code: ",O.code]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"outline",size:"sm",onClick:()=>w(O),children:"View"}),O.status==="Pending"&&n.jsx(X,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>s(O.id,{approvedBy:e?.name}),children:"Apply"})]})]},O.id))})]}),n.jsx(vt,{isOpen:g,onClose:()=>v(!1),title:"Batch Preview",size:"lg",children:y&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(nr,{className:"w-5 h-5 text-green-600"}),n.jsxs("span",{children:[y.title,"  ",y.code]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-gray-700",children:[n.jsxs("div",{children:["Type: ",y.type]}),n.jsxs("div",{children:["Mode: ",y.mode==="percent"?"Percent":"Flat"]}),n.jsxs("div",{children:["Value:"," ",y.mode==="percent"?`${y.value}%`:`PKR ${y.value}`]}),n.jsxs("div",{children:["Effective: ",y.effectiveDate]})]}),n.jsxs("div",{className:"max-h-64 overflow-y-auto border rounded-lg p-3 bg-gray-50",children:[n.jsxs("div",{className:"grid grid-cols-3 text-xs font-semibold text-gray-500 mb-2",children:[n.jsx("span",{children:"Employee"}),n.jsx("span",{children:"Previous"}),n.jsx("span",{children:"New"})]}),y.items.map(O=>n.jsxs("div",{className:"grid grid-cols-3 text-sm py-1",children:[n.jsx("span",{children:O.employeeName}),n.jsx("span",{className:"text-gray-500",children:O.previousSalary.toLocaleString()}),n.jsx("span",{className:"text-green-700 font-medium",children:O.newSalary.toLocaleString()})]},O.employeeId))]}),y.audit&&y.audit.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Audit Trail"}),y.audit.map((O,D)=>n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[O.action==="applied"?n.jsx(Le,{className:"w-4 h-4 text-green-500"}):n.jsx(Jn,{className:"w-4 h-4 text-amber-500"}),n.jsx("span",{className:"font-semibold capitalize",children:O.action}),n.jsx("span",{children:O.date}),n.jsxs("span",{children:["by ",O.by]}),O.note&&n.jsxs("span",{className:"text-gray-500",children:[" ",O.note]})]},D))]})]})})]})}const jse=e=>{const t={Pending:"warning",Approved:"success",Rejected:"error"};return n.jsx(ge,{variant:t[e]||"secondary",children:e})};function Nse(){const e=Qe(g=>g.user),{profileUpdateRequests:t,reviewProfileUpdateRequest:a}=Ae(),[r,s]=x.useState("Pending"),[l,c]=x.useState(null),[d,m]=x.useState({status:"Approved",notes:""}),f=x.useMemo(()=>t.filter(g=>g.status===r),[t,r]),h=()=>{l&&(a(l.id,{status:d.status,notes:d.notes,reviewer:e?.name||"HR"}),c(null),m({status:"Approved",notes:""}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile Update Requests"}),n.jsx("p",{className:"text-gray-600",children:"HR-controlled approvals for employee self-service changes."})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(li,{className:"w-5 h-5"}),t.length," requests"]})]}),n.jsxs(K,{children:[n.jsx(ca,{value:r,onValueChange:s,children:n.jsxs(da,{children:[n.jsx(He,{value:"Pending",children:"Pending"}),n.jsx(He,{value:"Approved",children:"Approved"}),n.jsx(He,{value:"Rejected",children:"Rejected"})]})}),n.jsx("div",{className:"mt-4 space-y-3",children:f.length===0?n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[n.jsx(Be,{className:"w-4 h-4"})," No requests in this state"]}):f.map(g=>n.jsxs("div",{className:"border rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3 hover:bg-gray-50",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:g.employeeName}),jse(g.status)]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Requested by ",g.requestedBy]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted ",g.requestedOn]}),n.jsx("div",{className:"text-xs text-gray-600 flex flex-wrap gap-1",children:Object.keys(g.changes||{}).map(v=>n.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-full",children:v},v))}),g.notes&&n.jsxs("p",{className:"text-sm text-gray-500",children:["Note: ",g.notes]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>c(g),children:[n.jsx(vp,{className:"w-4 h-4"}),"Review"]})})]},g.id))})]}),n.jsx(vt,{isOpen:!!l,onClose:()=>c(null),title:"Review Profile Update",size:"lg",children:l&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx($u,{className:"w-8 h-8 text-indigo-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:l.employeeName}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Requested on ",l.requestedOn]})]})]}),n.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50 space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Requested Changes"}),Object.entries(l.changes||{}).map(([g,v])=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600 capitalize",children:g}),n.jsx("span",{className:"text-gray-900",children:String(v)})]},g))]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Be,{className:"w-4 h-4"})," ",l.status]}),l.reviewedBy&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Le,{className:"w-4 h-4 text-green-500"})," Reviewed by"," ",l.reviewedBy]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Decision"}),n.jsxs("select",{value:d.status,onChange:g=>m(v=>({...v,status:g.target.value})),className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"Approved",children:"Approve"}),n.jsx("option",{value:"Rejected",children:"Reject"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:d.notes,onChange:g=>m(v=>({...v,notes:g.target.value})),rows:3,placeholder:"Add optional comments for audit trail",className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(X,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),n.jsx(X,{onClick:h,className:d.status==="Rejected"?"bg-red-600 hover:bg-red-700":"",children:d.status==="Rejected"?n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Tt,{className:"w-4 h-4"})," Reject"]}):n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Le,{className:"w-4 h-4"})," Approve"]})})]})]})})]})}const wse=e=>{const t={Draft:"secondary","Pending Approval":"warning",Approved:"info",Posted:"success"};return n.jsx(ge,{variant:t[e]||"secondary",children:e})};function Sse(){const e=Qe(b=>b.user),{payrollRuns:t,generatePayrollRun:a,updatePayrollRunStatus:r,postPayrollRun:s,payrollSettings:l}=Ae(),[c,d]=x.useState(q(new Date,"yyyy-MM")),[m,f]=x.useState(null),[h,g]=x.useState("runs"),v=x.useMemo(()=>t.slice().sort((b,S)=>new Date(S.period?.startDate||0)-new Date(b.period?.startDate||0)),[t]),y=b=>{if(b.preventDefault(),!c)return;const[S,M]=c.split("-"),w=Number(M),A=Number(S);a({month:w,year:A,createdBy:e?.name})},j=b=>b.summary?.exceptions||0;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payroll"}),n.jsx("p",{className:"text-gray-600",children:"Generate payroll runs, review exceptions, and post approved payrolls."})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(ar,{className:"w-5 h-5"})," ",v.length," runs"]})]}),n.jsxs(ca,{value:h,onValueChange:g,children:[n.jsxs(da,{children:[n.jsx(He,{value:"runs",children:"Runs"}),n.jsx(He,{value:"settings",children:"Current Rules"})]}),n.jsxs(St,{value:"runs",children:[n.jsx(K,{title:"New Payroll Run",subtitle:"Create a draft payroll for a period",children:n.jsxs("form",{onSubmit:y,className:"grid sm:grid-cols-3 gap-4 items-end",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Period"}),n.jsx("input",{type:"month",value:c,onChange:b=>d(b.target.value),className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]}),n.jsx("div",{className:"sm:col-span-2 flex gap-2",children:n.jsxs(X,{type:"submit",className:"gap-2",children:[n.jsx(ht,{className:"w-4 h-4"})," Generate Draft"]})})]})}),n.jsx(K,{title:"Runs",subtitle:"Approve and post payroll",children:n.jsxs("div",{className:"space-y-3",children:[v.length===0&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[n.jsx(Xe,{className:"w-4 h-4"})," No runs yet"]}),v.map(b=>n.jsxs("div",{className:"border rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3 hover:bg-gray-50",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:b.period?.label}),wse(b.status),j(b)>0&&n.jsxs(ge,{variant:"warning",children:[j(b)," exceptions"]})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Gross ",b.summary?.totalGross?.toLocaleString(),"  Net"," ",b.summary?.totalNet?.toLocaleString(),"  Deductions"," ",b.summary?.totalDeductions?.toLocaleString()]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Created ",b.createdAt]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"outline",size:"sm",onClick:()=>f(b),children:"View"}),b.status==="Draft"&&n.jsx(X,{size:"sm",variant:"outline",onClick:()=>r(b.id,"Approved",{by:e?.name||"HR"}),children:"Approve"}),b.status!=="Posted"&&n.jsx(X,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>s(b.id,{postedBy:e?.name||"HR"}),children:"Post"})]})]},b.id))]})})]}),n.jsx(St,{value:"settings",children:n.jsx(K,{title:"Current Payroll Rules",subtitle:"Read-only snapshot from Payroll Settings",children:n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 text-sm text-gray-700",children:[n.jsxs("div",{children:["Working days: ",l?.workingDays]}),n.jsxs("div",{children:["Late penalty: ",l?.deductionConfig?.latePenalty]}),n.jsxs("div",{children:["Absent penalty: ",l?.deductionConfig?.absentPenaltyType," ",l?.deductionConfig?.absentPenaltyType==="fixed"?`(${l?.deductionConfig?.absentPenaltyValue})`:""]}),n.jsxs("div",{children:["House allowance: ",l?.allowanceConfig?.housePercent,"%"]}),n.jsxs("div",{children:["Medical allowance: ",l?.allowanceConfig?.medicalPercent,"%"]}),n.jsxs("div",{children:["Transport: ",l?.allowanceConfig?.transportFixed]}),n.jsxs("div",{children:["Tax threshold: ",l?.deductionConfig?.taxThreshold]}),n.jsxs("div",{children:["Tax rate: ",l?.deductionConfig?.taxRate,"%"]}),n.jsxs("div",{children:["Overtime rate: ",l?.overtimeRate,"x"]})]})})})]}),n.jsx(vt,{isOpen:!!m,onClose:()=>f(null),title:m?`Run ${m.period?.label}`:"",size:"lg",children:m&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(Xe,{className:"w-5 h-5"}),n.jsxs("span",{children:[m.period?.startDate,"  ",m.period?.endDate]})]}),j(m)>0&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-700 bg-amber-50 p-3 rounded-lg",children:[n.jsx(Jn,{className:"w-5 h-5"}),n.jsxs("span",{children:[j(m)," employees have exceptions"]})]}),n.jsx("div",{className:"max-h-72 overflow-y-auto border rounded-lg divide-y",children:m.items.map(b=>n.jsxs("div",{className:"p-3 text-sm space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:b.employeeName}),n.jsxs("p",{className:"text-xs text-gray-500",children:[b.department,"  ",b.designation]})]}),b.exceptions?.length>0&&n.jsx(ge,{variant:"warning",children:"Exception"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 text-gray-700",children:[n.jsxs("span",{children:["Gross: ",b.earnings?.total?.toLocaleString()]}),n.jsxs("span",{children:["Deductions: ",b.deductions?.total?.toLocaleString()]}),n.jsxs("span",{children:["Net: ",b.netPay?.toLocaleString()]})]}),b.exceptions?.length>0&&n.jsx("ul",{className:"text-xs text-amber-700 list-disc ml-5",children:b.exceptions.map((S,M)=>n.jsx("li",{children:S},M))})]},b.employeeId))}),m.status!=="Posted"&&n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsxs(X,{variant:"outline",onClick:()=>r(m.id,"Approved",{by:e?.name||"HR"}),children:[n.jsx(Le,{className:"w-4 h-4"})," Approve"]}),n.jsx(X,{className:"bg-green-600 hover:bg-green-700",onClick:()=>s(m.id,{postedBy:e?.name||"HR"}),children:"Post"})]})]})})]})}const Ase={error:"error",warning:"warning",info:"info"};function Cse(){const e=Qe(S=>S.user),{employees:t,flagAttendanceAnomalies:a,attendanceCorrections:r,reviewAttendanceCorrection:s}=Ae(),[l,c]=x.useState(null),[d,m]=x.useState("anomalies"),[f,h]=x.useState(null),[g,v]=x.useState({status:"Approved",notes:""}),y=x.useMemo(()=>l?a(l.id):{anomalies:[]},[l,a]),j=x.useMemo(()=>l?r.filter(S=>S.employeeId===l.id):[],[l,r]),b=()=>{f&&(s(f.id,{status:g.status,notes:g.notes,reviewer:e?.name||"HR"}),h(null),v({status:"Approved",notes:""}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Attendance Management"}),n.jsx("p",{className:"text-gray-600",children:"Monitor anomalies, review corrections, and manage attendance records"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(Be,{className:"w-5 h-5"})," ",r.length," corrections pending"]})]}),n.jsxs(K,{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Employee"}),n.jsxs("select",{value:l?.id||"",onChange:S=>{const M=t.find(w=>w.id===S.target.value);c(M)},className:"w-full rounded-lg border border-gray-300 px-4 py-2 text-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"-- Choose Employee --"}),t.map(S=>n.jsxs("option",{value:S.id,children:[S.name," (",S.department,")"]},S.id))]})]}),l&&n.jsxs(n.Fragment,{children:[n.jsx(ca,{value:d,onValueChange:m,children:n.jsxs(da,{children:[n.jsx(He,{value:"anomalies",children:"Anomalies"}),n.jsx(He,{value:"corrections",children:"Corrections"})]})}),d==="anomalies"&&n.jsx("div",{className:"mt-4 space-y-3",children:y.anomalies.length===0?n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[n.jsx(Le,{className:"w-4 h-4"})," No anomalies detected"]}):y.anomalies.map((S,M)=>n.jsxs("div",{className:`p-4 rounded-lg border flex items-start gap-3 ${S.severity==="error"?"bg-red-50 border-red-200":S.severity==="warning"?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"}`,children:[n.jsx(Jn,{className:`w-5 h-5 shrink-0 ${S.severity==="error"?"text-red-600":S.severity==="warning"?"text-yellow-600":"text-blue-600"}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:S.message}),n.jsxs("p",{className:"text-xs text-gray-600 capitalize",children:["Type: ",S.type]})]}),n.jsx(ge,{variant:Ase[S.severity],children:S.severity})]},M))}),d==="corrections"&&n.jsx("div",{className:"mt-4 space-y-3",children:j.length===0?n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[n.jsx(ht,{className:"w-4 h-4"})," No correction requests"]}):j.map(S=>n.jsxs("div",{className:"border rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3 hover:bg-gray-50",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:q(ue(S.originalAttendance.date),"MMM d, yyyy")}),n.jsx(ge,{variant:S.status==="Pending"?"warning":S.status==="Approved"?"success":"error",children:S.status})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[S.originalAttendance.status," "," ",S.requestedChange.status]}),n.jsx("p",{className:"text-xs text-gray-500",children:S.reason})]}),S.status==="Pending"&&n.jsx(X,{variant:"outline",size:"sm",onClick:()=>h(S),children:"Review"})]},S.id))})]})]}),n.jsx(vt,{isOpen:!!f,onClose:()=>h(null),title:"Review Attendance Correction",size:"lg",children:f&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx($u,{className:"w-8 h-8 text-indigo-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:f.employeeName}),n.jsx("p",{className:"text-sm text-gray-500",children:f.department})]})]}),n.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50 space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Original Attendance"}),n.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[n.jsxs("span",{children:["Date: ",q(ue(f.originalAttendance.date),"PPP")]}),n.jsx(ge,{variant:"secondary",children:f.originalAttendance.status})]})]}),n.jsxs("div",{className:"border rounded-lg p-3 bg-blue-50 space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Requested Correction"}),n.jsxs("div",{className:"flex justify-between text-sm text-blue-700",children:[n.jsxs("span",{children:["Change to: ",f.requestedChange.status]}),n.jsx(ge,{variant:"info",children:f.requestedChange.status})]}),n.jsxs("p",{className:"text-sm text-blue-700",children:["Reason: ",f.reason]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Decision"}),n.jsxs("select",{value:g.status,onChange:S=>v(M=>({...M,status:S.target.value})),className:"w-full rounded-lg border border-gray-300 px-4 py-2 text-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{value:"Approved",children:"Approve"}),n.jsx("option",{value:"Rejected",children:"Reject"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:g.notes,onChange:S=>v(M=>({...M,notes:S.target.value})),rows:3,placeholder:"Add optional comments for audit trail",className:"w-full rounded-lg border border-gray-300 px-4 py-2 text-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(X,{variant:"outline",onClick:()=>h(null),children:"Cancel"}),n.jsx(X,{onClick:b,className:g.status==="Rejected"?"bg-red-600 hover:bg-red-700":"",children:g.status})]})]})})]})}const iD={applied:"default",screening:"info",shortlisted:"info",technical:"warning",panel:"warning",selection_board:"info",offer:"success",hired:"success",rejected:"error"};function Mse(){const e=Qe(W=>W.user),{candidates:t,addCandidate:a,updateCandidateStage:r,addCandidateEvaluation:s,addSelectionBoardApproval:l}=Ae(),[c,d]=x.useState("shortlisted"),[m,f]=x.useState(null),[h,g]=x.useState({stage:"offer",notes:""}),[v,y]=x.useState({decision:"approved",notes:""}),[j,b]=x.useState(!1),[S,M]=x.useState({name:"",email:"",phone:"",department:"",role:"",source:"Direct",resumeUrl:""}),[w,A]=x.useState(""),[O,D]=x.useState("all"),[k,_]=x.useState("all"),[E,P]=x.useState("all"),z=x.useMemo(()=>{const W=w.toLowerCase();return t.filter(ne=>{const je=!W||ne.name?.toLowerCase().includes(W)||ne.email?.toLowerCase().includes(W)||ne.role?.toLowerCase().includes(W),H=O==="all"||ne.department===O,fe=k==="all"||ne.role===k,Ne=E==="all"||(ne.source||"").toLowerCase()===E;return je&&H&&fe&&Ne})},[t,w,O,k,E]),L=x.useMemo(()=>Tf.reduce((W,ne)=>(W[ne.id]=z.filter(je=>je.stage===ne.id),W),{}),[z]),I=x.useMemo(()=>{const W=new Set(t.map(ne=>ne.department).filter(Boolean));return Array.from(W)},[t]),J=x.useMemo(()=>{const W=new Set(t.map(ne=>ne.role).filter(Boolean));return Array.from(W)},[t]),T=x.useMemo(()=>{const W=new Set(t.map(ne=>(ne.source||"").toLowerCase()).filter(Boolean));return Array.from(W)},[t]),Y=x.useMemo(()=>{const W=t.length,ne=t.filter(se=>se.stage==="offer").length,je=t.filter(se=>se.stage==="hired").length,H=new Date,fe=t.map(se=>{const ee=se.stageUpdatedOn||se.appliedOn;return ee?Math.max(0,Zr(H,ue(ee))):null}).filter(se=>se!==null),Ne=fe.length?Math.round(fe.reduce((se,ee)=>se+ee,0)/fe.length):0;return{total:W,offers:ne,hired:je,avgStage:Ne}},[t]),V=()=>{m&&(r(m.id,h.stage,{decisionNotes:h.notes}),f(null),g({stage:"offer",notes:""}))},B=()=>{m&&(l(m.id,{by:e?.name||"Selection Board",decision:v.decision,notes:v.notes}),y({decision:"approved",notes:""}))},U=W=>{const ne=W.stageUpdatedOn||W.appliedOn;return ne?Math.max(0,Zr(new Date,ue(ne))):null},F=W=>{W.preventDefault(),!(!S.name||!S.email||!S.role)&&(a({...S,stage:"applied",stageUpdatedOn:q(new Date,"yyyy-MM-dd"),source:S.source||"Direct",documents:S.resumeUrl?[{id:`doc-${Date.now()}`,name:"Resume",url:S.resumeUrl,type:"resume",storage:S.resumeUrl.includes("drive.google")?"google-drive":"web",version:1}]:[]}),b(!1),M({name:"",email:"",phone:"",department:"",role:"",source:"Direct",resumeUrl:""}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Recruitment & ATS"}),n.jsx("p",{className:"text-gray-600",children:"Track candidates, interviews, and Selection Board approvals"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(xh,{className:"w-5 h-5"})," ",t.length," candidates",n.jsx(X,{size:"sm",onClick:()=>b(!0),className:"ml-2",children:"Add Candidate"})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[{label:"Total",value:Y.total,icon:xh,color:"indigo"},{label:"Offers",value:Y.offers,icon:Le,color:"emerald"},{label:"Hired",value:Y.hired,icon:Le,color:"green"},{label:"Avg days in stage",value:Y.avgStage,icon:Be,color:"amber"}].map(W=>n.jsx(K,{className:`border-${W.color}-100 bg-${W.color}-50`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm text-${W.color}-600`,children:W.label}),n.jsx("p",{className:`text-2xl font-bold text-${W.color}-800`,children:W.value})]}),n.jsx(W.icon,{className:`w-8 h-8 text-${W.color}-500`})]})},W.label))}),n.jsxs(K,{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsx("div",{className:"w-full md:w-72",children:n.jsx(Cn,{type:"text",value:w,onChange:W=>A(W.target.value),placeholder:"Search name, email, role",className:"w-full",inputClassName:"pr-3 py-2 text-sm"})}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs("select",{value:O,onChange:W=>D(W.target.value),className:"rounded-lg border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Departments"}),I.map(W=>n.jsx("option",{value:W,children:W},W))]}),n.jsxs("select",{value:k,onChange:W=>_(W.target.value),className:"rounded-lg border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Roles"}),J.map(W=>n.jsx("option",{value:W,children:W},W))]}),n.jsxs("select",{value:E,onChange:W=>P(W.target.value),className:"rounded-lg border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Sources"}),T.map(W=>n.jsx("option",{value:W,children:W},W))]})]})]}),n.jsxs(ca,{value:c,onValueChange:d,children:[n.jsx(da,{className:"flex-wrap",children:Tf.map(W=>n.jsxs(He,{value:W.id,children:[W.name," (",L[W.id]?.length||0,")"]},W.id))}),Tf.map(W=>n.jsx(St,{value:W.id,children:n.jsx(K,{children:(L[W.id]||[]).length===0?n.jsx("div",{className:"text-center py-10 text-gray-500",children:"No candidates in this stage"}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:L[W.id].map(ne=>n.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>f(ne),children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:ne.name}),n.jsx("p",{className:"text-sm text-gray-600",children:ne.role})]}),n.jsx(ge,{variant:iD[ne.stage]||"default",children:ne.stage})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-1",children:[n.jsxs("span",{children:["Applied ",ne.appliedOn]}),U(ne)!==null&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-amber-50 text-amber-700 border border-amber-100",children:[n.jsx(Be,{className:"w-3.5 h-3.5"})," ",U(ne),"d in stage"]})]}),n.jsxs("div",{className:"mt-3 space-y-1 text-sm text-gray-700",children:[n.jsxs("p",{children:["Department: ",ne.department]}),n.jsxs("p",{children:["Source: ",ne.source||"N/A"]})]})]},ne.id))})})},W.id))]}),n.jsx(vt,{isOpen:!!m,onClose:()=>f(null),title:"Candidate Details",size:"lg",children:m&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m.name}),n.jsx("p",{className:"text-sm text-gray-600",children:m.role})]}),n.jsx(ge,{variant:iD[m.stage]||"default",children:m.stage})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-3 text-sm text-gray-700",children:[n.jsxs("p",{children:["Email: ",m.email]}),n.jsxs("p",{children:["Phone: ",m.phone]}),n.jsxs("p",{children:["Department: ",m.department]}),n.jsxs("p",{children:["Applied On: ",q(ue(m.appliedOn),"PPP")]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-800 mb-2",children:"Evaluations"}),m.evaluations?.length?n.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[n.jsx("span",{children:"Avg score"}),n.jsx("span",{className:"font-semibold",children:(m.evaluations.reduce((W,ne)=>W+(ne.score||0),0)/m.evaluations.length).toFixed(1)})]}),m.evaluations.map((W,ne)=>n.jsxs("div",{className:"border rounded p-2 flex justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium capitalize",children:W.stage}),n.jsx("p",{className:"text-xs text-gray-500",children:W.notes})]}),n.jsxs("div",{className:"text-right text-xs text-gray-500",children:[n.jsxs("p",{children:["Score: ",W.score??"-"]}),n.jsx("p",{children:W.date})]})]},ne))]}):n.jsx("p",{className:"text-xs text-gray-500",children:"No evaluations yet"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Selection Board"}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[n.jsx(li,{className:"w-5 h-5 text-indigo-600"}),m.selectionBoard?.status||"pending",m.selectionBoard?.approvals&&n.jsxs("span",{className:"text-xs text-gray-500",children:[(m.selectionBoard.approvals||[]).filter(W=>W.decision==="approved").length,"/",m.selectionBoard.approvals?.length||0," approvals"]})]}),m.selectionBoard?.approvals?.length?n.jsx("div",{className:"space-y-1 text-xs text-gray-600",children:m.selectionBoard.approvals.map((W,ne)=>n.jsxs("div",{className:"flex items-center justify-between rounded border px-2 py-1",children:[n.jsx("span",{className:"font-medium capitalize",children:W.by||"Member"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ge,{variant:W.decision==="approved"?"success":"error",children:W.decision}),n.jsx("span",{children:W.date})]})]},ne))}):null,n.jsxs("div",{className:"flex gap-2 text-sm",children:[n.jsxs("select",{value:v.decision,onChange:W=>y(ne=>({...ne,decision:W.target.value})),className:"rounded border px-3 py-1 text-sm",children:[n.jsx("option",{value:"approved",children:"Approve"}),n.jsx("option",{value:"rejected",children:"Reject"})]}),n.jsx("input",{value:v.notes,onChange:W=>y(ne=>({...ne,notes:W.target.value})),placeholder:"Notes",className:"flex-1 rounded border px-3 py-1 text-sm"}),n.jsx(X,{size:"sm",variant:"outline",onClick:B,children:"Record"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Advance Stage"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("select",{value:h.stage,onChange:W=>g(ne=>({...ne,stage:W.target.value})),className:"rounded border px-3 py-1 text-sm",children:Tf.map(W=>n.jsx("option",{value:W.id,children:W.name},W.id))}),n.jsx("input",{value:h.notes,onChange:W=>g(ne=>({...ne,notes:W.target.value})),placeholder:"Decision notes",className:"flex-1 rounded border px-3 py-1 text-sm"}),n.jsx(X,{size:"sm",onClick:V,children:"Move"})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-800 mb-2",children:"Documents"}),m.documents?.length?n.jsx("ul",{className:"space-y-1 text-sm text-gray-700",children:m.documents.map(W=>n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx(ht,{className:"w-4 h-4"}),n.jsx("a",{href:W.url||W.link,target:"_blank",rel:"noreferrer",className:"text-indigo-600 hover:underline",children:W.name||W.title}),n.jsxs("span",{className:"text-xs text-gray-500",children:["v",W.version||1]})]},W.id))}):n.jsx("p",{className:"text-xs text-gray-500",children:"No documents linked"})]})]})}),n.jsx(vt,{isOpen:j,onClose:()=>b(!1),title:"Add Candidate",children:n.jsxs("form",{className:"space-y-3",onSubmit:F,children:[n.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Name"}),n.jsx("input",{className:"w-full rounded border px-3 py-2 text-sm",value:S.name,onChange:W=>M(ne=>({...ne,name:W.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Email"}),n.jsx("input",{type:"email",className:"w-full rounded border px-3 py-2 text-sm",value:S.email,onChange:W=>M(ne=>({...ne,email:W.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Phone"}),n.jsx("input",{className:"w-full rounded border px-3 py-2 text-sm",value:S.phone,onChange:W=>M(ne=>({...ne,phone:W.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Department"}),n.jsx("input",{className:"w-full rounded border px-3 py-2 text-sm",value:S.department,onChange:W=>M(ne=>({...ne,department:W.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Role"}),n.jsx("input",{className:"w-full rounded border px-3 py-2 text-sm",value:S.role,onChange:W=>M(ne=>({...ne,role:W.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Source"}),n.jsx("input",{className:"w-full rounded border px-3 py-2 text-sm",value:S.source,onChange:W=>M(ne=>({...ne,source:W.target.value}))})]}),n.jsxs("div",{className:"sm:col-span-2",children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Resume Link (Drive/Web)"}),n.jsx("input",{className:"w-full rounded border px-3 py-2 text-sm",value:S.resumeUrl,onChange:W=>M(ne=>({...ne,resumeUrl:W.target.value}))})]})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[n.jsx(X,{type:"button",variant:"outline",onClick:()=>b(!1),children:"Cancel"}),n.jsx(X,{type:"submit",children:"Save"})]})]})})]})}function sl(e,t){return typeof e=="function"?e(t):e}function ir(e,t){return a=>{t.setState(r=>({...r,[e]:sl(a,r[e])}))}}function vx(e){return e instanceof Function}function Dse(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Ose(e,t){const a=[],r=s=>{s.forEach(l=>{a.push(l);const c=t(l);c!=null&&c.length&&r(c)})};return r(e),a}function We(e,t,a){let r=[],s;return l=>{let c;a.key&&a.debug&&(c=Date.now());const d=e(l);if(!(d.length!==r.length||d.some((h,g)=>r[g]!==h)))return s;r=d;let f;if(a.key&&a.debug&&(f=Date.now()),s=t(...d),a==null||a.onChange==null||a.onChange(s),a.key&&a.debug&&a!=null&&a.debug()){const h=Math.round((Date.now()-c)*100)/100,g=Math.round((Date.now()-f)*100)/100,v=g/16,y=(j,b)=>{for(j=String(j);j.length<b;)j=" "+j;return j};console.info(`%c ${y(g,5)} /${y(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,a?.key)}return s}}function Ye(e,t,a,r){return{debug:()=>{var s;return(s=e?.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function Ese(e,t,a,r){const s=()=>{var c;return(c=l.getValue())!=null?c:e.options.renderFallbackValue},l={id:`${t.id}_${a.id}`,row:t,column:a,getValue:()=>t.getValue(r),renderValue:s,getContext:We(()=>[e,a,t,l],(c,d,m,f)=>({table:c,column:d,row:m,cell:f,getValue:f.getValue,renderValue:f.renderValue}),Ye(e.options,"debugCells"))};return e._features.forEach(c=>{c.createCell==null||c.createCell(l,a,t,e)},{}),l}function kse(e,t,a,r){var s,l;const d={...e._getDefaultColumnDef(),...t},m=d.accessorKey;let f=(s=(l=d.id)!=null?l:m?typeof String.prototype.replaceAll=="function"?m.replaceAll(".","_"):m.replace(/\./g,"_"):void 0)!=null?s:typeof d.header=="string"?d.header:void 0,h;if(d.accessorFn?h=d.accessorFn:m&&(m.includes(".")?h=v=>{let y=v;for(const b of m.split(".")){var j;y=(j=y)==null?void 0:j[b]}return y}:h=v=>v[d.accessorKey]),!f)throw new Error;let g={id:`${String(f)}`,accessorFn:h,parent:r,depth:a,columnDef:d,columns:[],getFlatColumns:We(()=>[!0],()=>{var v;return[g,...(v=g.columns)==null?void 0:v.flatMap(y=>y.getFlatColumns())]},Ye(e.options,"debugColumns")),getLeafColumns:We(()=>[e._getOrderColumnsFn()],v=>{var y;if((y=g.columns)!=null&&y.length){let j=g.columns.flatMap(b=>b.getLeafColumns());return v(j)}return[g]},Ye(e.options,"debugColumns"))};for(const v of e._features)v.createColumn==null||v.createColumn(g,e);return g}const ma="debugHeaders";function lD(e,t,a){var r;let l={id:(r=a.id)!=null?r:t.id,column:t,index:a.index,isPlaceholder:!!a.isPlaceholder,placeholderId:a.placeholderId,depth:a.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const c=[],d=m=>{m.subHeaders&&m.subHeaders.length&&m.subHeaders.map(d),c.push(m)};return d(l),c},getContext:()=>({table:e,header:l,column:t})};return e._features.forEach(c=>{c.createHeader==null||c.createHeader(l,e)}),l}const Pse={createTable:e=>{e.getHeaderGroups=We(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,a,r,s)=>{var l,c;const d=(l=r?.map(g=>a.find(v=>v.id===g)).filter(Boolean))!=null?l:[],m=(c=s?.map(g=>a.find(v=>v.id===g)).filter(Boolean))!=null?c:[],f=a.filter(g=>!(r!=null&&r.includes(g.id))&&!(s!=null&&s.includes(g.id)));return th(t,[...d,...f,...m],e)},Ye(e.options,ma)),e.getCenterHeaderGroups=We(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,a,r,s)=>(a=a.filter(l=>!(r!=null&&r.includes(l.id))&&!(s!=null&&s.includes(l.id))),th(t,a,e,"center")),Ye(e.options,ma)),e.getLeftHeaderGroups=We(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,a,r)=>{var s;const l=(s=r?.map(c=>a.find(d=>d.id===c)).filter(Boolean))!=null?s:[];return th(t,l,e,"left")},Ye(e.options,ma)),e.getRightHeaderGroups=We(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,a,r)=>{var s;const l=(s=r?.map(c=>a.find(d=>d.id===c)).filter(Boolean))!=null?s:[];return th(t,l,e,"right")},Ye(e.options,ma)),e.getFooterGroups=We(()=>[e.getHeaderGroups()],t=>[...t].reverse(),Ye(e.options,ma)),e.getLeftFooterGroups=We(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),Ye(e.options,ma)),e.getCenterFooterGroups=We(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),Ye(e.options,ma)),e.getRightFooterGroups=We(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),Ye(e.options,ma)),e.getFlatHeaders=We(()=>[e.getHeaderGroups()],t=>t.map(a=>a.headers).flat(),Ye(e.options,ma)),e.getLeftFlatHeaders=We(()=>[e.getLeftHeaderGroups()],t=>t.map(a=>a.headers).flat(),Ye(e.options,ma)),e.getCenterFlatHeaders=We(()=>[e.getCenterHeaderGroups()],t=>t.map(a=>a.headers).flat(),Ye(e.options,ma)),e.getRightFlatHeaders=We(()=>[e.getRightHeaderGroups()],t=>t.map(a=>a.headers).flat(),Ye(e.options,ma)),e.getCenterLeafHeaders=We(()=>[e.getCenterFlatHeaders()],t=>t.filter(a=>{var r;return!((r=a.subHeaders)!=null&&r.length)}),Ye(e.options,ma)),e.getLeftLeafHeaders=We(()=>[e.getLeftFlatHeaders()],t=>t.filter(a=>{var r;return!((r=a.subHeaders)!=null&&r.length)}),Ye(e.options,ma)),e.getRightLeafHeaders=We(()=>[e.getRightFlatHeaders()],t=>t.filter(a=>{var r;return!((r=a.subHeaders)!=null&&r.length)}),Ye(e.options,ma)),e.getLeafHeaders=We(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,a,r)=>{var s,l,c,d,m,f;return[...(s=(l=t[0])==null?void 0:l.headers)!=null?s:[],...(c=(d=a[0])==null?void 0:d.headers)!=null?c:[],...(m=(f=r[0])==null?void 0:f.headers)!=null?m:[]].map(h=>h.getLeafHeaders()).flat()},Ye(e.options,ma))}};function th(e,t,a,r){var s,l;let c=0;const d=function(v,y){y===void 0&&(y=1),c=Math.max(c,y),v.filter(j=>j.getIsVisible()).forEach(j=>{var b;(b=j.columns)!=null&&b.length&&d(j.columns,y+1)},0)};d(e);let m=[];const f=(v,y)=>{const j={depth:y,id:[r,`${y}`].filter(Boolean).join("_"),headers:[]},b=[];v.forEach(S=>{const M=[...b].reverse()[0],w=S.column.depth===j.depth;let A,O=!1;if(w&&S.column.parent?A=S.column.parent:(A=S.column,O=!0),M&&M?.column===A)M.subHeaders.push(S);else{const D=lD(a,A,{id:[r,y,A.id,S?.id].filter(Boolean).join("_"),isPlaceholder:O,placeholderId:O?`${b.filter(k=>k.column===A).length}`:void 0,depth:y,index:b.length});D.subHeaders.push(S),b.push(D)}j.headers.push(S),S.headerGroup=j}),m.push(j),y>0&&f(b,y-1)},h=t.map((v,y)=>lD(a,v,{depth:c,index:y}));f(h,c-1),m.reverse();const g=v=>v.filter(j=>j.column.getIsVisible()).map(j=>{let b=0,S=0,M=[0];j.subHeaders&&j.subHeaders.length?(M=[],g(j.subHeaders).forEach(A=>{let{colSpan:O,rowSpan:D}=A;b+=O,M.push(D)})):b=1;const w=Math.min(...M);return S=S+w,j.colSpan=b,j.rowSpan=S,{colSpan:b,rowSpan:S}});return g((s=(l=m[0])==null?void 0:l.headers)!=null?s:[]),m}const SN=(e,t,a,r,s,l,c)=>{let d={id:t,index:r,original:a,depth:s,parentId:c,_valuesCache:{},_uniqueValuesCache:{},getValue:m=>{if(d._valuesCache.hasOwnProperty(m))return d._valuesCache[m];const f=e.getColumn(m);if(f!=null&&f.accessorFn)return d._valuesCache[m]=f.accessorFn(d.original,r),d._valuesCache[m]},getUniqueValues:m=>{if(d._uniqueValuesCache.hasOwnProperty(m))return d._uniqueValuesCache[m];const f=e.getColumn(m);if(f!=null&&f.accessorFn)return f.columnDef.getUniqueValues?(d._uniqueValuesCache[m]=f.columnDef.getUniqueValues(d.original,r),d._uniqueValuesCache[m]):(d._uniqueValuesCache[m]=[d.getValue(m)],d._uniqueValuesCache[m])},renderValue:m=>{var f;return(f=d.getValue(m))!=null?f:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Ose(d.subRows,m=>m.subRows),getParentRow:()=>d.parentId?e.getRow(d.parentId,!0):void 0,getParentRows:()=>{let m=[],f=d;for(;;){const h=f.getParentRow();if(!h)break;m.push(h),f=h}return m.reverse()},getAllCells:We(()=>[e.getAllLeafColumns()],m=>m.map(f=>Ese(e,d,f,f.id)),Ye(e.options,"debugRows")),_getAllCellsByColumnId:We(()=>[d.getAllCells()],m=>m.reduce((f,h)=>(f[h.column.id]=h,f),{}),Ye(e.options,"debugRows"))};for(let m=0;m<e._features.length;m++){const f=e._features[m];f==null||f.createRow==null||f.createRow(d,e)}return d},Rse={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},x6=(e,t,a)=>{var r,s;const l=a==null||(r=a.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(l))};x6.autoRemove=e=>Gr(e);const g6=(e,t,a)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(a))};g6.autoRemove=e=>Gr(e);const y6=(e,t,a)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===a?.toLowerCase()};y6.autoRemove=e=>Gr(e);const v6=(e,t,a)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(a)};v6.autoRemove=e=>Gr(e);const b6=(e,t,a)=>!a.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});b6.autoRemove=e=>Gr(e)||!(e!=null&&e.length);const j6=(e,t,a)=>a.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});j6.autoRemove=e=>Gr(e)||!(e!=null&&e.length);const N6=(e,t,a)=>e.getValue(t)===a;N6.autoRemove=e=>Gr(e);const w6=(e,t,a)=>e.getValue(t)==a;w6.autoRemove=e=>Gr(e);const AN=(e,t,a)=>{let[r,s]=a;const l=e.getValue(t);return l>=r&&l<=s};AN.resolveFilterValue=e=>{let[t,a]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof a!="number"?parseFloat(a):a,l=t===null||Number.isNaN(r)?-1/0:r,c=a===null||Number.isNaN(s)?1/0:s;if(l>c){const d=l;l=c,c=d}return[l,c]};AN.autoRemove=e=>Gr(e)||Gr(e[0])&&Gr(e[1]);const Ys={includesString:x6,includesStringSensitive:g6,equalsString:y6,arrIncludes:v6,arrIncludesAll:b6,arrIncludesSome:j6,equals:N6,weakEquals:w6,inNumberRange:AN};function Gr(e){return e==null||e===""}const _se={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:ir("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const a=t.getCoreRowModel().flatRows[0],r=a?.getValue(e.id);return typeof r=="string"?Ys.includesString:typeof r=="number"?Ys.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Ys.equals:Array.isArray(r)?Ys.arrIncludes:Ys.weakEquals},e.getFilterFn=()=>{var a,r;return vx(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(a=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?a:Ys[e.columnDef.filterFn]},e.getCanFilter=()=>{var a,r,s;return((a=e.columnDef.enableColumnFilter)!=null?a:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var a;return(a=t.getState().columnFilters)==null||(a=a.find(r=>r.id===e.id))==null?void 0:a.value},e.getFilterIndex=()=>{var a,r;return(a=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?a:-1},e.setFilterValue=a=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),l=r?.find(h=>h.id===e.id),c=sl(a,l?l.value:void 0);if(oD(s,c,e)){var d;return(d=r?.filter(h=>h.id!==e.id))!=null?d:[]}const m={id:e.id,value:c};if(l){var f;return(f=r?.map(h=>h.id===e.id?m:h))!=null?f:[]}return r!=null&&r.length?[...r,m]:[m]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const a=e.getAllLeafColumns(),r=s=>{var l;return(l=sl(t,s))==null?void 0:l.filter(c=>{const d=a.find(m=>m.id===c.id);if(d){const m=d.getFilterFn();if(oD(m,c.value,d))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var a,r;e.setColumnFilters(t?[]:(a=(r=e.initialState)==null?void 0:r.columnFilters)!=null?a:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function oD(e,t,a){return(e&&e.autoRemove?e.autoRemove(t,a):!1)||typeof t>"u"||typeof t=="string"&&!t}const Tse=(e,t,a)=>a.reduce((r,s)=>{const l=s.getValue(e);return r+(typeof l=="number"?l:0)},0),Lse=(e,t,a)=>{let r;return a.forEach(s=>{const l=s.getValue(e);l!=null&&(r>l||r===void 0&&l>=l)&&(r=l)}),r},Ise=(e,t,a)=>{let r;return a.forEach(s=>{const l=s.getValue(e);l!=null&&(r<l||r===void 0&&l>=l)&&(r=l)}),r},zse=(e,t,a)=>{let r,s;return a.forEach(l=>{const c=l.getValue(e);c!=null&&(r===void 0?c>=c&&(r=s=c):(r>c&&(r=c),s<c&&(s=c)))}),[r,s]},$se=(e,t)=>{let a=0,r=0;if(t.forEach(s=>{let l=s.getValue(e);l!=null&&(l=+l)>=l&&(++a,r+=l)}),a)return r/a},Bse=(e,t)=>{if(!t.length)return;const a=t.map(l=>l.getValue(e));if(!Dse(a))return;if(a.length===1)return a[0];const r=Math.floor(a.length/2),s=a.sort((l,c)=>l-c);return a.length%2!==0?s[r]:(s[r-1]+s[r])/2},Fse=(e,t)=>Array.from(new Set(t.map(a=>a.getValue(e))).values()),Use=(e,t)=>new Set(t.map(a=>a.getValue(e))).size,qse=(e,t)=>t.length,Dv={sum:Tse,min:Lse,max:Ise,extent:zse,mean:$se,median:Bse,unique:Fse,uniqueCount:Use,count:qse},Hse={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,a;return(t=(a=e.getValue())==null||a.toString==null?void 0:a.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:ir("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(a=>a!=null&&a.includes(e.id)?a.filter(r=>r!==e.id):[...a??[],e.id])},e.getCanGroup=()=>{var a,r;return((a=e.columnDef.enableGrouping)!=null?a:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var a;return(a=t.getState().grouping)==null?void 0:a.includes(e.id)},e.getGroupedIndex=()=>{var a;return(a=t.getState().grouping)==null?void 0:a.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const a=e.getCanGroup();return()=>{a&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const a=t.getCoreRowModel().flatRows[0],r=a?.getValue(e.id);if(typeof r=="number")return Dv.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Dv.extent},e.getAggregationFn=()=>{var a,r;if(!e)throw new Error;return vx(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(a=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?a:Dv[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var a,r;e.setGrouping(t?[]:(a=(r=e.initialState)==null?void 0:r.grouping)!=null?a:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=a=>{if(e._groupingValuesCache.hasOwnProperty(a))return e._groupingValuesCache[a];const r=t.getColumn(a);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[a]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[a]):e.getValue(a)},e._groupingValuesCache={}},createCell:(e,t,a,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===a.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=a.subRows)!=null&&s.length)}}};function Vse(e,t,a){if(!(t!=null&&t.length)||!a)return e;const r=e.filter(l=>!t.includes(l.id));return a==="remove"?r:[...t.map(l=>e.find(c=>c.id===l)).filter(Boolean),...r]}const Kse={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:ir("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=We(a=>[fu(t,a)],a=>a.findIndex(r=>r.id===e.id),Ye(t.options,"debugColumns")),e.getIsFirstColumn=a=>{var r;return((r=fu(t,a)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=a=>{var r;const s=fu(t,a);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var a;e.setColumnOrder(t?[]:(a=e.initialState.columnOrder)!=null?a:[])},e._getOrderColumnsFn=We(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,a,r)=>s=>{let l=[];if(!(t!=null&&t.length))l=s;else{const c=[...t],d=[...s];for(;d.length&&c.length;){const m=c.shift(),f=d.findIndex(h=>h.id===m);f>-1&&l.push(d.splice(f,1)[0])}l=[...l,...d]}return Vse(l,a,r)},Ye(e.options,"debugTable"))}},Ov=()=>({left:[],right:[]}),Wse={getInitialState:e=>({columnPinning:Ov(),...e}),getDefaultOptions:e=>({onColumnPinningChange:ir("columnPinning",e)}),createColumn:(e,t)=>{e.pin=a=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var l,c;if(a==="right"){var d,m;return{left:((d=s?.left)!=null?d:[]).filter(g=>!(r!=null&&r.includes(g))),right:[...((m=s?.right)!=null?m:[]).filter(g=>!(r!=null&&r.includes(g))),...r]}}if(a==="left"){var f,h;return{left:[...((f=s?.left)!=null?f:[]).filter(g=>!(r!=null&&r.includes(g))),...r],right:((h=s?.right)!=null?h:[]).filter(g=>!(r!=null&&r.includes(g)))}}return{left:((l=s?.left)!=null?l:[]).filter(g=>!(r!=null&&r.includes(g))),right:((c=s?.right)!=null?c:[]).filter(g=>!(r!=null&&r.includes(g)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,l,c;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((l=(c=t.options.enableColumnPinning)!=null?c:t.options.enablePinning)!=null?l:!0)}),e.getIsPinned=()=>{const a=e.getLeafColumns().map(d=>d.id),{left:r,right:s}=t.getState().columnPinning,l=a.some(d=>r?.includes(d)),c=a.some(d=>s?.includes(d));return l?"left":c?"right":!1},e.getPinnedIndex=()=>{var a,r;const s=e.getIsPinned();return s?(a=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?a:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=We(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(a,r,s)=>{const l=[...r??[],...s??[]];return a.filter(c=>!l.includes(c.column.id))},Ye(t.options,"debugRows")),e.getLeftVisibleCells=We(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(a,r)=>(r??[]).map(l=>a.find(c=>c.column.id===l)).filter(Boolean).map(l=>({...l,position:"left"})),Ye(t.options,"debugRows")),e.getRightVisibleCells=We(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(a,r)=>(r??[]).map(l=>a.find(c=>c.column.id===l)).filter(Boolean).map(l=>({...l,position:"right"})),Ye(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var a,r;return e.setColumnPinning(t?Ov():(a=(r=e.initialState)==null?void 0:r.columnPinning)!=null?a:Ov())},e.getIsSomeColumnsPinned=t=>{var a;const r=e.getState().columnPinning;if(!t){var s,l;return!!((s=r.left)!=null&&s.length||(l=r.right)!=null&&l.length)}return!!((a=r[t])!=null&&a.length)},e.getLeftLeafColumns=We(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,a)=>(a??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),Ye(e.options,"debugColumns")),e.getRightLeafColumns=We(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,a)=>(a??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),Ye(e.options,"debugColumns")),e.getCenterLeafColumns=We(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,a,r)=>{const s=[...a??[],...r??[]];return t.filter(l=>!s.includes(l.id))},Ye(e.options,"debugColumns"))}};function Yse(e){return e||(typeof document<"u"?document:null)}const nh={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Ev=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Gse={getDefaultColumnDef:()=>nh,getInitialState:e=>({columnSizing:{},columnSizingInfo:Ev(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:ir("columnSizing",e),onColumnSizingInfoChange:ir("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var a,r,s;const l=t.getState().columnSizing[e.id];return Math.min(Math.max((a=e.columnDef.minSize)!=null?a:nh.minSize,(r=l??e.columnDef.size)!=null?r:nh.size),(s=e.columnDef.maxSize)!=null?s:nh.maxSize)},e.getStart=We(a=>[a,fu(t,a),t.getState().columnSizing],(a,r)=>r.slice(0,e.getIndex(a)).reduce((s,l)=>s+l.getSize(),0),Ye(t.options,"debugColumns")),e.getAfter=We(a=>[a,fu(t,a),t.getState().columnSizing],(a,r)=>r.slice(e.getIndex(a)+1).reduce((s,l)=>s+l.getSize(),0),Ye(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(a=>{let{[e.id]:r,...s}=a;return s})},e.getCanResize=()=>{var a,r;return((a=e.columnDef.enableResizing)!=null?a:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let a=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var l;a+=(l=s.column.getSize())!=null?l:0}};return r(e),a},e.getStart=()=>{if(e.index>0){const a=e.headerGroup.headers[e.index-1];return a.getStart()+a.getSize()}return 0},e.getResizeHandler=a=>{const r=t.getColumn(e.column.id),s=r?.getCanResize();return l=>{if(!r||!s||(l.persist==null||l.persist(),kv(l)&&l.touches&&l.touches.length>1))return;const c=e.getSize(),d=e?e.getLeafHeaders().map(M=>[M.column.id,M.column.getSize()]):[[r.id,r.getSize()]],m=kv(l)?Math.round(l.touches[0].clientX):l.clientX,f={},h=(M,w)=>{typeof w=="number"&&(t.setColumnSizingInfo(A=>{var O,D;const k=t.options.columnResizeDirection==="rtl"?-1:1,_=(w-((O=A?.startOffset)!=null?O:0))*k,E=Math.max(_/((D=A?.startSize)!=null?D:0),-.999999);return A.columnSizingStart.forEach(P=>{let[z,L]=P;f[z]=Math.round(Math.max(L+L*E,0)*100)/100}),{...A,deltaOffset:_,deltaPercentage:E}}),(t.options.columnResizeMode==="onChange"||M==="end")&&t.setColumnSizing(A=>({...A,...f})))},g=M=>h("move",M),v=M=>{h("end",M),t.setColumnSizingInfo(w=>({...w,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},y=Yse(a),j={moveHandler:M=>g(M.clientX),upHandler:M=>{y?.removeEventListener("mousemove",j.moveHandler),y?.removeEventListener("mouseup",j.upHandler),v(M.clientX)}},b={moveHandler:M=>(M.cancelable&&(M.preventDefault(),M.stopPropagation()),g(M.touches[0].clientX),!1),upHandler:M=>{var w;y?.removeEventListener("touchmove",b.moveHandler),y?.removeEventListener("touchend",b.upHandler),M.cancelable&&(M.preventDefault(),M.stopPropagation()),v((w=M.touches[0])==null?void 0:w.clientX)}},S=Zse()?{passive:!1}:!1;kv(l)?(y?.addEventListener("touchmove",b.moveHandler,S),y?.addEventListener("touchend",b.upHandler,S)):(y?.addEventListener("mousemove",j.moveHandler,S),y?.addEventListener("mouseup",j.upHandler,S)),t.setColumnSizingInfo(M=>({...M,startOffset:m,startSize:c,deltaOffset:0,deltaPercentage:0,columnSizingStart:d,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var a;e.setColumnSizing(t?{}:(a=e.initialState.columnSizing)!=null?a:{})},e.resetHeaderSizeInfo=t=>{var a;e.setColumnSizingInfo(t?Ev():(a=e.initialState.columnSizingInfo)!=null?a:Ev())},e.getTotalSize=()=>{var t,a;return(t=(a=e.getHeaderGroups()[0])==null?void 0:a.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,a;return(t=(a=e.getLeftHeaderGroups()[0])==null?void 0:a.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,a;return(t=(a=e.getCenterHeaderGroups()[0])==null?void 0:a.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,a;return(t=(a=e.getRightHeaderGroups()[0])==null?void 0:a.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let ah=null;function Zse(){if(typeof ah=="boolean")return ah;let e=!1;try{const t={get passive(){return e=!0,!1}},a=()=>{};window.addEventListener("test",a,t),window.removeEventListener("test",a)}catch{e=!1}return ah=e,ah}function kv(e){return e.type==="touchstart"}const Xse={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:ir("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=a=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:a??!e.getIsVisible()}))},e.getIsVisible=()=>{var a,r;const s=e.columns;return(a=s.length?s.some(l=>l.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?a:!0},e.getCanHide=()=>{var a,r;return((a=e.columnDef.enableHiding)!=null?a:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>a=>{e.toggleVisibility==null||e.toggleVisibility(a.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=We(()=>[e.getAllCells(),t.getState().columnVisibility],a=>a.filter(r=>r.column.getIsVisible()),Ye(t.options,"debugRows")),e.getVisibleCells=We(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(a,r,s)=>[...a,...r,...s],Ye(t.options,"debugRows"))},createTable:e=>{const t=(a,r)=>We(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(l=>l.getIsVisible==null?void 0:l.getIsVisible()),Ye(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=a=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(a),e.resetColumnVisibility=a=>{var r;e.setColumnVisibility(a?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=a=>{var r;a=(r=a)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,l)=>({...s,[l.id]:a||!(l.getCanHide!=null&&l.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(a=>!(a.getIsVisible!=null&&a.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(a=>a.getIsVisible==null?void 0:a.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>a=>{var r;e.toggleAllColumnsVisible((r=a.target)==null?void 0:r.checked)}}};function fu(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Qse={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Jse={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:ir("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var a;const r=(a=e.getCoreRowModel().flatRows[0])==null||(a=a._getAllCellsByColumnId()[t.id])==null?void 0:a.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var a,r,s,l;return((a=e.columnDef.enableGlobalFilter)!=null?a:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((l=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?l:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Ys.includesString,e.getGlobalFilterFn=()=>{var t,a;const{globalFilterFn:r}=e.options;return vx(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(a=e.options.filterFns)==null?void 0:a[r])!=null?t:Ys[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},eie={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:ir("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,a=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(a)return;a=!0,e._queue(()=>{e.resetExpanded(),a=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,l;e.setExpanded(r?{}:(s=(l=e.initialState)==null?void 0:l.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(l=>{const c=l.split(".");r=Math.max(r,c.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=a=>{t.setExpanded(r=>{var s;const l=r===!0?!0:!!(r!=null&&r[e.id]);let c={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(d=>{c[d]=!0}):c=r,a=(s=a)!=null?s:!l,!l&&a)return{...c,[e.id]:!0};if(l&&!a){const{[e.id]:d,...m}=c;return m}return r})},e.getIsExpanded=()=>{var a;const r=t.getState().expanded;return!!((a=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?a:r===!0||r?.[e.id])},e.getCanExpand=()=>{var a,r,s;return(a=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?a:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let a=!0,r=e;for(;a&&r.parentId;)r=t.getRow(r.parentId,!0),a=r.getIsExpanded();return a},e.getToggleExpandedHandler=()=>{const a=e.getCanExpand();return()=>{a&&e.toggleExpanded()}}}},Qb=0,Jb=10,Pv=()=>({pageIndex:Qb,pageSize:Jb}),tie={getInitialState:e=>({...e,pagination:{...Pv(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:ir("pagination",e)}),createTable:e=>{let t=!1,a=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(a)return;a=!0,e._queue(()=>{e.resetPageIndex(),a=!1})}},e.setPagination=r=>{const s=l=>sl(r,l);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?Pv():(s=e.initialState.pagination)!=null?s:Pv())},e.setPageIndex=r=>{e.setPagination(s=>{let l=sl(r,s.pageIndex);const c=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return l=Math.max(0,Math.min(l,c)),{...s,pageIndex:l}})},e.resetPageIndex=r=>{var s,l;e.setPageIndex(r?Qb:(s=(l=e.initialState)==null||(l=l.pagination)==null?void 0:l.pageIndex)!=null?s:Qb)},e.resetPageSize=r=>{var s,l;e.setPageSize(r?Jb:(s=(l=e.initialState)==null||(l=l.pagination)==null?void 0:l.pageSize)!=null?s:Jb)},e.setPageSize=r=>{e.setPagination(s=>{const l=Math.max(1,sl(r,s.pageSize)),c=s.pageSize*s.pageIndex,d=Math.floor(c/l);return{...s,pageIndex:d,pageSize:l}})},e.setPageCount=r=>e.setPagination(s=>{var l;let c=sl(r,(l=e.options.pageCount)!=null?l:-1);return typeof c=="number"&&(c=Math.max(-1,c)),{...s,pageCount:c}}),e.getPageOptions=We(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((l,c)=>c)),s},Ye(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Rv=()=>({top:[],bottom:[]}),nie={getInitialState:e=>({rowPinning:Rv(),...e}),getDefaultOptions:e=>({onRowPinningChange:ir("rowPinning",e)}),createRow:(e,t)=>{e.pin=(a,r,s)=>{const l=r?e.getLeafRows().map(m=>{let{id:f}=m;return f}):[],c=s?e.getParentRows().map(m=>{let{id:f}=m;return f}):[],d=new Set([...c,e.id,...l]);t.setRowPinning(m=>{var f,h;if(a==="bottom"){var g,v;return{top:((g=m?.top)!=null?g:[]).filter(b=>!(d!=null&&d.has(b))),bottom:[...((v=m?.bottom)!=null?v:[]).filter(b=>!(d!=null&&d.has(b))),...Array.from(d)]}}if(a==="top"){var y,j;return{top:[...((y=m?.top)!=null?y:[]).filter(b=>!(d!=null&&d.has(b))),...Array.from(d)],bottom:((j=m?.bottom)!=null?j:[]).filter(b=>!(d!=null&&d.has(b)))}}return{top:((f=m?.top)!=null?f:[]).filter(b=>!(d!=null&&d.has(b))),bottom:((h=m?.bottom)!=null?h:[]).filter(b=>!(d!=null&&d.has(b)))}})},e.getCanPin=()=>{var a;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(a=r??s)!=null?a:!0},e.getIsPinned=()=>{const a=[e.id],{top:r,bottom:s}=t.getState().rowPinning,l=a.some(d=>r?.includes(d)),c=a.some(d=>s?.includes(d));return l?"top":c?"bottom":!1},e.getPinnedIndex=()=>{var a,r;const s=e.getIsPinned();if(!s)return-1;const l=(a=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:a.map(c=>{let{id:d}=c;return d});return(r=l?.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var a,r;return e.setRowPinning(t?Rv():(a=(r=e.initialState)==null?void 0:r.rowPinning)!=null?a:Rv())},e.getIsSomeRowsPinned=t=>{var a;const r=e.getState().rowPinning;if(!t){var s,l;return!!((s=r.top)!=null&&s.length||(l=r.bottom)!=null&&l.length)}return!!((a=r[t])!=null&&a.length)},e._getPinnedRows=(t,a,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(a??[]).map(c=>{const d=e.getRow(c,!0);return d.getIsAllParentsExpanded()?d:null}):(a??[]).map(c=>t.find(d=>d.id===c))).filter(Boolean).map(c=>({...c,position:r}))},e.getTopRows=We(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,a)=>e._getPinnedRows(t,a,"top"),Ye(e.options,"debugRows")),e.getBottomRows=We(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,a)=>e._getPinnedRows(t,a,"bottom"),Ye(e.options,"debugRows")),e.getCenterRows=We(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,a,r)=>{const s=new Set([...a??[],...r??[]]);return t.filter(l=>!s.has(l.id))},Ye(e.options,"debugRows"))}},aie={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:ir("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var a;return e.setRowSelection(t?{}:(a=e.initialState.rowSelection)!=null?a:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(a=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...a},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(l=>{l.getCanSelect()&&(r[l.id]=!0)}):s.forEach(l=>{delete r[l.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(a=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...a};return e.getRowModel().rows.forEach(l=>{ej(s,l.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=We(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,a)=>Object.keys(t).length?_v(e,a):{rows:[],flatRows:[],rowsById:{}},Ye(e.options,"debugTable")),e.getFilteredSelectedRowModel=We(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,a)=>Object.keys(t).length?_v(e,a):{rows:[],flatRows:[],rowsById:{}},Ye(e.options,"debugTable")),e.getGroupedSelectedRowModel=We(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,a)=>Object.keys(t).length?_v(e,a):{rows:[],flatRows:[],rowsById:{}},Ye(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:a}=e.getState();let r=!!(t.length&&Object.keys(a).length);return r&&t.some(s=>s.getCanSelect()&&!a[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:a}=e.getState();let r=!!t.length;return r&&t.some(s=>!a[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const a=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return a>0&&a<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(a=>a.getCanSelect()).some(a=>a.getIsSelected()||a.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(a,r)=>{const s=e.getIsSelected();t.setRowSelection(l=>{var c;if(a=typeof a<"u"?a:!s,e.getCanSelect()&&s===a)return l;const d={...l};return ej(d,e.id,a,(c=r?.selectChildren)!=null?c:!0,t),d})},e.getIsSelected=()=>{const{rowSelection:a}=t.getState();return CN(e,a)},e.getIsSomeSelected=()=>{const{rowSelection:a}=t.getState();return tj(e,a)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:a}=t.getState();return tj(e,a)==="all"},e.getCanSelect=()=>{var a;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(a=t.options.enableRowSelection)!=null?a:!0},e.getCanSelectSubRows=()=>{var a;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(a=t.options.enableSubRowSelection)!=null?a:!0},e.getCanMultiSelect=()=>{var a;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(a=t.options.enableMultiRowSelection)!=null?a:!0},e.getToggleSelectedHandler=()=>{const a=e.getCanSelect();return r=>{var s;a&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},ej=(e,t,a,r,s)=>{var l;const c=s.getRow(t,!0);a?(c.getCanMultiSelect()||Object.keys(e).forEach(d=>delete e[d]),c.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(l=c.subRows)!=null&&l.length&&c.getCanSelectSubRows()&&c.subRows.forEach(d=>ej(e,d.id,a,r,s))};function _v(e,t){const a=e.getState().rowSelection,r=[],s={},l=function(c,d){return c.map(m=>{var f;const h=CN(m,a);if(h&&(r.push(m),s[m.id]=m),(f=m.subRows)!=null&&f.length&&(m={...m,subRows:l(m.subRows)}),h)return m}).filter(Boolean)};return{rows:l(t.rows),flatRows:r,rowsById:s}}function CN(e,t){var a;return(a=t[e.id])!=null?a:!1}function tj(e,t,a){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,l=!1;return e.subRows.forEach(c=>{if(!(l&&!s)&&(c.getCanSelect()&&(CN(c,t)?l=!0:s=!1),c.subRows&&c.subRows.length)){const d=tj(c,t);d==="all"?l=!0:(d==="some"&&(l=!0),s=!1)}}),s?"all":l?"some":!1}const nj=/([0-9]+)/gm,rie=(e,t,a)=>S6(dl(e.getValue(a)).toLowerCase(),dl(t.getValue(a)).toLowerCase()),sie=(e,t,a)=>S6(dl(e.getValue(a)),dl(t.getValue(a))),iie=(e,t,a)=>MN(dl(e.getValue(a)).toLowerCase(),dl(t.getValue(a)).toLowerCase()),lie=(e,t,a)=>MN(dl(e.getValue(a)),dl(t.getValue(a))),oie=(e,t,a)=>{const r=e.getValue(a),s=t.getValue(a);return r>s?1:r<s?-1:0},cie=(e,t,a)=>MN(e.getValue(a),t.getValue(a));function MN(e,t){return e===t?0:e>t?1:-1}function dl(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function S6(e,t){const a=e.split(nj).filter(Boolean),r=t.split(nj).filter(Boolean);for(;a.length&&r.length;){const s=a.shift(),l=r.shift(),c=parseInt(s,10),d=parseInt(l,10),m=[c,d].sort();if(isNaN(m[0])){if(s>l)return 1;if(l>s)return-1;continue}if(isNaN(m[1]))return isNaN(c)?-1:1;if(c>d)return 1;if(d>c)return-1}return a.length-r.length}const eu={alphanumeric:rie,alphanumericCaseSensitive:sie,text:iie,textCaseSensitive:lie,datetime:oie,basic:cie},die={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:ir("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const a=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of a){const l=s?.getValue(e.id);if(Object.prototype.toString.call(l)==="[object Date]")return eu.datetime;if(typeof l=="string"&&(r=!0,l.split(nj).length>1))return eu.alphanumeric}return r?eu.text:eu.basic},e.getAutoSortDir=()=>{const a=t.getFilteredRowModel().flatRows[0];return typeof a?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var a,r;if(!e)throw new Error;return vx(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(a=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?a:eu[e.columnDef.sortingFn]},e.toggleSorting=(a,r)=>{const s=e.getNextSortingOrder(),l=typeof a<"u"&&a!==null;t.setSorting(c=>{const d=c?.find(y=>y.id===e.id),m=c?.findIndex(y=>y.id===e.id);let f=[],h,g=l?a:s==="desc";if(c!=null&&c.length&&e.getCanMultiSort()&&r?d?h="toggle":h="add":c!=null&&c.length&&m!==c.length-1?h="replace":d?h="toggle":h="replace",h==="toggle"&&(l||s||(h="remove")),h==="add"){var v;f=[...c,{id:e.id,desc:g}],f.splice(0,f.length-((v=t.options.maxMultiSortColCount)!=null?v:Number.MAX_SAFE_INTEGER))}else h==="toggle"?f=c.map(y=>y.id===e.id?{...y,desc:g}:y):h==="remove"?f=c.filter(y=>y.id!==e.id):f=[{id:e.id,desc:g}];return f})},e.getFirstSortDir=()=>{var a,r;return((a=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?a:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=a=>{var r,s;const l=e.getFirstSortDir(),c=e.getIsSorted();return c?c!==l&&((r=t.options.enableSortingRemoval)==null||r)&&(!(a&&(s=t.options.enableMultiRemove)!=null)||s)?!1:c==="desc"?"asc":"desc":l},e.getCanSort=()=>{var a,r;return((a=e.columnDef.enableSorting)!=null?a:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var a,r;return(a=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?a:!!e.accessorFn},e.getIsSorted=()=>{var a;const r=(a=t.getState().sorting)==null?void 0:a.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var a,r;return(a=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?a:-1},e.clearSorting=()=>{t.setSorting(a=>a!=null&&a.length?a.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const a=e.getCanSort();return r=>{a&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var a,r;e.setSorting(t?[]:(a=(r=e.initialState)==null?void 0:r.sorting)!=null?a:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},uie=[Pse,Xse,Kse,Wse,Rse,_se,Qse,Jse,die,Hse,eie,tie,nie,aie,Gse];function mie(e){var t,a;const r=[...uie,...(t=e._features)!=null?t:[]];let s={_features:r};const l=s._features.reduce((v,y)=>Object.assign(v,y.getDefaultOptions==null?void 0:y.getDefaultOptions(s)),{}),c=v=>s.options.mergeOptions?s.options.mergeOptions(l,v):{...l,...v};let m={...{},...(a=e.initialState)!=null?a:{}};s._features.forEach(v=>{var y;m=(y=v.getInitialState==null?void 0:v.getInitialState(m))!=null?y:m});const f=[];let h=!1;const g={_features:r,options:{...l,...e},initialState:m,_queue:v=>{f.push(v),h||(h=!0,Promise.resolve().then(()=>{for(;f.length;)f.shift()();h=!1}).catch(y=>setTimeout(()=>{throw y})))},reset:()=>{s.setState(s.initialState)},setOptions:v=>{const y=sl(v,s.options);s.options=c(y)},getState:()=>s.options.state,setState:v=>{s.options.onStateChange==null||s.options.onStateChange(v)},_getRowId:(v,y,j)=>{var b;return(b=s.options.getRowId==null?void 0:s.options.getRowId(v,y,j))!=null?b:`${j?[j.id,y].join("."):y}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(v,y)=>{let j=(y?s.getPrePaginationRowModel():s.getRowModel()).rowsById[v];if(!j&&(j=s.getCoreRowModel().rowsById[v],!j))throw new Error;return j},_getDefaultColumnDef:We(()=>[s.options.defaultColumn],v=>{var y;return v=(y=v)!=null?y:{},{header:j=>{const b=j.header.column.columnDef;return b.accessorKey?b.accessorKey:b.accessorFn?b.id:null},cell:j=>{var b,S;return(b=(S=j.renderValue())==null||S.toString==null?void 0:S.toString())!=null?b:null},...s._features.reduce((j,b)=>Object.assign(j,b.getDefaultColumnDef==null?void 0:b.getDefaultColumnDef()),{}),...v}},Ye(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:We(()=>[s._getColumnDefs()],v=>{const y=function(j,b,S){return S===void 0&&(S=0),j.map(M=>{const w=kse(s,M,S,b),A=M;return w.columns=A.columns?y(A.columns,w,S+1):[],w})};return y(v)},Ye(e,"debugColumns")),getAllFlatColumns:We(()=>[s.getAllColumns()],v=>v.flatMap(y=>y.getFlatColumns()),Ye(e,"debugColumns")),_getAllFlatColumnsById:We(()=>[s.getAllFlatColumns()],v=>v.reduce((y,j)=>(y[j.id]=j,y),{}),Ye(e,"debugColumns")),getAllLeafColumns:We(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(v,y)=>{let j=v.flatMap(b=>b.getLeafColumns());return y(j)},Ye(e,"debugColumns")),getColumn:v=>s._getAllFlatColumnsById()[v]};Object.assign(s,g);for(let v=0;v<s._features.length;v++){const y=s._features[v];y==null||y.createTable==null||y.createTable(s)}return s}function fie(){return e=>We(()=>[e.options.data],t=>{const a={rows:[],flatRows:[],rowsById:{}},r=function(s,l,c){l===void 0&&(l=0);const d=[];for(let f=0;f<s.length;f++){const h=SN(e,e._getRowId(s[f],f,c),s[f],f,l,void 0,c?.id);if(a.flatRows.push(h),a.rowsById[h.id]=h,d.push(h),e.options.getSubRows){var m;h.originalSubRows=e.options.getSubRows(s[f],f),(m=h.originalSubRows)!=null&&m.length&&(h.subRows=r(h.originalSubRows,l+1,h))}}return d};return a.rows=r(t),a},Ye(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function hie(e){const t=[],a=r=>{var s;t.push(r),(s=r.subRows)!=null&&s.length&&r.getIsExpanded()&&r.subRows.forEach(a)};return e.rows.forEach(a),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function pie(e,t,a){return a.options.filterFromLeafRows?xie(e,t,a):gie(e,t,a)}function xie(e,t,a){var r;const s=[],l={},c=(r=a.options.maxLeafRowFilterDepth)!=null?r:100,d=function(m,f){f===void 0&&(f=0);const h=[];for(let v=0;v<m.length;v++){var g;let y=m[v];const j=SN(a,y.id,y.original,y.index,y.depth,void 0,y.parentId);if(j.columnFilters=y.columnFilters,(g=y.subRows)!=null&&g.length&&f<c){if(j.subRows=d(y.subRows,f+1),y=j,t(y)&&!j.subRows.length){h.push(y),l[y.id]=y,s.push(y);continue}if(t(y)||j.subRows.length){h.push(y),l[y.id]=y,s.push(y);continue}}else y=j,t(y)&&(h.push(y),l[y.id]=y,s.push(y))}return h};return{rows:d(e),flatRows:s,rowsById:l}}function gie(e,t,a){var r;const s=[],l={},c=(r=a.options.maxLeafRowFilterDepth)!=null?r:100,d=function(m,f){f===void 0&&(f=0);const h=[];for(let v=0;v<m.length;v++){let y=m[v];if(t(y)){var g;if((g=y.subRows)!=null&&g.length&&f<c){const b=SN(a,y.id,y.original,y.index,y.depth,void 0,y.parentId);b.subRows=d(y.subRows,f+1),y=b}h.push(y),s.push(y),l[y.id]=y}}return h};return{rows:d(e),flatRows:s,rowsById:l}}function yie(){return e=>We(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,a,r)=>{if(!t.rows.length||!(a!=null&&a.length)&&!r){for(let v=0;v<t.flatRows.length;v++)t.flatRows[v].columnFilters={},t.flatRows[v].columnFiltersMeta={};return t}const s=[],l=[];(a??[]).forEach(v=>{var y;const j=e.getColumn(v.id);if(!j)return;const b=j.getFilterFn();b&&s.push({id:v.id,filterFn:b,resolvedValue:(y=b.resolveFilterValue==null?void 0:b.resolveFilterValue(v.value))!=null?y:v.value})});const c=(a??[]).map(v=>v.id),d=e.getGlobalFilterFn(),m=e.getAllLeafColumns().filter(v=>v.getCanGlobalFilter());r&&d&&m.length&&(c.push("__global__"),m.forEach(v=>{var y;l.push({id:v.id,filterFn:d,resolvedValue:(y=d.resolveFilterValue==null?void 0:d.resolveFilterValue(r))!=null?y:r})}));let f,h;for(let v=0;v<t.flatRows.length;v++){const y=t.flatRows[v];if(y.columnFilters={},s.length)for(let j=0;j<s.length;j++){f=s[j];const b=f.id;y.columnFilters[b]=f.filterFn(y,b,f.resolvedValue,S=>{y.columnFiltersMeta[b]=S})}if(l.length){for(let j=0;j<l.length;j++){h=l[j];const b=h.id;if(h.filterFn(y,b,h.resolvedValue,S=>{y.columnFiltersMeta[b]=S})){y.columnFilters.__global__=!0;break}}y.columnFilters.__global__!==!0&&(y.columnFilters.__global__=!1)}}const g=v=>{for(let y=0;y<c.length;y++)if(v.columnFilters[c[y]]===!1)return!1;return!0};return pie(t.rows,g,e)},Ye(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function vie(e){return t=>We(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(a,r)=>{if(!r.rows.length)return r;const{pageSize:s,pageIndex:l}=a;let{rows:c,flatRows:d,rowsById:m}=r;const f=s*l,h=f+s;c=c.slice(f,h);let g;t.options.paginateExpandedRows?g={rows:c,flatRows:d,rowsById:m}:g=hie({rows:c,flatRows:d,rowsById:m}),g.flatRows=[];const v=y=>{g.flatRows.push(y),y.subRows.length&&y.subRows.forEach(v)};return g.rows.forEach(v),g},Ye(t.options,"debugTable"))}function bie(){return e=>We(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,a)=>{if(!a.rows.length||!(t!=null&&t.length))return a;const r=e.getState().sorting,s=[],l=r.filter(m=>{var f;return(f=e.getColumn(m.id))==null?void 0:f.getCanSort()}),c={};l.forEach(m=>{const f=e.getColumn(m.id);f&&(c[m.id]={sortUndefined:f.columnDef.sortUndefined,invertSorting:f.columnDef.invertSorting,sortingFn:f.getSortingFn()})});const d=m=>{const f=m.map(h=>({...h}));return f.sort((h,g)=>{for(let y=0;y<l.length;y+=1){var v;const j=l[y],b=c[j.id],S=b.sortUndefined,M=(v=j?.desc)!=null?v:!1;let w=0;if(S){const A=h.getValue(j.id),O=g.getValue(j.id),D=A===void 0,k=O===void 0;if(D||k){if(S==="first")return D?-1:1;if(S==="last")return D?1:-1;w=D&&k?0:D?S:-S}}if(w===0&&(w=b.sortingFn(h,g,j.id)),w!==0)return M&&(w*=-1),b.invertSorting&&(w*=-1),w}return h.index-g.index}),f.forEach(h=>{var g;s.push(h),(g=h.subRows)!=null&&g.length&&(h.subRows=d(h.subRows))}),f};return{rows:d(a.rows),flatRows:s,rowsById:a.rowsById}},Ye(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function cD(e,t){return e?jie(e)?x.createElement(e,t):e:null}function jie(e){return Nie(e)||typeof e=="function"||wie(e)}function Nie(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function wie(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function Sie(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[a]=x.useState(()=>({current:mie(t)})),[r,s]=x.useState(()=>a.current.initialState);return a.current.setOptions(l=>({...l,...e,state:{...r,...e.state},onStateChange:c=>{s(c),e.onStateChange==null||e.onStateChange(c)}})),a.current}function hu({data:e=[],columns:t=[],searchPlaceholder:a="Search...",showSearch:r=!0,showExport:s=!1,onExport:l,pageSize:c=10,emptyMessage:d="No data available"}){const[m,f]=x.useState([]),[h,g]=x.useState(""),[v,y]=x.useState({pageIndex:0,pageSize:c}),j=Sie({data:e,columns:t,state:{sorting:m,globalFilter:h,pagination:v},onSortingChange:f,onGlobalFilterChange:g,onPaginationChange:y,getCoreRowModel:fie(),getSortedRowModel:bie(),getFilteredRowModel:yie(),getPaginationRowModel:vie()}),b=j.getPageCount(),S=v.pageIndex+1;return n.jsxs("div",{className:"space-y-4",children:[(r||s)&&n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between",children:[r&&n.jsx("div",{className:"flex-1 max-w-sm",children:n.jsx(Cn,{type:"text",placeholder:a,value:h??"",onChange:M=>g(M.target.value),className:"w-full",inputClassName:"pr-4 py-2 text-sm"})}),s&&l&&n.jsxs(X,{variant:"secondary",onClick:l,children:[n.jsx(Wt,{className:"w-4 h-4"}),"Export CSV"]})]}),n.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200 bg-white",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:j.getHeaderGroups().map(M=>n.jsx("tr",{className:"border-b border-gray-200 bg-gray-50/80",children:M.headers.map(w=>n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:w.isPlaceholder?null:n.jsxs("div",{className:`flex items-center gap-2 ${w.column.getCanSort()?"cursor-pointer select-none hover:text-gray-900":""}`,onClick:w.column.getToggleSortingHandler(),children:[cD(w.column.columnDef.header,w.getContext()),w.column.getCanSort()&&n.jsx("span",{className:"text-gray-400",children:{asc:n.jsx(_5,{className:"w-4 h-4"}),desc:n.jsx(kD,{className:"w-4 h-4"})}[w.column.getIsSorted()]??n.jsx("div",{className:"w-4 h-4 opacity-0 group-hover:opacity-50",children:n.jsx(_5,{className:"w-4 h-4"})})})]})},w.id))},M.id))}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:j.getRowModel().rows.length>0?j.getRowModel().rows.map(M=>n.jsx("tr",{className:"hover:bg-gray-50/50 transition-colors",children:M.getVisibleCells().map(w=>n.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:cD(w.column.columnDef.cell,w.getContext())},w.id))},M.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:t.length,className:"px-4 py-12 text-center text-gray-500",children:d})})})]})}),b>1&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 text-sm",children:[n.jsxs("div",{className:"text-gray-500",children:["Showing"," ",n.jsx("span",{className:"font-medium text-gray-900",children:v.pageIndex*v.pageSize+1})," ","to"," ",n.jsx("span",{className:"font-medium text-gray-900",children:Math.min((v.pageIndex+1)*v.pageSize,e.length)})," ","of ",n.jsx("span",{className:"font-medium text-gray-900",children:e.length})," results"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>j.previousPage(),disabled:!j.getCanPreviousPage(),className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n.jsx(f7,{className:"w-4 h-4"})}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,b)},(M,w)=>{let A;return b<=5||S<=3?A=w+1:S>=b-2?A=b-4+w:A=S-2+w,n.jsx("button",{onClick:()=>j.setPageIndex(A-1),className:`w-8 h-8 rounded-lg text-sm font-medium transition-colors ${S===A?"bg-[hsl(var(--color-primary))] text-white":"hover:bg-gray-100 text-gray-600"}`,children:A},A)})}),n.jsx("button",{onClick:()=>j.nextPage(),disabled:!j.getCanNextPage(),className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n.jsx(p7,{className:"w-4 h-4"})})]})]})]})}function Aie(){const e=Ae(j=>j.getOvertimeStats),t=Ae(j=>j.getPendingApprovalsSummary),a=Ae(j=>j.getExpiringContracts),r=Ae(j=>j.employees),s=Ae(j=>j.payrollSettings),l=x.useMemo(()=>e(),[e]),c=x.useMemo(()=>t(),[t]),d=x.useMemo(()=>a(s?.operationalConfig?.expiryHorizonDays||30),[a,s]),m=s?.operationalConfig?.overtimeWarningHours||40,f=x.useMemo(()=>l.rows.filter(j=>j.hours>m),[l.rows,m]),h=x.useMemo(()=>r.filter(j=>j.employmentStatus==="probation"&&j.probationEndDate).map(j=>{const b=Zr(ue(j.probationEndDate),new Date);return{id:j.id,name:j.name,department:j.department,probationEndDate:j.probationEndDate,daysRemaining:b,status:b<=7?"urgent":b<=30?"upcoming":"normal"}}).filter(j=>j.daysRemaining<=60).sort((j,b)=>j.daysRemaining-b.daysRemaining),[r]),g=[{header:"Employee",accessorKey:"name"},{header:"Department",accessorKey:"department"},{header:"Overtime (hrs)",accessorKey:"hours",cell:({getValue:j})=>n.jsx("span",{className:"font-semibold",children:j()})}],v=[{header:"Employee",accessorKey:"name"},{header:"Department",accessorKey:"department"},{header:"Type",accessorKey:"type"},{header:"Due Date",accessorKey:"dueDate",cell:({getValue:j})=>n.jsx(ge,{variant:"warning",children:q(ue(j()),"MMM d, yyyy")})}],y=[{header:"Employee",accessorKey:"name"},{header:"Department",accessorKey:"department"},{header:"Completion Date",accessorKey:"probationEndDate",cell:({getValue:j})=>q(ue(j()),"MMM d, yyyy")},{header:"Days Remaining",accessorKey:"daysRemaining",cell:({getValue:j,row:b})=>{const S=j(),M=b.original.status;return n.jsxs(ge,{variant:M==="urgent"?"error":M==="upcoming"?"warning":"info",children:[S," days"]})}}];return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Operational Dashboard"}),n.jsx("p",{className:"text-gray-600",children:"Overtime, approvals, and expiring contracts"})]})}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[n.jsxs(K,{title:"Overtime (This Month)",subtitle:"Employees with overtime hours",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3 text-gray-600",children:[n.jsx(Be,{className:"w-5 h-5"}),n.jsxs("span",{children:["Total: ",l.totalHours," hrs"]})]}),f.length>0&&n.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg flex items-start gap-2",children:[n.jsx(Jn,{className:"w-5 h-5 text-yellow-600 shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"font-semibold text-yellow-800",children:[f.length," Overtime Anomal",f.length===1?"y":"ies"," Detected"]}),n.jsxs("p",{className:"text-yellow-700",children:["Employees exceeding ",m," hours/month threshold"]})]})]}),n.jsx(hu,{data:l.rows,columns:g,searchPlaceholder:"Search employees"})]}),n.jsx(K,{title:"Pending Approvals",subtitle:"Requests awaiting action",children:n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[n.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Leaves"}),n.jsx(ge,{variant:"warning",children:c.leaves})]}),n.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Attendance Corrections"}),n.jsx(ge,{variant:"warning",children:c.attendanceCorrections})]}),n.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Promotions"}),n.jsx(ge,{variant:"warning",children:c.promotions})]}),n.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Profile Updates"}),n.jsx(ge,{variant:"warning",children:c.profileUpdates})]}),n.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Selection Board"}),n.jsx(ge,{variant:"warning",children:c.selectionBoard})]})]})})]}),n.jsxs(K,{title:"Probation Completion Tracking",subtitle:"Employees completing probation in next 60 days",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3 text-gray-600",children:[n.jsx(Hv,{className:"w-5 h-5"}),n.jsxs("span",{children:["Total: ",h.length]})]}),h.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Hv,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),n.jsx("p",{children:"No probation completions in next 60 days"})]}):n.jsxs(n.Fragment,{children:[h.filter(j=>j.status==="urgent").length>0&&n.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2",children:[n.jsx(Jn,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"font-semibold text-red-800",children:[h.filter(j=>j.status==="urgent").length," Urgent Probation Completion(s)"]}),n.jsx("p",{className:"text-red-700",children:"Within 7 days - Schedule evaluation and confirmation meeting"})]})]}),n.jsx(hu,{data:h,columns:y,searchPlaceholder:"Search employees"})]})]}),n.jsxs(K,{title:"Upcoming Probation/Contract Expiries",subtitle:`Next ${s?.operationalConfig?.expiryHorizonDays||30} days`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3 text-gray-600",children:[n.jsx(Xe,{className:"w-5 h-5"}),n.jsxs("span",{children:["Total: ",d.length]})]}),n.jsx(hu,{data:d,columns:v,searchPlaceholder:"Search employees"})]})]})}function Cie(){return n.jsx(yi,{children:n.jsxs(Se,{element:n.jsx(U8,{}),children:[n.jsx(Se,{index:!0,element:n.jsx(q8,{})}),n.jsx(Se,{path:"employees",element:n.jsx(f9,{})}),n.jsx(Se,{path:"attendance",element:n.jsx(Cse,{})}),n.jsx(Se,{path:"attendance-list",element:n.jsx(g9,{})}),n.jsx(Se,{path:"leaves",element:n.jsx(y9,{})}),n.jsx(Se,{path:"promotions",element:n.jsx(v9,{})}),n.jsx(Se,{path:"increments",element:n.jsx(bse,{})}),n.jsx(Se,{path:"payroll",element:n.jsx(Sse,{})}),n.jsx(Se,{path:"recruitment",element:n.jsx(Mse,{})}),n.jsx(Se,{path:"operational",element:n.jsx(Aie,{})}),n.jsx(Se,{path:"resignations",element:n.jsx(b9,{})}),n.jsx(Se,{path:"ex-employees",element:n.jsx(use,{})}),n.jsx(Se,{path:"profile-requests",element:n.jsx(Nse,{})}),n.jsx(Se,{path:"analytics",element:n.jsx(mse,{})}),n.jsx(Se,{path:"reports",element:n.jsx(fse,{})}),n.jsx(Se,{path:"policy-advisory",element:n.jsx(xse,{})}),n.jsx(Se,{path:"announcements",element:n.jsx(yse,{})}),n.jsx(Se,{path:"settings",element:n.jsx(vse,{})}),n.jsx(Se,{path:"*",element:n.jsx(ps,{to:".",replace:!0})})]})})}const Mie=[{path:"/dean",label:"Dashboard",icon:$a,end:!0},{path:"/dean/employees",label:"Faculty Staff",icon:en},{path:"/dean/attendance",label:"Attendance",icon:Be},{path:"/dean/leaves",label:"Leave Requests",icon:Xe},{path:"/dean/promotions",label:"Promotions",icon:pu},{path:"/dean/self-service",label:"Manager Self-Service",icon:ys},{path:"/dean/pams",label:"PAMS (HOD)",icon:ys},{path:"/dean/meetings",label:"Committee Meetings",icon:Xr},{path:"/dean/reports",label:"Reports",icon:oi},{path:"/dean/settings",label:"Settings",icon:Tr}];function Die(){return n.jsx(vi,{portalKey:"dean",portalName:"Dean Portal",navItems:Mie})}const dD=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];function Oie(){const e=Ae(w=>w.employees),t=Ae(w=>w.attendance),a=Ae(w=>w.leaves),r=Qe(w=>w.user),s=x.useMemo(()=>e.filter(w=>w.faculty===r.faculty),[e,r.faculty]),l=x.useMemo(()=>new Set(s.map(w=>w.id)),[s]),c=x.useMemo(()=>a.filter(w=>l.has(w.employeeId)),[a,l]),d=s.length,m=s.filter(w=>w.status==="Active").length,f=[...new Set(s.map(w=>w.department))],h=c.filter(w=>w.status==="Pending").length,g=q(new Date,"yyyy-MM-dd"),v=x.useMemo(()=>{const w=t.filter(k=>k.date===g&&l.has(k.employeeId)),A=w.filter(k=>k.status==="Present").length,O=w.filter(k=>k.status==="Absent").length,D=w.filter(k=>k.status==="Late").length;return{present:A,absent:O,late:D,total:w.length}},[t,g,l]),y=x.useMemo(()=>{const w={};return s.forEach(A=>{w[A.department]=(w[A.department]||0)+1}),Object.entries(w).map(([A,O])=>({name:A,value:O}))},[s]),j=x.useMemo(()=>["Mon","Tue","Wed","Thu","Fri"].map(A=>({day:A,present:Math.floor(Math.random()*20)+30,absent:Math.floor(Math.random()*5)+1,late:Math.floor(Math.random()*5)+1})),[]),b=x.useMemo(()=>c.sort((w,A)=>new Date(A.appliedOn)-new Date(w.appliedOn)).slice(0,5).map(w=>({...w,employee:e.find(A=>A.id===w.employeeId)})),[c,e]),S=[{label:"Total Faculty Staff",value:d,icon:en,color:"from-blue-600 to-indigo-600",change:"+2 this month"},{label:"Active Members",value:m,icon:ll,color:"from-emerald-500 to-teal-500",change:`${Math.round(m/d*100)}% active`},{label:"Departments",value:f.length,icon:Xl,color:"from-amber-500 to-orange-500",change:"Under faculty"},{label:"Pending Leaves",value:h,icon:Xe,color:"from-purple-500 to-pink-500",change:"Requires action"}],M=[{label:"View All Staff",icon:en,path:"/dean/employees",color:"bg-blue-500"},{label:"Check Attendance",icon:Be,path:"/dean/attendance",color:"bg-emerald-500"},{label:"Leave Requests",icon:Xe,path:"/dean/leaves",color:"bg-purple-500"},{label:"View Reports",icon:oi,path:"/dean/reports",color:"bg-amber-500"}];return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Faculty Overview"}),n.jsxs("p",{className:"text-gray-500 mt-1",children:["Faculty of ",r.faculty||"Computing & Engineering"]})]}),n.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:n.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-blue-700 font-medium",children:q(new Date,"EEEE, MMMM d, yyyy")})})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:S.map(w=>n.jsxs("div",{className:"glass p-6 rounded-2xl card-hover relative overflow-hidden group",children:[n.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 bg-linear-to-br ${w.color} opacity-10 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110`}),n.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:w.label}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:w.value}),n.jsxs("p",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[n.jsx(gs,{className:"w-3 h-3"}),w.change]})]}),n.jsx("div",{className:`p-3 rounded-xl bg-linear-to-br ${w.color} text-white shadow-lg`,children:n.jsx(w.icon,{className:"w-6 h-6"})})]})]},w.label))}),n.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:M.map(w=>n.jsxs(fn,{to:w.path,className:"glass p-4 rounded-xl card-hover flex items-center gap-3 group",children:[n.jsx("div",{className:`p-2 rounded-lg ${w.color} text-white group-hover:scale-110 transition-transform`,children:n.jsx(w.icon,{className:"w-5 h-5"})}),n.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:w.label})]},w.label))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Department Distribution",subtitle:"Staff distribution across departments",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(sr,{children:[n.jsx(Fa,{data:y,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:3,dataKey:"value",label:({name:w,percent:A})=>`${w} (${(A*100).toFixed(0)}%)`,children:y.map((w,A)=>n.jsx(An,{fill:dD[A%dD.length]},w.name))}),n.jsx(ut,{})]})})})}),n.jsx(K,{title:"Weekly Attendance",subtitle:"Attendance pattern this week",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Mr,{data:j,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"day",tick:{fontSize:12}}),n.jsx(Jt,{tick:{fontSize:12}}),n.jsx(ut,{}),n.jsx(tr,{}),n.jsx(Qn,{dataKey:"present",fill:"#10b981",radius:[4,4,0,0],name:"Present"}),n.jsx(Qn,{dataKey:"late",fill:"#f59e0b",radius:[4,4,0,0],name:"Late"}),n.jsx(Qn,{dataKey:"absent",fill:"#ef4444",radius:[4,4,0,0],name:"Absent"})]})})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(K,{title:"Today's Attendance",subtitle:q(new Date,"MMMM d, yyyy"),children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-4 rounded-xl bg-emerald-50 border border-emerald-100",children:[n.jsx(Le,{className:"w-8 h-8 text-emerald-600 mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-emerald-700",children:v.present}),n.jsx("p",{className:"text-xs text-emerald-600",children:"Present"})]}),n.jsxs("div",{className:"text-center p-4 rounded-xl bg-amber-50 border border-amber-100",children:[n.jsx(Be,{className:"w-8 h-8 text-amber-600 mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-amber-700",children:v.late}),n.jsx("p",{className:"text-xs text-amber-600",children:"Late"})]}),n.jsxs("div",{className:"text-center p-4 rounded-xl bg-red-50 border border-red-100",children:[n.jsx(Tt,{className:"w-8 h-8 text-red-600 mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-red-700",children:v.absent}),n.jsx("p",{className:"text-xs text-red-600",children:"Absent"})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Attendance Rate"}),n.jsx("span",{className:"font-semibold text-gray-900",children:v.total>0?`${Math.round(v.present/d*100)}%`:"N/A"})]}),n.jsx("div",{className:"mt-2 w-full h-2 rounded-full bg-gray-100 overflow-hidden",children:n.jsx("div",{className:"h-full bg-linear-to-r from-emerald-500 to-teal-500 rounded-full transition-all",style:{width:`${v.present/d*100}%`}})})]})]}),n.jsx(K,{title:"Recent Leave Requests",subtitle:"Latest requests from faculty",actions:n.jsx(fn,{to:"/dean/leaves",children:n.jsx(X,{variant:"ghost",size:"sm",children:"View All"})}),children:n.jsx("div",{className:"space-y-3",children:b.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx(Xe,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No leave requests"})]}):b.map(w=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-linear-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold text-sm",children:w.employee?.name?.charAt(0)||"?"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.employee?.name||"Unknown"}),n.jsxs("p",{className:"text-xs text-gray-500",children:[w.type," "," ",w.startDate?q(ue(w.startDate),"MMM d"):"N/A"," -"," ",w.endDate?q(ue(w.endDate),"MMM d"):"N/A"]})]})]}),n.jsx(ge,{variant:w.status==="Approved"?"success":w.status==="Rejected"?"danger":"warning",children:w.status})]},w.id))})})]})]})}function Eie(){const e=Ae(s=>s.employees),t=Qe(s=>s.user),a=e.filter(s=>s.faculty===t.faculty),r=()=>{const s=Ss.unparse(a),l=new Blob([s],{type:"text/csv"}),c=URL.createObjectURL(l),d=document.createElement("a");d.href=c,d.download=`faculty_${t.faculty}_employees.csv`,d.click()};return n.jsx(K,{title:`Faculty Staff: ${t.faculty}`,subtitle:"View staff records for your faculty",actions:n.jsxs(X,{variant:"outline",onClick:r,children:[n.jsx(Wt,{className:"w-4 h-4"})," Export CSV"]}),children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Code"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Designation"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:a.map(s=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:s.code}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:s.name}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:s.department}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:s.designation}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsx(ge,{variant:s.status==="Active"?"success":"default",children:s.status})})]},s.id))})]})})})}function kie(){const e=Ae(A=>A.employees),t=Ae(A=>A.attendance),a=Qe(A=>A.user),[r,s]=x.useState(q(new Date,"yyyy-MM-dd")),[l,c]=x.useState(""),[d,m]=x.useState("all"),[f,h]=x.useState("daily"),g=x.useMemo(()=>e.filter(A=>A.faculty===a.faculty),[e,a.faculty]),v=x.useMemo(()=>new Set(g.map(A=>A.id)),[g]),y=x.useMemo(()=>[...new Set(g.map(A=>A.department))].sort(),[g]),j=x.useMemo(()=>g.filter(A=>{const O=A.name.toLowerCase().includes(l.toLowerCase())||A.code.toLowerCase().includes(l.toLowerCase()),D=d==="all"||A.department===d;return O&&D}).map(A=>{const O=t.find(D=>D.employeeId===A.id&&D.date===r);return{...A,attendance:O||null}}),[g,t,r,l,d]),b=x.useMemo(()=>{const A=t.filter(O=>O.date===r&&v.has(O.employeeId));return{total:g.length,present:A.filter(O=>O.status==="Present").length,absent:A.filter(O=>O.status==="Absent").length,late:A.filter(O=>O.status==="Late").length,leave:A.filter(O=>O.status==="Leave").length}},[t,r,g,v]),S=x.useMemo(()=>Array.from({length:7},(O,D)=>{const k=nt(new Date,6-D),_=q(k,"yyyy-MM-dd"),E=t.filter(P=>P.date===_&&v.has(P.employeeId));return{date:q(k,"EEE"),present:E.filter(P=>P.status==="Present").length,absent:E.filter(P=>P.status==="Absent").length,late:E.filter(P=>P.status==="Late").length}}),[t,v]),M=()=>{const A=j.map(E=>({Code:E.code,Name:E.name,Department:E.department,Date:r,Status:E.attendance?.status||"No Record",CheckIn:E.attendance?.checkIn||"-",CheckOut:E.attendance?.checkOut||"-"})),O=Ss.unparse(A),D=new Blob([O],{type:"text/csv"}),k=URL.createObjectURL(D),_=document.createElement("a");_.href=k,_.download=`faculty_attendance_${r}.csv`,_.click()},w=A=>{switch(A){case"Present":return n.jsx(ge,{variant:"success",children:A});case"Absent":return n.jsx(ge,{variant:"danger",children:A});case"Late":return n.jsx(ge,{variant:"warning",children:A});case"Leave":return n.jsx(ge,{variant:"info",children:A});default:return n.jsx(ge,{variant:"default",children:"No Record"})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Faculty Attendance"}),n.jsxs("p",{className:"text-gray-500 mt-1",children:["Track attendance for ",a.faculty]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"date",value:r,onChange:A=>s(A.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsxs(X,{variant:"outline",onClick:M,children:[n.jsx(Wt,{className:"w-4 h-4"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"glass p-4 rounded-xl text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.total}),n.jsx("p",{className:"text-xs text-gray-500",children:"Total Staff"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-emerald-500",children:[n.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:b.present}),n.jsx("p",{className:"text-xs text-gray-500",children:"Present"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-red-500",children:[n.jsx("p",{className:"text-2xl font-bold text-red-600",children:b.absent}),n.jsx("p",{className:"text-xs text-gray-500",children:"Absent"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-amber-500",children:[n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:b.late}),n.jsx("p",{className:"text-xs text-gray-500",children:"Late"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-blue-500",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:b.leave}),n.jsx("p",{className:"text-xs text-gray-500",children:"On Leave"})]})]}),n.jsx(K,{title:"Weekly Attendance Trend",subtitle:"Last 7 days overview",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(vo,{data:S,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"date",tick:{fontSize:12}}),n.jsx(Jt,{tick:{fontSize:12}}),n.jsx(ut,{}),n.jsx(za,{type:"monotone",dataKey:"present",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Present"}),n.jsx(za,{type:"monotone",dataKey:"late",stackId:"1",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.6,name:"Late"}),n.jsx(za,{type:"monotone",dataKey:"absent",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Absent"})]})})})}),n.jsxs(K,{children:[n.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row gap-3",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Cn,{type:"text",placeholder:"Search by name or code...",value:l,onChange:A=>c(A.target.value),className:"w-full",inputClassName:"pr-4 py-2 text-sm"})}),n.jsxs("select",{value:d,onChange:A=>m(A.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Departments"}),y.map(A=>n.jsx("option",{value:A,children:A},A))]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50",children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Employee"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Department"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Check In"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Check Out"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Work Hours"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:j.map(A=>{const O=A.attendance?.checkIn,D=A.attendance?.checkOut;let k="-";if(O&&D){const[_,E]=O.split(":").map(Number),[P,z]=D.split(":").map(Number),L=P*60+z-(_*60+E),I=Math.floor(L/60),J=L%60;k=`${I}h ${J}m`}return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-linear-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold text-xs",children:A.name.charAt(0)}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.name}),n.jsx("p",{className:"text-xs text-gray-500",children:A.code})]})]})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:A.department}),n.jsx("td",{className:"px-4 py-3",children:w(A.attendance?.status)}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:O||"-"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:D||"-"}),n.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:k})]},A.id)})})]})}),j.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Be,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No attendance records found"})]})]})]})}const Pie=[{id:"all",label:"All Requests"},{id:"pending",label:"Pending"},{id:"approved",label:"Approved"},{id:"rejected",label:"Rejected"}];function Rie(){const e=Ae(U=>U.employees),t=Ae(U=>U.leaves),a=Ae(U=>U.updateLeaveStatus),r=Qe(U=>U.user),[s,l]=x.useState("pending"),[c,d]=x.useState(""),[m,f]=x.useState("all"),[h,g]=x.useState(null),[v,y]=x.useState(!1),[j,b]=x.useState(null),[S,M]=x.useState(""),[w,A]=x.useState(0),[O,D]=x.useState(0),[k,_]=x.useState(""),E=x.useMemo(()=>e.filter(U=>U.faculty===r.faculty),[e,r.faculty]),P=x.useMemo(()=>new Set(E.map(U=>U.id)),[E]),z=x.useMemo(()=>t.filter(U=>P.has(U.employeeId)).map(U=>({...U,employee:e.find(F=>F.id===U.employeeId),days:U.days||(U.startDate&&U.endDate?Zr(ue(U.endDate),ue(U.startDate))+1:0)})).sort((U,F)=>new Date(F.appliedOn)-new Date(U.appliedOn)),[t,e,P]),L=x.useMemo(()=>[...new Set(z.map(U=>U.type))].sort(),[z]),I=x.useMemo(()=>z.filter(U=>{if(s!=="all"&&U.status.toLowerCase()!==s)return!1;if(c){const F=c.toLowerCase(),W=U.employee?.name?.toLowerCase().includes(F),ne=U.employee?.code?.toLowerCase().includes(F);if(!W&&!ne)return!1}return!(m!=="all"&&U.type!==m)}),[z,s,c,m]),J=x.useMemo(()=>({total:z.length,pending:z.filter(U=>U.status==="Pending").length,approved:z.filter(U=>U.status==="Approved").length,rejected:z.filter(U=>U.status==="Rejected").length}),[z]),T=(U,F)=>{g(U),b(F),M(""),A(U.paidDays??U.days??0),D(U.unpaidDays??0),_(""),y(!0)},Y=()=>{if(!(!h||!j)){if(j==="approve"){const U=Number(w)||0,F=Number(O)||0,W=U+F,ne=h.days||0;if(W!==ne){_(`Days don't match: ${U} + ${F} = ${W}, but leave is ${ne} days`);return}_("")}j==="approve"?a(h.id,"Approved","dean",r.name,S,{paidDays:Number(w)||0,unpaidDays:Number(O)||0}):a(h.id,"Rejected","dean",r.name,S),y(!1),g(null),b(null),M(""),A(0),D(0),_("")}},V=U=>{switch(U){case"Approved":return n.jsx(ge,{variant:"success",children:U});case"Rejected":return n.jsx(ge,{variant:"danger",children:U});case"Pending":return n.jsx(ge,{variant:"warning",children:U});default:return n.jsx(ge,{variant:"default",children:U})}},B=U=>{const F={Annual:"bg-blue-100 text-blue-700",Sick:"bg-red-100 text-red-700",Casual:"bg-purple-100 text-purple-700",Maternity:"bg-pink-100 text-pink-700",Paternity:"bg-cyan-100 text-cyan-700",Unpaid:"bg-gray-100 text-gray-700"};return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F[U]||"bg-gray-100 text-gray-700"}`,children:U})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Faculty Leave Requests"}),n.jsxs("p",{className:"text-gray-500 mt-1",children:["Manage leave requests for ",r.faculty]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-gray-100",children:n.jsx(Xe,{className:"w-5 h-5 text-gray-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:J.total}),n.jsx("p",{className:"text-xs text-gray-500",children:"Total Requests"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-amber-100",children:n.jsx(Be,{className:"w-5 h-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:J.pending}),n.jsx("p",{className:"text-xs text-gray-500",children:"Pending"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:n.jsx(Le,{className:"w-5 h-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:J.approved}),n.jsx("p",{className:"text-xs text-gray-500",children:"Approved"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:n.jsx(Tt,{className:"w-5 h-5 text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-red-600",children:J.rejected}),n.jsx("p",{className:"text-xs text-gray-500",children:"Rejected"})]})]})})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Pie.map(U=>n.jsxs("button",{onClick:()=>l(U.id),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${s===U.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[U.label,U.id==="pending"&&J.pending>0&&n.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-white/20 rounded text-xs",children:J.pending})]},U.id))}),n.jsxs(K,{children:[n.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row gap-3",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Cn,{type:"text",placeholder:"Search by employee name or code...",value:c,onChange:U=>d(U.target.value),className:"w-full",inputClassName:"pr-4 py-2 text-sm"})}),n.jsxs("select",{value:m,onChange:U=>f(U.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Leave Types"}),L.map(U=>n.jsx("option",{value:U,children:U},U))]})]}),n.jsx("div",{className:"space-y-4",children:I.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Xe,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No leave requests found"})]}):I.map(U=>n.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl hover:border-gray-200 transition-all",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold",children:U.employee?.name?.charAt(0)||"?"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:U.employee?.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:[U.employee?.code,"  ",U.employee?.department]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsx("div",{className:"text-sm",children:B(U.type)}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:U.startDate?q(ue(U.startDate),"MMM d"):"N/A"}),n.jsx("span",{className:"mx-1",children:""}),n.jsx("span",{className:"font-medium",children:U.endDate?q(ue(U.endDate),"MMM d, yyyy"):"N/A"}),n.jsxs("span",{className:"text-gray-400 ml-2",children:["(",U.days," day",U.days>1?"s":"",")"]})]}),V(U.status)]}),U.status==="Pending"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>T(U,"approve"),className:"text-emerald-600 border-emerald-200 hover:bg-emerald-50",children:[n.jsx(Le,{className:"w-4 h-4"}),"Approve"]}),n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>T(U,"reject"),className:"text-red-600 border-red-200 hover:bg-red-50",children:[n.jsx(Tt,{className:"w-4 h-4"}),"Reject"]})]})]}),U.reason&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Reason: "}),U.reason]})}),U.reviewedBy&&n.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 flex items-center gap-2 text-xs text-gray-500",children:[n.jsx($u,{className:"w-4 h-4"}),n.jsxs("span",{children:[U.status," by ",U.reviewedBy,U.reviewedOn&&` on ${q(ue(U.reviewedOn),"MMM d, yyyy")}`]}),U.comments&&n.jsxs(n.Fragment,{children:[n.jsx(cj,{className:"w-4 h-4 ml-2"}),n.jsxs("span",{children:['"',U.comments,'"']})]})]})]},U.id))})]}),n.jsx(vt,{isOpen:v,onClose:()=>y(!1),title:`${j==="approve"?"Approve":"Reject"} Leave Request`,children:h&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-linear-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold",children:h.employee?.name?.charAt(0)}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:h.employee?.name}),n.jsx("p",{className:"text-sm text-gray-500",children:h.employee?.department})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Type:"}),n.jsx("span",{className:"ml-2 font-medium",children:h.type})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Duration:"}),n.jsxs("span",{className:"ml-2 font-medium",children:[h.days," day(s)"]})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("span",{className:"text-gray-500",children:"Period:"}),n.jsxs("span",{className:"ml-2 font-medium",children:[h.startDate?q(ue(h.startDate),"MMM d"):"N/A"," ","-"," ",h.endDate?q(ue(h.endDate),"MMM d, yyyy"):"N/A"]})]})]})]}),h.documents&&h.documents.length>0&&n.jsxs("div",{className:"space-y-3 bg-slate-50 border border-slate-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Cr,{className:"w-5 h-5 text-slate-600"}),n.jsx("p",{className:"font-semibold text-slate-900",children:"Supporting Documents"})]}),n.jsx("div",{className:"space-y-2",children:h.documents.map((U,F)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-slate-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Cr,{className:"w-5 h-5 text-slate-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-900",children:U.name}),n.jsxs("p",{className:"text-xs text-slate-500",children:[(U.size/1024).toFixed(1)," KB  Uploaded"," ",U.uploadedAt?q(ue(U.uploadedAt),"MMM d, yyyy"):"N/A"]})]})]}),n.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>{const W=document.createElement("a");W.href=U.file,W.download=U.name,document.body.appendChild(W),W.click(),document.body.removeChild(W)},className:"text-blue-600 hover:text-blue-700",children:[n.jsx(Wt,{className:"w-4 h-4"}),"Download"]})]},U.id||F))})]}),j==="approve"&&h.type==="Medical"&&n.jsxs("div",{className:"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-blue-900 mb-3",children:" Medical Leave - Classify Days as Paid or Unpaid"}),n.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Based on submitted medical documentation, classify the leave days:"}),n.jsxs("p",{className:"text-sm text-blue-700 mb-4",children:["Total days to classify: ",n.jsx("span",{className:"font-bold",children:h.days})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Paid Days"}),n.jsx("input",{type:"number",min:0,max:h.days,value:w,onChange:U=>{const F=Number(U.target.value)||0;A(F),_("")},className:"w-full px-3 py-2 border border-green-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 bg-white font-semibold text-green-700",placeholder:"0"}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Employee receives full pay"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unpaid Days"}),n.jsx("input",{type:"number",min:0,max:h.days,value:O,onChange:U=>{const F=Number(U.target.value)||0;D(F),_("")},className:"w-full px-3 py-2 border border-amber-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-500 bg-white font-semibold text-amber-700",placeholder:"0"}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Employee receives no pay"})]})]}),(()=>{const U=Number(w)||0,F=Number(O)||0,W=U+F,ne=h.days-W,je=W===h.days,H=W>h.days;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`flex gap-3 p-4 rounded-lg border-2 transition-all ${je?"bg-green-50 border-green-300":H?"bg-red-50 border-red-300":"bg-yellow-50 border-yellow-300"}`,children:[n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:U}),n.jsx("p",{className:"text-xs text-green-700 font-medium",children:"PAID"})]}),n.jsx("div",{className:"text-center text-3xl text-gray-400 font-bold",children:"+"}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:F}),n.jsx("p",{className:"text-xs text-amber-700 font-medium",children:"UNPAID"})]}),n.jsx("div",{className:"text-center text-3xl text-gray-400 font-bold",children:"="}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:`text-2xl font-bold ${je?"text-green-600":H?"text-red-600":"text-gray-600"}`,children:W}),n.jsxs("p",{className:"text-xs text-gray-700 font-medium",children:["of ",h.days]})]})]}),ne>0&&n.jsxs("div",{className:"text-sm text-amber-700 bg-amber-50 p-3 rounded border border-amber-200",children:[" You have ",n.jsx("span",{className:"font-bold",children:ne})," more day",ne>1?"s":""," to classify"]}),H&&n.jsxs("div",{className:"text-sm text-red-700 bg-red-50 p-3 rounded border border-red-200",children:[" Total days exceed leave duration by"," ",n.jsx("span",{className:"font-bold",children:Math.abs(ne)})," day",Math.abs(ne)>1?"s":""]}),je&&n.jsx("div",{className:"text-sm text-green-700 bg-green-50 p-3 rounded border border-green-200",children:" Perfect! Days are correctly classified and ready for approval"})]})})(),k&&n.jsxs("p",{className:"text-sm text-red-600 bg-red-50 p-2 rounded border border-red-200",children:[" ",k]})]}),j==="approve"&&h.type!=="Medical"&&n.jsx("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:n.jsx("p",{className:"text-sm text-amber-900",children:" This is a standard leave request. No day classification required."})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comment (Optional)"}),n.jsx("textarea",{value:S,onChange:U=>M(U.target.value),placeholder:j==="approve"?"Add any notes...":"Reason for rejection...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(X,{variant:"ghost",onClick:()=>y(!1),children:"Cancel"}),n.jsx(X,{variant:j==="approve"?"primary":"danger",onClick:Y,children:j==="approve"?"Approve Request":"Reject Request"})]})]})})]})}function _ie(){const e=Qe(L=>L.user),{promotions:t,updatePromotionStatus:a}=Ae(),[r,s]=x.useState("pending"),[l,c]=x.useState(""),[d,m]=x.useState("all"),[f,h]=x.useState(null),[g,v]=x.useState(!1),[y,j]=x.useState(""),[b,S]=x.useState("10:00"),[M,w]=x.useState(""),[A,O]=x.useState(""),D=x.useMemo(()=>t.filter(L=>{if(r==="pending"&&L.status!=="Pending"||r==="review"&&L.status!=="Under Review"||r==="completed"&&!["Approved","Rejected"].includes(L.status))return!1;if(l){const I=l.toLowerCase();if(!L.employeeName?.toLowerCase().includes(I)&&!L.department?.toLowerCase().includes(I))return!1}return!(d!=="all"&&L.department!==d)}),[t,r,l,d]),k=L=>{h(L),v(!0),j(q(new Date,"yyyy-MM-dd")),S("10:00"),w(""),O(`Promotion Committee Meeting for ${L.employeeName}

Promotion Request:
From: ${L.currentDesignation}
To: ${L.requestedDesignation}

Reason: ${L.reason}`)},_=async()=>{if(!f||!y||!M){alert("Please fill in all required fields");return}try{a(f.id,"Under Review",{type:"committee",meetingDate:`${y} ${b}`,notes:A,scheduledBy:e?.name,date:q(new Date,"yyyy-MM-dd")}),await TD({title:`Promotion Committee Meeting - ${f.employeeName}`,date:y,time:b,location:M,agenda:A,convener:e?.name||"Dean"},e?.email),alert("Committee meeting scheduled successfully! Notifications sent to all employees."),v(!1),h(null)}catch(L){console.error("Failed to schedule meeting:",L),alert("Failed to schedule meeting. Please try again.")}},E=L=>{const I={Pending:"warning","Under Review":"info",Approved:"success",Rejected:"error"};return n.jsx(ge,{variant:I[L]||"default",children:L})},P=Object.values(fs).flat(),z={pending:t.filter(L=>L.status==="Pending").length,underReview:t.filter(L=>L.status==="Under Review").length,approved:t.filter(L=>L.status==="Approved").length,rejected:t.filter(L=>L.status==="Rejected").length};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Promotion Requests"}),n.jsx("p",{className:"text-gray-600",children:"Review promotion requests and schedule committee meetings as Dean/Convener"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Pending",value:z.pending,color:"amber",icon:Be},{label:"Under Review",value:z.underReview,color:"blue",icon:ms},{label:"Approved",value:z.approved,color:"green",icon:Le},{label:"Rejected",value:z.rejected,color:"red",icon:Tt}].map(L=>n.jsx(K,{className:`bg-${L.color}-50 border-${L.color}-100`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm text-${L.color}-600`,children:L.label}),n.jsx("p",{className:`text-2xl font-bold text-${L.color}-700`,children:L.value})]}),n.jsx(L.icon,{className:`w-8 h-8 text-${L.color}-400`})]})},L.label))}),n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsx(ca,{value:r,onValueChange:s,children:n.jsxs(da,{children:[n.jsxs(He,{value:"pending",children:["Pending (",z.pending,")"]}),n.jsxs(He,{value:"review",children:["Under Review (",z.underReview,")"]}),n.jsxs(He,{value:"completed",children:["Completed (",z.approved+z.rejected,")"]})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsx(Cn,{type:"text",placeholder:"Search employees...",value:l,onChange:L=>c(L.target.value),className:"w-full sm:w-64",inputClassName:"pr-4 py-2 text-sm"}),n.jsxs("select",{value:d,onChange:L=>m(L.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Departments"}),P.map(L=>n.jsx("option",{value:L,children:L},L))]})]})]}),n.jsx(K,{className:"bg-blue-50 border-blue-200",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ms,{className:"w-6 h-6 text-blue-600 shrink-0 mt-1"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-blue-900",children:"Dean Role - Committee Convener"}),n.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"As the Dean, you are authorized to schedule committee meetings for promotion reviews. When you schedule a meeting, all employees will be notified automatically."})]})]})}),n.jsx(K,{children:D.length===0?n.jsxs("div",{children:[n.jsx(Fu,{icon:uj,title:"No Promotions Found",description:r==="pending"?"No pending promotion requests":r==="review"?"No promotions under review":"No completed promotions"}),n.jsxs("div",{className:"mt-4 p-2 bg-yellow-100 text-yellow-800 rounded text-xs",children:["Debug: promotions array length: ",t.length,", filteredPromotions:"," ",D.length]})]}):n.jsx("div",{className:"space-y-4",children:D.map(L=>n.jsxs("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold",children:L.employeeName?.charAt(0)||"?"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:L.employeeName}),n.jsxs("p",{className:"text-sm text-gray-500",children:[L.department,"  ",L.faculty]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-indigo-600",children:[n.jsx("span",{children:L.currentDesignation}),n.jsx(pu,{className:"w-4 h-4"}),n.jsx("span",{className:"font-medium",children:L.requestedDesignation})]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:[n.jsx(Xe,{className:"w-4 h-4 inline mr-1"}),q(ue(L.appliedOn),"MMM d, yyyy")]}),n.jsxs("div",{className:"text-sm text-gray-500",children:[L.yearsInService," years service"]}),E(L.status)]}),L.status==="Pending"&&n.jsxs(X,{size:"sm",onClick:()=>k(L),className:"gap-1 bg-indigo-600 hover:bg-indigo-700",children:[n.jsx(ms,{className:"w-4 h-4"}),"Schedule Committee Meeting"]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Reason for Promotion:"}),n.jsx("p",{className:"text-sm text-gray-600",children:L.reason}),L.documents?.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:L.documents.map((I,J)=>n.jsxs("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs text-gray-600",children:[" ",I]},J))})]}),L.committeeReview&&n.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Committee Meeting Scheduled"}),n.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Date: ",L.committeeReview.meetingDate,"  Scheduled by:"," ",L.committeeReview.scheduledBy]}),L.committeeReview.notes&&n.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Agenda: ",L.committeeReview.notes]})]})]},L.id))})}),n.jsx(vt,{isOpen:g,onClose:()=>v(!1),title:"Schedule Committee Meeting",children:f&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"font-medium",children:f.employeeName}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[f.currentDesignation,"  ",f.requestedDesignation]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Meeting Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",value:y,onChange:L=>j(L.target.value),min:q(new Date,"yyyy-MM-dd"),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Time ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"time",value:b,onChange:L=>S(L.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Location ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:M,onChange:L=>w(L.target.value),placeholder:"e.g., Conference Room A, Admin Building",className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meeting Agenda"}),n.jsx("textarea",{value:A,onChange:L=>O(L.target.value),rows:6,placeholder:"Meeting agenda and discussion points...",className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})]}),n.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:n.jsx("p",{className:"text-sm text-blue-800",children:" All employees will be notified about this committee meeting via email."})}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),n.jsx(X,{onClick:_,className:"bg-indigo-600 hover:bg-indigo-700",children:"Schedule Meeting & Notify All"})]})]})})]})}function Tie(){const e=Qe(j=>j.user),[t,a]=x.useState(!1),[r,s]=x.useState([]),{register:l,handleSubmit:c,reset:d,formState:{errors:m,isSubmitting:f}}=Tc({defaultValues:{title:"",date:q(new Date,"yyyy-MM-dd"),time:"10:00",location:"",agenda:""}}),h=["registrar@cecos.edu.pk","vp@cecos.edu.pk","vc@cecos.edu.pk","president@cecos.edu.pk","manager-hr@cecos.edu.pk"],g=async j=>{try{const b={id:`m-${Date.now()}`,...j,convener:e?.name||"Dean",createdBy:e?.email,createdAt:q(new Date,"yyyy-MM-dd HH:mm"),status:"Scheduled",attendees:h};s([b,...r]),await TD({title:j.title,date:j.date,time:j.time,location:j.location,agenda:j.agenda,convener:e?.name||"Dean",attendees:h},e?.email),alert("Meeting scheduled successfully! Notifications sent to all employees."),v()}catch(b){console.error("Failed to schedule meeting:",b),alert("Failed to schedule meeting. Please try again.")}},v=()=>{a(!1),d()},y=j=>{confirm("Are you sure you want to delete this meeting?")&&s(r.filter(b=>b.id!==j))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Committee Meetings"}),n.jsx("p",{className:"text-gray-600",children:"Schedule and manage committee meetings as Dean/Convener"})]}),n.jsxs(X,{onClick:()=>a(!0),className:"gap-2",children:[n.jsx(ci,{className:"w-4 h-4"}),"Schedule Meeting"]})]}),n.jsx(K,{children:r.length===0?n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(Xe,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No meetings scheduled yet"}),n.jsxs("div",{className:"mt-4 p-2 bg-yellow-100 text-yellow-800 rounded text-xs",children:["Debug: meetings array length: ",r.length]})]}):n.jsx("div",{className:"space-y-4",children:r.map(j=>n.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:j.title}),n.jsx(ge,{variant:"success",children:j.status})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-3 text-sm text-gray-600 mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xe,{className:"w-4 h-4"}),n.jsx("span",{children:q(new Date(j.date),"MMMM d, yyyy")})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Be,{className:"w-4 h-4"}),n.jsx("span",{children:j.time})]}),n.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[n.jsx(U7,{className:"w-4 h-4"}),n.jsx("span",{children:j.location})]})]}),n.jsxs("div",{className:"bg-gray-50 p-3 rounded mb-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Agenda:"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:j.agenda})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[n.jsxs("span",{children:["Convener: ",j.convener]}),n.jsxs("span",{children:["Attendees: ",j.attendees.length," members"]})]})]}),n.jsx(X,{size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-700 ml-2",onClick:()=>y(j.id),children:n.jsx(bp,{className:"w-4 h-4"})})]})},j.id))})}),n.jsx(vt,{isOpen:t,onClose:v,title:"Schedule Committee Meeting",size:"lg",children:n.jsxs("form",{onSubmit:c(g),className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Meeting Title ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",...l("title",{required:"Meeting title is required"}),placeholder:"e.g., Academic Committee Meeting",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),m.title&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.title.message})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",...l("date",{required:"Date is required"}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),m.date&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.date.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Time ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"time",...l("time",{required:"Time is required"}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),m.time&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.time.message})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",...l("location",{required:"Location is required"}),placeholder:"e.g., Board Room, Main Campus",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),m.location&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.location.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Agenda ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{...l("agenda",{required:"Agenda is required",minLength:{value:10,message:"Agenda must be at least 10 characters"}}),rows:4,placeholder:"Describe the meeting agenda and topics to be discussed...",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),m.agenda&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.agenda.message})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[n.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Committee Members to be Notified:"}),n.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[n.jsx("li",{children:" Registrar"}),n.jsx("li",{children:" Vice President"}),n.jsx("li",{children:" Vice Chancellor"}),n.jsx("li",{children:" President"}),n.jsx("li",{children:" Manager HR"})]}),n.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Email notifications will be sent to all committee members automatically."})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{type:"button",variant:"outline",onClick:v,disabled:f,children:"Cancel"}),n.jsx(X,{type:"submit",disabled:f,children:f?"Scheduling...":"Schedule Meeting"})]})]})})]})}const mc=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"],Lie=[{id:"overview",label:"Overview",icon:oi},{id:"attendance",label:"Attendance Report",icon:Be},{id:"leaves",label:"Leave Report",icon:Xe},{id:"department",label:"Department Analysis",icon:Xl}];function Iie(){const e=Ae(w=>w.employees),t=Ae(w=>w.attendance),a=Ae(w=>w.leaves),r=Qe(w=>w.user),[s,l]=x.useState("overview"),[c,d]=x.useState({from:q(La(new Date),"yyyy-MM-dd"),to:q(Ia(new Date),"yyyy-MM-dd")}),m=x.useMemo(()=>e.filter(w=>w.faculty===r.faculty),[e,r.faculty]),f=x.useMemo(()=>new Set(m.map(w=>w.id)),[m]),h=x.useMemo(()=>t.filter(w=>f.has(w.employeeId)),[t,f]),g=x.useMemo(()=>a.filter(w=>f.has(w.employeeId)),[a,f]),v=x.useMemo(()=>{const w={};return m.forEach(A=>{w[A.department]=(w[A.department]||0)+1}),Object.entries(w).map(([A,O])=>({name:A,value:O}))},[m]),y=x.useMemo(()=>{const w=[];for(let A=5;A>=0;A--){const O=io(new Date,A),D=q(O,"MMM yyyy"),k=h.filter(z=>{const L=ue(z.date);return q(L,"MMM yyyy")===D}),_=k.filter(z=>z.status==="Present").length,E=k.filter(z=>z.status==="Absent").length,P=k.filter(z=>z.status==="Late").length;w.push({month:q(O,"MMM"),present:_,absent:E,late:P,rate:k.length>0?Math.round(_/(_+E+P)*100):0})}return w},[h]),j=x.useMemo(()=>{const w={};return g.forEach(A=>{w[A.type]=(w[A.type]||0)+1}),Object.entries(w).map(([A,O])=>({name:A,value:O}))},[g]),b=x.useMemo(()=>({pending:g.filter(w=>w.status==="Pending").length,approved:g.filter(w=>w.status==="Approved").length,rejected:g.filter(w=>w.status==="Rejected").length}),[g]),S=x.useMemo(()=>{const w={};return m.forEach(A=>{w[A.department]||(w[A.department]={total:0,present:0,employees:0}),w[A.department].employees++}),h.forEach(A=>{const O=e.find(D=>D.id===A.employeeId);O&&w[O.department]&&(w[O.department].total++,(A.status==="Present"||A.status==="Late")&&w[O.department].present++)}),Object.entries(w).map(([A,O])=>({name:A,employees:O.employees,rate:O.total>0?Math.round(O.present/O.total*100):0}))},[m,h,e]),M=w=>{let A=[],O="";switch(w){case"attendance":A=h.map(P=>({Employee:e.find(z=>z.id===P.employeeId)?.name||"Unknown",Date:P.date,Status:P.status,CheckIn:P.checkIn||"-",CheckOut:P.checkOut||"-"})),O="faculty_attendance_report";break;case"leaves":A=g.map(P=>({Employee:e.find(z=>z.id===P.employeeId)?.name||"Unknown",Type:P.type,From:P.from,To:P.to,Status:P.status,Reason:P.reason||"-"})),O="faculty_leaves_report";break;case"department":A=S.map(P=>({Department:P.name,Employees:P.employees,AttendanceRate:`${P.rate}%`})),O="department_report";break;default:A=m.map(P=>({Code:P.code,Name:P.name,Department:P.department,Designation:P.designation,Status:P.status})),O="faculty_employees_report"}const D=Ss.unparse(A),k=new Blob([D],{type:"text/csv"}),_=URL.createObjectURL(k),E=document.createElement("a");E.href=_,E.download=`${O}_${q(new Date,"yyyy-MM-dd")}.csv`,E.click()};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Faculty Reports"}),n.jsxs("p",{className:"text-gray-500 mt-1",children:["Analytics and reports for ",r.faculty]})]}),n.jsxs(X,{variant:"outline",onClick:()=>M(s),children:[n.jsx(Wt,{className:"w-4 h-4"}),"Export Report"]})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Lie.map(w=>n.jsxs("button",{onClick:()=>l(w.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${s===w.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[n.jsx(w.icon,{className:"w-4 h-4"}),w.label]},w.id))}),s==="overview"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:n.jsx(en,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.length}),n.jsx("p",{className:"text-xs text-gray-500",children:"Total Staff"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:n.jsx(Xl,{className:"w-5 h-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.length}),n.jsx("p",{className:"text-xs text-gray-500",children:"Departments"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-amber-100",children:n.jsx(Xe,{className:"w-5 h-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.pending}),n.jsx("p",{className:"text-xs text-gray-500",children:"Pending Leaves"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-purple-100",children:n.jsx(Be,{className:"w-5 h-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.length>0?`${y[y.length-1].rate}%`:"N/A"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Attendance Rate"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Department Distribution",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(sr,{children:[n.jsx(Fa,{data:v,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:3,dataKey:"value",label:({name:w,percent:A})=>`${w} (${(A*100).toFixed(0)}%)`,children:v.map((w,A)=>n.jsx(An,{fill:mc[A%mc.length]},w.name))}),n.jsx(ut,{})]})})})}),n.jsx(K,{title:"Monthly Attendance Trend",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Iu,{data:y,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"month",tick:{fontSize:12}}),n.jsx(Jt,{tick:{fontSize:12},domain:[0,100],unit:"%"}),n.jsx(ut,{formatter:w=>[`${w}%`,"Attendance Rate"]}),n.jsx(_c,{type:"monotone",dataKey:"rate",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6"}})]})})})})]})]}),s==="attendance"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(K,{title:"Monthly Attendance Breakdown",subtitle:"Attendance statistics for the last 6 months",children:n.jsx("div",{className:"h-72",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Mr,{data:y,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"month",tick:{fontSize:12}}),n.jsx(Jt,{tick:{fontSize:12}}),n.jsx(ut,{}),n.jsx(tr,{}),n.jsx(Qn,{dataKey:"present",fill:"#10b981",radius:[4,4,0,0],name:"Present"}),n.jsx(Qn,{dataKey:"late",fill:"#f59e0b",radius:[4,4,0,0],name:"Late"}),n.jsx(Qn,{dataKey:"absent",fill:"#ef4444",radius:[4,4,0,0],name:"Absent"})]})})})}),n.jsx(K,{title:"Attendance Rate Trend",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Iu,{data:y,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"month",tick:{fontSize:12}}),n.jsx(Jt,{tick:{fontSize:12},domain:[0,100],unit:"%"}),n.jsx(ut,{formatter:w=>[`${w}%`,"Rate"]}),n.jsx(_c,{type:"monotone",dataKey:"rate",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2}})]})})})})]}),s==="leaves"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"glass p-6 rounded-xl text-center border-l-4 border-amber-500",children:[n.jsx("p",{className:"text-3xl font-bold text-amber-600",children:b.pending}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Pending"})]}),n.jsxs("div",{className:"glass p-6 rounded-xl text-center border-l-4 border-emerald-500",children:[n.jsx("p",{className:"text-3xl font-bold text-emerald-600",children:b.approved}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Approved"})]}),n.jsxs("div",{className:"glass p-6 rounded-xl text-center border-l-4 border-red-500",children:[n.jsx("p",{className:"text-3xl font-bold text-red-600",children:b.rejected}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Rejected"})]})]}),n.jsx(K,{title:"Leaves by Type",subtitle:"Distribution of leave requests by type",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(sr,{children:[n.jsx(Fa,{data:j,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:w,value:A})=>`${w}: ${A}`,children:j.map((w,A)=>n.jsx(An,{fill:mc[A%mc.length]},w.name))}),n.jsx(ut,{}),n.jsx(tr,{})]})})})})]}),s==="department"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(K,{title:"Department Performance",subtitle:"Attendance rate by department",children:n.jsx("div",{className:"h-72",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Mr,{data:S,layout:"vertical",children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{type:"number",domain:[0,100],unit:"%",tick:{fontSize:12}}),n.jsx(Jt,{type:"category",dataKey:"name",tick:{fontSize:12},width:100}),n.jsx(ut,{formatter:w=>[`${w}%`,"Attendance Rate"]}),n.jsx(Qn,{dataKey:"rate",fill:"#3b82f6",radius:[0,4,4,0]})]})})})}),n.jsx(K,{title:"Department Staff Count",children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:S.map((w,A)=>n.jsxs("div",{className:"p-4 rounded-xl border border-gray-100 hover:border-gray-200 transition-all",children:[n.jsx("div",{className:"w-3 h-3 rounded-full mb-2",style:{backgroundColor:mc[A%mc.length]}}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.name}),n.jsx("p",{className:"text-2xl font-bold text-gray-700 mt-1",children:w.employees}),n.jsx("p",{className:"text-xs text-gray-500",children:"staff members"})]},w.name))})})]})]})}const zie=[{id:"profile",label:"Profile",icon:Dr},{id:"notifications",label:"Notifications",icon:Xr},{id:"preferences",label:"Preferences",icon:Tr}];function $ie(){const e=Qe(v=>v.user),[t,a]=x.useState("profile"),[r,s]=x.useState(!1),[l,c]=x.useState({name:e?.name||"",email:e?.email||"",phone:"+92-300-1234567",office:"Block A, Room 101"}),[d,m]=x.useState({emailAlerts:!0,leaveRequests:!0,attendanceAlerts:!0,weeklyReports:!0,systemUpdates:!1}),[f,h]=x.useState({defaultView:"dashboard",itemsPerPage:"10",dateFormat:"dd/MM/yyyy",autoApproveLeaves:!1}),g=()=>{s(!0),setTimeout(()=>s(!1),2e3)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your portal preferences"})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:zie.map(v=>n.jsxs("button",{onClick:()=>a(v.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${t===v.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[n.jsx(v.icon,{className:"w-4 h-4"}),v.label]},v.id))}),t==="profile"&&n.jsx(K,{title:"Profile Information",subtitle:"Your personal information",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-20 h-20 rounded-full bg-linear-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white text-2xl font-bold",children:e?.name?.charAt(0)||"D"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?.name}),n.jsxs("p",{className:"text-gray-500",children:["Dean - Faculty of ",e?.faculty]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{label:"Full Name",children:n.jsx("input",{type:"text",value:l.name,onChange:v=>c({...l,name:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})}),n.jsx(tt,{label:"Email",children:n.jsx("input",{type:"email",value:l.email,onChange:v=>c({...l,email:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})}),n.jsx(tt,{label:"Phone",children:n.jsx("input",{type:"text",value:l.phone,onChange:v=>c({...l,phone:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})}),n.jsx(tt,{label:"Office",children:n.jsx("input",{type:"text",value:l.office,onChange:v=>c({...l,office:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(X,{onClick:g,children:r?"Saved!":"Save Changes"})})]})}),t==="notifications"&&n.jsx(K,{title:"Notification Preferences",subtitle:"Control what notifications you receive",children:n.jsxs("div",{className:"space-y-4",children:[[{key:"emailAlerts",label:"Email Alerts",desc:"Receive important updates via email"},{key:"leaveRequests",label:"Leave Requests",desc:"Get notified when staff submit leave requests"},{key:"attendanceAlerts",label:"Attendance Alerts",desc:"Alerts for unusual attendance patterns"},{key:"weeklyReports",label:"Weekly Reports",desc:"Receive weekly summary reports"},{key:"systemUpdates",label:"System Updates",desc:"Notifications about system changes"}].map(v=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-100 hover:border-gray-200 transition-all",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:v.label}),n.jsx("p",{className:"text-sm text-gray-500",children:v.desc})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:d[v.key],onChange:y=>m({...d,[v.key]:y.target.checked}),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},v.key)),n.jsx("div",{className:"flex justify-end pt-4",children:n.jsx(X,{onClick:g,children:r?"Saved!":"Save Preferences"})})]})}),t==="preferences"&&n.jsx(K,{title:"Portal Preferences",subtitle:"Customize your portal experience",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{label:"Default View",children:n.jsxs("select",{value:f.defaultView,onChange:v=>h({...f,defaultView:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"dashboard",children:"Dashboard"}),n.jsx("option",{value:"employees",children:"Faculty Staff"}),n.jsx("option",{value:"attendance",children:"Attendance"}),n.jsx("option",{value:"leaves",children:"Leave Requests"})]})}),n.jsx(tt,{label:"Items Per Page",children:n.jsxs("select",{value:f.itemsPerPage,onChange:v=>h({...f,itemsPerPage:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"10",children:"10 items"}),n.jsx("option",{value:"25",children:"25 items"}),n.jsx("option",{value:"50",children:"50 items"}),n.jsx("option",{value:"100",children:"100 items"})]})}),n.jsx(tt,{label:"Date Format",children:n.jsxs("select",{value:f.dateFormat,onChange:v=>h({...f,dateFormat:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"dd/MM/yyyy",children:"DD/MM/YYYY"}),n.jsx("option",{value:"MM/dd/yyyy",children:"MM/DD/YYYY"}),n.jsx("option",{value:"yyyy-MM-dd",children:"YYYY-MM-DD"})]})})]}),n.jsx("div",{className:"p-4 rounded-lg border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Auto-approve Leaves"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Automatically approve leave requests under 2 days"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:f.autoApproveLeaves,onChange:v=>h({...f,autoApproveLeaves:v.target.checked}),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsx(X,{onClick:g,children:r?"Saved!":"Save Preferences"})})]})})]})}function Bie(){const e=Qe(S=>S.user),{employees:t,leaves:a,attendance:r,updateLeaveStatus:s}=Ae(),[l,c]=x.useState(""),d=e?.faculty,m=x.useMemo(()=>t.filter(S=>!d||S.faculty===d),[t,d]),f=q(new Date,"yyyy-MM-dd"),h=x.useMemo(()=>r.filter(S=>S.date===f&&m.some(M=>M.id===S.employeeId)),[r,m,f]),v=x.useMemo(()=>a.filter(S=>m.some(M=>M.id===S.employeeId)),[a,m]).filter(S=>S.status==="Pending"||S.status==="Forwarded"),y={staff:m.length,pendingLeaves:v.length,present:h.filter(S=>S.status==="Present").length,late:h.filter(S=>S.status==="Late").length},j=(S,M)=>{s(S,M?"Approved":"Rejected","dean",e?.name||"Dean",l||""),c("")},b=S=>S==="Approved"?"success":S==="Rejected"?"error":S==="Forwarded"||S==="Pending"?"warning":"default";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Manager Self-Service"}),n.jsx("p",{className:"text-gray-600",children:"Faculty view, approvals, and attendance snapshot"})]}),n.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[{label:"Faculty Staff",value:y.staff,icon:en,color:"indigo"},{label:"Pending Leaves",value:y.pendingLeaves,icon:Xe,color:"amber"},{label:"Present Today",value:y.present,icon:Le,color:"green"},{label:"Late Today",value:y.late,icon:Be,color:"rose"}].map(S=>n.jsx(K,{className:`border-${S.color}-100 bg-${S.color}-50`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm text-${S.color}-600`,children:S.label}),n.jsx("p",{className:`text-2xl font-bold text-${S.color}-800`,children:S.value})]}),n.jsx(S.icon,{className:`w-8 h-8 text-${S.color}-500`})]})},S.label))}),n.jsxs(K,{children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($a,{className:"w-5 h-5 text-gray-500"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"Pending Leave Approvals"})]})}),v.length===0?n.jsx("p",{className:"text-sm text-gray-500",children:"No pending leaves for your faculty."}):n.jsx("div",{className:"space-y-2 text-sm text-gray-800",children:v.map(S=>n.jsxs("div",{className:"border rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium capitalize",children:S.employeeName}),n.jsxs("p",{className:"text-xs text-gray-500",children:[S.type,"  ",S.startDate,"  ",S.endDate," (",S.days,"d)"]})]}),n.jsx(ge,{variant:b(S.status),children:S.status})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[n.jsx(X,{size:"sm",variant:"outline",onClick:()=>j(S.id,!0),children:"Approve"}),n.jsx(X,{size:"sm",variant:"outline",onClick:()=>j(S.id,!1),className:"text-red-600 border-red-200",children:"Reject"}),n.jsx("input",{className:"flex-1 min-w-[180px] rounded border px-3 py-1 text-xs",placeholder:"Notes (optional)",value:l,onChange:M=>c(M.target.value)})]})]},S.id))})]})]})}function Zl({value:e=[],onChange:t,maxFiles:a=5,maxSizeMB:r=10,allowedTypes:s=["pdf","doc","docx","jpg","jpeg","png"],label:l="Upload Files",required:c=!1,helper:d="",disabled:m=!1}){const f=x.useRef(null),[h,g]=x.useState([]),v=A=>{if(A===0)return"0 Bytes";const O=1024,D=["Bytes","KB","MB"],k=Math.floor(Math.log(A,O));return Math.round(A/Math.pow(O,k)*100)/100+" "+D[k]},y=A=>A.split(".").pop().toLowerCase(),j=A=>{const O=[],D=y(A.name),k=A.size/(1024*1024);return s.includes(D)||O.push(`${A.name}: Invalid file type. Allowed: ${s.join(", ")}`),k>r&&O.push(`${A.name}: File size exceeds ${r}MB limit`),O},b=A=>{const O=Array.from(A.target.files||[]),D=[],k=[];e.length+O.length>a?D.push(`Maximum ${a} files allowed`):O.forEach(_=>{const E=j(_);E.length>0?D.push(...E):k.push({id:Math.random().toString(36),name:_.name,size:_.size,type:_.type,file:_,uploadedAt:new Date().toISOString()})}),g(D),k.length>0&&t([...e,...k]),f.current&&(f.current.value="")},S=A=>{t(e.filter(O=>O.id!==A))},M=A=>{A.preventDefault(),A.stopPropagation()},w=A=>{A.preventDefault(),A.stopPropagation();const O=Array.from(A.dataTransfer.files||[]);if(f.current){const D=new DataTransfer;O.forEach(k=>D.items.add(k)),f.current.files=D.files,b({target:f.current})}};return n.jsxs("div",{className:"space-y-2",children:[l&&n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[l,c&&n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${m?"bg-gray-50 border-gray-200 cursor-not-allowed":"border-gray-300 hover:border-blue-500 cursor-pointer"}`,onDragOver:M,onDrop:w,onClick:()=>!m&&f.current?.click(),children:[n.jsx("input",{ref:f,type:"file",multiple:!0,accept:s.map(A=>`.${A}`).join(","),onChange:b,disabled:m,className:"hidden"}),n.jsx(KL,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Drop files here or click to select"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Max ",a," files, ",r,"MB each"]})]}),d&&n.jsx("p",{className:"text-xs text-gray-500",children:d}),h.length>0&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:h.map((A,O)=>n.jsxs("p",{className:"text-xs text-red-600",children:[" ",A]},O))}),e.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-xs font-medium text-gray-600",children:[e.length," file",e.length!==1?"s":""," selected"]}),e.map(A=>n.jsxs("div",{className:"flex items-center justify-between bg-gray-50 border border-gray-200 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[n.jsx(Cr,{className:"w-4 h-4 text-gray-400 shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:A.name}),n.jsx("p",{className:"text-xs text-gray-500",children:v(A.size)})]})]}),n.jsx("button",{onClick:()=>S(A.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors ml-2",type:"button",children:n.jsx(jp,{className:"w-4 h-4"})})]},A.id))]})]})}const uD={"dean-review":"info",returned:"warning","dean-confirmed":"success"},Fie={fully:{label:"Fully Achieved",marks:100},largely:{label:"Largely Achieved",marks:85},partially:{label:"Partially Achieved",marks:70},not:{label:"Not Achieved",marks:0}};function Uie(){const{user:e}=Qe(),t=Ae(w=>w.getPamsForDean),a=Ae(w=>w.deanReviewPams),r=Ae(w=>w.updatePamsSubmission),s=x.useMemo(()=>e?.faculty?t(e.faculty):[],[t,e]),[l,c]=x.useState(null),[d,m]=x.useState(""),[f,h]=x.useState(""),[g,v]=x.useState(""),[y,j]=x.useState([]),b=w=>{c(w),m(""),h(""),v(""),j(w.attachments||[])},S=()=>{l&&r(l.id,{attachments:y.map(w=>({id:w.id,name:w.name,size:w.size,type:w.type}))})},M=w=>{l&&(a(l.id,{action:w,comment:d,meetingDate:f,followUpDate:g,by:"dean"}),c(null),j([]),m(""),h(""),v(""))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ys,{className:"w-6 h-6 text-gray-600"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"HOD PAMS Review"}),n.jsx("p",{className:"text-gray-600",children:"Meet with HODs, request corrections, and confirm submissions."})]})]}),n.jsx(K,{children:s.length===0?n.jsx("p",{className:"text-sm text-gray-600",children:"No HOD submissions awaiting review."}):n.jsx("div",{className:"space-y-2",children:s.map(w=>n.jsxs("button",{onClick:()=>b(w),className:`w-full text-left border rounded-lg p-3 hover:border-[hsl(var(--color-primary))] ${l?.id===w.id?"border-[hsl(var(--color-primary))] shadow-sm":""}`,children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:w.employeeName||w.employeeId}),n.jsx("p",{className:"text-xs text-gray-500",children:w.period})]}),n.jsx(ge,{variant:uD[w.status]||"secondary",children:w.status})]}),n.jsx("p",{className:"text-sm text-gray-700 mt-1 line-clamp-2",children:w.workload?.admin})]},w.id))})}),l&&n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:l.employeeName||l.employeeId}),n.jsxs("p",{className:"text-xs text-gray-500",children:["HOD Performance  ",l.period]})]}),n.jsx(ge,{variant:uD[l.status]||"secondary",children:l.status})]}),n.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto mb-4",children:[n.jsxs("div",{className:"border-t pt-3",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Leadership"}),n.jsx(tu,{label:"Leadership",value:l.leadership})]}),n.jsxs("div",{className:"border-t pt-3",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Curriculum & Instruction"}),n.jsx(tu,{label:"Curriculum Instruction",value:l.curriculumInstruction})]}),n.jsxs("div",{className:"border-t pt-3",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Management"}),n.jsx(tu,{label:"Management & Admin",value:l.managementAdministration})]}),n.jsxs("div",{className:"border-t pt-3",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Personnel"}),n.jsx(tu,{label:"Personnel",value:l.personnel})]}),n.jsxs("div",{className:"border-t pt-3",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Promotion & Tenure"}),n.jsx(tu,{label:"Promotion & Tenure",value:l.promotionTenure})]}),l.grievance&&n.jsxs("div",{className:"border-t pt-3",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Grievance/Comments"}),n.jsx("p",{className:"text-sm text-gray-700",children:l.grievance})]}),l.attachments&&l.attachments.length>0&&n.jsxs("div",{className:"border-t pt-3",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Attachments"}),n.jsx("div",{className:"space-y-1",children:l.attachments.map(w=>n.jsxs("p",{className:"text-xs text-gray-600",children:[" ",w.name," (",w.size&&`${Math.round(w.size/1024)}KB`,")"]},w.id))})]})]}),n.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Meeting date",n.jsx("input",{type:"date",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm",value:f,onChange:w=>h(w.target.value)})]}),n.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Follow-up meeting",n.jsx("input",{type:"date",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm",value:g,onChange:w=>v(w.target.value),placeholder:"Optional"})]}),n.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Comments / corrections",n.jsx("textarea",{rows:2,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:d,onChange:w=>m(w.target.value),placeholder:"Meeting notes or required changes"})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx(Zl,{label:"Attachments",value:y,onChange:j,helper:"Upload corrected forms or evidence after dean meeting.",maxFiles:10,maxSizeMB:15}),n.jsx("div",{className:"flex justify-end mt-2",children:n.jsx(X,{variant:"secondary",onClick:S,disabled:!l,children:"Save attachments"})})]}),n.jsxs("div",{className:"flex flex-wrap justify-end gap-2 mt-4 border-t pt-4",children:[n.jsx(X,{variant:"secondary",onClick:()=>c(null),children:"Cancel"}),n.jsxs(X,{variant:"outline",onClick:()=>M("return"),className:"flex items-center gap-2",children:[n.jsx(lj,{className:"w-4 h-4"})," Return"]}),n.jsxs(X,{onClick:()=>M("confirm"),className:"flex items-center gap-2",children:[n.jsx(Le,{className:"w-4 h-4"})," Confirm after meeting"]})]})]})]})}function tu({label:e,value:t}){const a=t?Fie[t]:null;return n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm py-1",children:[n.jsx("span",{className:"text-gray-700",children:e}),a?n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:a.label}):n.jsx("span",{className:"text-xs text-gray-500",children:""})]})}function qie(){return n.jsx(yi,{children:n.jsxs(Se,{element:n.jsx(Die,{}),children:[n.jsx(Se,{index:!0,element:n.jsx(Oie,{})}),n.jsx(Se,{path:"employees",element:n.jsx(Eie,{})}),n.jsx(Se,{path:"attendance",element:n.jsx(kie,{})}),n.jsx(Se,{path:"leaves",element:n.jsx(Rie,{})}),n.jsx(Se,{path:"promotions",element:n.jsx(_ie,{})}),n.jsx(Se,{path:"meetings",element:n.jsx(Tie,{})}),n.jsx(Se,{path:"pams",element:n.jsx(Uie,{})}),n.jsx(Se,{path:"self-service",element:n.jsx(Bie,{})}),n.jsx(Se,{path:"reports",element:n.jsx(Iie,{})}),n.jsx(Se,{path:"settings",element:n.jsx($ie,{})}),n.jsx(Se,{path:"*",element:n.jsx(ps,{to:".",replace:!0})})]})})}const Hie=[{path:"/hod",label:"Dashboard",icon:$a,end:!0},{path:"/hod/employees",label:"Department Staff",icon:en},{path:"/hod/attendance",label:"Attendance",icon:Be},{path:"/hod/leaves",label:"Leave Requests",icon:Xe},{path:"/hod/self-service",label:"Manager Self-Service",icon:ys},{path:"/hod/pams",label:"PAMS",icon:oi},{path:"/hod/reports",label:"Reports",icon:oi},{path:"/hod/settings",label:"Settings",icon:Tr}];function Vie(){return n.jsx(vi,{portalKey:"hod",portalName:"HOD Portal",navItems:Hie})}const rh=["#10b981","#f59e0b","#ef4444","#3b82f6"];function Kie(){const e=Ae(w=>w.employees),t=Ae(w=>w.attendance),a=Ae(w=>w.leaves),r=Qe(w=>w.user),s=x.useMemo(()=>e.filter(w=>w.department===r.department),[e,r.department]),l=x.useMemo(()=>new Set(s.map(w=>w.id)),[s]),c=x.useMemo(()=>a.filter(w=>l.has(w.employeeId)),[a,l]),d=s.length,m=s.filter(w=>w.status==="Active").length,f=c.filter(w=>w.status==="Pending").length,h=q(new Date,"yyyy-MM-dd"),g=x.useMemo(()=>{const w=t.filter(A=>A.date===h&&l.has(A.employeeId));return{present:w.filter(A=>A.status==="Present").length,absent:w.filter(A=>A.status==="Absent").length,late:w.filter(A=>A.status==="Late").length,leave:w.filter(A=>A.status==="Leave").length}},[t,h,l]),v=x.useMemo(()=>Array.from({length:7},(A,O)=>{const D=nt(new Date,6-O),k=q(D,"yyyy-MM-dd"),_=t.filter(E=>E.date===k&&l.has(E.employeeId));return{day:q(D,"EEE"),present:_.filter(E=>E.status==="Present").length,absent:_.filter(E=>E.status==="Absent").length}}),[t,l]),y=[{name:"Present",value:g.present},{name:"Late",value:g.late},{name:"Absent",value:g.absent},{name:"Leave",value:g.leave}].filter(w=>w.value>0),j=x.useMemo(()=>c.sort((w,A)=>new Date(A.appliedOn)-new Date(w.appliedOn)).slice(0,5).map(w=>({...w,employee:e.find(A=>A.id===w.employeeId)})),[c,e]),b=x.useMemo(()=>{const w={};return s.forEach(A=>{w[A.designation]=(w[A.designation]||0)+1}),Object.entries(w).map(([A,O])=>({name:A,count:O}))},[s]),S=[{label:"Department Staff",value:d,icon:en,color:"from-emerald-600 to-green-600",change:`${m} active`},{label:"Present Today",value:g.present,icon:Le,color:"from-blue-500 to-indigo-500",change:`${d>0?Math.round(g.present/d*100):0}% attendance`},{label:"Late Today",value:g.late,icon:Be,color:"from-amber-500 to-orange-500",change:"Requires attention"},{label:"Pending Leaves",value:f,icon:Xe,color:"from-purple-500 to-pink-500",change:"Awaiting approval"}],M=[{label:"View Staff",icon:en,path:"/hod/employees",color:"bg-emerald-500"},{label:"Attendance",icon:Be,path:"/hod/attendance",color:"bg-blue-500"},{label:"Leaves",icon:Xe,path:"/hod/leaves",color:"bg-purple-500"},{label:"Reports",icon:oi,path:"/hod/reports",color:"bg-amber-500"}];return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Department Overview"}),n.jsxs("p",{className:"text-gray-500 mt-1",children:["Department of ",r.department||"Computer Science"]})]}),n.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:n.jsx("span",{className:"px-3 py-1 rounded-full bg-emerald-100 text-emerald-700 font-medium",children:q(new Date,"EEEE, MMMM d, yyyy")})})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:S.map(w=>n.jsxs("div",{className:"glass p-6 rounded-2xl card-hover relative overflow-hidden group",children:[n.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 bg-linear-to-br ${w.color} opacity-10 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110`}),n.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:w.label}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:w.value}),n.jsxs("p",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[n.jsx(gs,{className:"w-3 h-3"}),w.change]})]}),n.jsx("div",{className:`p-3 rounded-xl bg-linear-to-br ${w.color} text-white shadow-lg`,children:n.jsx(w.icon,{className:"w-6 h-6"})})]})]},w.label))}),n.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:M.map(w=>n.jsxs(fn,{to:w.path,className:"glass p-4 rounded-xl card-hover flex items-center gap-3 group",children:[n.jsx("div",{className:`p-2 rounded-lg ${w.color} text-white group-hover:scale-110 transition-transform`,children:n.jsx(w.icon,{className:"w-5 h-5"})}),n.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:w.label})]},w.label))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Weekly Attendance",subtitle:"Last 7 days trend",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(vo,{data:v,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"day",tick:{fontSize:12}}),n.jsx(Jt,{tick:{fontSize:12}}),n.jsx(ut,{}),n.jsx(za,{type:"monotone",dataKey:"present",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Present"}),n.jsx(za,{type:"monotone",dataKey:"absent",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Absent"})]})})})}),n.jsx(K,{title:"Today's Attendance",subtitle:"Current attendance status",children:n.jsx("div",{className:"h-64",children:y.length>0?n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(sr,{children:[n.jsx(Fa,{data:y,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:3,dataKey:"value",label:({name:w,value:A})=>`${w}: ${A}`,children:y.map((w,A)=>n.jsx(An,{fill:rh[A%rh.length]},w.name))}),n.jsx(ut,{})]})}):n.jsx("div",{className:"h-full flex items-center justify-center",children:n.jsx("p",{className:"text-gray-400",children:"No attendance data for today"})})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Staff by Designation",subtitle:"Team composition",children:n.jsxs("div",{className:"space-y-3",children:[b.map((w,A)=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:rh[A%rh.length]}}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:w.name})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-bold text-gray-900",children:w.count}),n.jsx(ll,{className:"w-4 h-4 text-gray-400"})]})]},w.name)),b.length===0&&n.jsx("p",{className:"text-center text-gray-400 py-8",children:"No staff data available"})]})}),n.jsx(K,{title:"Recent Leave Requests",subtitle:"Latest requests from your team",actions:n.jsx(fn,{to:"/hod/leaves",children:n.jsx(X,{variant:"ghost",size:"sm",children:"View All"})}),children:n.jsx("div",{className:"space-y-3",children:j.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx(Xe,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No leave requests"})]}):j.map(w=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-linear-to-br from-emerald-500 to-green-500 flex items-center justify-center text-white font-bold text-sm",children:w.employee?.name?.charAt(0)||"?"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.employee?.name||"Unknown"}),n.jsxs("p",{className:"text-xs text-gray-500",children:[w.type," "," ",w.startDate?q(ue(w.startDate),"MMM d"):"N/A"," -"," ",w.endDate?q(ue(w.endDate),"MMM d"):"N/A"]})]})]}),n.jsx(ge,{variant:w.status==="Approved"?"success":w.status==="Rejected"?"danger":"warning",children:w.status})]},w.id))})})]})]})}function Wie(){const e=Ae(m=>m.employees),t=Qe(m=>m.user),[a,r]=x.useState(null),s=e.filter(m=>m.department===t.department),l=()=>{const m=Ss.unparse(s),f=new Blob([m],{type:"text/csv"}),h=URL.createObjectURL(f),g=document.createElement("a");g.href=h,g.download=`dept_${t.department}_employees.csv`,g.click()},c=m=>{r({...m})},d=()=>{console.log("Saving employee:",a),r(null)};return n.jsxs(n.Fragment,{children:[n.jsx(K,{title:`Department Staff: ${t.department}`,subtitle:"Manage your department's teachers and staff",actions:n.jsxs(X,{variant:"outline",onClick:l,children:[n.jsx(Wt,{className:"w-4 h-4"})," Export CSV"]}),children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Code"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Designation"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:s.map(m=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:m.code}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:m.name}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:m.designation}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsx(ge,{variant:m.status==="Active"?"success":"default",children:m.status})}),n.jsx("td",{className:"px-4 py-3 text-sm text-right",children:n.jsx("button",{onClick:()=>c(m),className:"text-blue-600 hover:text-blue-900",children:n.jsx(RD,{className:"w-4 h-4"})})})]},m.id))})]})})}),n.jsx(vt,{open:!!a,onClose:()=>r(null),title:"Edit Employee",actions:n.jsxs(n.Fragment,{children:[n.jsx(X,{variant:"outline",onClick:()=>r(null),children:"Cancel"}),n.jsx(X,{onClick:d,children:"Save Changes"})]}),children:a&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(tt,{label:"Full Name",id:"edit-name",children:n.jsx("input",{id:"edit-name",type:"text",className:"w-full border-gray-300 rounded-md shadow-xs focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm p-2 border",value:a.name,onChange:m=>r({...a,name:m.target.value})})}),n.jsx(tt,{label:"Designation",id:"edit-designation",children:n.jsx("input",{id:"edit-designation",type:"text",className:"w-full border-gray-300 rounded-md shadow-xs focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm p-2 border",value:a.designation,onChange:m=>r({...a,designation:m.target.value})})}),n.jsx(tt,{label:"Status",id:"edit-status",children:n.jsxs("select",{id:"edit-status",className:"w-full border-gray-300 rounded-md shadow-xs focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm p-2 border",value:a.status,onChange:m=>r({...a,status:m.target.value}),children:[n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"On Leave",children:"On Leave"}),n.jsx("option",{value:"Inactive",children:"Inactive"})]})})]})})]})}function Yie(){const e=Ae(j=>j.employees),t=Ae(j=>j.attendance),a=Qe(j=>j.user),[r,s]=x.useState(q(new Date,"yyyy-MM-dd")),[l,c]=x.useState(""),d=x.useMemo(()=>e.filter(j=>j.department===a.department),[e,a.department]),m=x.useMemo(()=>new Set(d.map(j=>j.id)),[d]),f=x.useMemo(()=>d.filter(j=>j.name.toLowerCase().includes(l.toLowerCase())||j.code.toLowerCase().includes(l.toLowerCase())).map(j=>{const b=t.find(S=>S.employeeId===j.id&&S.date===r);return{...j,attendance:b||null}}),[d,t,r,l]),h=x.useMemo(()=>{const j=t.filter(b=>b.date===r&&m.has(b.employeeId));return{total:d.length,present:j.filter(b=>b.status==="Present").length,absent:j.filter(b=>b.status==="Absent").length,late:j.filter(b=>b.status==="Late").length,leave:j.filter(b=>b.status==="Leave").length}},[t,r,d,m]),g=x.useMemo(()=>Array.from({length:7},(j,b)=>{const S=nt(new Date,6-b),M=q(S,"yyyy-MM-dd"),w=t.filter(A=>A.date===M&&m.has(A.employeeId));return{date:q(S,"EEE"),present:w.filter(A=>A.status==="Present").length,absent:w.filter(A=>A.status==="Absent").length}}),[t,m]),v=()=>{const j=f.map(A=>({Code:A.code,Name:A.name,Designation:A.designation,Date:r,Status:A.attendance?.status||"No Record",CheckIn:A.attendance?.checkIn||"-",CheckOut:A.attendance?.checkOut||"-"})),b=Ss.unparse(j),S=new Blob([b],{type:"text/csv"}),M=URL.createObjectURL(S),w=document.createElement("a");w.href=M,w.download=`${a.department}_attendance_${r}.csv`,w.click()},y=j=>{switch(j){case"Present":return n.jsx(ge,{variant:"success",children:j});case"Absent":return n.jsx(ge,{variant:"danger",children:j});case"Late":return n.jsx(ge,{variant:"warning",children:j});case"Leave":return n.jsx(ge,{variant:"info",children:j});default:return n.jsx(ge,{variant:"default",children:"No Record"})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Department Attendance"}),n.jsxs("p",{className:"text-gray-500 mt-1",children:["Track attendance for ",a.department]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"date",value:r,onChange:j=>s(j.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"}),n.jsxs(X,{variant:"outline",onClick:v,children:[n.jsx(Wt,{className:"w-4 h-4"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"glass p-4 rounded-xl text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.total}),n.jsx("p",{className:"text-xs text-gray-500",children:"Total Staff"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-emerald-500",children:[n.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:h.present}),n.jsx("p",{className:"text-xs text-gray-500",children:"Present"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-red-500",children:[n.jsx("p",{className:"text-2xl font-bold text-red-600",children:h.absent}),n.jsx("p",{className:"text-xs text-gray-500",children:"Absent"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-amber-500",children:[n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:h.late}),n.jsx("p",{className:"text-xs text-gray-500",children:"Late"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-blue-500",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:h.leave}),n.jsx("p",{className:"text-xs text-gray-500",children:"On Leave"})]})]}),n.jsx(K,{title:"Weekly Attendance Trend",subtitle:"Last 7 days overview",children:n.jsx("div",{className:"h-48",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(vo,{data:g,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"date",tick:{fontSize:12}}),n.jsx(Jt,{tick:{fontSize:12}}),n.jsx(ut,{}),n.jsx(za,{type:"monotone",dataKey:"present",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Present"}),n.jsx(za,{type:"monotone",dataKey:"absent",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Absent"})]})})})}),n.jsxs(K,{children:[n.jsx("div",{className:"mb-4",children:n.jsx(Cn,{type:"text",placeholder:"Search by name or code...",value:l,onChange:j=>c(j.target.value),className:"w-full",inputClassName:"pr-4 py-2 text-sm"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50",children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Employee"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Designation"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Check In"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Check Out"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Hours"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:f.map(j=>{const b=j.attendance?.checkIn,S=j.attendance?.checkOut;let M="-";if(b&&S){const[w,A]=b.split(":").map(Number),[O,D]=S.split(":").map(Number),k=O*60+D-(w*60+A),_=Math.floor(k/60),E=k%60;M=`${_}h ${E}m`}return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-linear-to-br from-emerald-500 to-green-500 flex items-center justify-center text-white font-bold text-xs",children:j.name.charAt(0)}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.name}),n.jsx("p",{className:"text-xs text-gray-500",children:j.code})]})]})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:j.designation}),n.jsx("td",{className:"px-4 py-3",children:y(j.attendance?.status)}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:b||"-"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:S||"-"}),n.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:M})]},j.id)})})]})}),f.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Be,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No attendance records found"})]})]})]})}const Gie=[{id:"all",label:"All"},{id:"pending",label:"Pending"},{id:"approved",label:"Approved"},{id:"rejected",label:"Rejected"}];function Zie(){const e=Ae(E=>E.employees),t=Ae(E=>E.leaves),a=Ae(E=>E.updateLeaveStatus),r=Qe(E=>E.user),[s,l]=x.useState("pending"),[c,d]=x.useState(""),[m,f]=x.useState(null),[h,g]=x.useState(!1),[v,y]=x.useState(null),[j,b]=x.useState(""),S=x.useMemo(()=>e.filter(E=>E.department===r.department),[e,r.department]),M=x.useMemo(()=>new Set(S.map(E=>E.id)),[S]),w=x.useMemo(()=>t.filter(E=>M.has(E.employeeId)).map(E=>({...E,employee:e.find(P=>P.id===E.employeeId),days:E.days||(E.startDate&&E.endDate?Zr(ue(E.endDate),ue(E.startDate))+1:0)})).sort((E,P)=>new Date(P.appliedOn)-new Date(E.appliedOn)),[t,e,M]),A=x.useMemo(()=>w.filter(E=>{if(s!=="all"&&E.status.toLowerCase()!==s)return!1;if(c){const P=c.toLowerCase();return E.employee?.name?.toLowerCase().includes(P)||E.employee?.code?.toLowerCase().includes(P)}return!0}),[w,s,c]),O=x.useMemo(()=>({total:w.length,pending:w.filter(E=>E.status==="Pending").length,approved:w.filter(E=>E.status==="Approved").length,rejected:w.filter(E=>E.status==="Rejected").length}),[w]),D=(E,P)=>{f(E),y(P),b(""),g(!0)},k=()=>{!m||!v||(a(m.id,v==="approve"?"Approved":"Rejected","hod",r.name,j||void 0),g(!1),f(null),y(null),b(""))},_=E=>{switch(E){case"Approved":return n.jsx(ge,{variant:"success",children:E});case"Rejected":return n.jsx(ge,{variant:"danger",children:E});default:return n.jsx(ge,{variant:"warning",children:E})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Department Leave Requests"}),n.jsxs("p",{className:"text-gray-500 mt-1",children:["Manage leave requests for ",r.department]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-gray-100",children:n.jsx(Xe,{className:"w-5 h-5 text-gray-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O.total}),n.jsx("p",{className:"text-xs text-gray-500",children:"Total"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-amber-100",children:n.jsx(Be,{className:"w-5 h-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:O.pending}),n.jsx("p",{className:"text-xs text-gray-500",children:"Pending"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:n.jsx(Le,{className:"w-5 h-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:O.approved}),n.jsx("p",{className:"text-xs text-gray-500",children:"Approved"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:n.jsx(Tt,{className:"w-5 h-5 text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-red-600",children:O.rejected}),n.jsx("p",{className:"text-xs text-gray-500",children:"Rejected"})]})]})})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Gie.map(E=>n.jsxs("button",{onClick:()=>l(E.id),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${s===E.id?"bg-emerald-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[E.label,E.id==="pending"&&O.pending>0&&n.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-white/20 rounded text-xs",children:O.pending})]},E.id))}),n.jsxs(K,{children:[n.jsx("div",{className:"mb-4",children:n.jsx(Cn,{type:"text",placeholder:"Search by name or code...",value:c,onChange:E=>d(E.target.value),className:"w-full",inputClassName:"pr-4 py-2 text-sm"})}),n.jsx("div",{className:"space-y-4",children:A.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Xe,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No leave requests found"})]}):A.map(E=>n.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl hover:border-gray-200 transition-all",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-emerald-500 to-green-500 flex items-center justify-center text-white font-bold",children:E.employee?.name?.charAt(0)||"?"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:E.employee?.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:[E.employee?.code,"  ",E.employee?.designation]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsx("span",{className:"px-2 py-1 rounded-full bg-blue-100 text-blue-700 text-xs font-medium",children:E.type}),n.jsxs("span",{className:"text-sm text-gray-600",children:[E.startDate?q(ue(E.startDate),"MMM d"):"N/A"," "," ",E.endDate?q(ue(E.endDate),"MMM d, yyyy"):"N/A",n.jsxs("span",{className:"text-gray-400 ml-2",children:["(",E.days," day",E.days>1?"s":"",")"]})]}),_(E.status)]}),E.status==="Pending"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>D(E,"approve"),className:"text-emerald-600 border-emerald-200 hover:bg-emerald-50",children:[n.jsx(Le,{className:"w-4 h-4"}),"Approve"]}),n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>D(E,"reject"),className:"text-red-600 border-red-200 hover:bg-red-50",children:[n.jsx(Tt,{className:"w-4 h-4"}),"Reject"]})]})]}),E.reason&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Reason:"})," ",E.reason]})})]},E.id))})]}),n.jsx(vt,{isOpen:h,onClose:()=>g(!1),title:`${v==="approve"?"Approve":"Reject"} Leave Request`,children:m&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"font-medium",children:m.employee?.name}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[m.type,"  ",m.days," day(s)"]}),n.jsxs("p",{className:"text-sm text-gray-500",children:[m.startDate?q(ue(m.startDate),"MMM d"):"N/A"," ","-"," ",m.endDate?q(ue(m.endDate),"MMM d, yyyy"):"N/A"]})]}),m.type==="Medical"&&v==="approve"&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-blue-900 font-medium mb-2",children:" Medical Leave Approval Flow"}),n.jsx("p",{className:"text-sm text-blue-700",children:"After your approval, this request will be forwarded to:"}),n.jsxs("ol",{className:"text-sm text-blue-700 mt-2 ml-4 list-decimal space-y-1",children:[n.jsx("li",{children:"Vice Chancellor for recommendation"}),n.jsx("li",{children:"President for final approval and paid/unpaid classification"})]})]}),m.documents&&m.documents.length>0&&n.jsxs("div",{className:"space-y-3 bg-slate-50 border border-slate-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Cr,{className:"w-5 h-5 text-slate-600"}),n.jsx("p",{className:"font-semibold text-slate-900",children:"Supporting Documents"})]}),n.jsx("div",{className:"space-y-2",children:m.documents.map((E,P)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-slate-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Cr,{className:"w-5 h-5 text-slate-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-900",children:E.name}),n.jsxs("p",{className:"text-xs text-slate-500",children:[(E.size/1024).toFixed(1)," KB  Uploaded"," ",E.uploadedAt?q(ue(E.uploadedAt),"MMM d, yyyy"):"N/A"]})]})]}),n.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>{const z=document.createElement("a");z.href=E.file,z.download=E.name,document.body.appendChild(z),z.click(),document.body.removeChild(z)},className:"text-blue-600 hover:text-blue-700",children:[n.jsx(Wt,{className:"w-4 h-4"}),"Download"]})]},E.id||P))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comment (Optional)"}),n.jsx("textarea",{value:j,onChange:E=>b(E.target.value),placeholder:v==="approve"?m.type==="Medical"?"Add recommendation for Vice Chancellor...":"Add any notes...":"Reason for rejection...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 resize-none",rows:3})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(X,{variant:"ghost",onClick:()=>g(!1),children:"Cancel"}),n.jsx(X,{variant:v==="approve"?"primary":"danger",onClick:k,children:v==="approve"?"Approve & Forward":"Reject"})]})]})})]})}const sh=["#10b981","#f59e0b","#ef4444","#3b82f6","#8b5cf6"],Xie=[{id:"overview",label:"Overview",icon:oi},{id:"attendance",label:"Attendance",icon:Be},{id:"leaves",label:"Leaves",icon:Xe}];function Qie(){const e=Ae(b=>b.employees),t=Ae(b=>b.attendance),a=Ae(b=>b.leaves),r=Qe(b=>b.user),[s,l]=x.useState("overview"),c=x.useMemo(()=>e.filter(b=>b.department===r.department),[e,r.department]),d=x.useMemo(()=>new Set(c.map(b=>b.id)),[c]),m=x.useMemo(()=>t.filter(b=>d.has(b.employeeId)),[t,d]),f=x.useMemo(()=>a.filter(b=>d.has(b.employeeId)),[a,d]),h=x.useMemo(()=>{const b={};return c.forEach(S=>{b[S.designation]=(b[S.designation]||0)+1}),Object.entries(b).map(([S,M])=>({name:S,value:M}))},[c]),g=x.useMemo(()=>{const b=[];for(let S=5;S>=0;S--){const M=io(new Date,S),w=q(M,"MMM yyyy"),A=m.filter(k=>{const _=ue(k.date);return q(_,"MMM yyyy")===w}),O=A.filter(k=>k.status==="Present").length,D=A.length;b.push({month:q(M,"MMM"),present:O,absent:A.filter(k=>k.status==="Absent").length,rate:D>0?Math.round(O/D*100):0})}return b},[m]),v=x.useMemo(()=>{const b={};return f.forEach(S=>{b[S.type]=(b[S.type]||0)+1}),Object.entries(b).map(([S,M])=>({name:S,value:M}))},[f]),y=x.useMemo(()=>({pending:f.filter(b=>b.status==="Pending").length,approved:f.filter(b=>b.status==="Approved").length,rejected:f.filter(b=>b.status==="Rejected").length}),[f]),j=b=>{let S=[],M="";switch(b){case"employees":S=c.map(k=>({Code:k.code,Name:k.name,Designation:k.designation,Status:k.status})),M="department_employees";break;case"attendance":S=m.map(k=>({Employee:e.find(_=>_.id===k.employeeId)?.name||"Unknown",Date:k.date,Status:k.status,CheckIn:k.checkIn||"-",CheckOut:k.checkOut||"-"})),M="department_attendance";break;case"leaves":S=f.map(k=>({Employee:e.find(_=>_.id===k.employeeId)?.name||"Unknown",Type:k.type,From:k.from,To:k.to,Status:k.status})),M="department_leaves";break}const w=Ss.unparse(S),A=new Blob([w],{type:"text/csv"}),O=URL.createObjectURL(A),D=document.createElement("a");D.href=O,D.download=`${M}_${q(new Date,"yyyy-MM-dd")}.csv`,D.click()};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Department Reports"}),n.jsxs("p",{className:"text-gray-500 mt-1",children:["Analytics for ",r.department]})]}),n.jsxs(X,{variant:"outline",onClick:()=>j("employees"),children:[n.jsx(Wt,{className:"w-4 h-4"}),"Export Data"]})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Xie.map(b=>n.jsxs("button",{onClick:()=>l(b.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${s===b.id?"bg-emerald-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[n.jsx(b.icon,{className:"w-4 h-4"}),b.label]},b.id))}),s==="overview"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:n.jsx(en,{className:"w-5 h-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.length}),n.jsx("p",{className:"text-xs text-gray-500",children:"Total Staff"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:n.jsx(Be,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.length>0?`${g[g.length-1].rate}%`:"N/A"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Attendance Rate"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-amber-100",children:n.jsx(Xe,{className:"w-5 h-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.pending}),n.jsx("p",{className:"text-xs text-gray-500",children:"Pending Leaves"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-purple-100",children:n.jsx(oi,{className:"w-5 h-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.length}),n.jsx("p",{className:"text-xs text-gray-500",children:"Designations"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Staff by Designation",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(sr,{children:[n.jsx(Fa,{data:h,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:3,dataKey:"value",label:({name:b,percent:S})=>`${b} (${(S*100).toFixed(0)}%)`,children:h.map((b,S)=>n.jsx(An,{fill:sh[S%sh.length]},b.name))}),n.jsx(ut,{})]})})})}),n.jsx(K,{title:"Attendance Trend",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Iu,{data:g,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"month",tick:{fontSize:12}}),n.jsx(Jt,{tick:{fontSize:12},domain:[0,100],unit:"%"}),n.jsx(ut,{formatter:b=>[`${b}%`,"Rate"]}),n.jsx(_c,{type:"monotone",dataKey:"rate",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981"}})]})})})})]})]}),s==="attendance"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(K,{title:"Monthly Attendance",subtitle:"Last 6 months",children:n.jsx("div",{className:"h-72",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Mr,{data:g,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"month",tick:{fontSize:12}}),n.jsx(Jt,{tick:{fontSize:12}}),n.jsx(ut,{}),n.jsx(tr,{}),n.jsx(Qn,{dataKey:"present",fill:"#10b981",radius:[4,4,0,0],name:"Present"}),n.jsx(Qn,{dataKey:"absent",fill:"#ef4444",radius:[4,4,0,0],name:"Absent"})]})})})}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(X,{variant:"outline",onClick:()=>j("attendance"),children:[n.jsx(Wt,{className:"w-4 h-4"}),"Export Attendance"]})})]}),s==="leaves"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"glass p-6 rounded-xl text-center border-l-4 border-amber-500",children:[n.jsx("p",{className:"text-3xl font-bold text-amber-600",children:y.pending}),n.jsx("p",{className:"text-sm text-gray-500",children:"Pending"})]}),n.jsxs("div",{className:"glass p-6 rounded-xl text-center border-l-4 border-emerald-500",children:[n.jsx("p",{className:"text-3xl font-bold text-emerald-600",children:y.approved}),n.jsx("p",{className:"text-sm text-gray-500",children:"Approved"})]}),n.jsxs("div",{className:"glass p-6 rounded-xl text-center border-l-4 border-red-500",children:[n.jsx("p",{className:"text-3xl font-bold text-red-600",children:y.rejected}),n.jsx("p",{className:"text-sm text-gray-500",children:"Rejected"})]})]}),n.jsx(K,{title:"Leaves by Type",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(sr,{children:[n.jsx(Fa,{data:v,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:b,value:S})=>`${b}: ${S}`,children:v.map((b,S)=>n.jsx(An,{fill:sh[S%sh.length]},b.name))}),n.jsx(ut,{}),n.jsx(tr,{})]})})})}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(X,{variant:"outline",onClick:()=>j("leaves"),children:[n.jsx(Wt,{className:"w-4 h-4"}),"Export Leaves"]})})]})]})}const Jie=[{id:"profile",label:"Profile",icon:Dr},{id:"notifications",label:"Notifications",icon:Xr},{id:"preferences",label:"Preferences",icon:Tr}];function ele(){const e=Qe(v=>v.user),[t,a]=x.useState("profile"),[r,s]=x.useState(!1),[l,c]=x.useState({name:e?.name||"",email:e?.email||"",phone:"+92-300-1234567",office:"Block B, Room 201"}),[d,m]=x.useState({emailAlerts:!0,leaveRequests:!0,attendanceAlerts:!0,weeklyReports:!1}),[f,h]=x.useState({defaultView:"dashboard",itemsPerPage:"10",dateFormat:"dd/MM/yyyy"}),g=()=>{s(!0),setTimeout(()=>s(!1),2e3)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your portal preferences"})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Jie.map(v=>n.jsxs("button",{onClick:()=>a(v.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${t===v.id?"bg-emerald-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[n.jsx(v.icon,{className:"w-4 h-4"}),v.label]},v.id))}),t==="profile"&&n.jsx(K,{title:"Profile Information",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-20 h-20 rounded-full bg-linear-to-br from-emerald-500 to-green-500 flex items-center justify-center text-white text-2xl font-bold",children:e?.name?.charAt(0)||"H"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?.name}),n.jsxs("p",{className:"text-gray-500",children:["HOD - ",e?.department]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{label:"Full Name",children:n.jsx("input",{type:"text",value:l.name,onChange:v=>c({...l,name:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})}),n.jsx(tt,{label:"Email",children:n.jsx("input",{type:"email",value:l.email,onChange:v=>c({...l,email:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})}),n.jsx(tt,{label:"Phone",children:n.jsx("input",{type:"text",value:l.phone,onChange:v=>c({...l,phone:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})}),n.jsx(tt,{label:"Office",children:n.jsx("input",{type:"text",value:l.office,onChange:v=>c({...l,office:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(X,{onClick:g,children:r?"Saved!":"Save Changes"})})]})}),t==="notifications"&&n.jsx(K,{title:"Notification Preferences",children:n.jsxs("div",{className:"space-y-4",children:[[{key:"emailAlerts",label:"Email Alerts",desc:"Receive important updates via email"},{key:"leaveRequests",label:"Leave Requests",desc:"Get notified for leave requests"},{key:"attendanceAlerts",label:"Attendance Alerts",desc:"Alerts for attendance issues"},{key:"weeklyReports",label:"Weekly Reports",desc:"Receive weekly summary"}].map(v=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-100",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:v.label}),n.jsx("p",{className:"text-sm text-gray-500",children:v.desc})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:d[v.key],onChange:y=>m({...d,[v.key]:y.target.checked}),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:ring-4 peer-focus:ring-emerald-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-600"})]})]},v.key)),n.jsx("div",{className:"flex justify-end pt-4",children:n.jsx(X,{onClick:g,children:r?"Saved!":"Save Preferences"})})]})}),t==="preferences"&&n.jsx(K,{title:"Portal Preferences",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{label:"Default View",children:n.jsxs("select",{value:f.defaultView,onChange:v=>h({...f,defaultView:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[n.jsx("option",{value:"dashboard",children:"Dashboard"}),n.jsx("option",{value:"employees",children:"Department Staff"}),n.jsx("option",{value:"attendance",children:"Attendance"}),n.jsx("option",{value:"leaves",children:"Leaves"})]})}),n.jsx(tt,{label:"Items Per Page",children:n.jsxs("select",{value:f.itemsPerPage,onChange:v=>h({...f,itemsPerPage:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[n.jsx("option",{value:"10",children:"10"}),n.jsx("option",{value:"25",children:"25"}),n.jsx("option",{value:"50",children:"50"})]})}),n.jsx(tt,{label:"Date Format",children:n.jsxs("select",{value:f.dateFormat,onChange:v=>h({...f,dateFormat:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[n.jsx("option",{value:"dd/MM/yyyy",children:"DD/MM/YYYY"}),n.jsx("option",{value:"MM/dd/yyyy",children:"MM/DD/YYYY"}),n.jsx("option",{value:"yyyy-MM-dd",children:"YYYY-MM-DD"})]})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(X,{onClick:g,children:r?"Saved!":"Save Preferences"})})]})})]})}function tle(){const e=Qe(S=>S.user),{employees:t,leaves:a,attendance:r,updateLeaveStatus:s}=Ae(),[l,c]=x.useState(""),d=e?.department,m=x.useMemo(()=>t.filter(S=>!d||S.department===d),[t,d]),f=q(new Date,"yyyy-MM-dd"),h=x.useMemo(()=>r.filter(S=>S.date===f&&m.some(M=>M.id===S.employeeId)),[r,m,f]),v=x.useMemo(()=>a.filter(S=>m.some(M=>M.id===S.employeeId)),[a,m]).filter(S=>S.status==="Pending"||S.status==="Forwarded"),y={staff:m.length,pendingLeaves:v.length,present:h.filter(S=>S.status==="Present").length,late:h.filter(S=>S.status==="Late").length},j=(S,M)=>{s(S,M?"Approved":"Rejected","hod",e?.name||"HOD",l||""),c("")},b=S=>S==="Approved"?"success":S==="Rejected"?"error":S==="Forwarded"||S==="Pending"?"warning":"default";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Manager Self-Service"}),n.jsx("p",{className:"text-gray-600",children:"Department view, approvals, and attendance snapshot"})]}),n.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[{label:"Dept Staff",value:y.staff,icon:en,color:"indigo"},{label:"Pending Leaves",value:y.pendingLeaves,icon:Xe,color:"amber"},{label:"Present Today",value:y.present,icon:Le,color:"green"},{label:"Late Today",value:y.late,icon:Be,color:"rose"}].map(S=>n.jsx(K,{className:`border-${S.color}-100 bg-${S.color}-50`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm text-${S.color}-600`,children:S.label}),n.jsx("p",{className:`text-2xl font-bold text-${S.color}-800`,children:S.value})]}),n.jsx(S.icon,{className:`w-8 h-8 text-${S.color}-500`})]})},S.label))}),n.jsxs(K,{children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($a,{className:"w-5 h-5 text-gray-500"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"Pending Leave Approvals"})]})}),v.length===0?n.jsx("p",{className:"text-sm text-gray-500",children:"No pending leaves for your department."}):n.jsx("div",{className:"space-y-2 text-sm text-gray-800",children:v.map(S=>n.jsxs("div",{className:"border rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium capitalize",children:S.employeeName}),n.jsxs("p",{className:"text-xs text-gray-500",children:[S.type,"  ",S.startDate,"  ",S.endDate," (",S.days,"d)"]})]}),n.jsx(ge,{variant:b(S.status),children:S.status})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[n.jsx(X,{size:"sm",variant:"outline",onClick:()=>j(S.id,!0),children:"Approve"}),n.jsx(X,{size:"sm",variant:"outline",onClick:()=>j(S.id,!1),className:"text-red-600 border-red-200",children:"Reject"}),n.jsx("input",{className:"flex-1 min-w-[180px] rounded border px-3 py-1 text-xs",placeholder:"Notes (optional)",value:l,onChange:M=>c(M.target.value)})]})]},S.id))})]})]})}const nle={submitted:"info",returned:"warning","hod-confirmed":"primary","vc-approved":"success"},ale={fully:{label:"Fully Achieved",marks:100},largely:{label:"Largely Achieved",marks:85},partially:{label:"Partially Achieved",marks:70},not:{label:"Not Achieved",marks:0}};function rle(){const{user:e}=Qe(),t=Ae(y=>y.getPamsForHod),a=Ae(y=>y.hodReviewPams),[r,s]=x.useState(null),[l,c]=x.useState(""),[d,m]=x.useState(""),[f,h]=x.useState(""),g=x.useMemo(()=>e?.department?t(e.department):[],[t,e]),v=y=>{r&&(a(r.id,{action:y,comment:l,meetingDate:d,followUpDate:f,by:"hod"}),c(""),m(""),s(null),h(""))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(li,{className:"w-6 h-6 text-gray-600"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"PAMS Reviews"}),n.jsx("p",{className:"text-gray-600",children:"Confirm after meeting or return to employee for changes."})]})]}),n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(ms,{className:"w-5 h-5 text-gray-500"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"Pending submissions"})]}),g.length===0?n.jsx("p",{className:"text-sm text-gray-600",children:"No submitted forms for your department."}):n.jsx("div",{className:"space-y-3",children:g.map(y=>n.jsxs("button",{onClick:()=>s(y),className:`w-full text-left border rounded-lg p-3 hover:border-[hsl(var(--color-primary))] ${r?.id===y.id?"border-[hsl(var(--color-primary))] shadow-sm":""}`,children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:y.employeeName||y.employeeId}),n.jsx("p",{className:"text-xs text-gray-500",children:y.period}),y.followUpMeeting?.scheduledAt&&n.jsxs("p",{className:"text-[11px] text-gray-500",children:["Follow-up: ",y.followUpMeeting.scheduledAt," (",y.followUpMeeting.status||"pending",")"]})]}),n.jsx(ge,{variant:nle[y.status]||"secondary",children:y.status})]}),n.jsx("p",{className:"text-sm text-gray-700 mt-1 line-clamp-2",children:y.workload?.teachingLoad})]},y.id))})]}),r&&n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(cj,{className:"w-5 h-5 text-gray-500"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold text-gray-900",children:["Reviewing: ",r.employeeName||r.employeeId]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Period ",r.period]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(Tv,{children:"Teaching Assessment"}),n.jsx(Ws,{label:"Student Evaluation (SETE)",value:r.teachingAssessment?.studentEvaluation}),n.jsx(Ws,{label:"Teaching Workload",value:r.teachingAssessment?.teachingWorkload}),n.jsx(Ws,{label:"Course Completion",value:r.teachingAssessment?.courseCompletion}),n.jsx(Tv,{children:"Research & Supervision"}),n.jsx(Ws,{label:"FYP Supervision / Academic",value:r.fypSupervision}),n.jsx(Ws,{label:"MS/PhD Thesis Supervision",value:r.msPhDSupervision}),n.jsx(Ws,{label:"Research Publications",value:r.researchPublications}),n.jsx(Ws,{label:"Research Funding",value:r.researchFunding}),n.jsx(Tv,{children:"Service & Administration"}),n.jsx(Ws,{label:"Administrative Duties",value:r.administrativeDuties}),n.jsx(Ws,{label:"Service to Community",value:r.serviceToCommunity}),r.grievance&&n.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Grievance / Suggestion"}),n.jsx("p",{className:"text-sm text-gray-700 mt-1 whitespace-pre-line",children:r.grievance})]}),r.attachments?.length?n.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-800 mb-1",children:"Attachments"}),n.jsx("ul",{className:"text-sm text-gray-700 space-y-2",children:r.attachments.map(y=>n.jsxs("li",{className:"flex items-center justify-between gap-3",children:[n.jsx("span",{className:"font-medium text-gray-900",children:y.name||y.id}),n.jsxs("span",{className:"text-xs text-gray-500",children:[(y.size?Math.round(y.size/1024):0)||0," KB",y.type?`  ${y.type}`:""]})]},y.id))}),n.jsx("p",{className:"text-[11px] text-gray-500 mt-1",children:"Files are stored in submission; download/view is not available in this mock UI."})]}):null]}),n.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Meeting date",n.jsx("input",{type:"date",className:"mt-1",value:d,onChange:y=>m(y.target.value)})]}),n.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Follow-up meeting",n.jsx("input",{type:"date",className:"mt-1",value:f,onChange:y=>h(y.target.value),placeholder:"Optional"})]}),n.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Comments / required changes",n.jsx("textarea",{rows:3,className:"mt-1",value:l,onChange:y=>c(y.target.value),placeholder:"Confirmation notes or change requests"})]})]}),r.followUpMeeting&&n.jsxs("div",{className:"mt-3 border rounded-lg p-3 bg-gray-50",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Department performance follow-up"}),n.jsxs("p",{className:"text-sm text-gray-700",children:["Scheduled: ",r.followUpMeeting.scheduledAt||"TBD","  Status:"," ",r.followUpMeeting.status||"pending"]}),r.followUpMeeting.topic&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r.followUpMeeting.topic})]}),n.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2 mt-4",children:[n.jsx(X,{variant:"secondary",onClick:()=>s(null),children:"Clear selection"}),n.jsxs(X,{variant:"outline",onClick:()=>v("return"),className:"flex items-center gap-2",children:[n.jsx(lj,{className:"w-4 h-4"}),"Return to employee"]}),n.jsxs(X,{onClick:()=>v("confirm"),className:"flex items-center gap-2",children:[n.jsx(Le,{className:"w-4 h-4"}),"Confirm after meeting"]})]})]})]})}function Ws({label:e,value:t}){const a=t?ale[t]:null;return n.jsxs("div",{className:"flex items-center justify-between border rounded-lg p-3 bg-white",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-800",children:e}),n.jsx("p",{className:"text-xs text-gray-600",children:a?`${a.label} (${a.marks} marks)`:"No selection provided"})]}),a&&n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-blue-50 text-blue-700 border border-blue-200",children:a.label})]})}function Tv({children:e}){return n.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-2",children:e})}function sle(){return n.jsx(yi,{children:n.jsxs(Se,{element:n.jsx(Vie,{}),children:[n.jsx(Se,{index:!0,element:n.jsx(Kie,{})}),n.jsx(Se,{path:"employees",element:n.jsx(Wie,{})}),n.jsx(Se,{path:"attendance",element:n.jsx(Yie,{})}),n.jsx(Se,{path:"leaves",element:n.jsx(Zie,{})}),n.jsx(Se,{path:"self-service",element:n.jsx(tle,{})}),n.jsx(Se,{path:"pams",element:n.jsx(rle,{})}),n.jsx(Se,{path:"reports",element:n.jsx(Qie,{})}),n.jsx(Se,{path:"settings",element:n.jsx(ele,{})}),n.jsx(Se,{path:"*",element:n.jsx(ps,{to:".",replace:!0})})]})})}const ile=[{path:"/employee",label:"Dashboard",icon:zu,end:!0},{path:"/employee/attendance",label:"Attendance",icon:Be},{path:"/employee/leave",label:"Leave",icon:Xe},{path:"/employee/salary",label:"Salary",icon:nr},{path:"/employee/self-service",label:"Self-Service",icon:ys},{path:"/employee/pams",label:"PAMS",icon:di},{path:"/employee/promotions",label:"Promotions",icon:gs},{path:"/employee/resignation",label:"Resignation",icon:jc},{path:"/employee/policy-advisory",label:"Policy Advisory",icon:di},{path:"/employee/profile",label:"Profile",icon:Dr}];function lle(){return n.jsx(vi,{portalKey:"employee",portalName:"Employee Portal",navItems:ile})}function ole(){const e=Qe(D=>D.user),{employees:t,attendance:a,leaves:r,notifications:s}=Ae(),l=x.useMemo(()=>t.find(D=>D.id===e?.id||D.email===e?.email),[t,e]),c=l?.id||e?.id,d=x.useMemo(()=>a.filter(D=>D.employeeId===c),[a,c]),m=x.useMemo(()=>d.find(D=>D.date===q(new Date,"yyyy-MM-dd")),[d]),f=x.useMemo(()=>r.filter(D=>D.employeeId===c),[r,c]),h=x.useMemo(()=>{const D=La(new Date),k=Ia(new Date),_=d.filter(E=>{const P=ue(E.date);return xs(P,{start:D,end:k})});return{present:_.filter(E=>E.status==="Present").length,late:_.filter(E=>E.status==="Late").length,absent:_.filter(E=>E.status==="Absent").length,total:_.length}},[d]),g=f.filter(D=>D.status==="Pending").length,v=f.filter(D=>D.status==="Approved").length,y=l?.leaveBalance||{annual:0,sick:0,casual:0},j=y.annual+y.sick+y.casual,b=l?.salaryBase||0,S=h.late*500,M=h.absent*(b/22),w=b-S-M,A=x.useMemo(()=>s.filter(D=>D.userId===c||D.userId==="all").slice(0,5),[s,c]),O=D=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(D);return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-linear-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome back, ",l?.name?.split(" ")[0]||e?.name?.split(" ")[0],"! "]}),n.jsx("p",{className:"text-blue-100 mt-1",children:q(new Date,"EEEE, MMMM d, yyyy")})]}),n.jsx("div",{className:"flex items-center gap-3",children:m?n.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-lg px-4 py-2",children:[n.jsx("p",{className:"text-sm text-blue-100",children:"Clock In"}),n.jsx("p",{className:"font-semibold",children:m.clockIn||"--:--"})]}):n.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-lg px-4 py-2",children:[n.jsx("p",{className:"text-sm text-blue-100",children:"Today's Status"}),n.jsx("p",{className:"font-semibold",children:"Not Clocked In"})]})})]})}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx(wt,{title:"Present Days",value:h.present,subtitle:`This month (${h.late} late)`,icon:Le,trend:h.present>15?"up":"down",trendValue:`${Math.round(h.present/22*100)}%`,color:"success"}),n.jsx(wt,{title:"Leave Balance",value:j,subtitle:`${y.annual} annual, ${y.sick} sick`,icon:ht,color:"primary"}),n.jsx(wt,{title:"Pending Requests",value:g,subtitle:`${v} approved this year`,icon:Be,color:g>0?"warning":"default"}),n.jsx(wt,{title:"Est. Net Salary",value:O(w),subtitle:`Base: ${O(b)}`,icon:ar,trend:S>0?"down":"neutral",trendValue:S>0?`-${O(S+M)}`:"No deductions",color:"success"})]}),n.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[n.jsxs(K,{className:"lg:col-span-2",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"My Profile"}),n.jsxs(fn,{to:"/employee/profile",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:["View Full Profile ",n.jsx(lu,{className:"w-4 h-4"})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Employee Code"}),n.jsx("p",{className:"font-medium text-gray-900",children:l?.code||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Department"}),n.jsx("p",{className:"font-medium text-gray-900",children:l?.department||e?.department})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Designation"}),n.jsx("p",{className:"font-medium text-gray-900",children:l?.designation||e?.designation||"N/A"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Faculty"}),n.jsx("p",{className:"font-medium text-gray-900",children:l?.faculty||e?.faculty})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Join Date"}),n.jsx("p",{className:"font-medium text-gray-900",children:l?.joinDate||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Status"}),n.jsx(ge,{variant:l?.status==="Active"?"success":"warning",children:l?.status||"Active"})]})]})]})]}),n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Leave Balance"}),n.jsx(fn,{to:"/employee/leave",className:"text-sm text-blue-600 hover:text-blue-800",children:"Apply"})]}),n.jsx("div",{className:"space-y-3",children:Object.entries(y).map(([D,k])=>{const E=Zs.find(z=>z.id===D)?.defaultDays||20,P=Math.min(k/E*100,100);return n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"capitalize text-gray-600",children:D}),n.jsxs("span",{className:"font-medium",children:[k," days"]})]}),n.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full rounded-full transition-all ${P>50?"bg-green-500":P>20?"bg-yellow-500":"bg-red-500"}`,style:{width:`${P}%`}})})]},D)})})]})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Leave Requests"}),n.jsx(fn,{to:"/employee/leave",className:"text-sm text-blue-600 hover:text-blue-800",children:"View All"})]}),f.length===0?n.jsxs("div",{className:"text-center py-6 text-gray-500",children:[n.jsx(ht,{className:"w-10 h-10 mx-auto text-gray-300 mb-2"}),n.jsx("p",{className:"text-sm",children:"No leave requests yet"})]}):n.jsx("div",{className:"space-y-3",children:f.slice(0,4).map(D=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-900 capitalize",children:[D.type," Leave"]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[D.startDate,"  ",D.days," day",D.days>1?"s":""]})]}),n.jsx(ge,{variant:D.status==="Approved"?"success":D.status==="Pending"?"warning":"error",children:D.status})]},D.id))})]}),n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"}),n.jsxs("span",{className:"text-xs text-gray-500",children:[A.length," new"]})]}),A.length===0?n.jsxs("div",{className:"text-center py-6 text-gray-500",children:[n.jsx(Xr,{className:"w-10 h-10 mx-auto text-gray-300 mb-2"}),n.jsx("p",{className:"text-sm",children:"No notifications"})]}):n.jsx("div",{className:"space-y-3",children:A.map(D=>n.jsxs("div",{className:"flex gap-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:`shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${D.type==="success"?"bg-green-100 text-green-600":D.type==="warning"?"bg-yellow-100 text-yellow-600":D.type==="error"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:n.jsx(Xr,{className:"w-4 h-4"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:D.title}),n.jsx("p",{className:"text-xs text-gray-500 truncate",children:D.message})]})]},D.id))})]})]}),n.jsxs(K,{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[n.jsxs(fn,{to:"/employee/attendance",className:"flex flex-col items-center gap-2 p-4 rounded-lg bg-blue-50 hover:bg-blue-100 transition-colors",children:[n.jsx(Be,{className:"w-6 h-6 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-blue-900",children:"View Attendance"})]}),n.jsxs(fn,{to:"/employee/leave",className:"flex flex-col items-center gap-2 p-4 rounded-lg bg-green-50 hover:bg-green-100 transition-colors",children:[n.jsx(ht,{className:"w-6 h-6 text-green-600"}),n.jsx("span",{className:"text-sm font-medium text-green-900",children:"Apply Leave"})]}),n.jsxs(fn,{to:"/employee/salary",className:"flex flex-col items-center gap-2 p-4 rounded-lg bg-amber-50 hover:bg-amber-100 transition-colors",children:[n.jsx(ar,{className:"w-6 h-6 text-amber-600"}),n.jsx("span",{className:"text-sm font-medium text-amber-900",children:"View Salary"})]}),n.jsxs(fn,{to:"/employee/profile",className:"flex flex-col items-center gap-2 p-4 rounded-lg bg-purple-50 hover:bg-purple-100 transition-colors",children:[n.jsx(ED,{className:"w-6 h-6 text-purple-600"}),n.jsx("span",{className:"text-sm font-medium text-purple-900",children:"My Profile"})]})]})]})]})}function cle(e,t,a="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:a}).format(t).split(/\s/g).slice(2).join(" ")}const dle={},iu={};function ql(e,t){try{const r=(dle[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return r in iu?iu[r]:mD(r,r.split(":"))}catch{if(e in iu)return iu[e];const a=e?.match(ule);return a?mD(e,a.slice(1)):NaN}}const ule=/([+-]\d\d):?(\d\d)?/;function mD(e,t){const a=+(t[0]||0),r=+(t[1]||0),s=+(t[2]||0)/60;return iu[e]=a*60+r>0?a*60+r+s:a*60-r-s}class us extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(ql(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),A6(this),aj(this)):this.setTime(Date.now())}static tz(t,...a){return a.length?new us(...a,t):new us(Date.now(),t)}withTimeZone(t){return new us(+this,t)}getTimezoneOffset(){const t=-ql(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),aj(this),+this}[Symbol.for("constructDateFrom")](t){return new us(+new Date(t),this.timeZone)}}const fD=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!fD.test(e))return;const t=e.replace(fD,"$1UTC");us.prototype[t]&&(e.startsWith("get")?us.prototype[e]=function(){return this.internal[t]()}:(us.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),mle(this),+this},us.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),aj(this),+this}))});function aj(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-ql(e.timeZone,e)*60))}function mle(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),A6(e)}function A6(e){const t=ql(e.timeZone,e),a=t>0?Math.floor(t):Math.ceil(t),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);const s=-new Date(+e).getTimezoneOffset(),l=-new Date(+r).getTimezoneOffset(),c=s-l,d=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();c&&d&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+c);const m=s-a;m&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+m);const f=new Date(+e);f.setUTCSeconds(0);const h=s>0?f.getSeconds():(f.getSeconds()-60)%60,g=Math.round(-(ql(e.timeZone,e)*60))%60;(g||h)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+g),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+g+h));const v=ql(e.timeZone,e),y=v>0?Math.floor(v):Math.ceil(v),b=-new Date(+e).getTimezoneOffset()-y,S=y!==a,M=b-m;if(S&&M){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+M);const w=ql(e.timeZone,e),A=w>0?Math.floor(w):Math.ceil(w),O=y-A;O&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+O),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+O))}}class ni extends us{static tz(t,...a){return a.length?new ni(...a,t):new ni(Date.now(),t)}toISOString(){const[t,a,r]=this.tzComponents(),s=`${t}${a}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,a,r,s]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${r} ${a} ${s}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[a,r,s]=this.tzComponents();return`${t} GMT${a}${r}${s} (${cle(this.timeZone,this)})`}toLocaleString(t,a){return Date.prototype.toLocaleString.call(this,t,{...a,timeZone:a?.timeZone||this.timeZone})}toLocaleDateString(t,a){return Date.prototype.toLocaleDateString.call(this,t,{...a,timeZone:a?.timeZone||this.timeZone})}toLocaleTimeString(t,a){return Date.prototype.toLocaleTimeString.call(this,t,{...a,timeZone:a?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),a=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),s=String(Math.abs(t)%60).padStart(2,"0");return[a,r,s]}withTimeZone(t){return new ni(+this,t)}[Symbol.for("constructDateFrom")](t){return new ni(+new Date(t),this.timeZone)}}const hD=5,fle=4;function hle(e,t){const a=t.startOfMonth(e),r=a.getDay()>0?a.getDay():7,s=t.addDays(e,-r+1),l=t.addDays(s,hD*7-1);return t.getMonth(e)===t.getMonth(l)?hD:fle}function C6(e,t){const a=t.startOfMonth(e),r=a.getDay();return r===1?a:r===0?t.addDays(a,-6):t.addDays(a,-1*(r-1))}function ple(e,t){const a=C6(e,t),r=hle(e,t);return t.addDays(a,r*7-1)}class lr{constructor(t,a){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?ni.tz(this.options.timeZone):new this.Date,this.newDate=(r,s,l)=>this.overrides?.newDate?this.overrides.newDate(r,s,l):this.options.timeZone?new ni(r,s,l,this.options.timeZone):new Date(r,s,l),this.addDays=(r,s)=>this.overrides?.addDays?this.overrides.addDays(r,s):cs(r,s),this.addMonths=(r,s)=>this.overrides?.addMonths?this.overrides.addMonths(r,s):eL(r,s),this.addWeeks=(r,s)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,s):tL(r,s),this.addYears=(r,s)=>this.overrides?.addYears?this.overrides.addYears(r,s):nL(r,s),this.differenceInCalendarDays=(r,s)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,s):aL(r,s),this.differenceInCalendarMonths=(r,s)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,s):rL(r,s),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):sL(r),this.eachYearOfInterval=r=>{const s=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(r):iL(r),l=new Set(s.map(d=>this.getYear(d)));if(l.size===s.length)return s;const c=[];return l.forEach(d=>{c.push(new Date(d,0,1))}),c},this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):ple(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):lL(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):Ia(r),this.endOfWeek=(r,s)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,s):oL(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):cL(r),this.format=(r,s,l)=>{const c=this.overrides?.format?this.overrides.format(r,s,this.options):q(r,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):dL(r),this.getMonth=(r,s)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):uL(r,this.options),this.getYear=(r,s)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):mL(r,this.options),this.getWeek=(r,s)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):fL(r,this.options),this.isAfter=(r,s)=>this.overrides?.isAfter?this.overrides.isAfter(r,s):hL(r,s),this.isBefore=(r,s)=>this.overrides?.isBefore?this.overrides.isBefore(r,s):pL(r,s),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):xL(r),this.isSameDay=(r,s)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,s):gL(r,s),this.isSameMonth=(r,s)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,s):yL(r,s),this.isSameYear=(r,s)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,s):vL(r,s),this.max=r=>this.overrides?.max?this.overrides.max(r):bL(r),this.min=r=>this.overrides?.min?this.overrides.min(r):jL(r),this.setMonth=(r,s)=>this.overrides?.setMonth?this.overrides.setMonth(r,s):NL(r,s),this.setYear=(r,s)=>this.overrides?.setYear?this.overrides.setYear(r,s):wL(r,s),this.startOfBroadcastWeek=(r,s)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):C6(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):SL(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):AL(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):La(r),this.startOfWeek=(r,s)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):CL(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):ML(r),this.options={locale:CD,...t},this.overrides=a}getDigitMap(){const{numerals:t="latn"}=this.options,a=new Intl.NumberFormat("en-US",{numberingSystem:t}),r={};for(let s=0;s<10;s++)r[s.toString()]=a.format(s);return r}replaceDigits(t){const a=this.getDigitMap();return t.replace(/\d/g,r=>a[r]||r)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&lr.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:a,timeZone:r,numerals:s}=this.options,l=a?.code;if(l&&lr.yearFirstLocales.has(l))try{return new Intl.DateTimeFormat(l,{month:"long",year:"numeric",timeZone:r,numberingSystem:s}).format(t)}catch{}const c=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,c)}}lr.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Cs=new lr;class M6{constructor(t,a,r=Cs){this.date=t,this.displayMonth=a,this.outside=!!(a&&!r.isSameMonth(t,a)),this.dateLib=r,this.isoDate=r.format(t,"yyyy-MM-dd"),this.displayMonthId=r.format(a,"yyyy-MM"),this.dateMonthId=r.format(t,"yyyy-MM")}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class xle{constructor(t,a){this.date=t,this.weeks=a}}class gle{constructor(t,a){this.days=a,this.weekNumber=t}}function yle(e){return De.createElement("button",{...e})}function vle(e){return De.createElement("span",{...e})}function ble(e){const{size:t=24,orientation:a="left",className:r}=e;return De.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},a==="up"&&De.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),a==="down"&&De.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),a==="left"&&De.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),a==="right"&&De.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function jle(e){const{day:t,modifiers:a,...r}=e;return De.createElement("td",{...r})}function Nle(e){const{day:t,modifiers:a,...r}=e,s=De.useRef(null);return De.useEffect(()=>{a.focused&&s.current?.focus()},[a.focused]),De.createElement("button",{ref:s,...r})}var Ue;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(Ue||(Ue={}));var mn;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(mn||(mn={}));var Wr;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(Wr||(Wr={}));var Za;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(Za||(Za={}));function wle(e){const{options:t,className:a,components:r,classNames:s,...l}=e,c=[s[Ue.Dropdown],a].join(" "),d=t?.find(({value:m})=>m===l.value);return De.createElement("span",{"data-disabled":l.disabled,className:s[Ue.DropdownRoot]},De.createElement(r.Select,{className:c,...l},t?.map(({value:m,label:f,disabled:h})=>De.createElement(r.Option,{key:m,value:m,disabled:h},f))),De.createElement("span",{className:s[Ue.CaptionLabel],"aria-hidden":!0},d?.label,De.createElement(r.Chevron,{orientation:"down",size:18,className:s[Ue.Chevron]})))}function Sle(e){return De.createElement("div",{...e})}function Ale(e){return De.createElement("div",{...e})}function Cle(e){const{calendarMonth:t,displayIndex:a,...r}=e;return De.createElement("div",{...r},e.children)}function Mle(e){const{calendarMonth:t,displayIndex:a,...r}=e;return De.createElement("div",{...r})}function Dle(e){return De.createElement("table",{...e})}function Ole(e){return De.createElement("div",{...e})}const D6=x.createContext(void 0);function vm(){const e=x.useContext(D6);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function Ele(e){const{components:t}=vm();return De.createElement(t.Dropdown,{...e})}function kle(e){const{onPreviousClick:t,onNextClick:a,previousMonth:r,nextMonth:s,...l}=e,{components:c,classNames:d,labels:{labelPrevious:m,labelNext:f}}=vm(),h=x.useCallback(v=>{s&&a?.(v)},[s,a]),g=x.useCallback(v=>{r&&t?.(v)},[r,t]);return De.createElement("nav",{...l},De.createElement(c.PreviousMonthButton,{type:"button",className:d[Ue.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":m(r),onClick:g},De.createElement(c.Chevron,{disabled:r?void 0:!0,className:d[Ue.Chevron],orientation:"left"})),De.createElement(c.NextMonthButton,{type:"button",className:d[Ue.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":f(s),onClick:h},De.createElement(c.Chevron,{disabled:s?void 0:!0,orientation:"right",className:d[Ue.Chevron]})))}function Ple(e){const{components:t}=vm();return De.createElement(t.Button,{...e})}function Rle(e){return De.createElement("option",{...e})}function _le(e){const{components:t}=vm();return De.createElement(t.Button,{...e})}function Tle(e){const{rootRef:t,...a}=e;return De.createElement("div",{...a,ref:t})}function Lle(e){return De.createElement("select",{...e})}function Ile(e){const{week:t,...a}=e;return De.createElement("tr",{...a})}function zle(e){return De.createElement("th",{...e})}function $le(e){return De.createElement("thead",{"aria-hidden":!0},De.createElement("tr",{...e}))}function Ble(e){const{week:t,...a}=e;return De.createElement("th",{...a})}function Fle(e){return De.createElement("th",{...e})}function Ule(e){return De.createElement("tbody",{...e})}function qle(e){const{components:t}=vm();return De.createElement(t.Dropdown,{...e})}const Hle=Object.freeze(Object.defineProperty({__proto__:null,Button:yle,CaptionLabel:vle,Chevron:ble,Day:jle,DayButton:Nle,Dropdown:wle,DropdownNav:Sle,Footer:Ale,Month:Cle,MonthCaption:Mle,MonthGrid:Dle,Months:Ole,MonthsDropdown:Ele,Nav:kle,NextMonthButton:Ple,Option:Rle,PreviousMonthButton:_le,Root:Tle,Select:Lle,Week:Ile,WeekNumber:Ble,WeekNumberHeader:Fle,Weekday:zle,Weekdays:$le,Weeks:Ule,YearsDropdown:qle},Symbol.toStringTag,{value:"Module"}));function ai(e,t,a=!1,r=Cs){let{from:s,to:l}=e;const{differenceInCalendarDays:c,isSameDay:d}=r;return s&&l?(c(l,s)<0&&([s,l]=[l,s]),c(t,s)>=(a?1:0)&&c(l,t)>=(a?1:0)):!a&&l?d(l,t):!a&&s?d(s,t):!1}function DN(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function bx(e){return!!(e&&typeof e=="object"&&"from"in e)}function ON(e){return!!(e&&typeof e=="object"&&"after"in e)}function EN(e){return!!(e&&typeof e=="object"&&"before"in e)}function O6(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function E6(e,t){return Array.isArray(e)&&e.every(t.isDate)}function ri(e,t,a=Cs){const r=Array.isArray(t)?t:[t],{isSameDay:s,differenceInCalendarDays:l,isAfter:c}=a;return r.some(d=>{if(typeof d=="boolean")return d;if(a.isDate(d))return s(e,d);if(E6(d,a))return d.includes(e);if(bx(d))return ai(d,e,!1,a);if(O6(d))return Array.isArray(d.dayOfWeek)?d.dayOfWeek.includes(e.getDay()):d.dayOfWeek===e.getDay();if(DN(d)){const m=l(d.before,e),f=l(d.after,e),h=m>0,g=f<0;return c(d.before,d.after)?g&&h:h||g}return ON(d)?l(e,d.after)>0:EN(d)?l(d.before,e)>0:typeof d=="function"?d(e):!1})}function Vle(e,t,a,r,s){const{disabled:l,hidden:c,modifiers:d,showOutsideDays:m,broadcastCalendar:f,today:h=s.today()}=t,{isSameDay:g,isSameMonth:v,startOfMonth:y,isBefore:j,endOfMonth:b,isAfter:S}=s,M=a&&y(a),w=r&&b(r),A={[mn.focused]:[],[mn.outside]:[],[mn.disabled]:[],[mn.hidden]:[],[mn.today]:[]},O={};for(const D of e){const{date:k,displayMonth:_}=D,E=!!(_&&!v(k,_)),P=!!(M&&j(k,M)),z=!!(w&&S(k,w)),L=!!(l&&ri(k,l,s)),I=!!(c&&ri(k,c,s))||P||z||!f&&!m&&E||f&&m===!1&&E,J=g(k,h);E&&A.outside.push(D),L&&A.disabled.push(D),I&&A.hidden.push(D),J&&A.today.push(D),d&&Object.keys(d).forEach(T=>{const Y=d?.[T];Y&&ri(k,Y,s)&&(O[T]?O[T].push(D):O[T]=[D])})}return D=>{const k={[mn.focused]:!1,[mn.disabled]:!1,[mn.hidden]:!1,[mn.outside]:!1,[mn.today]:!1},_={};for(const E in A){const P=A[E];k[E]=P.some(z=>z===D)}for(const E in O)_[E]=O[E].some(P=>P===D);return{...k,..._}}}function Kle(e,t,a={}){return Object.entries(e).filter(([,s])=>s===!0).reduce((s,[l])=>(a[l]?s.push(a[l]):t[mn[l]]?s.push(t[mn[l]]):t[Wr[l]]&&s.push(t[Wr[l]]),s),[t[Ue.Day]])}function Wle(e){return{...Hle,...e}}function Yle(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([a,r])=>{a.startsWith("data-")&&(t[a]=r)}),t}function Gle(){const e={};for(const t in Ue)e[Ue[t]]=`rdp-${Ue[t]}`;for(const t in mn)e[mn[t]]=`rdp-${mn[t]}`;for(const t in Wr)e[Wr[t]]=`rdp-${Wr[t]}`;for(const t in Za)e[Za[t]]=`rdp-${Za[t]}`;return e}function k6(e,t,a){return(a??new lr(t)).formatMonthYear(e)}const Zle=k6;function Xle(e,t,a){return(a??new lr(t)).format(e,"d")}function Qle(e,t=Cs){return t.format(e,"LLLL")}function Jle(e,t,a){return(a??new lr(t)).format(e,"cccccc")}function eoe(e,t=Cs){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function toe(){return""}function P6(e,t=Cs){return t.format(e,"yyyy")}const noe=P6,aoe=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:k6,formatDay:Xle,formatMonthCaption:Zle,formatMonthDropdown:Qle,formatWeekNumber:eoe,formatWeekNumberHeader:toe,formatWeekdayName:Jle,formatYearCaption:noe,formatYearDropdown:P6},Symbol.toStringTag,{value:"Module"}));function roe(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...aoe,...e}}function soe(e,t,a,r,s){const{startOfMonth:l,startOfYear:c,endOfYear:d,eachMonthOfInterval:m,getMonth:f}=s;return m({start:c(e),end:d(e)}).map(v=>{const y=r.formatMonthDropdown(v,s),j=f(v),b=t&&v<l(t)||a&&v>l(a)||!1;return{value:j,label:y,disabled:b}})}function ioe(e,t={},a={}){let r={...t?.[Ue.Day]};return Object.entries(e).filter(([,s])=>s===!0).forEach(([s])=>{r={...r,...a?.[s]}}),r}function loe(e,t,a,r){const s=r??e.today(),l=a?e.startOfBroadcastWeek(s,e):t?e.startOfISOWeek(s):e.startOfWeek(s),c=[];for(let d=0;d<7;d++){const m=e.addDays(l,d);c.push(m)}return c}function ooe(e,t,a,r,s=!1){if(!e||!t)return;const{startOfYear:l,endOfYear:c,eachYearOfInterval:d,getYear:m}=r,f=l(e),h=c(t),g=d({start:f,end:h});return s&&g.reverse(),g.map(v=>{const y=a.formatYearDropdown(v,r);return{value:m(v),label:y,disabled:!1}})}function R6(e,t,a,r){let s=(r??new lr(a)).format(e,"PPPP");return t.today&&(s=`Today, ${s}`),t.selected&&(s=`${s}, selected`),s}const coe=R6;function _6(e,t,a){return(a??new lr(t)).formatMonthYear(e)}const doe=_6;function uoe(e,t,a,r){let s=(r??new lr(a)).format(e,"PPPP");return t?.today&&(s=`Today, ${s}`),s}function moe(e){return"Choose the Month"}function foe(){return""}function hoe(e){return"Go to the Next Month"}function poe(e){return"Go to the Previous Month"}function xoe(e,t,a){return(a??new lr(t)).format(e,"cccc")}function goe(e,t){return`Week ${e}`}function yoe(e){return"Week Number"}function voe(e){return"Choose the Year"}const boe=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:doe,labelDay:coe,labelDayButton:R6,labelGrid:_6,labelGridcell:uoe,labelMonthDropdown:moe,labelNav:foe,labelNext:hoe,labelPrevious:poe,labelWeekNumber:goe,labelWeekNumberHeader:yoe,labelWeekday:xoe,labelYearDropdown:voe},Symbol.toStringTag,{value:"Module"})),bm=e=>e instanceof HTMLElement?e:null,Lv=e=>[...e.querySelectorAll("[data-animated-month]")??[]],joe=e=>bm(e.querySelector("[data-animated-month]")),Iv=e=>bm(e.querySelector("[data-animated-caption]")),zv=e=>bm(e.querySelector("[data-animated-weeks]")),Noe=e=>bm(e.querySelector("[data-animated-nav]")),woe=e=>bm(e.querySelector("[data-animated-weekdays]"));function Soe(e,t,{classNames:a,months:r,focused:s,dateLib:l}){const c=x.useRef(null),d=x.useRef(r),m=x.useRef(!1);x.useLayoutEffect(()=>{const f=d.current;if(d.current=r,!t||!e.current||!(e.current instanceof HTMLElement)||r.length===0||f.length===0||r.length!==f.length)return;const h=l.isSameMonth(r[0].date,f[0].date),g=l.isAfter(r[0].date,f[0].date),v=g?a[Za.caption_after_enter]:a[Za.caption_before_enter],y=g?a[Za.weeks_after_enter]:a[Za.weeks_before_enter],j=c.current,b=e.current.cloneNode(!0);if(b instanceof HTMLElement?(Lv(b).forEach(A=>{if(!(A instanceof HTMLElement))return;const O=joe(A);O&&A.contains(O)&&A.removeChild(O);const D=Iv(A);D&&D.classList.remove(v);const k=zv(A);k&&k.classList.remove(y)}),c.current=b):c.current=null,m.current||h||s)return;const S=j instanceof HTMLElement?Lv(j):[],M=Lv(e.current);if(M?.every(w=>w instanceof HTMLElement)&&S&&S.every(w=>w instanceof HTMLElement)){m.current=!0,e.current.style.isolation="isolate";const w=Noe(e.current);w&&(w.style.zIndex="1"),M.forEach((A,O)=>{const D=S[O];if(!D)return;A.style.position="relative",A.style.overflow="hidden";const k=Iv(A);k&&k.classList.add(v);const _=zv(A);_&&_.classList.add(y);const E=()=>{m.current=!1,e.current&&(e.current.style.isolation=""),w&&(w.style.zIndex=""),k&&k.classList.remove(v),_&&_.classList.remove(y),A.style.position="",A.style.overflow="",A.contains(D)&&A.removeChild(D)};D.style.pointerEvents="none",D.style.position="absolute",D.style.overflow="hidden",D.setAttribute("aria-hidden","true");const P=woe(D);P&&(P.style.opacity="0");const z=Iv(D);z&&(z.classList.add(g?a[Za.caption_before_exit]:a[Za.caption_after_exit]),z.addEventListener("animationend",E));const L=zv(D);L&&L.classList.add(g?a[Za.weeks_before_exit]:a[Za.weeks_after_exit]),A.insertBefore(D,A.firstChild)})}})}function Aoe(e,t,a,r){const s=e[0],l=e[e.length-1],{ISOWeek:c,fixedWeeks:d,broadcastCalendar:m}=a??{},{addDays:f,differenceInCalendarDays:h,differenceInCalendarMonths:g,endOfBroadcastWeek:v,endOfISOWeek:y,endOfMonth:j,endOfWeek:b,isAfter:S,startOfBroadcastWeek:M,startOfISOWeek:w,startOfWeek:A}=r,O=m?M(s,r):c?w(s):A(s),D=m?v(l):c?y(j(l)):b(j(l)),k=h(D,O),_=g(l,s)+1,E=[];for(let L=0;L<=k;L++){const I=f(O,L);if(t&&S(I,t))break;E.push(I)}const z=(m?35:42)*_;if(d&&E.length<z){const L=z-E.length;for(let I=0;I<L;I++){const J=f(E[E.length-1],1);E.push(J)}}return E}function Coe(e){const t=[];return e.reduce((a,r)=>{const s=r.weeks.reduce((l,c)=>l.concat(c.days.slice()),t.slice());return a.concat(s.slice())},t.slice())}function Moe(e,t,a,r){const{numberOfMonths:s=1}=a,l=[];for(let c=0;c<s;c++){const d=r.addMonths(e,c);if(t&&d>t)break;l.push(d)}return l}function pD(e,t,a,r){const{month:s,defaultMonth:l,today:c=r.today(),numberOfMonths:d=1}=e;let m=s||l||c;const{differenceInCalendarMonths:f,addMonths:h,startOfMonth:g}=r;if(a&&f(a,m)<d-1){const v=-1*(d-1);m=h(a,v)}return t&&f(m,t)<0&&(m=t),g(m)}function Doe(e,t,a,r){const{addDays:s,endOfBroadcastWeek:l,endOfISOWeek:c,endOfMonth:d,endOfWeek:m,getISOWeek:f,getWeek:h,startOfBroadcastWeek:g,startOfISOWeek:v,startOfWeek:y}=r,j=e.reduce((b,S)=>{const M=a.broadcastCalendar?g(S,r):a.ISOWeek?v(S):y(S),w=a.broadcastCalendar?l(S):a.ISOWeek?c(d(S)):m(d(S)),A=t.filter(_=>_>=M&&_<=w),O=a.broadcastCalendar?35:42;if(a.fixedWeeks&&A.length<O){const _=t.filter(E=>{const P=O-A.length;return E>w&&E<=s(w,P)});A.push(..._)}const D=A.reduce((_,E)=>{const P=a.ISOWeek?f(E):h(E),z=_.find(I=>I.weekNumber===P),L=new M6(E,S,r);return z?z.days.push(L):_.push(new gle(P,[L])),_},[]),k=new xle(S,D);return b.push(k),b},[]);return a.reverseMonths?j.reverse():j}function Ooe(e,t){let{startMonth:a,endMonth:r}=e;const{startOfYear:s,startOfDay:l,startOfMonth:c,endOfMonth:d,addYears:m,endOfYear:f,newDate:h,today:g}=t,{fromYear:v,toYear:y,fromMonth:j,toMonth:b}=e;!a&&j&&(a=j),!a&&v&&(a=t.newDate(v,0,1)),!r&&b&&(r=b),!r&&y&&(r=h(y,11,31));const S=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return a?a=c(a):v?a=h(v,0,1):!a&&S&&(a=s(m(e.today??g(),-100))),r?r=d(r):y?r=h(y,11,31):!r&&S&&(r=f(e.today??g())),[a&&l(a),r&&l(r)]}function Eoe(e,t,a,r){if(a.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:l=1}=a,{startOfMonth:c,addMonths:d,differenceInCalendarMonths:m}=r,f=s?l:1,h=c(e);if(!t)return d(h,f);if(!(m(t,e)<l))return d(h,f)}function koe(e,t,a,r){if(a.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:l}=a,{startOfMonth:c,addMonths:d,differenceInCalendarMonths:m}=r,f=s?l??1:1,h=c(e);if(!t)return d(h,-f);if(!(m(h,t)<=0))return d(h,-f)}function Poe(e){const t=[];return e.reduce((a,r)=>a.concat(r.weeks.slice()),t.slice())}function jx(e,t){const[a,r]=x.useState(e);return[t===void 0?a:t,r]}function Roe(e,t){const[a,r]=Ooe(e,t),{startOfMonth:s,endOfMonth:l}=t,c=pD(e,a,r,t),[d,m]=jx(c,e.month?c:void 0);x.useEffect(()=>{const O=pD(e,a,r,t);m(O)},[e.timeZone]);const{months:f,weeks:h,days:g,previousMonth:v,nextMonth:y}=x.useMemo(()=>{const O=Moe(d,r,{numberOfMonths:e.numberOfMonths},t),D=Aoe(O,e.endMonth?l(e.endMonth):void 0,{ISOWeek:e.ISOWeek,fixedWeeks:e.fixedWeeks,broadcastCalendar:e.broadcastCalendar},t),k=Doe(O,D,{broadcastCalendar:e.broadcastCalendar,fixedWeeks:e.fixedWeeks,ISOWeek:e.ISOWeek,reverseMonths:e.reverseMonths},t),_=Poe(k),E=Coe(k),P=koe(d,a,e,t),z=Eoe(d,r,e,t);return{months:k,weeks:_,days:E,previousMonth:P,nextMonth:z}},[t,d.getTime(),r?.getTime(),a?.getTime(),e.disableNavigation,e.broadcastCalendar,e.endMonth?.getTime(),e.fixedWeeks,e.ISOWeek,e.numberOfMonths,e.pagedNavigation,e.reverseMonths]),{disableNavigation:j,onMonthChange:b}=e,S=O=>h.some(D=>D.days.some(k=>k.isEqualTo(O))),M=O=>{if(j)return;let D=s(O);a&&D<s(a)&&(D=s(a)),r&&D>s(r)&&(D=s(r)),m(D),b?.(D)};return{months:f,weeks:h,days:g,navStart:a,navEnd:r,previousMonth:v,nextMonth:y,goToMonth:M,goToDay:O=>{S(O)||M(O.date)}}}var rs;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(rs||(rs={}));function xD(e){return!e[mn.disabled]&&!e[mn.hidden]&&!e[mn.outside]}function _oe(e,t,a,r){let s,l=-1;for(const c of e){const d=t(c);xD(d)&&(d[mn.focused]&&l<rs.FocusedModifier?(s=c,l=rs.FocusedModifier):r?.isEqualTo(c)&&l<rs.LastFocused?(s=c,l=rs.LastFocused):a(c.date)&&l<rs.Selected?(s=c,l=rs.Selected):d[mn.today]&&l<rs.Today&&(s=c,l=rs.Today))}return s||(s=e.find(c=>xD(t(c)))),s}function Toe(e,t,a,r,s,l,c){const{ISOWeek:d,broadcastCalendar:m}=l,{addDays:f,addMonths:h,addWeeks:g,addYears:v,endOfBroadcastWeek:y,endOfISOWeek:j,endOfWeek:b,max:S,min:M,startOfBroadcastWeek:w,startOfISOWeek:A,startOfWeek:O}=c;let k={day:f,week:g,month:h,year:v,startOfWeek:_=>m?w(_,c):d?A(_):O(_),endOfWeek:_=>m?y(_):d?j(_):b(_)}[e](a,t==="after"?1:-1);return t==="before"&&r?k=S([r,k]):t==="after"&&s&&(k=M([s,k])),k}function T6(e,t,a,r,s,l,c,d=0){if(d>365)return;const m=Toe(e,t,a.date,r,s,l,c),f=!!(l.disabled&&ri(m,l.disabled,c)),h=!!(l.hidden&&ri(m,l.hidden,c)),g=m,v=new M6(m,g,c);return!f&&!h?v:T6(e,t,v,r,s,l,c,d+1)}function Loe(e,t,a,r,s){const{autoFocus:l}=e,[c,d]=x.useState(),m=_oe(t.days,a,r||(()=>!1),c),[f,h]=x.useState(l?m:void 0);return{isFocusTarget:b=>!!m?.isEqualTo(b),setFocused:h,focused:f,blur:()=>{d(f),h(void 0)},moveFocus:(b,S)=>{if(!f)return;const M=T6(b,S,f,t.navStart,t.navEnd,e,s);M&&(e.disableNavigation&&!t.days.some(A=>A.isEqualTo(M))||(t.goToDay(M),h(M)))}}}function Ioe(e,t){const{selected:a,required:r,onSelect:s}=e,[l,c]=jx(a,s?a:void 0),d=s?a:l,{isSameDay:m}=t,f=y=>d?.some(j=>m(j,y))??!1,{min:h,max:g}=e;return{selected:d,select:(y,j,b)=>{let S=[...d??[]];if(f(y)){if(d?.length===h||r&&d?.length===1)return;S=d?.filter(M=>!m(M,y))}else d?.length===g?S=[y]:S=[...S,y];return s||c(S),s?.(S,y,j,b),S},isSelected:f}}function zoe(e,t,a=0,r=0,s=!1,l=Cs){const{from:c,to:d}=t||{},{isSameDay:m,isAfter:f,isBefore:h}=l;let g;if(!c&&!d)g={from:e,to:a>0?void 0:e};else if(c&&!d)m(c,e)?a===0?g={from:c,to:e}:s?g={from:c,to:void 0}:g=void 0:h(e,c)?g={from:e,to:c}:g={from:c,to:e};else if(c&&d)if(m(c,e)&&m(d,e))s?g={from:c,to:d}:g=void 0;else if(m(c,e))g={from:c,to:a>0?void 0:e};else if(m(d,e))g={from:e,to:a>0?void 0:e};else if(h(e,c))g={from:e,to:d};else if(f(e,c))g={from:c,to:e};else if(f(e,d))g={from:c,to:e};else throw new Error("Invalid range");if(g?.from&&g?.to){const v=l.differenceInCalendarDays(g.to,g.from);r>0&&v>r?g={from:e,to:void 0}:a>1&&v<a&&(g={from:e,to:void 0})}return g}function $oe(e,t,a=Cs){const r=Array.isArray(t)?t:[t];let s=e.from;const l=a.differenceInCalendarDays(e.to,e.from),c=Math.min(l,6);for(let d=0;d<=c;d++){if(r.includes(s.getDay()))return!0;s=a.addDays(s,1)}return!1}function gD(e,t,a=Cs){return ai(e,t.from,!1,a)||ai(e,t.to,!1,a)||ai(t,e.from,!1,a)||ai(t,e.to,!1,a)}function Boe(e,t,a=Cs){const r=Array.isArray(t)?t:[t];if(r.filter(d=>typeof d!="function").some(d=>typeof d=="boolean"?d:a.isDate(d)?ai(e,d,!1,a):E6(d,a)?d.some(m=>ai(e,m,!1,a)):bx(d)?d.from&&d.to?gD(e,{from:d.from,to:d.to},a):!1:O6(d)?$oe(e,d.dayOfWeek,a):DN(d)?a.isAfter(d.before,d.after)?gD(e,{from:a.addDays(d.after,1),to:a.addDays(d.before,-1)},a):ri(e.from,d,a)||ri(e.to,d,a):ON(d)||EN(d)?ri(e.from,d,a)||ri(e.to,d,a):!1))return!0;const c=r.filter(d=>typeof d=="function");if(c.length){let d=e.from;const m=a.differenceInCalendarDays(e.to,e.from);for(let f=0;f<=m;f++){if(c.some(h=>h(d)))return!0;d=a.addDays(d,1)}}return!1}function Foe(e,t){const{disabled:a,excludeDisabled:r,selected:s,required:l,onSelect:c}=e,[d,m]=jx(s,c?s:void 0),f=c?s:d;return{selected:f,select:(v,y,j)=>{const{min:b,max:S}=e,M=v?zoe(v,f,b,S,l,t):void 0;return r&&a&&M?.from&&M.to&&Boe({from:M.from,to:M.to},a,t)&&(M.from=v,M.to=void 0),c||m(M),c?.(M,v,y,j),M},isSelected:v=>f&&ai(f,v,!1,t)}}function Uoe(e,t){const{selected:a,required:r,onSelect:s}=e,[l,c]=jx(a,s?a:void 0),d=s?a:l,{isSameDay:m}=t;return{selected:d,select:(g,v,y)=>{let j=g;return!r&&d&&d&&m(g,d)&&(j=void 0),s||c(j),s?.(j,g,v,y),j},isSelected:g=>d?m(d,g):!1}}function qoe(e,t){const a=Uoe(e,t),r=Ioe(e,t),s=Foe(e,t);switch(e.mode){case"single":return a;case"multiple":return r;case"range":return s;default:return}}function oa(e,t){return e instanceof ni&&e.timeZone===t?e:new ni(e,t)}function yD(e,t){return typeof e=="boolean"||typeof e=="function"?e:e instanceof Date?oa(e,t):Array.isArray(e)?e.map(a=>a instanceof Date?oa(a,t):a):bx(e)?{...e,from:e.from?oa(e.from,t):e.from,to:e.to?oa(e.to,t):e.to}:DN(e)?{before:oa(e.before,t),after:oa(e.after,t)}:ON(e)?{after:oa(e.after,t)}:EN(e)?{before:oa(e.before,t)}:e}function $v(e,t){return e&&(Array.isArray(e)?e.map(a=>yD(a,t)):yD(e,t))}function Hoe(e){let t=e;const a=t.timeZone;if(a&&(t={...e,timeZone:a},t.today&&(t.today=oa(t.today,a)),t.month&&(t.month=oa(t.month,a)),t.defaultMonth&&(t.defaultMonth=oa(t.defaultMonth,a)),t.startMonth&&(t.startMonth=oa(t.startMonth,a)),t.endMonth&&(t.endMonth=oa(t.endMonth,a)),t.mode==="single"&&t.selected?t.selected=oa(t.selected,a):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(st=>oa(st,a)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?oa(t.selected.from,a):t.selected.from,to:t.selected.to?oa(t.selected.to,a):t.selected.to}),t.disabled!==void 0&&(t.disabled=$v(t.disabled,a)),t.hidden!==void 0&&(t.hidden=$v(t.hidden,a)),t.modifiers)){const st={};Object.keys(t.modifiers).forEach(Mt=>{st[Mt]=$v(t.modifiers?.[Mt],a)}),t.modifiers=st}const{components:r,formatters:s,labels:l,dateLib:c,locale:d,classNames:m}=x.useMemo(()=>{const st={...CD,...t.locale};return{dateLib:new lr({locale:st,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:Wle(t.components),formatters:roe(t.formatters),labels:{...boe,...t.labels},locale:st,classNames:{...Gle(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]);t.today||(t={...t,today:c.today()});const{captionLayout:f,mode:h,navLayout:g,numberOfMonths:v=1,onDayBlur:y,onDayClick:j,onDayFocus:b,onDayKeyDown:S,onDayMouseEnter:M,onDayMouseLeave:w,onNextClick:A,onPrevClick:O,showWeekNumber:D,styles:k}=t,{formatCaption:_,formatDay:E,formatMonthDropdown:P,formatWeekNumber:z,formatWeekNumberHeader:L,formatWeekdayName:I,formatYearDropdown:J}=s,T=Roe(t,c),{days:Y,months:V,navStart:B,navEnd:U,previousMonth:F,nextMonth:W,goToMonth:ne}=T,je=Vle(Y,t,B,U,c),{isSelected:H,select:fe,selected:Ne}=qoe(t,c)??{},{blur:se,focused:ee,isFocusTarget:ie,moveFocus:ae,setFocused:Me}=Loe(t,T,je,H??(()=>!1),c),{labelDayButton:Ce,labelGridcell:xe,labelGrid:lt,labelMonthDropdown:Re,labelNav:Ke,labelPrevious:Fe,labelNext:tn,labelWeekday:Ge,labelWeekNumber:Ct,labelWeekNumberHeader:Z,labelYearDropdown:le}=l,he=x.useMemo(()=>loe(c,t.ISOWeek,t.broadcastCalendar,t.today),[c,t.ISOWeek,t.broadcastCalendar,t.today]),Ee=h!==void 0||j!==void 0,be=x.useCallback(()=>{F&&(ne(F),O?.(F))},[F,ne,O]),we=x.useCallback(()=>{W&&(ne(W),A?.(W))},[ne,W,A]),ke=x.useCallback((st,Mt)=>Je=>{Je.preventDefault(),Je.stopPropagation(),Me(st),fe?.(st.date,Mt,Je),j?.(st.date,Mt,Je)},[fe,j,Me]),Ze=x.useCallback((st,Mt)=>Je=>{Me(st),b?.(st.date,Mt,Je)},[b,Me]),rt=x.useCallback((st,Mt)=>Je=>{se(),y?.(st.date,Mt,Je)},[se,y]),Mn=x.useCallback((st,Mt)=>Je=>{const Nt={ArrowLeft:[Je.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[Je.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[Je.shiftKey?"year":"week","after"],ArrowUp:[Je.shiftKey?"year":"week","before"],PageUp:[Je.shiftKey?"year":"month","before"],PageDown:[Je.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Nt[Je.key]){Je.preventDefault(),Je.stopPropagation();const[Vn,mt]=Nt[Je.key];ae(Vn,mt)}S?.(st.date,Mt,Je)},[ae,S,t.dir]),cr=x.useCallback((st,Mt)=>Je=>{M?.(st.date,Mt,Je)},[M]),zn=x.useCallback((st,Mt)=>Je=>{w?.(st.date,Mt,Je)},[w]),ua=x.useCallback(st=>Mt=>{const Je=Number(Mt.target.value),Nt=c.setMonth(c.startOfMonth(st),Je);ne(Nt)},[c,ne]),ta=x.useCallback(st=>Mt=>{const Je=Number(Mt.target.value),Nt=c.setYear(c.startOfMonth(st),Je);ne(Nt)},[c,ne]),{className:pn,style:dr}=x.useMemo(()=>({className:[m[Ue.Root],t.className].filter(Boolean).join(" "),style:{...k?.[Ue.Root],...t.style}}),[m,t.className,t.style,k]),Hn=Yle(t),bo=x.useRef(null);Soe(bo,!!t.animate,{classNames:m,months:V,focused:ee,dateLib:c});const jo={dayPickerProps:t,selected:Ne,select:fe,isSelected:H,months:V,nextMonth:W,previousMonth:F,goToMonth:ne,getModifiers:je,components:r,classNames:m,styles:k,labels:l,formatters:s};return De.createElement(D6.Provider,{value:jo},De.createElement(r.Root,{rootRef:t.animate?bo:void 0,className:pn,style:dr,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...Hn},De.createElement(r.Months,{className:m[Ue.Months],style:k?.[Ue.Months]},!t.hideNavigation&&!g&&De.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:m[Ue.Nav],style:k?.[Ue.Nav],"aria-label":Ke(),onPreviousClick:be,onNextClick:we,previousMonth:F,nextMonth:W}),V.map((st,Mt)=>De.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:m[Ue.Month],style:k?.[Ue.Month],key:Mt,displayIndex:Mt,calendarMonth:st},g==="around"&&!t.hideNavigation&&Mt===0&&De.createElement(r.PreviousMonthButton,{type:"button",className:m[Ue.PreviousMonthButton],tabIndex:F?void 0:-1,"aria-disabled":F?void 0:!0,"aria-label":Fe(F),onClick:be,"data-animated-button":t.animate?"true":void 0},De.createElement(r.Chevron,{disabled:F?void 0:!0,className:m[Ue.Chevron],orientation:t.dir==="rtl"?"right":"left"})),De.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:m[Ue.MonthCaption],style:k?.[Ue.MonthCaption],calendarMonth:st,displayIndex:Mt},f?.startsWith("dropdown")?De.createElement(r.DropdownNav,{className:m[Ue.Dropdowns],style:k?.[Ue.Dropdowns]},(()=>{const Je=f==="dropdown"||f==="dropdown-months"?De.createElement(r.MonthsDropdown,{key:"month",className:m[Ue.MonthsDropdown],"aria-label":Re(),classNames:m,components:r,disabled:!!t.disableNavigation,onChange:ua(st.date),options:soe(st.date,B,U,s,c),style:k?.[Ue.Dropdown],value:c.getMonth(st.date)}):De.createElement("span",{key:"month"},P(st.date,c)),Nt=f==="dropdown"||f==="dropdown-years"?De.createElement(r.YearsDropdown,{key:"year",className:m[Ue.YearsDropdown],"aria-label":le(c.options),classNames:m,components:r,disabled:!!t.disableNavigation,onChange:ta(st.date),options:ooe(B,U,s,c,!!t.reverseYears),style:k?.[Ue.Dropdown],value:c.getYear(st.date)}):De.createElement("span",{key:"year"},J(st.date,c));return c.getMonthYearOrder()==="year-first"?[Nt,Je]:[Je,Nt]})(),De.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},_(st.date,c.options,c))):De.createElement(r.CaptionLabel,{className:m[Ue.CaptionLabel],role:"status","aria-live":"polite"},_(st.date,c.options,c))),g==="around"&&!t.hideNavigation&&Mt===v-1&&De.createElement(r.NextMonthButton,{type:"button",className:m[Ue.NextMonthButton],tabIndex:W?void 0:-1,"aria-disabled":W?void 0:!0,"aria-label":tn(W),onClick:we,"data-animated-button":t.animate?"true":void 0},De.createElement(r.Chevron,{disabled:W?void 0:!0,className:m[Ue.Chevron],orientation:t.dir==="rtl"?"left":"right"})),Mt===v-1&&g==="after"&&!t.hideNavigation&&De.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:m[Ue.Nav],style:k?.[Ue.Nav],"aria-label":Ke(),onPreviousClick:be,onNextClick:we,previousMonth:F,nextMonth:W}),De.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":h==="multiple"||h==="range","aria-label":lt(st.date,c.options,c)||void 0,className:m[Ue.MonthGrid],style:k?.[Ue.MonthGrid]},!t.hideWeekdays&&De.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:m[Ue.Weekdays],style:k?.[Ue.Weekdays]},D&&De.createElement(r.WeekNumberHeader,{"aria-label":Z(c.options),className:m[Ue.WeekNumberHeader],style:k?.[Ue.WeekNumberHeader],scope:"col"},L()),he.map(Je=>De.createElement(r.Weekday,{"aria-label":Ge(Je,c.options,c),className:m[Ue.Weekday],key:String(Je),style:k?.[Ue.Weekday],scope:"col"},I(Je,c.options,c)))),De.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:m[Ue.Weeks],style:k?.[Ue.Weeks]},st.weeks.map(Je=>De.createElement(r.Week,{className:m[Ue.Week],key:Je.weekNumber,style:k?.[Ue.Week],week:Je},D&&De.createElement(r.WeekNumber,{week:Je,style:k?.[Ue.WeekNumber],"aria-label":Ct(Je.weekNumber,{locale:d}),className:m[Ue.WeekNumber],scope:"row",role:"rowheader"},z(Je.weekNumber,c)),Je.days.map(Nt=>{const{date:Vn}=Nt,mt=je(Nt);if(mt[mn.focused]=!mt.hidden&&!!ee?.isEqualTo(Nt),mt[Wr.selected]=H?.(Vn)||mt.selected,bx(Ne)){const{from:xl,to:Ms}=Ne;mt[Wr.range_start]=!!(xl&&Ms&&c.isSameDay(Vn,xl)),mt[Wr.range_end]=!!(xl&&Ms&&c.isSameDay(Vn,Ms)),mt[Wr.range_middle]=ai(Ne,Vn,!0,c)}const pl=ioe(mt,k,t.modifiersStyles),Nx=Kle(mt,m,t.modifiersClassNames),jm=!Ee&&!mt.hidden?xe(Vn,mt,c.options,c):void 0;return De.createElement(r.Day,{key:`${Nt.isoDate}_${Nt.displayMonthId}`,day:Nt,modifiers:mt,className:Nx.join(" "),style:pl,role:"gridcell","aria-selected":mt.selected||void 0,"aria-label":jm,"data-day":Nt.isoDate,"data-month":Nt.outside?Nt.dateMonthId:void 0,"data-selected":mt.selected||void 0,"data-disabled":mt.disabled||void 0,"data-hidden":mt.hidden||void 0,"data-outside":Nt.outside||void 0,"data-focused":mt.focused||void 0,"data-today":mt.today||void 0},!mt.hidden&&Ee?De.createElement(r.DayButton,{className:m[Ue.DayButton],style:k?.[Ue.DayButton],type:"button",day:Nt,modifiers:mt,disabled:!mt.focused&&mt.disabled||void 0,"aria-disabled":mt.focused&&mt.disabled||void 0,tabIndex:ie(Nt)?0:-1,"aria-label":Ce(Vn,mt,c.options,c),onClick:ke(Nt,mt),onBlur:rt(Nt,mt),onFocus:Ze(Nt,mt),onKeyDown:Mn(Nt,mt),onMouseEnter:cr(Nt,mt),onMouseLeave:zn(Nt,mt)},E(Vn,c.options,c)):!mt.hidden&&E(Nt.date,c.options,c))})))))))),t.footer&&De.createElement(r.Footer,{className:m[Ue.Footer],style:k?.[Ue.Footer],role:"status","aria-live":"polite"},t.footer)))}function Voe(){const e=Qe(P=>P.user),{employees:t,attendance:a,attendanceCorrections:r,submitAttendanceCorrection:s}=Ae(),c=x.useMemo(()=>t.find(P=>P.id===e?.id||P.email===e?.email),[t,e])?.id||e?.id,[d,m]=x.useState(new Date),[f,h]=x.useState(new Date),[g,v]=x.useState(!1),[y,j]=x.useState({date:"",currentStatus:"",requestedStatus:"",reason:"",documents:[]}),b=x.useMemo(()=>a.filter(P=>P.employeeId===c),[a,c]),S=x.useMemo(()=>b.find(P=>P.date===q(d,"yyyy-MM-dd")),[b,d]),M=x.useMemo(()=>{const P=La(f),z=Ia(f),L=b.filter(I=>{const J=ue(I.date);return xs(J,{start:P,end:z})});return{present:L.filter(I=>I.status==="Present").length,late:L.filter(I=>I.status==="Late").length,absent:L.filter(I=>I.status==="Absent").length,total:L.length,avgHours:L.reduce((I,J)=>I+(J.workHours||0),0)/(L.length||1)}},[b,f]),w=x.useMemo(()=>({present:b.filter(P=>P.status==="Present").map(P=>ue(P.date)),late:b.filter(P=>P.status==="Late").map(P=>ue(P.date)),absent:b.filter(P=>P.status==="Absent").map(P=>ue(P.date))}),[b]),A=P=>P==="Present"?"success":P==="Late"?"warning":P==="Absent"?"error":"default",O=x.useMemo(()=>{const P=[];for(let z=0;z<6;z++){const L=io(new Date,z),I=La(L),J=Ia(L),T=b.filter(Y=>{const V=ue(Y.date);return xs(V,{start:I,end:J})});P.push({month:q(L,"MMM yyyy"),present:T.filter(Y=>Y.status==="Present").length,late:T.filter(Y=>Y.status==="Late").length,absent:T.filter(Y=>Y.status==="Absent").length,total:T.length})}return P},[b]),D=x.useMemo(()=>r.filter(P=>P.employeeId===c),[r,c]),k=(P,z)=>{j({date:"",currentStatus:"",requestedStatus:"",reason:"",documents:[]}),v(!0)},_=()=>{if(!y.date||!y.requestedStatus||!y.reason){alert("Please fill all required fields");return}const P=b.find(z=>z.date===y.date);s(c,{originalAttendance:{date:y.date,status:y.currentStatus||"Absent",clockIn:P?.clockIn||null,clockOut:P?.clockOut||null},requestedChange:{status:y.requestedStatus,reason:y.reason},documents:y.documents}),v(!1),j({date:"",currentStatus:"",requestedStatus:"",reason:"",documents:[]})},E=P=>P==="Approved"?"success":P==="Rejected"?"error":"warning";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Attendance"}),n.jsx("p",{className:"text-gray-600",children:"Track your clock-in, clock-out times and attendance history"})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx(wt,{title:"Present Days",value:M.present,subtitle:q(f,"MMMM yyyy"),icon:Le,color:"success"}),n.jsx(wt,{title:"Late Arrivals",value:M.late,subtitle:"This month",icon:Jn,color:"warning"}),n.jsx(wt,{title:"Absent Days",value:M.absent,subtitle:"This month",icon:Tt,color:"error"}),n.jsx(wt,{title:"Avg. Work Hours",value:M.avgHours.toFixed(1),subtitle:"Hours per day",icon:Be,color:"primary"})]}),n.jsxs(ca,{defaultValue:"calendar",children:[n.jsxs(da,{children:[n.jsx(He,{value:"calendar",children:"Calendar View"}),n.jsx(He,{value:"history",children:"History"}),n.jsx(He,{value:"monthly",children:"Monthly Report"}),n.jsxs(He,{value:"corrections",children:["Corrections ",D.length>0&&`(${D.length})`]})]}),n.jsx(St,{value:"calendar",children:n.jsx(K,{children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx(Hoe,{mode:"single",selected:d,onSelect:P=>P&&m(P),month:f,onMonthChange:h,modifiers:{present:w.present,late:w.late,absent:w.absent},modifiersClassNames:{present:"bg-green-100 text-green-800 font-semibold",late:"bg-yellow-100 text-yellow-800 font-semibold",absent:"bg-red-100 text-red-800 font-semibold"},className:"border rounded-xl p-4 mx-auto"}),n.jsxs("div",{className:"flex items-center justify-center gap-4 mt-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),n.jsx("span",{className:"text-gray-600",children:"Present"})]}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),n.jsx("span",{className:"text-gray-600",children:"Late"})]}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),n.jsx("span",{className:"text-gray-600",children:"Absent"})]})]})]}),n.jsx("div",{children:n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Xe,{className:"w-5 h-5 text-gray-500"}),n.jsx("h3",{className:"font-semibold text-gray-900",children:q(d,"EEEE, MMMM d, yyyy")})]}),S?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Status"}),n.jsx(ge,{variant:A(S.status),size:"lg",children:S.status})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-4 text-center border",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Clock In"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:S.clockIn||"--:--"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-4 text-center border",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Clock Out"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:S.clockOut||"--:--"})]})]}),S.workHours>0&&n.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Total Work Hours"}),n.jsxs("p",{className:"text-xl font-bold text-gray-900 mt-1",children:[S.workHours.toFixed(1)," hours"]})]}),S.status==="Late"&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Jn,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-yellow-800",children:"Late Arrival"}),n.jsx("p",{className:"text-sm text-yellow-700",children:"Office hours start at 09:00. A deduction may apply."})]})]})})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Xe,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"No attendance record for this date"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Weekend or holiday"})]})]})})]})})}),n.jsx(St,{value:"history",children:n.jsx(K,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Date"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Day"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Clock In"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Clock Out"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Work Hours"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Status"})]})}),n.jsx("tbody",{children:b.slice(0,30).map(P=>n.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:q(ue(P.date),"MMM d, yyyy")}),n.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:q(ue(P.date),"EEEE")}),n.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:P.clockIn||"--"}),n.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:P.clockOut||"--"}),n.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:P.workHours?`${P.workHours.toFixed(1)}h`:"--"}),n.jsx("td",{className:"py-3 px-4",children:n.jsx(ge,{variant:A(P.status),children:P.status})})]},P.id))})]})})})}),n.jsx(St,{value:"monthly",children:n.jsx(K,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Month"}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Present"}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Late"}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Absent"}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Total Days"}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Attendance %"})]})}),n.jsx("tbody",{children:O.map(P=>{const z=P.total>0?Math.round((P.present+P.late)/P.total*100):0;return n.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:P.month}),n.jsx("td",{className:"py-3 px-4 text-center",children:n.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-green-100 text-green-800 font-semibold text-sm",children:P.present})}),n.jsx("td",{className:"py-3 px-4 text-center",children:n.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-yellow-100 text-yellow-800 font-semibold text-sm",children:P.late})}),n.jsx("td",{className:"py-3 px-4 text-center",children:n.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-red-100 text-red-800 font-semibold text-sm",children:P.absent})}),n.jsx("td",{className:"py-3 px-4 text-center text-sm text-gray-900",children:P.total}),n.jsx("td",{className:"py-3 px-4 text-center",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full rounded-full ${z>=90?"bg-green-500":z>=75?"bg-yellow-500":"bg-red-500"}`,style:{width:`${z}%`}})}),n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[z,"%"]})]})})]},P.month)})})]})})})}),n.jsx(St,{value:"corrections",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(K,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Attendance Correction Requests"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Submit a request to correct your attendance records"})]}),n.jsx(X,{onClick:()=>k(),icon:ci,variant:"primary",children:"Request Correction"})]})}),D.length===0?n.jsx(K,{children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ht,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Correction Requests"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't submitted any attendance correction requests yet."}),n.jsx(X,{onClick:()=>k(),icon:ci,variant:"primary",children:"Submit Your First Request"})]})}):n.jsx("div",{className:"space-y-4",children:D.sort((P,z)=>new Date(z.submittedOn)-new Date(P.submittedOn)).map(P=>n.jsx(K,{className:"hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(Xe,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{className:"font-semibold text-gray-900",children:q(ue(P.originalAttendance.date),"MMMM d, yyyy")}),n.jsx(ge,{variant:E(P.status),size:"sm",children:P.status})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mt-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Original Status:"}),n.jsx(ge,{variant:A(P.originalAttendance.status),children:P.originalAttendance.status})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Requested Status:"}),n.jsx(ge,{variant:A(P.requestedChange.status),children:P.requestedChange.status})]})]}),n.jsxs("div",{className:"mt-3 bg-gray-50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Reason"}),n.jsx("p",{className:"text-sm text-gray-700",children:P.requestedChange.reason})]}),P.documents&&P.documents.length>0&&n.jsxs("div",{className:"mt-3",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-2",children:"Supporting Documents"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:P.documents.map((z,L)=>n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:[n.jsx(ht,{className:"w-3 h-3"}),z.name||`Document ${L+1}`]},L))})]}),P.notes&&n.jsxs("div",{className:"mt-3 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-yellow-800 uppercase tracking-wide mb-1",children:"HR Notes"}),n.jsx("p",{className:"text-sm text-yellow-700",children:P.notes})]})]}),n.jsxs("div",{className:"text-right text-xs text-gray-500",children:[n.jsx("p",{children:"Submitted"}),n.jsx("p",{className:"font-medium text-gray-700",children:q(ue(P.submittedOn),"MMM d, yyyy")})]})]})},P.id))})]})})]}),n.jsx(vt,{isOpen:g,onClose:()=>v(!1),title:"Request Attendance Correction",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",value:y.date,onChange:P=>j({...y,date:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",max:q(new Date,"yyyy-MM-dd")})]}),y.date&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Status"}),n.jsx("div",{className:"px-3 py-2 bg-gray-50 rounded-lg",children:y.currentStatus?n.jsx(ge,{variant:A(y.currentStatus),children:y.currentStatus}):n.jsx("span",{className:"text-sm text-gray-500",children:"No record found (Absent or Weekend)"})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Requested Status ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:y.requestedStatus,onChange:P=>j({...y,requestedStatus:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Select Status"}),n.jsx("option",{value:"Present",children:"Present"}),n.jsx("option",{value:"Late",children:"Late"}),n.jsx("option",{value:"Absent",children:"Absent"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Reason for Correction ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{value:y.reason,onChange:P=>j({...y,reason:P.target.value}),rows:4,placeholder:"Explain why this correction is needed (e.g., forgot to clock in, system error, etc.)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supporting Documents (Optional)"}),n.jsx(Zl,{onUpload:P=>j({...y,documents:P.map(z=>({name:z.name,file:z}))}),accept:".pdf,.jpg,.jpeg,.png",multiple:!0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload any supporting documents (e.g., screenshots, emails)"})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(X,{variant:"outline",onClick:()=>v(!1),className:"flex-1",children:"Cancel"}),n.jsx(X,{variant:"primary",onClick:_,className:"flex-1",children:"Submit Request"})]})]})})]})}function Koe(){const e=Qe(se=>se.user),{employees:t,leaves:a,addLeave:r,getLeaveRecommendations:s}=Ae(),l=x.useMemo(()=>t.find(se=>se.id===e?.id||se.email===e?.email),[t,e]),c=l?.id||e?.id,[d,m]=x.useState(!1),[f,h]=x.useState(null),[g,v]=x.useState([]),[y,j]=x.useState(null),{register:b,handleSubmit:S,watch:M,reset:w,formState:{errors:A,isSubmitting:O}}=Tc({defaultValues:{type:"annual",startDate:q(cs(new Date,1),"yyyy-MM-dd"),endDate:q(cs(new Date,1),"yyyy-MM-dd"),reason:"",expectedDeliveryDate:""}}),D=M("startDate"),k=M("endDate"),_=M("type"),E=_==="medical"||_==="study",P=_==="medical"?"Medical Documents":_==="study"?"Study Documents":"Supporting Documents (optional)",z=_==="medical"?"Upload medical certificates, prescriptions, or doctor's reports (PDF, DOC, DOCX, JPG)":_==="study"?"Upload course details, admission letters, or study plans (PDF, DOC, DOCX, JPG)":"Upload any supporting documents if applicable (PDF, DOC, DOCX, JPG)",L=x.useMemo(()=>{if(!D||!k)return 0;const se=Zr(ue(k),ue(D))+1;return se>0?se:0},[D,k]),I=se=>{const ee=Zs.find(ae=>ae.id===se),ie=ee?.days??ee?.defaultDays??0;return l?.leaveBalance?.[se]??ie},J=x.useMemo(()=>{const se={};return Zs.forEach(ee=>{se[ee.id]=I(ee.id)}),se},[l]),T=x.useMemo(()=>{const se=I(_);return L<=se},[_,L,I]),Y=x.useMemo(()=>j8(l),[l]),V=Y.eligible,B=x.useMemo(()=>!D||!k?null:s({employeeId:c,type:_,startDate:D,endDate:k,days:L}),[D,k,_,L,c,s]),U=x.useMemo(()=>a.filter(se=>se.employeeId===c).sort((se,ee)=>ue(ee.appliedOn)-ue(se.appliedOn)),[a,c]),F=U.filter(se=>se.status==="Pending"),W=U.filter(se=>se.status==="Approved"),ne=U.filter(se=>se.status==="Rejected"),je=se=>{const ee=se?.file?URL.createObjectURL(se.file):se?.fileUrl||se?.url;if(!ee)return;const ie=document.createElement("a");ie.href=ee,ie.download=se?.name||"document",document.body.appendChild(ie),ie.click(),document.body.removeChild(ie),se?.file&&URL.revokeObjectURL(ee)},H=se=>{if(se.type==="maternity"){if(!V){alert(`Maternity Leave Eligibility Issue:

${Y.reason}`);return}if(!se.expectedDeliveryDate){alert("Please enter your expected delivery date");return}const ae=N8(se.expectedDeliveryDate,q(new Date,"yyyy-MM-dd"));if(!ae.valid){alert(`Maternity Leave - Advance Notice Requirement:

${ae.reason}`);return}}if((se.type==="medical"||se.type==="study")&&g.length===0){alert(`Please upload supporting documents for ${se.type} leave`);return}const ee=se.type==="medical",ie={id:`l-${Date.now()}`,employeeId:c,employeeName:l?.name||e?.name,department:l?.department||e?.department,faculty:l?.faculty||e?.faculty,type:se.type,startDate:se.startDate,endDate:se.endDate,days:L,reason:se.reason,documents:g,leaveCategory:y,status:"Pending",appliedOn:q(new Date,"yyyy-MM-dd"),approvalChain:ee?[{role:"hod",status:"pending",by:null,date:null,comment:null},{role:"vc",status:"pending",by:null,date:null,comment:null},{role:"president",status:"pending",by:null,date:null,comment:null}]:[{role:"hod",status:"pending",by:null,date:null,comment:null},{role:"dean",status:"pending",by:null,date:null,comment:null},{role:"hr",status:"pending",by:null,date:null,comment:null}],paidDays:null,unpaidDays:null};r(ie),E8({employeeName:l?.name||e?.name,leaveType:se.type,startDate:se.startDate,endDate:se.endDate,days:L,reason:se.reason,status:"Pending"},e?.email),w(),v([]),j(null),m(!1)},fe=se=>se==="Approved"?"success":se==="Pending"?"warning":se==="Rejected"?"error":"info",Ne=se=>Zs.find(ee=>ee.id===se)?.name||se;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Leave Management"}),n.jsx("p",{className:"text-gray-600",children:"Apply for leave and track your requests"})]}),n.jsxs(X,{onClick:()=>m(!0),className:"gap-2",children:[n.jsx(ci,{className:"w-5 h-5"}),"Apply for Leave"]})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[Zs.map(se=>{const ee=J[se.id],ie=se.days??se.defaultDays??ee??0;return n.jsxs(K,{className:"relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 -mr-8 -mt-8",children:n.jsx("div",{className:`w-full h-full rounded-full opacity-10 ${se.id==="annual"?"bg-blue-500":se.id==="sick"?"bg-red-500":"bg-green-500"}`})}),n.jsxs("div",{className:"relative",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 capitalize",children:se.name}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:ee}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["of ",ie," days remaining"]}),n.jsx("div",{className:"mt-3 h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full rounded-full transition-all ${ee>ie*.5?"bg-green-500":ee>ie*.2?"bg-yellow-500":"bg-red-500"}`,style:{width:`${ee/ie*100}%`}})})]})]},se.id)}),n.jsx(K,{className:"bg-gray-50 border-dashed border-2",children:n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-2",children:[n.jsx(ht,{className:"w-8 h-8 text-gray-400 mb-2"}),n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Requests"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:U.length})]})})]}),n.jsxs(ca,{defaultValue:"all",children:[n.jsxs(da,{children:[n.jsxs(He,{value:"all",children:["All Requests (",U.length,")"]}),n.jsxs(He,{value:"pending",children:["Pending (",F.length,")"]}),n.jsxs(He,{value:"approved",children:["Approved (",W.length,")"]}),n.jsxs(He,{value:"rejected",children:["Rejected (",ne.length,")"]})]}),["all","pending","approved","rejected"].map(se=>{const ee=se==="all"?U:se==="pending"?F:se==="approved"?W:ne;return n.jsx(St,{value:se,children:n.jsx(K,{children:ee.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ht,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),n.jsxs("p",{className:"text-gray-500",children:["No ",se==="all"?"":se," leave requests"]})]}):n.jsx("div",{className:"space-y-4",children:ee.map(ie=>n.jsxs("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>h(ie),children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:Ne(ie.type)}),n.jsx(ge,{variant:fe(ie.status),children:ie.status})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-gray-600",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Xe,{className:"w-4 h-4"}),q(ue(ie.startDate),"MMM d")," -"," ",q(ue(ie.endDate),"MMM d, yyyy")]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Be,{className:"w-4 h-4"}),ie.days," day",ie.days>1?"s":""]})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-2 line-clamp-1",children:ie.reason})]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Applied ",q(ue(ie.appliedOn),"MMM d, yyyy")]})]}),ie.approvalChain&&n.jsxs("div",{className:"mt-4 pt-4 border-t",children:[n.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase mb-2",children:"Approval Status"}),n.jsx("div",{className:"flex items-center gap-2",children:ie.approvalChain.map((ae,Me)=>n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-full text-xs font-medium ${ae.status==="approved"?"bg-green-100 text-green-800":ae.status==="rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-600"}`,children:[ae.status==="approved"?n.jsx(Le,{className:"w-3.5 h-3.5"}):ae.status==="rejected"?n.jsx(Tt,{className:"w-3.5 h-3.5"}):n.jsx(Be,{className:"w-3.5 h-3.5"}),n.jsx("span",{className:"uppercase",children:ae.role})]}),Me<ie.approvalChain.length-1&&n.jsx("div",{className:"w-4 h-0.5 bg-gray-200 mx-1"})]},Me))})]})]},ie.id))})})},se)})]}),n.jsx(vt,{isOpen:d,onClose:()=>{m(!1),v([]),j(null)},title:"Apply for Leave",size:"lg",children:n.jsxs("form",{onSubmit:S(H),className:"space-y-4",children:[_==="maternity"&&!V&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex gap-3",children:[n.jsx(Jn,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-red-900",children:"Not Eligible for Maternity Leave"}),n.jsx("p",{className:"text-sm text-red-700 mt-1",children:Y.reason})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Leave Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{...b("type",{required:"Please select a leave type"}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("optgroup",{label:"Regular Leaves",children:Zs.map(se=>{const ee=se.id==="maternity",ie=ee&&l?.gender?.toLowerCase()!=="female",ae=ee&&!V;return ie?null:n.jsxs("option",{value:se.id,disabled:ae,children:[se.name," (",J[se.id]||0," days available)",ae?" - Not eligible":""]},se.id)})}),n.jsx("optgroup",{label:"Special Leaves",children:A8.map(se=>n.jsxs("option",{value:se.id,children:[se.name," (",se.days," days)"]},se.id))})]}),A.type&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:A.type.message})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",...b("startDate",{required:"Start date is required"}),min:q(new Date,"yyyy-MM-dd"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),A.startDate&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:A.startDate.message})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["End Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",...b("endDate",{required:"End date is required"}),min:D||q(new Date,"yyyy-MM-dd"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),A.endDate&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:A.endDate.message})]})]}),L>0&&n.jsxs("div",{className:`p-3 rounded-lg ${T?"bg-blue-50":"bg-red-50"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:`text-sm ${T?"text-blue-700":"text-red-700"}`,children:"Total Duration"}),n.jsxs("span",{className:`font-semibold ${T?"text-blue-900":"text-red-900"}`,children:[L," day",L>1?"s":""]})]}),!T&&n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm text-red-600",children:[n.jsx(Jn,{className:"w-4 h-4"}),"Insufficient leave balance"]})]}),B&&n.jsxs("div",{className:`p-3 rounded-lg border flex gap-3 ${B.recommended?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[n.jsx(au,{className:`w-5 h-5 shrink-0 mt-0.5 ${B.recommended?"text-green-600":"text-yellow-600"}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:B.recommendation}),B.details&&B.details.length>0&&n.jsx("ul",{className:"text-xs text-gray-600 mt-2 space-y-1",children:B.details.map((se,ee)=>n.jsxs("li",{className:"flex items-start gap-1",children:[n.jsx("span",{className:"shrink-0",children:""}),n.jsx("span",{children:se})]},ee))})]})]}),_==="medical"&&n.jsxs("div",{className:"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex gap-3",children:[n.jsx(au,{className:"w-5 h-5 text-blue-600 shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-blue-900",children:"Medical Leave Requirements"}),n.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Upload supporting medical documents; HR will review and categorize this as medical or unpaid leave."})]})]}),n.jsx(tt,{label:"Requested Leave Category",children:n.jsxs("select",{value:y||"",onChange:se=>j(se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Select category (HR will finalize)"}),n.jsx("option",{value:"medical",children:"Medical Leave"}),n.jsx("option",{value:"unpaid",children:"Unpaid Leave"})]})})]}),_==="study"&&n.jsx("div",{className:"space-y-4 bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx(au,{className:"w-5 h-5 text-green-600 shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-green-900",children:"Study Leave Documentation"}),n.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Upload supporting documents such as course enrollment letters, admission documents, or study plans. Documents are required for study leave."})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Zl,{value:g,onChange:v,label:P,required:E,helper:E?`${z} (required for ${_} leave)`:`${z}`,allowedTypes:["pdf","doc","docx","jpg","jpeg","png"],maxFiles:5,maxSizeMB:10}),E&&n.jsxs("p",{className:"text-xs text-red-600",children:["Documents are required for ",_," leave."]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Reason ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{...b("reason",{required:"Please provide a reason",minLength:{value:10,message:"Reason must be at least 10 characters"}}),rows:3,placeholder:"Please provide a reason for your leave request...",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),A.reason&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:A.reason.message})]}),_==="maternity"&&n.jsxs("div",{className:"space-y-3 bg-pink-50 border border-pink-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex gap-3",children:[n.jsx(au,{className:"w-5 h-5 text-pink-600 shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-pink-900",children:"Maternity Leave Information"}),n.jsx("p",{className:"text-sm text-pink-700 mt-1",children:"You are entitled to 30 days of paid maternity leave. Applications must be submitted at least 2 months (60 days) before your expected delivery date."})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Expected Delivery Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",...b("expectedDeliveryDate",{required:"Expected delivery date is required for maternity leave"}),min:q(cs(new Date,60),"yyyy-MM-dd"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),A.expectedDeliveryDate&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:A.expectedDeliveryDate.message}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Must be at least 60 days from today (",q(cs(new Date,60),"MMM d, yyyy"),")"]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),n.jsx(X,{type:"submit",disabled:!T||O,children:O?"Submitting...":"Submit Request"})]})]})}),n.jsx(vt,{isOpen:!!f,onClose:()=>h(null),title:"Leave Request Details",children:f&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(ge,{variant:fe(f.status),size:"lg",children:f.status})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Leave Type"}),n.jsx("p",{className:"font-medium",children:Ne(f.type)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Duration"}),n.jsxs("p",{className:"font-medium",children:[f.days," day",f.days>1?"s":""]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"From"}),n.jsx("p",{className:"font-medium",children:q(ue(f.startDate),"MMMM d, yyyy")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"To"}),n.jsx("p",{className:"font-medium",children:q(ue(f.endDate),"MMMM d, yyyy")})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase mb-1",children:"Reason"}),n.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:f.reason})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase mb-1",children:"Applied On"}),n.jsx("p",{className:"font-medium",children:q(ue(f.appliedOn),"MMMM d, yyyy")})]}),(f.paidDays!==null||f.unpaidDays!==null)&&n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 bg-gray-50 border border-gray-200 rounded-lg p-3",children:[f.paidDays!==null&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Paid Days"}),n.jsx("p",{className:"font-medium text-green-700",children:f.paidDays})]}),f.unpaidDays!==null&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Unpaid Days"}),n.jsx("p",{className:"font-medium text-amber-700",children:f.unpaidDays})]})]}),f.documents&&f.documents.length>0&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-gray-500 uppercase mb-2 flex items-center gap-2",children:[n.jsx(ht,{className:"w-4 h-4"})," Supporting Documents"]}),n.jsx("div",{className:"space-y-2",children:f.documents.map(se=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[n.jsx(ht,{className:"w-4 h-4 text-gray-400 shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:se.name}),se.size&&n.jsxs("p",{className:"text-xs text-gray-500",children:[(se.size/1024).toFixed(1)," KB"]})]})]}),n.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 transition-colors ml-2",title:"Download document",type:"button",onClick:()=>je(se),children:n.jsx(Wt,{className:"w-4 h-4"})})]},se.id))})]}),f.approvalChain&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase mb-2",children:"Approval Chain"}),n.jsx("div",{className:"space-y-2",children:f.approvalChain.map((se,ee)=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[se.status==="approved"?n.jsx(Le,{className:"w-5 h-5 text-green-500"}):se.status==="rejected"?n.jsx(Tt,{className:"w-5 h-5 text-red-500"}):n.jsx(Be,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{className:"font-medium uppercase",children:se.role})]}),n.jsx("span",{className:`text-sm capitalize ${se.status==="approved"?"text-green-600":se.status==="rejected"?"text-red-600":"text-gray-500"}`,children:se.status})]},ee))})]}),n.jsx("div",{className:"flex justify-end pt-4 border-t",children:n.jsx(X,{variant:"outline",onClick:()=>h(null),children:"Close"})})]})})]})}function Woe(){const e=Qe(T=>T.user),{employees:t,attendance:a,payrollRuns:r,payrollSettings:s,computePayrollForEmployee:l}=Ae(),c=x.useMemo(()=>t.find(T=>T.id===e?.id||T.email===e?.email),[t,e]),d=c?.id||e?.id,[m,f]=x.useState(new Date),h=m.getMonth()+1,g=m.getFullYear(),v=T=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(T||0),y=x.useMemo(()=>{const T=r.find(V=>V.period?.month===h&&V.period?.year===g&&V.status==="Posted"),Y=T?.items?.find(V=>V.employeeId===d);if(Y)return{...Y,runStatus:T.status};if(l&&d){const V=l(d,h,g);if(V)return{...V,runStatus:"Draft"}}return null},[l,d,r,h,g]),j=x.useMemo(()=>{const T=La(m),Y=Ia(m);return a.filter(V=>{if(V.employeeId!==d)return!1;const B=ue(V.date);return xs(B,{start:T,end:Y})})},[a,d,m]),b=y?.baseSalary||c?.salaryBase||0;y?.attendance?.present??j.filter(T=>T.status==="Present").length;const S=y?.attendance?.late??j.filter(T=>T.status==="Late").length,M=y?.attendance?.absent??j.filter(T=>T.status==="Absent").length,w=y?.earnings?.house||0,A=y?.earnings?.medical||0,O=y?.earnings?.transport||0,D=w+A+O,k=y?.earnings?.total||b+D,_=y?.deductions?.late||0,E=y?.deductions?.absent||0,P=y?.deductions?.tax||0,z=y?.deductions?.total||_+E+P,L=y?.netPay||k-z,I=x.useMemo(()=>{const T=r.filter(Y=>Y.status==="Posted").map(Y=>{const V=Y.items.find(B=>B.employeeId===d);return V?{month:Y.period?.label,shortMonth:Y.period?.label,gross:V.earnings?.total,deductions:V.deductions?.total,net:V.netPay,status:Y.status}:null}).filter(Boolean);return T.length>0?T:Array.from({length:6},(Y,V)=>{const B=io(new Date,V),U=La(B),F=Ia(B),W=a.filter(ie=>{if(ie.employeeId!==d)return!1;const ae=ue(ie.date);return xs(ae,{start:U,end:F})}),ne=W.filter(ie=>ie.status==="Late").length,je=W.filter(ie=>ie.status==="Absent").length,H=ne*(s?.deductionConfig?.latePenalty||0),fe=Math.round(b/(s?.workingDays||22)*je),Ne=b+D>(s?.deductionConfig?.taxThreshold||0)?Math.round((b+D)*((s?.deductionConfig?.taxRate||0)/100)):0,se=b+D,ee=se-(H+fe+Ne);return{month:q(B,"MMMM yyyy"),shortMonth:q(B,"MMM yyyy"),gross:se,deductions:H+fe+Ne,net:ee,status:V===0?"Draft":"Generated"}})},[a,d,b,D,r,s]),J=()=>{window.print()};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Salary & Payslip"}),n.jsx("p",{className:"text-gray-600",children:"View your salary details and download payslips"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{variant:"outline",onClick:J,className:"gap-2",children:[n.jsx(Z7,{className:"w-5 h-5"}),"Print"]}),n.jsxs(X,{className:"gap-2",children:[n.jsx(xu,{className:"w-5 h-5"}),"Download Payslip"]})]})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx(K,{className:"bg-linear-to-br from-green-50 to-green-100 border-green-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-green-800",children:"Net Salary"}),n.jsx("p",{className:"text-2xl font-bold text-green-900 mt-1",children:v(L)}),n.jsx("p",{className:"text-xs text-green-700 mt-1",children:q(m,"MMMM yyyy")})]}),n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(nr,{className:"w-6 h-6 text-white"})})]})}),n.jsx(K,{className:"bg-linear-to-br from-blue-50 to-blue-100 border-blue-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Gross Salary"}),n.jsx("p",{className:"text-2xl font-bold text-blue-900 mt-1",children:v(k)}),n.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Base + Allowances"})]}),n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(ar,{className:"w-6 h-6 text-white"})})]})}),n.jsx(K,{className:"bg-linear-to-br from-red-50 to-red-100 border-red-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-red-800",children:"Total Deductions"}),n.jsx("p",{className:"text-2xl font-bold text-red-900 mt-1",children:v(z)}),n.jsxs("p",{className:"text-xs text-red-700 mt-1",children:[S," late, ",M," absent"]})]}),n.jsx("div",{className:"p-3 bg-red-500 rounded-lg",children:n.jsx(ij,{className:"w-6 h-6 text-white"})})]})}),n.jsx(K,{className:"bg-linear-to-br from-purple-50 to-purple-100 border-purple-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Total Allowances"}),n.jsx("p",{className:"text-2xl font-bold text-purple-900 mt-1",children:v(D)}),n.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"Housing, Medical, Transport"})]}),n.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:n.jsx(gs,{className:"w-6 h-6 text-white"})})]})})]}),n.jsxs(ca,{defaultValue:"payslip",children:[n.jsxs(da,{children:[n.jsx(He,{value:"payslip",children:"Current Payslip"}),n.jsx(He,{value:"history",children:"Salary History"}),n.jsx(He,{value:"breakdown",children:"Breakdown"})]}),n.jsx(St,{value:"payslip",children:n.jsxs(K,{className:"print:shadow-none",children:[n.jsx("div",{className:"border-b pb-4 mb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"CECOS University"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Pay Slip for ",q(m,"MMMM yyyy")]})]}),n.jsx(ge,{variant:I[0]?.status==="Paid"?"success":"warning",children:I[0]?.status})]})}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 pb-4 mb-4 border-b",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Employee Name"}),n.jsx("span",{className:"font-medium",children:c?.name||e?.name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Employee Code"}),n.jsx("span",{className:"font-medium",children:c?.code||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Department"}),n.jsx("span",{className:"font-medium",children:c?.department||e?.department})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Designation"}),n.jsx("span",{className:"font-medium",children:c?.designation||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Bank Account"}),n.jsx("span",{className:"font-medium",children:c?.bankAccount||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Pay Period"}),n.jsx("span",{className:"font-medium",children:q(m,"MMM yyyy")})]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Earnings"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between py-2 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Basic Salary"}),n.jsx("span",{className:"font-medium",children:v(b)})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"House Rent Allowance (45%)"}),n.jsx("span",{className:"font-medium",children:v(w)})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Medical Allowance (10%)"}),n.jsx("span",{className:"font-medium",children:v(A)})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Transport Allowance"}),n.jsx("span",{className:"font-medium",children:v(O)})]}),n.jsxs("div",{className:"flex justify-between py-2 font-semibold text-green-600",children:[n.jsx("span",{children:"Total Earnings"}),n.jsx("span",{children:v(k)})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Deductions"}),n.jsxs("div",{className:"space-y-2",children:[_>0&&n.jsxs("div",{className:"flex justify-between py-2 border-b",children:[n.jsxs("span",{className:"text-gray-600",children:["Late Arrival (",S," days  500)"]}),n.jsxs("span",{className:"font-medium text-red-600",children:["-",v(_)]})]}),E>0&&n.jsxs("div",{className:"flex justify-between py-2 border-b",children:[n.jsxs("span",{className:"text-gray-600",children:["Absent Days (",M," days)"]}),n.jsxs("span",{className:"font-medium text-red-600",children:["-",v(E)]})]}),P>0&&n.jsxs("div",{className:"flex justify-between py-2 border-b",children:[n.jsx("span",{className:"text-gray-600",children:"Income Tax (5%)"}),n.jsxs("span",{className:"font-medium text-red-600",children:["-",v(P)]})]}),z===0&&n.jsx("div",{className:"py-4 text-center text-gray-500",children:"No deductions this month"}),n.jsxs("div",{className:"flex justify-between py-2 font-semibold text-red-600",children:[n.jsx("span",{children:"Total Deductions"}),n.jsxs("span",{children:["-",v(z)]})]})]})]})]}),n.jsx("div",{className:"mt-6 pt-4 border-t-2 border-dashed",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"Net Pay"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Amount credited to bank account"})]}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:v(L)})]})})]})}),n.jsx(St,{value:"history",children:n.jsx(K,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Month"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Gross"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Deductions"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Net Pay"}),n.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Status"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Actions"})]})}),n.jsx("tbody",{children:I.map((T,Y)=>n.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xe,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{className:"font-medium text-gray-900",children:T.month})]})}),n.jsx("td",{className:"py-3 px-4 text-right text-gray-900",children:v(T.gross)}),n.jsxs("td",{className:"py-3 px-4 text-right text-red-600",children:["-",v(T.deductions)]}),n.jsx("td",{className:"py-3 px-4 text-right font-semibold text-green-600",children:v(T.net)}),n.jsx("td",{className:"py-3 px-4 text-center",children:n.jsx(ge,{variant:T.status==="Paid"?"success":"warning",children:T.status})}),n.jsx("td",{className:"py-3 px-4 text-right",children:n.jsx(X,{size:"sm",variant:"ghost",children:n.jsx(xu,{className:"w-4 h-4"})})})]},Y))})]})})})}),n.jsx(St,{value:"breakdown",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs(K,{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(gs,{className:"w-5 h-5 text-green-500"}),"Earnings Breakdown"]}),n.jsx("div",{className:"space-y-4",children:[{label:"Basic Salary",amount:b,percentage:100},{label:"House Rent",amount:w,percentage:45},{label:"Medical",amount:A,percentage:10},{label:"Transport",amount:O,percentage:null}].map((T,Y)=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"text-gray-600",children:T.label}),n.jsx("span",{className:"font-medium",children:v(T.amount)})]}),n.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${T.amount/k*100}%`}})})]},Y))})]}),n.jsxs(K,{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Q7,{className:"w-5 h-5 text-red-500"}),"Deductions Breakdown"]}),z>0?n.jsxs("div",{className:"space-y-4",children:[_>0&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"text-gray-600",children:"Late Arrivals"}),n.jsxs("span",{className:"font-medium text-red-600",children:["-",v(_)]})]}),n.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${_/z*100}%`}})})]}),E>0&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"text-gray-600",children:"Absent Days"}),n.jsxs("span",{className:"font-medium text-red-600",children:["-",v(E)]})]}),n.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${E/z*100}%`}})})]}),P>0&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"text-gray-600",children:"Income Tax"}),n.jsxs("span",{className:"font-medium text-red-600",children:["-",v(P)]})]}),n.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${P/z*100}%`}})})]})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(nr,{className:"w-8 h-8 text-green-600"})}),n.jsx("p",{className:"font-medium text-gray-900",children:"No Deductions!"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Perfect attendance this month"})]})]})]})})]})]})}const vD={balance:1e5,years:"",age:"",type:"Refundable",amount:""};function Yoe({onSubmitRequest:e}){const[t,a]=x.useState(vD),[r,s]=x.useState(""),[l,c]=x.useState(""),d=t.balance*.8,m=t.type==="Non-Refundable";function f(){return+t.years<3?"You must have at least 3 years of service.":m&&+t.age<50?"Non-Refundable loan requires age  50.":+t.amount>d?"Requested amount exceeds 80% of balance.":""}function h(v){const{name:y,value:j}=v.target;a(b=>({...b,[y]:j})),s(""),c("")}function g(v){v.preventDefault();const y=f();if(y)return s(y);c("Request submitted!"),e&&e({...t,requested:+t.amount}),a(vD)}return n.jsxs("div",{className:"max-w-md mx-auto bg-white p-6 rounded shadow",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Provident Fund Loan/Withdrawal Request"}),n.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Accumulated Fund Balance"}),n.jsx("input",{type:"number",name:"balance",value:t.balance,disabled:!0,className:"w-full border rounded p-2 bg-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Years of Service"}),n.jsx("input",{type:"number",name:"years",value:t.years,onChange:h,className:"w-full border rounded p-2",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Age"}),n.jsx("input",{type:"number",name:"age",value:t.age,onChange:h,className:"w-full border rounded p-2",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Loan Type"}),n.jsxs("select",{name:"type",value:t.type,onChange:h,className:"w-full border rounded p-2",children:[n.jsx("option",{value:"Refundable",children:"Refundable"}),n.jsx("option",{value:"Non-Refundable",children:"Non-Refundable"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Requested Amount"}),n.jsx("input",{type:"number",name:"amount",value:t.amount,onChange:h,className:"w-full border rounded p-2",required:!0}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Max eligible: ",d.toLocaleString()]})]}),r&&n.jsx("div",{className:"text-red-600 text-sm",children:r}),l&&n.jsx("div",{className:"text-green-600 text-sm",children:l}),n.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Submit Request"})]})]})}function Goe({form:e,setForm:t}){return n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium",children:["Name Of Author ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{className:"w-full border rounded p-2",value:e.author||"",onChange:a=>t(r=>({...r,author:a.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium",children:["Book Title ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{className:"w-full border rounded p-2",value:e.bookTitle||"",onChange:a=>t(r=>({...r,bookTitle:a.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium",children:["Publisher Name Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{className:"w-full border rounded p-2",value:e.publisher||"",onChange:a=>t(r=>({...r,publisher:a.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium",children:["Date Of Publish ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",className:"w-full border rounded p-2",value:e.dateOfPublish||"",onChange:a=>t(r=>({...r,dateOfPublish:a.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Written Addition Modification"}),n.jsx("textarea",{className:"w-full border rounded p-2",value:e.addition||"",onChange:a=>t(r=>({...r,addition:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Website Link"}),n.jsx("input",{className:"w-full border rounded p-2",value:e.website||"",onChange:a=>t(r=>({...r,website:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"ISBN"}),n.jsx("input",{className:"w-full border rounded p-2",value:e.isbn||"",onChange:a=>t(r=>({...r,isbn:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Publisher Name Address"}),n.jsx("textarea",{className:"w-full border rounded p-2",value:e.publisher||"",onChange:a=>t(r=>({...r,publisher:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Chapter No"}),n.jsx("input",{className:"w-full border rounded p-2",value:e.chapterNo||"",onChange:a=>t(r=>({...r,chapterNo:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Chapter Name"}),n.jsx("textarea",{className:"w-full border rounded p-2",value:e.chapterName||"",onChange:a=>t(r=>({...r,chapterName:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Chapter Link"}),n.jsx("input",{className:"w-full border rounded p-2",value:e.chapterLink||"",onChange:a=>t(r=>({...r,chapterLink:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Date Of Publish"}),n.jsx("input",{type:"date",className:"w-full border rounded p-2",value:e.dateOfPublish||"",onChange:a=>t(r=>({...r,dateOfPublish:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Place Of Publish"}),n.jsx("textarea",{className:"w-full border rounded p-2",value:e.placeOfPublish||"",onChange:a=>t(r=>({...r,placeOfPublish:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Edition"}),n.jsx("input",{className:"w-full border rounded p-2",value:e.edition||"",onChange:a=>t(r=>({...r,edition:a.target.value}))})]})]})}function Zoe({form:e,setForm:t}){return n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium",children:["Complete Name of Journal and Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{className:"w-full border rounded p-2",value:e.journalAddress||"",onChange:a=>t(r=>({...r,journalAddress:a.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium",children:["Title Of The Publication ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{className:"w-full border rounded p-2",value:e.title||"",onChange:a=>t(r=>({...r,title:a.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium",children:["Date Published ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",className:"w-full border rounded p-2",value:e.datePublished||"",onChange:a=>t(r=>({...r,datePublished:a.target.value})),required:!0})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Vol., Issue Number, & Page Nos."}),n.jsx("textarea",{className:"w-full border rounded p-2",value:e.volume||"",onChange:a=>t(r=>({...r,volume:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Date Published"}),n.jsx("input",{type:"date",className:"w-full border rounded p-2",value:e.datePublished||"",onChange:a=>t(r=>({...r,datePublished:a.target.value}))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Journal Category (W.X.Y)"}),n.jsx("input",{className:"w-full border rounded p-2",value:e.journalCategory||"",onChange:a=>t(r=>({...r,journalCategory:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Name Of Authors"}),n.jsx("input",{className:"w-full border rounded p-2",value:e.authors||"",onChange:a=>t(r=>({...r,authors:a.target.value}))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Impact Factor"}),n.jsx("input",{className:"w-full border rounded p-2",value:e.impactFactor||"",onChange:a=>t(r=>({...r,impactFactor:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"DOI #"}),n.jsx("input",{className:"w-full border rounded p-2",value:e.doi||"",onChange:a=>t(r=>({...r,doi:a.target.value}))})]})]})]})}function Xoe({form:e,setForm:t}){return n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium",children:["Name Of Authors ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{className:"w-full border rounded p-2",value:e.authors||"",onChange:a=>t(r=>({...r,authors:a.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium",children:["Title of the Publication ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{className:"w-full border rounded p-2",value:e.title||"",onChange:a=>t(r=>({...r,title:a.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium",children:["Conference Paper Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",className:"w-full border rounded p-2",value:e.paperDate||"",onChange:a=>t(r=>({...r,paperDate:a.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Web Link"}),n.jsx("input",{className:"w-full border rounded p-2",value:e.webLink||"",onChange:a=>t(r=>({...r,webLink:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Conference Paper Date"}),n.jsx("input",{type:"date",className:"w-full border rounded p-2",value:e.paperDate||"",onChange:a=>t(r=>({...r,paperDate:a.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Funded By"}),n.jsx("textarea",{className:"w-full border rounded p-2",value:e.fundedBy||"",onChange:a=>t(r=>({...r,fundedBy:a.target.value}))})]})]})}function Qoe(){const e=Qe(ee=>ee.user),{employees:t,submitProfileUpdateRequest:a}=Ae(),r=x.useMemo(()=>t.find(ee=>ee.id===e?.id||ee.email===e?.email),[t,e]),[s,l]=x.useState(r?.dependents&&r.dependents.length>0?r.dependents:[{name:"Ayesha Khan",relationship:"Daughter",dob:"2015-06-12",cnic:"17301-9876543-2",document:""},{name:"Ali Khan",relationship:"Son",dob:"2018-09-25",cnic:"17301-8765432-1",document:""}]),[c,d]=x.useState(!1),[m,f]=x.useState(null),[h,g]=x.useState({name:"",relationship:"",dob:"",cnic:"",document:""});function v(ee){const ie=ee.target.files[0];if(ie){const ae=new FileReader;ae.onload=Me=>{g(Ce=>({...Ce,document:Me.target.result}))},ae.readAsDataURL(ie)}}function y(ee){if(ee.preventDefault(),!r?.id)return;let ie=[...s];m!==null?ie[m]={...h}:ie.push({...h}),l(ie),a(r.id,{dependents:ie},{requestedBy:r?.name||e?.name,notes:"Dependent update"}),d(!1),f(null),g({name:"",relationship:"",dob:"",cnic:"",document:""})}function j(ee){if(!r?.id)return;const ie=s.filter((ae,Me)=>Me!==ee);l(ie),a(r.id,{dependents:ie},{requestedBy:r?.name||e?.name,notes:"Dependent removal"})}const[b,S]=x.useState(r?.publications&&r.publications.length>0?r.publications:[{title:"A Study on React Performance",journal:"International Journal of Web Dev",year:"2024",link:"https://example.com/react-performance",document:""},{title:"Modern HRMS Systems",journal:"HR Tech Review",year:"2023",link:"",document:""}]),[M,w]=x.useState(!1),[A,O]=x.useState(r?.qualifications&&r.qualifications.length>0?r.qualifications:[{degree:"PhD Computer Science",institution:"CECOS University",field:"Software Engineering",year:"2022",document:""},{degree:"MS Information Technology",institution:"FAST NUCES",field:"IT",year:"2019",document:""}]),[D,k]=x.useState(!1),[_,E]=x.useState(!1),[P,z]=x.useState({name:r?.name||"",designation:r?.designation||"",department:r?.department||"",faculty:r?.faculty||"",status:r?.status||"Active"}),[L,I]=x.useState(null),[J,T]=x.useState("book"),Y={book:{author:"",coAuthor:"",bookTitle:"",addition:"",website:"",isbn:"",publisher:"",chapterNo:"",chapterName:"",chapterLink:"",dateOfPublish:"",placeOfPublish:"",edition:"",document:""},research:{journalAddress:"",issn:"",nationality:"",title:"",volume:"",datePublished:"",journalCategory:"",authors:"",impactFactor:"",doi:"",document:""},conference:{authors:"",conferenceAddress:"",coAuthor:"",nationality:"",title:"",webLink:"",paperDate:"",fundedBy:"",document:""}},[V,B]=x.useState(Y.book);function U(ee){const ie=ee.target.files[0];if(ie){const ae=new FileReader;ae.onload=Me=>{B(Ce=>({...Ce,document:Me.target.result}))},ae.readAsDataURL(ie)}}function F(ee){if(ee.preventDefault(),!r?.id)return;let ie=[...b];L!==null?ie[L]={...V}:ie.push({...V}),S(ie),a(r.id,{publications:ie},{requestedBy:r?.name||e?.name,notes:"Publication update"}),w(!1),I(null),B({title:"",journal:"",year:"",link:"",document:""})}function W(ee){if(!r?.id)return;const ie=b.filter((ae,Me)=>Me!==ee);S(ie),a(r.id,{publications:ie},{requestedBy:r?.name||e?.name,notes:"Publication removal"})}const[ne,je]=x.useState(null),[H,fe]=x.useState({degree:"",institution:"",field:"",year:"",document:""});function Ne(ee){const ie=ee.target.files[0];if(ie){const ae=new FileReader;ae.onload=Me=>{fe(Ce=>({...Ce,document:Me.target.result}))},ae.readAsDataURL(ie)}}function se(ee){if(ee.preventDefault(),!r?.id)return;let ie=[...A];ne!==null?ie[ne]={...H}:ie.push({...H}),O(ie),a(r.id,{qualifications:ie},{requestedBy:r?.name||e?.name,notes:"Qualification update"}),k(!1),je(null),fe({degree:"",institution:"",field:"",year:"",document:""})}return n.jsxs(ca,{defaultValue:"profile",className:"space-y-6",children:[n.jsxs(da,{className:"mb-4",children:[n.jsx(He,{value:"profile",children:"Profile"}),n.jsx(He,{value:"dependents",children:"Dependents"}),n.jsx(He,{value:"qualifications",children:"Qualifications"}),n.jsx(He,{value:"publications",children:"Publications"}),n.jsx(He,{value:"cecpf",children:"CECPF Provident Fund"})]}),n.jsx(St,{value:"dependents",children:n.jsxs(K,{title:"Dependents",children:[n.jsx("div",{className:"flex justify-end mb-2",children:n.jsx(X,{onClick:()=>{g({name:"",relationship:"",dob:"",cnic:"",document:""}),f(null),d(!0)},children:"Add Dependent"})}),s.length===0?n.jsx("div",{className:"text-gray-500",children:"No dependents added yet."}):n.jsx("ul",{className:"divide-y",children:s.map((ee,ie)=>n.jsxs("li",{className:"py-2 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:ee.name}),n.jsx("div",{className:"text-sm text-gray-600",children:ee.relationship}),n.jsxs("div",{className:"text-xs text-gray-500",children:["DOB: ",ee.dob]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["CNIC: ",ee.cnic]}),ee.document&&n.jsx("a",{href:ee.document,className:"text-blue-600 text-xs",target:"_blank",rel:"noopener noreferrer",children:"View Document"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{size:"sm",variant:"outline",onClick:()=>{g(ee),f(ie),d(!0)},children:"Edit"}),n.jsx(X,{size:"sm",variant:"danger",onClick:()=>j(ie),children:"Remove"})]})]},ie))})]})}),n.jsx(vt,{open:c,onClose:()=>d(!1),title:m!==null?"Edit Dependent":"Add Dependent",children:n.jsxs("form",{onSubmit:y,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Name"}),n.jsx("input",{className:"w-full border rounded p-2",value:h.name,onChange:ee=>g(ie=>({...ie,name:ee.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Relationship"}),n.jsx("input",{className:"w-full border rounded p-2",value:h.relationship,onChange:ee=>g(ie=>({...ie,relationship:ee.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Date of Birth"}),n.jsx("input",{type:"date",className:"w-full border rounded p-2",value:h.dob,onChange:ee=>g(ie=>({...ie,dob:ee.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"CNIC"}),n.jsx("input",{className:"w-full border rounded p-2",value:h.cnic,onChange:ee=>g(ie=>({...ie,cnic:ee.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Document"}),n.jsx(Zl,{onChange:v}),h.document&&n.jsx("div",{className:"mt-2",children:n.jsx("a",{href:h.document,className:"text-blue-600 text-xs underline",target:"_blank",rel:"noopener noreferrer",children:"View Uploaded Document"})})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),n.jsx(X,{type:"submit",children:"Save"})]})]})}),n.jsxs(St,{value:"profile",children:[n.jsxs(K,{className:"relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-0 right-0 h-32 bg-linear-to-r from-blue-600 to-blue-800"}),n.jsx("div",{className:"relative pt-16 pb-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Nc,{name:r?.name||e?.name,size:"2xl",className:"ring-4 ring-white"}),n.jsx("div",{className:"absolute bottom-1 right-1 w-5 h-5 bg-green-500 border-2 border-white rounded-full"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?.name||e?.name}),n.jsx("p",{className:"text-gray-600",children:r?.designation||"Employee"}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[n.jsx(ge,{variant:"primary",children:r?.department||e?.department}),n.jsx(ge,{variant:"outline",children:r?.faculty||e?.faculty}),n.jsx(ge,{variant:r?.status==="Active"?"success":"warning",children:r?.status||"Active"})]})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(X,{variant:"outline",onClick:()=>{z({name:r?.name||"",designation:r?.designation||"",department:r?.department||"",faculty:r?.faculty||"",status:r?.status||"Active"}),E(!0)},className:"gap-2",children:[n.jsx(vp,{className:"w-4 h-4"}),"Edit Profile"]})})]})})]}),n.jsx(K,{className:"mt-4",title:"Information",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500 text-xs",children:"Email"}),n.jsx("div",{className:"font-medium",children:"john.doe@cecos.edu.pk"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500 text-xs",children:"Phone"}),n.jsx("div",{className:"font-medium",children:"+92 300 1234567"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500 text-xs",children:"CNIC"}),n.jsx("div",{className:"font-medium",children:"12345-6789012-3"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500 text-xs",children:"Joining Date"}),n.jsx("div",{className:"font-medium",children:"2022-08-15"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500 text-xs",children:"Address"}),n.jsx("div",{className:"font-medium",children:"123 Main Street, Peshawar"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500 text-xs",children:"Supervisor"}),n.jsx("div",{className:"font-medium",children:"Dr. Ahmad Khan"})]})]})})]}),n.jsx(St,{value:"publications",children:n.jsxs(K,{title:"Publications",className:"bg-gradient-to-br from-blue-50 to-white border border-blue-100 shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h4",{className:"text-lg font-bold text-blue-900 flex items-center gap-2",children:[n.jsxs("svg",{className:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 20h9"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19.5 3 21l1.5-4L16.5 3.5z"})]}),"Publications"]}),n.jsx(X,{onClick:()=>{B({title:"",journal:"",year:"",link:"",document:""}),I(null),w(!0)},className:"shadow-md",children:"+ Add Publication"})]}),b.length===0?n.jsx("div",{className:"text-gray-400 text-center py-8",children:"No publications added yet."}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.map((ee,ie)=>n.jsxs("div",{className:"rounded-xl border border-blue-100 bg-white/80 shadow p-4 flex flex-col gap-2 relative group hover:shadow-xl transition-all",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"inline-block px-2 py-0.5 rounded text-xs font-semibold bg-blue-100 text-blue-700 uppercase tracking-wide",children:ee.type||"Book"}),n.jsx("span",{className:"text-xs text-gray-400 ml-auto",children:ee.year||ee.datePublished||ee.dateOfPublish||ee.paperDate||""})]}),n.jsx("div",{className:"font-bold text-blue-900 text-base truncate",title:ee.title||ee.bookTitle,children:ee.type==="book"?ee.bookTitle:ee.title}),n.jsxs("div",{className:"text-sm text-gray-700 truncate",children:[ee.type==="book"&&ee.author,ee.type==="research"&&ee.journalAddress,ee.type==="conference"&&ee.conferenceAddress]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[ee.website&&n.jsx("a",{href:ee.website,className:"text-blue-600 text-xs underline",target:"_blank",rel:"noopener noreferrer",children:"Website"}),ee.doi&&n.jsx("a",{href:ee.doi,className:"text-blue-600 text-xs underline",target:"_blank",rel:"noopener noreferrer",children:"DOI"}),ee.webLink&&n.jsx("a",{href:ee.webLink,className:"text-blue-600 text-xs underline",target:"_blank",rel:"noopener noreferrer",children:"Web Link"}),ee.document&&n.jsx("a",{href:ee.document,className:"text-green-700 text-xs underline",target:"_blank",rel:"noopener noreferrer",children:"View Document"})]}),n.jsxs("div",{className:"flex gap-2 mt-2 opacity-0 group-hover:opacity-100 transition-opacity absolute top-2 right-2",children:[n.jsx(X,{size:"xs",variant:"outline",onClick:()=>{T(ee.type||"book"),B(ee.type?{...ee}:Y.book),I(ie),w(!0)},children:"Edit"}),n.jsx(X,{size:"xs",variant:"danger",onClick:()=>W(ie),children:"Remove"})]})]},ie))})]})}),n.jsx(St,{value:"cecpf",children:n.jsx(K,{title:"CECPF Provident Fund",children:n.jsxs("div",{className:"mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Apply for CECPF Provident Fund"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Submit your application for the CECOS Employees Contributory Provident Fund. Your request will be reviewed by the Finance department."}),n.jsx("div",{className:"max-w-xl",children:n.jsx(Yoe,{})})]})})}),n.jsx(St,{value:"qualifications",children:n.jsxs(K,{title:"Qualifications",children:[n.jsx("div",{className:"flex justify-end mb-2",children:n.jsx(X,{onClick:()=>{fe({degree:"",institution:"",field:"",year:"",document:""}),je(null),k(!0)},children:"Add Qualification"})}),A.length===0?n.jsx("div",{className:"text-gray-500",children:"No qualifications added yet."}):n.jsx("ul",{className:"divide-y",children:A.map((ee,ie)=>n.jsxs("li",{className:"py-2 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:ee.degree}),n.jsxs("div",{className:"text-sm text-gray-600",children:[ee.institution," (",ee.year,")"]}),n.jsx("div",{className:"text-xs text-gray-500",children:ee.field})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{size:"sm",variant:"outline",onClick:()=>{fe(ee),je(ie),k(!0)},children:"Edit"}),n.jsx(X,{size:"sm",variant:"danger",onClick:()=>handleRemoveQualification(ie),children:"Remove"})]})]},ie))})]})}),n.jsx(vt,{open:_,onClose:()=>E(!1),title:"Edit Profile",children:n.jsxs("form",{onSubmit:ee=>{ee.preventDefault(),r?.id&&(a(r.id,P,{requestedBy:r?.name||e?.name,notes:"Profile update"}),E(!1))},className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Name"}),n.jsx("input",{className:"w-full border rounded p-2",value:P.name,onChange:ee=>z(ie=>({...ie,name:ee.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Designation"}),n.jsx("input",{className:"w-full border rounded p-2",value:P.designation,onChange:ee=>z(ie=>({...ie,designation:ee.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Department"}),n.jsx("input",{className:"w-full border rounded p-2",value:P.department,onChange:ee=>z(ie=>({...ie,department:ee.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Faculty"}),n.jsx("input",{className:"w-full border rounded p-2",value:P.faculty,onChange:ee=>z(ie=>({...ie,faculty:ee.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Status"}),n.jsxs("select",{className:"w-full border rounded p-2",value:P.status,onChange:ee=>z(ie=>({...ie,status:ee.target.value})),children:[n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{type:"button",variant:"outline",onClick:()=>E(!1),children:"Cancel"}),n.jsx(X,{type:"submit",children:"Save"})]})]})}),n.jsx(vt,{open:M,onClose:()=>{w(!1),I(null),T("book"),B(Y.book)},title:L!==null?"Edit Publication":"Add Publication",children:n.jsxs("form",{onSubmit:F,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Publication Type"}),n.jsxs("select",{className:"w-full border rounded p-2",value:J,onChange:ee=>{const ie=ee.target.value;T(ie),B(Y[ie])},disabled:L!==null,children:[n.jsx("option",{value:"book",children:"Book Writing"}),n.jsx("option",{value:"research",children:"Research Publication"}),n.jsx("option",{value:"conference",children:"Conference Paper"})]})]}),J==="book"&&n.jsx(Goe,{form:V,setForm:B}),J==="research"&&n.jsx(Zoe,{form:V,setForm:B}),J==="conference"&&n.jsx(Xoe,{form:V,setForm:B}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Document"}),n.jsx(Zl,{onChange:U}),V.document&&n.jsx("div",{className:"mt-2",children:n.jsx("a",{href:V.document,className:"text-blue-600 text-xs underline",target:"_blank",rel:"noopener noreferrer",children:"View Uploaded Document"})})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{type:"button",variant:"outline",onClick:()=>{w(!1),I(null),T("book"),B(Y.book)},children:"Cancel"}),n.jsx(X,{type:"submit",children:"Save"})]})]})}),n.jsx(vt,{open:D,onClose:()=>k(!1),title:ne!==null?"Edit Qualification":"Add Qualification",children:n.jsxs("form",{onSubmit:se,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Degree"}),n.jsx("input",{className:"w-full border rounded p-2",value:H.degree,onChange:ee=>fe(ie=>({...ie,degree:ee.target.value})),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Institution"}),n.jsx("input",{className:"w-full border rounded p-2",value:H.institution,onChange:ee=>fe(ie=>({...ie,institution:ee.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Field"}),n.jsx("input",{className:"w-full border rounded p-2",value:H.field,onChange:ee=>fe(ie=>({...ie,field:ee.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Year"}),n.jsx("input",{className:"w-full border rounded p-2",value:H.year,onChange:ee=>fe(ie=>({...ie,year:ee.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Document"}),n.jsx(Zl,{onChange:Ne})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(X,{type:"button",variant:"outline",onClick:()=>k(!1),children:"Cancel"}),n.jsx(X,{type:"submit",children:"Save"})]})]})})]})}function Joe(){const e=Qe(k=>k.user),{employees:t,promotions:a,addPromotion:r}=Ae(),s=x.useMemo(()=>t.find(k=>k.id===e?.id||k.email===e?.email),[t,e]),l=s?.id||e?.id,[c,d]=x.useState(!1),[m,f]=x.useState(null),{register:h,handleSubmit:g,reset:v,formState:{errors:y,isSubmitting:j}}=Tc({defaultValues:{effectiveDate:q(new Date,"yyyy-MM-dd"),expectedSalary:""}}),b=S8[s?.designation]||null,S=x.useMemo(()=>s?.joinDate?Math.floor((new Date-new Date(s.joinDate))/(365.25*24*60*60*1e3)):0,[s?.joinDate]),M=x.useMemo(()=>a.filter(k=>k.employeeId===l).sort((k,_)=>new Date(_.appliedOn)-new Date(k.appliedOn)),[a,l]),w=M.find(k=>k.status==="Pending"||k.status==="Under Review"),A=k=>{r({employeeId:l,requestedDesignation:b,reason:k.reason,achievements:k.achievements,qualifications:k.qualifications,yearsInService:S,effectiveDate:k.effectiveDate,proposedSalary:k.expectedSalary?parseInt(k.expectedSalary,10):void 0,documents:k.documents?.split(",").map(_=>_.trim()).filter(Boolean)||[]}),v(),d(!1)},O=k=>{const _={Pending:"warning","Under Review":"info",Approved:"success",Rejected:"error"};return n.jsx(ge,{variant:_[k]||"default",children:k})},D=k=>{switch(k){case"Approved":return n.jsx(Le,{className:"w-5 h-5 text-green-500"});case"Rejected":return n.jsx(Tt,{className:"w-5 h-5 text-red-500"});default:return n.jsx(Be,{className:"w-5 h-5 text-amber-500"})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Promotion Requests"}),n.jsx("p",{className:"text-gray-600",children:"Apply for career advancement"})]}),b&&!w&&n.jsxs(X,{onClick:()=>d(!0),className:"gap-2",children:[n.jsx(ci,{className:"w-5 h-5"}),"Request Promotion"]})]}),n.jsx(K,{className:"bg-linear-to-br from-indigo-50 to-purple-50 border-indigo-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6",children:[n.jsx("div",{className:"w-16 h-16 rounded-2xl bg-linear-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white",children:n.jsx(ll,{className:"w-8 h-8"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Current Position"}),n.jsx("p",{className:"text-2xl font-bold text-indigo-600 mt-1",children:s?.designation||"Not Available"}),n.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-sm text-gray-600",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(qv,{className:"w-4 h-4"}),s?.department," Department"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Xe,{className:"w-4 h-4"}),S," years of service"]})]})]}),b&&n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Next Level"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(pu,{className:"w-5 h-5 text-green-500"}),n.jsx("span",{className:"text-lg font-semibold text-green-600",children:b})]})]})]})}),w&&n.jsx(K,{className:"bg-amber-50 border-amber-200",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center",children:n.jsx(Be,{className:"w-5 h-5 text-amber-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-amber-800",children:"Promotion Request In Progress"}),n.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:["Your request for promotion to ",w.requestedDesignation," is currently"," ",w.status.toLowerCase(),". Applied on"," ",q(ue(w.appliedOn),"MMM d, yyyy"),"."]})]}),O(w.status)]})}),n.jsx(K,{title:"Promotion History",subtitle:"Your career advancement journey",children:M.length===0?n.jsx(Fu,{icon:uj,title:"No Promotion Requests",description:"You haven't applied for any promotions yet. Start your career advancement journey!"}):n.jsx("div",{className:"space-y-4",children:M.map(k=>n.jsxs("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>f(k),children:[n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[D(k.status),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-gray-900",children:[k.currentDesignation,"  ",k.requestedDesignation]}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Applied on ",q(ue(k.appliedOn),"MMM d, yyyy")]}),n.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:k.reason})]})]}),O(k.status)]}),k.committeeReview&&n.jsxs("div",{className:"mt-3 pt-3 border-t",children:[n.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase",children:"Committee Review"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.committeeReview.notes})]})]},k.id))})}),n.jsx(vt,{isOpen:c,onClose:()=>d(!1),title:"Request Promotion",size:"lg",children:n.jsxs("form",{onSubmit:g(A),className:"space-y-6",children:[n.jsx("div",{className:"p-4 bg-linear-to-r from-indigo-50 to-purple-50 rounded-xl",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Current Position"}),n.jsx("p",{className:"font-semibold text-gray-900",children:s?.designation})]}),n.jsx(pu,{className:"w-6 h-6 text-indigo-500"}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Requested Position"}),n.jsx("p",{className:"font-semibold text-indigo-600",children:b})]})]})}),n.jsx(tt,{label:"Reason for Promotion",error:y.reason?.message,required:!0,children:n.jsx("textarea",{...h("reason",{required:"Please provide your reason for requesting promotion",minLength:{value:50,message:"Please provide at least 50 characters"}}),rows:4,placeholder:"Explain why you believe you deserve this promotion...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})}),n.jsx(tt,{label:"Key Achievements",error:y.achievements?.message,required:!0,children:n.jsx("textarea",{...h("achievements",{required:"Please list your key achievements"}),rows:3,placeholder:"List your significant achievements, projects, and contributions...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})}),n.jsx(tt,{label:"Additional Qualifications",error:y.qualifications?.message,children:n.jsx("textarea",{...h("qualifications"),rows:2,placeholder:"Any new degrees, certifications, or training completed...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})}),n.jsx(tt,{label:"Supporting Documents (comma separated)",children:n.jsx("input",{...h("documents"),type:"text",placeholder:"e.g., PhD Certificate, Research Papers, Performance Reviews",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),n.jsx(tt,{label:"Effective Date",error:y.effectiveDate?.message,children:n.jsx("input",{type:"date",...h("effectiveDate"),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),n.jsx(tt,{label:"Expected Salary (PKR)",error:y.expectedSalary?.message,children:n.jsx("input",{type:"number",min:0,step:"1000",...h("expectedSalary"),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Optional"})}),n.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl text-sm text-blue-700",children:[n.jsx("p",{className:"font-medium",children:"Note:"}),n.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1 text-blue-600",children:[n.jsx("li",{children:"Your request will be reviewed by a committee"}),n.jsx("li",{children:"The process typically takes 2-4 weeks"}),n.jsx("li",{children:"You may be called for an interview"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),n.jsx(X,{type:"submit",disabled:j,children:j?"Submitting...":"Submit Request"})]})]})}),n.jsx(vt,{isOpen:!!m,onClose:()=>f(null),title:"Promotion Request Details",children:m&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Requested Promotion"}),n.jsxs("p",{className:"font-semibold",children:[m.currentDesignation,"  ",m.requestedDesignation]})]}),O(m.status)]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Applied On"}),n.jsx("p",{className:"font-medium",children:q(ue(m.appliedOn),"MMM d, yyyy")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Years of Service"}),n.jsxs("p",{className:"font-medium",children:[m.yearsInService," years"]})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Reason"}),n.jsx("p",{className:"text-sm text-gray-700",children:m.reason})]}),m.achievements&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Achievements"}),n.jsx("p",{className:"text-sm text-gray-700",children:m.achievements})]}),m.documents?.length>0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Supporting Documents"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:m.documents.map((k,_)=>n.jsx("span",{className:"px-3 py-1 bg-gray-100 rounded-full text-sm text-gray-700",children:k},_))})]}),m.committeeReview&&n.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl",children:[n.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Committee Review"}),n.jsx("p",{className:"text-sm text-blue-700 mt-1",children:m.committeeReview.notes}),n.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:["Reviewed on ",m.committeeReview.date]})]}),m.hrDecision&&n.jsxs("div",{className:`p-4 rounded-xl ${m.status==="Approved"?"bg-green-50":m.status==="Rejected"?"bg-red-50":"bg-gray-50"}`,children:[n.jsx("p",{className:`text-sm font-medium ${m.status==="Approved"?"text-green-800":m.status==="Rejected"?"text-red-800":"text-gray-800"}`,children:"HR Decision"}),n.jsx("p",{className:`text-sm mt-1 ${m.status==="Approved"?"text-green-700":m.status==="Rejected"?"text-red-700":"text-gray-700"}`,children:m.hrDecision.notes})]})]})})]})}function ece(){const e=Qe(T=>T.user),{employees:t,resignations:a,addResignation:r,submitExitSurvey:s}=Ae(),l=x.useMemo(()=>t.find(T=>T.id===e?.id||T.email===e?.email),[t,e]),c=l?.id||e?.id,[d,m]=x.useState(!1),[f,h]=x.useState(!1),[g,v]=x.useState(!1),[y,j]=x.useState(null),[b,S]=x.useState(!1);x.useRef(null);const{register:M,handleSubmit:w,reset:A,formState:{errors:O}}=Tc({defaultValues:{noticePeriod:30}}),[D,k]=x.useState({}),_=x.useMemo(()=>a.filter(T=>T.employeeId===c).sort((T,Y)=>new Date(Y.appliedOn)-new Date(T.appliedOn)),[a,c]),E=_.find(T=>T.status==="Pending"||T.status==="Approved"),P=T=>{const Y=q(cs(new Date,T.noticePeriod),"yyyy-MM-dd");r({employeeId:c,reason:T.reason,noticePeriod:parseInt(T.noticePeriod),lastWorkingDate:Y,detailedReason:T.detailedReason}),A(),m(!1)},z=()=>{y&&(s(y.id,D),h(!1),j(null),k({}))},L=T=>{const Y={Pending:"warning",Approved:"info",Completed:"success",Rejected:"error",Withdrawn:"default"};return n.jsx(ge,{variant:Y[T]||"default",children:T})},I=T=>{switch(T.type){case"select":return n.jsxs("select",{value:D[T.id]||"",onChange:Y=>k({...D,[T.id]:Y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"",children:"Select an option"}),T.options.map(Y=>n.jsx("option",{value:Y,children:Y},Y))]});case"rating":return n.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(Y=>n.jsx("button",{type:"button",onClick:()=>k({...D,[T.id]:Y}),className:`w-10 h-10 rounded-lg border-2 transition-all ${D[T.id]===Y?"bg-indigo-500 border-indigo-500 text-white":"border-gray-200 hover:border-indigo-300"}`,children:Y},Y))});case"boolean":return n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"button",onClick:()=>k({...D,[T.id]:!0}),className:`px-6 py-2 rounded-lg border-2 transition-all ${D[T.id]===!0?"bg-green-500 border-green-500 text-white":"border-gray-200 hover:border-green-300"}`,children:"Yes"}),n.jsx("button",{type:"button",onClick:()=>k({...D,[T.id]:!1}),className:`px-6 py-2 rounded-lg border-2 transition-all ${D[T.id]===!1?"bg-red-500 border-red-500 text-white":"border-gray-200 hover:border-red-300"}`,children:"No"})]});case"textarea":return n.jsx("textarea",{value:D[T.id]||"",onChange:Y=>k({...D,[T.id]:Y.target.value}),rows:3,placeholder:"Share your thoughts...",className:"w-full px-4 py-3 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"});default:return null}},J=()=>{const T=`
<!DOCTYPE html>
<html>
<head>
  <title>Resignation Form - CECOS University</title>
  <style>
    body { font-family: 'Times New Roman', serif; max-width: 800px; margin: 0 auto; padding: 40px; }
    .header { text-align: center; border-bottom: 2px solid #800020; padding-bottom: 20px; margin-bottom: 30px; }
    .logo { font-size: 24px; font-weight: bold; color: #800020; }
    .subtitle { color: #001F3F; font-size: 14px; margin-top: 5px; }
    h1 { color: #001F3F; font-size: 20px; margin: 30px 0; text-align: center; }
    .section { margin: 20px 0; }
    .section-title { font-weight: bold; color: #800020; border-bottom: 1px solid #ccc; padding-bottom: 5px; margin-bottom: 15px; }
    .field { margin: 10px 0; display: flex; }
    .field-label { font-weight: bold; width: 200px; }
    .field-value { flex: 1; border-bottom: 1px dotted #999; padding-left: 10px; }
    .checkbox-section { margin: 20px 0; padding: 15px; background: #f9f9f9; border-radius: 5px; }
    .checkbox-item { margin: 10px 0; }
    .signature-section { margin-top: 50px; display: flex; justify-content: space-between; }
    .signature-box { width: 45%; text-align: center; }
    .signature-line { border-top: 1px solid #000; margin-top: 60px; padding-top: 5px; }
    .footer { margin-top: 40px; text-align: center; font-size: 12px; color: #666; border-top: 1px solid #ccc; padding-top: 20px; }
    @media print { body { padding: 20px; } }
  </style>
</head>
<body>
  <div class="header">
    <div class="logo">CECOS UNIVERSITY</div>
    <div class="subtitle">Human Resource Management System</div>
  </div>
  
  <h1>EMPLOYEE RESIGNATION FORM</h1>
  
  <div class="section">
    <div class="section-title">Employee Information</div>
    <div class="field">
      <span class="field-label">Employee Name:</span>
      <span class="field-value">${l?.name||"_________________"}</span>
    </div>
    <div class="field">
      <span class="field-label">Employee Code:</span>
      <span class="field-value">${l?.code||"_________________"}</span>
    </div>
    <div class="field">
      <span class="field-label">Department:</span>
      <span class="field-value">${l?.department||"_________________"}</span>
    </div>
    <div class="field">
      <span class="field-label">Faculty:</span>
      <span class="field-value">${l?.faculty||"_________________"}</span>
    </div>
    <div class="field">
      <span class="field-label">Designation:</span>
      <span class="field-value">${l?.designation||"_________________"}</span>
    </div>
    <div class="field">
      <span class="field-label">Date of Joining:</span>
      <span class="field-value">${l?.joinDate?q(ue(l.joinDate),"MMMM d, yyyy"):"_________________"}</span>
    </div>
    <div class="field">
      <span class="field-label">Email:</span>
      <span class="field-value">${l?.email||"_________________"}</span>
    </div>
  </div>
  
  <div class="section">
    <div class="section-title">Resignation Details</div>
    <div class="field">
      <span class="field-label">Date of Resignation:</span>
      <span class="field-value">${q(new Date,"MMMM d, yyyy")}</span>
    </div>
    <div class="field">
      <span class="field-label">Last Working Day:</span>
      <span class="field-value">_________________</span>
    </div>
    <div class="field">
      <span class="field-label">Notice Period:</span>
      <span class="field-value"> 15 Days   30 Days   60 Days   90 Days</span>
    </div>
    <div class="field" style="flex-direction: column;">
      <span class="field-label">Reason for Resignation:</span>
      <div style="border: 1px solid #ccc; min-height: 80px; margin-top: 10px; padding: 10px;"></div>
    </div>
  </div>
  
  <div class="checkbox-section">
    <div class="section-title">Clearance Checklist (To be completed by HR)</div>
    <div class="checkbox-item"> All university property returned (ID Card, Keys, Equipment)</div>
    <div class="checkbox-item"> Library clearance obtained</div>
    <div class="checkbox-item"> IT department clearance (Email, System Access revoked)</div>
    <div class="checkbox-item"> Finance department clearance (No pending dues)</div>
    <div class="checkbox-item"> Handover of responsibilities completed</div>
    <div class="checkbox-item"> Exit interview conducted</div>
    <div class="checkbox-item"> Final settlement processed</div>
  </div>
  
  <div class="signature-section">
    <div class="signature-box">
      <div class="signature-line">Employee Signature</div>
      <div>Date: _________________</div>
    </div>
    <div class="signature-box">
      <div class="signature-line">HR Manager Signature</div>
      <div>Date: _________________</div>
    </div>
  </div>
  
  <div class="signature-section" style="margin-top: 30px;">
    <div class="signature-box">
      <div class="signature-line">HOD Signature</div>
      <div>Date: _________________</div>
    </div>
    <div class="signature-box">
      <div class="signature-line">Dean Signature</div>
      <div>Date: _________________</div>
    </div>
  </div>
  
  <div class="footer">
    <p>CECOS University - Human Resource Department</p>
    <p>This form must be submitted at least 30 days before the intended last working day.</p>
    <p>Form Generated: ${q(new Date,"MMMM d, yyyy - HH:mm")}</p>
  </div>
</body>
</html>
    `,Y=new Blob([T],{type:"text/html"}),V=URL.createObjectURL(Y),B=document.createElement("a");B.href=V,B.download=`Resignation_Form_${l?.name?.replace(/\s+/g,"_")||"Employee"}_${q(new Date,"yyyy-MM-dd")}.html`,B.click(),URL.revokeObjectURL(V),S(!0)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Resignation"}),n.jsx("p",{className:"text-gray-600",children:"Submit and manage resignation requests"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{variant:"outline",onClick:J,className:"gap-2",children:[n.jsx(xu,{className:"w-5 h-5"}),"Download Form"]}),!E&&n.jsxs(X,{variant:"outline",onClick:()=>m(!0),className:"gap-2 border-red-200 text-red-600 hover:bg-red-50",children:[n.jsx(jc,{className:"w-5 h-5"}),"Submit Resignation"]})]})]}),b&&!E&&n.jsx(K,{className:"bg-blue-50 border-blue-200",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:n.jsx(Le,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-blue-800",children:"Form Downloaded Successfully"}),n.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Please fill out the downloaded form, get required signatures, and then submit your resignation online. You can also print the form for physical submission."}),n.jsx(X,{size:"sm",className:"mt-3",onClick:()=>m(!0),children:"Submit Resignation Online"})]})]})}),E&&n.jsxs(K,{className:"border-amber-200 bg-amber-50",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-100 flex items-center justify-center",children:n.jsx(Jn,{className:"w-6 h-6 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-amber-800",children:"Active Resignation Request"}),n.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:["Status: ",E.status," | Last working date:"," ",q(ue(E.lastWorkingDate),"MMM d, yyyy")]}),n.jsxs("p",{className:"text-sm text-amber-600 mt-1",children:["Reason: ",E.reason]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[L(E.status),E.status==="Approved"&&!E.exitSurvey&&n.jsxs(X,{size:"sm",onClick:()=>{j(E),h(!0)},className:"gap-1",children:[n.jsx(li,{className:"w-4 h-4"}),"Exit Survey"]})]})]}),n.jsx("div",{className:"mt-6 pt-6 border-t border-amber-200",children:n.jsx("div",{className:"flex items-center justify-between",children:[{label:"Submitted",done:!0},{label:"HR Review",done:E.status!=="Pending"},{label:"Exit Survey",done:!!E.exitSurvey},{label:"Handover",done:E.handoverStatus==="completed"},{label:"Completed",done:E.status==="Completed"}].map((T,Y)=>n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${T.done?"bg-green-500 text-white":"bg-gray-200 text-gray-500"}`,children:T.done?n.jsx(Le,{className:"w-5 h-5"}):Y+1}),n.jsx("span",{className:"text-xs text-gray-600 mt-1",children:T.label})]},Y))})})]}),n.jsx(K,{title:"Resignation History",children:_.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ht,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"No resignation history"})]}):n.jsx("div",{className:"space-y-4",children:_.map(T=>n.jsx("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:"Resignation Request"}),L(T.status)]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:T.reason}),n.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-sm text-gray-500",children:[n.jsxs("span",{children:["Applied: ",q(ue(T.appliedOn),"MMM d, yyyy")]}),n.jsxs("span",{children:["Last Day: ",q(ue(T.lastWorkingDate),"MMM d, yyyy")]}),n.jsxs("span",{children:["Notice: ",T.noticePeriod," days"]})]})]}),T.exitSurvey&&n.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[n.jsx(Le,{className:"w-5 h-5"}),n.jsx("span",{className:"text-sm",children:"Survey Completed"})]})]})},T.id))})}),n.jsx(K,{className:"bg-gray-50",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(Jn,{className:"w-6 h-6 text-gray-400 mt-1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Important Information"}),n.jsxs("ul",{className:"mt-2 space-y-1 text-sm text-gray-600",children:[n.jsx("li",{children:" Standard notice period is 30 days (may vary by contract)"}),n.jsx("li",{children:" Complete the exit survey to help us improve"}),n.jsx("li",{children:" Ensure proper handover of all responsibilities"}),n.jsx("li",{children:" Return all university property before last working day"}),n.jsx("li",{children:" Collect clearance certificate from HR"})]})]})]})}),n.jsx(vt,{isOpen:d,onClose:()=>m(!1),title:"Submit Resignation",size:"lg",children:n.jsxs("form",{onSubmit:w(P),className:"space-y-6",children:[n.jsxs("div",{className:"p-4 bg-red-50 rounded-xl text-sm text-red-700",children:[n.jsx("p",{className:"font-medium",children:"Please consider carefully before proceeding."}),n.jsx("p",{className:"mt-1",children:"This action will initiate your resignation process. You can discuss with HR if you have any concerns."})]}),n.jsx(tt,{label:"Primary Reason",error:O.reason?.message,required:!0,children:n.jsxs("select",{...M("reason",{required:"Please select a reason"}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"",children:"Select a reason"}),n.jsx("option",{value:"Better Opportunity",children:"Better Opportunity"}),n.jsx("option",{value:"Personal Reasons",children:"Personal Reasons"}),n.jsx("option",{value:"Relocation",children:"Relocation"}),n.jsx("option",{value:"Health Issues",children:"Health Issues"}),n.jsx("option",{value:"Career Change",children:"Career Change"}),n.jsx("option",{value:"Higher Studies",children:"Higher Studies"}),n.jsx("option",{value:"Retirement",children:"Retirement"}),n.jsx("option",{value:"Other",children:"Other"})]})}),n.jsx(tt,{label:"Detailed Explanation",error:O.detailedReason?.message,children:n.jsx("textarea",{...M("detailedReason"),rows:4,placeholder:"Please provide more details about your decision (optional)...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})}),n.jsx(tt,{label:"Notice Period (days)",error:O.noticePeriod?.message,required:!0,children:n.jsxs("select",{...M("noticePeriod",{required:"Please select notice period"}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:15,children:"15 days"}),n.jsx("option",{value:30,children:"30 days (Standard)"}),n.jsx("option",{value:60,children:"60 days"}),n.jsx("option",{value:90,children:"90 days"})]})}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),n.jsx(X,{type:"submit",className:"bg-red-600 hover:bg-red-700",children:"Submit Resignation"})]})]})}),n.jsx(vt,{isOpen:f,onClose:()=>h(!1),title:"Exit Survey",size:"lg",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Your feedback is valuable and will help us improve. Please take a moment to complete this survey."}),C8.map(T=>n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:T.question}),I(T)]},T.id)),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{variant:"outline",onClick:()=>h(!1),children:"Skip for Now"}),n.jsx(X,{onClick:z,children:"Submit Survey"})]})]})})]})}const Ji=[{id:10,title:"CECPF Provident Fund Policy",description:"Official policy document for the CECOS Employees Contributory Provident Fund (CECPF), including eligibility, application, and withdrawal procedures.",category:"Benefits",fileSize:"2.0 MB",format:"PDF",lastUpdated:"2021-12-10",status:"Active",downloadUrl:"/PDF's/4. CECPF 10 Dec 21.pdf"},{id:1,title:"Harassment Policy",description:"Comprehensive guidelines on prevention, reporting, and handling of harassment cases in the workplace.",category:"Workplace Conduct",fileSize:"2.4 MB",format:"PDF",lastUpdated:"2024-11-15",status:"Active",downloadUrl:"/PDF's/HARASSMENT-POLICY.pdf"},{id:2,title:"COVID-19 Pandemic Attendance Policy",description:"Special attendance guidelines and protocols during COVID-19 pandemic situations.",category:"Attendance",fileSize:"1.8 MB",format:"PDF",lastUpdated:"2024-10-20",status:"Active",downloadUrl:"/PDF's/COVID-19 Pandemic Attendance Policy.pdf"},{id:3,title:"Faculty Promotion Proforma",description:"Official form and guidelines for faculty promotion applications and evaluation criteria.",category:"Promotion",fileSize:"3.1 MB",format:"PDF",lastUpdated:"2024-12-01",status:"Active",downloadUrl:"/PDF's/Faculty Promotion Proforma_Updated (1).docx.pdf"},{id:4,title:"Private Consultancy Policy",description:"Official notification and guidelines for CECOS University private consultancy services and regulations.",category:"Workplace Conduct",fileSize:"1.2 MB",format:"PDF",lastUpdated:"2024-09-15",status:"Active",downloadUrl:"/PDF's/Notification CECOS University Private Consultancy.pdf"},{id:5,title:"CPD Courses Policy",description:"Continuing Professional Development (CPD) courses policy and enrollment guidelines for faculty and staff.",category:"Benefits",fileSize:"0.9 MB",format:"PDF",lastUpdated:"2024-08-22",status:"Active",downloadUrl:"/PDF's/Notification CPD Courses Policy.pdf"},{id:6,title:"Employees Grievance Committee",description:"Official notification establishing the Employees Grievance Committee and procedures for filing complaints.",category:"Workplace Conduct",fileSize:"0.7 MB",format:"PDF",lastUpdated:"2024-07-10",status:"Active",downloadUrl:"/PDF's/Notification Employees Grievance Committee.pdf"},{id:7,title:"Employees Resignation Policy",description:"Official policy and procedures for employee resignation, notice period, and exit formalities.",category:"Workplace Conduct",fileSize:"1.1 MB",format:"PDF",lastUpdated:"2024-06-18",status:"Active",downloadUrl:"/PDF's/Notification of Employees Resignation Policy.pdf"},{id:8,title:"Official Email Policy",description:"Guidelines and policy for official email usage, communication protocols, and email security.",category:"Workplace Conduct",fileSize:"0.8 MB",format:"PDF",lastUpdated:"2024-05-25",status:"Active",downloadUrl:"/PDF's/Notification of Official Email.pdf"},{id:9,title:"Provident Fund Policy",description:"Official notification regarding employee provident fund contributions, benefits, and withdrawal procedures.",category:"Benefits",fileSize:"1.5 MB",format:"PDF",lastUpdated:"2024-04-12",status:"Active",downloadUrl:"/PDF's/Notification of Provident Fund.pdf"}],bD=["All","Workplace Conduct","Attendance","Promotion","Leave","Salary","Benefits"];function tce(){const[e,t]=x.useState(""),[a,r]=x.useState("All"),s=Ji.filter(m=>{const f=m.title.toLowerCase().includes(e.toLowerCase())||m.description.toLowerCase().includes(e.toLowerCase())||m.category.toLowerCase().includes(e.toLowerCase()),h=a==="All"||m.category===a;return f&&h}),l=m=>{const f=document.createElement("a");f.href=m.downloadUrl,f.download=`${m.title}.pdf`,document.body.appendChild(f),f.click(),document.body.removeChild(f)},c=m=>{const f={Active:"success",Archived:"default","Under Review":"warning"};return n.jsx(ge,{variant:f[m]||"default",children:m})},d={All:Ji.length,"Workplace Conduct":Ji.filter(m=>m.category==="Workplace Conduct").length,Attendance:Ji.filter(m=>m.category==="Attendance").length,Promotion:Ji.filter(m=>m.category==="Promotion").length,Leave:0,Salary:0,Benefits:0};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Policy Advisory"}),n.jsx("p",{className:"text-gray-600",children:"Access and download official university policies and documents"})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[n.jsx(K,{className:"bg-linear-to-br from-blue-50 to-blue-100 border-blue-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(ht,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-blue-900",children:Ji.length}),n.jsx("p",{className:"text-xs text-blue-700",children:"Available Policies"})]})]})}),n.jsx(K,{className:"bg-linear-to-br from-green-50 to-green-100 border-green-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(Le,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-green-900",children:Ji.filter(m=>m.status==="Active").length}),n.jsx("p",{className:"text-xs text-green-700",children:"Active"})]})]})}),n.jsx(K,{className:"bg-linear-to-br from-purple-50 to-purple-100 border-purple-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:n.jsx(Wt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-purple-900",children:bD.length-1}),n.jsx("p",{className:"text-xs text-purple-700",children:"Categories"})]})]})}),n.jsx(K,{className:"bg-linear-to-br from-amber-50 to-amber-100 border-amber-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-amber-500 rounded-lg",children:n.jsx(Be,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-amber-900",children:new Date(Math.max(...Ji.map(m=>new Date(m.lastUpdated)))).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),n.jsx("p",{className:"text-xs text-amber-700",children:"Last Updated"})]})]})})]}),n.jsx(K,{children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Cn,{type:"text",placeholder:"Search policies by title, category, or description...",value:e,onChange:m=>t(m.target.value),className:"w-full",inputClassName:"pr-4 py-2.5 text-sm"})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lo,{className:"w-5 h-5 text-gray-400"}),n.jsx("select",{value:a,onChange:m=>r(m.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:bD.map(m=>n.jsxs("option",{value:m,children:[m," ",d[m]>0&&`(${d[m]})`]},m))})]})]})}),s.length===0?n.jsx(K,{children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ph,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Policies Found"}),n.jsx("p",{className:"text-gray-500",children:"Try adjusting your search query or filter to find what you're looking for."})]})}):n.jsx("div",{className:"grid lg:grid-cols-2 gap-6",children:s.map(m=>n.jsx(K,{className:"hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[n.jsx("div",{className:"p-3 bg-blue-50 rounded-lg shrink-0",children:n.jsx(ht,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-1",children:m.title}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-gray-500",children:[n.jsx(ge,{size:"xs",variant:"info",children:m.category}),n.jsx("span",{children:""}),n.jsx("span",{children:m.format}),n.jsx("span",{children:""}),n.jsx("span",{children:m.fileSize})]})]})]}),c(m.status)]}),n.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:m.description}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsx(Be,{className:"w-4 h-4"}),n.jsxs("span",{children:["Updated: ",new Date(m.lastUpdated).toLocaleDateString()]})]}),n.jsxs(X,{size:"sm",onClick:()=>l(m),className:"gap-2",children:[n.jsx(Wt,{className:"w-4 h-4"}),"Download"]})]})]})},m.id))}),n.jsx(K,{className:"bg-linear-to-r from-blue-50 to-indigo-50 border-blue-200",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg shrink-0",children:n.jsx(ph,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Important Notice"}),n.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"All employees are required to review and acknowledge the policies relevant to their role. For questions or clarifications about any policy, please contact the HR department."}),n.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 list-disc list-inside",children:[n.jsx("li",{children:"Policies are regularly updated to reflect current regulations"}),n.jsx("li",{children:"Download and keep a copy for your reference"}),n.jsx("li",{children:"Contact HR if you need assistance understanding any policy"})]})]})]})})]})}function nce(){const e=Qe(y=>y.user),{employees:t,leaves:a,payrollRuns:r}=Ae(),s=Ae(y=>y.getProfileCompletion),l=x.useMemo(()=>t.find(y=>y.id===e?.id||y.email===e?.email),[t,e]),c=l?.leaveBalance||{},d=x.useMemo(()=>l?s(l.id):{percent:0,missing:[]},[l,s]),f=x.useMemo(()=>a.filter(y=>y.employeeId===l?.id).sort((y,j)=>ue(j.appliedOn)-ue(y.appliedOn)),[a,l]).slice(0,5),h=x.useMemo(()=>l?r.filter(y=>y.items).flatMap(y=>y.items.filter(j=>j.employeeId===l.id).map(j=>({period:y.period,status:y.status,netPay:j.netPay,postedOn:y.postedOn||y.generatedOn}))).slice(0,6):[],[r,l]),g=x.useMemo(()=>{const y=(l?.lifecycle||[]).map(b=>({date:b.effectiveDate,title:b.title||b.type,detail:b.meta?.designation||b.meta?.reason||""})),j=(l?.salaryHistory||[]).map(b=>({date:b.effectiveDate,title:"Salary change",detail:`${b.type||"adjustment"} to ${b.amount}`}));return[...y,...j].filter(b=>b.date).sort((b,S)=>ue(S.date)-ue(b.date)).slice(0,10)},[l]);if(!l)return n.jsx("div",{className:"text-sm text-gray-600",children:"Profile not found."});const v=y=>y==="Approved"?"success":y==="Pending"||y==="Forwarded"?"warning":y==="Rejected"?"error":"default";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Self-Service"}),n.jsx("p",{className:"text-gray-600",children:"View your data, balances, and history (read-only)"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:[n.jsx(K,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Dr,{className:"w-8 h-8 text-indigo-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Profile"}),n.jsx("p",{className:"font-semibold text-gray-900",children:l.name}),n.jsx("p",{className:"text-sm text-gray-600",children:l.designation}),n.jsxs("p",{className:"text-xs text-gray-500",children:[l.department,"  ",l.faculty]})]})]})}),n.jsx(K,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Xe,{className:"w-8 h-8 text-emerald-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Leave Balance"}),n.jsx("div",{className:"grid grid-cols-2 gap-1 text-sm text-gray-800",children:Object.entries(c).map(([y,j])=>n.jsxs("span",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"capitalize",children:y.replace("_"," ")}),n.jsx(ge,{variant:j>0?"success":"warning",children:j})]},y))})]})]})}),n.jsx(K,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(nr,{className:"w-8 h-8 text-amber-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Payslips"}),n.jsx("p",{className:"text-sm text-gray-800",children:h.length>0?`${h[0].period?.month||""} ${h[0].period?.year||""}`:"None available"})]})]})}),n.jsx(K,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Dr,{className:"w-8 h-8 text-emerald-600"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Profile Completion"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ge,{variant:d.percent>=90?"success":d.percent>=70?"warning":"error",children:[d.percent,"%"]}),d.missing&&d.missing.length>0&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Missing: ",d.missing.slice(0,3).join(", "),d.missing.length>3?"":""]})]})]})]})})]}),n.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[n.jsxs(K,{children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ys,{className:"w-5 h-5 text-gray-500"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"Recent Leave Requests"})]})}),f.length===0?n.jsx("p",{className:"text-sm text-gray-500",children:"No leave requests yet."}):n.jsx("div",{className:"space-y-2 text-sm text-gray-800",children:f.map(y=>n.jsxs("div",{className:"flex items-center justify-between rounded border px-3 py-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium capitalize",children:y.type.replace("_"," ")}),n.jsxs("p",{className:"text-xs text-gray-500",children:[y.startDate,"  ",y.endDate," (",y.days,"d)"]})]}),n.jsx(ge,{variant:v(y.status),children:y.status})]},y.id))})]}),n.jsxs(K,{children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Be,{className:"w-5 h-5 text-gray-500"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"Service History"})]})}),g.length===0?n.jsx("p",{className:"text-sm text-gray-500",children:"No history available."}):n.jsx("div",{className:"space-y-2 text-sm text-gray-800",children:g.map((y,j)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:y.title}),n.jsx("p",{className:"text-xs text-gray-500",children:y.detail})]}),n.jsx("span",{className:"text-xs text-gray-500",children:y.date&&q(ue(y.date),"PPP")})]},`${y.date}-${j}`))})]})]}),n.jsxs(K,{children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(nr,{className:"w-5 h-5 text-gray-500"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"Payslips (last 6)"})]})}),h.length===0?n.jsx("p",{className:"text-sm text-gray-500",children:"No payslips available yet."}):n.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-3 text-sm text-gray-800",children:h.map((y,j)=>n.jsxs("div",{className:"border rounded-lg p-3",children:[n.jsxs("p",{className:"font-medium",children:[y.period?.month," ",y.period?.year]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Net Pay: ",y.netPay]}),n.jsx(ge,{variant:y.status==="Posted"?"success":"info",children:y.status||"Draft"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:y.postedOn||"Unposted"})]},j))})]})]})}const ace={submitted:"info",returned:"warning","hod-confirmed":"primary","dean-confirmed":"success","vc-approved":"success",pending:"secondary"},jD=e=>({period:e,workload:{teachingLoad:"",projectSupervision:"",advisory:"",admin:""},rubric:{teaching:"",research:"",service:""},grievance:"",attachments:[]}),ND=e=>({period:e,workload:{teachingLoad:"",projectSupervision:"",advisory:"",admin:""},rubric:{teaching:"",research:"",service:""},grievance:"",attachments:[]});function rce(){const{user:e,hasRole:t}=Qe(),a=Ae(D=>D.employees),r=Ae(D=>D.submitPamsForm),s=Ae(D=>D.getPamsForEmployee),l=t("hod"),c=x.useMemo(()=>a.find(D=>D.id===e?.id||D.email===e?.email),[a,e]),d=new Date,m=Math.floor(d.getMonth()/3)+1,f=`${d.getFullYear()}-Q${m}`,[h,g]=x.useState("workload"),[v,y]=x.useState(()=>l?ND(f):jD(f)),[j,b]=x.useState(""),[S,M]=x.useState(!1),w=x.useMemo(()=>c?s(c.id):[],[c,s]),A=(D,k)=>{y(_=>{const E=D.split(".");if(E.length===1)return{..._,[D]:k};const[P,z]=E;return{..._,[P]:{..._[P],[z]:k}}})},O=D=>{if(D.preventDefault(),!c){b("No employee profile found.");return}M(!0),r({employeeId:c.id,employeeName:c.name,department:c.department,faculty:c.faculty,category:l?"hod":"faculty",period:v.period,...v,attachments:v.attachments.map(k=>({id:k.id,name:k.name,size:k.size,type:k.type})),by:"employee"}),M(!1),b(l?"HOD PAMS submitted to Dean for review and meeting.":"Faculty PAMS submitted to HOD for review and meeting."),y(l?ND(f):jD(f)),g("workload")};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Performance & Workload (PAMS)"}),n.jsx("p",{className:"text-gray-600",children:l?"HOD Performance Evaluation - Describe your workload and achievements":"Faculty Performance Evaluation - Describe your workload and achievements"}),l&&n.jsx("p",{className:"text-sm text-indigo-600 mt-1",children:" Submitting as HOD  routed to Dean for appraisal meeting"})]})}),n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(ys,{className:"w-5 h-5 text-gray-500"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"New Submission"})]}),n.jsxs("form",{onSubmit:O,className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[n.jsxs("label",{className:"text-sm text-gray-700 font-medium",children:["Period",n.jsx("input",{className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm",value:v.period,onChange:D=>A("period",D.target.value),placeholder:"2026-Q1"})]}),n.jsxs("label",{className:"text-sm text-gray-700 font-medium",children:["Department",n.jsx("input",{className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm bg-gray-50",value:c?.department||"",disabled:!0})]}),n.jsxs("label",{className:"text-sm text-gray-700 font-medium",children:["Faculty",n.jsx("input",{className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm bg-gray-50",value:c?.faculty||"",disabled:!0})]})]}),n.jsx(sce,{form:v,updateField:A,activeTab:h,setActiveTab:g,isHOD:l}),j&&n.jsx("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-3",children:n.jsx("p",{className:"text-sm text-emerald-700",children:j})}),n.jsx("div",{className:"flex items-center justify-end gap-2",children:n.jsxs(X,{type:"submit",disabled:S||!c,className:"flex items-center gap-2",children:[S?n.jsx(DD,{className:"w-4 h-4 animate-spin"}):n.jsx(Le,{className:"w-4 h-4"}),"Submit ",l?"to Dean":"to HOD"]})})]})]}),n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(I7,{className:"w-5 h-5 text-gray-500"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"Your Submissions"})]}),w.length===0?n.jsx("p",{className:"text-sm text-gray-600",children:"No PAMS submissions yet."}):n.jsx("div",{className:"space-y-3",children:w.map(D=>n.jsxs("div",{className:"border rounded-lg p-3 grid md:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Period"}),n.jsx("p",{className:"font-semibold text-gray-900",children:D.period}),n.jsx("p",{className:"text-xs text-gray-500",children:D.submittedAt||""})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Category"}),n.jsx("p",{className:"text-sm text-gray-800",children:D.category==="hod"?"HOD Evaluation":"Faculty Evaluation"})]}),n.jsx("div",{className:"flex items-center justify-between md:justify-end gap-2",children:n.jsx(ge,{variant:ace[D.status]||"secondary",children:D.status})})]},D.id))})]})]})}function sce({form:e,updateField:t,activeTab:a,setActiveTab:r,isHOD:s}){return n.jsxs(ca,{value:a,onValueChange:r,children:[n.jsxs(da,{children:[n.jsx(He,{value:"workload",children:"Workload Description"}),n.jsx(He,{value:"rubric",children:"Performance Rubric"}),n.jsx(He,{value:"attachments",children:"Attachments"})]}),n.jsxs(St,{value:"workload",className:"space-y-4 mt-4",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:s?"As HOD, describe your departmental leadership workload including teaching, supervision, and administrative responsibilities.":"Describe your workload during this performance period. Be specific about courses taught, projects supervised, and administrative duties."}),n.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:["Teaching Load",n.jsx("textarea",{rows:3,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.workload.teachingLoad,onChange:l=>t("workload.teachingLoad",l.target.value),placeholder:s?"e.g., Led department teaching plan; taught 1 course to CS-21":"e.g., 3 courses across 2 sections; labs included with prep and grading"})]}),n.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:["Project Supervision (FYP/MS/PhD)",n.jsx("textarea",{rows:3,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.workload.projectSupervision,onChange:l=>t("workload.projectSupervision",l.target.value),placeholder:s?"e.g., Oversaw FYP panel distribution; co-supervised 1 project":"e.g., 2 FYP teams supervised; co-supervision with clear role split"})]}),n.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:["Student Advisory",n.jsx("textarea",{rows:2,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.workload.advisory,onChange:l=>t("workload.advisory",l.target.value),placeholder:s?"e.g., Advised faculty on curriculum mapping; weekly office hours":"e.g., Advisor for CS-21 batch (~50 students)"})]}),n.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:["Administrative Duties",n.jsx("textarea",{rows:3,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.workload.admin,onChange:l=>t("workload.admin",l.target.value),placeholder:s?"e.g., Department budgeting, QEC liaison, hiring coordination":"e.g., Exam coordinator (weekly) plus QEC focal (biweekly)"})]})]}),n.jsxs(St,{value:"rubric",className:"space-y-4 mt-4",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:s?"Describe your performance achievements as HOD in teaching quality, research output, and departmental service.":"Describe your achievements and performance in teaching, research, and service during this period."}),n.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:[s?"Teaching Leadership & Quality":"Teaching Effectiveness",n.jsx("textarea",{rows:3,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.rubric.teaching,onChange:l=>t("rubric.teaching",l.target.value),placeholder:s?"e.g., Reviewed course files; ensured accreditation compliance":"e.g., SETE strong; course files updated; 100% syllabus coverage"})]}),n.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:["Research & ",s?"Funding":"Publications",n.jsx("textarea",{rows:3,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.rubric.research,onChange:l=>t("rubric.research",l.target.value),placeholder:s?"e.g., 1 grant submitted; 1 journal paper under review":"e.g., 2 W-category publications; 1 grant proposal submitted to HEC"})]}),n.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:[s?"Departmental Service & External Engagement":"Service & Community Engagement",n.jsx("textarea",{rows:3,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.rubric.service,onChange:l=>t("rubric.service",l.target.value),placeholder:s?"e.g., Chaired curriculum committee; external outreach to industry":"e.g., Seminar series coordination; curriculum review committee member"})]}),n.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:["Grievance / Comments / Suggestions (Optional)",n.jsx("textarea",{rows:2,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.grievance,onChange:l=>t("grievance",l.target.value),placeholder:"Any concerns, suggestions, or additional comments"})]})]}),n.jsx(St,{value:"attachments",className:"space-y-3 mt-4",children:n.jsx(Zl,{label:"Supporting Documents",value:e.attachments,onChange:l=>t("attachments",l),helper:s?"Attach strategic plans, reports, budget documents, faculty development records":"Attach course files, SETE reports, publication proofs, grant proposals",maxFiles:10,maxSizeMB:15})})]})}function ice(){return n.jsx(yi,{children:n.jsxs(Se,{element:n.jsx(lle,{}),children:[n.jsx(Se,{index:!0,element:n.jsx(ole,{})}),n.jsx(Se,{path:"attendance",element:n.jsx(Voe,{})}),n.jsx(Se,{path:"leave",element:n.jsx(Koe,{})}),n.jsx(Se,{path:"salary",element:n.jsx(Woe,{})}),n.jsx(Se,{path:"self-service",element:n.jsx(nce,{})}),n.jsx(Se,{path:"profile",element:n.jsx(Qoe,{})}),n.jsx(Se,{path:"promotions",element:n.jsx(Joe,{})}),n.jsx(Se,{path:"resignation",element:n.jsx(ece,{})}),n.jsx(Se,{path:"policy-advisory",element:n.jsx(tce,{})}),n.jsx(Se,{path:"pams",element:n.jsx(rce,{})}),n.jsx(Se,{path:"*",element:n.jsx(ps,{to:".",replace:!0})})]})})}const lce=[{path:"/president",label:"Dashboard",icon:$a,end:!0},{path:"/president/employees",label:"All Employees",icon:en},{path:"/president/medical-leaves",label:"Medical Leaves",icon:ht},{path:"/president/reports",label:"Reports",icon:oi},{path:"/president/analytics",label:"Analytics",icon:oj},{path:"/president/advisory",label:"Advisory",icon:cj},{path:"/president/settings",label:"Settings",icon:Tr}];function oce(){return n.jsx(vi,{portalKey:"president",portalName:"President Portal",navItems:lce})}function cce(){const e=Ae(f=>f.employees),t=e.length,a=e.filter(f=>f.status==="Active").length,r=[...new Set(e.map(f=>f.department))].length,s=e.reduce((f,h)=>f+(h.salaryBase||0),0),l=[{label:"Total Employees",value:t,icon:en,color:"from-blue-500 to-cyan-500"},{label:"Active Staff",value:a,icon:en,color:"from-emerald-500 to-teal-500"},{label:"Departments",value:r,icon:Xl,color:"from-amber-400 to-orange-500"},{label:"Total Payroll",value:`$${s.toLocaleString()}`,icon:ar,color:"from-purple-500 to-fuchsia-500"}],d=["Jun","Jul","Aug","Sep","Oct","Nov"].map((f,h)=>{const g=s*.85,v=(s-g)/5*h,y=(Math.random()-.5)*s*.03;return{month:f,payroll:Math.round(g+v+y)}}),m=({active:f,payload:h})=>f&&h&&h.length?n.jsxs("div",{className:"glass p-3 rounded-lg shadow-lg border border-white/20",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:h[0].payload.month}),n.jsxs("p",{className:"text-lg font-bold text-purple-600",children:["$",h[0].value.toLocaleString()]})]}):null;return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Executive Overview"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"High-level insights and performance metrics."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map(f=>n.jsxs("div",{className:"glass p-6 rounded-2xl card-hover relative overflow-hidden group",children:[n.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 bg-linear-to-br ${f.color} opacity-10 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110`}),n.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:f.label}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:f.value})]}),n.jsx("div",{className:`p-3 rounded-xl bg-linear-to-br ${f.color} text-white shadow-lg`,children:n.jsx(f.icon,{className:"w-6 h-6"})})]})]},f.label))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsx(K,{title:"Department Distribution",children:n.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-xl border border-dashed border-gray-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Xl,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-400 font-medium",children:"Distribution Chart"})]})})}),n.jsx(K,{title:"Payroll Trends",children:n.jsx("div",{className:"h-64 pt-4",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Iu,{data:d,margin:{top:5,right:20,left:10,bottom:5},children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"month",stroke:"#6b7280",style:{fontSize:"0.875rem",fontWeight:500}}),n.jsx(Jt,{stroke:"#6b7280",style:{fontSize:"0.75rem"},tickFormatter:f=>`$${(f/1e3).toFixed(0)}k`}),n.jsx(ut,{content:n.jsx(m,{})}),n.jsx(_c,{type:"monotone",dataKey:"payroll",stroke:"url(#colorGradient)",strokeWidth:3,dot:{fill:"#a855f7",r:5},activeDot:{r:7,fill:"#9333ea"}}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[n.jsx("stop",{offset:"0%",stopColor:"#a855f7"}),n.jsx("stop",{offset:"100%",stopColor:"#d946ef"})]})})]})})})})]})]})}function dce(){const e=Ae(a=>a.employees),t=()=>{const a=Ss.unparse(e),r=new Blob([a],{type:"text/csv"}),s=URL.createObjectURL(r),l=document.createElement("a");l.href=s,l.download="all_employees.csv",l.click()};return n.jsx(K,{title:"All Employees",subtitle:"View all university staff records",actions:n.jsxs(X,{variant:"outline",onClick:t,children:[n.jsx(Wt,{className:"w-4 h-4"})," Export CSV"]}),children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Code"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Faculty"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Designation"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(a=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:a.code}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a.name}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:a.faculty||"-"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:a.department}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:a.designation}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsx(ge,{variant:a.status==="Active"?"success":"default",children:a.status})})]},a.id))})]})})})}const ih=["#8b5cf6","#3b82f6","#10b981","#f59e0b","#ef4444","#ec4899"],uce=[{id:"workforce",label:"Workforce",icon:en},{id:"attendance",label:"Attendance",icon:Be},{id:"leaves",label:"Leaves",icon:Xe},{id:"payroll",label:"Payroll",icon:ar}];function mce(){const e=Ae(y=>y.employees),t=Ae(y=>y.attendance),a=Ae(y=>y.leaves),[r,s]=x.useState("workforce"),l=x.useMemo(()=>{const y={};return e.forEach(j=>{const b=j.faculty||"Other";y[b]=(y[b]||0)+1}),Object.entries(y).map(([j,b])=>({name:j,value:b}))},[e]),c=x.useMemo(()=>{const y={};return e.forEach(j=>{y[j.department]=(y[j.department]||0)+1}),Object.entries(y).map(([j,b])=>({name:j,count:b})).sort((j,b)=>b.count-j.count)},[e]),d=x.useMemo(()=>{const y=[];for(let j=5;j>=0;j--){const b=io(new Date,j),S=q(b,"MMM yyyy"),M=t.filter(O=>{const D=ue(O.date);return q(D,"MMM yyyy")===S}),w=M.filter(O=>O.status==="Present").length,A=M.length;y.push({month:q(b,"MMM"),present:w,absent:M.filter(O=>O.status==="Absent").length,rate:A>0?Math.round(w/A*100):0})}return y},[t]),m=x.useMemo(()=>{const y={};return a.forEach(j=>{y[j.type]=(y[j.type]||0)+1}),Object.entries(y).map(([j,b])=>({name:j,value:b}))},[a]),f=x.useMemo(()=>({total:a.length,pending:a.filter(y=>y.status==="Pending").length,approved:a.filter(y=>y.status==="Approved").length,rejected:a.filter(y=>y.status==="Rejected").length}),[a]),h=x.useMemo(()=>{const y={};return e.forEach(j=>{const b=j.faculty||"Other";y[b]=(y[b]||0)+(j.salaryBase||0)}),Object.entries(y).map(([j,b])=>({name:j,value:Math.round(b/1e3)}))},[e]),g=e.reduce((y,j)=>y+(j.salaryBase||0),0),v=y=>{let j=[],b="";switch(y){case"workforce":j=e.map(O=>({Code:O.code,Name:O.name,Faculty:O.faculty,Department:O.department,Designation:O.designation,Status:O.status,Salary:O.salaryBase})),b="institution_workforce";break;case"attendance":j=d.map(O=>({Month:O.month,Present:O.present,Absent:O.absent,Rate:`${O.rate}%`})),b="institution_attendance";break;case"leaves":j=a.map(O=>({Employee:e.find(D=>D.id===O.employeeId)?.name||"Unknown",Type:O.type,From:O.from,To:O.to,Status:O.status})),b="institution_leaves";break;case"payroll":j=h.map(O=>({Faculty:O.name,Payroll:`$${O.value}k`})),b="institution_payroll";break}const S=Ss.unparse(j),M=new Blob([S],{type:"text/csv"}),w=URL.createObjectURL(M),A=document.createElement("a");A.href=w,A.download=`${b}_${q(new Date,"yyyy-MM-dd")}.csv`,A.click()};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Institution Reports"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Comprehensive institutional analytics"})]}),n.jsxs(X,{variant:"outline",onClick:()=>v(r),children:[n.jsx(Wt,{className:"w-4 h-4"}),"Export Report"]})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:uce.map(y=>n.jsxs("button",{onClick:()=>s(y.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${r===y.id?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[n.jsx(y.icon,{className:"w-4 h-4"}),y.label]},y.id))}),r==="workforce"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"glass p-4 rounded-xl text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length}),n.jsx("p",{className:"text-xs text-gray-500",children:"Total Staff"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:e.filter(y=>y.status==="Active").length}),n.jsx("p",{className:"text-xs text-gray-500",children:"Active"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:l.length}),n.jsx("p",{className:"text-xs text-gray-500",children:"Faculties"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:c.length}),n.jsx("p",{className:"text-xs text-gray-500",children:"Departments"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Faculty Distribution",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(sr,{children:[n.jsx(Fa,{data:l,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:3,dataKey:"value",label:({name:y,percent:j})=>`${(j*100).toFixed(0)}%`,children:l.map((y,j)=>n.jsx(An,{fill:ih[j%ih.length]},y.name))}),n.jsx(ut,{}),n.jsx(tr,{})]})})})}),n.jsx(K,{title:"Department Breakdown",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Mr,{data:c.slice(0,6),layout:"vertical",children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{type:"number",tick:{fontSize:12}}),n.jsx(Jt,{type:"category",dataKey:"name",tick:{fontSize:11},width:100}),n.jsx(ut,{}),n.jsx(Qn,{dataKey:"count",fill:"#8b5cf6",radius:[0,4,4,0]})]})})})})]})]}),r==="attendance"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(K,{title:"Monthly Attendance Trend",subtitle:"Last 6 months",children:n.jsx("div",{className:"h-72",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(vo,{data:d,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"month",tick:{fontSize:12}}),n.jsx(Jt,{tick:{fontSize:12}}),n.jsx(ut,{}),n.jsx(tr,{}),n.jsx(za,{type:"monotone",dataKey:"present",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Present"}),n.jsx(za,{type:"monotone",dataKey:"absent",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Absent"})]})})})}),n.jsx(K,{title:"Attendance Rate Trend",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Iu,{data:d,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"month",tick:{fontSize:12}}),n.jsx(Jt,{tick:{fontSize:12},domain:[0,100],unit:"%"}),n.jsx(ut,{formatter:y=>[`${y}%`,"Rate"]}),n.jsx(_c,{type:"monotone",dataKey:"rate",stroke:"#8b5cf6",strokeWidth:3,dot:{fill:"#8b5cf6"}})]})})})})]}),r==="leaves"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"glass p-4 rounded-xl text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.total}),n.jsx("p",{className:"text-xs text-gray-500",children:"Total Requests"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-amber-500",children:[n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:f.pending}),n.jsx("p",{className:"text-xs text-gray-500",children:"Pending"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-emerald-500",children:[n.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:f.approved}),n.jsx("p",{className:"text-xs text-gray-500",children:"Approved"})]}),n.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-red-500",children:[n.jsx("p",{className:"text-2xl font-bold text-red-600",children:f.rejected}),n.jsx("p",{className:"text-xs text-gray-500",children:"Rejected"})]})]}),n.jsx(K,{title:"Leave Distribution by Type",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(sr,{children:[n.jsx(Fa,{data:m,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:y,value:j})=>`${y}: ${j}`,children:m.map((y,j)=>n.jsx(An,{fill:ih[j%ih.length]},y.name))}),n.jsx(ut,{}),n.jsx(tr,{})]})})})})]}),r==="payroll"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"glass p-6 rounded-xl",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Monthly Payroll"}),n.jsxs("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:["$",g.toLocaleString()]})]}),n.jsxs("div",{className:"glass p-6 rounded-xl",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Average Salary"}),n.jsxs("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:["$",Math.round(g/e.length).toLocaleString()]})]}),n.jsxs("div",{className:"glass p-6 rounded-xl",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Annual Projection"}),n.jsxs("p",{className:"text-3xl font-bold text-emerald-600 mt-2",children:["$",(g*12).toLocaleString()]})]})]}),n.jsx(K,{title:"Payroll by Faculty",subtitle:"Monthly salary expense (in thousands)",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Mr,{data:h,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"name",tick:{fontSize:11}}),n.jsx(Jt,{tick:{fontSize:12},tickFormatter:y=>`$${y}k`}),n.jsx(ut,{formatter:y=>[`$${y}k`,"Payroll"]}),n.jsx(Qn,{dataKey:"value",fill:"#8b5cf6",radius:[4,4,0,0]})]})})})})]})]})}const el=["#8b5cf6","#3b82f6","#10b981","#f59e0b","#ef4444","#ec4899","#06b6d4","#84cc16"];function fce(){const e=Ae(m=>m.employees);Ae(m=>m.attendance);const t=Ae(m=>m.leaves),a=x.useMemo(()=>[{range:"< $30k",min:0,max:3e4},{range:"$30k-50k",min:3e4,max:5e4},{range:"$50k-70k",min:5e4,max:7e4},{range:"$70k-100k",min:7e4,max:1e5},{range:"> $100k",min:1e5,max:1/0}].map(f=>({range:f.range,count:e.filter(h=>(h.salaryBase||0)>=f.min&&(h.salaryBase||0)<f.max).length})),[e]),r=x.useMemo(()=>[...new Set(e.map(f=>f.faculty).filter(Boolean))].map(f=>{const h=e.filter(g=>g.faculty===f);return h.reduce((g,v)=>g+(v.salaryBase||0),0)/h.length,{faculty:f.split(" ")[0],staffCount:h.length,attendance:Math.round(70+Math.random()*25),efficiency:Math.round(65+Math.random()*30),satisfaction:Math.round(60+Math.random()*35)}}),[e]),s=x.useMemo(()=>{const m={};return e.forEach(f=>{m[f.designation]=(m[f.designation]||0)+1}),Object.entries(m).map(([f,h])=>({name:f,size:h})).sort((f,h)=>h.size-f.size)},[e]),l=x.useMemo(()=>e.slice(0,50).map(m=>({name:m.name,experience:Math.floor(Math.random()*25)+1,salary:(m.salaryBase||5e4)/1e3,department:m.department})),[e]),c=x.useMemo(()=>{const m=e.reduce((v,y)=>v+(y.salaryBase||0),0),f=e.filter(v=>v.status==="Active").length/e.length*100,h=m/e.length,g=t.filter(v=>v.status==="Pending").length;return[{label:"Workforce Utilization",value:`${Math.round(f)}%`,trend:"up",change:"+2.3%",icon:en,color:"text-emerald-600"},{label:"Avg. Compensation",value:`$${Math.round(h/1e3)}k`,trend:"up",change:"+5.1%",icon:ar,color:"text-purple-600"},{label:"Pending Actions",value:g,trend:g>10?"down":"neutral",change:g>10?"High":"Normal",icon:oj,color:g>10?"text-red-600":"text-blue-600"},{label:"Departments",value:[...new Set(e.map(v=>v.department))].length,trend:"neutral",change:"Stable",icon:Xl,color:"text-amber-600"}]},[e,t]),d=x.useMemo(()=>["Attendance","Efficiency","Satisfaction","Growth","Retention"].map(f=>({metric:f,...r.reduce((h,g)=>(h[g.faculty]=Math.round(60+Math.random()*35),h),{})})),[r]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Advanced Analytics"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Deep insights and performance analysis"})]}),n.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:c.map(m=>n.jsxs("div",{className:"glass p-4 rounded-xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(m.icon,{className:`w-5 h-5 ${m.color}`}),m.trend==="up"&&n.jsx(gs,{className:"w-4 h-4 text-emerald-500"}),m.trend==="down"&&n.jsx(ij,{className:"w-4 h-4 text-red-500"})]}),n.jsx("p",{className:`text-2xl font-bold ${m.color}`,children:m.value}),n.jsx("p",{className:"text-xs text-gray-500",children:m.label}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:m.change})]},m.label))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Salary Distribution",subtitle:"Employee count by salary range",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(Mr,{data:a,children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"range",tick:{fontSize:11}}),n.jsx(Jt,{tick:{fontSize:12}}),n.jsx(ut,{}),n.jsx(Qn,{dataKey:"count",fill:"#8b5cf6",radius:[4,4,0,0],children:a.map((m,f)=>n.jsx(An,{fill:el[f%el.length]},m.range))})]})})})}),n.jsx(K,{title:"Faculty Comparison",subtitle:"Performance metrics across faculties",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(tse,{data:d,children:[n.jsx(rR,{stroke:"#e5e7eb"}),n.jsx(oR,{dataKey:"metric",tick:{fontSize:11}}),n.jsx(lR,{angle:30,domain:[0,100],tick:{fontSize:10}}),r.slice(0,3).map((m,f)=>n.jsx(gR,{name:m.faculty,dataKey:m.faculty,stroke:el[f],fill:el[f],fillOpacity:.2},m.faculty)),n.jsx(tr,{}),n.jsx(ut,{})]})})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Designation Hierarchy",subtitle:"Staff count by designation",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(sr,{children:[n.jsx(Fa,{data:s.slice(0,6),cx:"50%",cy:"50%",outerRadius:80,dataKey:"size",label:({name:m,percent:f})=>`${m.split(" ")[0]} (${(f*100).toFixed(0)}%)`,children:s.slice(0,6).map((m,f)=>n.jsx(An,{fill:el[f%el.length]},m.name))}),n.jsx(ut,{})]})})})}),n.jsx(K,{title:"Experience vs Salary",subtitle:"Correlation analysis",children:n.jsx("div",{className:"h-64",children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(ase,{margin:{top:20,right:20,bottom:20,left:20},children:[n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"experience",name:"Experience",unit:" yrs",tick:{fontSize:11}}),n.jsx(Jt,{dataKey:"salary",name:"Salary",unit:"k",tick:{fontSize:11}}),n.jsx(JR,{range:[60,200]}),n.jsx(ut,{cursor:{strokeDasharray:"3 3"}}),n.jsx(XR,{name:"Employees",data:l,fill:"#8b5cf6"})]})})})})]}),n.jsx(K,{title:"Faculty Performance Metrics",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50",children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Faculty"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase",children:"Staff"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase",children:"Attendance"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase",children:"Efficiency"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase",children:"Satisfaction"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:r.map((m,f)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:el[f%el.length]}}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:m.faculty})]})}),n.jsx("td",{className:"px-4 py-3 text-center text-sm text-gray-600",children:m.staffCount}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsxs("span",{className:`text-sm font-medium ${m.attendance>=85?"text-emerald-600":m.attendance>=70?"text-amber-600":"text-red-600"}`,children:[m.attendance,"%"]})}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsxs("span",{className:`text-sm font-medium ${m.efficiency>=85?"text-emerald-600":m.efficiency>=70?"text-amber-600":"text-red-600"}`,children:[m.efficiency,"%"]})}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsxs("span",{className:`text-sm font-medium ${m.satisfaction>=85?"text-emerald-600":m.satisfaction>=70?"text-amber-600":"text-red-600"}`,children:[m.satisfaction,"%"]})})]},m.faculty))})]})})})]})}function hce(){const[e,t]=x.useState(""),[a,r]=x.useState(!1),s=()=>{e.trim()&&(console.log("Advisory sent:",e),r(!0),t(""),setTimeout(()=>r(!1),3e3))};return n.jsx("div",{className:"max-w-2xl mx-auto",children:n.jsx(K,{title:"Executive Advisory",subtitle:"Send advisory notes to Deans and HODs",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(tt,{label:"Advisory Note",id:"advisory",children:n.jsx("textarea",{id:"advisory",rows:6,className:"w-full border-gray-300 rounded-md shadow-xs focus:border-purple-500 focus:ring-purple-500 sm:text-sm p-3 border",placeholder:"Enter your advisory instructions or feedback here...",value:e,onChange:l=>t(l.target.value)})}),n.jsx("div",{className:"flex justify-end",children:n.jsx(X,{onClick:s,children:"Send Advisory"})}),a&&n.jsx("div",{className:"p-4 bg-green-50 text-green-700 rounded-md border border-green-200",children:"Advisory sent successfully!"})]})})})}const pce=[{id:"profile",label:"Profile",icon:Dr},{id:"notifications",label:"Notifications",icon:Xr},{id:"preferences",label:"Preferences",icon:Tr},{id:"security",label:"Security",icon:di}];function xce(){const e=Qe(v=>v.user),[t,a]=x.useState("profile"),[r,s]=x.useState(!1),[l,c]=x.useState({name:e?.name||"",email:e?.email||"",phone:"+92-300-1234567",office:"Executive Block, Room 001",title:"Vice President"}),[d,m]=x.useState({emailAlerts:!0,institutionalUpdates:!0,hrReports:!0,weeklyDigest:!0,monthlyAnalytics:!0,systemAlerts:!0}),[f,h]=x.useState({defaultView:"dashboard",dashboardLayout:"executive",reportFormat:"detailed",dateFormat:"dd/MM/yyyy",currency:"USD"}),g=()=>{s(!0),setTimeout(()=>s(!1),2e3)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your executive portal preferences"})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:pce.map(v=>n.jsxs("button",{onClick:()=>a(v.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${t===v.id?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[n.jsx(v.icon,{className:"w-4 h-4"}),v.label]},v.id))}),t==="profile"&&n.jsx(K,{title:"Profile Information",subtitle:"Your executive profile details",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-20 h-20 rounded-full bg-linear-to-br from-purple-500 to-indigo-500 flex items-center justify-center text-white text-2xl font-bold",children:e?.name?.charAt(0)||"VP"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?.name}),n.jsxs("p",{className:"text-gray-500",children:[l.title," - CECOS University"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{label:"Full Name",children:n.jsx("input",{type:"text",value:l.name,onChange:v=>c({...l,name:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})}),n.jsx(tt,{label:"Title",children:n.jsx("input",{type:"text",value:l.title,onChange:v=>c({...l,title:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})}),n.jsx(tt,{label:"Email",children:n.jsx("input",{type:"email",value:l.email,onChange:v=>c({...l,email:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})}),n.jsx(tt,{label:"Phone",children:n.jsx("input",{type:"text",value:l.phone,onChange:v=>c({...l,phone:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})}),n.jsx(tt,{label:"Office",className:"md:col-span-2",children:n.jsx("input",{type:"text",value:l.office,onChange:v=>c({...l,office:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(X,{onClick:g,children:r?"Saved!":"Save Changes"})})]})}),t==="notifications"&&n.jsx(K,{title:"Notification Preferences",subtitle:"Control executive notifications",children:n.jsxs("div",{className:"space-y-4",children:[[{key:"emailAlerts",label:"Email Alerts",desc:"Critical updates via email"},{key:"institutionalUpdates",label:"Institutional Updates",desc:"University-wide announcements"},{key:"hrReports",label:"HR Reports",desc:"HR department summaries"},{key:"weeklyDigest",label:"Weekly Digest",desc:"Weekly performance summary"},{key:"monthlyAnalytics",label:"Monthly Analytics",desc:"Monthly analytics reports"},{key:"systemAlerts",label:"System Alerts",desc:"Technical and system notifications"}].map(v=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-100 hover:border-gray-200 transition-all",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:v.label}),n.jsx("p",{className:"text-sm text-gray-500",children:v.desc})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:d[v.key],onChange:y=>m({...d,[v.key]:y.target.checked}),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]},v.key)),n.jsx("div",{className:"flex justify-end pt-4",children:n.jsx(X,{onClick:g,children:r?"Saved!":"Save Preferences"})})]})}),t==="preferences"&&n.jsx(K,{title:"Portal Preferences",subtitle:"Customize your executive experience",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{label:"Default View",children:n.jsxs("select",{value:f.defaultView,onChange:v=>h({...f,defaultView:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[n.jsx("option",{value:"dashboard",children:"Dashboard"}),n.jsx("option",{value:"analytics",children:"Analytics"}),n.jsx("option",{value:"reports",children:"Reports"}),n.jsx("option",{value:"employees",children:"Employees"})]})}),n.jsx(tt,{label:"Dashboard Layout",children:n.jsxs("select",{value:f.dashboardLayout,onChange:v=>h({...f,dashboardLayout:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[n.jsx("option",{value:"executive",children:"Executive Summary"}),n.jsx("option",{value:"detailed",children:"Detailed View"}),n.jsx("option",{value:"compact",children:"Compact View"})]})}),n.jsx(tt,{label:"Report Format",children:n.jsxs("select",{value:f.reportFormat,onChange:v=>h({...f,reportFormat:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[n.jsx("option",{value:"detailed",children:"Detailed"}),n.jsx("option",{value:"summary",children:"Summary"}),n.jsx("option",{value:"visual",children:"Visual Heavy"})]})}),n.jsx(tt,{label:"Date Format",children:n.jsxs("select",{value:f.dateFormat,onChange:v=>h({...f,dateFormat:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[n.jsx("option",{value:"dd/MM/yyyy",children:"DD/MM/YYYY"}),n.jsx("option",{value:"MM/dd/yyyy",children:"MM/DD/YYYY"}),n.jsx("option",{value:"yyyy-MM-dd",children:"YYYY-MM-DD"})]})}),n.jsx(tt,{label:"Currency Display",children:n.jsxs("select",{value:f.currency,onChange:v=>h({...f,currency:v.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[n.jsx("option",{value:"USD",children:"USD ($)"}),n.jsx("option",{value:"PKR",children:"PKR ()"}),n.jsx("option",{value:"EUR",children:"EUR ()"}),n.jsx("option",{value:"GBP",children:"GBP ()"})]})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(X,{onClick:g,children:r?"Saved!":"Save Preferences"})})]})}),t==="security"&&n.jsx(K,{title:"Security Settings",subtitle:"Manage your account security",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"p-4 rounded-lg border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security"})]}),n.jsx(X,{variant:"outline",size:"sm",children:"Enable"})]})}),n.jsx("div",{className:"p-4 rounded-lg border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Change Password"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]}),n.jsx(X,{variant:"outline",size:"sm",children:"Update"})]})}),n.jsx("div",{className:"p-4 rounded-lg border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Active Sessions"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Manage your active login sessions"})]}),n.jsx(X,{variant:"outline",size:"sm",children:"View"})]})}),n.jsx("div",{className:"p-4 rounded-lg border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Login History"}),n.jsx("p",{className:"text-sm text-gray-500",children:"View recent login activity"})]}),n.jsx(X,{variant:"outline",size:"sm",children:"View"})]})})]})})]})}const gce=[{id:"pending",label:"Pending"},{id:"approved",label:"Recommended"},{id:"rejected",label:"Rejected"}];function yce(){const e=Ae(T=>T.employees),t=Ae(T=>T.leaves),a=Ae(T=>T.updateLeaveStatus),r=Qe(T=>T.user),[s,l]=x.useState("pending"),[c,d]=x.useState(""),[m,f]=x.useState(null),[h,g]=x.useState(!1),[v,y]=x.useState(null),[j,b]=x.useState(""),[S,M]=x.useState(0),[w,A]=x.useState(0),[O,D]=x.useState(null),[k,_]=x.useState(""),E=x.useMemo(()=>t.filter(T=>T.type==="medical").map(T=>({...T,employee:e.find(Y=>Y.id===T.employeeId),days:T.days||(T.startDate&&T.endDate?Zr(ue(T.endDate),ue(T.startDate))+1:0)})).sort((T,Y)=>new Date(Y.appliedOn)-new Date(T.appliedOn)),[t,e]),P=x.useMemo(()=>E.filter(T=>{if(c){const V=c.toLowerCase(),B=T.employee?.name?.toLowerCase().includes(V),U=T.employee?.code?.toLowerCase().includes(V);if(!B&&!U)return!1}const Y=T.approvalChain?.find(V=>V.role==="president");return Y?s==="pending"?Y.status==="pending":s==="approved"?Y.status==="approved":s==="rejected"?Y.status==="rejected":!1:!1}),[E,s,c]),z=x.useMemo(()=>{const T=E.filter(Y=>Y.approvalChain?.some(V=>V.role==="president"));return{total:T.length,pending:T.filter(Y=>Y.approvalChain?.find(V=>V.role==="president")?.status==="pending").length,approved:T.filter(Y=>Y.approvalChain?.find(V=>V.role==="president")?.status==="approved").length,rejected:T.filter(Y=>Y.approvalChain?.find(V=>V.role==="president")?.status==="rejected").length}},[E]),L=(T,Y)=>{f(T),y(Y),b(""),M(T.days||0),A(0),D(null),_(""),g(!0)},I=T=>{if(T&&T.preventDefault(),!m||!v){console.log("Missing selectedLeave or actionType");return}if(v==="approve"){const Y=Number(S)||0,V=Number(w)||0,B=Y+V,U=m.days||0;if(console.log("Validation:",{paid:Y,unpaid:V,total:B,requiredDays:U,leaveCategory:O}),B!==U){const F=`Days don't match: ${Y} + ${V} = ${B}, but leave is ${U} days`;console.log("Days validation failed:",F),_(F);return}if(!O){const F="Please select a classification for this medical leave (Paid Medical or Unpaid Medical)";console.log("Category validation failed"),_(F);return}console.log("Validation passed, updating leave status"),_(""),a(m.id,"Approved","president",r.name,j||void 0,{paidDays:Y,unpaidDays:V,leaveCategory:O})}else console.log("Rejecting leave"),a(m.id,"Rejected","president",r.name,j||void 0);g(!1),f(null),y(null),b(""),M(0),A(0),D(null),_("")},J=T=>{switch(T){case"approved":return n.jsx(ge,{variant:"success",children:"Recommended"});case"rejected":return n.jsx(ge,{variant:"danger",children:"Rejected"});default:return n.jsx(ge,{variant:"warning",children:"Pending"})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Medical Leave Requests - Final Approval"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Review, classify, and approve medical leave applications with paid/unpaid split"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-gray-100",children:n.jsx(Xe,{className:"w-5 h-5 text-gray-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:z.total}),n.jsx("p",{className:"text-xs text-gray-500",children:"Total Requests"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-amber-100",children:n.jsx(Be,{className:"w-5 h-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:z.pending}),n.jsx("p",{className:"text-xs text-gray-500",children:"Pending"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:n.jsx(Le,{className:"w-5 h-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:z.approved}),n.jsx("p",{className:"text-xs text-gray-500",children:"Recommended"})]})]})}),n.jsx("div",{className:"glass p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:n.jsx(Tt,{className:"w-5 h-5 text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-red-600",children:z.rejected}),n.jsx("p",{className:"text-xs text-gray-500",children:"Rejected"})]})]})})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:gce.map(T=>n.jsxs("button",{onClick:()=>l(T.id),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${s===T.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[T.label,T.id==="pending"&&z.pending>0&&n.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-white/20 rounded text-xs",children:z.pending})]},T.id))}),n.jsxs(K,{children:[n.jsx("div",{className:"mb-4",children:n.jsx(Cn,{type:"text",placeholder:"Search by employee name or code...",value:c,onChange:T=>d(T.target.value),className:"w-full",inputClassName:"pr-4 py-2 text-sm"})}),n.jsx("div",{className:"space-y-4",children:P.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Xe,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No medical leave requests found"})]}):P.map(T=>{const Y=T.approvalChain?.find(B=>B.role==="president"),V=T.approvalChain?.find(B=>B.role==="hod");return n.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl hover:border-gray-200 transition-all",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold",children:T.employee?.name?.charAt(0)||"?"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:T.employee?.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:[T.employee?.code,"  ",T.employee?.department]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsx("span",{className:"px-2 py-1 rounded-full bg-teal-100 text-teal-700 text-xs font-medium",children:"Medical Leave"}),n.jsxs("span",{className:"text-sm text-gray-600",children:[T.startDate?q(ue(T.startDate),"MMM d"):"N/A"," "," ",T.endDate?q(ue(T.endDate),"MMM d, yyyy"):"N/A",n.jsxs("span",{className:"text-gray-400 ml-2",children:["(",T.days," day",T.days>1?"s":"",")"]})]}),J(Y?.status)]}),Y?.status==="pending"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>L(T,"approve"),className:"text-emerald-600 border-emerald-200 hover:bg-emerald-50",children:[n.jsx(Le,{className:"w-4 h-4"}),"Recommend"]}),n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>L(T,"reject"),className:"text-red-600 border-red-200 hover:bg-red-50",children:[n.jsx(Tt,{className:"w-4 h-4"}),"Reject"]})]})]}),T.reason&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Reason: "}),T.reason]})}),V&&V.comment&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium text-gray-700",children:"HOD Recommendation: "}),V.comment]})})]},T.id)})})]}),n.jsx(vt,{isOpen:h,onClose:()=>g(!1),title:`${v==="approve"?"Recommend":"Reject"} Medical Leave Request`,children:m&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-linear-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold",children:m.employee?.name?.charAt(0)}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:m.employee?.name}),n.jsx("p",{className:"text-sm text-gray-500",children:m.employee?.department})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Type:"}),n.jsx("span",{className:"ml-2 font-medium",children:"Medical Leave"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Duration:"}),n.jsxs("span",{className:"ml-2 font-medium",children:[m.days," day(s)"]})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("span",{className:"text-gray-500",children:"Period:"}),n.jsxs("span",{className:"ml-2 font-medium",children:[m.startDate?q(ue(m.startDate),"MMM d"):"N/A"," ","-"," ",m.endDate?q(ue(m.endDate),"MMM d, yyyy"):"N/A"]})]})]})]}),m.documents&&m.documents.length>0&&n.jsxs("div",{className:"space-y-3 bg-slate-50 border border-slate-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Cr,{className:"w-5 h-5 text-slate-600"}),n.jsx("p",{className:"font-semibold text-slate-900",children:"Medical Documents"})]}),n.jsx("div",{className:"space-y-2",children:m.documents.map((T,Y)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-slate-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Cr,{className:"w-5 h-5 text-slate-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-900",children:T.name}),n.jsxs("p",{className:"text-xs text-slate-500",children:[(T.size/1024).toFixed(1)," KB  Uploaded"," ",T.uploadedAt?q(ue(T.uploadedAt),"MMM d, yyyy"):"N/A"]})]})]}),n.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>{const V=document.createElement("a");V.href=T.file,V.download=T.name,document.body.appendChild(V),V.click(),document.body.removeChild(V)},className:"text-blue-600 hover:text-blue-700",children:[n.jsx(Wt,{className:"w-4 h-4"}),"Download"]})]},T.id||Y))})]}),m.approvalChain?.find(T=>T.role==="hod")?.comment&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"HOD Recommendation:"}),n.jsx("p",{className:"text-sm text-blue-700",children:m.approvalChain.find(T=>T.role==="hod").comment})]}),m.approvalChain?.find(T=>T.role==="vc")?.comment&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"VC Recommendation:"}),n.jsx("p",{className:"text-sm text-blue-700",children:m.approvalChain.find(T=>T.role==="vc").comment})]}),v==="approve"&&n.jsxs("div",{className:"space-y-4 bg-linear-to-br from-purple-50 via-indigo-50 to-blue-50 border-2 border-purple-300 rounded-xl p-5 shadow-lg",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-10 h-10 bg-linear-to-br from-purple-600 to-indigo-600 rounded-lg flex items-center justify-center shadow-lg",children:n.jsx(Cr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-purple-900 text-lg",children:" Final Medical Leave Decision"}),n.jsx("p",{className:"text-sm text-purple-700",children:"Classify days and categorize this medical leave"})]})]}),n.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-xl p-4 shadow-sm",children:[n.jsx("p",{className:"font-bold text-purple-900 mb-1",children:"Step 1: Classify Leave Days"}),n.jsxs("p",{className:"text-sm text-purple-700 mb-3",children:["Total days to classify:"," ",n.jsx("span",{className:"font-bold text-lg",children:m.days})," days"]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Paid Days"}),n.jsx("input",{type:"number",min:0,max:m.days,value:S,onChange:T=>{M(T.target.value),_("")},className:"w-full px-3 py-2 border-2 border-green-300 rounded-lg text-lg font-bold text-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 bg-green-50",placeholder:"0"}),n.jsx("p",{className:"text-xs text-green-600 mt-1 font-medium",children:" Employee receives full salary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Unpaid Days"}),n.jsx("input",{type:"number",min:0,max:m.days,value:w,onChange:T=>{A(T.target.value),_("")},className:"w-full px-3 py-2 border-2 border-amber-300 rounded-lg text-lg font-bold text-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500 bg-amber-50",placeholder:"0"}),n.jsx("p",{className:"text-xs text-amber-600 mt-1 font-medium",children:" No salary for these days"})]})]}),(()=>{const T=Number(S)||0,Y=Number(w)||0,V=T+Y,B=V===m.days,U=V>m.days;return n.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-lg border-2 transition-all ${B?"bg-linear-to-r from-green-50 to-emerald-50 border-green-400":U?"bg-linear-to-r from-red-50 to-rose-50 border-red-400":"bg-linear-to-r from-yellow-50 to-amber-50 border-yellow-400"}`,children:[n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:T}),n.jsx("p",{className:"text-xs text-green-700 font-bold uppercase",children:"Paid"})]}),n.jsx("div",{className:"text-3xl text-gray-300 font-bold",children:"+"}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:Y}),n.jsx("p",{className:"text-xs text-amber-700 font-bold uppercase",children:"Unpaid"})]}),n.jsx("div",{className:"text-3xl text-gray-300 font-bold",children:"="}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:`text-2xl font-bold ${B?"text-green-600":U?"text-red-600":"text-yellow-600"}`,children:V}),n.jsxs("p",{className:"text-xs text-gray-700 font-bold uppercase",children:["of ",m.days]})]})]})})(),k&&n.jsx("div",{className:"bg-red-100 border border-red-300 rounded-lg p-2 mt-2",children:n.jsxs("p",{className:"text-sm text-red-700 font-semibold",children:[" ",k]})})]}),n.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-xl p-4 shadow-sm",children:[n.jsx("p",{className:"font-bold text-purple-900 mb-1",children:"Step 2: Final Medical Leave Category"}),n.jsx("p",{className:"text-sm text-purple-700 mb-3",children:"Based on submitted medical documentation and paid days allocation:"}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[n.jsxs("button",{type:"button",onClick:()=>D("medical"),className:`group p-4 rounded-lg border-2 transition-all text-left ${O==="medical"?"border-green-500 bg-linear-to-br from-green-50 to-emerald-50 shadow-lg":"border-gray-200 bg-white hover:border-green-300 hover:shadow-md"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${O==="medical"?"bg-green-500":"bg-gray-100"}`,children:n.jsx(Le,{className:`w-5 h-5 ${O==="medical"?"text-white":"text-gray-400"}`})}),n.jsx("p",{className:"font-bold text-gray-900",children:" Paid Medical"})]}),n.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Approved with medical benefits. Employee receives full salary for paid days."})]}),n.jsxs("button",{type:"button",onClick:()=>D("unpaid"),className:`group p-4 rounded-lg border-2 transition-all text-left ${O==="unpaid"?"border-amber-500 bg-linear-to-br from-amber-50 to-orange-50 shadow-lg":"border-gray-200 bg-white hover:border-amber-300 hover:shadow-md"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${O==="unpaid"?"bg-amber-500":"bg-gray-100"}`,children:n.jsx(Tt,{className:`w-5 h-5 ${O==="unpaid"?"text-white":"text-gray-400"}`})}),n.jsx("p",{className:"font-bold text-gray-900",children:" Unpaid Medical"})]}),n.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Not eligible for medical benefits. Employee receives no salary."})]})]}),O&&n.jsx("div",{className:"bg-linear-to-r from-blue-50 to-indigo-50 border border-blue-300 rounded-lg p-3 mt-3",children:n.jsxs("p",{className:"text-sm text-blue-900 font-bold",children:[" Classification:"," ",O==="medical"?"Paid Medical Leave":"Unpaid Medical Leave"]})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:v==="approve"?"Additional Comments (Optional)":"Rejection Reason"}),n.jsx("textarea",{value:j,onChange:T=>b(T.target.value),placeholder:v==="approve"?"Add any additional notes or comments...":"Reason for rejection...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(X,{variant:"ghost",onClick:()=>g(!1),children:"Cancel"}),n.jsx(X,{variant:v==="approve"?"primary":"danger",onClick:I,children:v==="approve"?"Approve & Finalize":"Reject Request"})]})]})})]})}function vce(){return n.jsx(yi,{children:n.jsxs(Se,{element:n.jsx(oce,{}),children:[n.jsx(Se,{index:!0,element:n.jsx(cce,{})}),n.jsx(Se,{path:"employees",element:n.jsx(dce,{})}),n.jsx(Se,{path:"reports",element:n.jsx(mce,{})}),n.jsx(Se,{path:"analytics",element:n.jsx(fce,{})}),n.jsx(Se,{path:"advisory",element:n.jsx(hce,{})}),n.jsx(Se,{path:"medical-leaves",element:n.jsx(yce,{})}),n.jsx(Se,{path:"settings",element:n.jsx(xce,{})}),n.jsx(Se,{path:"*",element:n.jsx(ps,{to:".",replace:!0})})]})})}function bce(){const e=Qe(c=>c.user),{leaves:t,employees:a}=Ae(),r=x.useMemo(()=>{const c=new Date;return Array.from({length:12},(m,f)=>{const h=new Date(c.getFullYear(),c.getMonth()-11+f,1);return{label:h.toLocaleString("default",{month:"short",year:"2-digit"}),year:h.getFullYear(),month:h.getMonth()}}).map(m=>{const f=t.filter(h=>{if(h.type!=="medical")return!1;const g=h.startDate?ue(h.startDate):null;return g&&g.getFullYear()===m.year&&g.getMonth()===m.month}).length;return{...m,count:f}})},[t]),s=x.useMemo(()=>{const c=t.filter(h=>h.type==="medical"),d=c.filter(h=>h.approvalChain?.find(v=>v.role==="vc")?.status==="pending"),m=c.filter(h=>h.approvalChain?.find(v=>v.role==="vc")?.status==="approved"),f=c.filter(h=>h.approvalChain?.find(v=>v.role==="vc")?.status==="rejected");return{totalMedical:c.length,pending:d.length,approved:m.length,rejected:f.length,pendingLeaves:d}},[t]),l=x.useMemo(()=>t.filter(c=>c.type==="medical").filter(c=>{const d=c.approvalChain?.find(m=>m.role==="vc");return d&&d.status!=="pending"}).sort((c,d)=>{const m=c.approvalChain?.find(h=>h.role==="vc")?.date,f=d.approvalChain?.find(h=>h.role==="vc")?.date;return new Date(f)-new Date(m)}).slice(0,5),[t]);return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"relative rounded-2xl overflow-hidden bg-linear-to-br from-indigo-700 via-blue-600 to-blue-400 dark:from-indigo-900 dark:via-blue-900 dark:to-gray-900 shadow-xl p-6 md:p-10 flex flex-col md:flex-row items-center md:items-end justify-between gap-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-white/20 text-xs font-semibold text-white tracking-wide",children:"Vice Chancellor"}),n.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-blue-900/80 text-xs font-semibold text-blue-100 tracking-wide",children:"University HR Portal"})]}),n.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2 drop-shadow dark:text-blue-100",children:["Welcome, ",e?.name]}),n.jsx("p",{className:"text-blue-100 text-base md:text-lg dark:text-blue-200",children:"Empowering HR decisions with real-time analytics and insights."})]}),n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx("div",{className:"w-20 h-20 rounded-full bg-white/20 flex items-center justify-center border-4 border-white/30 shadow-lg",children:n.jsx($a,{className:"w-10 h-10 text-white"})}),n.jsx("span",{className:"text-white/80 text-xs mt-1 dark:text-blue-200/80",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(wt,{title:"Total Medical Leaves",value:s.totalMedical,icon:ht,color:"primary",subtitle:"All medical leave requests"}),n.jsx(wt,{title:"Pending Review",value:s.pending,icon:Be,color:"warning",subtitle:"Awaiting your action"}),n.jsx(wt,{title:"Recommended",value:s.approved,icon:Le,color:"success",subtitle:"You have recommended"}),n.jsx(wt,{title:"Rejected",value:s.rejected,icon:Tt,color:"danger",subtitle:"You have rejected"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs(K,{className:"flex flex-col items-center justify-center p-6 bg-linear-to-br from-blue-100 to-blue-50 dark:from-blue-900 dark:to-blue-800 border-0 shadow-md hover:shadow-lg transition",children:[n.jsx(ht,{className:"w-10 h-10 text-blue-600 mb-2"}),n.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-1",children:"Review Medical Leaves"}),n.jsx("p",{className:"text-sm text-blue-700 mb-3 text-center",children:"See all pending medical leave requests and take action."}),n.jsx(fn,{to:"/vc/medical-leaves",children:n.jsx(X,{size:"sm",variant:"primary",children:"Go to Medical Leaves"})})]}),n.jsxs(K,{className:"flex flex-col items-center justify-center p-6 bg-linear-to-br from-emerald-100 to-emerald-50 dark:from-emerald-900 dark:to-emerald-800 border-0 shadow-md hover:shadow-lg transition",children:[n.jsx($a,{className:"w-10 h-10 text-emerald-600 mb-2"}),n.jsx("h3",{className:"font-semibold text-lg text-emerald-900 mb-1",children:"View Analytics"}),n.jsx("p",{className:"text-sm text-emerald-700 mb-3 text-center",children:"Explore HR analytics and trends for better decisions."}),n.jsx(fn,{to:"/vc/analytics",children:n.jsx(X,{size:"sm",variant:"success",children:"Go to Analytics"})})]}),n.jsxs(K,{className:"flex flex-col items-center justify-center p-6 bg-linear-to-br from-amber-100 to-amber-50 dark:from-amber-900 dark:to-amber-800 border-0 shadow-md hover:shadow-lg transition",children:[n.jsx(en,{className:"w-10 h-10 text-amber-600 mb-2"}),n.jsx("h3",{className:"font-semibold text-lg text-amber-900 mb-1",children:"Employee Directory"}),n.jsx("p",{className:"text-sm text-amber-700 mb-3 text-center",children:"Browse all university employees and their details."}),n.jsx(fn,{to:"/hr/employees",children:n.jsx(X,{size:"sm",variant:"warning",children:"View Employees"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(K,{className:"h-full flex flex-col dark:bg-gray-900 dark:border-gray-800",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Pending Medical Leaves"}),n.jsx(fn,{to:"/vc/medical-leaves",children:n.jsx(X,{size:"sm",variant:"outline",children:"View All"})})]}),s.pendingLeaves.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Le,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-500",children:"No pending medical leaves"})]}):n.jsx("div",{className:"space-y-3",children:s.pendingLeaves.slice(0,5).map(c=>{const d=a.find(m=>m.id===c.employeeId);return n.jsx("div",{className:"p-4 border border-gray-200 rounded-xl hover:border-indigo-300 hover:shadow-sm transition-all bg-white/80",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-gray-900 truncate",children:d?.name||c.employeeName}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[d?.department||c.department," "," ",d?.code||c.employeeCode]}),n.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500",children:[n.jsx(Xe,{className:"w-4 h-4"}),c.startDate&&q(ue(c.startDate),"MMM dd")," -"," ",c.endDate&&q(ue(c.endDate),"MMM dd, yyyy"),n.jsxs("span",{className:"ml-2 font-medium",children:["(",c.days," days)"]})]})]}),n.jsx(ge,{variant:"warning",className:"ml-2",children:"Pending"})]})},c.id)})})]}),n.jsxs(K,{className:"h-full flex flex-col dark:bg-gray-900 dark:border-gray-800",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Activity"}),n.jsx(gs,{className:"w-5 h-5 text-gray-400"})]}),l.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Be,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-500",children:"No recent activity"})]}):n.jsx("div",{className:"space-y-3",children:l.map(c=>{const d=a.find(f=>f.id===c.employeeId),m=c.approvalChain?.find(f=>f.role==="vc");return n.jsxs("div",{className:"p-4 border border-gray-200 rounded-xl bg-white/80",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-gray-900 truncate",children:d?.name||c.employeeName}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d?.department||c.department}),m?.date&&n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:q(ue(m.date),"MMM dd, yyyy HH:mm")})]}),n.jsx(ge,{variant:m?.status==="approved"?"success":"danger",className:"ml-2",children:m?.status==="approved"?"Recommended":"Rejected"})]}),m?.comment&&n.jsxs("p",{className:"mt-2 text-sm text-gray-600 italic",children:['"',m.comment,'"']})]},c.id)})})]})]}),n.jsxs(K,{className:"mb-8 dark:bg-gray-900 dark:border-gray-800",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Medical Leave Trends (Last 12 Months)"}),n.jsx("div",{className:"w-full",style:{height:"300px"},children:n.jsx(dt,{width:"100%",height:"100%",children:n.jsxs(vo,{data:r,margin:{top:10,right:30,left:0,bottom:0},children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"colorLeaves",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#6366f1",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#6366f1",stopOpacity:.1})]})}),n.jsx(Xt,{strokeDasharray:"3 3"}),n.jsx(Qt,{dataKey:"label",tick:{fontSize:12}}),n.jsx(Jt,{allowDecimals:!1,tick:{fontSize:12}}),n.jsx(ut,{contentStyle:{borderRadius:8,fontSize:14}}),n.jsx(za,{type:"monotone",dataKey:"count",stroke:"#6366f1",fillOpacity:1,fill:"url(#colorLeaves)",name:"Medical Leaves",isAnimationActive:!0})]})})})]}),n.jsxs(K,{className:"dark:bg-gray-900 dark:border-gray-800",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-blue-100 mb-4",children:"University Overview"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900 rounded-xl",children:[n.jsx(en,{className:"w-8 h-8 text-blue-600 dark:text-blue-300 mx-auto mb-2"}),n.jsx("p",{className:"text-3xl font-bold text-blue-900 dark:text-blue-200",children:a.length}),n.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"Total Employees"})]}),n.jsxs("div",{className:"text-center p-4 bg-emerald-50 dark:bg-emerald-900 rounded-xl",children:[n.jsx(ht,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-300 mx-auto mb-2"}),n.jsx("p",{className:"text-3xl font-bold text-emerald-900 dark:text-emerald-200",children:t.length}),n.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-300 mt-1",children:"Total Leave Requests"})]}),n.jsxs("div",{className:"text-center p-4 bg-amber-50 dark:bg-amber-900 rounded-xl",children:[n.jsx(Be,{className:"w-8 h-8 text-amber-600 dark:text-amber-300 mx-auto mb-2"}),n.jsx("p",{className:"text-3xl font-bold text-amber-900 dark:text-amber-200",children:s.pending}),n.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300 mt-1",children:"Awaiting Your Review"})]})]})]})]})}const jce=[{id:"pending",label:"Pending Review",color:"amber"},{id:"approved",label:"Recommended",color:"emerald"},{id:"rejected",label:"Rejected",color:"rose"},{id:"all",label:"All",color:"gray"}];function Nce(){const{employees:e,leaves:t,updateLeaveStatus:a}=Ae(),r=Qe(D=>D.user),[s,l]=x.useState("pending"),[c,d]=x.useState(""),[m,f]=x.useState(null),[h,g]=x.useState(null),[v,y]=x.useState(""),j=x.useMemo(()=>t.filter(D=>D.type==="medical").map(D=>{const k=e.find(E=>E.id===D.employeeId),_=D.days||(D.startDate&&D.endDate?Zr(ue(D.endDate),ue(D.startDate))+1:0);return{...D,employee:k,days:_}}).sort((D,k)=>new Date(k.appliedOn)-new Date(D.appliedOn)),[t,e]),b=x.useMemo(()=>j.filter(D=>{const k=D.approvalChain?.find(_=>_.role==="vc");if(!k)return!1;if(c){const _=c.toLowerCase();if(!(D.employee?.name?.toLowerCase().includes(_)||D.employee?.code?.toLowerCase().includes(_)||D.employeeName?.toLowerCase().includes(_)))return!1}return s==="all"?!0:s==="pending"?k.status==="pending":s==="approved"?k.status==="approved":s==="rejected"?k.status==="rejected":!0}),[j,c,s]),S=x.useMemo(()=>{const D=j.filter(_=>_.approvalChain?.some(E=>E.role==="vc")),k=_=>D.filter(E=>E.approvalChain.find(P=>P.role==="vc")?.status===_).length;return{total:D.length,pending:k("pending"),approved:k("approved"),rejected:k("rejected")}},[j]),M=(D,k)=>{f(D),g(k),y("")},w=()=>{f(null),g(null),y("")},A=()=>{!m||!h||h==="reject"&&!v.trim()||(a(m.id,h==="approve"?"Approved":"Rejected","vc",r?.name||"Vice Chancellor",v||void 0),w())},O=D=>D==="approved"?n.jsx(ge,{variant:"success",children:"Recommended"}):D==="rejected"?n.jsx(ge,{variant:"danger",children:"Rejected"}):n.jsx(ge,{variant:"warning",children:"Pending"});return n.jsxs("div",{className:"space-y-6",children:[n.jsx(K,{className:"bg-linear-to-r from-indigo-600 to-blue-600 text-white border-0",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-xl bg-white/20 flex items-center justify-center",children:n.jsx(Cr,{className:"w-8 h-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Medical Leave Reviews"}),n.jsx("p",{className:"text-indigo-100 mt-1",children:"Review and recommend medical leaves to President"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(K,{className:"hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:n.jsx(Cr,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Requests"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.total})]})]})}),n.jsx(K,{className:"hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center",children:n.jsx(Be,{className:"w-6 h-6 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-amber-700",children:"Pending Review"}),n.jsx("p",{className:"text-2xl font-bold text-amber-900",children:S.pending})]})]})}),n.jsx(K,{className:"hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center",children:n.jsx(Le,{className:"w-6 h-6 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-emerald-700",children:"Recommended"}),n.jsx("p",{className:"text-2xl font-bold text-emerald-900",children:S.approved})]})]})}),n.jsx(K,{className:"hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-rose-100 flex items-center justify-center",children:n.jsx(Tt,{className:"w-6 h-6 text-rose-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-rose-700",children:"Rejected"}),n.jsx("p",{className:"text-2xl font-bold text-rose-900",children:S.rejected})]})]})})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:jce.map(D=>n.jsxs("button",{onClick:()=>l(D.id),className:`px-6 py-2.5 rounded-lg text-sm font-semibold whitespace-nowrap transition-all ${s===D.id?"bg-indigo-600 text-white shadow-md":"bg-white border border-gray-200 text-gray-600 hover:border-indigo-300 hover:shadow-sm"}`,children:[D.label,D.id!=="all"&&S[D.id]>0&&n.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs font-bold ${s===D.id?"bg-white/20":"bg-gray-100"}`,children:S[D.id]})]},D.id))}),n.jsx(K,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Cn,{type:"text",placeholder:"Search by employee name or code...",value:c,onChange:D=>d(D.target.value),className:"w-full",inputClassName:"pr-4 py-2.5"})}),n.jsxs(X,{variant:"outline",className:"gap-2",children:[n.jsx(lo,{className:"w-5 h-5"}),"Filters"]})]})}),n.jsx(K,{children:n.jsx("div",{className:"space-y-4",children:b.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Xe,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500 font-medium",children:"No medical leave requests found"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:c?"Try adjusting your search":"All requests are processed"})]}):b.map(D=>{const k=D.approvalChain?.find(E=>E.role==="vc"),_=D.approvalChain?.find(E=>E.role==="hod");return n.jsxs("div",{className:"p-5 border border-gray-200 rounded-xl bg-linear-to-r from-white to-gray-50 hover:shadow-md transition-all",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[n.jsx("div",{className:"w-14 h-14 rounded-xl bg-linear-to-br from-indigo-600 to-blue-600 text-white font-bold text-xl flex items-center justify-center shadow-md",children:D.employee?.name?.charAt(0)||"?"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"font-bold text-gray-900 truncate text-lg",children:D.employee?.name||D.employeeName}),n.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2 mt-1",children:[n.jsx(Dr,{className:"w-4 h-4"}),D.employee?.code||D.employeeCode," "," ",D.employee?.department||D.department]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsx("span",{className:"px-3 py-1.5 rounded-lg bg-teal-100 text-teal-700 text-xs font-bold",children:"Medical Leave"}),n.jsxs("div",{className:"text-sm",children:[D.startDate&&D.endDate?n.jsxs("p",{className:"font-semibold text-gray-700",children:[q(ue(D.startDate),"MMM d")," "," ",q(ue(D.endDate),"MMM d, yyyy")]}):n.jsx("p",{className:"text-gray-500",children:"Dates N/A"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[D.days," day",D.days>1?"s":""]})]}),O(k?.status)]}),k?.status==="pending"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{size:"sm",onClick:()=>M(D,"approve"),className:"bg-emerald-600 text-white hover:bg-emerald-700 gap-1",children:[n.jsx(Le,{className:"w-4 h-4"}),"Recommend"]}),n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>M(D,"reject"),className:"text-rose-600 border-rose-200 hover:bg-rose-50 gap-1",children:[n.jsx(Tt,{className:"w-4 h-4"}),"Reject"]})]})]}),D.reason&&n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-semibold text-gray-900",children:"Reason:"})," ",D.reason]})}),_?.comment&&n.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsxs("p",{className:"text-xs font-semibold text-blue-900 mb-1 flex items-center gap-1",children:[n.jsx(Dr,{className:"w-4 h-4"}),"HOD's Recommendation:"]}),n.jsx("p",{className:"text-sm text-blue-800",children:_.comment}),n.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["by ",_.by," on"," ",_.date&&q(ue(_.date),"MMM dd, yyyy")]})]}),k?.comment&&k.status!=="pending"&&n.jsxs("div",{className:`mt-3 p-3 rounded-lg border ${k.status==="approved"?"bg-emerald-50 border-emerald-200":"bg-rose-50 border-rose-200"}`,children:[n.jsxs("p",{className:`text-xs font-semibold mb-1 ${k.status==="approved"?"text-emerald-900":"text-rose-900"}`,children:["Your ",k.status==="approved"?"Recommendation":"Rejection",":"]}),n.jsx("p",{className:`text-sm ${k.status==="approved"?"text-emerald-800":"text-rose-800"}`,children:k.comment}),n.jsxs("p",{className:`text-xs mt-1 ${k.status==="approved"?"text-emerald-600":"text-rose-600"}`,children:["on ",k.date&&q(ue(k.date),"MMM dd, yyyy HH:mm")]})]}),D.documents&&D.documents.length>0&&n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:D.documents.map(E=>n.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gray-100 rounded-lg text-sm",children:[n.jsx(Cr,{className:"w-4 h-4 text-gray-600"}),n.jsx("span",{className:"text-gray-700",children:E.name})]},E.id))})]},D.id)})})}),n.jsx(vt,{isOpen:!!m,onClose:w,title:h==="approve"?" Recommend Medical Leave":" Reject Medical Leave",children:m&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-linear-to-r from-indigo-50 to-blue-50 border border-indigo-200 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg bg-indigo-600 text-white font-bold text-lg flex items-center justify-center",children:m.employee?.name?.charAt(0)||"?"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-indigo-900",children:m.employee?.name||m.employeeName}),n.jsxs("p",{className:"text-sm text-indigo-700",children:[m.employee?.department||m.department," "," ",m.employee?.code||m.employeeCode]})]})]}),n.jsx("div",{className:"mt-3 pt-3 border-t border-indigo-200",children:n.jsxs("p",{className:"text-sm text-indigo-900",children:[n.jsx("span",{className:"font-semibold",children:"Duration:"})," ",m.startDate&&q(ue(m.startDate),"MMM dd")," "," ",m.endDate&&q(ue(m.endDate),"MMM dd, yyyy")," ","(",m.days," days)"]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:h==="approve"?" Recommendation Note (Optional)":" Rejection Reason (Required)"}),n.jsx("textarea",{value:v,onChange:D=>y(D.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-200 focus:border-indigo-600 outline-none",placeholder:h==="approve"?"Add your recommendation notes for the President (optional)...":"Provide a clear reason for rejection (required)...",required:h==="reject"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h==="approve"?"This will be forwarded to the President for final decision":"Employee will be notified of the rejection reason"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{variant:"outline",onClick:w,children:"Cancel"}),n.jsx(X,{onClick:A,className:h==="approve"?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-rose-600 text-white hover:bg-rose-700",disabled:h==="reject"&&!v.trim(),children:h==="approve"?n.jsxs(n.Fragment,{children:[n.jsx(Le,{className:"w-5 h-5"}),"Recommend to President"]}):n.jsxs(n.Fragment,{children:[n.jsx(Tt,{className:"w-5 h-5"}),"Confirm Rejection"]})})]})]})})]})}function Bv(e){return n.jsx(ht,{...e})}function wce(){const{leaves:e,employees:t}=Ae(),a=x.useMemo(()=>{const A=e.filter(k=>k.type==="medical"),O=A.filter(k=>{const _=k.approvalChain?.find(E=>E.role==="vc");return _&&_.status!=="pending"}),D=O.length>0?O.filter(k=>k.approvalChain.find(_=>_.role==="vc")?.status==="approved").length/O.length*100:0;return{totalMedical:A.length,reviewed:O.length,approvalRate:D.toFixed(1),avgProcessingDays:2.5}},[e]),r=x.useMemo(()=>e.filter(A=>A.type==="medical").sort((A,O)=>new Date(O.appliedOn)-new Date(A.appliedOn)),[e]),[s,l]=x.useState(""),[c,d]=x.useState("pending"),[m,f]=x.useState(null),[h,g]=x.useState(""),[v,y]=x.useState("");Qe(A=>A.user);const j=[{id:"pending",label:"Pending Review",color:"amber"},{id:"approved",label:"Recommended",color:"emerald"},{id:"rejected",label:"Ejected",color:"rose"},{id:"all",label:"All",color:"blue"}],b=(A,O)=>{f(A),g(O)},S=()=>{f(null),g(""),y("")},M=()=>{!m||!h||h==="reject"&&!v.trim()||S()},w=A=>A==="approved"?n.jsx(ge,{variant:"success",children:"Recommended"}):A==="rejected"?n.jsx(ge,{variant:"danger",children:"Rejected"}):n.jsx(ge,{variant:"warning",children:"Pending"});return n.jsxs("div",{className:"space-y-6",children:[n.jsx(K,{className:"bg-linear-to-r from-indigo-600 to-blue-600 text-white border-0",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-xl bg-white/20 flex items-center justify-center",children:n.jsx(Bv,{className:"w-8 h-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Medical Leave Reviews"}),n.jsx("p",{className:"text-indigo-100 mt-1",children:"Review and recommend medical leaves to President"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(K,{className:"hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:n.jsx(Bv,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Requests"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.totalMedical})]})]})}),n.jsx(K,{className:"hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center",children:n.jsx(Be,{className:"w-6 h-6 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-amber-700",children:"Pending Review"}),n.jsx("p",{className:"text-2xl font-bold text-amber-900",children:a.pending})]})]})}),n.jsx(K,{className:"hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center",children:n.jsx(Le,{className:"w-6 h-6 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-emerald-700",children:"Recommended"}),n.jsx("p",{className:"text-2xl font-bold text-emerald-900",children:a.reviewed})]})]})}),n.jsx(K,{className:"hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-rose-100 flex items-center justify-center",children:n.jsx(Tt,{className:"w-6 h-6 text-rose-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-rose-700",children:"Rejected"}),n.jsx("p",{className:"text-2xl font-bold text-rose-900",children:a.rejected})]})]})})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:j.map(A=>n.jsxs("button",{onClick:()=>d(A.id),className:`px-6 py-2.5 rounded-lg text-sm font-semibold whitespace-nowrap transition-all ${c===A.id?"bg-indigo-600 text-white shadow-md":"bg-white border border-gray-200 text-gray-600 hover:border-indigo-300 hover:shadow-sm"}`,children:[A.label,A.id!=="all"&&a[A.id]>0&&n.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs font-bold ${c===A.id?"bg-white/20":"bg-gray-100"}`,children:a[A.id]})]},A.id))}),n.jsx(K,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"relative flex-1",children:n.jsx(Cn,{type:"text",placeholder:"Search by employee name or code...",value:s,onChange:A=>l(A.target.value),className:"w-full",inputClassName:"pr-4 py-2.5"})}),n.jsxs(X,{variant:"outline",className:"gap-2",children:[n.jsx(lo,{className:"w-5 h-5"})," Filters"]})]})}),n.jsx(K,{children:n.jsx("div",{className:"space-y-4",children:r.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Xe,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500 font-medium",children:"No medical leave requests found"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:s?"Try adjusting your search":"All requests are processed"})]}):r.map(A=>{const O=A.approvalChain?.find(k=>k.role==="vc"),D=A.approvalChain?.find(k=>k.role==="hod");return n.jsxs("div",{className:"p-5 border border-gray-200 rounded-xl bg-linear-to-r from-white to-gray-50 hover:shadow-md transition-all",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[n.jsx("div",{className:"w-14 h-14 rounded-xl bg-linear-to-br from-indigo-600 to-blue-600 text-white font-bold text-xl flex items-center justify-center shadow-md",children:A.employee?.name?.charAt(0)||"?"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"font-bold text-gray-900 truncate text-lg",children:A.employee?.name||A.employeeName}),n.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2 mt-1",children:[n.jsx(Dr,{className:"w-4 h-4"}),A.employee?.code||A.employeeCode," "," ",A.employee?.department||A.department]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsx("span",{className:"px-3 py-1.5 rounded-lg bg-teal-100 text-teal-700 text-xs font-bold",children:"Medical Leave"}),n.jsxs("div",{className:"text-sm",children:[A.startDate&&A.endDate?n.jsxs("p",{className:"font-semibold text-gray-700",children:[q(ue(A.startDate),"MMM d")," "," ",q(ue(A.endDate),"MMM d, yyyy")]}):n.jsx("p",{className:"text-gray-500",children:"Dates N/A"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[A.days," day",A.days>1?"s":""]})]}),w(O?.status)]}),O?.status==="pending"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{size:"sm",onClick:()=>b(A,"approve"),className:"bg-emerald-600 text-white hover:bg-emerald-700 gap-1",children:[n.jsx(Le,{className:"w-4 h-4"}),"Recommend"]}),n.jsxs(X,{variant:"outline",size:"sm",onClick:()=>b(A,"reject"),className:"text-rose-600 border-rose-200 hover:bg-rose-50 gap-1",children:[n.jsx(Tt,{className:"w-4 h-4"}),"Reject"]})]})]}),A.reason&&n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-semibold text-gray-900",children:"Reason:"})," ",A.reason]})}),D?.comment&&n.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsxs("p",{className:"text-xs font-semibold text-blue-900 mb-1 flex items-center gap-1",children:[n.jsx(Dr,{className:"w-4 h-4"})," HOD's Recommendation:"]}),n.jsx("p",{className:"text-sm text-blue-800",children:D.comment}),n.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["by ",D.by," on"," ",D.date&&q(ue(D.date),"MMM dd, yyyy")]})]}),O?.comment&&O.status!=="pending"&&n.jsxs("div",{className:`mt-3 p-3 rounded-lg border ${O.status==="approved"?"bg-emerald-50 border-emerald-200":"bg-rose-50 border-rose-200"}`,children:[n.jsxs("p",{className:`text-xs font-semibold mb-1 ${O.status==="approved"?"text-emerald-900":"text-rose-900"}`,children:["Your ",O.status==="approved"?"Recommendation":"Rejection",":"]}),n.jsx("p",{className:`text-sm ${O.status==="approved"?"text-emerald-800":"text-rose-800"}`,children:O.comment}),n.jsxs("p",{className:`text-xs mt-1 ${O.status==="approved"?"text-emerald-600":"text-rose-600"}`,children:["on ",O.date&&q(ue(O.date),"MMM dd, yyyy HH:mm")]})]}),A.documents&&A.documents.length>0&&n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:A.documents.map(k=>n.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gray-100 rounded-lg text-sm",children:[n.jsx(Bv,{className:"w-4 h-4 text-gray-600"}),n.jsx("span",{className:"text-gray-700",children:k.name})]},k.id))})]},A.id)})})}),n.jsx(vt,{isOpen:!!m,onClose:S,title:h==="approve"?" Recommend Medical Leave":" Reject Medical Leave",children:m&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-linear-to-r from-indigo-50 to-blue-50 border border-indigo-200 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg bg-indigo-600 text-white font-bold text-lg flex items-center justify-center",children:m.employee?.name?.charAt(0)||"?"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-indigo-900",children:m.employee?.name||m.employeeName}),n.jsxs("p",{className:"text-sm text-indigo-700",children:[m.employee?.department||m.department," "," ",m.employee?.code||m.employeeCode]})]})]}),n.jsx("div",{className:"mt-3 pt-3 border-t border-indigo-200",children:n.jsxs("p",{className:"text-sm text-indigo-900",children:[n.jsx("span",{className:"font-semibold",children:"Duration:"})," ",m.startDate&&q(ue(m.startDate),"MMM dd")," "," ",m.endDate&&q(ue(m.endDate),"MMM dd, yyyy")," ","(",m.days," days)"]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:h==="approve"?" Recommendation Note (Optional)":" Rejection Reason (Required)"}),n.jsx("textarea",{value:v,onChange:A=>y(A.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-200 focus:border-indigo-600 outline-none",placeholder:h==="approve"?"Add your recommendation notes for the President (optional)...":"Provide a clear reason for rejection (required)...",required:h==="reject"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h==="approve"?"This will be forwarded to the President for final decision":"Employee will be notified of the rejection reason"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(X,{variant:"outline",onClick:S,children:"Cancel"}),n.jsx(X,{onClick:M,className:h==="approve"?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-rose-600 text-white hover:bg-rose-700",disabled:h==="reject"&&!v.trim(),children:h==="approve"?n.jsxs(n.Fragment,{children:[n.jsx(Le,{className:"w-5 h-5"})," Recommend to President"]}):n.jsxs(n.Fragment,{children:[n.jsx(Tt,{className:"w-5 h-5"})," Confirm Rejection"]})})]})]})})]})}const Sce=[{path:"/vc",label:"Dashboard",icon:$a,end:!0},{path:"/vc/medical-leaves",label:"Medical Leaves",icon:ht},{path:"/vc/analytics",label:"Analytics",icon:li},{path:"/vc/pams",label:"PAMS",icon:li}];function Ace(){return n.jsx(vi,{portalKey:"vc",portalName:"VC Portal",navItems:Sce})}const Cce={fully:{label:"Fully Achieved",marks:100},largely:{label:"Largely Achieved",marks:85},partially:{label:"Partially Achieved",marks:70},not:{label:"Not Achieved",marks:0}};function Mce(){const e=Ae(f=>f.getPamsForVc),t=Ae(f=>f.vcApprovePams),[a,r]=x.useState(null),[s,l]=x.useState(""),c=x.useMemo(()=>e(),[e]),d=()=>{if(!c.length)return;const f=h6(c.map(h=>({period:h.period,employee:h.employeeName||h.employeeId,department:h.department,faculty:h.faculty,category:h.category||"faculty",status:h.status,hodMeeting:h.hodReview?.meetingDate||"",deanMeeting:h.deanReview?.meetingDate||""})),["period","employee","department","faculty","category","status","hodMeeting","deanMeeting"]);p6("pams-vc-approvals.csv",f)},m=(f,h)=>{t(f,{action:h,comment:h==="return"?s||"Please revisit":s}),r(null),l("")};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ys,{className:"w-6 h-6 text-gray-600"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"PAMS Approvals"}),n.jsx("p",{className:"text-gray-600",children:"Review and approve Faculty & HOD submissions before sending to HR."})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(X,{variant:"secondary",onClick:d,className:"flex items-center gap-2",children:[n.jsx(Wt,{className:"w-4 h-4"})," Export CSV"]})}),c.length===0?n.jsx(K,{children:n.jsx("p",{className:"text-sm text-gray-600",children:"No submissions awaiting VC approval."})}):n.jsxs(n.Fragment,{children:[c.filter(f=>f.category==="faculty").length>0&&n.jsxs(n.Fragment,{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Faculty PAMS"}),n.jsx("div",{className:"grid gap-3",children:c.filter(f=>f.category==="faculty").map(f=>n.jsx(K,{className:`cursor-pointer transition-all ${a?.id===f.id?"ring-2 ring-blue-500":""}`,onClick:()=>r(f),children:n.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:f.employeeName||f.employeeId}),n.jsxs("p",{className:"text-xs text-gray-500",children:[f.department,"  ",f.faculty]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Period: ",f.period]}),f.hodReview?.meetingDate&&n.jsxs("p",{className:"text-xs text-emerald-600",children:[" HOD meeting: ",f.hodReview.meetingDate]})]}),n.jsx(ge,{variant:"primary",children:"pending"})]})},f.id))})]}),c.filter(f=>f.category==="hod").length>0&&n.jsxs(n.Fragment,{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mt-6",children:"HOD PAMS"}),n.jsx("div",{className:"grid gap-3",children:c.filter(f=>f.category==="hod").map(f=>n.jsx(K,{className:`cursor-pointer transition-all ${a?.id===f.id?"ring-2 ring-blue-500":""}`,onClick:()=>r(f),children:n.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:f.employeeName||f.employeeId}),n.jsxs("p",{className:"text-xs text-gray-500",children:[f.department,"  ",f.faculty]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Period: ",f.period]}),f.deanReview?.meetingDate&&n.jsxs("p",{className:"text-xs text-emerald-600",children:[" Dean meeting: ",f.deanReview.meetingDate]})]}),n.jsx(ge,{variant:"primary",children:"pending"})]})},f.id))})]})]}),a&&n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 mb-4",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold text-gray-900",children:["Reviewing: ",a.employeeName||a.employeeId]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[a.category==="hod"?"HOD Performance":"Faculty Performance"," "," ",a.period]})]}),n.jsx(ge,{variant:"primary",children:a.category})]}),n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:a.category==="faculty"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"border-t pt-3",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Teaching Assessment"}),n.jsx(Oa,{label:"Student Evaluation",value:a.teachingAssessment?.studentEvaluation}),n.jsx(Oa,{label:"Teaching Workload",value:a.teachingAssessment?.teachingWorkload}),n.jsx(Oa,{label:"Course Completion",value:a.teachingAssessment?.courseCompletion})]}),n.jsxs("div",{className:"border-t pt-3",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Research & Supervision"}),n.jsx(Oa,{label:"FYP Supervision",value:a.fypSupervision}),n.jsx(Oa,{label:"MS/PhD Supervision",value:a.msPhDSupervision}),n.jsx(Oa,{label:"Research Publications",value:a.researchPublications}),n.jsx(Oa,{label:"Research Funding",value:a.researchFunding})]}),n.jsxs("div",{className:"border-t pt-3",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Service & Administration"}),n.jsx(Oa,{label:"Administrative Duties",value:a.administrativeDuties}),n.jsx(Oa,{label:"Service to Community",value:a.serviceToCommunity})]}),a.hodReview&&n.jsxs("div",{className:"border-t pt-3 bg-blue-50 p-3 rounded",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"HOD Review"}),n.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Meeting: ",a.hodReview.meetingDate||"Not scheduled"]}),a.hodReview.comment&&n.jsxs("p",{className:"text-xs text-gray-700 mt-1",children:["Note: ",a.hodReview.comment]})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"border-t pt-3",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Leadership"}),n.jsx(Oa,{label:"Leadership",value:a.leadership})]}),n.jsxs("div",{className:"border-t pt-3",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Curriculum & Instruction"}),n.jsx(Oa,{label:"Curriculum Instruction",value:a.curriculumInstruction})]}),n.jsxs("div",{className:"border-t pt-3",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Management"}),n.jsx(Oa,{label:"Management & Admin",value:a.managementAdministration})]}),n.jsxs("div",{className:"border-t pt-3",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Personnel"}),n.jsx(Oa,{label:"Personnel",value:a.personnel})]}),n.jsxs("div",{className:"border-t pt-3",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Promotion & Tenure"}),n.jsx(Oa,{label:"Promotion & Tenure",value:a.promotionTenure})]}),a.deanReview&&n.jsxs("div",{className:"border-t pt-3 bg-blue-50 p-3 rounded",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Dean Review"}),n.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Meeting: ",a.deanReview.meetingDate||"Not scheduled"]}),a.deanReview.comment&&n.jsxs("p",{className:"text-xs text-gray-700 mt-1",children:["Note: ",a.deanReview.comment]})]})]})}),n.jsx("div",{className:"border-t mt-4 pt-4",children:n.jsxs("label",{className:"text-sm font-medium text-gray-700 block mb-3",children:["Final Comments",n.jsx("textarea",{rows:2,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:s,onChange:f=>l(f.target.value),placeholder:"Optional approval or return comments"})]})}),n.jsxs("div",{className:"flex flex-wrap justify-end gap-2 mt-4",children:[n.jsx(X,{variant:"secondary",onClick:()=>r(null),children:"Cancel"}),n.jsxs(X,{variant:"outline",onClick:()=>m(a.id,"return"),className:"flex items-center gap-2",children:[n.jsx(lj,{className:"w-4 h-4"})," Return"]}),n.jsxs(X,{onClick:()=>m(a.id,"approve"),className:"flex items-center gap-2",children:[n.jsx(Le,{className:"w-4 h-4"})," Send to HR"]})]})]})]})}function Oa({label:e,value:t}){const a=t?Cce[t]:null;return n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm py-1",children:[n.jsx("span",{className:"text-gray-700",children:e}),a?n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:a.label}):n.jsx("span",{className:"text-xs text-gray-500",children:""})]})}function Dce(){return n.jsx(yi,{children:n.jsxs(Se,{element:n.jsx(Ace,{}),children:[n.jsx(Se,{index:!0,element:n.jsx(bce,{})}),n.jsx(Se,{path:"medical-leaves",element:n.jsx(Nce,{})}),n.jsx(Se,{path:"analytics",element:n.jsx(wce,{})}),n.jsx(Se,{path:"pams",element:n.jsx(Mce,{})}),n.jsx(Se,{path:"*",element:n.jsx(ps,{to:".",replace:!0})})]})})}const Oce=[{path:"/finance/dashboard",label:"Dashboard",icon:zu,end:!0},{path:"/finance/requests",label:"Requests",icon:nr},{path:"/finance/reports",label:"Reports",icon:$a},{path:"/finance/policy-advisory",label:"Policy Advisory",icon:ht},{path:"/finance/settings",label:"Settings",icon:Tr}];function Ece(){return n.jsx(vi,{portalKey:"finance",portalName:"Finance Portal",navItems:Oce})}const kce=[{id:"r-1",name:"John Doe",balance:1e5,requested:9e4,serviceYears:5,type:"Refundable",age:40,submittedOn:"2025-12-12",status:"Pending"},{id:"r-2",name:"Sara Khan",balance:12e4,requested:1e5,serviceYears:7,type:"Non-Refundable",age:52,submittedOn:"2025-12-10",status:"Pending"},{id:"r-3",name:"Ali Raza",balance:8e4,requested:7e4,serviceYears:2,type:"Refundable",age:29,submittedOn:"2025-12-08",status:"Rejected"}];function wD(){const[e,t]=x.useState(kce),[a,r]=x.useState("all"),[s,l]=x.useState(null),c=x.useMemo(()=>{const g=e.filter(b=>b.status==="Pending").length,v=e.filter(b=>b.status==="Approved").length,y=e.filter(b=>b.status==="Approved").reduce((b,S)=>b+S.requested,0),j=e.filter(b=>b.requested>b.balance*.8).length;return{pending:g,approvedThisMonth:v,totalDisbursed:y,overLimit:j}},[e]),d=x.useMemo(()=>e.filter(g=>a==="all"?!0:g.status===a),[e,a]),m=x.useMemo(()=>[{header:"Employee",accessorKey:"name",cell:({row:g})=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center text-sm font-bold",children:g.original.name?.charAt(0)}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-900",children:g.original.name}),n.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx($u,{className:"w-3.5 h-3.5"})," ",g.original.type]})]})]})},{header:"Requested",accessorKey:"requested",cell:({row:g})=>n.jsx("span",{className:"font-medium",children:g.original.requested.toLocaleString()})},{header:"Eligible (80%)",accessorKey:"eligible",cell:({row:g})=>(g.original.balance*.8).toLocaleString()},{header:"Status",accessorKey:"status",cell:({row:g})=>{const v=g.original.status,y=g.original.requested>g.original.balance*.8;return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ge,{variant:v==="Approved"?"success":v==="Rejected"?"error":"warning",children:v}),y&&n.jsx(ge,{variant:"danger",size:"xs",children:"Over Limit"})]})}},{header:"Submitted",accessorKey:"submittedOn",cell:({row:g})=>n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[n.jsx(Xe,{className:"w-4 h-4"}),q(new Date(g.original.submittedOn),"MMM d, yyyy")]})},{header:"Actions",cell:({row:g})=>{const v=g.original,y=v.requested>v.balance*.8,j=v.status!=="Pending"||y;return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(X,{size:"sm",disabled:j,onClick:()=>l(v),children:[n.jsx(Le,{className:"w-4 h-4"})," Approve"]}),n.jsxs(X,{size:"sm",variant:"outline",disabled:v.status!=="Pending",onClick:()=>h(v.id),className:"text-red-600 border-red-200 hover:bg-red-50",children:[n.jsx(Tt,{className:"w-4 h-4"})," Reject"]})]})}}],[]),f=g=>{t(v=>v.map(y=>y.id===g?{...y,status:"Approved"}:y)),l(null)},h=g=>{t(v=>v.map(y=>y.id===g?{...y,status:"Rejected"}:y))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"CECPF Provident Fund Requests"}),n.jsx("p",{className:"text-gray-600",children:"Review and process employee fund withdrawals/loans"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(wt,{title:"Pending",value:c.pending,icon:Jn,color:"warning",trendValue:`+${Math.max(0,c.pending-0)}`,subtitle:"Awaiting decision"}),n.jsx(wt,{title:"Approved (Month)",value:c.approvedThisMonth,icon:Le,color:"success",trendValue:`+${c.approvedThisMonth}`,subtitle:"This month"}),n.jsx(wt,{title:"Total Disbursed",value:c.totalDisbursed.toLocaleString(),icon:nr,color:"primary",trendValue:c.totalDisbursed?`+PKR ${c.totalDisbursed.toLocaleString()}`:"+0",subtitle:"All-time"}),n.jsx(wt,{title:"Over-Limit",value:c.overLimit,icon:Tt,color:"danger",trendValue:`+${c.overLimit}`,subtitle:"Exceed 80%"})]}),n.jsx(K,{children:n.jsx("div",{className:"flex flex-wrap items-center gap-2",children:["all","Pending","Approved","Rejected"].map(g=>n.jsx("button",{onClick:()=>r(g),className:`px-3 py-1.5 rounded-lg text-sm border transition-all ${a===g?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"}`,children:g==="all"?"All":g},g))})}),n.jsx(hu,{data:d,columns:m,searchPlaceholder:"Search employees...",showSearch:!0,pageSize:5,emptyMessage:"No requests match the filter"}),s&&n.jsx(vt,{isOpen:!!s,onClose:()=>l(null),title:"Approve Request",size:"lg",actions:n.jsxs(n.Fragment,{children:[n.jsx(X,{variant:"ghost",onClick:()=>l(null),children:"Cancel"}),n.jsx(X,{onClick:()=>f(s.id),disabled:s.requested>s.balance*.8,children:"Approve"})]}),children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-100 text-indigo-700 flex items-center justify-center text-lg font-bold",children:s.name?.charAt(0)}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:s.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Type: ",n.jsx("span",{className:"font-medium",children:s.type}),"  Service:"," ",n.jsxs("span",{className:"font-medium",children:[s.serviceYears," yrs"]})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Requested:"," ",n.jsx("span",{className:"font-medium",children:s.requested.toLocaleString()}),"  ","Eligible (80%):"," ",n.jsx("span",{className:"font-medium",children:(s.balance*.8).toLocaleString()})]})]})]}),s.requested>s.balance*.8&&n.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:"Requested amount exceeds 80% eligibility. Adjust before approval."}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Submitted:"})," ",q(new Date(s.submittedOn),"PPP")]}),n.jsx("p",{className:"text-sm text-gray-700",children:"Recovery will be in 30 monthly installments."})]})})]})}const Pce=[{id:"r-1",name:"John Doe",type:"Refundable",requested:9e4,eligible:8e4,status:"Approved",submittedOn:"2025-12-12"},{id:"r-2",name:"Sara Khan",type:"Non-Refundable",requested:1e5,eligible:96e3,status:"Pending",submittedOn:"2025-12-10"},{id:"r-3",name:"Ali Raza",type:"Refundable",requested:7e4,eligible:64e3,status:"Rejected",submittedOn:"2025-12-08"}];function Rce(){const[e]=x.useState(Pce),t=x.useMemo(()=>[{header:"Employee",accessorKey:"name",cell:({row:a})=>n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:a.original.name}),n.jsx("div",{className:"text-xs text-gray-500",children:a.original.type})]})},{header:"Requested",accessorKey:"requested",cell:({row:a})=>`PKR ${a.original.requested.toLocaleString()}`},{header:"Eligible",accessorKey:"eligible",cell:({row:a})=>`PKR ${a.original.eligible.toLocaleString()}`},{header:"Status",accessorKey:"status",cell:({row:a})=>{const r=a.original.status;return n.jsx(ge,{variant:r==="Approved"?"success":r==="Rejected"?"error":"warning",children:r})}},{header:"Date",accessorKey:"submittedOn",cell:({row:a})=>q(new Date(a.original.submittedOn),"MMM d, yyyy")}],[]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Provident Fund Requests"}),n.jsx("p",{className:"text-gray-600",children:"View and manage all employee requests"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx(K,{className:"bg-blue-50 border-blue-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Requests"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]}),n.jsx(nr,{className:"w-8 h-8 text-blue-400"})]})}),n.jsx(K,{className:"bg-green-50 border-green-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Approved"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(a=>a.status==="Approved").length})]}),n.jsx(Le,{className:"w-8 h-8 text-green-400"})]})}),n.jsx(K,{className:"bg-red-50 border-red-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Rejected"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(a=>a.status==="Rejected").length})]}),n.jsx(Tt,{className:"w-8 h-8 text-red-400"})]})})]}),n.jsx(hu,{data:e,columns:t,searchPlaceholder:"Search requests...",showSearch:!0,pageSize:10})]})}function _ce(){const e=[{month:"Oct",approved:12,rejected:2,total:45e6},{month:"Nov",approved:15,rejected:3,total:52e6},{month:"Dec",approved:8,rejected:1,total:38e6}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Finance Reports"}),n.jsx("p",{className:"text-gray-600",children:"Monthly provident fund statistics and trends"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(K,{className:"bg-indigo-50 border-indigo-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Disbursed"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"PKR 1.45 Cr"}),n.jsx("p",{className:"text-xs text-indigo-600 mt-1",children:"This quarter"})]}),n.jsx(nr,{className:"w-8 h-8 text-indigo-400"})]})}),n.jsx(K,{className:"bg-green-50 border-green-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Approval Rate"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"87%"}),n.jsx("p",{className:"text-xs text-green-600 mt-1",children:"This quarter"})]}),n.jsx(gs,{className:"w-8 h-8 text-green-400"})]})}),n.jsx(K,{className:"bg-blue-50 border-blue-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Requests"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"147"}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Total received"})]}),n.jsx($a,{className:"w-8 h-8 text-blue-400"})]})}),n.jsx(K,{className:"bg-purple-50 border-purple-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Avg Duration"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"5 days"}),n.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Processing time"})]}),n.jsx(Xe,{className:"w-8 h-8 text-purple-400"})]})})]}),n.jsxs(K,{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Trends"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"px-4 py-2 text-left text-gray-600",children:"Month"}),n.jsx("th",{className:"px-4 py-2 text-right text-gray-600",children:"Approved"}),n.jsx("th",{className:"px-4 py-2 text-right text-gray-600",children:"Rejected"}),n.jsx("th",{className:"px-4 py-2 text-right text-gray-600",children:"Amount"})]})}),n.jsx("tbody",{children:e.map(t=>n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 font-medium",children:t.month}),n.jsx("td",{className:"px-4 py-3 text-right text-green-600 font-semibold",children:t.approved}),n.jsx("td",{className:"px-4 py-3 text-right text-red-600 font-semibold",children:t.rejected}),n.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:["PKR ",(t.total/1e7).toFixed(1)," Cr"]})]},t.month))})]})})]})]})}const Fv=[{id:1,title:"CECPF Provident Fund Policy",description:"Employee contributory provident fund rules and procedures",updated:"2021-12-10",status:"Active"},{id:2,title:"Fund Withdrawal Guidelines",description:"Procedures and eligibility for fund withdrawals",updated:"2024-11-20",status:"Active"},{id:3,title:"Loan Repayment Policy",description:"Loan disbursement and monthly installment recovery procedures",updated:"2024-10-15",status:"Active"}];function Tce(){const e=t=>{const a=document.createElement("a");a.href="/PDF's/4. CECPF 10 Dec 21.pdf",a.download=`${t.title}.pdf`,document.body.appendChild(a),a.click(),document.body.removeChild(a)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Policy Advisory"}),n.jsx("p",{className:"text-gray-600",children:"Provident fund policies and guidelines"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx(K,{className:"bg-blue-50 border-blue-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ht,{className:"w-8 h-8 text-blue-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Policies"}),n.jsx("p",{className:"text-2xl font-bold",children:Fv.length})]})]})}),n.jsx(K,{className:"bg-green-50 border-green-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Le,{className:"w-8 h-8 text-green-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Active"}),n.jsx("p",{className:"text-2xl font-bold",children:Fv.filter(t=>t.status==="Active").length})]})]})}),n.jsx(K,{className:"bg-purple-50 border-purple-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Wt,{className:"w-8 h-8 text-purple-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Downloads"}),n.jsx("p",{className:"text-2xl font-bold",children:"1.2K"})]})]})})]}),n.jsx("div",{className:"space-y-4",children:Fv.map(t=>n.jsx(K,{className:"hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[n.jsx(ht,{className:"w-6 h-6 text-blue-600 shrink-0 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:t.title}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.description}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx(ge,{variant:"success",size:"xs",children:t.status}),n.jsxs("span",{className:"text-xs text-gray-500",children:["Updated: ",new Date(t.updated).toLocaleDateString()]})]})]})]}),n.jsxs(X,{size:"sm",onClick:()=>e(t),className:"gap-2 shrink-0",children:[n.jsx(Wt,{className:"w-4 h-4"}),"Download"]})]})},t.id))})]})}function Lce(){const[e,t]=x.useState({emailAlerts:!0,weeklyReport:!0,approvalReminder:!0}),a=s=>{t(l=>({...l,[s]:!l[s]}))},r=()=>{alert("Settings saved successfully!")};return n.jsxs("div",{className:"space-y-6 max-w-2xl",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),n.jsx("p",{className:"text-gray-600",children:"Manage finance portal preferences"})]}),n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx(Xr,{className:"w-6 h-6 text-blue-600"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Notifications"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Email Alerts"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Get notified for new requests"})]}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:e.emailAlerts,onChange:()=>a("emailAlerts"),className:"w-5 h-5 rounded"}),e.emailAlerts&&n.jsx(ge,{variant:"success",children:"On"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Weekly Report"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Receive weekly summary report"})]}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:e.weeklyReport,onChange:()=>a("weeklyReport"),className:"w-5 h-5 rounded"}),e.weeklyReport&&n.jsx(ge,{variant:"success",children:"On"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Approval Reminders"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Reminder for pending approvals"})]}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:e.approvalReminder,onChange:()=>a("approvalReminder"),className:"w-5 h-5 rounded"}),e.approvalReminder&&n.jsx(ge,{variant:"success",children:"On"})]})]})]})]}),n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx(Tr,{className:"w-6 h-6 text-blue-600"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"System Settings"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Default Approval Threshold"}),n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{children:"PKR 50,000"}),n.jsx("option",{children:"PKR 100,000"}),n.jsx("option",{children:"PKR 500,000"}),n.jsx("option",{children:"No limit"})]})]}),n.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Processing Days"}),n.jsx("input",{type:"number",defaultValue:"5",min:"1",max:"30",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Target days to process requests"})]})]})]}),n.jsxs(K,{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx(di,{className:"w-6 h-6 text-blue-600"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Security"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Two-factor authentication is enabled for all finance accounts."}),n.jsx(X,{variant:"outline",size:"sm",children:"Change Password"})]})]}),n.jsx("div",{className:"flex justify-end pt-4",children:n.jsxs(X,{onClick:r,className:"gap-2",children:[n.jsx(d7,{className:"w-4 h-4"}),"Save Changes"]})})]})}function Ice(){return n.jsx(yi,{children:n.jsxs(Se,{element:n.jsx(Ece,{}),children:[n.jsx(Se,{index:!0,element:n.jsx(wD,{})}),n.jsx(Se,{path:"dashboard",element:n.jsx(wD,{})}),n.jsx(Se,{path:"requests",element:n.jsx(Rce,{})}),n.jsx(Se,{path:"reports",element:n.jsx(_ce,{})}),n.jsx(Se,{path:"policy-advisory",element:n.jsx(Tce,{})}),n.jsx(Se,{path:"settings",element:n.jsx(Lce,{})}),n.jsx(Se,{path:"*",element:n.jsx(ps,{to:".",replace:!0})})]})})}const zce=[{path:"/oric",label:"Dashboard",icon:ll,end:!0},{path:"/oric/publications",label:"Publications",icon:ht},{path:"/oric/funding",label:"Funding & Grants",icon:ar}];function $ce({children:e}){return n.jsx(vi,{portalKey:"oric",portalName:"ORIC Portal",navItems:zce,children:e})}function Bce(){return n.jsx($ce,{children:n.jsx(SD,{})})}const Fce=[{id:1,title:"AI-Based Medical Diagnosis System",pi:"Dr. Ahmed Khan",department:"Computer Science",status:"Active",budget:"$50,000",year:"2024"},{id:2,title:"Renewable Energy Solutions for Rural Areas",pi:"Dr. Sarah Ali",department:"Electrical Engineering",status:"Active",budget:"$75,000",year:"2024"},{id:3,title:"Smart City Infrastructure Development",pi:"Dr. Hassan Raza",department:"Civil Engineering",status:"Completed",budget:"$120,000",year:"2023"},{id:4,title:"Machine Learning for Agricultural Optimization",pi:"Dr. Fatima Malik",department:"Data Science",status:"Active",budget:"$60,000",year:"2024"},{id:5,title:"Blockchain in Supply Chain Management",pi:"Dr. Usman Tariq",department:"Management Sciences",status:"Active",budget:"$45,000",year:"2024"}],L6=[{id:1,title:"Deep Learning Applications in Healthcare",journal:"IEEE Transactions on Medical Imaging",authors:"Khan, A., et al.",year:"2024",impact:"10.2"},{id:2,title:"Sustainable Energy Systems: A Comprehensive Review",journal:"Renewable Energy Journal",authors:"Ali, S., et al.",year:"2024",impact:"8.5"},{id:3,title:"Smart Infrastructure for Modern Cities",journal:"Urban Planning Review",authors:"Raza, H., et al.",year:"2023",impact:"6.8"},{id:4,title:"Machine Learning in Agricultural Forecasting",journal:"Agricultural Systems",authors:"Malik, F., et al.",year:"2024",impact:"7.3"},{id:5,title:"Blockchain Technology: Security and Applications",journal:"Journal of Computer Security",authors:"Tariq, U., et al.",year:"2024",impact:"9.1"},{id:6,title:"Neural Networks for Medical Image Analysis",journal:"Medical Image Analysis",authors:"Khan, A., et al.",year:"2023",impact:"11.5"}],I6=[{id:1,title:"HEC Research Grant - AI in Healthcare",amount:"$100,000",agency:"Higher Education Commission",status:"Active",year:"2024"},{id:2,title:"NSF Grant - Renewable Energy Research",amount:"$150,000",agency:"National Science Foundation",status:"Active",year:"2024"},{id:3,title:"UNESCO Grant - Educational Technology",amount:"$80,000",agency:"UNESCO",status:"Under Review",year:"2024"},{id:4,title:"Industry Partnership - Smart Agriculture",amount:"$120,000",agency:"AgriTech International",status:"Active",year:"2024"}];function Uce(){const e=L6,t=I6,a=Fce,r=()=>{const f=["Section","Title","Detail","Year","Amount/Impact"],h=[...a.map(b=>["Project",b.title,`${b.department}  ${b.status}`,b.year,b.budget]),...t.map(b=>["Grant",b.title,b.agency,b.year,b.amount]),...e.map(b=>["Publication",b.title,b.journal,b.year,b.impact])],g=[f.join(","),...h.map(b=>b.map(S=>`"${String(S).replace(/"/g,'""')}"`).join(","))].join(`
`),v=new Blob([g],{type:"text/csv;charset=utf-8;"}),y=URL.createObjectURL(v),j=document.createElement("a");j.href=y,j.download="oric-dashboard-data.csv",j.click(),URL.revokeObjectURL(y)},s=Object.values(a.reduce((f,h)=>(f[h.department]=f[h.department]||{department:h.department,count:0},f[h.department].count+=1,f),{})),l=["Active","Completed","Pending"].map(f=>({name:f,value:a.filter(h=>h.status===f).length})),c=Object.values(a.reduce((f,h)=>{const g=Number((h.budget||"0").replace(/[$,]/g,""));return f[h.year]=f[h.year]||{year:h.year,budget:0},f[h.year].budget+=g,f},{})).sort((f,h)=>f.year.localeCompare(h.year)),d=[...a].map(f=>({...f,budgetValue:Number((f.budget||"0").replace(/[$,]/g,""))})).sort((f,h)=>h.budgetValue-f.budgetValue).slice(0,4).map((f,h)=>({...f,fill:["#4f46e5","#0ea5e9","#22c55e","#f59e0b"][h%4]})),m=["#4f46e5","#0ea5e9","#22c55e","#f59e0b","#ef4444"];return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"ORIC Dashboard"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Key metrics and research performance at a glance."})]}),n.jsx(X,{variant:"primary",size:"sm",onClick:r,className:"shadow-md",children:"Download Excel (CSV)"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(wt,{title:"Active Grants",value:t.length,icon:ar,color:"success"}),n.jsx(wt,{title:"Publications",value:e.length,icon:ht,color:"info"})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[n.jsx(K,{title:"Projects by Department",children:n.jsx("div",{className:"h-72 min-w-0",children:n.jsx(dt,{width:"100%",height:"100%",minWidth:0,minHeight:0,children:n.jsxs(Mr,{data:s,margin:{top:10,right:10,left:-10,bottom:0},children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"deptGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#4f46e5",stopOpacity:.9}),n.jsx("stop",{offset:"100%",stopColor:"#a855f7",stopOpacity:.6})]})}),n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"department",stroke:"#6b7280",style:{fontSize:"0.8rem"}}),n.jsx(Jt,{stroke:"#6b7280",style:{fontSize:"0.8rem"},allowDecimals:!1}),n.jsx(ut,{}),n.jsx(Qn,{dataKey:"count",radius:[8,8,0,0],fill:"url(#deptGradient)"})]})})})}),n.jsx(K,{title:"Project Status Mix",children:n.jsx("div",{className:"h-72 min-w-0",children:n.jsx(dt,{width:"100%",height:"100%",minWidth:0,minHeight:0,children:n.jsxs(sr,{children:[n.jsx(Fa,{data:l,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:55,outerRadius:85,paddingAngle:2,label:!0,children:l.map((f,h)=>n.jsx(An,{fill:m[h%m.length]},f.name))}),n.jsx(ut,{}),n.jsx(tr,{verticalAlign:"bottom",height:36})]})})})}),n.jsx(K,{title:"Project Budget by Year",children:n.jsx("div",{className:"h-72 min-w-0",children:n.jsx(dt,{width:"100%",height:"100%",minWidth:0,minHeight:0,children:n.jsxs(vo,{data:c,margin:{top:10,right:10,left:-10,bottom:0},children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"budgetGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#22c55e",stopOpacity:.8}),n.jsx("stop",{offset:"100%",stopColor:"#bbf7d0",stopOpacity:.5})]})}),n.jsx(Xt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Qt,{dataKey:"year",stroke:"#6b7280",style:{fontSize:"0.8rem"}}),n.jsx(Jt,{stroke:"#6b7280",style:{fontSize:"0.8rem"},tickFormatter:f=>`$${Math.round(f/1e3)}k`}),n.jsx(ut,{formatter:f=>`$${f.toLocaleString()}`}),n.jsx(za,{type:"monotone",dataKey:"budget",stroke:"#22c55e",strokeWidth:3,fill:"url(#budgetGradient)"})]})})})}),n.jsx(K,{title:"Top Project Budgets",children:n.jsx("div",{className:"h-112 min-w-0",children:n.jsx(dt,{width:"100%",height:"100%",minWidth:0,minHeight:0,children:n.jsxs(dse,{cx:"50%",cy:"50%",innerRadius:"22%",outerRadius:"100%",barSize:16,data:d,children:[n.jsx(ER,{background:!0,dataKey:"budgetValue",cornerRadius:8,label:{position:"insideStart",fill:"#fff",fontSize:10,formatter:f=>`$${Math.round(f/1e3)}k`}}),n.jsx(tr,{iconSize:10,layout:"vertical",verticalAlign:"top",align:"right",wrapperStyle:{fontSize:11,lineHeight:"16px",right:8,top:8},formatter:(f,h)=>`${h.payload.title}`}),n.jsx(ut,{formatter:f=>`$${Number(f).toLocaleString()}`})]})})})})]}),n.jsx(K,{title:"Recent Publications",children:n.jsx("div",{className:"space-y-4",children:e.slice(0,5).map(f=>n.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:f.title}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[f.authors,"  ",f.journal]}),n.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[n.jsxs("span",{className:"text-xs text-gray-500",children:["Year: ",f.year]}),n.jsxs("span",{className:"text-xs font-medium text-blue-600",children:["Impact Factor: ",f.impact]})]})]},f.id))})}),n.jsx(K,{title:"Active Grants",children:n.jsx("div",{className:"space-y-3",children:t.map(f=>n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[n.jsx("h5",{className:"text-sm font-semibold text-gray-900",children:f.title}),n.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Agency: ",f.agency]}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("span",{className:"text-sm font-bold text-green-600",children:f.amount}),n.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-800 rounded-full",children:f.status})]})]},f.id))})})]})}function qce(){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Publications"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Research publications and journal articles."})]}),n.jsx(K,{title:"All Publications",children:n.jsx("div",{className:"space-y-4",children:L6.map(e=>n.jsx("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:e.title}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.authors,"  ",e.journal]}),n.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[n.jsxs("span",{className:"text-xs text-gray-500",children:["Year: ",e.year]}),n.jsxs("span",{className:"text-xs font-medium text-blue-600",children:["Impact Factor: ",e.impact]})]})]})})},e.id))})})]})}function Hce(){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Funding & Grants"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Overview of all grants and funding sources."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:I6.map(e=>n.jsx(K,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsx("h5",{className:"text-sm font-semibold text-gray-900",children:e.title}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Agency: ",e.agency]}),n.jsxs("div",{className:"border-t border-gray-200 pt-3 mt-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Amount:"}),n.jsx("span",{className:"text-sm font-bold text-green-600",children:e.amount})]}),n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Year:"}),n.jsx("span",{className:"text-sm text-gray-900",children:e.year})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Status:"}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${e.status==="Active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e.status})]})]})]})},e.id))})]})}function Vce(){const{isAuthenticated:e,user:t}=Qe();return n.jsx(JT,{children:n.jsxs(yi,{children:[n.jsx(Se,{path:"/login",element:n.jsx(m8,{})}),e?n.jsxs(n.Fragment,{children:[n.jsx(Se,{path:"/admin/*",element:n.jsx(B8,{})}),n.jsx(Se,{path:"/hr/*",element:n.jsx(Cie,{})}),n.jsx(Se,{path:"/dean/*",element:n.jsx(qie,{})}),n.jsx(Se,{path:"/hod/*",element:n.jsx(sle,{})}),n.jsx(Se,{path:"/employee/*",element:n.jsx(ice,{})}),n.jsx(Se,{path:"/president/*",element:n.jsx(vce,{})}),n.jsx(Se,{path:"/vc/*",element:n.jsx(Dce,{})}),n.jsx(Se,{path:"/finance/*",element:n.jsx(Ice,{})}),n.jsxs(Se,{path:"/oric/*",element:n.jsx(Bce,{}),children:[n.jsx(Se,{index:!0,element:n.jsx(Uce,{})}),n.jsx(Se,{path:"publications",element:n.jsx(qce,{})}),n.jsx(Se,{path:"funding",element:n.jsx(Hce,{})})]}),n.jsx(Se,{path:"/",element:n.jsx(ps,{to:nu[t?.primaryRole]||"/employee",replace:!0})})]}):n.jsx(Se,{path:"*",element:n.jsx(ps,{to:"/login",replace:!0})}),n.jsx(Se,{path:"*",element:n.jsx(f8,{})})]})})}TL.createRoot(document.getElementById("root")).render(n.jsx(De.StrictMode,{children:n.jsx(Vce,{})}));
