import{r as Ep,a as XT,g as $r,b as x,u as hj,c as QT,L as jn,N as R5,O as O4,d as Mi,e as Ce,f as Ns,R as Oe,h as pj,i as JT,B as eL}from"./react-vendor-CcSoP7QY.js";import{c as P4}from"./state-CGPujecI.js";import{f as U,s as Ke,a as gs,p as me,b as qa,e as Ha,d as rs,i as ws,c as po,g as tL,h as nL,j as aL,k as rL,l as sL,m as iL,n as lL,o as oL,q as cL,r as dL,t as uL,u as mL,v as fL,w as hL,x as pL,y as xL,z as gL,A as yL,B as vL,C as bL,D as jL,E as NL,F as wL,G as SL,H as AL,I as CL,J as ML,K as DL,L as k4}from"./date-utils-BZYJwz5H.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function a(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=a(s);fetch(s.href,l)}})();var H0={exports:{}},Qd={};var _5;function EL(){if(_5)return Qd;_5=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(r,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:e,type:r,key:c,ref:s!==void 0?s:null,props:l}}return Qd.Fragment=n,Qd.jsx=a,Qd.jsxs=a,Qd}var T5;function OL(){return T5||(T5=1,H0.exports=EL()),H0.exports}var t=OL(),U0={exports:{}},Jd={},V0={exports:{}},K0={};var L5;function PL(){return L5||(L5=1,(function(e){function n(W,R){var F=W.length;W.push(R);e:for(;0<F;){var q=F-1>>>1,Y=W[q];if(0<s(Y,R))W[q]=R,W[F]=Y,F=q;else break e}}function a(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var R=W[0],F=W.pop();if(F!==R){W[0]=F;e:for(var q=0,Y=W.length,ae=Y>>>1;q<ae;){var je=2*(q+1)-1,V=W[je],fe=je+1,Ne=W[fe];if(0>s(V,F))fe<Y&&0>s(Ne,V)?(W[q]=Ne,W[fe]=F,q=fe):(W[q]=V,W[je]=F,q=je);else if(fe<Y&&0>s(Ne,F))W[q]=Ne,W[fe]=F,q=fe;else break e}}return R}function s(W,R){var F=W.sortIndex-R.sortIndex;return F!==0?F:W.id-R.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],f=[],h=1,g=null,y=3,v=!1,j=!1,b=!1,w=!1,M=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function E(W){for(var R=a(f);R!==null;){if(R.callback===null)r(f);else if(R.startTime<=W)r(f),R.sortIndex=R.expirationTime,n(m,R);else break;R=a(f)}}function D(W){if(b=!1,E(W),!j)if(a(m)!==null)j=!0,P||(P=!0,z());else{var R=a(f);R!==null&&G(D,R.startTime-W)}}var P=!1,T=-1,O=5,k=-1;function B(){return w?!0:!(e.unstable_now()-k<O)}function I(){if(w=!1,P){var W=e.unstable_now();k=W;var R=!0;try{e:{j=!1,b&&(b=!1,S(T),T=-1),v=!0;var F=y;try{t:{for(E(W),g=a(m);g!==null&&!(g.expirationTime>W&&B());){var q=g.callback;if(typeof q=="function"){g.callback=null,y=g.priorityLevel;var Y=q(g.expirationTime<=W);if(W=e.unstable_now(),typeof Y=="function"){g.callback=Y,E(W),R=!0;break t}g===a(m)&&r(m),E(W)}else r(m);g=a(m)}if(g!==null)R=!0;else{var ae=a(f);ae!==null&&G(D,ae.startTime-W),R=!1}}break e}finally{g=null,y=F,v=!1}R=void 0}}finally{R?z():P=!1}}}var z;if(typeof A=="function")z=function(){A(I)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,L=J.port2;J.port1.onmessage=I,z=function(){L.postMessage(null)}}else z=function(){M(I,0)};function G(W,R){T=M(function(){W(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(W){switch(y){case 1:case 2:case 3:var R=3;break;default:R=y}var F=y;y=R;try{return W()}finally{y=F}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(W,R){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var F=y;y=W;try{return R()}finally{y=F}},e.unstable_scheduleCallback=function(W,R,F){var q=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?q+F:q):F=q,W){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=F+Y,W={id:h++,callback:R,priorityLevel:W,startTime:F,expirationTime:Y,sortIndex:-1},F>q?(W.sortIndex=F,n(f,W),a(m)===null&&W===a(f)&&(b?(S(T),T=-1):b=!0,G(D,F-q))):(W.sortIndex=Y,n(m,W),j||v||(j=!0,P||(P=!0,z()))),W},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(W){var R=y;return function(){var F=y;y=R;try{return W.apply(this,arguments)}finally{y=F}}}})(K0)),K0}var I5;function kL(){return I5||(I5=1,V0.exports=PL()),V0.exports}var z5;function RL(){if(z5)return Jd;z5=1;var e=kL(),n=Ep(),a=XT();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(r(188))}function f(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,p=o;;){var N=u.return;if(N===null)break;var C=N.alternate;if(C===null){if(p=N.return,p!==null){u=p;continue}break}if(N.child===C.child){for(C=N.child;C;){if(C===u)return m(N),i;if(C===p)return m(N),o;C=C.sibling}throw Error(r(188))}if(u.return!==p.return)u=N,p=C;else{for(var _=!1,$=N.child;$;){if($===u){_=!0,u=N,p=C;break}if($===p){_=!0,p=N,u=C;break}$=$.sibling}if(!_){for($=C.child;$;){if($===u){_=!0,u=C,p=N;break}if($===p){_=!0,p=C,u=N;break}$=$.sibling}if(!_)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),A=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=I&&i[I]||i["@@iterator"],typeof i=="function"?i:null)}var J=Symbol.for("react.client.reference");function L(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===J?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case b:return"Fragment";case M:return"Profiler";case w:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList";case k:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case A:return i.displayName||"Context";case S:return(i._context.displayName||"Context")+".Consumer";case E:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case T:return o=i.displayName||null,o!==null?o:L(i.type)||"Memo";case O:o=i._payload,i=i._init;try{return L(i(o))}catch{}}return null}var G=Array.isArray,W=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},q=[],Y=-1;function ae(i){return{current:i}}function je(i){0>Y||(i.current=q[Y],q[Y]=null,Y--)}function V(i,o){Y++,q[Y]=i.current,i.current=o}var fe=ae(null),Ne=ae(null),se=ae(null),Se=ae(null);function Ae(i,o){switch(V(se,o),V(Ne,i),V(fe,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?n5(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=n5(o),i=a5(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}je(fe),V(fe,i)}function ne(){je(fe),je(Ne),je(se)}function Me(i){i.memoizedState!==null&&V(Se,i);var o=fe.current,u=a5(o,i.type);o!==u&&(V(Ne,i),V(fe,u))}function De(i){Ne.current===i&&(je(fe),je(Ne)),Se.current===i&&(je(Se),Yd._currentValue=F)}var pe,it;function Le(i){if(pe===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);pe=o&&o[1]||"",it=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+i+it}var ke=!1;function Ie(i,o){if(!i||ke)return"";ke=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(he){var de=he}Reflect.construct(i,[],be)}else{try{be.call()}catch(he){de=he}i.call(be.prototype)}}else{try{throw Error()}catch(he){de=he}(be=i())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(he){if(he&&de&&typeof he.stack=="string")return[he.stack,de.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=p.DetermineComponentFrameRoot(),_=C[0],$=C[1];if(_&&$){var Q=_.split(`
`),ce=$.split(`
`);for(N=p=0;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;for(;N<ce.length&&!ce[N].includes("DetermineComponentFrameRoot");)N++;if(p===Q.length||N===ce.length)for(p=Q.length-1,N=ce.length-1;1<=p&&0<=N&&Q[p]!==ce[N];)N--;for(;1<=p&&0<=N;p--,N--)if(Q[p]!==ce[N]){if(p!==1||N!==1)do if(p--,N--,0>N||Q[p]!==ce[N]){var xe=`
`+Q[p].replace(" at new "," at ");return i.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",i.displayName)),xe}while(1<=p&&0<=N);break}}}finally{ke=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Le(u):""}function Zt(i,o){switch(i.tag){case 26:case 27:case 5:return Le(i.type);case 16:return Le("Lazy");case 13:return i.child!==o&&o!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return Ie(i.type,!1);case 11:return Ie(i.type.render,!1);case 1:return Ie(i.type,!0);case 31:return Le("Activity");default:return""}}function Ye(i){try{var o="",u=null;do o+=Zt(i,u),u=i,i=i.return;while(i);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var jt=Object.prototype.hasOwnProperty,X=e.unstable_scheduleCallback,re=e.unstable_cancelCallback,ue=e.unstable_shouldYield,Re=e.unstable_requestPaint,ye=e.unstable_now,we=e.unstable_getCurrentPriorityLevel,Ee=e.unstable_ImmediatePriority,Ze=e.unstable_UserBlockingPriority,et=e.unstable_NormalPriority,sn=e.unstable_LowPriority,la=e.unstable_IdlePriority,ln=e.log,mn=e.unstable_setDisableYieldValue,Vt=null,fn=null;function Ca(i){if(typeof ln=="function"&&mn(i),fn&&typeof fn.setStrictMode=="function")try{fn.setStrictMode(Vt,i)}catch{}}var _n=Math.clz32?Math.clz32:lt,zi=Math.log,Bi=Math.LN2;function lt(i){return i>>>=0,i===0?32:31-(zi(i)/Bi|0)|0}var Mt=256,tt=262144,Nt=4194304;function Tn(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function dt(i,o,u){var p=i.pendingLanes;if(p===0)return 0;var N=0,C=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var $=p&134217727;return $!==0?(p=$&~C,p!==0?N=Tn(p):(_&=$,_!==0?N=Tn(_):u||(u=$&~i,u!==0&&(N=Tn(u))))):($=p&~C,$!==0?N=Tn($):_!==0?N=Tn(_):u||(u=p&~i,u!==0&&(N=Tn(u)))),N===0?0:o!==0&&o!==N&&(o&C)===0&&(C=N&-N,u=o&-o,C>=u||C===32&&(u&4194048)!==0)?o:N}function _s(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function id(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Do(){var i=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),i}function Ts(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Ga(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ld(i,o,u,p,N,C){var _=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var $=i.entanglements,Q=i.expirationTimes,ce=i.hiddenUpdates;for(u=_&~u;0<u;){var xe=31-_n(u),be=1<<xe;$[xe]=0,Q[xe]=-1;var de=ce[xe];if(de!==null)for(ce[xe]=null,xe=0;xe<de.length;xe++){var he=de[xe];he!==null&&(he.lane&=-536870913)}u&=~be}p!==0&&Ls(i,p,0),C!==0&&N===0&&i.tag!==0&&(i.suspendedLanes|=C&~(_&~o))}function Ls(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-_n(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|u&261930}function Ur(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var p=31-_n(u),N=1<<p;N&o|i[p]&o&&(i[p]|=o),u&=~N}}function km(i,o){var u=o&-o;return u=(u&42)!==0?1:od(u),(u&(i.suspendedLanes|o))!==0?0:u}function od(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function K(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Te(){var i=R.p;return i!==0?i:(i=window.event,i===void 0?32:C5(i.type))}function Za(i,o){var u=R.p;try{return R.p=i,o()}finally{R.p=u}}var Xn=Math.random().toString(36).slice(2),vn="__reactFiber$"+Xn,Ma="__reactProps$"+Xn,Eo="__reactContainer$"+Xn,_x="__reactEvents$"+Xn,$6="__reactListeners$"+Xn,F6="__reactHandles$"+Xn,H1="__reactResources$"+Xn,cd="__reactMarker$"+Xn;function Tx(i){delete i[vn],delete i[Ma],delete i[_x],delete i[$6],delete i[F6]}function Oo(i){var o=i[vn];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Eo]||u[vn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=d5(i);i!==null;){if(u=i[vn])return u;i=d5(i)}return o}i=u,u=i.parentNode}return null}function Po(i){if(i=i[vn]||i[Eo]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function dd(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function ko(i){var o=i[H1];return o||(o=i[H1]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Qn(i){i[cd]=!0}var U1=new Set,V1={};function Al(i,o){Ro(i,o),Ro(i+"Capture",o)}function Ro(i,o){for(V1[i]=o,i=0;i<o.length;i++)U1.add(o[i])}var q6=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),K1={},W1={};function H6(i){return jt.call(W1,i)?!0:jt.call(K1,i)?!1:q6.test(i)?W1[i]=!0:(K1[i]=!0,!1)}function Rm(i,o,u){if(H6(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function _m(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function Is(i,o,u,p){if(p===null)i.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+p)}}function gr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Y1(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function U6(i,o,u){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var N=p.get,C=p.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return N.call(this)},set:function(_){u=""+_,C.call(this,_)}}),Object.defineProperty(i,o,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Lx(i){if(!i._valueTracker){var o=Y1(i)?"checked":"value";i._valueTracker=U6(i,o,""+i[o])}}function G1(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return i&&(p=Y1(i)?i.checked?"true":"false":i.value),i=p,i!==u?(o.setValue(i),!0):!1}function Tm(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var V6=/[\n"\\]/g;function yr(i){return i.replace(V6,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ix(i,o,u,p,N,C,_,$){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),o!=null?_==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+gr(o)):i.value!==""+gr(o)&&(i.value=""+gr(o)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),o!=null?zx(i,_,gr(o)):u!=null?zx(i,_,gr(u)):p!=null&&i.removeAttribute("value"),N==null&&C!=null&&(i.defaultChecked=!!C),N!=null&&(i.checked=N&&typeof N!="function"&&typeof N!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?i.name=""+gr($):i.removeAttribute("name")}function Z1(i,o,u,p,N,C,_,$){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.type=C),o!=null||u!=null){if(!(C!=="submit"&&C!=="reset"||o!=null)){Lx(i);return}u=u!=null?""+gr(u):"",o=o!=null?""+gr(o):u,$||o===i.value||(i.value=o),i.defaultValue=o}p=p??N,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=$?i.checked:!!p,i.defaultChecked=!!p,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),Lx(i)}function zx(i,o,u){o==="number"&&Tm(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function _o(i,o,u,p){if(i=i.options,o){o={};for(var N=0;N<u.length;N++)o["$"+u[N]]=!0;for(u=0;u<i.length;u++)N=o.hasOwnProperty("$"+i[u].value),i[u].selected!==N&&(i[u].selected=N),N&&p&&(i[u].defaultSelected=!0)}else{for(u=""+gr(u),o=null,N=0;N<i.length;N++){if(i[N].value===u){i[N].selected=!0,p&&(i[N].defaultSelected=!0);return}o!==null||i[N].disabled||(o=i[N])}o!==null&&(o.selected=!0)}}function X1(i,o,u){if(o!=null&&(o=""+gr(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+gr(u):""}function Q1(i,o,u,p){if(o==null){if(p!=null){if(u!=null)throw Error(r(92));if(G(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),o=u}u=gr(o),i.defaultValue=u,p=i.textContent,p===u&&p!==""&&p!==null&&(i.value=p),Lx(i)}function To(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var K6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function J1(i,o,u){var p=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,u):typeof u!="number"||u===0||K6.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function ew(i,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var N in o)p=o[N],o.hasOwnProperty(N)&&u[N]!==p&&J1(i,N,p)}else for(var C in o)o.hasOwnProperty(C)&&J1(i,C,o[C])}function Bx(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Y6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lm(i){return Y6.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function zs(){}var $x=null;function Fx(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Lo=null,Io=null;function tw(i){var o=Po(i);if(o&&(i=o.stateNode)){var u=i[Ma]||null;e:switch(i=o.stateNode,o.type){case"input":if(Ix(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+yr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==i&&p.form===i.form){var N=p[Ma]||null;if(!N)throw Error(r(90));Ix(p,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(o=0;o<u.length;o++)p=u[o],p.form===i.form&&G1(p)}break e;case"textarea":X1(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&_o(i,!!u.multiple,o,!1)}}}var qx=!1;function nw(i,o,u){if(qx)return i(o,u);qx=!0;try{var p=i(o);return p}finally{if(qx=!1,(Lo!==null||Io!==null)&&(Sf(),Lo&&(o=Lo,i=Io,Io=Lo=null,tw(o),i)))for(o=0;o<i.length;o++)tw(i[o])}}function ud(i,o){var u=i.stateNode;if(u===null)return null;var p=u[Ma]||null;if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hx=!1;if(Bs)try{var md={};Object.defineProperty(md,"passive",{get:function(){Hx=!0}}),window.addEventListener("test",md,md),window.removeEventListener("test",md,md)}catch{Hx=!1}var $i=null,Ux=null,Im=null;function aw(){if(Im)return Im;var i,o=Ux,u=o.length,p,N="value"in $i?$i.value:$i.textContent,C=N.length;for(i=0;i<u&&o[i]===N[i];i++);var _=u-i;for(p=1;p<=_&&o[u-p]===N[C-p];p++);return Im=N.slice(i,1<p?1-p:void 0)}function zm(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Bm(){return!0}function rw(){return!1}function Da(i){function o(u,p,N,C,_){this._reactName=u,this._targetInst=N,this.type=p,this.nativeEvent=C,this.target=_,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(u=i[$],this[$]=u?u(C):C[$]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Bm:rw,this.isPropagationStopped=rw,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Bm)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Bm)},persist:function(){},isPersistent:Bm}),o}var Cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$m=Da(Cl),fd=g({},Cl,{view:0,detail:0}),G6=Da(fd),Vx,Kx,hd,Fm=g({},fd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yx,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==hd&&(hd&&i.type==="mousemove"?(Vx=i.screenX-hd.screenX,Kx=i.screenY-hd.screenY):Kx=Vx=0,hd=i),Vx)},movementY:function(i){return"movementY"in i?i.movementY:Kx}}),sw=Da(Fm),Z6=g({},Fm,{dataTransfer:0}),X6=Da(Z6),Q6=g({},fd,{relatedTarget:0}),Wx=Da(Q6),J6=g({},Cl,{animationName:0,elapsedTime:0,pseudoElement:0}),e_=Da(J6),t_=g({},Cl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),n_=Da(t_),a_=g({},Cl,{data:0}),iw=Da(a_),r_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l_(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=i_[i])?!!o[i]:!1}function Yx(){return l_}var o_=g({},fd,{key:function(i){if(i.key){var o=r_[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=zm(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?s_[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yx,charCode:function(i){return i.type==="keypress"?zm(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?zm(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),c_=Da(o_),d_=g({},Fm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lw=Da(d_),u_=g({},fd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yx}),m_=Da(u_),f_=g({},Cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),h_=Da(f_),p_=g({},Fm,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),x_=Da(p_),g_=g({},Cl,{newState:0,oldState:0}),y_=Da(g_),v_=[9,13,27,32],Gx=Bs&&"CompositionEvent"in window,pd=null;Bs&&"documentMode"in document&&(pd=document.documentMode);var b_=Bs&&"TextEvent"in window&&!pd,ow=Bs&&(!Gx||pd&&8<pd&&11>=pd),cw=" ",dw=!1;function uw(i,o){switch(i){case"keyup":return v_.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mw(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var zo=!1;function j_(i,o){switch(i){case"compositionend":return mw(o);case"keypress":return o.which!==32?null:(dw=!0,cw);case"textInput":return i=o.data,i===cw&&dw?null:i;default:return null}}function N_(i,o){if(zo)return i==="compositionend"||!Gx&&uw(i,o)?(i=aw(),Im=Ux=$i=null,zo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ow&&o.locale!=="ko"?null:o.data;default:return null}}var w_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fw(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!w_[i.type]:o==="textarea"}function hw(i,o,u,p){Lo?Io?Io.push(p):Io=[p]:Lo=p,o=Pf(o,"onChange"),0<o.length&&(u=new $m("onChange","change",null,u,p),i.push({event:u,listeners:o}))}var xd=null,gd=null;function S_(i){ZS(i,0)}function qm(i){var o=dd(i);if(G1(o))return i}function pw(i,o){if(i==="change")return o}var xw=!1;if(Bs){var Zx;if(Bs){var Xx="oninput"in document;if(!Xx){var gw=document.createElement("div");gw.setAttribute("oninput","return;"),Xx=typeof gw.oninput=="function"}Zx=Xx}else Zx=!1;xw=Zx&&(!document.documentMode||9<document.documentMode)}function yw(){xd&&(xd.detachEvent("onpropertychange",vw),gd=xd=null)}function vw(i){if(i.propertyName==="value"&&qm(gd)){var o=[];hw(o,gd,i,Fx(i)),nw(S_,o)}}function A_(i,o,u){i==="focusin"?(yw(),xd=o,gd=u,xd.attachEvent("onpropertychange",vw)):i==="focusout"&&yw()}function C_(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return qm(gd)}function M_(i,o){if(i==="click")return qm(o)}function D_(i,o){if(i==="input"||i==="change")return qm(o)}function E_(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Xa=typeof Object.is=="function"?Object.is:E_;function yd(i,o){if(Xa(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var N=u[p];if(!jt.call(o,N)||!Xa(i[N],o[N]))return!1}return!0}function bw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function jw(i,o){var u=bw(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=o&&p>=o)return{node:u,offset:o-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=bw(u)}}function Nw(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Nw(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function ww(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Tm(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Tm(i.document)}return o}function Qx(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var O_=Bs&&"documentMode"in document&&11>=document.documentMode,Bo=null,Jx=null,vd=null,eg=!1;function Sw(i,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;eg||Bo==null||Bo!==Tm(p)||(p=Bo,"selectionStart"in p&&Qx(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),vd&&yd(vd,p)||(vd=p,p=Pf(Jx,"onSelect"),0<p.length&&(o=new $m("onSelect","select",null,o,u),i.push({event:o,listeners:p}),o.target=Bo)))}function Ml(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var $o={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionrun:Ml("Transition","TransitionRun"),transitionstart:Ml("Transition","TransitionStart"),transitioncancel:Ml("Transition","TransitionCancel"),transitionend:Ml("Transition","TransitionEnd")},tg={},Aw={};Bs&&(Aw=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function Dl(i){if(tg[i])return tg[i];if(!$o[i])return i;var o=$o[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Aw)return tg[i]=o[u];return i}var Cw=Dl("animationend"),Mw=Dl("animationiteration"),Dw=Dl("animationstart"),P_=Dl("transitionrun"),k_=Dl("transitionstart"),R_=Dl("transitioncancel"),Ew=Dl("transitionend"),Ow=new Map,ng="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ng.push("scrollEnd");function Vr(i,o){Ow.set(i,o),Al(o,[i])}var Hm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},vr=[],Fo=0,ag=0;function Um(){for(var i=Fo,o=ag=Fo=0;o<i;){var u=vr[o];vr[o++]=null;var p=vr[o];vr[o++]=null;var N=vr[o];vr[o++]=null;var C=vr[o];if(vr[o++]=null,p!==null&&N!==null){var _=p.pending;_===null?N.next=N:(N.next=_.next,_.next=N),p.pending=N}C!==0&&Pw(u,N,C)}}function Vm(i,o,u,p){vr[Fo++]=i,vr[Fo++]=o,vr[Fo++]=u,vr[Fo++]=p,ag|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function rg(i,o,u,p){return Vm(i,o,u,p),Km(i)}function El(i,o){return Vm(i,null,null,o),Km(i)}function Pw(i,o,u){i.lanes|=u;var p=i.alternate;p!==null&&(p.lanes|=u);for(var N=!1,C=i.return;C!==null;)C.childLanes|=u,p=C.alternate,p!==null&&(p.childLanes|=u),C.tag===22&&(i=C.stateNode,i===null||i._visibility&1||(N=!0)),i=C,C=C.return;return i.tag===3?(C=i.stateNode,N&&o!==null&&(N=31-_n(u),i=C.hiddenUpdates,p=i[N],p===null?i[N]=[o]:p.push(o),o.lane=u|536870912),C):null}function Km(i){if(50<Fd)throw Fd=0,f0=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var qo={};function __(i,o,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qa(i,o,u,p){return new __(i,o,u,p)}function sg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $s(i,o){var u=i.alternate;return u===null?(u=Qa(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function kw(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Wm(i,o,u,p,N,C){var _=0;if(p=i,typeof i=="function")sg(i)&&(_=1);else if(typeof i=="string")_=BT(i,u,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case k:return i=Qa(31,u,o,N),i.elementType=k,i.lanes=C,i;case b:return Ol(u.children,N,C,o);case w:_=8,N|=24;break;case M:return i=Qa(12,u,o,N|2),i.elementType=M,i.lanes=C,i;case D:return i=Qa(13,u,o,N),i.elementType=D,i.lanes=C,i;case P:return i=Qa(19,u,o,N),i.elementType=P,i.lanes=C,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:_=10;break e;case S:_=9;break e;case E:_=11;break e;case T:_=14;break e;case O:_=16,p=null;break e}_=29,u=Error(r(130,i===null?"null":typeof i,"")),p=null}return o=Qa(_,u,o,N),o.elementType=i,o.type=p,o.lanes=C,o}function Ol(i,o,u,p){return i=Qa(7,i,p,o),i.lanes=u,i}function ig(i,o,u){return i=Qa(6,i,null,o),i.lanes=u,i}function Rw(i){var o=Qa(18,null,null,0);return o.stateNode=i,o}function lg(i,o,u){return o=Qa(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var _w=new WeakMap;function br(i,o){if(typeof i=="object"&&i!==null){var u=_w.get(i);return u!==void 0?u:(o={value:i,source:o,stack:Ye(o)},_w.set(i,o),o)}return{value:i,source:o,stack:Ye(o)}}var Ho=[],Uo=0,Ym=null,bd=0,jr=[],Nr=0,Fi=null,os=1,cs="";function Fs(i,o){Ho[Uo++]=bd,Ho[Uo++]=Ym,Ym=i,bd=o}function Tw(i,o,u){jr[Nr++]=os,jr[Nr++]=cs,jr[Nr++]=Fi,Fi=i;var p=os;i=cs;var N=32-_n(p)-1;p&=~(1<<N),u+=1;var C=32-_n(o)+N;if(30<C){var _=N-N%5;C=(p&(1<<_)-1).toString(32),p>>=_,N-=_,os=1<<32-_n(o)+N|u<<N|p,cs=C+i}else os=1<<C|u<<N|p,cs=i}function og(i){i.return!==null&&(Fs(i,1),Tw(i,1,0))}function cg(i){for(;i===Ym;)Ym=Ho[--Uo],Ho[Uo]=null,bd=Ho[--Uo],Ho[Uo]=null;for(;i===Fi;)Fi=jr[--Nr],jr[Nr]=null,cs=jr[--Nr],jr[Nr]=null,os=jr[--Nr],jr[Nr]=null}function Lw(i,o){jr[Nr++]=os,jr[Nr++]=cs,jr[Nr++]=Fi,os=o.id,cs=o.overflow,Fi=i}var oa=null,on=null,Ct=!1,qi=null,wr=!1,dg=Error(r(519));function Hi(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jd(br(o,i)),dg}function Iw(i){var o=i.stateNode,u=i.type,p=i.memoizedProps;switch(o[vn]=i,o[Ma]=p,u){case"dialog":vt("cancel",o),vt("close",o);break;case"iframe":case"object":case"embed":vt("load",o);break;case"video":case"audio":for(u=0;u<Hd.length;u++)vt(Hd[u],o);break;case"source":vt("error",o);break;case"img":case"image":case"link":vt("error",o),vt("load",o);break;case"details":vt("toggle",o);break;case"input":vt("invalid",o),Z1(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":vt("invalid",o);break;case"textarea":vt("invalid",o),Q1(o,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||p.suppressHydrationWarning===!0||e5(o.textContent,u)?(p.popover!=null&&(vt("beforetoggle",o),vt("toggle",o)),p.onScroll!=null&&vt("scroll",o),p.onScrollEnd!=null&&vt("scrollend",o),p.onClick!=null&&(o.onclick=zs),o=!0):o=!1,o||Hi(i,!0)}function zw(i){for(oa=i.return;oa;)switch(oa.tag){case 5:case 31:case 13:wr=!1;return;case 27:case 3:wr=!0;return;default:oa=oa.return}}function Vo(i){if(i!==oa)return!1;if(!Ct)return zw(i),Ct=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||D0(i.type,i.memoizedProps)),u=!u),u&&on&&Hi(i),zw(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));on=c5(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));on=c5(i)}else o===27?(o=on,al(i.type)?(i=R0,R0=null,on=i):on=o):on=oa?Ar(i.stateNode.nextSibling):null;return!0}function Pl(){on=oa=null,Ct=!1}function ug(){var i=qi;return i!==null&&(ka===null?ka=i:ka.push.apply(ka,i),qi=null),i}function jd(i){qi===null?qi=[i]:qi.push(i)}var mg=ae(null),kl=null,qs=null;function Ui(i,o,u){V(mg,o._currentValue),o._currentValue=u}function Hs(i){i._currentValue=mg.current,je(mg)}function fg(i,o,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===u)break;i=i.return}}function hg(i,o,u,p){var N=i.child;for(N!==null&&(N.return=i);N!==null;){var C=N.dependencies;if(C!==null){var _=N.child;C=C.firstContext;e:for(;C!==null;){var $=C;C=N;for(var Q=0;Q<o.length;Q++)if($.context===o[Q]){C.lanes|=u,$=C.alternate,$!==null&&($.lanes|=u),fg(C.return,u,i),p||(_=null);break e}C=$.next}}else if(N.tag===18){if(_=N.return,_===null)throw Error(r(341));_.lanes|=u,C=_.alternate,C!==null&&(C.lanes|=u),fg(_,u,i),_=null}else _=N.child;if(_!==null)_.return=N;else for(_=N;_!==null;){if(_===i){_=null;break}if(N=_.sibling,N!==null){N.return=_.return,_=N;break}_=_.return}N=_}}function Ko(i,o,u,p){i=null;for(var N=o,C=!1;N!==null;){if(!C){if((N.flags&524288)!==0)C=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var _=N.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var $=N.type;Xa(N.pendingProps.value,_.value)||(i!==null?i.push($):i=[$])}}else if(N===Se.current){if(_=N.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(i!==null?i.push(Yd):i=[Yd])}N=N.return}i!==null&&hg(o,i,u,p),o.flags|=262144}function Gm(i){for(i=i.firstContext;i!==null;){if(!Xa(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Rl(i){kl=i,qs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ca(i){return Bw(kl,i)}function Zm(i,o){return kl===null&&Rl(i),Bw(i,o)}function Bw(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},qs===null){if(i===null)throw Error(r(308));qs=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else qs=qs.next=o;return u}var T_=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},L_=e.unstable_scheduleCallback,I_=e.unstable_NormalPriority,Ln={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pg(){return{controller:new T_,data:new Map,refCount:0}}function Nd(i){i.refCount--,i.refCount===0&&L_(I_,function(){i.controller.abort()})}var wd=null,xg=0,Wo=0,Yo=null;function z_(i,o){if(wd===null){var u=wd=[];xg=0,Wo=v0(),Yo={status:"pending",value:void 0,then:function(p){u.push(p)}}}return xg++,o.then($w,$w),o}function $w(){if(--xg===0&&wd!==null){Yo!==null&&(Yo.status="fulfilled");var i=wd;wd=null,Wo=0,Yo=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function B_(i,o){var u=[],p={status:"pending",value:null,reason:null,then:function(N){u.push(N)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var N=0;N<u.length;N++)(0,u[N])(o)},function(N){for(p.status="rejected",p.reason=N,N=0;N<u.length;N++)(0,u[N])(void 0)}),p}var Fw=W.S;W.S=function(i,o){SS=ye(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&z_(i,o),Fw!==null&&Fw(i,o)};var _l=ae(null);function gg(){var i=_l.current;return i!==null?i:Xt.pooledCache}function Xm(i,o){o===null?V(_l,_l.current):V(_l,o.pool)}function qw(){var i=gg();return i===null?null:{parent:Ln._currentValue,pool:i}}var Go=Error(r(460)),yg=Error(r(474)),Qm=Error(r(542)),Jm={then:function(){}};function Hw(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Uw(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(zs,zs),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Kw(i),i;default:if(typeof o.status=="string")o.then(zs,zs);else{if(i=Xt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var N=o;N.status="fulfilled",N.value=p}},function(p){if(o.status==="pending"){var N=o;N.status="rejected",N.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Kw(i),i}throw Ll=o,Go}}function Tl(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ll=u,Go):u}}var Ll=null;function Vw(){if(Ll===null)throw Error(r(459));var i=Ll;return Ll=null,i}function Kw(i){if(i===Go||i===Qm)throw Error(r(483))}var Zo=null,Sd=0;function ef(i){var o=Sd;return Sd+=1,Zo===null&&(Zo=[]),Uw(Zo,i,o)}function Ad(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function tf(i,o){throw o.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function Ww(i){function o(ie,ee){if(i){var oe=ie.deletions;oe===null?(ie.deletions=[ee],ie.flags|=16):oe.push(ee)}}function u(ie,ee){if(!i)return null;for(;ee!==null;)o(ie,ee),ee=ee.sibling;return null}function p(ie){for(var ee=new Map;ie!==null;)ie.key!==null?ee.set(ie.key,ie):ee.set(ie.index,ie),ie=ie.sibling;return ee}function N(ie,ee){return ie=$s(ie,ee),ie.index=0,ie.sibling=null,ie}function C(ie,ee,oe){return ie.index=oe,i?(oe=ie.alternate,oe!==null?(oe=oe.index,oe<ee?(ie.flags|=67108866,ee):oe):(ie.flags|=67108866,ee)):(ie.flags|=1048576,ee)}function _(ie){return i&&ie.alternate===null&&(ie.flags|=67108866),ie}function $(ie,ee,oe,ge){return ee===null||ee.tag!==6?(ee=ig(oe,ie.mode,ge),ee.return=ie,ee):(ee=N(ee,oe),ee.return=ie,ee)}function Q(ie,ee,oe,ge){var Ge=oe.type;return Ge===b?xe(ie,ee,oe.props.children,ge,oe.key):ee!==null&&(ee.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===O&&Tl(Ge)===ee.type)?(ee=N(ee,oe.props),Ad(ee,oe),ee.return=ie,ee):(ee=Wm(oe.type,oe.key,oe.props,null,ie.mode,ge),Ad(ee,oe),ee.return=ie,ee)}function ce(ie,ee,oe,ge){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==oe.containerInfo||ee.stateNode.implementation!==oe.implementation?(ee=lg(oe,ie.mode,ge),ee.return=ie,ee):(ee=N(ee,oe.children||[]),ee.return=ie,ee)}function xe(ie,ee,oe,ge,Ge){return ee===null||ee.tag!==7?(ee=Ol(oe,ie.mode,ge,Ge),ee.return=ie,ee):(ee=N(ee,oe),ee.return=ie,ee)}function be(ie,ee,oe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=ig(""+ee,ie.mode,oe),ee.return=ie,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:return oe=Wm(ee.type,ee.key,ee.props,null,ie.mode,oe),Ad(oe,ee),oe.return=ie,oe;case j:return ee=lg(ee,ie.mode,oe),ee.return=ie,ee;case O:return ee=Tl(ee),be(ie,ee,oe)}if(G(ee)||z(ee))return ee=Ol(ee,ie.mode,oe,null),ee.return=ie,ee;if(typeof ee.then=="function")return be(ie,ef(ee),oe);if(ee.$$typeof===A)return be(ie,Zm(ie,ee),oe);tf(ie,ee)}return null}function de(ie,ee,oe,ge){var Ge=ee!==null?ee.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Ge!==null?null:$(ie,ee,""+oe,ge);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case v:return oe.key===Ge?Q(ie,ee,oe,ge):null;case j:return oe.key===Ge?ce(ie,ee,oe,ge):null;case O:return oe=Tl(oe),de(ie,ee,oe,ge)}if(G(oe)||z(oe))return Ge!==null?null:xe(ie,ee,oe,ge,null);if(typeof oe.then=="function")return de(ie,ee,ef(oe),ge);if(oe.$$typeof===A)return de(ie,ee,Zm(ie,oe),ge);tf(ie,oe)}return null}function he(ie,ee,oe,ge,Ge){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ie=ie.get(oe)||null,$(ee,ie,""+ge,Ge);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case v:return ie=ie.get(ge.key===null?oe:ge.key)||null,Q(ee,ie,ge,Ge);case j:return ie=ie.get(ge.key===null?oe:ge.key)||null,ce(ee,ie,ge,Ge);case O:return ge=Tl(ge),he(ie,ee,oe,ge,Ge)}if(G(ge)||z(ge))return ie=ie.get(oe)||null,xe(ee,ie,ge,Ge,null);if(typeof ge.then=="function")return he(ie,ee,oe,ef(ge),Ge);if(ge.$$typeof===A)return he(ie,ee,oe,Zm(ee,ge),Ge);tf(ee,ge)}return null}function Fe(ie,ee,oe,ge){for(var Ge=null,Pt=null,qe=ee,ut=ee=0,St=null;qe!==null&&ut<oe.length;ut++){qe.index>ut?(St=qe,qe=null):St=qe.sibling;var kt=de(ie,qe,oe[ut],ge);if(kt===null){qe===null&&(qe=St);break}i&&qe&&kt.alternate===null&&o(ie,qe),ee=C(kt,ee,ut),Pt===null?Ge=kt:Pt.sibling=kt,Pt=kt,qe=St}if(ut===oe.length)return u(ie,qe),Ct&&Fs(ie,ut),Ge;if(qe===null){for(;ut<oe.length;ut++)qe=be(ie,oe[ut],ge),qe!==null&&(ee=C(qe,ee,ut),Pt===null?Ge=qe:Pt.sibling=qe,Pt=qe);return Ct&&Fs(ie,ut),Ge}for(qe=p(qe);ut<oe.length;ut++)St=he(qe,ie,ut,oe[ut],ge),St!==null&&(i&&St.alternate!==null&&qe.delete(St.key===null?ut:St.key),ee=C(St,ee,ut),Pt===null?Ge=St:Pt.sibling=St,Pt=St);return i&&qe.forEach(function(ol){return o(ie,ol)}),Ct&&Fs(ie,ut),Ge}function Xe(ie,ee,oe,ge){if(oe==null)throw Error(r(151));for(var Ge=null,Pt=null,qe=ee,ut=ee=0,St=null,kt=oe.next();qe!==null&&!kt.done;ut++,kt=oe.next()){qe.index>ut?(St=qe,qe=null):St=qe.sibling;var ol=de(ie,qe,kt.value,ge);if(ol===null){qe===null&&(qe=St);break}i&&qe&&ol.alternate===null&&o(ie,qe),ee=C(ol,ee,ut),Pt===null?Ge=ol:Pt.sibling=ol,Pt=ol,qe=St}if(kt.done)return u(ie,qe),Ct&&Fs(ie,ut),Ge;if(qe===null){for(;!kt.done;ut++,kt=oe.next())kt=be(ie,kt.value,ge),kt!==null&&(ee=C(kt,ee,ut),Pt===null?Ge=kt:Pt.sibling=kt,Pt=kt);return Ct&&Fs(ie,ut),Ge}for(qe=p(qe);!kt.done;ut++,kt=oe.next())kt=he(qe,ie,ut,kt.value,ge),kt!==null&&(i&&kt.alternate!==null&&qe.delete(kt.key===null?ut:kt.key),ee=C(kt,ee,ut),Pt===null?Ge=kt:Pt.sibling=kt,Pt=kt);return i&&qe.forEach(function(ZT){return o(ie,ZT)}),Ct&&Fs(ie,ut),Ge}function Yt(ie,ee,oe,ge){if(typeof oe=="object"&&oe!==null&&oe.type===b&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case v:e:{for(var Ge=oe.key;ee!==null;){if(ee.key===Ge){if(Ge=oe.type,Ge===b){if(ee.tag===7){u(ie,ee.sibling),ge=N(ee,oe.props.children),ge.return=ie,ie=ge;break e}}else if(ee.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===O&&Tl(Ge)===ee.type){u(ie,ee.sibling),ge=N(ee,oe.props),Ad(ge,oe),ge.return=ie,ie=ge;break e}u(ie,ee);break}else o(ie,ee);ee=ee.sibling}oe.type===b?(ge=Ol(oe.props.children,ie.mode,ge,oe.key),ge.return=ie,ie=ge):(ge=Wm(oe.type,oe.key,oe.props,null,ie.mode,ge),Ad(ge,oe),ge.return=ie,ie=ge)}return _(ie);case j:e:{for(Ge=oe.key;ee!==null;){if(ee.key===Ge)if(ee.tag===4&&ee.stateNode.containerInfo===oe.containerInfo&&ee.stateNode.implementation===oe.implementation){u(ie,ee.sibling),ge=N(ee,oe.children||[]),ge.return=ie,ie=ge;break e}else{u(ie,ee);break}else o(ie,ee);ee=ee.sibling}ge=lg(oe,ie.mode,ge),ge.return=ie,ie=ge}return _(ie);case O:return oe=Tl(oe),Yt(ie,ee,oe,ge)}if(G(oe))return Fe(ie,ee,oe,ge);if(z(oe)){if(Ge=z(oe),typeof Ge!="function")throw Error(r(150));return oe=Ge.call(oe),Xe(ie,ee,oe,ge)}if(typeof oe.then=="function")return Yt(ie,ee,ef(oe),ge);if(oe.$$typeof===A)return Yt(ie,ee,Zm(ie,oe),ge);tf(ie,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,ee!==null&&ee.tag===6?(u(ie,ee.sibling),ge=N(ee,oe),ge.return=ie,ie=ge):(u(ie,ee),ge=ig(oe,ie.mode,ge),ge.return=ie,ie=ge),_(ie)):u(ie,ee)}return function(ie,ee,oe,ge){try{Sd=0;var Ge=Yt(ie,ee,oe,ge);return Zo=null,Ge}catch(qe){if(qe===Go||qe===Qm)throw qe;var Pt=Qa(29,qe,null,ie.mode);return Pt.lanes=ge,Pt.return=ie,Pt}finally{}}}var Il=Ww(!0),Yw=Ww(!1),Vi=!1;function vg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ki(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Wi(i,o,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(_t&2)!==0){var N=p.pending;return N===null?o.next=o:(o.next=N.next,N.next=o),p.pending=o,o=Km(i),Pw(i,null,u),o}return Vm(i,p,o,u),Km(i)}function Cd(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,Ur(i,u)}}function jg(i,o){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var N=null,C=null;if(u=u.firstBaseUpdate,u!==null){do{var _={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};C===null?N=C=_:C=C.next=_,u=u.next}while(u!==null);C===null?N=C=o:C=C.next=o}else N=C=o;u={baseState:p.baseState,firstBaseUpdate:N,lastBaseUpdate:C,shared:p.shared,callbacks:p.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var Ng=!1;function Md(){if(Ng){var i=Yo;if(i!==null)throw i}}function Dd(i,o,u,p){Ng=!1;var N=i.updateQueue;Vi=!1;var C=N.firstBaseUpdate,_=N.lastBaseUpdate,$=N.shared.pending;if($!==null){N.shared.pending=null;var Q=$,ce=Q.next;Q.next=null,_===null?C=ce:_.next=ce,_=Q;var xe=i.alternate;xe!==null&&(xe=xe.updateQueue,$=xe.lastBaseUpdate,$!==_&&($===null?xe.firstBaseUpdate=ce:$.next=ce,xe.lastBaseUpdate=Q))}if(C!==null){var be=N.baseState;_=0,xe=ce=Q=null,$=C;do{var de=$.lane&-536870913,he=de!==$.lane;if(he?(wt&de)===de:(p&de)===de){de!==0&&de===Wo&&(Ng=!0),xe!==null&&(xe=xe.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Fe=i,Xe=$;de=o;var Yt=u;switch(Xe.tag){case 1:if(Fe=Xe.payload,typeof Fe=="function"){be=Fe.call(Yt,be,de);break e}be=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Xe.payload,de=typeof Fe=="function"?Fe.call(Yt,be,de):Fe,de==null)break e;be=g({},be,de);break e;case 2:Vi=!0}}de=$.callback,de!==null&&(i.flags|=64,he&&(i.flags|=8192),he=N.callbacks,he===null?N.callbacks=[de]:he.push(de))}else he={lane:de,tag:$.tag,payload:$.payload,callback:$.callback,next:null},xe===null?(ce=xe=he,Q=be):xe=xe.next=he,_|=de;if($=$.next,$===null){if($=N.shared.pending,$===null)break;he=$,$=he.next,he.next=null,N.lastBaseUpdate=he,N.shared.pending=null}}while(!0);xe===null&&(Q=be),N.baseState=Q,N.firstBaseUpdate=ce,N.lastBaseUpdate=xe,C===null&&(N.shared.lanes=0),Qi|=_,i.lanes=_,i.memoizedState=be}}function Gw(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function Zw(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)Gw(u[i],o)}var Xo=ae(null),nf=ae(0);function Xw(i,o){i=Qs,V(nf,i),V(Xo,o),Qs=i|o.baseLanes}function wg(){V(nf,Qs),V(Xo,Xo.current)}function Sg(){Qs=nf.current,je(Xo),je(nf)}var Ja=ae(null),Sr=null;function Yi(i){var o=i.alternate;V(Mn,Mn.current&1),V(Ja,i),Sr===null&&(o===null||Xo.current!==null||o.memoizedState!==null)&&(Sr=i)}function Ag(i){V(Mn,Mn.current),V(Ja,i),Sr===null&&(Sr=i)}function Qw(i){i.tag===22?(V(Mn,Mn.current),V(Ja,i),Sr===null&&(Sr=i)):Gi()}function Gi(){V(Mn,Mn.current),V(Ja,Ja.current)}function er(i){je(Ja),Sr===i&&(Sr=null),je(Mn)}var Mn=ae(0);function af(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||P0(u)||k0(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Us=0,ct=null,Kt=null,In=null,rf=!1,Qo=!1,zl=!1,sf=0,Ed=0,Jo=null,$_=0;function wn(){throw Error(r(321))}function Cg(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Xa(i[u],o[u]))return!1;return!0}function Mg(i,o,u,p,N,C){return Us=C,ct=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=i===null||i.memoizedState===null?T2:qg,zl=!1,C=u(p,N),zl=!1,Qo&&(C=e2(o,u,p,N)),Jw(i),C}function Jw(i){W.H=kd;var o=Kt!==null&&Kt.next!==null;if(Us=0,In=Kt=ct=null,rf=!1,Ed=0,Jo=null,o)throw Error(r(300));i===null||zn||(i=i.dependencies,i!==null&&Gm(i)&&(zn=!0))}function e2(i,o,u,p){ct=i;var N=0;do{if(Qo&&(Jo=null),Ed=0,Qo=!1,25<=N)throw Error(r(301));if(N+=1,In=Kt=null,i.updateQueue!=null){var C=i.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}W.H=L2,C=o(u,p)}while(Qo);return C}function F_(){var i=W.H,o=i.useState()[0];return o=typeof o.then=="function"?Od(o):o,i=i.useState()[0],(Kt!==null?Kt.memoizedState:null)!==i&&(ct.flags|=1024),o}function Dg(){var i=sf!==0;return sf=0,i}function Eg(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function Og(i){if(rf){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}rf=!1}Us=0,In=Kt=ct=null,Qo=!1,Ed=sf=0,Jo=null}function ja(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?ct.memoizedState=In=i:In=In.next=i,In}function Dn(){if(Kt===null){var i=ct.alternate;i=i!==null?i.memoizedState:null}else i=Kt.next;var o=In===null?ct.memoizedState:In.next;if(o!==null)In=o,Kt=i;else{if(i===null)throw ct.alternate===null?Error(r(467)):Error(r(310));Kt=i,i={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},In===null?ct.memoizedState=In=i:In=In.next=i}return In}function lf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Od(i){var o=Ed;return Ed+=1,Jo===null&&(Jo=[]),i=Uw(Jo,i,o),o=ct,(In===null?o.memoizedState:In.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?T2:qg),i}function of(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Od(i);if(i.$$typeof===A)return ca(i)}throw Error(r(438,String(i)))}function Pg(i){var o=null,u=ct.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var p=ct.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(N){return N.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=lf(),ct.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),p=0;p<i;p++)u[p]=B;return o.index++,u}function Vs(i,o){return typeof o=="function"?o(i):o}function cf(i){var o=Dn();return kg(o,Kt,i)}function kg(i,o,u){var p=i.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var N=i.baseQueue,C=p.pending;if(C!==null){if(N!==null){var _=N.next;N.next=C.next,C.next=_}o.baseQueue=N=C,p.pending=null}if(C=i.baseState,N===null)i.memoizedState=C;else{o=N.next;var $=_=null,Q=null,ce=o,xe=!1;do{var be=ce.lane&-536870913;if(be!==ce.lane?(wt&be)===be:(Us&be)===be){var de=ce.revertLane;if(de===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),be===Wo&&(xe=!0);else if((Us&de)===de){ce=ce.next,de===Wo&&(xe=!0);continue}else be={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},Q===null?($=Q=be,_=C):Q=Q.next=be,ct.lanes|=de,Qi|=de;be=ce.action,zl&&u(C,be),C=ce.hasEagerState?ce.eagerState:u(C,be)}else de={lane:be,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},Q===null?($=Q=de,_=C):Q=Q.next=de,ct.lanes|=be,Qi|=be;ce=ce.next}while(ce!==null&&ce!==o);if(Q===null?_=C:Q.next=$,!Xa(C,i.memoizedState)&&(zn=!0,xe&&(u=Yo,u!==null)))throw u;i.memoizedState=C,i.baseState=_,i.baseQueue=Q,p.lastRenderedState=C}return N===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function Rg(i){var o=Dn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var p=u.dispatch,N=u.pending,C=o.memoizedState;if(N!==null){u.pending=null;var _=N=N.next;do C=i(C,_.action),_=_.next;while(_!==N);Xa(C,o.memoizedState)||(zn=!0),o.memoizedState=C,o.baseQueue===null&&(o.baseState=C),u.lastRenderedState=C}return[C,p]}function t2(i,o,u){var p=ct,N=Dn(),C=Ct;if(C){if(u===void 0)throw Error(r(407));u=u()}else u=o();var _=!Xa((Kt||N).memoizedState,u);if(_&&(N.memoizedState=u,zn=!0),N=N.queue,Lg(r2.bind(null,p,N,i),[i]),N.getSnapshot!==o||_||In!==null&&In.memoizedState.tag&1){if(p.flags|=2048,ec(9,{destroy:void 0},a2.bind(null,p,N,u,o),null),Xt===null)throw Error(r(349));C||(Us&127)!==0||n2(p,o,u)}return u}function n2(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ct.updateQueue,o===null?(o=lf(),ct.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function a2(i,o,u,p){o.value=u,o.getSnapshot=p,s2(o)&&i2(i)}function r2(i,o,u){return u(function(){s2(o)&&i2(i)})}function s2(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Xa(i,u)}catch{return!0}}function i2(i){var o=El(i,2);o!==null&&Ra(o,i,2)}function _g(i){var o=ja();if(typeof i=="function"){var u=i;if(i=u(),zl){Ca(!0);try{u()}finally{Ca(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:i},o}function l2(i,o,u,p){return i.baseState=u,kg(i,Kt,typeof p=="function"?p:Vs)}function q_(i,o,u,p,N){if(mf(i))throw Error(r(485));if(i=o.action,i!==null){var C={payload:N,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){C.listeners.push(_)}};W.T!==null?u(!0):C.isTransition=!1,p(C),u=o.pending,u===null?(C.next=o.pending=C,o2(o,C)):(C.next=u.next,o.pending=u.next=C)}}function o2(i,o){var u=o.action,p=o.payload,N=i.state;if(o.isTransition){var C=W.T,_={};W.T=_;try{var $=u(N,p),Q=W.S;Q!==null&&Q(_,$),c2(i,o,$)}catch(ce){Tg(i,o,ce)}finally{C!==null&&_.types!==null&&(C.types=_.types),W.T=C}}else try{C=u(N,p),c2(i,o,C)}catch(ce){Tg(i,o,ce)}}function c2(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){d2(i,o,p)},function(p){return Tg(i,o,p)}):d2(i,o,u)}function d2(i,o,u){o.status="fulfilled",o.value=u,u2(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,o2(i,u)))}function Tg(i,o,u){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=u,u2(o),o=o.next;while(o!==p)}i.action=null}function u2(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function m2(i,o){return o}function f2(i,o){if(Ct){var u=Xt.formState;if(u!==null){e:{var p=ct;if(Ct){if(on){t:{for(var N=on,C=wr;N.nodeType!==8;){if(!C){N=null;break t}if(N=Ar(N.nextSibling),N===null){N=null;break t}}C=N.data,N=C==="F!"||C==="F"?N:null}if(N){on=Ar(N.nextSibling),p=N.data==="F!";break e}}Hi(p)}p=!1}p&&(o=u[0])}}return u=ja(),u.memoizedState=u.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m2,lastRenderedState:o},u.queue=p,u=k2.bind(null,ct,p),p.dispatch=u,p=_g(!1),C=Fg.bind(null,ct,!1,p.queue),p=ja(),N={state:o,dispatch:null,action:i,pending:null},p.queue=N,u=q_.bind(null,ct,N,C,u),N.dispatch=u,p.memoizedState=i,[o,u,!1]}function h2(i){var o=Dn();return p2(o,Kt,i)}function p2(i,o,u){if(o=kg(i,o,m2)[0],i=cf(Vs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=Od(o)}catch(_){throw _===Go?Qm:_}else p=o;o=Dn();var N=o.queue,C=N.dispatch;return u!==o.memoizedState&&(ct.flags|=2048,ec(9,{destroy:void 0},H_.bind(null,N,u),null)),[p,C,i]}function H_(i,o){i.action=o}function x2(i){var o=Dn(),u=Kt;if(u!==null)return p2(o,u,i);Dn(),o=o.memoizedState,u=Dn();var p=u.queue.dispatch;return u.memoizedState=i,[o,p,!1]}function ec(i,o,u,p){return i={tag:i,create:u,deps:p,inst:o,next:null},o=ct.updateQueue,o===null&&(o=lf(),ct.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,o.lastEffect=i),i}function g2(){return Dn().memoizedState}function df(i,o,u,p){var N=ja();ct.flags|=i,N.memoizedState=ec(1|o,{destroy:void 0},u,p===void 0?null:p)}function uf(i,o,u,p){var N=Dn();p=p===void 0?null:p;var C=N.memoizedState.inst;Kt!==null&&p!==null&&Cg(p,Kt.memoizedState.deps)?N.memoizedState=ec(o,C,u,p):(ct.flags|=i,N.memoizedState=ec(1|o,C,u,p))}function y2(i,o){df(8390656,8,i,o)}function Lg(i,o){uf(2048,8,i,o)}function U_(i){ct.flags|=4;var o=ct.updateQueue;if(o===null)o=lf(),ct.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function v2(i){var o=Dn().memoizedState;return U_({ref:o,nextImpl:i}),function(){if((_t&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function b2(i,o){return uf(4,2,i,o)}function j2(i,o){return uf(4,4,i,o)}function N2(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function w2(i,o,u){u=u!=null?u.concat([i]):null,uf(4,4,N2.bind(null,o,i),u)}function Ig(){}function S2(i,o){var u=Dn();o=o===void 0?null:o;var p=u.memoizedState;return o!==null&&Cg(o,p[1])?p[0]:(u.memoizedState=[i,o],i)}function A2(i,o){var u=Dn();o=o===void 0?null:o;var p=u.memoizedState;if(o!==null&&Cg(o,p[1]))return p[0];if(p=i(),zl){Ca(!0);try{i()}finally{Ca(!1)}}return u.memoizedState=[p,o],p}function zg(i,o,u){return u===void 0||(Us&1073741824)!==0&&(wt&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=CS(),ct.lanes|=i,Qi|=i,u)}function C2(i,o,u,p){return Xa(u,o)?u:Xo.current!==null?(i=zg(i,u,p),Xa(i,o)||(zn=!0),i):(Us&42)===0||(Us&1073741824)!==0&&(wt&261930)===0?(zn=!0,i.memoizedState=u):(i=CS(),ct.lanes|=i,Qi|=i,o)}function M2(i,o,u,p,N){var C=R.p;R.p=C!==0&&8>C?C:8;var _=W.T,$={};W.T=$,Fg(i,!1,o,u);try{var Q=N(),ce=W.S;if(ce!==null&&ce($,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var xe=B_(Q,p);Pd(i,o,xe,ar(i))}else Pd(i,o,p,ar(i))}catch(be){Pd(i,o,{then:function(){},status:"rejected",reason:be},ar())}finally{R.p=C,_!==null&&$.types!==null&&(_.types=$.types),W.T=_}}function V_(){}function Bg(i,o,u,p){if(i.tag!==5)throw Error(r(476));var N=D2(i).queue;M2(i,N,o,F,u===null?V_:function(){return E2(i),u(p)})}function D2(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:F},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function E2(i){var o=D2(i);o.next===null&&(o=i.alternate.memoizedState),Pd(i,o.next.queue,{},ar())}function $g(){return ca(Yd)}function O2(){return Dn().memoizedState}function P2(){return Dn().memoizedState}function K_(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=ar();i=Ki(u);var p=Wi(o,i,u);p!==null&&(Ra(p,o,u),Cd(p,o,u)),o={cache:pg()},i.payload=o;return}o=o.return}}function W_(i,o,u){var p=ar();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},mf(i)?R2(o,u):(u=rg(i,o,u,p),u!==null&&(Ra(u,i,p),_2(u,o,p)))}function k2(i,o,u){var p=ar();Pd(i,o,u,p)}function Pd(i,o,u,p){var N={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(mf(i))R2(o,N);else{var C=i.alternate;if(i.lanes===0&&(C===null||C.lanes===0)&&(C=o.lastRenderedReducer,C!==null))try{var _=o.lastRenderedState,$=C(_,u);if(N.hasEagerState=!0,N.eagerState=$,Xa($,_))return Vm(i,o,N,0),Xt===null&&Um(),!1}catch{}finally{}if(u=rg(i,o,N,p),u!==null)return Ra(u,i,p),_2(u,o,p),!0}return!1}function Fg(i,o,u,p){if(p={lane:2,revertLane:v0(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},mf(i)){if(o)throw Error(r(479))}else o=rg(i,u,p,2),o!==null&&Ra(o,i,2)}function mf(i){var o=i.alternate;return i===ct||o!==null&&o===ct}function R2(i,o){Qo=rf=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function _2(i,o,u){if((u&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,Ur(i,u)}}var kd={readContext:ca,use:of,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useLayoutEffect:wn,useInsertionEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useSyncExternalStore:wn,useId:wn,useHostTransitionStatus:wn,useFormState:wn,useActionState:wn,useOptimistic:wn,useMemoCache:wn,useCacheRefresh:wn};kd.useEffectEvent=wn;var T2={readContext:ca,use:of,useCallback:function(i,o){return ja().memoizedState=[i,o===void 0?null:o],i},useContext:ca,useEffect:y2,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,df(4194308,4,N2.bind(null,o,i),u)},useLayoutEffect:function(i,o){return df(4194308,4,i,o)},useInsertionEffect:function(i,o){df(4,2,i,o)},useMemo:function(i,o){var u=ja();o=o===void 0?null:o;var p=i();if(zl){Ca(!0);try{i()}finally{Ca(!1)}}return u.memoizedState=[p,o],p},useReducer:function(i,o,u){var p=ja();if(u!==void 0){var N=u(o);if(zl){Ca(!0);try{u(o)}finally{Ca(!1)}}}else N=o;return p.memoizedState=p.baseState=N,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:N},p.queue=i,i=i.dispatch=W_.bind(null,ct,i),[p.memoizedState,i]},useRef:function(i){var o=ja();return i={current:i},o.memoizedState=i},useState:function(i){i=_g(i);var o=i.queue,u=k2.bind(null,ct,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:Ig,useDeferredValue:function(i,o){var u=ja();return zg(u,i,o)},useTransition:function(){var i=_g(!1);return i=M2.bind(null,ct,i.queue,!0,!1),ja().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var p=ct,N=ja();if(Ct){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Xt===null)throw Error(r(349));(wt&127)!==0||n2(p,o,u)}N.memoizedState=u;var C={value:u,getSnapshot:o};return N.queue=C,y2(r2.bind(null,p,C,i),[i]),p.flags|=2048,ec(9,{destroy:void 0},a2.bind(null,p,C,u,o),null),u},useId:function(){var i=ja(),o=Xt.identifierPrefix;if(Ct){var u=cs,p=os;u=(p&~(1<<32-_n(p)-1)).toString(32)+u,o="_"+o+"R_"+u,u=sf++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=$_++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:$g,useFormState:f2,useActionState:f2,useOptimistic:function(i){var o=ja();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Fg.bind(null,ct,!0,u),u.dispatch=o,[i,o]},useMemoCache:Pg,useCacheRefresh:function(){return ja().memoizedState=K_.bind(null,ct)},useEffectEvent:function(i){var o=ja(),u={impl:i};return o.memoizedState=u,function(){if((_t&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},qg={readContext:ca,use:of,useCallback:S2,useContext:ca,useEffect:Lg,useImperativeHandle:w2,useInsertionEffect:b2,useLayoutEffect:j2,useMemo:A2,useReducer:cf,useRef:g2,useState:function(){return cf(Vs)},useDebugValue:Ig,useDeferredValue:function(i,o){var u=Dn();return C2(u,Kt.memoizedState,i,o)},useTransition:function(){var i=cf(Vs)[0],o=Dn().memoizedState;return[typeof i=="boolean"?i:Od(i),o]},useSyncExternalStore:t2,useId:O2,useHostTransitionStatus:$g,useFormState:h2,useActionState:h2,useOptimistic:function(i,o){var u=Dn();return l2(u,Kt,i,o)},useMemoCache:Pg,useCacheRefresh:P2};qg.useEffectEvent=v2;var L2={readContext:ca,use:of,useCallback:S2,useContext:ca,useEffect:Lg,useImperativeHandle:w2,useInsertionEffect:b2,useLayoutEffect:j2,useMemo:A2,useReducer:Rg,useRef:g2,useState:function(){return Rg(Vs)},useDebugValue:Ig,useDeferredValue:function(i,o){var u=Dn();return Kt===null?zg(u,i,o):C2(u,Kt.memoizedState,i,o)},useTransition:function(){var i=Rg(Vs)[0],o=Dn().memoizedState;return[typeof i=="boolean"?i:Od(i),o]},useSyncExternalStore:t2,useId:O2,useHostTransitionStatus:$g,useFormState:x2,useActionState:x2,useOptimistic:function(i,o){var u=Dn();return Kt!==null?l2(u,Kt,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Pg,useCacheRefresh:P2};L2.useEffectEvent=v2;function Hg(i,o,u,p){o=i.memoizedState,u=u(p,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Ug={enqueueSetState:function(i,o,u){i=i._reactInternals;var p=ar(),N=Ki(p);N.payload=o,u!=null&&(N.callback=u),o=Wi(i,N,p),o!==null&&(Ra(o,i,p),Cd(o,i,p))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var p=ar(),N=Ki(p);N.tag=1,N.payload=o,u!=null&&(N.callback=u),o=Wi(i,N,p),o!==null&&(Ra(o,i,p),Cd(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=ar(),p=Ki(u);p.tag=2,o!=null&&(p.callback=o),o=Wi(i,p,u),o!==null&&(Ra(o,i,u),Cd(o,i,u))}};function I2(i,o,u,p,N,C,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,C,_):o.prototype&&o.prototype.isPureReactComponent?!yd(u,p)||!yd(N,C):!0}function z2(i,o,u,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==i&&Ug.enqueueReplaceState(o,o.state,null)}function Bl(i,o){var u=o;if("ref"in o){u={};for(var p in o)p!=="ref"&&(u[p]=o[p])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var N in i)u[N]===void 0&&(u[N]=i[N])}return u}function B2(i){Hm(i)}function $2(i){console.error(i)}function F2(i){Hm(i)}function ff(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function q2(i,o,u){try{var p=i.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function Vg(i,o,u){return u=Ki(u),u.tag=3,u.payload={element:null},u.callback=function(){ff(i,o)},u}function H2(i){return i=Ki(i),i.tag=3,i}function U2(i,o,u,p){var N=u.type.getDerivedStateFromError;if(typeof N=="function"){var C=p.value;i.payload=function(){return N(C)},i.callback=function(){q2(o,u,p)}}var _=u.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){q2(o,u,p),typeof N!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var $=p.stack;this.componentDidCatch(p.value,{componentStack:$!==null?$:""})})}function Y_(i,o,u,p,N){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=u.alternate,o!==null&&Ko(o,u,N,!0),u=Ja.current,u!==null){switch(u.tag){case 31:case 13:return Sr===null?Af():u.alternate===null&&Sn===0&&(Sn=3),u.flags&=-257,u.flags|=65536,u.lanes=N,p===Jm?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([p]):o.add(p),x0(i,p,N)),!1;case 22:return u.flags|=65536,p===Jm?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([p]):u.add(p)),x0(i,p,N)),!1}throw Error(r(435,u.tag))}return x0(i,p,N),Af(),!1}if(Ct)return o=Ja.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=N,p!==dg&&(i=Error(r(422),{cause:p}),jd(br(i,u)))):(p!==dg&&(o=Error(r(423),{cause:p}),jd(br(o,u))),i=i.current.alternate,i.flags|=65536,N&=-N,i.lanes|=N,p=br(p,u),N=Vg(i.stateNode,p,N),jg(i,N),Sn!==4&&(Sn=2)),!1;var C=Error(r(520),{cause:p});if(C=br(C,u),$d===null?$d=[C]:$d.push(C),Sn!==4&&(Sn=2),o===null)return!0;p=br(p,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=N&-N,u.lanes|=i,i=Vg(u.stateNode,p,i),jg(u,i),!1;case 1:if(o=u.type,C=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ji===null||!Ji.has(C))))return u.flags|=65536,N&=-N,u.lanes|=N,N=H2(N),U2(N,i,u,p),jg(u,N),!1}u=u.return}while(u!==null);return!1}var Kg=Error(r(461)),zn=!1;function da(i,o,u,p){o.child=i===null?Yw(o,null,u,p):Il(o,i.child,u,p)}function V2(i,o,u,p,N){u=u.render;var C=o.ref;if("ref"in p){var _={};for(var $ in p)$!=="ref"&&(_[$]=p[$])}else _=p;return Rl(o),p=Mg(i,o,u,_,C,N),$=Dg(),i!==null&&!zn?(Eg(i,o,N),Ks(i,o,N)):(Ct&&$&&og(o),o.flags|=1,da(i,o,p,N),o.child)}function K2(i,o,u,p,N){if(i===null){var C=u.type;return typeof C=="function"&&!sg(C)&&C.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=C,W2(i,o,C,p,N)):(i=Wm(u.type,null,p,o,o.mode,N),i.ref=o.ref,i.return=o,o.child=i)}if(C=i.child,!e0(i,N)){var _=C.memoizedProps;if(u=u.compare,u=u!==null?u:yd,u(_,p)&&i.ref===o.ref)return Ks(i,o,N)}return o.flags|=1,i=$s(C,p),i.ref=o.ref,i.return=o,o.child=i}function W2(i,o,u,p,N){if(i!==null){var C=i.memoizedProps;if(yd(C,p)&&i.ref===o.ref)if(zn=!1,o.pendingProps=p=C,e0(i,N))(i.flags&131072)!==0&&(zn=!0);else return o.lanes=i.lanes,Ks(i,o,N)}return Wg(i,o,u,p,N)}function Y2(i,o,u,p){var N=p.children,C=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(C=C!==null?C.baseLanes|u:u,i!==null){for(p=o.child=i.child,N=0;p!==null;)N=N|p.lanes|p.childLanes,p=p.sibling;p=N&~C}else p=0,o.child=null;return G2(i,o,C,u,p)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Xm(o,C!==null?C.cachePool:null),C!==null?Xw(o,C):wg(),Qw(o);else return p=o.lanes=536870912,G2(i,o,C!==null?C.baseLanes|u:u,u,p)}else C!==null?(Xm(o,C.cachePool),Xw(o,C),Gi(),o.memoizedState=null):(i!==null&&Xm(o,null),wg(),Gi());return da(i,o,N,u),o.child}function Rd(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function G2(i,o,u,p,N){var C=gg();return C=C===null?null:{parent:Ln._currentValue,pool:C},o.memoizedState={baseLanes:u,cachePool:C},i!==null&&Xm(o,null),wg(),Qw(o),i!==null&&Ko(i,o,p,!0),o.childLanes=N,null}function hf(i,o){return o=xf({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function Z2(i,o,u){return Il(o,i.child,null,u),i=hf(o,o.pendingProps),i.flags|=2,er(o),o.memoizedState=null,i}function G_(i,o,u){var p=o.pendingProps,N=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(Ct){if(p.mode==="hidden")return i=hf(o,p),o.lanes=536870912,Rd(null,i);if(Ag(o),(i=on)?(i=o5(i,wr),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Fi!==null?{id:os,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},u=Rw(i),u.return=o,o.child=u,oa=o,on=null)):i=null,i===null)throw Hi(o);return o.lanes=536870912,null}return hf(o,p)}var C=i.memoizedState;if(C!==null){var _=C.dehydrated;if(Ag(o),N)if(o.flags&256)o.flags&=-257,o=Z2(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(zn||Ko(i,o,u,!1),N=(u&i.childLanes)!==0,zn||N){if(p=Xt,p!==null&&(_=km(p,u),_!==0&&_!==C.retryLane))throw C.retryLane=_,El(i,_),Ra(p,i,_),Kg;Af(),o=Z2(i,o,u)}else i=C.treeContext,on=Ar(_.nextSibling),oa=o,Ct=!0,qi=null,wr=!1,i!==null&&Lw(o,i),o=hf(o,p),o.flags|=4096;return o}return i=$s(i.child,{mode:p.mode,children:p.children}),i.ref=o.ref,o.child=i,i.return=o,i}function pf(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function Wg(i,o,u,p,N){return Rl(o),u=Mg(i,o,u,p,void 0,N),p=Dg(),i!==null&&!zn?(Eg(i,o,N),Ks(i,o,N)):(Ct&&p&&og(o),o.flags|=1,da(i,o,u,N),o.child)}function X2(i,o,u,p,N,C){return Rl(o),o.updateQueue=null,u=e2(o,p,u,N),Jw(i),p=Dg(),i!==null&&!zn?(Eg(i,o,C),Ks(i,o,C)):(Ct&&p&&og(o),o.flags|=1,da(i,o,u,C),o.child)}function Q2(i,o,u,p,N){if(Rl(o),o.stateNode===null){var C=qo,_=u.contextType;typeof _=="object"&&_!==null&&(C=ca(_)),C=new u(p,C),o.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Ug,o.stateNode=C,C._reactInternals=o,C=o.stateNode,C.props=p,C.state=o.memoizedState,C.refs={},vg(o),_=u.contextType,C.context=typeof _=="object"&&_!==null?ca(_):qo,C.state=o.memoizedState,_=u.getDerivedStateFromProps,typeof _=="function"&&(Hg(o,u,_,p),C.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(_=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),_!==C.state&&Ug.enqueueReplaceState(C,C.state,null),Dd(o,p,C,N),Md(),C.state=o.memoizedState),typeof C.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){C=o.stateNode;var $=o.memoizedProps,Q=Bl(u,$);C.props=Q;var ce=C.context,xe=u.contextType;_=qo,typeof xe=="object"&&xe!==null&&(_=ca(xe));var be=u.getDerivedStateFromProps;xe=typeof be=="function"||typeof C.getSnapshotBeforeUpdate=="function",$=o.pendingProps!==$,xe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||($||ce!==_)&&z2(o,C,p,_),Vi=!1;var de=o.memoizedState;C.state=de,Dd(o,p,C,N),Md(),ce=o.memoizedState,$||de!==ce||Vi?(typeof be=="function"&&(Hg(o,u,be,p),ce=o.memoizedState),(Q=Vi||I2(o,u,Q,p,de,ce,_))?(xe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=ce),C.props=p,C.state=ce,C.context=_,p=Q):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{C=o.stateNode,bg(i,o),_=o.memoizedProps,xe=Bl(u,_),C.props=xe,be=o.pendingProps,de=C.context,ce=u.contextType,Q=qo,typeof ce=="object"&&ce!==null&&(Q=ca(ce)),$=u.getDerivedStateFromProps,(ce=typeof $=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(_!==be||de!==Q)&&z2(o,C,p,Q),Vi=!1,de=o.memoizedState,C.state=de,Dd(o,p,C,N),Md();var he=o.memoizedState;_!==be||de!==he||Vi||i!==null&&i.dependencies!==null&&Gm(i.dependencies)?(typeof $=="function"&&(Hg(o,u,$,p),he=o.memoizedState),(xe=Vi||I2(o,u,xe,p,de,he,Q)||i!==null&&i.dependencies!==null&&Gm(i.dependencies))?(ce||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(p,he,Q),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(p,he,Q)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||_===i.memoizedProps&&de===i.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&de===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=he),C.props=p,C.state=he,C.context=Q,p=xe):(typeof C.componentDidUpdate!="function"||_===i.memoizedProps&&de===i.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&de===i.memoizedState||(o.flags|=1024),p=!1)}return C=p,pf(i,o),p=(o.flags&128)!==0,C||p?(C=o.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:C.render(),o.flags|=1,i!==null&&p?(o.child=Il(o,i.child,null,N),o.child=Il(o,null,u,N)):da(i,o,u,N),o.memoizedState=C.state,i=o.child):i=Ks(i,o,N),i}function J2(i,o,u,p){return Pl(),o.flags|=256,da(i,o,u,p),o.child}var Yg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gg(i){return{baseLanes:i,cachePool:qw()}}function Zg(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=nr),i}function eS(i,o,u){var p=o.pendingProps,N=!1,C=(o.flags&128)!==0,_;if((_=C)||(_=i!==null&&i.memoizedState===null?!1:(Mn.current&2)!==0),_&&(N=!0,o.flags&=-129),_=(o.flags&32)!==0,o.flags&=-33,i===null){if(Ct){if(N?Yi(o):Gi(),(i=on)?(i=o5(i,wr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Fi!==null?{id:os,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},u=Rw(i),u.return=o,o.child=u,oa=o,on=null)):i=null,i===null)throw Hi(o);return k0(i)?o.lanes=32:o.lanes=536870912,null}var $=p.children;return p=p.fallback,N?(Gi(),N=o.mode,$=xf({mode:"hidden",children:$},N),p=Ol(p,N,u,null),$.return=o,p.return=o,$.sibling=p,o.child=$,p=o.child,p.memoizedState=Gg(u),p.childLanes=Zg(i,_,u),o.memoizedState=Yg,Rd(null,p)):(Yi(o),Xg(o,$))}var Q=i.memoizedState;if(Q!==null&&($=Q.dehydrated,$!==null)){if(C)o.flags&256?(Yi(o),o.flags&=-257,o=Qg(i,o,u)):o.memoizedState!==null?(Gi(),o.child=i.child,o.flags|=128,o=null):(Gi(),$=p.fallback,N=o.mode,p=xf({mode:"visible",children:p.children},N),$=Ol($,N,u,null),$.flags|=2,p.return=o,$.return=o,p.sibling=$,o.child=p,Il(o,i.child,null,u),p=o.child,p.memoizedState=Gg(u),p.childLanes=Zg(i,_,u),o.memoizedState=Yg,o=Rd(null,p));else if(Yi(o),k0($)){if(_=$.nextSibling&&$.nextSibling.dataset,_)var ce=_.dgst;_=ce,p=Error(r(419)),p.stack="",p.digest=_,jd({value:p,source:null,stack:null}),o=Qg(i,o,u)}else if(zn||Ko(i,o,u,!1),_=(u&i.childLanes)!==0,zn||_){if(_=Xt,_!==null&&(p=km(_,u),p!==0&&p!==Q.retryLane))throw Q.retryLane=p,El(i,p),Ra(_,i,p),Kg;P0($)||Af(),o=Qg(i,o,u)}else P0($)?(o.flags|=192,o.child=i.child,o=null):(i=Q.treeContext,on=Ar($.nextSibling),oa=o,Ct=!0,qi=null,wr=!1,i!==null&&Lw(o,i),o=Xg(o,p.children),o.flags|=4096);return o}return N?(Gi(),$=p.fallback,N=o.mode,Q=i.child,ce=Q.sibling,p=$s(Q,{mode:"hidden",children:p.children}),p.subtreeFlags=Q.subtreeFlags&65011712,ce!==null?$=$s(ce,$):($=Ol($,N,u,null),$.flags|=2),$.return=o,p.return=o,p.sibling=$,o.child=p,Rd(null,p),p=o.child,$=i.child.memoizedState,$===null?$=Gg(u):(N=$.cachePool,N!==null?(Q=Ln._currentValue,N=N.parent!==Q?{parent:Q,pool:Q}:N):N=qw(),$={baseLanes:$.baseLanes|u,cachePool:N}),p.memoizedState=$,p.childLanes=Zg(i,_,u),o.memoizedState=Yg,Rd(i.child,p)):(Yi(o),u=i.child,i=u.sibling,u=$s(u,{mode:"visible",children:p.children}),u.return=o,u.sibling=null,i!==null&&(_=o.deletions,_===null?(o.deletions=[i],o.flags|=16):_.push(i)),o.child=u,o.memoizedState=null,u)}function Xg(i,o){return o=xf({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function xf(i,o){return i=Qa(22,i,null,o),i.lanes=0,i}function Qg(i,o,u){return Il(o,i.child,null,u),i=Xg(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function tS(i,o,u){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),fg(i.return,o,u)}function Jg(i,o,u,p,N,C){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:N,treeForkCount:C}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=u,_.tailMode=N,_.treeForkCount=C)}function nS(i,o,u){var p=o.pendingProps,N=p.revealOrder,C=p.tail;p=p.children;var _=Mn.current,$=(_&2)!==0;if($?(_=_&1|2,o.flags|=128):_&=1,V(Mn,_),da(i,o,p,u),p=Ct?bd:0,!$&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&tS(i,u,o);else if(i.tag===19)tS(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(N){case"forwards":for(u=o.child,N=null;u!==null;)i=u.alternate,i!==null&&af(i)===null&&(N=u),u=u.sibling;u=N,u===null?(N=o.child,o.child=null):(N=u.sibling,u.sibling=null),Jg(o,!1,N,u,C,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,N=o.child,o.child=null;N!==null;){if(i=N.alternate,i!==null&&af(i)===null){o.child=N;break}i=N.sibling,N.sibling=u,u=N,N=i}Jg(o,!0,u,null,C,p);break;case"together":Jg(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function Ks(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Qi|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(Ko(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=$s(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=$s(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function e0(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Gm(i)))}function Z_(i,o,u){switch(o.tag){case 3:Ae(o,o.stateNode.containerInfo),Ui(o,Ln,i.memoizedState.cache),Pl();break;case 27:case 5:Me(o);break;case 4:Ae(o,o.stateNode.containerInfo);break;case 10:Ui(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Ag(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(Yi(o),o.flags|=128,null):(u&o.child.childLanes)!==0?eS(i,o,u):(Yi(o),i=Ks(i,o,u),i!==null?i.sibling:null);Yi(o);break;case 19:var N=(i.flags&128)!==0;if(p=(u&o.childLanes)!==0,p||(Ko(i,o,u,!1),p=(u&o.childLanes)!==0),N){if(p)return nS(i,o,u);o.flags|=128}if(N=o.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),V(Mn,Mn.current),p)break;return null;case 22:return o.lanes=0,Y2(i,o,u,o.pendingProps);case 24:Ui(o,Ln,i.memoizedState.cache)}return Ks(i,o,u)}function aS(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)zn=!0;else{if(!e0(i,u)&&(o.flags&128)===0)return zn=!1,Z_(i,o,u);zn=(i.flags&131072)!==0}else zn=!1,Ct&&(o.flags&1048576)!==0&&Tw(o,bd,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(i=Tl(o.elementType),o.type=i,typeof i=="function")sg(i)?(p=Bl(i,p),o.tag=1,o=Q2(null,o,i,p,u)):(o.tag=0,o=Wg(null,o,i,p,u));else{if(i!=null){var N=i.$$typeof;if(N===E){o.tag=11,o=V2(null,o,i,p,u);break e}else if(N===T){o.tag=14,o=K2(null,o,i,p,u);break e}}throw o=L(i)||i,Error(r(306,o,""))}}return o;case 0:return Wg(i,o,o.type,o.pendingProps,u);case 1:return p=o.type,N=Bl(p,o.pendingProps),Q2(i,o,p,N,u);case 3:e:{if(Ae(o,o.stateNode.containerInfo),i===null)throw Error(r(387));p=o.pendingProps;var C=o.memoizedState;N=C.element,bg(i,o),Dd(o,p,null,u);var _=o.memoizedState;if(p=_.cache,Ui(o,Ln,p),p!==C.cache&&hg(o,[Ln],u,!0),Md(),p=_.element,C.isDehydrated)if(C={element:p,isDehydrated:!1,cache:_.cache},o.updateQueue.baseState=C,o.memoizedState=C,o.flags&256){o=J2(i,o,p,u);break e}else if(p!==N){N=br(Error(r(424)),o),jd(N),o=J2(i,o,p,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(on=Ar(i.firstChild),oa=o,Ct=!0,qi=null,wr=!0,u=Yw(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Pl(),p===N){o=Ks(i,o,u);break e}da(i,o,p,u)}o=o.child}return o;case 26:return pf(i,o),i===null?(u=h5(o.type,null,o.pendingProps,null))?o.memoizedState=u:Ct||(u=o.type,i=o.pendingProps,p=kf(se.current).createElement(u),p[vn]=o,p[Ma]=i,ua(p,u,i),Qn(p),o.stateNode=p):o.memoizedState=h5(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Me(o),i===null&&Ct&&(p=o.stateNode=u5(o.type,o.pendingProps,se.current),oa=o,wr=!0,N=on,al(o.type)?(R0=N,on=Ar(p.firstChild)):on=N),da(i,o,o.pendingProps.children,u),pf(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Ct&&((N=p=on)&&(p=CT(p,o.type,o.pendingProps,wr),p!==null?(o.stateNode=p,oa=o,on=Ar(p.firstChild),wr=!1,N=!0):N=!1),N||Hi(o)),Me(o),N=o.type,C=o.pendingProps,_=i!==null?i.memoizedProps:null,p=C.children,D0(N,C)?p=null:_!==null&&D0(N,_)&&(o.flags|=32),o.memoizedState!==null&&(N=Mg(i,o,F_,null,null,u),Yd._currentValue=N),pf(i,o),da(i,o,p,u),o.child;case 6:return i===null&&Ct&&((i=u=on)&&(u=MT(u,o.pendingProps,wr),u!==null?(o.stateNode=u,oa=o,on=null,i=!0):i=!1),i||Hi(o)),null;case 13:return eS(i,o,u);case 4:return Ae(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=Il(o,null,p,u):da(i,o,p,u),o.child;case 11:return V2(i,o,o.type,o.pendingProps,u);case 7:return da(i,o,o.pendingProps,u),o.child;case 8:return da(i,o,o.pendingProps.children,u),o.child;case 12:return da(i,o,o.pendingProps.children,u),o.child;case 10:return p=o.pendingProps,Ui(o,o.type,p.value),da(i,o,p.children,u),o.child;case 9:return N=o.type._context,p=o.pendingProps.children,Rl(o),N=ca(N),p=p(N),o.flags|=1,da(i,o,p,u),o.child;case 14:return K2(i,o,o.type,o.pendingProps,u);case 15:return W2(i,o,o.type,o.pendingProps,u);case 19:return nS(i,o,u);case 31:return G_(i,o,u);case 22:return Y2(i,o,u,o.pendingProps);case 24:return Rl(o),p=ca(Ln),i===null?(N=gg(),N===null&&(N=Xt,C=pg(),N.pooledCache=C,C.refCount++,C!==null&&(N.pooledCacheLanes|=u),N=C),o.memoizedState={parent:p,cache:N},vg(o),Ui(o,Ln,N)):((i.lanes&u)!==0&&(bg(i,o),Dd(o,null,null,u),Md()),N=i.memoizedState,C=o.memoizedState,N.parent!==p?(N={parent:p,cache:p},o.memoizedState=N,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=N),Ui(o,Ln,p)):(p=C.cache,Ui(o,Ln,p),p!==N.cache&&hg(o,[Ln],u,!0))),da(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Ws(i){i.flags|=4}function t0(i,o,u,p,N){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(N&335544128)===N)if(i.stateNode.complete)i.flags|=8192;else if(OS())i.flags|=8192;else throw Ll=Jm,yg}else i.flags&=-16777217}function rS(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!v5(o))if(OS())i.flags|=8192;else throw Ll=Jm,yg}function gf(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Do():536870912,i.lanes|=o,rc|=o)}function _d(i,o){if(!Ct)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function cn(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(o)for(var N=i.child;N!==null;)u|=N.lanes|N.childLanes,p|=N.subtreeFlags&65011712,p|=N.flags&65011712,N.return=i,N=N.sibling;else for(N=i.child;N!==null;)u|=N.lanes|N.childLanes,p|=N.subtreeFlags,p|=N.flags,N.return=i,N=N.sibling;return i.subtreeFlags|=p,i.childLanes=u,o}function X_(i,o,u){var p=o.pendingProps;switch(cg(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(o),null;case 1:return cn(o),null;case 3:return u=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),Hs(Ln),ne(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Vo(o)?Ws(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ug())),cn(o),null;case 26:var N=o.type,C=o.memoizedState;return i===null?(Ws(o),C!==null?(cn(o),rS(o,C)):(cn(o),t0(o,N,null,p,u))):C?C!==i.memoizedState?(Ws(o),cn(o),rS(o,C)):(cn(o),o.flags&=-16777217):(i=i.memoizedProps,i!==p&&Ws(o),cn(o),t0(o,N,i,p,u)),null;case 27:if(De(o),u=se.current,N=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&Ws(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return cn(o),null}i=fe.current,Vo(o)?Iw(o):(i=u5(N,p,u),o.stateNode=i,Ws(o))}return cn(o),null;case 5:if(De(o),N=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&Ws(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return cn(o),null}if(C=fe.current,Vo(o))Iw(o);else{var _=kf(se.current);switch(C){case 1:C=_.createElementNS("http://www.w3.org/2000/svg",N);break;case 2:C=_.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;default:switch(N){case"svg":C=_.createElementNS("http://www.w3.org/2000/svg",N);break;case"math":C=_.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;case"script":C=_.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof p.is=="string"?_.createElement("select",{is:p.is}):_.createElement("select"),p.multiple?C.multiple=!0:p.size&&(C.size=p.size);break;default:C=typeof p.is=="string"?_.createElement(N,{is:p.is}):_.createElement(N)}}C[vn]=o,C[Ma]=p;e:for(_=o.child;_!==null;){if(_.tag===5||_.tag===6)C.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===o)break e;for(;_.sibling===null;){if(_.return===null||_.return===o)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}o.stateNode=C;e:switch(ua(C,N,p),N){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ws(o)}}return cn(o),t0(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&Ws(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(i=se.current,Vo(o)){if(i=o.stateNode,u=o.memoizedProps,p=null,N=oa,N!==null)switch(N.tag){case 27:case 5:p=N.memoizedProps}i[vn]=o,i=!!(i.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||e5(i.nodeValue,u)),i||Hi(o,!0)}else i=kf(i).createTextNode(p),i[vn]=o,o.stateNode=i}return cn(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(p=Vo(o),u!==null){if(i===null){if(!p)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[vn]=o}else Pl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;cn(o),i=!1}else u=ug(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(er(o),o):(er(o),null);if((o.flags&128)!==0)throw Error(r(558))}return cn(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(N=Vo(o),p!==null&&p.dehydrated!==null){if(i===null){if(!N)throw Error(r(318));if(N=o.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[vn]=o}else Pl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;cn(o),N=!1}else N=ug(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=N),N=!0;if(!N)return o.flags&256?(er(o),o):(er(o),null)}return er(o),(o.flags&128)!==0?(o.lanes=u,o):(u=p!==null,i=i!==null&&i.memoizedState!==null,u&&(p=o.child,N=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(N=p.alternate.memoizedState.cachePool.pool),C=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(C=p.memoizedState.cachePool.pool),C!==N&&(p.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),gf(o,o.updateQueue),cn(o),null);case 4:return ne(),i===null&&w0(o.stateNode.containerInfo),cn(o),null;case 10:return Hs(o.type),cn(o),null;case 19:if(je(Mn),p=o.memoizedState,p===null)return cn(o),null;if(N=(o.flags&128)!==0,C=p.rendering,C===null)if(N)_d(p,!1);else{if(Sn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(C=af(i),C!==null){for(o.flags|=128,_d(p,!1),i=C.updateQueue,o.updateQueue=i,gf(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)kw(u,i),u=u.sibling;return V(Mn,Mn.current&1|2),Ct&&Fs(o,p.treeForkCount),o.child}i=i.sibling}p.tail!==null&&ye()>Nf&&(o.flags|=128,N=!0,_d(p,!1),o.lanes=4194304)}else{if(!N)if(i=af(C),i!==null){if(o.flags|=128,N=!0,i=i.updateQueue,o.updateQueue=i,gf(o,i),_d(p,!0),p.tail===null&&p.tailMode==="hidden"&&!C.alternate&&!Ct)return cn(o),null}else 2*ye()-p.renderingStartTime>Nf&&u!==536870912&&(o.flags|=128,N=!0,_d(p,!1),o.lanes=4194304);p.isBackwards?(C.sibling=o.child,o.child=C):(i=p.last,i!==null?i.sibling=C:o.child=C,p.last=C)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=ye(),i.sibling=null,u=Mn.current,V(Mn,N?u&1|2:u&1),Ct&&Fs(o,p.treeForkCount),i):(cn(o),null);case 22:case 23:return er(o),Sg(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(u&536870912)!==0&&(o.flags&128)===0&&(cn(o),o.subtreeFlags&6&&(o.flags|=8192)):cn(o),u=o.updateQueue,u!==null&&gf(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048),i!==null&&je(_l),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Hs(Ln),cn(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function Q_(i,o){switch(cg(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Hs(Ln),ne(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return De(o),null;case 31:if(o.memoizedState!==null){if(er(o),o.alternate===null)throw Error(r(340));Pl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(er(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Pl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return je(Mn),null;case 4:return ne(),null;case 10:return Hs(o.type),null;case 22:case 23:return er(o),Sg(),i!==null&&je(_l),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Hs(Ln),null;case 25:return null;default:return null}}function sS(i,o){switch(cg(o),o.tag){case 3:Hs(Ln),ne();break;case 26:case 27:case 5:De(o);break;case 4:ne();break;case 31:o.memoizedState!==null&&er(o);break;case 13:er(o);break;case 19:je(Mn);break;case 10:Hs(o.type);break;case 22:case 23:er(o),Sg(),i!==null&&je(_l);break;case 24:Hs(Ln)}}function Td(i,o){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var N=p.next;u=N;do{if((u.tag&i)===i){p=void 0;var C=u.create,_=u.inst;p=C(),_.destroy=p}u=u.next}while(u!==N)}}catch($){Ft(o,o.return,$)}}function Zi(i,o,u){try{var p=o.updateQueue,N=p!==null?p.lastEffect:null;if(N!==null){var C=N.next;p=C;do{if((p.tag&i)===i){var _=p.inst,$=_.destroy;if($!==void 0){_.destroy=void 0,N=o;var Q=u,ce=$;try{ce()}catch(xe){Ft(N,Q,xe)}}}p=p.next}while(p!==C)}}catch(xe){Ft(o,o.return,xe)}}function iS(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{Zw(o,u)}catch(p){Ft(i,i.return,p)}}}function lS(i,o,u){u.props=Bl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(p){Ft(i,o,p)}}function Ld(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof u=="function"?i.refCleanup=u(p):u.current=p}}catch(N){Ft(i,o,N)}}function ds(i,o){var u=i.ref,p=i.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(N){Ft(i,o,N)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(N){Ft(i,o,N)}else u.current=null}function oS(i){var o=i.type,u=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(N){Ft(i,i.return,N)}}function n0(i,o,u){try{var p=i.stateNode;bT(p,i.type,u,o),p[Ma]=o}catch(N){Ft(i,i.return,N)}}function cS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&al(i.type)||i.tag===4}function a0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||cS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&al(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function r0(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=zs));else if(p!==4&&(p===27&&al(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(r0(i,o,u),i=i.sibling;i!==null;)r0(i,o,u),i=i.sibling}function yf(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(p!==4&&(p===27&&al(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(yf(i,o,u),i=i.sibling;i!==null;)yf(i,o,u),i=i.sibling}function dS(i){var o=i.stateNode,u=i.memoizedProps;try{for(var p=i.type,N=o.attributes;N.length;)o.removeAttributeNode(N[0]);ua(o,p,u),o[vn]=i,o[Ma]=u}catch(C){Ft(i,i.return,C)}}var Ys=!1,Bn=!1,s0=!1,uS=typeof WeakSet=="function"?WeakSet:Set,Jn=null;function J_(i,o){if(i=i.containerInfo,C0=Bf,i=ww(i),Qx(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var N=p.anchorOffset,C=p.focusNode;p=p.focusOffset;try{u.nodeType,C.nodeType}catch{u=null;break e}var _=0,$=-1,Q=-1,ce=0,xe=0,be=i,de=null;t:for(;;){for(var he;be!==u||N!==0&&be.nodeType!==3||($=_+N),be!==C||p!==0&&be.nodeType!==3||(Q=_+p),be.nodeType===3&&(_+=be.nodeValue.length),(he=be.firstChild)!==null;)de=be,be=he;for(;;){if(be===i)break t;if(de===u&&++ce===N&&($=_),de===C&&++xe===p&&(Q=_),(he=be.nextSibling)!==null)break;be=de,de=be.parentNode}be=he}u=$===-1||Q===-1?null:{start:$,end:Q}}else u=null}u=u||{start:0,end:0}}else u=null;for(M0={focusedElem:i,selectionRange:u},Bf=!1,Jn=o;Jn!==null;)if(o=Jn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Jn=i;else for(;Jn!==null;){switch(o=Jn,C=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)N=i[u],N.ref.impl=N.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&C!==null){i=void 0,u=o,N=C.memoizedProps,C=C.memoizedState,p=u.stateNode;try{var Fe=Bl(u.type,N);i=p.getSnapshotBeforeUpdate(Fe,C),p.__reactInternalSnapshotBeforeUpdate=i}catch(Xe){Ft(u,u.return,Xe)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)O0(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":O0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Jn=i;break}Jn=o.return}}function mS(i,o,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:Zs(i,u),p&4&&Td(5,u);break;case 1:if(Zs(i,u),p&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(_){Ft(u,u.return,_)}else{var N=Bl(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(N,o,i.__reactInternalSnapshotBeforeUpdate)}catch(_){Ft(u,u.return,_)}}p&64&&iS(u),p&512&&Ld(u,u.return);break;case 3:if(Zs(i,u),p&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Zw(i,o)}catch(_){Ft(u,u.return,_)}}break;case 27:o===null&&p&4&&dS(u);case 26:case 5:Zs(i,u),o===null&&p&4&&oS(u),p&512&&Ld(u,u.return);break;case 12:Zs(i,u);break;case 31:Zs(i,u),p&4&&pS(i,u);break;case 13:Zs(i,u),p&4&&xS(i,u),p&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=oT.bind(null,u),DT(i,u))));break;case 22:if(p=u.memoizedState!==null||Ys,!p){o=o!==null&&o.memoizedState!==null||Bn,N=Ys;var C=Bn;Ys=p,(Bn=o)&&!C?Xs(i,u,(u.subtreeFlags&8772)!==0):Zs(i,u),Ys=N,Bn=C}break;case 30:break;default:Zs(i,u)}}function fS(i){var o=i.alternate;o!==null&&(i.alternate=null,fS(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Tx(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var hn=null,Ea=!1;function Gs(i,o,u){for(u=u.child;u!==null;)hS(i,o,u),u=u.sibling}function hS(i,o,u){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Vt,u)}catch{}switch(u.tag){case 26:Bn||ds(u,o),Gs(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Bn||ds(u,o);var p=hn,N=Ea;al(u.type)&&(hn=u.stateNode,Ea=!1),Gs(i,o,u),Vd(u.stateNode),hn=p,Ea=N;break;case 5:Bn||ds(u,o);case 6:if(p=hn,N=Ea,hn=null,Gs(i,o,u),hn=p,Ea=N,hn!==null)if(Ea)try{(hn.nodeType===9?hn.body:hn.nodeName==="HTML"?hn.ownerDocument.body:hn).removeChild(u.stateNode)}catch(C){Ft(u,o,C)}else try{hn.removeChild(u.stateNode)}catch(C){Ft(u,o,C)}break;case 18:hn!==null&&(Ea?(i=hn,i5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),mc(i)):i5(hn,u.stateNode));break;case 4:p=hn,N=Ea,hn=u.stateNode.containerInfo,Ea=!0,Gs(i,o,u),hn=p,Ea=N;break;case 0:case 11:case 14:case 15:Zi(2,u,o),Bn||Zi(4,u,o),Gs(i,o,u);break;case 1:Bn||(ds(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"&&lS(u,o,p)),Gs(i,o,u);break;case 21:Gs(i,o,u);break;case 22:Bn=(p=Bn)||u.memoizedState!==null,Gs(i,o,u),Bn=p;break;default:Gs(i,o,u)}}function pS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{mc(i)}catch(u){Ft(o,o.return,u)}}}function xS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{mc(i)}catch(u){Ft(o,o.return,u)}}function eT(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new uS),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new uS),o;default:throw Error(r(435,i.tag))}}function vf(i,o){var u=eT(i);o.forEach(function(p){if(!u.has(p)){u.add(p);var N=cT.bind(null,i,p);p.then(N,N)}})}function Oa(i,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var N=u[p],C=i,_=o,$=_;e:for(;$!==null;){switch($.tag){case 27:if(al($.type)){hn=$.stateNode,Ea=!1;break e}break;case 5:hn=$.stateNode,Ea=!1;break e;case 3:case 4:hn=$.stateNode.containerInfo,Ea=!0;break e}$=$.return}if(hn===null)throw Error(r(160));hS(C,_,N),hn=null,Ea=!1,C=N.alternate,C!==null&&(C.return=null),N.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)gS(o,i),o=o.sibling}var Kr=null;function gS(i,o){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Oa(o,i),Pa(i),p&4&&(Zi(3,i,i.return),Td(3,i),Zi(5,i,i.return));break;case 1:Oa(o,i),Pa(i),p&512&&(Bn||u===null||ds(u,u.return)),p&64&&Ys&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var N=Kr;if(Oa(o,i),Pa(i),p&512&&(Bn||u===null||ds(u,u.return)),p&4){var C=u!==null?u.memoizedState:null;if(p=i.memoizedState,u===null)if(p===null)if(i.stateNode===null){e:{p=i.type,u=i.memoizedProps,N=N.ownerDocument||N;t:switch(p){case"title":C=N.getElementsByTagName("title")[0],(!C||C[cd]||C[vn]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=N.createElement(p),N.head.insertBefore(C,N.querySelector("head > title"))),ua(C,p,u),C[vn]=i,Qn(C),p=C;break e;case"link":var _=g5("link","href",N).get(p+(u.href||""));if(_){for(var $=0;$<_.length;$++)if(C=_[$],C.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&C.getAttribute("rel")===(u.rel==null?null:u.rel)&&C.getAttribute("title")===(u.title==null?null:u.title)&&C.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){_.splice($,1);break t}}C=N.createElement(p),ua(C,p,u),N.head.appendChild(C);break;case"meta":if(_=g5("meta","content",N).get(p+(u.content||""))){for($=0;$<_.length;$++)if(C=_[$],C.getAttribute("content")===(u.content==null?null:""+u.content)&&C.getAttribute("name")===(u.name==null?null:u.name)&&C.getAttribute("property")===(u.property==null?null:u.property)&&C.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&C.getAttribute("charset")===(u.charSet==null?null:u.charSet)){_.splice($,1);break t}}C=N.createElement(p),ua(C,p,u),N.head.appendChild(C);break;default:throw Error(r(468,p))}C[vn]=i,Qn(C),p=C}i.stateNode=p}else y5(N,i.type,i.stateNode);else i.stateNode=x5(N,p,i.memoizedProps);else C!==p?(C===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):C.count--,p===null?y5(N,i.type,i.stateNode):x5(N,p,i.memoizedProps)):p===null&&i.stateNode!==null&&n0(i,i.memoizedProps,u.memoizedProps)}break;case 27:Oa(o,i),Pa(i),p&512&&(Bn||u===null||ds(u,u.return)),u!==null&&p&4&&n0(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Oa(o,i),Pa(i),p&512&&(Bn||u===null||ds(u,u.return)),i.flags&32){N=i.stateNode;try{To(N,"")}catch(Fe){Ft(i,i.return,Fe)}}p&4&&i.stateNode!=null&&(N=i.memoizedProps,n0(i,N,u!==null?u.memoizedProps:N)),p&1024&&(s0=!0);break;case 6:if(Oa(o,i),Pa(i),p&4){if(i.stateNode===null)throw Error(r(162));p=i.memoizedProps,u=i.stateNode;try{u.nodeValue=p}catch(Fe){Ft(i,i.return,Fe)}}break;case 3:if(Tf=null,N=Kr,Kr=Rf(o.containerInfo),Oa(o,i),Kr=N,Pa(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{mc(o.containerInfo)}catch(Fe){Ft(i,i.return,Fe)}s0&&(s0=!1,yS(i));break;case 4:p=Kr,Kr=Rf(i.stateNode.containerInfo),Oa(o,i),Pa(i),Kr=p;break;case 12:Oa(o,i),Pa(i);break;case 31:Oa(o,i),Pa(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,vf(i,p)));break;case 13:Oa(o,i),Pa(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(jf=ye()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,vf(i,p)));break;case 22:N=i.memoizedState!==null;var Q=u!==null&&u.memoizedState!==null,ce=Ys,xe=Bn;if(Ys=ce||N,Bn=xe||Q,Oa(o,i),Bn=xe,Ys=ce,Pa(i),p&8192)e:for(o=i.stateNode,o._visibility=N?o._visibility&-2:o._visibility|1,N&&(u===null||Q||Ys||Bn||$l(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){Q=u=o;try{if(C=Q.stateNode,N)_=C.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{$=Q.stateNode;var be=Q.memoizedProps.style,de=be!=null&&be.hasOwnProperty("display")?be.display:null;$.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(Fe){Ft(Q,Q.return,Fe)}}}else if(o.tag===6){if(u===null){Q=o;try{Q.stateNode.nodeValue=N?"":Q.memoizedProps}catch(Fe){Ft(Q,Q.return,Fe)}}}else if(o.tag===18){if(u===null){Q=o;try{var he=Q.stateNode;N?l5(he,!0):l5(Q.stateNode,!1)}catch(Fe){Ft(Q,Q.return,Fe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,vf(i,u))));break;case 19:Oa(o,i),Pa(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,vf(i,p)));break;case 30:break;case 21:break;default:Oa(o,i),Pa(i)}}function Pa(i){var o=i.flags;if(o&2){try{for(var u,p=i.return;p!==null;){if(cS(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var N=u.stateNode,C=a0(i);yf(i,C,N);break;case 5:var _=u.stateNode;u.flags&32&&(To(_,""),u.flags&=-33);var $=a0(i);yf(i,$,_);break;case 3:case 4:var Q=u.stateNode.containerInfo,ce=a0(i);r0(i,ce,Q);break;default:throw Error(r(161))}}catch(xe){Ft(i,i.return,xe)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function yS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;yS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Zs(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)mS(i,o.alternate,o),o=o.sibling}function $l(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Zi(4,o,o.return),$l(o);break;case 1:ds(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&lS(o,o.return,u),$l(o);break;case 27:Vd(o.stateNode);case 26:case 5:ds(o,o.return),$l(o);break;case 22:o.memoizedState===null&&$l(o);break;case 30:$l(o);break;default:$l(o)}i=i.sibling}}function Xs(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,N=i,C=o,_=C.flags;switch(C.tag){case 0:case 11:case 15:Xs(N,C,u),Td(4,C);break;case 1:if(Xs(N,C,u),p=C,N=p.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(ce){Ft(p,p.return,ce)}if(p=C,N=p.updateQueue,N!==null){var $=p.stateNode;try{var Q=N.shared.hiddenCallbacks;if(Q!==null)for(N.shared.hiddenCallbacks=null,N=0;N<Q.length;N++)Gw(Q[N],$)}catch(ce){Ft(p,p.return,ce)}}u&&_&64&&iS(C),Ld(C,C.return);break;case 27:dS(C);case 26:case 5:Xs(N,C,u),u&&p===null&&_&4&&oS(C),Ld(C,C.return);break;case 12:Xs(N,C,u);break;case 31:Xs(N,C,u),u&&_&4&&pS(N,C);break;case 13:Xs(N,C,u),u&&_&4&&xS(N,C);break;case 22:C.memoizedState===null&&Xs(N,C,u),Ld(C,C.return);break;case 30:break;default:Xs(N,C,u)}o=o.sibling}}function i0(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Nd(u))}function l0(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Nd(i))}function Wr(i,o,u,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)vS(i,o,u,p),o=o.sibling}function vS(i,o,u,p){var N=o.flags;switch(o.tag){case 0:case 11:case 15:Wr(i,o,u,p),N&2048&&Td(9,o);break;case 1:Wr(i,o,u,p);break;case 3:Wr(i,o,u,p),N&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Nd(i)));break;case 12:if(N&2048){Wr(i,o,u,p),i=o.stateNode;try{var C=o.memoizedProps,_=C.id,$=C.onPostCommit;typeof $=="function"&&$(_,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Q){Ft(o,o.return,Q)}}else Wr(i,o,u,p);break;case 31:Wr(i,o,u,p);break;case 13:Wr(i,o,u,p);break;case 23:break;case 22:C=o.stateNode,_=o.alternate,o.memoizedState!==null?C._visibility&2?Wr(i,o,u,p):Id(i,o):C._visibility&2?Wr(i,o,u,p):(C._visibility|=2,tc(i,o,u,p,(o.subtreeFlags&10256)!==0||!1)),N&2048&&i0(_,o);break;case 24:Wr(i,o,u,p),N&2048&&l0(o.alternate,o);break;default:Wr(i,o,u,p)}}function tc(i,o,u,p,N){for(N=N&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var C=i,_=o,$=u,Q=p,ce=_.flags;switch(_.tag){case 0:case 11:case 15:tc(C,_,$,Q,N),Td(8,_);break;case 23:break;case 22:var xe=_.stateNode;_.memoizedState!==null?xe._visibility&2?tc(C,_,$,Q,N):Id(C,_):(xe._visibility|=2,tc(C,_,$,Q,N)),N&&ce&2048&&i0(_.alternate,_);break;case 24:tc(C,_,$,Q,N),N&&ce&2048&&l0(_.alternate,_);break;default:tc(C,_,$,Q,N)}o=o.sibling}}function Id(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,p=o,N=p.flags;switch(p.tag){case 22:Id(u,p),N&2048&&i0(p.alternate,p);break;case 24:Id(u,p),N&2048&&l0(p.alternate,p);break;default:Id(u,p)}o=o.sibling}}var zd=8192;function nc(i,o,u){if(i.subtreeFlags&zd)for(i=i.child;i!==null;)bS(i,o,u),i=i.sibling}function bS(i,o,u){switch(i.tag){case 26:nc(i,o,u),i.flags&zd&&i.memoizedState!==null&&$T(u,Kr,i.memoizedState,i.memoizedProps);break;case 5:nc(i,o,u);break;case 3:case 4:var p=Kr;Kr=Rf(i.stateNode.containerInfo),nc(i,o,u),Kr=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=zd,zd=16777216,nc(i,o,u),zd=p):nc(i,o,u));break;default:nc(i,o,u)}}function jS(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Bd(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Jn=p,wS(p,i)}jS(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)NS(i),i=i.sibling}function NS(i){switch(i.tag){case 0:case 11:case 15:Bd(i),i.flags&2048&&Zi(9,i,i.return);break;case 3:Bd(i);break;case 12:Bd(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,bf(i)):Bd(i);break;default:Bd(i)}}function bf(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Jn=p,wS(p,i)}jS(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Zi(8,o,o.return),bf(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,bf(o));break;default:bf(o)}i=i.sibling}}function wS(i,o){for(;Jn!==null;){var u=Jn;switch(u.tag){case 0:case 11:case 15:Zi(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Nd(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,Jn=p;else e:for(u=i;Jn!==null;){p=Jn;var N=p.sibling,C=p.return;if(fS(p),p===u){Jn=null;break e}if(N!==null){N.return=C,Jn=N;break e}Jn=C}}}var tT={getCacheForType:function(i){var o=ca(Ln),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return ca(Ln).controller.signal}},nT=typeof WeakMap=="function"?WeakMap:Map,_t=0,Xt=null,yt=null,wt=0,$t=0,tr=null,Xi=!1,ac=!1,o0=!1,Qs=0,Sn=0,Qi=0,Fl=0,c0=0,nr=0,rc=0,$d=null,ka=null,d0=!1,jf=0,SS=0,Nf=1/0,wf=null,Ji=null,Kn=0,el=null,sc=null,Js=0,u0=0,m0=null,AS=null,Fd=0,f0=null;function ar(){return(_t&2)!==0&&wt!==0?wt&-wt:W.T!==null?v0():Te()}function CS(){if(nr===0)if((wt&536870912)===0||Ct){var i=tt;tt<<=1,(tt&3932160)===0&&(tt=262144),nr=i}else nr=536870912;return i=Ja.current,i!==null&&(i.flags|=32),nr}function Ra(i,o,u){(i===Xt&&($t===2||$t===9)||i.cancelPendingCommit!==null)&&(ic(i,0),tl(i,wt,nr,!1)),Ga(i,u),((_t&2)===0||i!==Xt)&&(i===Xt&&((_t&2)===0&&(Fl|=u),Sn===4&&tl(i,wt,nr,!1)),us(i))}function MS(i,o,u){if((_t&6)!==0)throw Error(r(327));var p=!u&&(o&127)===0&&(o&i.expiredLanes)===0||_s(i,o),N=p?sT(i,o):p0(i,o,!0),C=p;do{if(N===0){ac&&!p&&tl(i,o,0,!1);break}else{if(u=i.current.alternate,C&&!aT(u)){N=p0(i,o,!1),C=!1;continue}if(N===2){if(C=o,i.errorRecoveryDisabledLanes&C)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){o=_;e:{var $=i;N=$d;var Q=$.current.memoizedState.isDehydrated;if(Q&&(ic($,_).flags|=256),_=p0($,_,!1),_!==2){if(o0&&!Q){$.errorRecoveryDisabledLanes|=C,Fl|=C,N=4;break e}C=ka,ka=N,C!==null&&(ka===null?ka=C:ka.push.apply(ka,C))}N=_}if(C=!1,N!==2)continue}}if(N===1){ic(i,0),tl(i,o,0,!0);break}e:{switch(p=i,C=N,C){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:tl(p,o,nr,!Xi);break e;case 2:ka=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(N=jf+300-ye(),10<N)){if(tl(p,o,nr,!Xi),dt(p,0,!0)!==0)break e;Js=o,p.timeoutHandle=r5(DS.bind(null,p,u,ka,wf,d0,o,nr,Fl,rc,Xi,C,"Throttled",-0,0),N);break e}DS(p,u,ka,wf,d0,o,nr,Fl,rc,Xi,C,null,-0,0)}}break}while(!0);us(i)}function DS(i,o,u,p,N,C,_,$,Q,ce,xe,be,de,he){if(i.timeoutHandle=-1,be=o.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zs},bS(o,C,be);var Fe=(C&62914560)===C?jf-ye():(C&4194048)===C?SS-ye():0;if(Fe=FT(be,Fe),Fe!==null){Js=C,i.cancelPendingCommit=Fe(LS.bind(null,i,o,C,u,p,N,_,$,Q,xe,be,null,de,he)),tl(i,C,_,!ce);return}}LS(i,o,C,u,p,N,_,$,Q)}function aT(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var N=u[p],C=N.getSnapshot;N=N.value;try{if(!Xa(C(),N))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function tl(i,o,u,p){o&=~c0,o&=~Fl,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var N=o;0<N;){var C=31-_n(N),_=1<<C;p[C]=-1,N&=~_}u!==0&&Ls(i,u,o)}function Sf(){return(_t&6)===0?(qd(0),!1):!0}function h0(){if(yt!==null){if($t===0)var i=yt.return;else i=yt,qs=kl=null,Og(i),Zo=null,Sd=0,i=yt;for(;i!==null;)sS(i.alternate,i),i=i.return;yt=null}}function ic(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,wT(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Js=0,h0(),Xt=i,yt=u=$s(i.current,null),wt=o,$t=0,tr=null,Xi=!1,ac=_s(i,o),o0=!1,rc=nr=c0=Fl=Qi=Sn=0,ka=$d=null,d0=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var N=31-_n(p),C=1<<N;o|=i[N],p&=~C}return Qs=o,Um(),u}function ES(i,o){ct=null,W.H=kd,o===Go||o===Qm?(o=Vw(),$t=3):o===yg?(o=Vw(),$t=4):$t=o===Kg?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,tr=o,yt===null&&(Sn=1,ff(i,br(o,i.current)))}function OS(){var i=Ja.current;return i===null?!0:(wt&4194048)===wt?Sr===null:(wt&62914560)===wt||(wt&536870912)!==0?i===Sr:!1}function PS(){var i=W.H;return W.H=kd,i===null?kd:i}function kS(){var i=W.A;return W.A=tT,i}function Af(){Sn=4,Xi||(wt&4194048)!==wt&&Ja.current!==null||(ac=!0),(Qi&134217727)===0&&(Fl&134217727)===0||Xt===null||tl(Xt,wt,nr,!1)}function p0(i,o,u){var p=_t;_t|=2;var N=PS(),C=kS();(Xt!==i||wt!==o)&&(wf=null,ic(i,o)),o=!1;var _=Sn;e:do try{if($t!==0&&yt!==null){var $=yt,Q=tr;switch($t){case 8:h0(),_=6;break e;case 3:case 2:case 9:case 6:Ja.current===null&&(o=!0);var ce=$t;if($t=0,tr=null,lc(i,$,Q,ce),u&&ac){_=0;break e}break;default:ce=$t,$t=0,tr=null,lc(i,$,Q,ce)}}rT(),_=Sn;break}catch(xe){ES(i,xe)}while(!0);return o&&i.shellSuspendCounter++,qs=kl=null,_t=p,W.H=N,W.A=C,yt===null&&(Xt=null,wt=0,Um()),_}function rT(){for(;yt!==null;)RS(yt)}function sT(i,o){var u=_t;_t|=2;var p=PS(),N=kS();Xt!==i||wt!==o?(wf=null,Nf=ye()+500,ic(i,o)):ac=_s(i,o);e:do try{if($t!==0&&yt!==null){o=yt;var C=tr;t:switch($t){case 1:$t=0,tr=null,lc(i,o,C,1);break;case 2:case 9:if(Hw(C)){$t=0,tr=null,_S(o);break}o=function(){$t!==2&&$t!==9||Xt!==i||($t=7),us(i)},C.then(o,o);break e;case 3:$t=7;break e;case 4:$t=5;break e;case 7:Hw(C)?($t=0,tr=null,_S(o)):($t=0,tr=null,lc(i,o,C,7));break;case 5:var _=null;switch(yt.tag){case 26:_=yt.memoizedState;case 5:case 27:var $=yt;if(_?v5(_):$.stateNode.complete){$t=0,tr=null;var Q=$.sibling;if(Q!==null)yt=Q;else{var ce=$.return;ce!==null?(yt=ce,Cf(ce)):yt=null}break t}}$t=0,tr=null,lc(i,o,C,5);break;case 6:$t=0,tr=null,lc(i,o,C,6);break;case 8:h0(),Sn=6;break e;default:throw Error(r(462))}}iT();break}catch(xe){ES(i,xe)}while(!0);return qs=kl=null,W.H=p,W.A=N,_t=u,yt!==null?0:(Xt=null,wt=0,Um(),Sn)}function iT(){for(;yt!==null&&!ue();)RS(yt)}function RS(i){var o=aS(i.alternate,i,Qs);i.memoizedProps=i.pendingProps,o===null?Cf(i):yt=o}function _S(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=X2(u,o,o.pendingProps,o.type,void 0,wt);break;case 11:o=X2(u,o,o.pendingProps,o.type.render,o.ref,wt);break;case 5:Og(o);default:sS(u,o),o=yt=kw(o,Qs),o=aS(u,o,Qs)}i.memoizedProps=i.pendingProps,o===null?Cf(i):yt=o}function lc(i,o,u,p){qs=kl=null,Og(o),Zo=null,Sd=0;var N=o.return;try{if(Y_(i,N,o,u,wt)){Sn=1,ff(i,br(u,i.current)),yt=null;return}}catch(C){if(N!==null)throw yt=N,C;Sn=1,ff(i,br(u,i.current)),yt=null;return}o.flags&32768?(Ct||p===1?i=!0:ac||(wt&536870912)!==0?i=!1:(Xi=i=!0,(p===2||p===9||p===3||p===6)&&(p=Ja.current,p!==null&&p.tag===13&&(p.flags|=16384))),TS(o,i)):Cf(o)}function Cf(i){var o=i;do{if((o.flags&32768)!==0){TS(o,Xi);return}i=o.return;var u=X_(o.alternate,o,Qs);if(u!==null){yt=u;return}if(o=o.sibling,o!==null){yt=o;return}yt=o=i}while(o!==null);Sn===0&&(Sn=5)}function TS(i,o){do{var u=Q_(i.alternate,i);if(u!==null){u.flags&=32767,yt=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){yt=i;return}yt=i=u}while(i!==null);Sn=6,yt=null}function LS(i,o,u,p,N,C,_,$,Q){i.cancelPendingCommit=null;do Mf();while(Kn!==0);if((_t&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(C=o.lanes|o.childLanes,C|=ag,ld(i,u,C,_,$,Q),i===Xt&&(yt=Xt=null,wt=0),sc=o,el=i,Js=u,u0=C,m0=N,AS=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,dT(et,function(){return FS(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=W.T,W.T=null,N=R.p,R.p=2,_=_t,_t|=4;try{J_(i,o,u)}finally{_t=_,R.p=N,W.T=p}}Kn=1,IS(),zS(),BS()}}function IS(){if(Kn===1){Kn=0;var i=el,o=sc,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=W.T,W.T=null;var p=R.p;R.p=2;var N=_t;_t|=4;try{gS(o,i);var C=M0,_=ww(i.containerInfo),$=C.focusedElem,Q=C.selectionRange;if(_!==$&&$&&$.ownerDocument&&Nw($.ownerDocument.documentElement,$)){if(Q!==null&&Qx($)){var ce=Q.start,xe=Q.end;if(xe===void 0&&(xe=ce),"selectionStart"in $)$.selectionStart=ce,$.selectionEnd=Math.min(xe,$.value.length);else{var be=$.ownerDocument||document,de=be&&be.defaultView||window;if(de.getSelection){var he=de.getSelection(),Fe=$.textContent.length,Xe=Math.min(Q.start,Fe),Yt=Q.end===void 0?Xe:Math.min(Q.end,Fe);!he.extend&&Xe>Yt&&(_=Yt,Yt=Xe,Xe=_);var ie=jw($,Xe),ee=jw($,Yt);if(ie&&ee&&(he.rangeCount!==1||he.anchorNode!==ie.node||he.anchorOffset!==ie.offset||he.focusNode!==ee.node||he.focusOffset!==ee.offset)){var oe=be.createRange();oe.setStart(ie.node,ie.offset),he.removeAllRanges(),Xe>Yt?(he.addRange(oe),he.extend(ee.node,ee.offset)):(oe.setEnd(ee.node,ee.offset),he.addRange(oe))}}}}for(be=[],he=$;he=he.parentNode;)he.nodeType===1&&be.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<be.length;$++){var ge=be[$];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}Bf=!!C0,M0=C0=null}finally{_t=N,R.p=p,W.T=u}}i.current=o,Kn=2}}function zS(){if(Kn===2){Kn=0;var i=el,o=sc,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=W.T,W.T=null;var p=R.p;R.p=2;var N=_t;_t|=4;try{mS(i,o.alternate,o)}finally{_t=N,R.p=p,W.T=u}}Kn=3}}function BS(){if(Kn===4||Kn===3){Kn=0,Re();var i=el,o=sc,u=Js,p=AS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Kn=5:(Kn=0,sc=el=null,$S(i,i.pendingLanes));var N=i.pendingLanes;if(N===0&&(Ji=null),K(u),o=o.stateNode,fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Vt,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=W.T,N=R.p,R.p=2,W.T=null;try{for(var C=i.onRecoverableError,_=0;_<p.length;_++){var $=p[_];C($.value,{componentStack:$.stack})}}finally{W.T=o,R.p=N}}(Js&3)!==0&&Mf(),us(i),N=i.pendingLanes,(u&261930)!==0&&(N&42)!==0?i===f0?Fd++:(Fd=0,f0=i):Fd=0,qd(0)}}function $S(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Nd(o)))}function Mf(){return IS(),zS(),BS(),FS()}function FS(){if(Kn!==5)return!1;var i=el,o=u0;u0=0;var u=K(Js),p=W.T,N=R.p;try{R.p=32>u?32:u,W.T=null,u=m0,m0=null;var C=el,_=Js;if(Kn=0,sc=el=null,Js=0,(_t&6)!==0)throw Error(r(331));var $=_t;if(_t|=4,NS(C.current),vS(C,C.current,_,u),_t=$,qd(0,!1),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Vt,C)}catch{}return!0}finally{R.p=N,W.T=p,$S(i,o)}}function qS(i,o,u){o=br(u,o),o=Vg(i.stateNode,o,2),i=Wi(i,o,2),i!==null&&(Ga(i,2),us(i))}function Ft(i,o,u){if(i.tag===3)qS(i,i,u);else for(;o!==null;){if(o.tag===3){qS(o,i,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ji===null||!Ji.has(p))){i=br(u,i),u=H2(2),p=Wi(o,u,2),p!==null&&(U2(u,p,o,i),Ga(p,2),us(p));break}}o=o.return}}function x0(i,o,u){var p=i.pingCache;if(p===null){p=i.pingCache=new nT;var N=new Set;p.set(o,N)}else N=p.get(o),N===void 0&&(N=new Set,p.set(o,N));N.has(u)||(o0=!0,N.add(u),i=lT.bind(null,i,o,u),o.then(i,i))}function lT(i,o,u){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Xt===i&&(wt&u)===u&&(Sn===4||Sn===3&&(wt&62914560)===wt&&300>ye()-jf?(_t&2)===0&&ic(i,0):c0|=u,rc===wt&&(rc=0)),us(i)}function HS(i,o){o===0&&(o=Do()),i=El(i,o),i!==null&&(Ga(i,o),us(i))}function oT(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),HS(i,u)}function cT(i,o){var u=0;switch(i.tag){case 31:case 13:var p=i.stateNode,N=i.memoizedState;N!==null&&(u=N.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(o),HS(i,u)}function dT(i,o){return X(i,o)}var Df=null,oc=null,g0=!1,Ef=!1,y0=!1,nl=0;function us(i){i!==oc&&i.next===null&&(oc===null?Df=oc=i:oc=oc.next=i),Ef=!0,g0||(g0=!0,mT())}function qd(i,o){if(!y0&&Ef){y0=!0;do for(var u=!1,p=Df;p!==null;){if(i!==0){var N=p.pendingLanes;if(N===0)var C=0;else{var _=p.suspendedLanes,$=p.pingedLanes;C=(1<<31-_n(42|i)+1)-1,C&=N&~(_&~$),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(u=!0,WS(p,C))}else C=wt,C=dt(p,p===Xt?C:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(C&3)===0||_s(p,C)||(u=!0,WS(p,C));p=p.next}while(u);y0=!1}}function uT(){US()}function US(){Ef=g0=!1;var i=0;nl!==0&&NT()&&(i=nl);for(var o=ye(),u=null,p=Df;p!==null;){var N=p.next,C=VS(p,o);C===0?(p.next=null,u===null?Df=N:u.next=N,N===null&&(oc=u)):(u=p,(i!==0||(C&3)!==0)&&(Ef=!0)),p=N}Kn!==0&&Kn!==5||qd(i),nl!==0&&(nl=0)}function VS(i,o){for(var u=i.suspendedLanes,p=i.pingedLanes,N=i.expirationTimes,C=i.pendingLanes&-62914561;0<C;){var _=31-_n(C),$=1<<_,Q=N[_];Q===-1?(($&u)===0||($&p)!==0)&&(N[_]=id($,o)):Q<=o&&(i.expiredLanes|=$),C&=~$}if(o=Xt,u=wt,u=dt(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,u===0||i===o&&($t===2||$t===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&re(p),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||_s(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(p!==null&&re(p),K(u)){case 2:case 8:u=Ze;break;case 32:u=et;break;case 268435456:u=la;break;default:u=et}return p=KS.bind(null,i),u=X(u,p),i.callbackPriority=o,i.callbackNode=u,o}return p!==null&&p!==null&&re(p),i.callbackPriority=2,i.callbackNode=null,2}function KS(i,o){if(Kn!==0&&Kn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Mf()&&i.callbackNode!==u)return null;var p=wt;return p=dt(i,i===Xt?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(MS(i,p,o),VS(i,ye()),i.callbackNode!=null&&i.callbackNode===u?KS.bind(null,i):null)}function WS(i,o){if(Mf())return null;MS(i,o,!0)}function mT(){ST(function(){(_t&6)!==0?X(Ee,uT):US()})}function v0(){if(nl===0){var i=Wo;i===0&&(i=Mt,Mt<<=1,(Mt&261888)===0&&(Mt=256)),nl=i}return nl}function YS(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Lm(""+i)}function GS(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function fT(i,o,u,p,N){if(o==="submit"&&u&&u.stateNode===N){var C=YS((N[Ma]||null).action),_=p.submitter;_&&(o=(o=_[Ma]||null)?YS(o.formAction):_.getAttribute("formAction"),o!==null&&(C=o,_=null));var $=new $m("action","action",null,p,N);i.push({event:$,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(nl!==0){var Q=_?GS(N,_):new FormData(N);Bg(u,{pending:!0,data:Q,method:N.method,action:C},null,Q)}}else typeof C=="function"&&($.preventDefault(),Q=_?GS(N,_):new FormData(N),Bg(u,{pending:!0,data:Q,method:N.method,action:C},C,Q))},currentTarget:N}]})}}for(var b0=0;b0<ng.length;b0++){var j0=ng[b0],hT=j0.toLowerCase(),pT=j0[0].toUpperCase()+j0.slice(1);Vr(hT,"on"+pT)}Vr(Cw,"onAnimationEnd"),Vr(Mw,"onAnimationIteration"),Vr(Dw,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(P_,"onTransitionRun"),Vr(k_,"onTransitionStart"),Vr(R_,"onTransitionCancel"),Vr(Ew,"onTransitionEnd"),Ro("onMouseEnter",["mouseout","mouseover"]),Ro("onMouseLeave",["mouseout","mouseover"]),Ro("onPointerEnter",["pointerout","pointerover"]),Ro("onPointerLeave",["pointerout","pointerover"]),Al("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Al("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Al("onBeforeInput",["compositionend","keypress","textInput","paste"]),Al("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Al("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Al("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hd));function ZS(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],N=p.event;p=p.listeners;e:{var C=void 0;if(o)for(var _=p.length-1;0<=_;_--){var $=p[_],Q=$.instance,ce=$.currentTarget;if($=$.listener,Q!==C&&N.isPropagationStopped())break e;C=$,N.currentTarget=ce;try{C(N)}catch(xe){Hm(xe)}N.currentTarget=null,C=Q}else for(_=0;_<p.length;_++){if($=p[_],Q=$.instance,ce=$.currentTarget,$=$.listener,Q!==C&&N.isPropagationStopped())break e;C=$,N.currentTarget=ce;try{C(N)}catch(xe){Hm(xe)}N.currentTarget=null,C=Q}}}}function vt(i,o){var u=o[_x];u===void 0&&(u=o[_x]=new Set);var p=i+"__bubble";u.has(p)||(XS(o,i,2,!1),u.add(p))}function N0(i,o,u){var p=0;o&&(p|=4),XS(u,i,p,o)}var Of="_reactListening"+Math.random().toString(36).slice(2);function w0(i){if(!i[Of]){i[Of]=!0,U1.forEach(function(u){u!=="selectionchange"&&(xT.has(u)||N0(u,!1,i),N0(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Of]||(o[Of]=!0,N0("selectionchange",!1,o))}}function XS(i,o,u,p){switch(C5(o)){case 2:var N=UT;break;case 8:N=VT;break;default:N=z0}u=N.bind(null,o,u,i),N=void 0,!Hx||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(N=!0),p?N!==void 0?i.addEventListener(o,u,{capture:!0,passive:N}):i.addEventListener(o,u,!0):N!==void 0?i.addEventListener(o,u,{passive:N}):i.addEventListener(o,u,!1)}function S0(i,o,u,p,N){var C=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var _=p.tag;if(_===3||_===4){var $=p.stateNode.containerInfo;if($===N)break;if(_===4)for(_=p.return;_!==null;){var Q=_.tag;if((Q===3||Q===4)&&_.stateNode.containerInfo===N)return;_=_.return}for(;$!==null;){if(_=Oo($),_===null)return;if(Q=_.tag,Q===5||Q===6||Q===26||Q===27){p=C=_;continue e}$=$.parentNode}}p=p.return}nw(function(){var ce=C,xe=Fx(u),be=[];e:{var de=Ow.get(i);if(de!==void 0){var he=$m,Fe=i;switch(i){case"keypress":if(zm(u)===0)break e;case"keydown":case"keyup":he=c_;break;case"focusin":Fe="focus",he=Wx;break;case"focusout":Fe="blur",he=Wx;break;case"beforeblur":case"afterblur":he=Wx;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=sw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=X6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=m_;break;case Cw:case Mw:case Dw:he=e_;break;case Ew:he=h_;break;case"scroll":case"scrollend":he=G6;break;case"wheel":he=x_;break;case"copy":case"cut":case"paste":he=n_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=lw;break;case"toggle":case"beforetoggle":he=y_}var Xe=(o&4)!==0,Yt=!Xe&&(i==="scroll"||i==="scrollend"),ie=Xe?de!==null?de+"Capture":null:de;Xe=[];for(var ee=ce,oe;ee!==null;){var ge=ee;if(oe=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||oe===null||ie===null||(ge=ud(ee,ie),ge!=null&&Xe.push(Ud(ee,ge,oe))),Yt)break;ee=ee.return}0<Xe.length&&(de=new he(de,Fe,null,u,xe),be.push({event:de,listeners:Xe}))}}if((o&7)===0){e:{if(de=i==="mouseover"||i==="pointerover",he=i==="mouseout"||i==="pointerout",de&&u!==$x&&(Fe=u.relatedTarget||u.fromElement)&&(Oo(Fe)||Fe[Eo]))break e;if((he||de)&&(de=xe.window===xe?xe:(de=xe.ownerDocument)?de.defaultView||de.parentWindow:window,he?(Fe=u.relatedTarget||u.toElement,he=ce,Fe=Fe?Oo(Fe):null,Fe!==null&&(Yt=l(Fe),Xe=Fe.tag,Fe!==Yt||Xe!==5&&Xe!==27&&Xe!==6)&&(Fe=null)):(he=null,Fe=ce),he!==Fe)){if(Xe=sw,ge="onMouseLeave",ie="onMouseEnter",ee="mouse",(i==="pointerout"||i==="pointerover")&&(Xe=lw,ge="onPointerLeave",ie="onPointerEnter",ee="pointer"),Yt=he==null?de:dd(he),oe=Fe==null?de:dd(Fe),de=new Xe(ge,ee+"leave",he,u,xe),de.target=Yt,de.relatedTarget=oe,ge=null,Oo(xe)===ce&&(Xe=new Xe(ie,ee+"enter",Fe,u,xe),Xe.target=oe,Xe.relatedTarget=Yt,ge=Xe),Yt=ge,he&&Fe)t:{for(Xe=gT,ie=he,ee=Fe,oe=0,ge=ie;ge;ge=Xe(ge))oe++;ge=0;for(var Ge=ee;Ge;Ge=Xe(Ge))ge++;for(;0<oe-ge;)ie=Xe(ie),oe--;for(;0<ge-oe;)ee=Xe(ee),ge--;for(;oe--;){if(ie===ee||ee!==null&&ie===ee.alternate){Xe=ie;break t}ie=Xe(ie),ee=Xe(ee)}Xe=null}else Xe=null;he!==null&&QS(be,de,he,Xe,!1),Fe!==null&&Yt!==null&&QS(be,Yt,Fe,Xe,!0)}}e:{if(de=ce?dd(ce):window,he=de.nodeName&&de.nodeName.toLowerCase(),he==="select"||he==="input"&&de.type==="file")var Pt=pw;else if(fw(de))if(xw)Pt=D_;else{Pt=C_;var qe=A_}else he=de.nodeName,!he||he.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ce&&Bx(ce.elementType)&&(Pt=pw):Pt=M_;if(Pt&&(Pt=Pt(i,ce))){hw(be,Pt,u,xe);break e}qe&&qe(i,de,ce),i==="focusout"&&ce&&de.type==="number"&&ce.memoizedProps.value!=null&&zx(de,"number",de.value)}switch(qe=ce?dd(ce):window,i){case"focusin":(fw(qe)||qe.contentEditable==="true")&&(Bo=qe,Jx=ce,vd=null);break;case"focusout":vd=Jx=Bo=null;break;case"mousedown":eg=!0;break;case"contextmenu":case"mouseup":case"dragend":eg=!1,Sw(be,u,xe);break;case"selectionchange":if(O_)break;case"keydown":case"keyup":Sw(be,u,xe)}var ut;if(Gx)e:{switch(i){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else zo?uw(i,u)&&(St="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(St="onCompositionStart");St&&(ow&&u.locale!=="ko"&&(zo||St!=="onCompositionStart"?St==="onCompositionEnd"&&zo&&(ut=aw()):($i=xe,Ux="value"in $i?$i.value:$i.textContent,zo=!0)),qe=Pf(ce,St),0<qe.length&&(St=new iw(St,i,null,u,xe),be.push({event:St,listeners:qe}),ut?St.data=ut:(ut=mw(u),ut!==null&&(St.data=ut)))),(ut=b_?j_(i,u):N_(i,u))&&(St=Pf(ce,"onBeforeInput"),0<St.length&&(qe=new iw("onBeforeInput","beforeinput",null,u,xe),be.push({event:qe,listeners:St}),qe.data=ut)),fT(be,i,ce,u,xe)}ZS(be,o)})}function Ud(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Pf(i,o){for(var u=o+"Capture",p=[];i!==null;){var N=i,C=N.stateNode;if(N=N.tag,N!==5&&N!==26&&N!==27||C===null||(N=ud(i,u),N!=null&&p.unshift(Ud(i,N,C)),N=ud(i,o),N!=null&&p.push(Ud(i,N,C))),i.tag===3)return p;i=i.return}return[]}function gT(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function QS(i,o,u,p,N){for(var C=o._reactName,_=[];u!==null&&u!==p;){var $=u,Q=$.alternate,ce=$.stateNode;if($=$.tag,Q!==null&&Q===p)break;$!==5&&$!==26&&$!==27||ce===null||(Q=ce,N?(ce=ud(u,C),ce!=null&&_.unshift(Ud(u,ce,Q))):N||(ce=ud(u,C),ce!=null&&_.push(Ud(u,ce,Q)))),u=u.return}_.length!==0&&i.push({event:o,listeners:_})}var yT=/\r\n?/g,vT=/\u0000|\uFFFD/g;function JS(i){return(typeof i=="string"?i:""+i).replace(yT,`
`).replace(vT,"")}function e5(i,o){return o=JS(o),JS(i)===o}function Wt(i,o,u,p,N,C){switch(u){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||To(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&To(i,""+p);break;case"className":_m(i,"class",p);break;case"tabIndex":_m(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":_m(i,u,p);break;case"style":ew(i,p,C);break;case"data":if(o!=="object"){_m(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(u);break}p=Lm(""+p),i.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(u==="formAction"?(o!=="input"&&Wt(i,o,"name",N.name,N,null),Wt(i,o,"formEncType",N.formEncType,N,null),Wt(i,o,"formMethod",N.formMethod,N,null),Wt(i,o,"formTarget",N.formTarget,N,null)):(Wt(i,o,"encType",N.encType,N,null),Wt(i,o,"method",N.method,N,null),Wt(i,o,"target",N.target,N,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(u);break}p=Lm(""+p),i.setAttribute(u,p);break;case"onClick":p!=null&&(i.onclick=zs);break;case"onScroll":p!=null&&vt("scroll",i);break;case"onScrollEnd":p!=null&&vt("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(N.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}u=Lm(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,""+p):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":p===!0?i.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,p):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(u,p):i.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(u):i.setAttribute(u,p);break;case"popover":vt("beforetoggle",i),vt("toggle",i),Rm(i,"popover",p);break;case"xlinkActuate":Is(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Is(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Is(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Is(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Is(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Is(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Is(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Is(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Is(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Rm(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=W6.get(u)||u,Rm(i,u,p))}}function A0(i,o,u,p,N,C){switch(u){case"style":ew(i,p,C);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(N.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof p=="string"?To(i,p):(typeof p=="number"||typeof p=="bigint")&&To(i,""+p);break;case"onScroll":p!=null&&vt("scroll",i);break;case"onScrollEnd":p!=null&&vt("scrollend",i);break;case"onClick":p!=null&&(i.onclick=zs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!V1.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(N=u.endsWith("Capture"),o=u.slice(2,N?u.length-7:void 0),C=i[Ma]||null,C=C!=null?C[u]:null,typeof C=="function"&&i.removeEventListener(o,C,N),typeof p=="function")){typeof C!="function"&&C!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,p,N);break e}u in i?i[u]=p:p===!0?i.setAttribute(u,""):Rm(i,u,p)}}}function ua(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",i),vt("load",i);var p=!1,N=!1,C;for(C in u)if(u.hasOwnProperty(C)){var _=u[C];if(_!=null)switch(C){case"src":p=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Wt(i,o,C,_,u,null)}}N&&Wt(i,o,"srcSet",u.srcSet,u,null),p&&Wt(i,o,"src",u.src,u,null);return;case"input":vt("invalid",i);var $=C=_=N=null,Q=null,ce=null;for(p in u)if(u.hasOwnProperty(p)){var xe=u[p];if(xe!=null)switch(p){case"name":N=xe;break;case"type":_=xe;break;case"checked":Q=xe;break;case"defaultChecked":ce=xe;break;case"value":C=xe;break;case"defaultValue":$=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,o));break;default:Wt(i,o,p,xe,u,null)}}Z1(i,C,$,Q,ce,_,N,!1);return;case"select":vt("invalid",i),p=_=C=null;for(N in u)if(u.hasOwnProperty(N)&&($=u[N],$!=null))switch(N){case"value":C=$;break;case"defaultValue":_=$;break;case"multiple":p=$;default:Wt(i,o,N,$,u,null)}o=C,u=_,i.multiple=!!p,o!=null?_o(i,!!p,o,!1):u!=null&&_o(i,!!p,u,!0);return;case"textarea":vt("invalid",i),C=N=p=null;for(_ in u)if(u.hasOwnProperty(_)&&($=u[_],$!=null))switch(_){case"value":p=$;break;case"defaultValue":N=$;break;case"children":C=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:Wt(i,o,_,$,u,null)}Q1(i,p,N,C);return;case"option":for(Q in u)if(u.hasOwnProperty(Q)&&(p=u[Q],p!=null))switch(Q){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Wt(i,o,Q,p,u,null)}return;case"dialog":vt("beforetoggle",i),vt("toggle",i),vt("cancel",i),vt("close",i);break;case"iframe":case"object":vt("load",i);break;case"video":case"audio":for(p=0;p<Hd.length;p++)vt(Hd[p],i);break;case"image":vt("error",i),vt("load",i);break;case"details":vt("toggle",i);break;case"embed":case"source":case"link":vt("error",i),vt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in u)if(u.hasOwnProperty(ce)&&(p=u[ce],p!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Wt(i,o,ce,p,u,null)}return;default:if(Bx(o)){for(xe in u)u.hasOwnProperty(xe)&&(p=u[xe],p!==void 0&&A0(i,o,xe,p,u,void 0));return}}for($ in u)u.hasOwnProperty($)&&(p=u[$],p!=null&&Wt(i,o,$,p,u,null))}function bT(i,o,u,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,C=null,_=null,$=null,Q=null,ce=null,xe=null;for(he in u){var be=u[he];if(u.hasOwnProperty(he)&&be!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":Q=be;default:p.hasOwnProperty(he)||Wt(i,o,he,null,p,be)}}for(var de in p){var he=p[de];if(be=u[de],p.hasOwnProperty(de)&&(he!=null||be!=null))switch(de){case"type":C=he;break;case"name":N=he;break;case"checked":ce=he;break;case"defaultChecked":xe=he;break;case"value":_=he;break;case"defaultValue":$=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,o));break;default:he!==be&&Wt(i,o,de,he,p,be)}}Ix(i,_,$,Q,ce,xe,C,N);return;case"select":he=_=$=de=null;for(C in u)if(Q=u[C],u.hasOwnProperty(C)&&Q!=null)switch(C){case"value":break;case"multiple":he=Q;default:p.hasOwnProperty(C)||Wt(i,o,C,null,p,Q)}for(N in p)if(C=p[N],Q=u[N],p.hasOwnProperty(N)&&(C!=null||Q!=null))switch(N){case"value":de=C;break;case"defaultValue":$=C;break;case"multiple":_=C;default:C!==Q&&Wt(i,o,N,C,p,Q)}o=$,u=_,p=he,de!=null?_o(i,!!u,de,!1):!!p!=!!u&&(o!=null?_o(i,!!u,o,!0):_o(i,!!u,u?[]:"",!1));return;case"textarea":he=de=null;for($ in u)if(N=u[$],u.hasOwnProperty($)&&N!=null&&!p.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Wt(i,o,$,null,p,N)}for(_ in p)if(N=p[_],C=u[_],p.hasOwnProperty(_)&&(N!=null||C!=null))switch(_){case"value":de=N;break;case"defaultValue":he=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:N!==C&&Wt(i,o,_,N,p,C)}X1(i,de,he);return;case"option":for(var Fe in u)if(de=u[Fe],u.hasOwnProperty(Fe)&&de!=null&&!p.hasOwnProperty(Fe))switch(Fe){case"selected":i.selected=!1;break;default:Wt(i,o,Fe,null,p,de)}for(Q in p)if(de=p[Q],he=u[Q],p.hasOwnProperty(Q)&&de!==he&&(de!=null||he!=null))switch(Q){case"selected":i.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Wt(i,o,Q,de,p,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in u)de=u[Xe],u.hasOwnProperty(Xe)&&de!=null&&!p.hasOwnProperty(Xe)&&Wt(i,o,Xe,null,p,de);for(ce in p)if(de=p[ce],he=u[ce],p.hasOwnProperty(ce)&&de!==he&&(de!=null||he!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:Wt(i,o,ce,de,p,he)}return;default:if(Bx(o)){for(var Yt in u)de=u[Yt],u.hasOwnProperty(Yt)&&de!==void 0&&!p.hasOwnProperty(Yt)&&A0(i,o,Yt,void 0,p,de);for(xe in p)de=p[xe],he=u[xe],!p.hasOwnProperty(xe)||de===he||de===void 0&&he===void 0||A0(i,o,xe,de,p,he);return}}for(var ie in u)de=u[ie],u.hasOwnProperty(ie)&&de!=null&&!p.hasOwnProperty(ie)&&Wt(i,o,ie,null,p,de);for(be in p)de=p[be],he=u[be],!p.hasOwnProperty(be)||de===he||de==null&&he==null||Wt(i,o,be,de,p,he)}function t5(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jT(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var N=u[p],C=N.transferSize,_=N.initiatorType,$=N.duration;if(C&&$&&t5(_)){for(_=0,$=N.responseEnd,p+=1;p<u.length;p++){var Q=u[p],ce=Q.startTime;if(ce>$)break;var xe=Q.transferSize,be=Q.initiatorType;xe&&t5(be)&&(Q=Q.responseEnd,_+=xe*(Q<$?1:($-ce)/(Q-ce)))}if(--p,o+=8*(C+_)/(N.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var C0=null,M0=null;function kf(i){return i.nodeType===9?i:i.ownerDocument}function n5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a5(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function D0(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var E0=null;function NT(){var i=window.event;return i&&i.type==="popstate"?i===E0?!1:(E0=i,!0):(E0=null,!1)}var r5=typeof setTimeout=="function"?setTimeout:void 0,wT=typeof clearTimeout=="function"?clearTimeout:void 0,s5=typeof Promise=="function"?Promise:void 0,ST=typeof queueMicrotask=="function"?queueMicrotask:typeof s5<"u"?function(i){return s5.resolve(null).then(i).catch(AT)}:r5;function AT(i){setTimeout(function(){throw i})}function al(i){return i==="head"}function i5(i,o){var u=o,p=0;do{var N=u.nextSibling;if(i.removeChild(u),N&&N.nodeType===8)if(u=N.data,u==="/$"||u==="/&"){if(p===0){i.removeChild(N),mc(o);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")Vd(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Vd(u);for(var C=u.firstChild;C;){var _=C.nextSibling,$=C.nodeName;C[cd]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&C.rel.toLowerCase()==="stylesheet"||u.removeChild(C),C=_}}else u==="body"&&Vd(i.ownerDocument.body);u=N}while(u);mc(o)}function l5(i,o){var u=i;i=0;do{var p=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=p}while(u)}function O0(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":O0(u),Tx(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function CT(i,o,u,p){for(;i.nodeType===1;){var N=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[cd])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(C=i.getAttribute("rel"),C==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(C!==N.rel||i.getAttribute("href")!==(N.href==null||N.href===""?null:N.href)||i.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||i.getAttribute("title")!==(N.title==null?null:N.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(C=i.getAttribute("src"),(C!==(N.src==null?null:N.src)||i.getAttribute("type")!==(N.type==null?null:N.type)||i.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&C&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var C=N.name==null?null:""+N.name;if(N.type==="hidden"&&i.getAttribute("name")===C)return i}else return i;if(i=Ar(i.nextSibling),i===null)break}return null}function MT(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Ar(i.nextSibling),i===null))return null;return i}function o5(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Ar(i.nextSibling),i===null))return null;return i}function P0(i){return i.data==="$?"||i.data==="$~"}function k0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function DT(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var p=function(){o(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function Ar(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var R0=null;function c5(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return Ar(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function d5(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function u5(i,o,u){switch(o=kf(u),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Vd(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Tx(i)}var Cr=new Map,m5=new Set;function Rf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ei=R.d;R.d={f:ET,r:OT,D:PT,C:kT,L:RT,m:_T,X:LT,S:TT,M:IT};function ET(){var i=ei.f(),o=Sf();return i||o}function OT(i){var o=Po(i);o!==null&&o.tag===5&&o.type==="form"?E2(o):ei.r(i)}var cc=typeof document>"u"?null:document;function f5(i,o,u){var p=cc;if(p&&typeof o=="string"&&o){var N=yr(o);N='link[rel="'+i+'"][href="'+N+'"]',typeof u=="string"&&(N+='[crossorigin="'+u+'"]'),m5.has(N)||(m5.add(N),i={rel:i,crossOrigin:u,href:o},p.querySelector(N)===null&&(o=p.createElement("link"),ua(o,"link",i),Qn(o),p.head.appendChild(o)))}}function PT(i){ei.D(i),f5("dns-prefetch",i,null)}function kT(i,o){ei.C(i,o),f5("preconnect",i,o)}function RT(i,o,u){ei.L(i,o,u);var p=cc;if(p&&i&&o){var N='link[rel="preload"][as="'+yr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(N+='[imagesrcset="'+yr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(N+='[imagesizes="'+yr(u.imageSizes)+'"]')):N+='[href="'+yr(i)+'"]';var C=N;switch(o){case"style":C=dc(i);break;case"script":C=uc(i)}Cr.has(C)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),Cr.set(C,i),p.querySelector(N)!==null||o==="style"&&p.querySelector(Kd(C))||o==="script"&&p.querySelector(Wd(C))||(o=p.createElement("link"),ua(o,"link",i),Qn(o),p.head.appendChild(o)))}}function _T(i,o){ei.m(i,o);var u=cc;if(u&&i){var p=o&&typeof o.as=="string"?o.as:"script",N='link[rel="modulepreload"][as="'+yr(p)+'"][href="'+yr(i)+'"]',C=N;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=uc(i)}if(!Cr.has(C)&&(i=g({rel:"modulepreload",href:i},o),Cr.set(C,i),u.querySelector(N)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Wd(C)))return}p=u.createElement("link"),ua(p,"link",i),Qn(p),u.head.appendChild(p)}}}function TT(i,o,u){ei.S(i,o,u);var p=cc;if(p&&i){var N=ko(p).hoistableStyles,C=dc(i);o=o||"default";var _=N.get(C);if(!_){var $={loading:0,preload:null};if(_=p.querySelector(Kd(C)))$.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=Cr.get(C))&&_0(i,u);var Q=_=p.createElement("link");Qn(Q),ua(Q,"link",i),Q._p=new Promise(function(ce,xe){Q.onload=ce,Q.onerror=xe}),Q.addEventListener("load",function(){$.loading|=1}),Q.addEventListener("error",function(){$.loading|=2}),$.loading|=4,_f(_,o,p)}_={type:"stylesheet",instance:_,count:1,state:$},N.set(C,_)}}}function LT(i,o){ei.X(i,o);var u=cc;if(u&&i){var p=ko(u).hoistableScripts,N=uc(i),C=p.get(N);C||(C=u.querySelector(Wd(N)),C||(i=g({src:i,async:!0},o),(o=Cr.get(N))&&T0(i,o),C=u.createElement("script"),Qn(C),ua(C,"link",i),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},p.set(N,C))}}function IT(i,o){ei.M(i,o);var u=cc;if(u&&i){var p=ko(u).hoistableScripts,N=uc(i),C=p.get(N);C||(C=u.querySelector(Wd(N)),C||(i=g({src:i,async:!0,type:"module"},o),(o=Cr.get(N))&&T0(i,o),C=u.createElement("script"),Qn(C),ua(C,"link",i),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},p.set(N,C))}}function h5(i,o,u,p){var N=(N=se.current)?Rf(N):null;if(!N)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=dc(u.href),u=ko(N).hoistableStyles,p=u.get(o),p||(p={type:"style",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=dc(u.href);var C=ko(N).hoistableStyles,_=C.get(i);if(_||(N=N.ownerDocument||N,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(i,_),(C=N.querySelector(Kd(i)))&&!C._p&&(_.instance=C,_.state.loading=5),Cr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Cr.set(i,u),C||zT(N,i,u,_.state))),o&&p===null)throw Error(r(528,""));return _}if(o&&p!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=uc(u),u=ko(N).hoistableScripts,p=u.get(o),p||(p={type:"script",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function dc(i){return'href="'+yr(i)+'"'}function Kd(i){return'link[rel="stylesheet"]['+i+"]"}function p5(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function zT(i,o,u,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),ua(o,"link",u),Qn(o),i.head.appendChild(o))}function uc(i){return'[src="'+yr(i)+'"]'}function Wd(i){return"script[async]"+i}function x5(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+yr(u.href)+'"]');if(p)return o.instance=p,Qn(p),p;var N=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),Qn(p),ua(p,"style",N),_f(p,u.precedence,i),o.instance=p;case"stylesheet":N=dc(u.href);var C=i.querySelector(Kd(N));if(C)return o.state.loading|=4,o.instance=C,Qn(C),C;p=p5(u),(N=Cr.get(N))&&_0(p,N),C=(i.ownerDocument||i).createElement("link"),Qn(C);var _=C;return _._p=new Promise(function($,Q){_.onload=$,_.onerror=Q}),ua(C,"link",p),o.state.loading|=4,_f(C,u.precedence,i),o.instance=C;case"script":return C=uc(u.src),(N=i.querySelector(Wd(C)))?(o.instance=N,Qn(N),N):(p=u,(N=Cr.get(C))&&(p=g({},u),T0(p,N)),i=i.ownerDocument||i,N=i.createElement("script"),Qn(N),ua(N,"link",p),i.head.appendChild(N),o.instance=N);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,_f(p,u.precedence,i));return o.instance}function _f(i,o,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=p.length?p[p.length-1]:null,C=N,_=0;_<p.length;_++){var $=p[_];if($.dataset.precedence===o)C=$;else if(C!==N)break}C?C.parentNode.insertBefore(i,C.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function _0(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function T0(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Tf=null;function g5(i,o,u){if(Tf===null){var p=new Map,N=Tf=new Map;N.set(u,p)}else N=Tf,p=N.get(u),p||(p=new Map,N.set(u,p));if(p.has(i))return p;for(p.set(i,null),u=u.getElementsByTagName(i),N=0;N<u.length;N++){var C=u[N];if(!(C[cd]||C[vn]||i==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var _=C.getAttribute(o)||"";_=i+_;var $=p.get(_);$?$.push(C):p.set(_,[C])}}return p}function y5(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function BT(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function v5(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function $T(i,o,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var N=dc(p.href),C=o.querySelector(Kd(N));if(C){o=C._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Lf.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=C,Qn(C);return}C=o.ownerDocument||o,p=p5(p),(N=Cr.get(N))&&_0(p,N),C=C.createElement("link"),Qn(C);var _=C;_._p=new Promise(function($,Q){_.onload=$,_.onerror=Q}),ua(C,"link",p),u.instance=C}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Lf.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var L0=0;function FT(i,o){return i.stylesheets&&i.count===0&&zf(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var p=setTimeout(function(){if(i.stylesheets&&zf(i,i.stylesheets),i.unsuspend){var C=i.unsuspend;i.unsuspend=null,C()}},6e4+o);0<i.imgBytes&&L0===0&&(L0=62500*jT());var N=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&zf(i,i.stylesheets),i.unsuspend)){var C=i.unsuspend;i.unsuspend=null,C()}},(i.imgBytes>L0?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(N)}}:null}function Lf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var If=null;function zf(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,If=new Map,o.forEach(qT,i),If=null,Lf.call(i))}function qT(i,o){if(!(o.state.loading&4)){var u=If.get(i);if(u)var p=u.get(null);else{u=new Map,If.set(i,u);for(var N=i.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<N.length;C++){var _=N[C];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(u.set(_.dataset.precedence,_),p=_)}p&&u.set(null,p)}N=o.instance,_=N.getAttribute("data-precedence"),C=u.get(_)||p,C===p&&u.set(null,N),u.set(_,N),this.count++,p=Lf.bind(this),N.addEventListener("load",p),N.addEventListener("error",p),C?C.parentNode.insertBefore(N,C.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(N,i.firstChild)),o.state.loading|=4}}var Yd={$$typeof:A,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function HT(i,o,u,p,N,C,_,$,Q){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ts(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.hiddenUpdates=Ts(null),this.identifierPrefix=p,this.onUncaughtError=N,this.onCaughtError=C,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function b5(i,o,u,p,N,C,_,$,Q,ce,xe,be){return i=new HT(i,o,u,_,Q,ce,xe,be,$),o=1,C===!0&&(o|=24),C=Qa(3,null,null,o),i.current=C,C.stateNode=i,o=pg(),o.refCount++,i.pooledCache=o,o.refCount++,C.memoizedState={element:p,isDehydrated:u,cache:o},vg(C),i}function j5(i){return i?(i=qo,i):qo}function N5(i,o,u,p,N,C){N=j5(N),p.context===null?p.context=N:p.pendingContext=N,p=Ki(o),p.payload={element:u},C=C===void 0?null:C,C!==null&&(p.callback=C),u=Wi(i,p,o),u!==null&&(Ra(u,i,o),Cd(u,i,o))}function w5(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function I0(i,o){w5(i,o),(i=i.alternate)&&w5(i,o)}function S5(i){if(i.tag===13||i.tag===31){var o=El(i,67108864);o!==null&&Ra(o,i,67108864),I0(i,67108864)}}function A5(i){if(i.tag===13||i.tag===31){var o=ar();o=od(o);var u=El(i,o);u!==null&&Ra(u,i,o),I0(i,o)}}var Bf=!0;function UT(i,o,u,p){var N=W.T;W.T=null;var C=R.p;try{R.p=2,z0(i,o,u,p)}finally{R.p=C,W.T=N}}function VT(i,o,u,p){var N=W.T;W.T=null;var C=R.p;try{R.p=8,z0(i,o,u,p)}finally{R.p=C,W.T=N}}function z0(i,o,u,p){if(Bf){var N=B0(p);if(N===null)S0(i,o,p,$f,u),M5(i,p);else if(WT(N,i,o,u,p))p.stopPropagation();else if(M5(i,p),o&4&&-1<KT.indexOf(i)){for(;N!==null;){var C=Po(N);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var _=Tn(C.pendingLanes);if(_!==0){var $=C;for($.pendingLanes|=2,$.entangledLanes|=2;_;){var Q=1<<31-_n(_);$.entanglements[1]|=Q,_&=~Q}us(C),(_t&6)===0&&(Nf=ye()+500,qd(0))}}break;case 31:case 13:$=El(C,2),$!==null&&Ra($,C,2),Sf(),I0(C,2)}if(C=B0(p),C===null&&S0(i,o,p,$f,u),C===N)break;N=C}N!==null&&p.stopPropagation()}else S0(i,o,p,null,u)}}function B0(i){return i=Fx(i),$0(i)}var $f=null;function $0(i){if($f=null,i=Oo(i),i!==null){var o=l(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=c(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return $f=i,null}function C5(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(we()){case Ee:return 2;case Ze:return 8;case et:case sn:return 32;case la:return 268435456;default:return 32}default:return 32}}var F0=!1,rl=null,sl=null,il=null,Gd=new Map,Zd=new Map,ll=[],KT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M5(i,o){switch(i){case"focusin":case"focusout":rl=null;break;case"dragenter":case"dragleave":sl=null;break;case"mouseover":case"mouseout":il=null;break;case"pointerover":case"pointerout":Gd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zd.delete(o.pointerId)}}function Xd(i,o,u,p,N,C){return i===null||i.nativeEvent!==C?(i={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:C,targetContainers:[N]},o!==null&&(o=Po(o),o!==null&&S5(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,N!==null&&o.indexOf(N)===-1&&o.push(N),i)}function WT(i,o,u,p,N){switch(o){case"focusin":return rl=Xd(rl,i,o,u,p,N),!0;case"dragenter":return sl=Xd(sl,i,o,u,p,N),!0;case"mouseover":return il=Xd(il,i,o,u,p,N),!0;case"pointerover":var C=N.pointerId;return Gd.set(C,Xd(Gd.get(C)||null,i,o,u,p,N)),!0;case"gotpointercapture":return C=N.pointerId,Zd.set(C,Xd(Zd.get(C)||null,i,o,u,p,N)),!0}return!1}function D5(i){var o=Oo(i.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){i.blockedOn=o,Za(i.priority,function(){A5(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,Za(i.priority,function(){A5(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ff(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=B0(i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);$x=p,u.target.dispatchEvent(p),$x=null}else return o=Po(u),o!==null&&S5(o),i.blockedOn=u,!1;o.shift()}return!0}function E5(i,o,u){Ff(i)&&u.delete(o)}function YT(){F0=!1,rl!==null&&Ff(rl)&&(rl=null),sl!==null&&Ff(sl)&&(sl=null),il!==null&&Ff(il)&&(il=null),Gd.forEach(E5),Zd.forEach(E5)}function qf(i,o){i.blockedOn===o&&(i.blockedOn=null,F0||(F0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,YT)))}var Hf=null;function O5(i){Hf!==i&&(Hf=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Hf===i&&(Hf=null);for(var o=0;o<i.length;o+=3){var u=i[o],p=i[o+1],N=i[o+2];if(typeof p!="function"){if($0(p||u)===null)continue;break}var C=Po(u);C!==null&&(i.splice(o,3),o-=3,Bg(C,{pending:!0,data:N,method:u.method,action:p},p,N))}}))}function mc(i){function o(Q){return qf(Q,i)}rl!==null&&qf(rl,i),sl!==null&&qf(sl,i),il!==null&&qf(il,i),Gd.forEach(o),Zd.forEach(o);for(var u=0;u<ll.length;u++){var p=ll[u];p.blockedOn===i&&(p.blockedOn=null)}for(;0<ll.length&&(u=ll[0],u.blockedOn===null);)D5(u),u.blockedOn===null&&ll.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var N=u[p],C=u[p+1],_=N[Ma]||null;if(typeof C=="function")_||O5(u);else if(_){var $=null;if(C&&C.hasAttribute("formAction")){if(N=C,_=C[Ma]||null)$=_.formAction;else if($0(N)!==null)continue}else $=_.action;typeof $=="function"?u[p+1]=$:(u.splice(p,3),p-=3),O5(u)}}}function P5(){function i(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(_){return N=_})},focusReset:"manual",scroll:"manual"})}function o(){N!==null&&(N(),N=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,N=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),N!==null&&(N(),N=null)}}}function q0(i){this._internalRoot=i}Uf.prototype.render=q0.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,p=ar();N5(u,p,i,o,null,null)},Uf.prototype.unmount=q0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;N5(i.current,2,null,i,null,null),Sf(),o[Eo]=null}};function Uf(i){this._internalRoot=i}Uf.prototype.unstable_scheduleHydration=function(i){if(i){var o=Te();i={blockedOn:null,target:i,priority:o};for(var u=0;u<ll.length&&o!==0&&o<ll[u].priority;u++);ll.splice(u,0,i),u===0&&D5(i)}};var k5=n.version;if(k5!=="19.2.0")throw Error(r(527,k5,"19.2.0"));R.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var GT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vf.isDisabled&&Vf.supportsFiber)try{Vt=Vf.inject(GT),fn=Vf}catch{}}return Jd.createRoot=function(i,o){if(!s(i))throw Error(r(299));var u=!1,p="",N=B2,C=$2,_=F2;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(N=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),o=b5(i,1,!1,null,null,u,p,null,N,C,_,P5),i[Eo]=o.current,w0(i),new q0(o)},Jd.hydrateRoot=function(i,o,u){if(!s(i))throw Error(r(299));var p=!1,N="",C=B2,_=$2,$=F2,Q=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(N=u.identifierPrefix),u.onUncaughtError!==void 0&&(C=u.onUncaughtError),u.onCaughtError!==void 0&&(_=u.onCaughtError),u.onRecoverableError!==void 0&&($=u.onRecoverableError),u.formState!==void 0&&(Q=u.formState)),o=b5(i,1,!0,o,u??null,p,N,Q,C,_,$,P5),o.context=j5(null),u=o.current,p=ar(),p=od(p),N=Ki(p),N.callback=null,Wi(u,N,p),u=p,o.current.lanes=u,Ga(o,u),us(o),i[Eo]=o.current,w0(i),new Uf(o)},Jd.version="19.2.0",Jd}var B5;function _L(){if(B5)return U0.exports;B5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),U0.exports=RL(),U0.exports}var TL=_L();const LL=$r(TL);function IL(e,n){let a;try{a=e()}catch{return}return{getItem:s=>{var l;const c=m=>m===null?null:JSON.parse(m,void 0),d=(l=a.getItem(s))!=null?l:null;return d instanceof Promise?d.then(c):c(d)},setItem:(s,l)=>a.setItem(s,JSON.stringify(l,void 0)),removeItem:s=>a.removeItem(s)}}const Qv=e=>n=>{try{const a=e(n);return a instanceof Promise?a:{then(r){return Qv(r)(a)},catch(r){return this}}}catch(a){return{then(r){return this},catch(r){return Qv(r)(a)}}}},zL=(e,n)=>(a,r,s)=>{let l={storage:IL(()=>localStorage),partialize:b=>b,version:0,merge:(b,w)=>({...w,...b}),...n},c=!1;const d=new Set,m=new Set;let f=l.storage;if(!f)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),a(...b)},r,s);const h=()=>{const b=l.partialize({...r()});return f.setItem(l.name,{state:b,version:l.version})},g=s.setState;s.setState=(b,w)=>(g(b,w),h());const y=e((...b)=>(a(...b),h()),r,s);s.getInitialState=()=>y;let v;const j=()=>{var b,w;if(!f)return;c=!1,d.forEach(S=>{var A;return S((A=r())!=null?A:y)});const M=((w=l.onRehydrateStorage)==null?void 0:w.call(l,(b=r())!=null?b:y))||void 0;return Qv(f.getItem.bind(f))(l.name).then(S=>{if(S)if(typeof S.version=="number"&&S.version!==l.version){if(l.migrate){const A=l.migrate(S.state,S.version);return A instanceof Promise?A.then(E=>[!0,E]):[!0,A]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,S.state];return[!1,void 0]}).then(S=>{var A;const[E,D]=S;if(v=l.merge(D,(A=r())!=null?A:y),a(v,!0),E)return h()}).then(()=>{M?.(v,void 0),v=r(),c=!0,m.forEach(S=>S(v))}).catch(S=>{M?.(void 0,S)})};return s.persist={setOptions:b=>{l={...l,...b},b.storage&&(f=b.storage)},clearStorage:()=>{f?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>j(),hasHydrated:()=>c,onHydrate:b=>(d.add(b),()=>{d.delete(b)}),onFinishHydration:b=>(m.add(b),()=>{m.delete(b)})},l.skipHydration||j(),v||y},R4=zL,ql={oric:{id:"u-oric",name:"ORIC Officer",email:"oric@cecos.edu.pk",avatar:null,roles:["oric"],primaryRole:"oric",department:"ORIC",faculty:"Research"},finance:{id:"u-finance",name:"Finance Officer",email:"finance@cecos.edu.pk",avatar:null,roles:["finance"],primaryRole:"finance",department:"Finance",faculty:"Administration"},admin:{id:"u-admin",name:"System Administrator",email:"admin@cecos.edu.pk",avatar:null,roles:["admin"],primaryRole:"admin",department:null,faculty:null},hr:{id:"u-hr",name:"Sarah Khan",email:"hr@cecos.edu.pk",avatar:null,roles:["hr","employee"],primaryRole:"hr",department:"Human Resources",faculty:"Administration"},president:{id:"u-president",name:"University President",email:"president@cecos.edu.pk",avatar:null,roles:["president","employee"],primaryRole:"president",department:"Executive Office",faculty:null},dean:{id:"u-dean",name:"Prof. Fatima Ali",email:"dean.computing@cecos.edu.pk",avatar:null,roles:["dean","employee"],primaryRole:"dean",department:"CS",faculty:"Computing"},hod:{id:"u-hod",name:"Dr. Imran Shah",email:"hod.cs@cecos.edu.pk",avatar:null,roles:["hod","employee"],primaryRole:"hod",department:"CS",faculty:"Computing"},employee:{id:"e1",name:"Alice Smith",email:"alice@cecos.edu.pk",avatar:null,roles:["employee"],primaryRole:"employee",department:"CS",faculty:"Computing",designation:"Senior Lecturer",employeeCode:"EMP001"},demo:{id:"u-demo",name:"Demo User",email:"demo@cecos.edu.pk",avatar:null,roles:["employee","hr","president","dean","hod","admin"],primaryRole:"employee",department:"CS",faculty:"Computing"},vc:{id:"u-vc",name:"Vice Chancellor",email:"vc@cecos.edu.pk",password:"password",avatar:null,roles:["vc","employee"],primaryRole:"vc",department:"Executive Office",faculty:null}},$5={admin:100,president:95,vc:85,dean:70,hod:60,hr:50,employee:10},mu={admin:"/admin",president:"/president",vc:"/vc",dean:"/dean",hod:"/hod",hr:"/hr",employee:"/employee",finance:"/finance/dashboard",oric:"/oric"},Kl={admin:"Administrator",president:"President",vc:"Vice Chancellor",dean:"Dean",hod:"Head of Department",hr:"HR Manager",employee:"Employee",oric:"ORIC"},at=P4(R4((e,n)=>({user:null,activeRole:null,isAuthenticated:!1,login:(a,r)=>{const s=Object.keys(ql).find(l=>ql[l].email===a);if(s&&r){const l=ql[s];return e({user:l,activeRole:l.primaryRole,isAuthenticated:!0}),{success:!0,user:l,redirectTo:mu[l.primaryRole]}}if(ql[a.toLowerCase()]){const l=ql[a.toLowerCase()];return e({user:l,activeRole:l.primaryRole,isAuthenticated:!0}),{success:!0,user:l,redirectTo:mu[l.primaryRole]}}return{success:!1,error:"Invalid credentials"}},loginAsRole:a=>{const r=ql[a]||ql.demo;return e({user:{...r,primaryRole:a},activeRole:a,isAuthenticated:!0}),a==="finance"?"/finance/dashboard":mu[a]||"/employee"},logout:()=>{e({user:null,activeRole:null,isAuthenticated:!1})},switchRole:a=>{const{user:r}=n();return r&&r.roles.includes(a)?(e({activeRole:a}),mu[a]):null},hasRole:a=>{const{user:r}=n();return r?.roles?.includes(a)||!1},isRole:a=>n().activeRole===a,canAccess:a=>{const{activeRole:r}=n();return r?$5[r]>=$5[a]:!1},getAvailableRoles:()=>{const{user:a}=n();return a?.roles||[]},updateProfile:a=>{e(r=>({user:r.user?{...r.user,...a}:null}))}}),{name:"hrms-auth",partialize:e=>({user:e.user,activeRole:e.activeRole,isAuthenticated:e.isAuthenticated})}));function Ah({className:e="",variant:n="full",size:a="md"}){const r={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-12 w-12",xl:"h-16 w-16"};return n==="icon"?t.jsxs("svg",{className:`${r[a]} ${e}`,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M32 4L8 16V28C8 43.5 17.5 57 32 60C46.5 57 56 43.5 56 28V16L32 4Z",fill:"#0066CC"}),t.jsx("path",{d:"M32 4L8 16V28C8 43.5 17.5 57 32 60C46.5 57 56 43.5 56 28V16L32 4Z",stroke:"#003366",strokeWidth:"1.5"}),t.jsx("path",{d:"M38 24C38 19.5817 34.4183 16 30 16C25.5817 16 22 19.5817 22 24V40C22 44.4183 25.5817 48 30 48C34.4183 48 38 44.4183 38 40",stroke:"#FF9900",strokeWidth:"4",strokeLinecap:"round"}),t.jsx("circle",{cx:"30",cy:"32",r:"3",fill:"white"}),t.jsx("path",{d:"M40 28L48 26L40 24",stroke:"#FF9900",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M40 32L48 30L40 28",stroke:"#FF9900",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):t.jsxs("div",{className:`flex items-center gap-3 ${e}`,children:[t.jsxs("svg",{className:"h-12 w-12",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M32 4L8 16V28C8 43.5 17.5 57 32 60C46.5 57 56 43.5 56 28V16L32 4Z",fill:"#800020"}),t.jsx("path",{d:"M32 4L8 16V28C8 43.5 17.5 57 32 60C46.5 57 56 43.5 56 28V16L32 4Z",stroke:"#001F3F",strokeWidth:"1.5"}),t.jsx("path",{d:"M38 24C38 19.5817 34.4183 16 30 16C25.5817 16 22 19.5817 22 24V40C22 44.4183 25.5817 48 30 48C34.4183 48 38 44.4183 38 40",stroke:"#D4AF37",strokeWidth:"4",strokeLinecap:"round"}),t.jsx("circle",{cx:"30",cy:"32",r:"3",fill:"white"}),t.jsx("path",{d:"M40 28L48 26L40 24",stroke:"#D4AF37",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M40 32L48 30L40 28",stroke:"#D4AF37",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-xl font-bold text-[#800020] leading-tight",children:"CECOS"}),t.jsx("span",{className:"text-xs font-semibold text-[#001F3F] leading-tight",children:"University, Peshawar"})]})]})}function Rn({icon:e,type:n="text",value:a,onChange:r,name:s,id:l,placeholder:c,className:d="",inputClassName:m="",iconClassName:f="",disabled:h,autoComplete:g,required:y,onBlur:v,onFocus:j,"aria-label":b,children:w}){return t.jsxs("div",{className:`relative ${d}`,children:[e&&t.jsx(e,{className:`input-icon ${f}`}),t.jsx("input",{type:n,name:s,id:l,value:a,onChange:r,placeholder:c,disabled:h,autoComplete:g,required:y,onBlur:v,onFocus:j,"aria-label":b,className:`input-with-icon ${m}`}),w]})}function Z({children:e,onClick:n,variant:a="primary",size:r="md",className:s="",type:l="button",disabled:c=!1}){const d="inline-flex items-center justify-center gap-2 rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",m={xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},f={primary:"bg-linear-to-r from-[hsl(var(--color-primary))] to-[hsl(var(--color-secondary))] text-white hover:shadow-lg hover:shadow-[hsl(var(--color-primary)/0.3)] border border-transparent",secondary:"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 hover:border-gray-300 shadow-xs",outline:"bg-transparent border border-[hsl(var(--color-primary))] text-[hsl(var(--color-primary))] hover:bg-[hsl(var(--color-primary)/0.05)]",danger:"bg-red-600 text-white hover:bg-red-700 shadow-sm hover:shadow-red-200",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 hover:text-gray-900",success:"bg-green-600 text-white hover:bg-green-700 shadow-sm"};return t.jsx("button",{type:l,className:`${d} ${m[r]||m.md} ${f[a]||f.primary} ${s}`,onClick:n,disabled:c,children:e})}function BL({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const gl=x.forwardRef(BL);function $L({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Gt=x.forwardRef($L);function FL({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Op=x.forwardRef(FL);function qL({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const Dc=x.forwardRef(qL);function HL({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const gu=x.forwardRef(HL);function UL({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const xj=x.forwardRef(UL);function VL({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const Ss=x.forwardRef(VL);function KL({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const WL=x.forwardRef(KL);function YL({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const Au=x.forwardRef(YL);function GL({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const dr=x.forwardRef(GL);function ZL({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const XL=x.forwardRef(ZL);function QL({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const ss=x.forwardRef(QL);function JL({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const Jv=x.forwardRef(JL);function e7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"}))}const _4=x.forwardRef(e7);function t7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const so=x.forwardRef(t7);function n7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const nt=x.forwardRef(n7);function a7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const T4=x.forwardRef(a7);function r7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Va=x.forwardRef(r7);function s7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"}))}const gj=x.forwardRef(s7);function i7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const yj=x.forwardRef(i7);function l7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"}))}const Cu=x.forwardRef(l7);function o7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Be=x.forwardRef(o7);function c7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const d7=x.forwardRef(c7);function u7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const L4=x.forwardRef(u7);function m7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const f7=x.forwardRef(m7);function h7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const p7=x.forwardRef(h7);function x7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const F5=x.forwardRef(x7);function g7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const xi=x.forwardRef(g7);function y7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const As=x.forwardRef(y7);function v7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ue=x.forwardRef(v7);function b7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Fr=x.forwardRef(b7);function j7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ur=x.forwardRef(j7);function N7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Mu=x.forwardRef(N7);function w7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const gi=x.forwardRef(w7);function S7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const gt=x.forwardRef(S7);function A7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const kr=x.forwardRef(A7);function C7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const vj=x.forwardRef(C7);function M7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const Ch=x.forwardRef(M7);function D7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const sa=x.forwardRef(D7);function E7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const O7=x.forwardRef(E7);function P7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const bj=x.forwardRef(P7);function k7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const xo=x.forwardRef(k7);function R7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Gu=x.forwardRef(R7);function _7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const T7=x.forwardRef(_7);function L7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 3.75H6.912a2.25 2.25 0 0 0-2.15 1.588L2.35 13.177a2.25 2.25 0 0 0-.1.661V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 0 0-2.15-1.588H15M2.25 13.5h3.86a2.25 2.25 0 0 1 2.012 1.244l.256.512a2.25 2.25 0 0 0 2.013 1.244h3.218a2.25 2.25 0 0 0 2.013-1.244l.256-.512a2.25 2.25 0 0 1 2.013-1.244h3.859M12 3v8.25m0 0-3-3m3 3 3-3"}))}const I7=x.forwardRef(L7);function z7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const fu=x.forwardRef(z7);function B7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const $7=x.forwardRef(B7);function F7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const q7=x.forwardRef(F7);function H7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"}))}const q5=x.forwardRef(H7);function U7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Pp=x.forwardRef(U7);function V7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const I4=x.forwardRef(V7);function K7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const W7=x.forwardRef(K7);function Y7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const yi=x.forwardRef(Y7);function G7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const Z7=x.forwardRef(G7);function X7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 14.25 6-6m4.5-3.493V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185ZM9.75 9h.008v.008H9.75V9Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm4.125 4.5h.008v.008h-.008V13.5Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Q7=x.forwardRef(X7);function J7({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))}const H5=x.forwardRef(J7);function e8({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const vi=x.forwardRef(e8);function t8({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const jj=x.forwardRef(t8);function n8({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const kp=x.forwardRef(n8);function a8({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const _r=x.forwardRef(a8);function r8({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const ts=x.forwardRef(r8);function s8({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M22 10.5h-6m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM4 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 10.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const z4=x.forwardRef(s8);function i8({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const Mh=x.forwardRef(i8);function l8({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Zu=x.forwardRef(l8);function o8({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const rn=x.forwardRef(o8);function c8({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const zt=x.forwardRef(c8);function d8({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Rp=x.forwardRef(d8),u8={employee:Zu,hr:ts,dean:gl,hod:so,president:Jv,vc:Jv,admin:Fr,finance:dr,oric:$7};function m8(){const e=hj(),n=QT(),[a,r]=x.useState(""),[s,l]=x.useState(""),[c,d]=x.useState(!1),[m,f]=x.useState(""),[h,g]=x.useState(!1),{login:y,loginAsRole:v}=at(),j=n.state?.from?.pathname||null,b=async M=>{M.preventDefault(),f(""),g(!0),await new Promise(A=>setTimeout(A,500));const S=y(a,s);S.success?e(j||S.redirectTo,{replace:!0}):f(S.error||"Invalid credentials"),g(!1)},w=async M=>{g(!0),await new Promise(A=>setTimeout(A,300));const S=v(M);e(S,{replace:!0}),g(!1)};return t.jsxs("div",{className:"min-h-screen flex",children:[t.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-linear-to-br from-[hsl(var(--cecos-maroon))] via-[hsl(var(--cecos-navy))] to-[hsl(345,100%,15%)]"}),t.jsxs("div",{className:"absolute inset-0 opacity-10",children:[t.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-white rounded-full blur-3xl"}),t.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-[hsl(var(--cecos-gold))] rounded-full blur-3xl"})]}),t.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-12 xl:px-20 text-white",children:[t.jsx("div",{className:"mb-8",children:t.jsx(Ah,{variant:"full",size:"xl",className:"text-white"})}),t.jsxs("h1",{className:"text-4xl xl:text-5xl font-bold mb-4 leading-tight",children:["Human Resource",t.jsx("br",{}),"Management System"]}),t.jsx("p",{className:"text-lg text-blue-100/80 max-w-md",children:"Streamline your HR operations with our comprehensive management platform. Manage employees, track attendance, process leaves, and handle payroll efficiently."}),t.jsxs("div",{className:"mt-12 grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"glass-dark rounded-xl p-4",children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:"500+"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Employees"})]}),t.jsxs("div",{className:"glass-dark rounded-xl p-4",children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:"6"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Faculties"})]}),t.jsxs("div",{className:"glass-dark rounded-xl p-4",children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:"24"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Departments"})]}),t.jsxs("div",{className:"glass-dark rounded-xl p-4",children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:"99%"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Uptime"})]})]})]})]}),t.jsx("div",{className:"flex-1 flex items-center justify-center p-6 sm:p-12 bg-gray-50",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsxs("div",{className:"lg:hidden text-center mb-8",children:[t.jsx(Ah,{variant:"full",size:"lg"}),t.jsx("p",{className:"mt-2 text-gray-500",children:"Human Resource Management System"})]}),t.jsxs("div",{className:"glass rounded-2xl p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Welcome Back"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"Sign in to access your portal"})]}),t.jsxs("form",{onSubmit:b,className:"space-y-5",children:[m&&t.jsx("div",{className:"p-3 rounded-lg bg-red-50 border border-red-200 text-red-700 text-sm",children:m}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email Address"}),t.jsx(Rn,{type:"email",value:a,onChange:M=>r(M.target.value),placeholder:"you@cecos.edu.pk",inputClassName:"pr-4 py-2.5",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Password"}),t.jsx(Rn,{type:c?"text":"password",value:s,onChange:M=>l(M.target.value),placeholder:"",inputClassName:"pr-12 py-2.5",required:!0,children:t.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?t.jsx(O7,{className:"w-5 h-5"}):t.jsx(bj,{className:"w-5 h-5"})})})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-[hsl(var(--cecos-maroon))]"}),t.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),t.jsx("a",{href:"#",className:"text-[hsl(var(--cecos-maroon))] hover:underline",children:"Forgot password?"})]}),t.jsx(Z,{type:"submit",className:"w-full py-2.5",disabled:h,children:h?t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):t.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Sign In",t.jsx(gu,{className:"w-4 h-4"})]})})]})]}),t.jsxs("div",{className:"mt-8",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t border-gray-200"})}),t.jsx("div",{className:"relative flex justify-center text-sm",children:t.jsx("span",{className:"px-4 bg-gray-50 text-gray-500",children:"Demo Quick Access"})})]}),t.jsx("div",{className:"mt-6 grid grid-cols-2 sm:grid-cols-3 gap-3",children:["employee","hr","hod","dean","president","vc","admin","finance","oric"].map(M=>{const S=u8[M];return t.jsxs("button",{onClick:()=>w(M),disabled:h,className:"flex flex-col items-center gap-2 p-4 rounded-xl border border-gray-200 bg-white hover:border-[hsl(var(--cecos-maroon))] hover:shadow-md transition-all group disabled:opacity-50",children:[t.jsx("div",{className:"p-2 rounded-lg bg-gray-100 group-hover:bg-[hsl(var(--cecos-maroon)/0.1)] transition-colors",children:t.jsx(S,{className:"w-5 h-5 text-gray-600 group-hover:text-[hsl(var(--cecos-maroon))]"})}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:M==="finance"?"Finance":M==="oric"?"ORIC":Kl[M]})]},M)})}),t.jsx("p",{className:"mt-4 text-center text-xs text-gray-400",children:"Click any role above for instant demo access"})]})]})})]})}function f8(){return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"w-20 h-20 rounded-full bg-red-100 flex items-center justify-center",children:t.jsx(sa,{className:"w-12 h-12 text-red-600"})})}),t.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),t.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Page Not Found"}),t.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"The page you're looking for doesn't exist or has been moved."}),t.jsx(jn,{to:"/",children:t.jsxs(Z,{className:"inline-flex items-center gap-2",children:[t.jsx(Gu,{className:"w-5 h-5"}),"Back to Home"]})})]})})}function Di({portalKey:e,portalName:n,navItems:a=[],switchableRoles:r=[],children:s}){const l=hj(),[c,d]=x.useState(!1),[m,f]=x.useState(!1),{user:h,activeRole:g,logout:y,switchRole:v,getAvailableRoles:j}=at(),b=j().filter(S=>S!==g),w=()=>{y(),l("/login")},M=S=>{const A=v(S);A&&l(A),f(!1)};return t.jsxs("div",{"data-portal":e,className:"min-h-screen flex flex-col lg:flex-row bg-gray-50",children:[t.jsxs("aside",{className:"hidden lg:flex flex-col w-72 glass-dark fixed inset-y-0 left-0 z-30",children:[t.jsx("div",{className:"p-6 border-b border-white/10",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ah,{variant:"icon",size:"md"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-white tracking-tight",children:n}),t.jsx("p",{className:"text-xs text-blue-200/80",children:"CECOS University"})]})]})}),t.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:a.map(({path:S,label:A,icon:E,end:D})=>t.jsxs(R5,{to:S,end:D,className:({isActive:P})=>`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 ${P?"bg-linear-to-r from-[hsl(var(--color-primary))] to-[hsl(var(--color-secondary))] text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[t.jsx(E,{className:"w-5 h-5 shrink-0"}),t.jsx("span",{children:A})]},S))}),t.jsxs("div",{className:"p-4 border-t border-white/10 space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-linear-to-br from-[hsl(var(--color-primary))] to-[hsl(var(--color-secondary))] flex items-center justify-center text-white font-bold",children:h?.name?.charAt(0)||"U"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-white truncate",children:h?.name}),t.jsx("p",{className:"text-xs text-gray-400 truncate",children:Kl[g]})]})]}),b.length>0&&t.jsxs("div",{className:"px-2",children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2 px-2",children:"Switch Role"}),b.map(S=>t.jsxs("button",{onClick:()=>M(S),className:"w-full flex items-center gap-3 px-4 py-2 rounded-lg text-sm text-gray-400 hover:text-white hover:bg-white/5 transition-all",children:[t.jsx(_r,{className:"w-4 h-4"}),t.jsx("span",{children:Kl[S]})]},S))]}),t.jsxs("button",{onClick:w,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-all",children:[t.jsx(Dc,{className:"w-5 h-5"}),t.jsx("span",{children:"Logout"})]})]})]}),t.jsxs("main",{className:"flex-1 lg:ml-72 flex flex-col min-h-screen",children:[t.jsxs("header",{className:"hidden lg:flex glass sticky top-0 z-20 px-8 py-4 items-center justify-between border-b border-gray-200/50",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Welcome back, ",h?.name?.split(" ")[0]]}),t.jsx("p",{className:"text-sm text-gray-500",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[t.jsx(ss,{className:"w-6 h-6 text-gray-600"}),t.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>f(!m),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-linear-to-br from-[hsl(var(--color-primary))] to-[hsl(var(--color-secondary))] flex items-center justify-center text-white text-sm font-bold",children:h?.name?.charAt(0)||"U"}),t.jsx(L4,{className:"w-4 h-4 text-gray-600"})]}),m&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>f(!1)}),t.jsxs("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white shadow-lg ring-1 ring-black/5 z-20 py-2",children:[t.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:h?.name}),t.jsx("p",{className:"text-xs text-gray-500",children:h?.email})]}),b.length>0&&t.jsxs("div",{className:"py-2 border-b border-gray-100",children:[t.jsx("p",{className:"px-4 py-1 text-xs text-gray-400 uppercase",children:"Switch Role"}),b.map(S=>t.jsx("button",{onClick:()=>M(S),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50",children:Kl[S]},S))]}),t.jsx("button",{onClick:w,className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50",children:"Sign out"})]})]})]})]})]}),t.jsxs("header",{className:"lg:hidden glass sticky top-0 z-30 px-4 py-3 flex items-center justify-between border-b border-gray-200/50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ah,{variant:"icon",size:"sm"}),t.jsx("span",{className:"font-bold text-gray-900",children:n})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100",children:[t.jsx(ss,{className:"w-5 h-5 text-gray-600"}),t.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),t.jsx("button",{onClick:()=>d(!0),className:"p-2 rounded-lg hover:bg-gray-100",children:t.jsx(XL,{className:"w-6 h-6 text-gray-700"})})]})]}),c&&t.jsxs("div",{className:"lg:hidden fixed inset-0 z-50",children:[t.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>d(!1)}),t.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-80 max-w-[85vw] glass-dark",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-linear-to-br from-[hsl(var(--color-primary))] to-[hsl(var(--color-secondary))] flex items-center justify-center text-white font-bold",children:h?.name?.charAt(0)||"U"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-white",children:h?.name}),t.jsx("p",{className:"text-xs text-gray-400",children:Kl[g]})]})]}),t.jsx("button",{onClick:()=>d(!1),className:"p-2 text-gray-400",children:t.jsx(Rp,{className:"w-6 h-6"})})]}),t.jsx("nav",{className:"p-4 space-y-1",children:a.map(({path:S,label:A,icon:E,end:D})=>t.jsxs(R5,{to:S,end:D,onClick:()=>d(!1),className:({isActive:P})=>`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all ${P?"bg-linear-to-r from-[hsl(var(--color-primary))] to-[hsl(var(--color-secondary))] text-white":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[t.jsx(E,{className:"w-5 h-5"}),t.jsx("span",{children:A})]},S))}),b.length>0&&t.jsxs("div",{className:"px-4 py-2 border-t border-white/10",children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2 px-2",children:"Switch Role"}),b.map(S=>t.jsxs("button",{onClick:()=>{M(S),d(!1)},className:"w-full flex items-center gap-3 px-4 py-2 rounded-lg text-sm text-gray-400 hover:text-white hover:bg-white/5",children:[t.jsx(_r,{className:"w-4 h-4"}),t.jsx("span",{children:Kl[S]})]},S))]}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-white/10",children:t.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl text-sm font-medium text-red-400 hover:bg-red-500/10",children:[t.jsx(Dc,{className:"w-5 h-5"}),t.jsx("span",{children:"Logout"})]})})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8",children:t.jsx("div",{className:"max-w-7xl mx-auto animate-fade-in",children:s||t.jsx(O4,{})})})]})]})}const h8=[{path:"/admin",label:"Dashboard",icon:Gu,end:!0},{path:"/admin/users",label:"User Management",icon:rn},{path:"/admin/settings",label:"System Settings",icon:Fr},{path:"/admin/audit",label:"Audit Logs",icon:As}];function p8(){return t.jsx(Di,{portalKey:"admin",portalName:"Admin Portal",navItems:h8})}function x8({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v16.19l6.22-6.22a.75.75 0 1 1 1.06 1.06l-7.5 7.5a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 1 1 1.06-1.06l6.22 6.22V3a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const g8=x.forwardRef(x8);function y8({title:e,titleId:n,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},a),e?x.createElement("title",{id:n},e):null,x.createElement("path",{fillRule:"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06l-6.22-6.22V21a.75.75 0 0 1-1.5 0V4.81l-6.22 6.22a.75.75 0 1 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const v8=x.forwardRef(y8);function Et({title:e,value:n,subtitle:a,icon:r,iconBg:s,color:l="default",trend:c,trendValue:d,trendLabel:m="vs last month",onClick:f,className:h=""}){const g={primary:"bg-[hsl(var(--color-primary))]",success:"bg-green-500",warning:"bg-amber-500",danger:"bg-red-500",default:"bg-blue-500",info:"bg-blue-500"},y=c>0||d&&d.startsWith("+"),v=c!==void 0||d,j=s||g[l]||g.default;return t.jsx("div",{className:`glass rounded-2xl p-4 sm:p-6 card-hover ${f?"cursor-pointer":""} ${h}`,onClick:f,children:t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500 mb-1 truncate",children:e}),t.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 tracking-tight truncate",children:n}),a&&t.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1 truncate",children:a}),v&&t.jsxs("div",{className:"flex items-center gap-1 mt-2 sm:mt-3 flex-wrap",children:[t.jsxs("span",{className:`inline-flex items-center gap-0.5 text-xs font-medium px-2 py-0.5 rounded-full ${y?"text-green-700 bg-green-100":"text-red-700 bg-red-100"}`,children:[y?t.jsx(v8,{className:"w-3 h-3"}):t.jsx(g8,{className:"w-3 h-3"}),d||`${Math.abs(c)}%`]}),t.jsx("span",{className:"text-xs text-gray-400",children:m})]})]}),r&&t.jsx("div",{className:`p-2 sm:p-3 rounded-xl ${j} text-white shadow-lg shrink-0`,children:t.jsx(r,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})})}function H({title:e,subtitle:n,children:a,actions:r,className:s="",noPadding:l=!1}){return t.jsxs("div",{className:`glass rounded-2xl ${l?"":"p-4 sm:p-6"} card-hover ${s}`,children:[(e||r)&&t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4 sm:mb-6",children:[t.jsxs("div",{children:[e&&t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 tracking-tight",children:e}),n&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n})]}),r&&t.jsx("div",{className:"flex gap-2 sm:gap-3 flex-wrap",children:r})]}),t.jsx("div",{className:"text-gray-700",children:a})]})}const _e=new Date,Dt=e=>`${e}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,b8=(e,n=6)=>{const a=me(e),r=gs(a,n*30);return U(r,"yyyy-MM-dd")},j8=e=>{if(!e)return{eligible:!1,reason:"Employee not found"};if(e.gender?.toLowerCase()!=="female")return{eligible:!1,reason:"Maternity leave is only available for female employees"};if(e.employmentStatus==="probation"){const n=e.probationEndDate;return n?{eligible:!1,reason:`You are currently on probation. Maternity leave will be available after probation ends on ${U(me(n),"MMM d, yyyy")}`}:{eligible:!1,reason:"Maternity leave is not available during probation period. Only confirmed employees can apply."}}return{eligible:!0,reason:"Employee is eligible for maternity leave"}},N8=(e,n=U(_e,"yyyy-MM-dd"))=>{if(!e)return{valid:!1,daysInAdvance:0,minRequired:60,reason:"Expected delivery date is required for maternity leave application"};const r=rs(me(e),me(n));return r<60?{valid:!1,daysInAdvance:r,minRequired:60,reason:`Maternity leave requires at least 60 days advance notice. You have only ${r} days.`}:{valid:!0,daysInAdvance:r,minRequired:60,reason:`Valid application with ${r} days advance notice`}},bs={Computing:["CS","IT","SE","AI"],Engineering:["EE","ME","CE","CH"],Management:["BBA","MBA","HRM","Finance"],Sciences:["Physics","Chemistry","Mathematics","Biology"]},U5=Object.values(bs).flat(),w8=["Professor","Associate Professor","Assistant Professor","Senior Lecturer","Lecturer","Lab Engineer","Research Assistant","Administrative Officer","HR Manager","Registrar","Dean","HOD"],S8={"Research Assistant":"Lecturer",Lecturer:"Senior Lecturer","Senior Lecturer":"Assistant Professor","Assistant Professor":"Associate Professor","Associate Professor":"Professor","Lab Engineer":"Senior Lab Engineer","Administrative Officer":"Senior Administrative Officer"},si=[{id:"annual",name:"Annual Leave",days:30,color:"blue"},{id:"sick",name:"Sick Leave",days:10,color:"red"},{id:"casual",name:"Casual Leave",days:10,color:"purple"},{id:"maternity",name:"Maternity Leave",days:90,color:"pink",requiresDocuments:!1,genderRestriction:"female"},{id:"medical",name:"Medical Leave",days:30,color:"teal",requiresDocuments:!0,approvalFlow:["hod","vc","president"]},{id:"unpaid",name:"Unpaid Leave",days:0,color:"gray"}],A8=[{id:"marriage",name:"Marriage Leave",days:3,color:"green"},{id:"hajj",name:"Hajj Leave",days:30,color:"indigo"},{id:"umrah",name:"Umrah Leave",days:14,color:"indigo"},{id:"msphd",name:"MS/PhD Study Leave",days:60,color:"orange"},{id:"other",name:"Other Complementary Leave",days:5,color:"gray"}],Kf=[{id:"applied",name:"Applied"},{id:"screening",name:"Screening"},{id:"shortlisted",name:"Shortlisted"},{id:"technical",name:"Technical Interview"},{id:"panel",name:"Panel"},{id:"selection_board",name:"Selection Board"},{id:"offer",name:"Offer"},{id:"hired",name:"Hired"},{id:"rejected",name:"Rejected"}],yh={defaultMembers:["hod","dean","hr"],requiredApprovals:2,checklist:["Qualification verification","Experience validation","Salary fitment and grade check","Reference check initiated"]},C8=[{id:"reason",question:"Primary reason for leaving",type:"select",options:["Better Opportunity","Personal Reasons","Relocation","Health Issues","Career Change","Retirement","Higher Studies","Other"]},{id:"satisfaction",question:"Overall job satisfaction (1-5)",type:"rating"},{id:"management",question:"Management satisfaction (1-5)",type:"rating"},{id:"workEnvironment",question:"Work environment satisfaction (1-5)",type:"rating"},{id:"growth",question:"Career growth opportunities (1-5)",type:"rating"},{id:"wouldRecommend",question:"Would you recommend CECOS to others?",type:"boolean"},{id:"wouldReturn",question:"Would you consider returning in the future?",type:"boolean"},{id:"feedback",question:"Additional feedback or suggestions",type:"textarea"}],W0=()=>{const e=new Date().getFullYear(),n=[];for(let a=4;a>=-1;a--)n.push(`Fall ${e-a}`);return n},M8=[{id:"e1",code:"EMP001",name:"Alice Smith",email:"alice@cecos.edu.pk",phone:"+92-321-1234567",gender:"female",department:"CS",faculty:"Computing",designation:"Senior Lecturer",joinDate:"2022-06-01",employmentStatus:"confirmed",status:"Active",salaryBase:12e4,bankAccount:"HBL-123456789",cnic:"17301-1234567-1",address:"123 University Road, Peshawar",emergencyContact:"+92-321-9876543",leaveBalance:{annual:18,sick:8,casual:8,medical:30},dependents:[],qualifications:[],publications:[{id:"pub-e1-1",title:"Machine Learning in Cloud Computing",authors:"Alice Smith, Dr. Ahmad Khan",journalName:"IEEE Transactions on Cloud Computing",year:2024,type:"journal",hecCategory:"W",impactFactor:4.2},{id:"pub-e1-2",title:"Distributed Systems for Educational Platforms",authors:"Alice Smith",journalName:"Journal of Educational Computing",year:2023,type:"journal",hecCategory:"X",impactFactor:2.8}],fypSupervised:[{id:"fyp-e1-1",period:"Fall 2024",projectTitle:"AI-based Student Performance Prediction System",studentNames:"Ali Ahmed, Sara Khan",status:"completed",numberOfStudents:"2",awards:"Best FYP Award at University level 2024",technicalPapers:"1 paper accepted at IEEE ICET 2025",productsDevloped:"Mobile app and web dashboard deployed",prototypeCompleted:"Working prototype demonstrated; deployed in pilot phase",otherInfo:"Project sponsored by local IT company for further development"},{id:"fyp-e1-2",period:"Fall 2023",projectTitle:"Smart Campus Management System",studentNames:"Hassan Ali, Fatima Noor",status:"completed",numberOfStudents:"2"}],thesisSupervised:[{id:"thesis-e1-1",period:"Fall 2024",level:"MS",thesisTitle:"Deep Learning Approaches for Natural Language Processing",studentName:"Ahmed Raza",status:"ongoing",conferencePapers:"1 paper accepted at ACL 2025",researchPaperCategory:"HEC W category, IF: 4.2",presentStatus:"Data analysis completed, currently writing Chapter 4"}],researchGrants:[{id:"grant-e1-1",period:"Fall 2024",grantName:"HEC Research Grant for AI in Education",fundingAgency:"Higher Education Commission",amount:5e5,amountObtained:3e5,approvedDate:"2024-11-15",outcome:"approved",status:"active",notes:"Phase 1 equipment purchase approved; Phase 2 under review"}],administrativeDuties:[{id:"admin-e1-1",dutyLevel:"departmental",dutyType:"QEC",assignedBy:"HoD",roleDescription:"Led quality assurance and enhancement initiatives for the department",creditHourExemption:!0,extraAllowance:!1}]},{id:"e2",code:"EMP002",name:"Bob Ahmed",email:"bob@cecos.edu.pk",phone:"+92-333-2345678",gender:"male",department:"HRM",faculty:"Management",designation:"HR Manager",joinDate:"2021-07-15",employmentStatus:"confirmed",status:"Active",salaryBase:15e4,bankAccount:"MCB-987654321",cnic:"17301-2345678-2",address:"456 Hayatabad, Peshawar",emergencyContact:"+92-333-8765432",leaveBalance:{annual:20,sick:10,casual:10,medical:30},dependents:[],qualifications:[],publications:[],fypSupervised:[],thesisSupervised:[],researchGrants:[],administrativeDuties:[]},{id:"e3",code:"EMP003",name:"Dr. Diana Prince",email:"diana@cecos.edu.pk",phone:"+92-300-3456789",gender:"female",department:"BBA",faculty:"Management",designation:"Associate Professor",joinDate:"2020-08-01",employmentStatus:"confirmed",status:"Active",salaryBase:2e5,bankAccount:"UBL-456789123",cnic:"17301-3456789-3",address:"789 University Town, Peshawar",emergencyContact:"+92-300-9876543",leaveBalance:{annual:15,sick:8,casual:5,medical:30},dependents:[],qualifications:[],publications:[{id:"pub-e3-1",title:"Organizational Leadership in Higher Education",authors:"Dr. Diana Prince, Prof. Muhammad Hassan",journalName:"Higher Education Review",year:2024,type:"journal",hecCategory:"X",impactFactor:3.1},{id:"pub-e3-2",title:"Strategic Planning for Business Schools",authors:"Dr. Diana Prince",journalName:"Management Education Quarterly",year:2023,type:"journal",hecCategory:"Y",impactFactor:2.5},{id:"pub-e3-3",title:"Faculty Development Programs",authors:"Dr. Diana Prince, Dr. Amina Khan",journalName:"International Journal of Education",year:2023,type:"conference",hecCategory:"X"}],fypSupervised:[],thesisSupervised:[],researchGrants:[],administrativeDuties:[]},{id:"e4",code:"EMP004",name:"Prof. Rashid Ali",email:"rashid@cecos.edu.pk",phone:"+92-311-4567890",gender:"male",department:"CS",faculty:"Computing",designation:"Professor",joinDate:"2019-01-10",employmentStatus:"confirmed",status:"Active",salaryBase:25e4,bankAccount:"ABL-321654987",cnic:"17301-4567890-4",address:"101 Saddar, Peshawar",emergencyContact:"+92-311-6543210",leaveBalance:{annual:5,sick:12,casual:4,medical:30},dependents:[],qualifications:[],publications:[]},{id:"e5",code:"EMP005",name:"Eng. Faraz Khan",email:"faraz@cecos.edu.pk",phone:"+92-322-5678901",gender:"male",department:"EE",faculty:"Engineering",designation:"Lab Engineer",joinDate:"2023-03-15",employmentStatus:"probation",probationEndDate:"2023-09-15",status:"Active",salaryBase:8e4,bankAccount:"HBL-789456123",cnic:"17301-5678901-5",address:"202 Cantt, Peshawar",emergencyContact:"+92-300-1098765",leaveBalance:{annual:20,sick:12,casual:10,medical:30},dependents:[],qualifications:[],publications:[]},{id:"e6",code:"EMP006",name:"Sana Malik",email:"sana@cecos.edu.pk",phone:"+92-333-6789012",gender:"female",department:"Physics",faculty:"Sciences",designation:"Lecturer",joinDate:"2024-01-20",employmentStatus:"probation",probationEndDate:"2024-07-20",status:"Active",salaryBase:9e4,bankAccount:"MCB-654987321",cnic:"17301-6789012-6",address:"303 Cantt, Peshawar",emergencyContact:"+92-322-2109876",leaveBalance:{annual:20,sick:12,casual:10,medical:30},dependents:[],qualifications:[],publications:[]}],eb=M8.map((e,n)=>{const a=e.joinDate||U(_e,"yyyy-MM-dd"),r=e.salaryBase||0,s=[{id:Dt("sal"),type:"base",amount:r,previousAmount:null,reason:"Joining salary",effectiveDate:a,reference:"joining",createdAt:a}],l=[{id:Dt("life"),type:"joining",title:"Joining",effectiveDate:a,meta:{designation:e.designation,salary:r},createdAt:a}];return{...e,salaryBase:r,salaryHistory:e.salaryHistory||s,lifecycle:e.lifecycle||l,contract:e.contract||{status:"active",startDate:a,endDate:e.contractEndDate||null,renewals:[]},version:e.version||1,lastUpdated:e.lastUpdated||a}});function V5(){const e=[],n=["Present","Present","Present","Late","Absent"];return eb.forEach(a=>{for(let r=0;r<30;r++){const s=U(Ke(_e,r),"yyyy-MM-dd"),l=Ke(_e,r).getDay();if(l===0||l===6)continue;const c=n[Math.floor(Math.random()*n.length)],d=c==="Absent"?null:`08:${15+Math.floor(Math.random()*30)}`,m=c==="Absent"?null:`17:${45+Math.floor(Math.random()*15)}`;e.push({id:`att-${a.id}-${s}`,employeeId:a.id,date:s,clockIn:d,clockOut:m,status:c,workHours:c==="Absent"?0:8+Math.random()})}}),e}const K5=[{id:"l1",employeeId:"e1",employeeName:"Alice Smith",department:"CS",faculty:"Computing",type:"annual",startDate:U(Ke(_e,5),"yyyy-MM-dd"),endDate:U(Ke(_e,3),"yyyy-MM-dd"),days:3,reason:"Family vacation",status:"Approved",appliedOn:U(Ke(_e,10),"yyyy-MM-dd"),reviewedBy:"Dr. HOD",reviewedOn:U(Ke(_e,8),"yyyy-MM-dd"),paidDays:null,unpaidDays:null,leaveCategory:null,approvalChain:[{role:"hod",status:"approved",by:"Dr. HOD",date:U(Ke(_e,8),"yyyy-MM-dd"),comment:null},{role:"dean",status:"approved",by:"Prof. Dean",date:U(Ke(_e,7),"yyyy-MM-dd"),comment:null},{role:"hr",status:"approved",by:"HR Manager",date:U(Ke(_e,6),"yyyy-MM-dd"),comment:null}]},{id:"l2",employeeId:"e3",employeeName:"Dr. Diana Prince",department:"BBA",faculty:"Management",type:"medical",startDate:U(Ke(_e,12),"yyyy-MM-dd"),endDate:U(Ke(_e,8),"yyyy-MM-dd"),days:5,reason:"Medical procedure",status:"Approved",appliedOn:U(Ke(_e,15),"yyyy-MM-dd"),reviewedBy:"President",reviewedOn:U(Ke(_e,5),"yyyy-MM-dd"),paidDays:3,unpaidDays:2,leaveCategory:"medical",documents:[{id:"doc1",name:"Medical Certificate.pdf",file:"/mock/medical-cert.pdf",size:125e3,uploadedAt:U(Ke(_e,15),"yyyy-MM-dd")}],approvalChain:[{role:"hod",status:"approved",by:"Dr. HOD",date:U(Ke(_e,14),"yyyy-MM-dd"),comment:"Medical documents verified"},{role:"vc",status:"approved",by:"Vice Chancellor",date:U(Ke(_e,10),"yyyy-MM-dd"),comment:"Recommended for approval"},{role:"president",status:"approved",by:"President",date:U(Ke(_e,5),"yyyy-MM-dd"),comment:"Approved",paidDays:3,unpaidDays:2,leaveCategory:"medical"}]},{id:"l3",employeeId:"e4",employeeName:"Prof. Rashid Ali",department:"CS",faculty:"Computing",type:"sick",startDate:U(Ke(_e,4),"yyyy-MM-dd"),endDate:U(Ke(_e,2),"yyyy-MM-dd"),days:3,reason:"Flu",status:"Pending",appliedOn:U(Ke(_e,5),"yyyy-MM-dd"),paidDays:null,unpaidDays:null,leaveCategory:null,approvalChain:[{role:"hod",status:"pending",by:null,date:null,comment:null},{role:"dean",status:"pending",by:null,date:null,comment:null},{role:"hr",status:"pending",by:null,date:null,comment:null}]}],W5=[],Y5=[{id:"n1",userId:"all",title:"System Maintenance",message:"The HR system will be under maintenance on Saturday 10 PM - 2 AM",type:"info",read:!1,createdAt:U(Ke(_e,1),"yyyy-MM-dd HH:mm")},{id:"n2",userId:"e1",title:"Leave Approved",message:"Your leave request has been forwarded to Dean",type:"success",read:!1,createdAt:U(_e,"yyyy-MM-dd HH:mm")}],G5=[{id:"pr1",employeeId:"e1",employeeName:"Alice Smith",department:"CS",faculty:"Computing",currentDesignation:"Senior Lecturer",requestedDesignation:"Assistant Professor",justification:"Completed PhD and published 5 research papers in reputed journals",status:"Pending",appliedOn:U(Ke(_e,10),"yyyy-MM-dd"),supportingDocuments:["PhD Certificate","Research Publications"],committeeReview:null,hrDecision:null}],Z5=[{id:"r1",employeeId:"e1",employeeName:"Alice Smith",department:"CS",faculty:"Computing",noticeDate:U(Ke(_e,45),"yyyy-MM-dd"),lastWorkingDate:U(Ke(_e,15),"yyyy-MM-dd"),reason:"Better opportunity",status:"Pending",handoverStatus:"in-progress",exitInterview:null,exitDocuments:[],exitSurvey:null}],tb=[{id:Dt("pams"),category:"faculty",employeeId:"e1",employeeName:"Alice Smith",department:"CS",faculty:"Computing",period:"2025-Q3",status:"submitted",workload:{teachingLoad:"3 courses across 2 sections; labs included with prep and grading.",projectSupervision:"2 FYP teams supervised; co-supervision with clear role split.",advisory:"Advisor for CS-21 batch (~50 students).",admin:"Exam coordinator (weekly) plus QEC focal (biweekly)."},rubric:{teaching:"SETE strong; course files updated; 100% syllabus coverage.",research:"2 W-category publications; 1 grant proposal submitted to HEC.",service:"Seminar series coordination; curriculum review committee member."},fypSupervised:[{projectTitle:"Smart Attendance System using Facial Recognition",studentNames:"Ahmed Khan, Sara Ali",startDate:"2024-09-01",completionDate:"2025-01-15",outcomes:"Project successfully deployed; won Best FYP Award",marks:"A (95/100)"}],thesisSupervised:[{thesisTitle:"Machine Learning Models for Educational Analytics",studentName:"Muhammad Hassan",department:"CS",specialization:"AI/ML",startDate:"2023-06-01",expectedDate:"2025-06-30",status:"ongoing"}],researchPublications:[{publicationType:"journal",title:"Machine Learning in Cloud Computing",authors:"Alice Smith, Dr. Ahmad Khan",journalName:"IEEE Transactions on Cloud Computing",year:2024,volumeIssue:"Vol. 12, No. 3",impactFactor:"4.2",hecCategory:"W",urlDoi:"https://doi.org/10.1109/TCC.2024.123456",notes:"Indexed in Scopus, highly cited"}],researchGrants:[{grantName:"AI in Education Research Initiative",fundingAgency:"Higher Education Commission (HEC)",amount:"500000",researchArea:"Artificial Intelligence",startDate:"2024-01-01",endDate:"2025-12-31",status:"ongoing",budgetBreakdown:"Equipment: 60%, Stipend: 30%, Travel: 10%"}],grievance:"",attachments:[{id:Dt("doc"),name:"Workload Form.pdf",type:"workload",url:"#"}],submittedAt:U(Ke(_e,5),"yyyy-MM-dd"),hodReview:{status:"pending",comment:null,meetingDate:null,decidedAt:null},vcReview:{status:"pending",comment:null,decidedAt:null},history:[{action:"submitted",by:"employee",at:U(Ke(_e,5),"yyyy-MM-dd")}]},{id:Dt("pams"),category:"faculty",employeeId:"e3",employeeName:"Dr. Diana Prince",department:"BBA",faculty:"Management",period:"2025-Q3",status:"submitted",workload:{teachingLoad:"4 courses; MBA and BBA programs; mentoring 2 research scholars",projectSupervision:"1 FYP team; 2 MS thesis supervision ongoing",advisory:"Advisor for BBA-20 batch (~60 students); career counseling",admin:"Department QEC chair; accreditation committee member"},rubric:{teaching:"Excellent SETE scores (4.5/5); updated curricula; student case studies",research:"3 publications in international journals; 1 HEC research grant",service:"Industry partnerships; guest lectures; curriculum development"},fypSupervised:[{projectTitle:"Business Intelligence System for Retail",studentNames:"Fatima Ahmed, Hassan Khan, Zainab Ali",startDate:"2024-08-15",completionDate:"2025-02-28",outcomes:"Deployed for client; potential commercialization",marks:"A+ (98/100)"}],thesisSupervised:[{thesisTitle:"Organizational Change Management in Tech Companies",studentName:"Dr. Abdul Rahman",department:"BBA",specialization:"Management",startDate:"2023-01-01",expectedDate:"2025-12-31",status:"ongoing"},{thesisTitle:"Strategic Planning for Higher Education Institutions",studentName:"Ms. Ayesha Khan",department:"BBA",specialization:"Strategy",startDate:"2023-09-01",expectedDate:"2025-06-30",status:"completed"}],researchPublications:[{publicationType:"journal",title:"Organizational Leadership in Higher Education",authors:"Dr. Diana Prince, Prof. Muhammad Hassan",journalName:"Higher Education Review",year:2024,volumeIssue:"Vol. 8, No. 1",impactFactor:"3.1",hecCategory:"X",urlDoi:"https://doi.org/10.1234/HER.2024.112233"}],researchGrants:[{grantName:"Leadership Development in Academic Institutions",fundingAgency:"World Bank",amount:"750000",researchArea:"Education Management",startDate:"2024-03-01",endDate:"2026-02-28",status:"ongoing",budgetBreakdown:"Research Team: 40%, Materials: 35%, Travel: 25%"}],grievance:"Need better research facilities and funding support",attachments:[],submittedAt:U(Ke(_e,3),"yyyy-MM-dd"),hodReview:{status:"pending",comment:null,meetingDate:null,decidedAt:null},vcReview:{status:"pending",comment:null,decidedAt:null},history:[{action:"submitted",by:"employee",at:U(Ke(_e,3),"yyyy-MM-dd")}]},{id:Dt("pams"),category:"hod",employeeId:"u-hod",employeeName:"Dr. Imran Shah",department:"CS",faculty:"Computing",period:"2025-Q3",status:"submitted",workload:{teachingLoad:"Led department teaching plan; taught 1 course to CS-21.",projectSupervision:"Oversaw FYP panel distribution; co-supervised 1 project.",advisory:"Advised faculty on curriculum mapping; weekly office hours.",admin:"Department budgeting, QEC liaison, hiring coordination."},rubric:{teaching:"Reviewed course files; ensured accreditation compliance.",research:"1 grant submitted; 1 journal paper under review.",service:"Chaired curriculum committee; external outreach to industry."},fypSupervised:[{projectTitle:"IoT-Based Smart Campus System",studentNames:"Bilal Ahmed, Noor Fatima",startDate:"2024-07-01",completionDate:"2025-01-31",outcomes:"Deployed on campus; recognized by management",marks:"A (90/100)"}],thesisSupervised:[{thesisTitle:"Cybersecurity in Educational Networks",studentName:"Eng. Adnan Khan",department:"CS",specialization:"Cybersecurity",startDate:"2023-06-01",expectedDate:"2025-12-31",status:"ongoing"}],researchPublications:[{publicationType:"journal",title:"Secure Systems in Cloud Education",authors:"Dr. Imran Shah, Dr. Ali Raza",journalName:"IEEE Access",year:2024,volumeIssue:"Vol. 12",impactFactor:"3.9",hecCategory:"W",urlDoi:"https://doi.org/10.1109/ACCESS.2024.789012"}],researchGrants:[{grantName:"Cybersecurity Research Initiative",fundingAgency:"HEC",amount:"400000",researchArea:"Cybersecurity",startDate:"2024-06-01",endDate:"2026-05-31",status:"ongoing",budgetBreakdown:"Equipment: 50%, Personnel: 40%, Travel: 10%"}],grievance:"",attachments:[],submittedAt:U(Ke(_e,6),"yyyy-MM-dd"),deanReview:{status:"pending",comment:null,meetingDate:null,decidedAt:null},history:[{action:"submitted",by:"hod",at:U(Ke(_e,6),"yyyy-MM-dd")}]}];tb.push({id:Dt("pams"),category:"faculty",employeeId:"e2",employeeName:"Muhammad Ahmed",department:"CS",faculty:"Computing",period:`${new Date().getFullYear()}-Q1`,status:"hod-confirmed",workload:{teachingLoad:"2 courses, 1 lab",admin:"Exam invigilation"},rubric:{teaching:"Strong delivery",research:"1 paper",service:"Committee member"},submittedAt:U(Ke(_e,2),"yyyy-MM-dd"),hodReview:{status:"hod-confirmed",meetingDate:U(_e,"yyyy-MM-dd"),comment:"Good performance",decidedAt:U(_e,"yyyy-MM-dd"),assessment:{teaching:"fully",research:"largely",fypSupervision:"partially",service:"largely"}},vcReview:{status:"pending",comment:null,decidedAt:null},history:[{action:"submitted",by:"employee",at:U(Ke(_e,2),"yyyy-MM-dd")},{action:"hod-confirmed",by:"hod",at:U(_e,"yyyy-MM-dd")}]},{id:Dt("pams"),category:"hod",employeeId:"hod-02",employeeName:"Dr. Sana Farooq",department:"BBA",faculty:"Management",period:`${new Date().getFullYear()}-Q1`,status:"dean-confirmed",workload:{teachingLoad:"Led teaching planning; taught MBA course",admin:"Accreditation"},rubric:{teaching:"Leadership in teaching",research:"Grant pipeline",service:"Industry outreach"},submittedAt:U(Ke(_e,4),"yyyy-MM-dd"),deanReview:{status:"dean-confirmed",meetingDate:U(_e,"yyyy-MM-dd"),comment:"Department in good standing",decidedAt:U(_e,"yyyy-MM-dd"),assessment:{teaching:"largely",research:"fully",fypSupervision:"largely",service:"fully"}},vcReview:{status:"pending",comment:null,decidedAt:null},history:[{action:"submitted",by:"hod",at:U(Ke(_e,4),"yyyy-MM-dd")},{action:"dean-confirmed",by:"dean",at:U(_e,"yyyy-MM-dd")}]},{id:Dt("pams"),category:"faculty",employeeId:"e4",employeeName:"Zara Khan",department:"EE",faculty:"Engineering",period:`${new Date().getFullYear()}-Q1`,status:"vc-approved",workload:{teachingLoad:"3 courses",admin:"Lab coordinator"},rubric:{teaching:"Excellent",research:"2 papers",service:"Community projects"},submittedAt:U(Ke(_e,7),"yyyy-MM-dd"),hodReview:{status:"hod-confirmed",meetingDate:U(Ke(_e,5),"yyyy-MM-dd"),comment:"Solid teaching outcomes",decidedAt:U(Ke(_e,5),"yyyy-MM-dd")},vcReview:{status:"vc-approved",comment:"Proceed to HR",decidedAt:U(Ke(_e,1),"yyyy-MM-dd")},history:[{action:"submitted",by:"employee",at:U(Ke(_e,7),"yyyy-MM-dd")},{action:"hod-confirmed",by:"hod",at:U(Ke(_e,5),"yyyy-MM-dd")},{action:"vc-approved",by:"vc",at:U(Ke(_e,1),"yyyy-MM-dd")}]});const X5=[{id:"alum1",employeeId:"ex-e10",name:"Dr. Salman Khan",email:"salman.khan@alumni.cecos.edu.pk",department:"CS",faculty:"Computing",designation:"Associate Professor",joinDate:U(Ke(_e,8*365),"yyyy-MM-dd"),exitDate:U(Ke(_e,180),"yyyy-MM-dd"),yearsOfService:8,exitReason:"Better Opportunity",exitInterview:null,exitDocuments:[],publications:[],exitSurvey:{reason:"Better Opportunity",satisfaction:4,management:4,workEnvironment:4,growth:3,wouldRecommend:!0,wouldReturn:!0,feedback:"Great institution, wonderful colleagues. Left for a senior position abroad."}},{id:"alum2",employeeId:"ex-e11",name:"Prof. Amina Bibi",email:"amina.bibi@outlook.com",department:"Chemistry",faculty:"Sciences",designation:"Professor",joinDate:"2010-03-15",exitDate:U(Ke(_e,365),"yyyy-MM-dd"),yearsOfService:14,exitReason:"Retirement",exitInterview:null,exitDocuments:[],publications:[],exitSurvey:{reason:"Retirement",satisfaction:5,management:5,workEnvironment:5,growth:4,wouldRecommend:!0,wouldReturn:!1,feedback:"Wonderful career at CECOS. Will cherish the memories forever."}}],Q5=[{id:"ann1",title:"Eid Holidays Schedule",message:"CECOS University will remain closed from June 28 to July 3 for Eid ul Adha. Wishing everyone a blessed Eid!",priority:"high",targetAudience:"all",createdBy:"HR Department",createdAt:U(Ke(_e,2),"yyyy-MM-dd HH:mm"),expiresAt:U(gs(_e,10),"yyyy-MM-dd"),isActive:!0},{id:"ann2",title:"Faculty Meeting Notice",message:"All faculty members are requested to attend the quarterly meeting on Friday at 2:00 PM in the main auditorium.",priority:"medium",targetAudience:"faculty",department:null,createdBy:"HR Department",createdAt:U(Ke(_e,1),"yyyy-MM-dd HH:mm"),expiresAt:U(gs(_e,5),"yyyy-MM-dd"),isActive:!0}],J5=[{id:Dt("prv"),employeeId:"e1",period:"2025-Q2",reviewer:"HOD CS",rating:4.2,kpis:{teaching:4.5,research:4,service:4,punctuality:4.3},comments:"Consistent performance; published 2 papers.",date:U(Ke(_e,90),"yyyy-MM-dd")},{id:Dt("prv"),employeeId:"e3",period:"2025-Q2",reviewer:"Dean Management",rating:4.6,kpis:{teaching:4.8,research:4.7,service:4.2,punctuality:4.4},comments:"Strong research output and mentorship.",date:U(Ke(_e,88),"yyyy-MM-dd")}],eA=[],tA=[],Y0=[{id:"cand1",name:"Adeel Rahman",email:"adeel.rahman@example.com",phone:"+92-300-1111111",department:"CS",role:"Assistant Professor",stage:"shortlisted",source:"LinkedIn",appliedOn:U(Ke(_e,7),"yyyy-MM-dd"),resumeUrl:"https://drive.google.com/file/d/abc123",documents:[{id:"doc1",name:"CV.pdf",url:"https://drive.google.com/file/d/abc123",type:"resume",version:1,storage:"google-drive"}],evaluations:[{stage:"screening",by:"HR Manager",score:7.5,notes:"Meets minimum criteria",date:U(Ke(_e,6),"yyyy-MM-dd")},{stage:"technical",by:"CS HOD",score:8.2,notes:"Good research portfolio and teaching demos",date:U(Ke(_e,3),"yyyy-MM-dd")}],selectionBoard:{status:"pending",members:["hod","dean","hr"],approvals:[],checklist:yh.checklist},status:"In Progress"}],G0=[{id:"doc-global-policy",title:"HR Policy Handbook",owner:"HR",type:"policy",version:3,storage:"google-drive",link:"https://drive.google.com/file/d/policy123",lastUpdated:U(Ke(_e,15),"yyyy-MM-dd"),access:"org",tags:["policy","handbook"]}],Wf={workingDays:22,allowanceConfig:{housePercent:45,medicalPercent:10,transportFixed:5e3},deductionConfig:{latePenalty:500,absentPenaltyType:"daily_rate",absentPenaltyValue:0,taxThreshold:1e5,taxRate:5},overtimeRate:1.5,operationalConfig:{overtimeWarningHours:40,expiryHorizonDays:30}},nA=[],fc=(e,n)=>{const a=[...e.lifecycle||[],{...n,id:Dt("life")}];return{...e,lifecycle:a,version:(e.version||1)+1,lastUpdated:n.effectiveDate||U(_e,"yyyy-MM-dd")}},eu=(e,n)=>{const a=n.effectiveDate||U(_e,"yyyy-MM-dd"),r=[...e.salaryHistory||[],{id:Dt("sal"),previousAmount:e.salaryBase||0,amount:n.amount,type:n.type||"adjustment",reason:n.reason||"Salary update",effectiveDate:a,reference:n.reference||null,createdAt:U(_e,"yyyy-MM-dd"),createdBy:n.createdBy||"system"}];return{...e,salaryBase:n.amount,salaryHistory:r,version:(e.version||1)+1,lastUpdated:a}},aA=(e,n,a,r,s=[])=>{const l=r?.workingDays||22,c=e.salaryBase||0,d=n.filter(k=>k.status==="Present").length,m=n.filter(k=>k.status==="Late").length,f=n.filter(k=>k.status==="Absent").length,h=r?.allowanceConfig||{},g=r?.deductionConfig||{},y=Math.round(c*((h.housePercent||0)/100)),v=Math.round(c*((h.medicalPercent||0)/100)),j=Math.round(h.transportFixed||0),b=y+v+j,w=Math.round(m*(g.latePenalty||0)),M=g.absentPenaltyType==="none"?0:g.absentPenaltyType==="fixed"?Math.round(f*(g.absentPenaltyValue||0)):Math.round(c/l*f),S=c+b,A=g.taxThreshold||0,E=g.taxRate||0,D=S>A?Math.round(S*(E/100)):0,P=w+M+D,T=c+b,O=T-P;return{employeeId:e.id,employeeName:e.name,department:e.department,designation:e.designation,baseSalary:c,period:a,attendance:{present:d,late:m,absent:f},earnings:{basic:c,house:y,medical:v,transport:j,total:T},deductions:{late:w,absent:M,tax:D,total:P},netPay:O,status:"Draft",exceptions:s}},ve=P4(R4((e,n)=>({employees:eb,attendance:V5(),leaves:K5,notifications:Y5,promotions:G5,resignations:Z5,exEmployees:X5,announcements:Q5,bulkIncrements:eA,profileUpdateRequests:tA,candidates:Y0,documents:G0,payrollSettings:Wf,payrollRuns:nA,attendanceCorrections:W5,performanceReviews:J5,pamsSubmissions:tb,candidates:Y0,documents:G0,addEmployee:a=>e(r=>{const s=a.joinDate||U(_e,"yyyy-MM-dd"),l=a.employmentStatus==="probation"&&s?b8(s):null,c=parseInt(a.salaryBase,10)||0,d=Dt("e"),m=a.code||`EMP${String(r.employees.length+1).padStart(3,"0")}`,f={...a,id:d,code:m,status:"Active",leaveBalance:{annual:20,sick:12,casual:10,medical:30},probationEndDate:l,gender:a.gender||"male",employmentStatus:a.employmentStatus||"confirmed",salaryBase:c,salaryHistory:[],lifecycle:[],contract:{status:"active",startDate:s,endDate:a.contractEndDate||null,renewals:[]},version:1,lastUpdated:s},h=fc(f,{type:"joining",title:"Joining",effectiveDate:s,meta:{designation:f.designation,salary:c},createdAt:s}),g=eu({...h,salaryBase:0},{amount:c,type:"base",reason:"Joining salary",effectiveDate:s,createdBy:"HR"});return{employees:[...r.employees,g]}}),updateEmployee:(a,r)=>e(s=>({employees:s.employees.map(l=>l.id!==a?l:r.salaryBase!==void 0&&r.salaryBase!==l.salaryBase?{...eu(l,{amount:r.salaryBase,type:r.salaryChangeType||"revision",reason:r.salaryChangeReason||"Salary revision",effectiveDate:r.effectiveDate||U(_e,"yyyy-MM-dd"),reference:r.reference||null,createdBy:r.updatedBy||"HR"}),...r,salaryChangeType:void 0,salaryChangeReason:void 0,reference:void 0}:{...l,...r,version:(l.version||1)+1,lastUpdated:U(_e,"yyyy-MM-dd")})})),deleteEmployee:a=>e(r=>({employees:r.employees.filter(s=>s.id!==a)})),getEmployee:a=>n().employees.find(r=>r.id===a),getEmployeesByDepartment:a=>n().employees.filter(r=>r.department===a),getEmployeesByFaculty:a=>n().employees.filter(r=>r.faculty===a),getEmployeePublications:a=>n().employees.find(s=>s.id===a)?.publications||[],getEmployeeFYPSupervisions:a=>n().employees.find(s=>s.id===a)?.fypSupervised||[],getEmployeeThesisSupervisions:a=>n().employees.find(s=>s.id===a)?.thesisSupervised||[],getEmployeeResearchGrants:a=>n().employees.find(s=>s.id===a)?.researchGrants||[],addEmployeeFYP:(a,r)=>e(s=>({employees:s.employees.map(l=>l.id===a?{...l,fypSupervised:[...l.fypSupervised||[],{...r,id:Dt("fyp")}]}:l)})),updateEmployeeFYP:(a,r,s)=>e(l=>({employees:l.employees.map(c=>c.id===a?{...c,fypSupervised:c.fypSupervised.map(d=>d.id===r?{...d,...s}:d)}:c)})),deleteEmployeeFYP:(a,r)=>e(s=>({employees:s.employees.map(l=>l.id===a?{...l,fypSupervised:l.fypSupervised.filter(c=>c.id!==r)}:l)})),addEmployeeThesis:(a,r)=>e(s=>({employees:s.employees.map(l=>l.id===a?{...l,thesisSupervised:[...l.thesisSupervised||[],{...r,id:Dt("thesis")}]}:l)})),updateEmployeeThesis:(a,r,s)=>e(l=>({employees:l.employees.map(c=>c.id===a?{...c,thesisSupervised:c.thesisSupervised.map(d=>d.id===r?{...d,...s}:d)}:c)})),deleteEmployeeThesis:(a,r)=>e(s=>({employees:s.employees.map(l=>l.id===a?{...l,thesisSupervised:l.thesisSupervised.filter(c=>c.id!==r)}:l)})),addEmployeeGrant:(a,r)=>e(s=>({employees:s.employees.map(l=>l.id===a?{...l,researchGrants:[...l.researchGrants||[],{...r,id:Dt("grant")}]}:l)})),updateEmployeeGrant:(a,r,s)=>e(l=>({employees:l.employees.map(c=>c.id===a?{...c,researchGrants:c.researchGrants.map(d=>d.id===r?{...d,...s}:d)}:c)})),deleteEmployeeGrant:(a,r)=>e(s=>({employees:s.employees.map(l=>l.id===a?{...l,researchGrants:l.researchGrants.filter(c=>c.id!==r)}:l)})),getEmployeeAdminDuties:a=>n().employees.find(s=>s.id===a)?.administrativeDuties||[],addEmployeeAdminDuty:(a,r)=>e(s=>({employees:s.employees.map(l=>l.id===a?{...l,administrativeDuties:[...l.administrativeDuties||[],{...r,id:Dt("admin-duty")}]}:l)})),updateEmployeeAdminDuty:(a,r,s)=>e(l=>({employees:l.employees.map(c=>c.id===a?{...c,administrativeDuties:c.administrativeDuties.map(d=>d.id===r?{...d,...s}:d)}:c)})),deleteEmployeeAdminDuty:(a,r)=>e(s=>({employees:s.employees.map(l=>l.id===a?{...l,administrativeDuties:l.administrativeDuties.filter(c=>c.id!==r)}:l)})),getEmployeeAttendanceSummary:a=>{const r=n().attendance.filter(d=>d.employeeId===a),s=r.filter(d=>d.status==="Present").length,l=r.filter(d=>d.status==="Late").length,c=r.filter(d=>d.status==="Absent").length;return{present:s,late:l,absent:c,total:r.length}},getEmployeeAttendance:a=>n().attendance.filter(r=>r.employeeId===a),getPamsForEmployee:a=>n().pamsSubmissions.filter(r=>r.employeeId===a),clockIn:a=>{const r=new Date,s=U(r,"yyyy-MM-dd"),l=U(r,"HH:mm"),c=r.getHours()>=9||r.getHours()===9&&r.getMinutes()>0;e(d=>({attendance:[...d.attendance,{id:Dt("att"),employeeId:a,date:s,clockIn:l,clockOut:null,status:c?"Late":"Present",workHours:0}]}))},clockOut:a=>{const r=new Date,s=U(r,"yyyy-MM-dd"),l=U(r,"HH:mm");e(c=>({attendance:c.attendance.map(d=>d.employeeId===a&&d.date===s?{...d,clockOut:l,workHours:8}:d)}))},getTodayAttendance:a=>{const r=U(_e,"yyyy-MM-dd");return n().attendance.find(s=>s.employeeId===a&&s.date===r)},getAttendanceByEmployee:a=>n().attendance.filter(r=>r.employeeId===a),getAttendanceByDate:a=>n().attendance.filter(r=>r.date===a),addLeave:a=>{const r=n().getEmployee(a.employeeId);e(s=>({leaves:[...s.leaves,{...a,id:Dt("l"),employeeName:r?.name,department:r?.department,faculty:r?.faculty,status:"Pending",appliedOn:U(_e,"yyyy-MM-dd"),paidDays:a.paidDays??null,unpaidDays:a.unpaidDays??null,leaveCategory:a.leaveCategory??null,approvalChain:a.type==="medical"?[{role:"hod",status:"pending",by:null,date:null,comment:null},{role:"vc",status:"pending",by:null,date:null,comment:null},{role:"president",status:"pending",by:null,date:null,comment:null,paidDays:null,unpaidDays:null,leaveCategory:null}]:[{role:"hod",status:"pending",by:null,date:null,comment:null},{role:"dean",status:"pending",by:null,date:null,comment:null},{role:"hr",status:"pending",by:null,date:null,comment:null}]}]}))},updateLeaveStatus:(a,r,s,l,c="",d={})=>{e(m=>{const f=s;return{leaves:m.leaves.map(g=>{if(g.id!==a)return g;const y=new Date().toISOString();let v={...g};v.approvalChain||(g.type==="medical"?v.approvalChain=[{role:"hod",status:"pending",by:null,date:null,comment:null},{role:"vc",status:"pending",by:null,date:null,comment:null},{role:"president",status:"pending",by:null,date:null,comment:null,paidDays:null,unpaidDays:null,leaveCategory:null}]:v.approvalChain=[{role:"hod",status:"pending",by:null,date:null,comment:null},{role:"dean",status:"pending",by:null,date:null,comment:null,paidDays:null,unpaidDays:null},{role:"hr",status:"pending",by:null,date:null,comment:null}]);const j=v.approvalChain.findIndex(b=>b.role===f);if(j===-1)return g;if(v.approvalChain[j]={...v.approvalChain[j],status:r.toLowerCase(),by:l,date:y,comment:c||null},g.type==="medical"&&f==="president"&&r==="Approved"&&(d.paidDays!==void 0&&(v.approvalChain[j].paidDays=d.paidDays,v.approvalChain[j].unpaidDays=d.unpaidDays,v.paidDays=d.paidDays,v.unpaidDays=d.unpaidDays),d.leaveCategory&&(v.approvalChain[j].leaveCategory=d.leaveCategory,v.leaveCategory=d.leaveCategory)),s==="dean"&&d.paidDays!==void 0&&(v.approvalChain[j].paidDays=d.paidDays,v.approvalChain[j].unpaidDays=d.unpaidDays,v.paidDays=d.paidDays,v.unpaidDays=d.unpaidDays),s==="hr"&&d.leaveCategory&&(v.leaveCategory=d.leaveCategory),r==="Rejected")v.status="Rejected",v.reviewedBy=l,v.reviewedOn=y,v.comments=c;else if(r==="Approved"){const b=v.approvalChain.find((w,M)=>M>j&&w.status==="pending");b?(v.status="Forwarded",v.currentApprover=b.role):(v.status="Approved",v.reviewedBy=l,v.reviewedOn=y),c&&(v.comments=c)}return v})}})},getLeavesByEmployee:a=>n().leaves.filter(r=>r.employeeId===a),getLeavesByDepartment:a=>n().leaves.filter(r=>r.department===a),getLeavesByFaculty:a=>n().leaves.filter(r=>r.faculty===a),getPendingLeaves:()=>n().leaves.filter(a=>a.status==="Pending"||a.status==="Forwarded"),addNotification:a=>e(r=>({notifications:[{...a,id:Dt("n"),read:!1,createdAt:U(_e,"yyyy-MM-dd HH:mm")},...r.notifications]})),markNotificationRead:a=>e(r=>({notifications:r.notifications.map(s=>s.id===a?{...s,read:!0}:s)})),getNotifications:a=>n().notifications.filter(r=>r.userId===a||r.userId==="all"),getUnreadCount:a=>n().notifications.filter(r=>!r.read&&(r.userId===a||r.userId==="all")).length,notificationPreferences:{},sendEmailNotification:(a,r,s)=>{console.log("[EMAIL NOTIFICATION]",{eventType:a,recipientId:r,data:s,timestamp:new Date().toISOString()})},updateNotificationPreferences:(a,r)=>{e(s=>({notificationPreferences:{...s.notificationPreferences,[a]:r}})),console.log("[NOTIFICATION PREFERENCES UPDATED]",{userId:a,preferences:r})},getNotificationPreferences:a=>{const r=n().notificationPreferences[a];return r||{leave_approved:{email:!0,inApp:!0},leave_rejected:{email:!0,inApp:!0},attendance_correction_approved:{email:!0,inApp:!0},attendance_correction_rejected:{email:!0,inApp:!0},probation_completion:{email:!0,inApp:!0},contract_expiry_warning:{email:!0,inApp:!0},maternity_leave_milestone:{email:!0,inApp:!0},promotion_approved:{email:!0,inApp:!0},resignation_acknowledgment:{email:!0,inApp:!0}}},addPromotion:a=>{const r=n().getEmployee(a.employeeId),s=a.effectiveDate||U(_e,"yyyy-MM-dd"),l=a.proposedSalary!==void 0?a.proposedSalary:r?.salaryBase;e(c=>({promotions:[...c.promotions,{...a,id:Dt("pr"),employeeName:r?.name,department:r?.department,faculty:r?.faculty,currentDesignation:r?.designation,effectiveDate:s,proposedSalary:l,status:"Pending",appliedOn:U(new Date,"yyyy-MM-dd"),committeeReview:null,hrDecision:null}]}))},updatePromotionStatus:(a,r,s)=>e(l=>({promotions:l.promotions.map(c=>c.id===a?{...c,status:r,...s.type==="committee"&&{committeeReview:s},...s.type==="hr"&&{hrDecision:s}}:c)})),approvePromotion:(a,r={})=>{const s=n().promotions.find(l=>l.id===a);if(s){const l=n().getEmployee(s.employeeId),c=r.effectiveDate||s.effectiveDate||U(_e,"yyyy-MM-dd"),d=r.newSalary!==void 0?r.newSalary:s.proposedSalary!==void 0?s.proposedSalary:l?.salaryBase;e(m=>({employees:m.employees.map(f=>{if(f.id!==s.employeeId)return f;const h=eu(f,{amount:d,type:"promotion",reason:`Promotion to ${s.requestedDesignation}`,effectiveDate:c,reference:s.id,createdBy:r.decidedBy||"HR"});return{...fc(h,{type:"promotion",title:`Promotion to ${s.requestedDesignation}`,effectiveDate:c,meta:{from:s.currentDesignation,to:s.requestedDesignation,salary:d},createdAt:c}),designation:s.requestedDesignation}}),promotions:m.promotions.map(f=>f.id===a?{...f,status:"Approved",approvedOn:U(new Date,"yyyy-MM-dd"),effectiveDate:c,approvedSalary:d,hrDecision:{type:"hr",decidedBy:r.decidedBy||"HR",date:U(new Date,"yyyy-MM-dd"),notes:r.notes||null}}:f)}))}},getPromotionsByEmployee:a=>n().promotions.filter(r=>r.employeeId===a),getPendingPromotions:()=>n().promotions.filter(a=>a.status==="Pending"||a.status==="Under Review"),reviseSalary:(a,r,s={})=>e(l=>({employees:l.employees.map(c=>c.id===a?eu(c,{amount:r,type:s.type||"revision",reason:s.reason||"Salary revision",effectiveDate:s.effectiveDate||U(_e,"yyyy-MM-dd"),reference:s.reference||null,createdBy:s.updatedBy||"HR"}):c)})),addLifecycleEntry:(a,r)=>e(s=>({employees:s.employees.map(l=>l.id===a?fc(l,{...r,effectiveDate:r.effectiveDate||U(_e,"yyyy-MM-dd")}):l)})),renewContract:(a,r)=>e(s=>({employees:s.employees.map(l=>{if(l.id!==a)return l;const c=[...l.contract?.renewals||[],{...r,id:Dt("ren")}],d={...l,contract:{...l.contract||{},status:r.status||l.contract?.status||"active",endDate:r.newEndDate||l.contract?.endDate||null,renewals:c}};return fc(d,{type:"contract",title:"Contract Renewal",effectiveDate:r.effectiveDate||r.newEndDate,meta:{previousEndDate:l.contract?.endDate||null,newEndDate:r.newEndDate||null}})})})),createBulkIncrementBatch:a=>e(r=>{const s=a.effectiveDate||U(_e,"yyyy-MM-dd"),l=a.employeeIds&&a.employeeIds.length>0?r.employees.filter(f=>a.employeeIds.includes(f.id)):r.employees,c=Dt("inc"),d=l.map(f=>{const h=f.salaryBase||0,g=a.mode==="percent"?Math.round(h*(1+(a.value||0)/100)):h+(a.value||0);return{employeeId:f.id,employeeName:f.name,previousSalary:h,newSalary:g,status:"pending"}}),m=[{action:"created",by:a.createdBy||"HR",date:U(new Date,"yyyy-MM-dd"),note:a.note||null}];return{bulkIncrements:[{id:c,code:a.code||c.toUpperCase(),title:a.title||"Bulk Increment",type:a.type||"Adjustment",mode:a.mode||"percent",value:a.value||0,effectiveDate:s,note:a.note||null,status:"Pending",items:d,audit:m},...r.bulkIncrements]}}),applyBulkIncrementBatch:(a,r={})=>e(s=>{const l=s.bulkIncrements.find(f=>f.id===a);if(!l||l.status==="Applied")return{};const c=l.effectiveDate||U(_e,"yyyy-MM-dd"),d=s.employees.map(f=>{const h=l.items.find(y=>y.employeeId===f.id);if(!h)return f;const g=eu(f,{amount:h.newSalary,type:"increment",reason:`${l.type} increment`,effectiveDate:c,reference:l.id,createdBy:r.approvedBy||"HR"});return fc(g,{type:"increment",title:`${l.type} increment`,effectiveDate:c,meta:{from:h.previousSalary,to:h.newSalary,batch:l.code}})}),m={...l,status:"Applied",appliedOn:U(new Date,"yyyy-MM-dd"),audit:[...l.audit||[],{action:"applied",by:r.approvedBy||"HR",date:U(new Date,"yyyy-MM-dd"),note:r.note||null}],items:l.items.map(f=>({...f,status:"applied"}))};return{employees:d,bulkIncrements:s.bulkIncrements.map(f=>f.id===a?m:f)}}),submitProfileUpdateRequest:(a,r,s={})=>{const l=n().getEmployee(a),c={id:Dt("pur"),employeeId:a,employeeName:l?.name,department:l?.department,requestedOn:U(new Date,"yyyy-MM-dd"),status:"Pending",changes:r,notes:s.notes||null,requestedBy:s.requestedBy||l?.name||"Employee",audit:[{action:"submitted",by:s.requestedBy||l?.name||"Employee",date:U(new Date,"yyyy-MM-dd"),note:s.notes||null}]};e(d=>({profileUpdateRequests:[c,...d.profileUpdateRequests]}))},reviewProfileUpdateRequest:(a,r)=>e(s=>{const l=s.profileUpdateRequests.find(h=>h.id===a);if(!l)return{};const c=r.status,d=U(new Date,"yyyy-MM-dd");let m=s.employees;c==="Approved"&&(m=s.employees.map(h=>{if(h.id!==l.employeeId)return h;const g={...h,...l.changes,version:(h.version||1)+1,lastUpdated:d};return fc(g,{type:"profile-update",title:"Profile Updated",effectiveDate:d,meta:{fields:Object.keys(l.changes||{})}})}));const f=s.profileUpdateRequests.map(h=>h.id===a?{...h,status:c,reviewedOn:d,reviewedBy:r.reviewer||"HR",notes:r.notes||h.notes,audit:[...h.audit||[],{action:c.toLowerCase(),by:r.reviewer||"HR",date:d,note:r.notes||null}]}:h);return{employees:m,profileUpdateRequests:f}}),getPayrollSettings:()=>n().payrollSettings,updatePayrollSettings:a=>e(r=>({payrollSettings:{...r.payrollSettings,...a}})),computePayrollForEmployee:(a,r,s)=>{const l=n(),c=l.payrollSettings||Wf,d=qa(new Date(s,r-1,1)),m=Ha(d),f=l.attendance.filter(j=>{if(j.employeeId!==a)return!1;const b=me(j.date);return b>=d&&b<=m}),h=[];l.promotions.find(j=>j.employeeId===a&&(j.status==="Pending"||j.status==="Under Review"))&&h.push("Promotion pending HR approval"),l.profileUpdateRequests.find(j=>j.employeeId===a&&j.status==="Pending")&&h.push("Profile changes pending HR approval");const v=l.employees.find(j=>j.id===a);return v?aA(v,f,{month:r,year:s,startDate:U(d,"yyyy-MM-dd"),endDate:U(m,"yyyy-MM-dd")},c,h):null},generatePayrollRun:({month:a,year:r,createdBy:s})=>e(l=>{const c=l.payrollSettings||Wf,d=qa(new Date(r,a-1,1)),m=Ha(d),f=l.employees.map(y=>{const v=l.attendance.filter(M=>{if(M.employeeId!==y.id)return!1;const S=me(M.date);return S>=d&&S<=m}),j=[];return l.promotions.find(M=>M.employeeId===y.id&&(M.status==="Pending"||M.status==="Under Review"))&&j.push("Promotion pending HR approval"),l.profileUpdateRequests.find(M=>M.employeeId===y.id&&M.status==="Pending")&&j.push("Profile changes pending HR approval"),aA(y,v,{month:a,year:r,startDate:U(d,"yyyy-MM-dd"),endDate:U(m,"yyyy-MM-dd")},c,j)}),h=f.reduce((y,v)=>(y.totalGross+=v.earnings.total,y.totalDeductions+=v.deductions.total,y.totalNet+=v.netPay,y.exceptions+=v.exceptions?.length?1:0,y),{totalGross:0,totalDeductions:0,totalNet:0,exceptions:0});return{payrollRuns:[{id:Dt("pay"),period:{month:a,year:r,label:U(d,"MMM yyyy"),startDate:U(d,"yyyy-MM-dd"),endDate:U(m,"yyyy-MM-dd")},status:"Draft",createdAt:U(new Date,"yyyy-MM-dd HH:mm"),createdBy:s||"HR",approvals:[],postedOn:null,items:f,summary:h},...l.payrollRuns]}}),updatePayrollRunStatus:(a,r,s={})=>e(l=>({payrollRuns:l.payrollRuns.map(c=>c.id===a?{...c,status:r,approvals:r==="Approved"?[...c.approvals||[],{by:s.by||"HR",date:U(new Date,"yyyy-MM-dd")}]:c.approvals}:c)})),postPayrollRun:(a,r={})=>e(s=>({payrollRuns:s.payrollRuns.map(l=>l.id===a?{...l,status:"Posted",postedOn:U(new Date,"yyyy-MM-dd"),postedBy:r.postedBy||"HR",items:l.items.map(c=>({...c,status:"Posted"}))}:l)})),getPayrollRunForPeriod:(a,r)=>n().payrollRuns.find(l=>l.period?.month===a&&l.period?.year===r&&l.status==="Posted"),getEmployeePayrollHistory:a=>n().payrollRuns.filter(l=>l.status==="Posted").map(l=>{const c=l.items.find(d=>d.employeeId===a);return c?{...c,periodLabel:l.period?.label,status:l.status}:null}).filter(Boolean).sort((l,c)=>new Date(c.period?.endDate||0)-new Date(l.period?.endDate||0)),submitAttendanceCorrection:(a,r,s={})=>e(l=>{const c=l.employees.find(m=>m.id===a);return{attendanceCorrections:[{id:Dt("atc"),employeeId:a,employeeName:c?.name,department:c?.department,originalAttendance:r.originalAttendance,requestedChange:r.requestedChange,reason:r.reason,documents:r.documents||[],submittedOn:U(new Date,"yyyy-MM-dd"),status:"Pending",submittedBy:s.submittedBy||c?.name,notes:s.notes||null,audit:[{action:"submitted",by:s.submittedBy||c?.name,date:U(new Date,"yyyy-MM-dd"),comment:s.notes||null}]},...l.attendanceCorrections]}}),reviewAttendanceCorrection:(a,r)=>e(s=>{const l=s.attendanceCorrections.find(d=>d.id===a);if(!l)return{};let c=s.attendance;if(r.status==="Approved"){const d=s.attendance.find(m=>m.employeeId===l.employeeId&&m.date===l.originalAttendance.date);d&&(c=s.attendance.map(m=>m.id===d.id?{...m,status:l.requestedChange.status,notes:`[Corrected] ${l.requestedChange.reason||""}`,correctionId:a}:m))}return{attendance:c,attendanceCorrections:s.attendanceCorrections.map(d=>d.id===a?{...d,status:r.status,reviewedOn:U(new Date,"yyyy-MM-dd"),reviewedBy:r.reviewer||"HR",audit:[...d.audit||[],{action:r.status.toLowerCase(),by:r.reviewer||"HR",date:U(new Date,"yyyy-MM-dd"),comment:r.notes||null}]}:d)}}),flagAttendanceAnomalies:a=>{const r=n(),s=r.employees.find(g=>g.id===a);if(!s)return{anomalies:[],employee:null};const l=r.attendance.filter(g=>g.employeeId===a),c=[],d=Ke(new Date,7),m=l.filter(g=>g.status==="Late"&&me(g.date)>=d);m.length>3&&c.push({type:"excessive_lates",severity:"warning",message:`${m.length} late arrivals in past week`,count:m.length});let f=0;l.slice().reverse().forEach(g=>{g.status==="Absent"?(f++,f>2&&c.push({type:"consecutive_absences",severity:"error",message:`${f} consecutive absences detected`,count:f})):f=0});const h=r.leaves.filter(g=>g.employeeId===a&&g.status==="Pending");return h.length>0&&c.push({type:"pending_leave_approvals",severity:"info",message:`${h.length} pending leave approvals`,count:h.length}),{anomalies:c,employee:s}},getLeaveRecommendations:a=>{const r=n(),s=r.employees.find(h=>h.id===a.employeeId);if(!s)return{recommendation:"Cannot process",reason:"Employee not found",recommendations:[]};const l=[],c=a.type,d=s.leaveBalance?.[c]||0;d<a.days&&l.push({type:"insufficient_balance",severity:"error",message:`Insufficient ${c} leave balance (requested: ${a.days}, available: ${d})`});const m=r.leaves.filter(h=>h.employeeId===a.employeeId&&h.status==="Approved"&&me(h.startDate)<=me(a.endDate)&&me(h.endDate)>=me(a.startDate));m.length>0&&l.push({type:"date_overlap",severity:"warning",message:`Leave dates overlap with ${m.length} existing approved leave(s)`});const f=rs(me(a.startDate),new Date);return c!=="sick"&&f<3&&l.push({type:"insufficient_notice",severity:"warning",message:`Leave requested with only ${f} days advance notice (minimum 3 required)`}),{recommendation:l.length===0?"Approve":"Review",recommendations:l,leaveBalance:d,daysInAdvance:f}},addCandidate:a=>e(r=>({candidates:[{...a,id:Dt("cand"),appliedOn:a.appliedOn||U(new Date,"yyyy-MM-dd"),stage:a.stage||"applied",status:a.status||"In Progress",evaluations:a.evaluations||[],documents:a.documents||[],selectionBoard:{status:"pending",members:yh.defaultMembers,approvals:[],checklist:yh.checklist,...a.selectionBoard||{}}},...r.candidates]})),updateCandidateStage:(a,r,s={})=>e(l=>({candidates:l.candidates.map(c=>c.id===a?{...c,stage:r,status:r==="hired"?"Hired":c.status,stageUpdatedOn:U(new Date,"yyyy-MM-dd"),...s}:c)})),addCandidateEvaluation:(a,r)=>e(s=>({candidates:s.candidates.map(l=>l.id===a?{...l,evaluations:[...l.evaluations,{...r,date:r.date||U(new Date,"yyyy-MM-dd")}]}:l)})),addSelectionBoardApproval:(a,r)=>e(s=>({candidates:s.candidates.map(l=>{if(l.id!==a)return l;const c=[...l.selectionBoard?.approvals||[],{...r,date:r.date||U(new Date,"yyyy-MM-dd")}],m=c.filter(f=>f.decision==="approved").length>=yh.requiredApprovals?"approved":"pending";return{...l,selectionBoard:{...l.selectionBoard||{},approvals:c,status:m}}})})),linkCandidateDocument:(a,r)=>e(s=>({candidates:s.candidates.map(l=>l.id===a?{...l,documents:[...l.documents||[],r]}:l)})),addDocument:a=>e(r=>({documents:[{...a,id:Dt("doc"),version:a.version||1,lastUpdated:a.lastUpdated||U(new Date,"yyyy-MM-dd")},...r.documents]})),updateDocument:(a,r)=>e(s=>({documents:s.documents.map(l=>l.id===a?{...l,...r,lastUpdated:r.lastUpdated||U(new Date,"yyyy-MM-dd")}:l)})),addResignation:a=>{const r=n().getEmployee(a.employeeId);e(s=>({resignations:[...s.resignations,{...a,id:Dt("res"),employeeName:r?.name,department:r?.department,faculty:r?.faculty,designation:r?.designation,status:"Pending",appliedOn:U(new Date,"yyyy-MM-dd"),exitSurvey:null,exitInterview:null,exitDocuments:[],hrApproval:null,handoverStatus:"pending"}]}))},updateResignationStatus:(a,r,s={})=>e(l=>({resignations:l.resignations.map(c=>c.id===a?{...c,status:r,...s}:c)})),submitExitSurvey:(a,r)=>e(s=>({resignations:s.resignations.map(l=>l.id===a?{...l,exitSurvey:r,exitSurveyDate:U(new Date,"yyyy-MM-dd")}:l)})),addExitInterview:(a,r)=>e(s=>({resignations:s.resignations.map(l=>l.id===a?{...l,exitInterview:{...r,date:r.date||U(new Date,"yyyy-MM-dd")}}:l)})),attachExitDocument:(a,r)=>e(s=>({resignations:s.resignations.map(l=>l.id===a?{...l,exitDocuments:[...l.exitDocuments||[],r]}:l)})),processResignation:a=>{const r=n().resignations.find(s=>s.id===a);if(r){const s=n().getEmployee(r.employeeId);s&&e(l=>({exEmployees:[...l.exEmployees,{id:Dt("alum"),employeeId:s.id,name:s.name,email:s.email,department:s.department,faculty:s.faculty,designation:s.designation,joinDate:s.joinDate,exitDate:r.lastWorkingDate,yearsOfService:Math.floor((new Date(r.lastWorkingDate)-new Date(s.joinDate))/(365.25*24*60*60*1e3)),exitReason:r.reason,exitInterview:r.exitInterview,exitDocuments:r.exitDocuments,exitSurvey:r.exitSurvey}],employees:l.employees.filter(c=>c.id!==r.employeeId),resignations:l.resignations.map(c=>c.id===a?{...c,status:"Completed",processedOn:U(new Date,"yyyy-MM-dd")}:c)}))}},getResignationsByEmployee:a=>n().resignations.filter(r=>r.employeeId===a),getPendingResignations:()=>n().resignations.filter(a=>a.status==="Pending"||a.status==="Approved"),addPerformanceReview:a=>e(r=>({performanceReviews:[{...a,id:Dt("prv"),date:a.date||U(new Date,"yyyy-MM-dd")},...r.performanceReviews]})),updatePerformanceReview:(a,r)=>e(s=>({performanceReviews:s.performanceReviews.map(l=>l.id===a?{...l,...r}:l)})),getPerformanceAnalytics:(a={})=>{const r=n(),s=r.performanceReviews.filter(f=>{const h=r.employees.find(g=>g.id===f.employeeId);return!(!h||a.faculty&&h.faculty!==a.faculty||a.department&&h.department!==a.department)}),l={};s.forEach(f=>{const g=r.employees.find(y=>y.id===f.employeeId)?.department||"Unknown";l[g]||(l[g]={count:0,total:0}),l[g].count+=1,l[g].total+=f.rating||0});const c=Object.entries(l).map(([f,h])=>({department:f,averageRating:h.count?+(h.total/h.count).toFixed(2):0,count:h.count})),d=s.length?+(s.reduce((f,h)=>f+(h.rating||0),0)/s.length).toFixed(2):0,m=s.slice().sort((f,h)=>(h.rating||0)-(f.rating||0)).slice(0,5).map(f=>{const h=r.employees.find(g=>g.id===f.employeeId);return{employeeId:f.employeeId,name:h?.name,department:h?.department,rating:f.rating}});return{overallAvg:d,avgByDepartment:c,topPerformers:m,count:s.length}},submitPamsForm:a=>{const r=U(new Date,"yyyy-MM-dd"),s={id:Dt("pams"),status:"submitted",submittedAt:r,category:a.category||"faculty",hodReview:{status:"pending",comment:null,meetingDate:null,decidedAt:null},vcReview:{status:"pending",comment:null,decidedAt:null},deanReview:a.category==="hod"?{status:"pending",comment:null,meetingDate:null,decidedAt:null}:null,history:[{action:"submitted",by:a.by||"employee",at:r}]};e(l=>({pamsSubmissions:[{...s,...a},...l.pamsSubmissions]}))},updatePamsSubmission:(a,r)=>e(s=>({pamsSubmissions:s.pamsSubmissions.map(l=>l.id===a?{...l,...r,history:r.resubmitted?[...l.history,{action:"resubmitted",by:r.by||"employee",at:U(new Date,"yyyy-MM-dd")}]:l.history,status:r.resubmitted?"submitted":r.status||l.status,submittedAt:r.resubmitted?U(new Date,"yyyy-MM-dd"):l.submittedAt}:l)})),hodReviewPams:(a,r)=>e(s=>({pamsSubmissions:s.pamsSubmissions.map(l=>l.id!==a||l.category==="hod"?l:{...l,status:"hod-confirmed",hodReview:{status:"hod-confirmed",comment:r.comment||null,meetingDate:r.meetingDate||null,decidedAt:U(new Date,"yyyy-MM-dd"),assessment:r.assessment||null},followUpMeeting:{topic:"Department performance follow-up",scheduledAt:r.followUpDate||r.meetingDate||U(new Date,"yyyy-MM-dd"),status:"pending"},history:[...l.history,{action:"hod-confirmed",by:r.by||"hod",at:U(new Date,"yyyy-MM-dd"),note:r.comment||null}]})})),vcApprovePams:(a,r)=>e(s=>({pamsSubmissions:s.pamsSubmissions.map(l=>{if(l.id!==a)return l;const c={status:"vc-approved",comment:r.comment||null,decidedAt:U(new Date,"yyyy-MM-dd")};return{...l,status:"vc-approved",vcReview:c,history:[...l.history,{action:"vc-approved",by:r.by||"vc",at:c.decidedAt,note:r.comment||null}]}})})),getPamsForEmployee:a=>n().pamsSubmissions.filter(r=>r.employeeId===a),getPamsForHod:a=>n().pamsSubmissions.filter(r=>r.category==="faculty"&&r.department===a&&["submitted"].includes(r.status)),getPamsForVc:()=>n().pamsSubmissions.filter(a=>["hod-confirmed","dean-confirmed"].includes(a.status)),getPamsForHr:()=>n().pamsSubmissions.filter(a=>a.status==="vc-approved"),hrApprovePams:(a,r)=>e(s=>({pamsSubmissions:s.pamsSubmissions.map(l=>{if(l.id!==a)return l;const c={status:"hr-final",comment:r.comment||null,processedAt:U(new Date,"yyyy-MM-dd")};return{...l,status:"hr-final",hrReview:c,history:[...l.history,{action:"hr-final",by:r.by||"hr",at:c.processedAt,note:r.comment||null}]}})})),getPamsForDean:a=>n().pamsSubmissions.filter(r=>r.category==="hod"&&r.faculty===a&&["submitted"].includes(r.status)),deanReviewPams:(a,r)=>e(s=>({pamsSubmissions:s.pamsSubmissions.map(l=>{if(l.id!==a||l.category!=="hod")return l;const c={status:"dean-confirmed",comment:r.comment||null,meetingDate:r.meetingDate||null,decidedAt:U(new Date,"yyyy-MM-dd"),assessment:r.assessment||null};return{...l,status:"dean-confirmed",deanReview:c,followUpMeeting:{topic:"Department performance review with Dean",scheduledAt:r.followUpDate||r.meetingDate||c.decidedAt,status:"pending"},history:[...l.history,{action:"dean-confirmed",by:r.by||"dean",at:c.decidedAt,note:r.comment||null}]}})})),getOvertimeStats:({month:a=new Date().getMonth()+1,year:r=new Date().getFullYear()}={})=>{const s=n(),l=qa(new Date(r,a-1,1)),c=Ha(l),d={};s.attendance.forEach(h=>{const g=me(h.date);if(g<l||g>c)return;d[h.employeeId]||(d[h.employeeId]=0);const y=h.workHours||0,v=Math.max(0,y-8);d[h.employeeId]+=v});const m=Object.entries(d).map(([h,g])=>{const y=s.employees.find(v=>v.id===h);return{employeeId:h,name:y?.name,department:y?.department,hours:+g.toFixed(2)}}).filter(h=>h.hours>0).sort((h,g)=>g.hours-h.hours);return{totalHours:+m.reduce((h,g)=>h+g.hours,0).toFixed(2),rows:m}},getPendingApprovalsSummary:()=>{const a=n();return{leaves:a.leaves.filter(r=>r.status==="Pending"||r.status==="Forwarded").length,attendanceCorrections:a.attendanceCorrections.filter(r=>r.status==="Pending").length,promotions:a.promotions.filter(r=>r.status==="Pending"||r.status==="Under Review").length,profileUpdates:a.profileUpdateRequests.filter(r=>r.status==="Pending").length,selectionBoard:a.candidates.filter(r=>r.selectionBoard?.status==="pending").length}},getExpiringContracts:(a=30)=>{const r=n(),l=gs(new Date,a);return r.employees.map(d=>{const m=d.employmentStatus==="probation"?d.probationEndDate:null,f=d.contract?.endDate||null,h=m&&me(m)<=l,g=f&&me(f)<=l;return!h&&!g?null:{id:d.id,name:d.name,department:d.department,faculty:d.faculty,type:h?"Probation End":"Contract End",dueDate:h?m:f}}).filter(Boolean).sort((d,m)=>me(d.dueDate)-me(m.dueDate))},getProfileCompletion:a=>{const r=n().employees.find(h=>h.id===a);if(!r)return{percent:0,missing:[]};const s=["email","phone","cnic","bankAccount","address","emergencyContact","department","faculty","designation"],l=s.filter(h=>!r[h]),c=(s.length-l.length)/s.length*100,d=["dependents","qualifications","publications","certifications","awards","skills","languages","professionalMemberships"],m=d.reduce((h,g)=>g==="skills"||g==="languages"?h+(r[g]&&r[g].length>0?3:0):h+(r[g]&&r[g].length>0?5:0),0);return{percent:Math.min(100,Math.round(c+m)),missing:l,bonusFields:d}},getAccreditationReport:()=>{const a=n(),r={male:0,female:0,other:0},s={},l={};return a.employees.forEach(c=>{const d=(c.gender||"").toLowerCase();d==="male"?r.male+=1:d==="female"?r.female+=1:r.other+=1,s[c.designation]=(s[c.designation]||0)+1,l[c.faculty]=(l[c.faculty]||0)+1}),{headcount:a.employees.length,genderDist:r,byDesignation:s,byFaculty:l,probationCount:a.employees.filter(c=>c.employmentStatus==="probation").length,contractExpiring30:n().getExpiringContracts(30).length}},getExEmployeesByDepartment:a=>n().exEmployees.filter(r=>r.department===a),getExEmployeesByFaculty:a=>n().exEmployees.filter(r=>r.faculty===a),searchExEmployees:a=>{const r=a.toLowerCase();return n().exEmployees.filter(s=>s.name.toLowerCase().includes(r)||s.department.toLowerCase().includes(r)||s.designation.toLowerCase().includes(r))},addAnnouncement:a=>e(r=>({announcements:[{...a,id:Dt("ann"),createdAt:U(new Date,"yyyy-MM-dd HH:mm"),isActive:!0},...r.announcements]})),updateAnnouncement:(a,r)=>e(s=>({announcements:s.announcements.map(l=>l.id===a?{...l,...r}:l)})),deleteAnnouncement:a=>e(r=>({announcements:r.announcements.filter(s=>s.id!==a)})),getActiveAnnouncements:()=>{const a=new Date;return n().announcements.filter(r=>r.isActive&&(!r.expiresAt||new Date(r.expiresAt)>a))},getAnnouncementsForUser:a=>n().getActiveAnnouncements().filter(s=>!!(s.targetAudience==="all"||s.targetAudience==="faculty"&&a?.faculty||s.department&&s.department===a?.department)),getStats:()=>{const a=n(),r=U(_e,"yyyy-MM-dd"),s=a.attendance.filter(l=>l.date===r);return{totalEmployees:a.employees.length,activeEmployees:a.employees.filter(l=>l.status==="Active").length,presentToday:s.filter(l=>l.status==="Present").length,lateToday:s.filter(l=>l.status==="Late").length,absentToday:a.employees.length-s.length,pendingLeaves:a.leaves.filter(l=>l.status==="Pending").length,pendingPromotions:a.promotions.filter(l=>l.status==="Pending").length,pendingResignations:a.resignations.filter(l=>l.status==="Pending").length,onLeave:a.employees.filter(l=>l.status==="On Leave").length,totalPayroll:a.employees.reduce((l,c)=>l+c.salaryBase,0),totalExEmployees:a.exEmployees.length}},resetData:()=>e({employees:eb,attendance:V5(),leaves:K5,notifications:Y5,promotions:G5,resignations:Z5,exEmployees:X5,announcements:Q5,bulkIncrements:eA,profileUpdateRequests:tA,candidates:Y0,documents:G0,payrollSettings:Wf,payrollRuns:nA,attendanceCorrections:W5,performanceReviews:J5,pamsSubmissions:tb})}),{name:"hrms-data",partialize:e=>({employees:e.employees,attendance:e.attendance,leaves:e.leaves,notifications:e.notifications,promotions:e.promotions,resignations:e.resignations,exEmployees:e.exEmployees,announcements:e.announcements,bulkIncrements:e.bulkIncrements,profileUpdateRequests:e.profileUpdateRequests,candidates:e.candidates,documents:e.documents,payrollSettings:e.payrollSettings,payrollRuns:e.payrollRuns,attendanceCorrections:e.attendanceCorrections,performanceReviews:e.performanceReviews,pamsSubmissions:e.pamsSubmissions})})),D8="18a0400c-1b05-4bbb-a7f9-8ba08012816e",E8="https://api.web3forms.com/submit",Du=async e=>{try{const n=new FormData;return n.append("access_key",D8),n.append("to_email",e.to),n.append("subject",e.subject),n.append("message",e.message),n.append("from_name",e.from_name||"HRMS System"),await(await fetch(E8,{method:"POST",body:n})).json()}catch(n){return console.error("Email sending failed:",n),{success:!1,error:n.message}}},O8=async(e,n)=>{const s=(ve.getState().employees||[]).filter(d=>d.email&&d.email!==n).map(d=>d.email);if(s.length===0)return console.log("No recipients found for leave notification"),null;const l=`Dear Colleague,

A new leave request has been submitted:

Employee Name: ${e.employeeName}
Leave Type: ${e.leaveType.charAt(0).toUpperCase()+e.leaveType.slice(1)}
Start Date: ${e.startDate}
End Date: ${e.endDate}
Duration: ${e.days} day(s)
Reason: ${e.reason}
Status: ${e.status}

Please review and process this leave request through the HRMS dashboard.

Best regards,
HRMS System
CECOS University`,c=s.map(d=>Du({to:d,subject:`New Leave Request - ${e.employeeName} (${e.leaveType})`,message:l,from_name:"HRMS Leave Management"}));try{const d=await Promise.all(c);return console.log(`Leave notification emails sent successfully to ${s.length} recipients`,d),d}catch(d){return console.error("Leave notification emails failed:",d),null}},P8=async(e,n)=>{const s=(ve.getState().employees||[]).filter(d=>d.email&&d.email!==n&&d.email!==e.email).map(d=>d.email),l=`Dear Team,

A new employee has been added to the system:

Employee Name: ${e.name}
Employee Code: ${e.code}
Email: ${e.email}
Designation: ${e.designation}
Department: ${e.department}
Join Date: ${e.joinDate}

Please update your records accordingly.

Best regards,
HRMS System
CECOS University`,c=s.map(d=>Du({to:d,subject:`New Employee Added - ${e.name}`,message:l,from_name:"HRMS Employee Management"}));try{const d=await Promise.all(c);return await Du({to:e.email,subject:"Welcome to CECOS University - Your Employee Account",message:`Dear ${e.name},

Welcome to CECOS University!

Your employee account has been created in the HRMS.

Your Employee Code: ${e.code}
Your Designation: ${e.designation}
Your Department: ${e.department}

You can now access the HRMS portal using your credentials.

Best regards,
HRMS System
CECOS University`,from_name:"HRMS Welcome"}),console.log(`New employee notification emails sent successfully to ${s.length} recipients`,d),d}catch(d){return console.error("New employee notification emails failed:",d),null}},k8=async(e,n)=>{const s=(ve.getState().employees||[]).filter(d=>d.email&&d.email!==n).map(d=>d.email);if(s.length===0)return console.log("No recipients found for announcement notification"),null;const l=`New Announcement:

Title: ${e.title}

${e.description}

Audience: ${e.audience}
Posted by: ${e.postedBy}
Date: ${new Date().toLocaleString("en-PK")}

Please log in to the HRMS system to view full details.

Best regards,
HRMS System
CECOS University`,c=s.map(d=>Du({to:d,subject:`New Announcement - ${e.title}`,message:l,from_name:"HRMS Announcements"}));try{const d=await Promise.all(c);return console.log(`Announcement notification emails sent successfully to ${s.length} recipients`,d),d}catch(d){return console.error("Announcement notification emails failed:",d),null}},B4=async(e,n)=>{const s=(ve.getState().employees||[]).filter(d=>d.email&&d.email!==n).map(d=>d.email);if(s.length===0)return console.log("No recipients found for meeting notification"),null;const l=`Dear Colleague,

You are cordially invited to attend a committee meeting.

Meeting Title: ${e.title}
Date: ${e.date}
Time: ${e.time}
Location: ${e.location}

Agenda:
${e.agenda}

Convener: ${e.convener}

Please confirm your attendance and inform if you have any specific topics to discuss.

Best regards,
HRMS System
CECOS University`,c=s.map(d=>Du({to:d,subject:`Committee Meeting Invitation - ${e.title}`,message:l,from_name:`Committee Meeting - ${e.convener}`}));try{const d=await Promise.all(c);return console.log(`Meeting notification emails sent successfully to ${s.length} recipients`,d),d}catch(d){return console.error("Meeting notification emails failed:",d),null}};function R8(){const e=ve(l=>l.employees);ve(l=>l.getStats)();const a=[{title:"Total Users",value:e.length+6,icon:rn,iconBg:"bg-blue-500",trend:5},{title:"Active Sessions",value:12,icon:H5,iconBg:"bg-green-500",subtitle:"Across all portals"},{title:"Security Alerts",value:0,icon:vi,iconBg:"bg-purple-500",subtitle:"All systems secure"},{title:"Pending Issues",value:2,icon:sa,iconBg:"bg-yellow-500",subtitle:"Requires attention"}],r=[{action:"User login",user:"Alice Smith",time:"2 minutes ago",status:"success"},{action:"Leave approved",user:"HR Manager",time:"15 minutes ago",status:"success"},{action:"Password reset",user:"Bob Ahmed",time:"1 hour ago",status:"warning"},{action:"New employee added",user:"HR Manager",time:"3 hours ago",status:"success"},{action:"System backup",user:"System",time:"6 hours ago",status:"success"}],s=[{name:"Database",status:"Operational",uptime:"99.9%"},{name:"Authentication",status:"Operational",uptime:"100%"},{name:"File Storage",status:"Operational",uptime:"99.8%"},{name:"Email Service",status:"Degraded",uptime:"98.5%"}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Administration"}),t.jsx("p",{className:"text-gray-500",children:"Monitor and manage HRMS system settings"})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 stagger-animate",children:a.map((l,c)=>t.jsx(Et,{...l},c))}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(H,{title:"Recent Activity",subtitle:"Latest system events",children:t.jsx("div",{className:"space-y-4",children:r.map((l,c)=>t.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-gray-50",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${l.status==="success"?"bg-green-500":l.status==="warning"?"bg-yellow-500":"bg-red-500"}`}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.action}),t.jsxs("p",{className:"text-xs text-gray-500",children:["by ",l.user]})]}),t.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[t.jsx(Ue,{className:"w-3 h-3"}),l.time]})]},c))})}),t.jsx(H,{title:"System Health",subtitle:"Service status overview",children:t.jsx("div",{className:"space-y-4",children:s.map((l,c)=>t.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[l.status==="Operational"?t.jsx(Be,{className:"w-5 h-5 text-green-500"}):t.jsx(sa,{className:"w-5 h-5 text-yellow-500"}),t.jsx("span",{className:"font-medium text-gray-900",children:l.name})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:`text-sm font-medium ${l.status==="Operational"?"text-green-600":"text-yellow-600"}`,children:l.status}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Uptime: ",l.uptime]})]})]},c))})})]}),t.jsx(H,{title:"Quick Actions",children:t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("button",{className:"p-4 rounded-xl border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all text-center",children:[t.jsx(rn,{className:"w-8 h-8 mx-auto mb-2 text-gray-600"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Add User"})]}),t.jsxs("button",{className:"p-4 rounded-xl border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all text-center",children:[t.jsx(vi,{className:"w-8 h-8 mx-auto mb-2 text-gray-600"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Security Scan"})]}),t.jsxs("button",{className:"p-4 rounded-xl border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all text-center",children:[t.jsx(H5,{className:"w-8 h-8 mx-auto mb-2 text-gray-600"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Backup Data"})]}),t.jsxs("button",{className:"p-4 rounded-xl border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all text-center",children:[t.jsx(sa,{className:"w-8 h-8 mx-auto mb-2 text-gray-600"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"View Alerts"})]})]})})]})}function le({children:e,variant:n="default",size:a="sm"}){const r={default:"bg-gray-100 text-gray-700 border-gray-200",success:"bg-emerald-50 text-emerald-700 border-emerald-200",warning:"bg-amber-50 text-amber-700 border-amber-200",danger:"bg-red-50 text-red-700 border-red-200",error:"bg-red-50 text-red-700 border-red-200",info:"bg-blue-50 text-blue-700 border-blue-200",primary:"bg-[hsl(var(--color-primary)/0.1)] text-[hsl(var(--color-primary))] border-[hsl(var(--color-primary)/0.2)]",secondary:"bg-[hsl(var(--color-secondary)/0.1)] text-[hsl(var(--color-secondary))] border-[hsl(var(--color-secondary)/0.2)]",purple:"bg-purple-50 text-purple-700 border-purple-200"},s={xs:"px-1.5 py-0.5 text-[10px]",sm:"px-2.5 py-0.5 text-xs",md:"px-3 py-1 text-sm"};return t.jsx("span",{className:`inline-flex items-center rounded-full font-medium border whitespace-nowrap ${s[a]||s.sm} ${r[n]||r.default}`,children:e})}function ft({open:e,isOpen:n,onClose:a,title:r,children:s,actions:l,size:c="xl"}){if(!(e||n))return null;const m={sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl",full:"max-w-[98vw] lg:max-w-7xl"};return t.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-black/50 p-0 sm:p-4",style:{overscrollBehavior:"contain",paddingTop:"80px"},onClick:a,children:t.jsxs("div",{className:`bg-white rounded-t-2xl sm:rounded-xl shadow-2xl w-full ${m[c]||m.md} max-h-[90vh] sm:max-h-[85vh] overflow-hidden flex flex-col`,style:{position:"relative"},onClick:f=>f.stopPropagation(),children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 py-3 sm:py-4 border-b bg-white shrink-0 sticky top-0 z-10",children:[t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 pr-4",children:r}),t.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 p-1.5 rounded-lg hover:bg-gray-100 transition-colors shrink-0",children:t.jsx(Rp,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),t.jsx("div",{className:"px-4 sm:px-6 py-4 overflow-y-auto flex-1",style:{maxHeight:"calc(85vh - 64px)"},children:s}),l&&t.jsx("div",{className:"px-4 sm:px-6 py-3 sm:py-4 bg-gray-50 flex flex-col-reverse sm:flex-row gap-2 sm:gap-3 justify-end border-t shrink-0",children:l})]})})}function Ec({src:e,name:n="",size:a="md",status:r,className:s=""}){const l={xs:"w-6 h-6 text-xs",sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-12 h-12 text-lg",xl:"w-16 h-16 text-xl"},c={online:"bg-green-500",offline:"bg-gray-400",busy:"bg-red-500",away:"bg-yellow-500"},d={xs:"w-1.5 h-1.5",sm:"w-2 h-2",md:"w-2.5 h-2.5",lg:"w-3 h-3",xl:"w-4 h-4"},m=f=>{if(!f)return"?";const h=f.trim().split(" ");return h.length===1?h[0].charAt(0).toUpperCase():(h[0].charAt(0)+h[h.length-1].charAt(0)).toUpperCase()};return t.jsxs("div",{className:`relative inline-flex ${s}`,children:[e?t.jsx("img",{src:e,alt:n,className:`${l[a]} rounded-full object-cover ring-2 ring-white`}):t.jsx("div",{className:`${l[a]} rounded-full bg-linear-to-br from-[hsl(var(--color-primary))] to-[hsl(var(--color-secondary))] flex items-center justify-center text-white font-semibold ring-2 ring-white`,children:m(n)}),r&&t.jsx("span",{className:`absolute bottom-0 right-0 ${d[a]} ${c[r]} rounded-full ring-2 ring-white`})]})}function _8(){const{employees:e}=ve(),[n,a]=x.useState(""),[r,s]=x.useState(!1),d=[...[{id:"u-admin",name:"System Administrator",email:"admin@cecos.edu.pk",role:"admin",status:"Active",lastLogin:"2 min ago"},{id:"u-hr",name:"Sarah Khan",email:"hr@cecos.edu.pk",role:"hr",status:"Active",lastLogin:"1 hour ago"},{id:"u-vp",name:"Dr. Ahmad Malik",email:"vp@cecos.edu.pk",role:"vp",status:"Active",lastLogin:"3 hours ago"},{id:"u-dean",name:"Prof. Fatima Ali",email:"dean.computing@cecos.edu.pk",role:"dean",status:"Active",lastLogin:"1 day ago"},{id:"u-hod",name:"Dr. Imran Shah",email:"hod.cs@cecos.edu.pk",role:"hod",status:"Active",lastLogin:"5 hours ago"}],...e.map(f=>({id:f.id,name:f.name,email:f.email,role:"employee",status:f.status,lastLogin:"N/A",department:f.department}))].filter(f=>f.name.toLowerCase().includes(n.toLowerCase())||f.email.toLowerCase().includes(n.toLowerCase())||f.role.toLowerCase().includes(n.toLowerCase())),m=f=>{switch(f){case"admin":return"danger";case"vp":return"primary";case"dean":return"warning";case"hod":return"success";case"hr":return"primary";default:return"default"}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),t.jsx("p",{className:"text-gray-500",children:"Manage system users and their roles"})]}),t.jsxs(Z,{onClick:()=>s(!0),children:[t.jsx(yi,{className:"w-4 h-4"}),"Add User"]})]}),t.jsxs(H,{children:[t.jsx("div",{className:"mb-6",children:t.jsx("div",{className:"max-w-md",children:t.jsx(Rn,{type:"text",placeholder:"Search users...",value:n,onChange:f=>a(f.target.value),className:"w-full",inputClassName:"pr-4 py-2"})})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-200",children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"User"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Role"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Last Login"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:d.map(f=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ec,{name:f.name,size:"sm"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:f.name}),t.jsx("p",{className:"text-sm text-gray-500",children:f.email})]})]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx(le,{variant:m(f.role),children:Kl[f.role]||f.role})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx(le,{variant:f.status==="Active"?"success":"warning",children:f.status})}),t.jsx("td",{className:"px-4 py-4 text-sm text-gray-500",children:f.lastLogin}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 text-gray-500 hover:text-gray-700",children:t.jsx(vi,{className:"w-4 h-4"})}),t.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 text-gray-500 hover:text-gray-700",children:t.jsx(I4,{className:"w-4 h-4"})}),t.jsx("button",{className:"p-2 rounded-lg hover:bg-red-50 text-gray-500 hover:text-red-600",children:t.jsx(kp,{className:"w-4 h-4"})})]})})]},f.id))})]})}),d.length===0&&t.jsx("div",{className:"text-center py-12 text-gray-500",children:"No users found matching your search."})]}),t.jsx(ft,{isOpen:r,onClose:()=>s(!1),title:"Add New User",children:t.jsxs("form",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),t.jsx("input",{type:"text",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]",placeholder:"Enter full name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),t.jsx("input",{type:"email",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]",placeholder:"user@cecos.edu.pk"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),t.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]",children:[t.jsx("option",{value:"employee",children:"Employee"}),t.jsx("option",{value:"hr",children:"HR Manager"}),t.jsx("option",{value:"hod",children:"Head of Department"}),t.jsx("option",{value:"dean",children:"Dean"}),t.jsx("option",{value:"vp",children:"Vice President"}),t.jsx("option",{value:"admin",children:"Administrator"})]})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsx(Z,{variant:"secondary",onClick:()=>s(!1),children:"Cancel"}),t.jsx(Z,{type:"submit",children:"Create User"})]})]})})]})}const Nj=x.createContext(null);function ha({children:e,value:n,onValueChange:a,defaultValue:r,className:s=""}){const[l,c]=x.useState(r||""),d=n!==void 0?n:l,m=a||c;return t.jsx(Nj.Provider,{value:{value:d,onChange:m},children:t.jsx("div",{className:s,children:e})})}function pa({children:e,className:n=""}){return t.jsx("div",{className:`flex gap-1 bg-gray-100 p-1 rounded-xl overflow-x-auto scrollbar-hide ${n}`,children:e})}function Ve({children:e,value:n,className:a=""}){const r=x.useContext(Nj),s=r?.value===n;return t.jsx("button",{type:"button",onClick:()=>r?.onChange?.(n),className:`px-4 py-2 text-sm font-medium rounded-lg transition-all whitespace-nowrap shrink-0 ${s?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"} ${a}`,children:e})}function bt({children:e,value:n,className:a=""}){return x.useContext(Nj)?.value!==n?null:t.jsx("div",{className:`animate-fade-in ${a}`,children:e})}function T8({tabs:e=[],activeTab:n,onChange:a,variant:r="underline",className:s=""}){const c={underline:{container:"border-b border-gray-200",tab:"px-4 py-3 text-sm font-medium border-b-2 -mb-px transition-colors",active:"border-[hsl(var(--color-primary))] text-[hsl(var(--color-primary))]",inactive:"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"},pills:{container:"flex gap-2 bg-gray-100 p-1 rounded-xl",tab:"px-4 py-2 text-sm font-medium rounded-lg transition-all",active:"bg-white text-gray-900 shadow-sm",inactive:"text-gray-500 hover:text-gray-700"},boxed:{container:"flex gap-1",tab:"px-4 py-2 text-sm font-medium rounded-lg border transition-all",active:"bg-[hsl(var(--color-primary))] text-white border-transparent",inactive:"bg-white text-gray-600 border-gray-200 hover:border-gray-300"}}[r];return t.jsx("div",{className:`${c.container} ${s}`,children:t.jsx("nav",{className:r==="underline"?"flex gap-4":"flex",children:e.map(d=>t.jsxs("button",{onClick:()=>a?.(d.id),className:`${c.tab} ${n===d.id?c.active:c.inactive} flex items-center gap-2`,children:[d.icon&&t.jsx(d.icon,{className:"w-4 h-4"}),t.jsx("span",{children:d.label}),d.count!==void 0&&t.jsx("span",{className:`ml-1 px-2 py-0.5 text-xs rounded-full ${n===d.id?"bg-white/20 text-current":"bg-gray-200 text-gray-600"}`,children:d.count})]},d.id))})})}function L8(){const[e,n]=x.useState("general"),{resetData:a}=ve(),r=[{id:"general",label:"General"},{id:"security",label:"Security"},{id:"notifications",label:"Notifications"},{id:"integrations",label:"Integrations"}],s=()=>{window.confirm("Are you sure you want to reset all data to defaults? This cannot be undone.")&&(a(),alert("Data has been reset to defaults."))};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Settings"}),t.jsx("p",{className:"text-gray-500",children:"Configure HRMS system preferences"})]}),t.jsx(T8,{tabs:r,activeTab:e,onChange:n}),e==="general"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs(H,{title:"Organization Info",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),t.jsx("input",{type:"text",defaultValue:"CECOS University",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),t.jsx("input",{type:"url",defaultValue:"https://cecos.edu.pk",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email"}),t.jsx("input",{type:"email",defaultValue:"info@cecos.edu.pk",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),t.jsx("input",{type:"tel",defaultValue:"+92-91-1234567",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]})]}),t.jsxs("div",{className:"mt-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),t.jsx("textarea",{rows:3,defaultValue:"F-5 Phase 6, Hayatabad, Peshawar, KPK, Pakistan",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]})]}),t.jsxs(H,{title:"Working Hours",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Start Time"}),t.jsx("input",{type:"time",defaultValue:"09:00",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work End Time"}),t.jsx("input",{type:"time",defaultValue:"17:00",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Late Threshold (minutes)"}),t.jsx("input",{type:"number",defaultValue:"15",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]})]}),t.jsxs("div",{className:"mt-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Working Days"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((l,c)=>t.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-gray-200 cursor-pointer hover:bg-gray-50",children:[t.jsx("input",{type:"checkbox",defaultChecked:c<5,className:"rounded text-[hsl(var(--color-primary))]"}),t.jsx("span",{className:"text-sm",children:l})]},l))})]})]}),t.jsx(H,{title:"Leave Configuration",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Annual Leave (days/year)"}),t.jsx("input",{type:"number",defaultValue:"20",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sick Leave (days/year)"}),t.jsx("input",{type:"number",defaultValue:"12",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Casual Leave (days/year)"}),t.jsx("input",{type:"number",defaultValue:"10",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]"})]})]})}),t.jsx("div",{className:"flex justify-end",children:t.jsx(Z,{children:"Save Changes"})})]}),e==="security"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(H,{title:"Password Policy",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("label",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Minimum Password Length"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Require at least 8 characters"})]}),t.jsx("input",{type:"number",defaultValue:"8",className:"w-20 px-3 py-2 rounded-lg border border-gray-200 text-center"})]}),t.jsxs("label",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Require Special Characters"}),t.jsx("p",{className:"text-sm text-gray-500",children:"At least one special character (!@#$%)"})]}),t.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded text-[hsl(var(--color-primary))]"})]}),t.jsxs("label",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Password Expiry"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Force password reset every 90 days"})]}),t.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded text-[hsl(var(--color-primary))]"})]})]})}),t.jsx(H,{title:"Session Settings",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("label",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Session Timeout (minutes)"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Auto logout after inactivity"})]}),t.jsx("input",{type:"number",defaultValue:"30",className:"w-20 px-3 py-2 rounded-lg border border-gray-200 text-center"})]}),t.jsxs("label",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Single Session Only"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Prevent multiple simultaneous logins"})]}),t.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded text-[hsl(var(--color-primary))]"})]})]})}),t.jsx("div",{className:"flex justify-end",children:t.jsx(Z,{children:"Save Security Settings"})})]}),e==="notifications"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(H,{title:"Email Notifications",children:t.jsx("div",{className:"space-y-4",children:[{title:"Leave Request Submitted",desc:"Notify HR when leave is applied"},{title:"Leave Approved/Rejected",desc:"Notify employee of leave decision"},{title:"New Employee Added",desc:"Notify HR and Admin"},{title:"Attendance Alert",desc:"Notify when late or absent"},{title:"Payroll Processed",desc:"Notify employees of salary credit"}].map((l,c)=>t.jsxs("label",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:l.title}),t.jsx("p",{className:"text-sm text-gray-500",children:l.desc})]}),t.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded text-[hsl(var(--color-primary))]"})]},c))})}),t.jsx("div",{className:"flex justify-end",children:t.jsx(Z,{children:"Save Notification Settings"})})]}),e==="integrations"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(H,{title:"Connected Services",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600 font-bold",children:"MS"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Microsoft 365"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Calendar and email integration"})]})]}),t.jsx(Z,{variant:"secondary",className:"text-sm",children:"Configure"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center text-green-600 font-bold",children:"WA"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"WhatsApp Business"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Notification delivery"})]})]}),t.jsx(Z,{variant:"outline",className:"text-sm",children:"Connect"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-100 flex items-center justify-center text-purple-600 font-bold",children:"BM"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Biometric System"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Attendance hardware integration"})]})]}),t.jsx(Z,{variant:"outline",className:"text-sm",children:"Connect"})]})]})}),t.jsx(H,{title:"Data Management",className:"border-red-200",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Reset all data to default values. This will remove all employees, attendance records, and leave requests. This action cannot be undone."}),t.jsx(Z,{variant:"danger",onClick:s,children:"Reset All Data"})]})})]})]})}const I8=()=>{const e=[{action:"User Login",category:"Authentication",severity:"info"},{action:"User Logout",category:"Authentication",severity:"info"},{action:"Employee Created",category:"Employee",severity:"info"},{action:"Employee Updated",category:"Employee",severity:"info"},{action:"Employee Deleted",category:"Employee",severity:"warning"},{action:"Leave Approved",category:"Leave",severity:"success"},{action:"Leave Rejected",category:"Leave",severity:"warning"},{action:"Password Changed",category:"Security",severity:"info"},{action:"Settings Updated",category:"System",severity:"info"},{action:"Failed Login Attempt",category:"Security",severity:"danger"},{action:"Role Changed",category:"Security",severity:"warning"},{action:"Data Export",category:"Data",severity:"info"}],n=["Admin","Sarah Khan","Dr. Ahmad Malik","System","Alice Smith"],a=[];for(let r=0;r<50;r++){const s=e[Math.floor(Math.random()*e.length)],l=n[Math.floor(Math.random()*n.length)],c=Ke(new Date,Math.floor(Math.random()*30)),d=Math.floor(Math.random()*24),m=Math.floor(Math.random()*60);a.push({id:`log-${r}`,...s,user:l,timestamp:new Date(c.setHours(d,m)),ip:`192.168.1.${Math.floor(Math.random()*255)}`,details:`${s.action} performed successfully`})}return a.sort((r,s)=>s.timestamp-r.timestamp)},z8=I8();function B8(){const[e,n]=x.useState(""),[a,r]=x.useState("all"),[s,l]=x.useState("all"),c=["all","Authentication","Employee","Leave","Security","System","Data"],d=["all","info","success","warning","danger"],m=z8.filter(h=>{const g=h.action.toLowerCase().includes(e.toLowerCase())||h.user.toLowerCase().includes(e.toLowerCase()),y=a==="all"||h.category===a,v=s==="all"||h.severity===s;return g&&y&&v}),f=h=>{switch(h){case"success":return"success";case"warning":return"warning";case"danger":return"danger";default:return"default"}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Audit Logs"}),t.jsx("p",{className:"text-gray-500",children:"Track all system activities and changes"})]}),t.jsxs(Z,{variant:"secondary",children:[t.jsx(Gt,{className:"w-4 h-4"}),"Export Logs"]})]}),t.jsxs(H,{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[t.jsx("div",{className:"flex-1",children:t.jsx(Rn,{type:"text",placeholder:"Search logs...",value:e,onChange:h=>n(h.target.value),className:"w-full",inputClassName:"pr-4 py-2"})}),t.jsx("select",{value:a,onChange:h=>r(h.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]",children:c.map(h=>t.jsx("option",{value:h,children:h==="all"?"All Categories":h},h))}),t.jsx("select",{value:s,onChange:h=>l(h.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 focus:border-[hsl(var(--color-primary))] focus:ring-2 focus:ring-[hsl(var(--color-primary)/0.1)]",children:d.map(h=>t.jsx("option",{value:h,children:h==="all"?"All Severities":h.charAt(0).toUpperCase()+h.slice(1)},h))})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-200",children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Timestamp"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Action"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"User"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Category"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Severity"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"IP Address"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:m.slice(0,20).map(h=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 whitespace-nowrap",children:U(h.timestamp,"MMM dd, yyyy HH:mm")}),t.jsxs("td",{className:"px-4 py-3",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:h.action}),t.jsx("p",{className:"text-xs text-gray-500",children:h.details})]}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:h.user}),t.jsx("td",{className:"px-4 py-3",children:t.jsx(le,{variant:"default",children:h.category})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx(le,{variant:f(h.severity),children:h.severity})}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 font-mono",children:h.ip})]},h.id))})]})}),m.length===0&&t.jsx("div",{className:"text-center py-12 text-gray-500",children:"No logs found matching your filters."}),m.length>20&&t.jsx("div",{className:"mt-4 text-center",children:t.jsx(Z,{variant:"secondary",children:"Load More"})})]})]})}function $8(){return t.jsx(Mi,{children:t.jsxs(Ce,{element:t.jsx(p8,{}),children:[t.jsx(Ce,{index:!0,element:t.jsx(R8,{})}),t.jsx(Ce,{path:"users",element:t.jsx(_8,{})}),t.jsx(Ce,{path:"settings",element:t.jsx(L8,{})}),t.jsx(Ce,{path:"audit",element:t.jsx(B8,{})}),t.jsx(Ce,{path:"*",element:t.jsx(Ns,{to:".",replace:!0})})]})})}const F8=[{path:"/hr",label:"Dashboard",icon:Gu,end:!0,roles:["hr","admin","dean","hod"]},{path:"/hr/pams",label:"PAMS Final Processing",icon:Cu,roles:["hr","admin"]},{path:"/hr/employees",label:"Employees",icon:rn,roles:["hr","admin"]},{path:"/hr/attendance",label:"Attendance Mgmt",icon:Ue,roles:["hr","admin"]},{path:"/hr/attendance-list",label:"Attendance List",icon:gt,roles:["hr","admin"]},{path:"/hr/recruitment",label:"Recruitment & ATS",icon:Mh,roles:["hr","admin"]},{path:"/hr/operational",label:"Operational Dashboard",icon:Va,roles:["hr","admin"]},{path:"/hr/promotions",label:"Promotions",icon:Ss,roles:["hr","admin"]},{path:"/hr/increments",label:"Bulk Increments",icon:dr,roles:["hr","admin"]},{path:"/hr/payroll",label:"Payroll",icon:ur,roles:["hr","admin"]},{path:"/hr/resignations",label:"Resignations",icon:Dc,roles:["hr","admin"]},{path:"/hr/profile-requests",label:"Profile Requests",icon:T7,roles:["hr","admin"]},{path:"/hr/ex-employees",label:"Ex-Employees",icon:gl,roles:["hr","admin"]},{path:"/hr/analytics",label:"Analytics",icon:gj,roles:["hr","admin"]},{path:"/hr/reports",label:"Reports",icon:Va,roles:["hr","admin"]},{path:"/hr/policy-advisory",label:"Policy Advisory",icon:vi,roles:["hr","admin"]},{path:"/hr/announcements",label:"Announcements",icon:ss,roles:["hr","admin"]},{path:"/hr/settings",label:"Settings",icon:Fr,roles:["hr","admin"]}];function q8(){const e=at(s=>s.user),n=e?.primaryRole||e?.role,a=x.useMemo(()=>F8.filter(s=>s.roles.includes(n)),[n]),r=n==="dean"?"Dean Portal":n==="hod"?"HOD Portal":"HR Portal";return t.jsx(Di,{portalKey:"hr",portalName:r,navItems:a})}function H8(){const e=hj(),n=at(S=>S.user),{employees:a,attendance:r,leaves:s}=ve(),l=ve(S=>S.getOvertimeStats),c=ve(S=>S.getPendingApprovalsSummary),d=ve(S=>S.getExpiringContracts),m=ve(S=>S.payrollSettings),f=n?.primaryRole||n?.role,h=f==="dean",g=f==="hod",y=h||g,v=S=>{const A=si.find(E=>E.id===S);return A?A.name:S},j=x.useMemo(()=>{const S=new Date,A=U(S,"yyyy-MM-dd"),E=qa(S),D=Ha(S),P=r.filter(G=>G.date===A),T=P.filter(G=>G.status==="Present").length,O=P.filter(G=>G.status==="Late").length,k=a.length-T-O,B=s.filter(G=>G.status==="Pending"),I=s.filter(G=>{if(G.status!=="Approved")return!1;const W=me(G.appliedOn);return ws(W,{start:E,end:D})}),z=a.filter(G=>G.status==="Active").length,J=a.filter(G=>G.status==="On Leave").length,L=a.filter(G=>G.status==="Active").reduce((G,W)=>G+(W.salaryBase||0),0);return{totalEmployees:a.length,activeEmployees:z,onLeave:J,presentToday:T,lateToday:O,absentToday:k,pendingLeaves:B.length,approvedThisMonth:I.length,totalPayroll:L,attendanceRate:a.length>0?Math.round((T+O)/a.length*100):0,overtimeThisMonth:l()?.totalHours||0,pendingApprovals:c(),expiringSoon:d(m?.operationalConfig?.expiryHorizonDays||30)}},[a,r,s,l,c,d,m]),b=x.useMemo(()=>{let S=s;if(y){const A=f?.toLowerCase();S=s.filter(E=>E.approvalChain?.find(P=>P.role===A)?.status==="pending"&&(E.status==="Pending"||E.status==="Forwarded"))}else S=s.filter(A=>A.status==="Pending");return S.sort((A,E)=>me(E.appliedOn)-me(A.appliedOn)).slice(0,5)},[s,y,f]),w=x.useMemo(()=>r.filter(S=>S.status==="Late"||S.status==="Absent").sort((S,A)=>me(A.date)-me(S.date)).slice(0,5).map(S=>({...S,employee:a.find(A=>A.id===S.employeeId)})),[r,a]),M=S=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(S);return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-linear-to-r from-red-800 to-red-900 rounded-2xl p-6 text-white",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:h?"Dean Dashboard":g?"HOD Dashboard":"HR Dashboard"}),t.jsxs("p",{className:"text-red-100 mt-1",children:["Welcome back, ",n?.name?.split(" ")[0],"!",y?" Review pending leave requests.":` Here's your overview for ${U(new Date,"EEEE, MMMM d")}`]})]}),!y&&t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-lg px-4 py-2",children:[t.jsx("p",{className:"text-sm text-red-100",children:"Attendance Rate"}),t.jsxs("p",{className:"text-2xl font-bold",children:[j.attendanceRate,"%"]})]})})]})}),y?t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[t.jsx(Et,{title:"Pending Approvals",value:(j.pendingApprovals?.leaves||0)+(j.pendingApprovals?.attendanceCorrections||0)+(j.pendingApprovals?.promotions||0),subtitle:"Requests awaiting your approval",icon:gt,color:b.length>5?"warning":"default"}),t.jsx(Et,{title:"Your Department",value:n?.faculty||"N/A",subtitle:`${n?.department||"Department"} Department`,icon:rn,color:"primary"}),t.jsx(Et,{title:"Approved This Month",value:j.approvedThisMonth,subtitle:"Leave requests approved",icon:Be,color:"success"})]}):t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[t.jsx(Et,{title:"Total Employees",value:j.totalEmployees,subtitle:`${j.activeEmployees} active, ${j.onLeave} on leave`,icon:rn,trend:"up",trendValue:"+2 this month",color:"primary"}),t.jsx(Et,{title:"Present Today",value:j.presentToday,subtitle:`${j.lateToday} late, ${j.absentToday} absent`,icon:Be,color:"success"}),t.jsx(Et,{title:"Pending Leaves",value:j.pendingLeaves,subtitle:`${j.approvedThisMonth} approved this month`,icon:gt,color:j.pendingLeaves>5?"warning":"default"}),t.jsx(Et,{title:"Monthly Payroll",value:M(j.totalPayroll),subtitle:"Total base salary expense",icon:ur,color:"success"}),t.jsx(Et,{title:"Overtime (Month)",value:`${j.overtimeThisMonth.toFixed?j.overtimeThisMonth.toFixed(1):j.overtimeThisMonth} hrs`,subtitle:`Warning above ${m?.operationalConfig?.overtimeWarningHours||40} hrs`,icon:Ue,color:j.overtimeThisMonth>(m?.operationalConfig?.overtimeWarningHours||40)?"warning":"default"}),t.jsx(Et,{title:"Pending Approvals",value:(j.pendingApprovals?.leaves||0)+(j.pendingApprovals?.attendanceCorrections||0)+(j.pendingApprovals?.promotions||0)+(j.pendingApprovals?.profileUpdates||0)+(j.pendingApprovals?.selectionBoard||0),subtitle:"Leaves, corrections, promotions, profiles, board",icon:gt,color:(j.pendingApprovals?.leaves||0)>5?"warning":"default"}),t.jsx(Et,{title:`Expiries (${m?.operationalConfig?.expiryHorizonDays||30}d)`,value:j.expiringSoon?.length||0,subtitle:"Probation & contracts due",icon:T4,color:(j.expiringSoon?.length||0)>0?"warning":"default"})]}),!y&&t.jsxs(H,{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Actions"}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[t.jsxs(jn,{to:"/hr/employees",className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-blue-50 hover:bg-blue-100 transition-colors group",children:[t.jsx(rn,{className:"w-6 h-6 text-blue-600 group-hover:scale-110 transition-transform"}),t.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Manage Employees"})]}),t.jsxs(jn,{to:"/hr/leaves",className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-green-50 hover:bg-green-100 transition-colors group",children:[t.jsx(gt,{className:"w-6 h-6 text-green-600 group-hover:scale-110 transition-transform"}),t.jsx("span",{className:"text-sm font-medium text-green-900",children:"Approve Leaves"})]}),t.jsxs(jn,{to:"/hr/attendance",className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-amber-50 hover:bg-amber-100 transition-colors group",children:[t.jsx(Ue,{className:"w-6 h-6 text-amber-600 group-hover:scale-110 transition-transform"}),t.jsx("span",{className:"text-sm font-medium text-amber-900",children:"View Attendance"})]}),t.jsxs(jn,{to:"/hr/reports",className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-purple-50 hover:bg-purple-100 transition-colors group",children:[t.jsx(Va,{className:"w-6 h-6 text-purple-600 group-hover:scale-110 transition-transform"}),t.jsx("span",{className:"text-sm font-medium text-purple-900",children:"View Reports"})]})]})]}),t.jsxs("div",{className:y?"grid gap-6":"grid lg:grid-cols-2 gap-6",children:[t.jsxs(H,{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:y?"Leave Requests Awaiting Your Approval":"Pending Leave Requests"}),t.jsxs(jn,{to:"/hr/leaves",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:["View All ",t.jsx(gu,{className:"w-4 h-4"})]})]}),b.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Be,{className:"w-12 h-12 text-green-300 mx-auto mb-2"}),t.jsx("p",{className:"text-gray-700 font-medium",children:y?"All Caught Up!":"No pending leave requests"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y?"You have no leave requests awaiting your approval at this time.":"No pending leave requests"})]}):t.jsx("div",{className:"space-y-3",children:b.map(S=>t.jsxs("div",{onClick:()=>e("/hr/leaves"),className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:t.jsx("span",{className:"text-sm font-medium text-gray-600",children:S.employeeName?.split(" ").map(A=>A[0]).join("")})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:S.employeeName}),t.jsxs("p",{className:"text-xs text-gray-500",children:[v(S.type),"  ",S.days," day",S.days>1?"s":""," "," ",S.department]})]})]}),t.jsx(le,{variant:"warning",children:"Pending"})]},S.id))})]}),!y&&t.jsxs(H,{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Attendance Issues"}),t.jsxs(jn,{to:"/hr/attendance",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:["View All ",t.jsx(gu,{className:"w-4 h-4"})]})]}),w.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Be,{className:"w-12 h-12 text-green-300 mx-auto mb-2"}),t.jsx("p",{className:"text-gray-500",children:"No attendance issues"})]}):t.jsx("div",{className:"space-y-3",children:w.map(S=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${S.status==="Late"?"bg-yellow-100":"bg-red-100"}`,children:t.jsx(sa,{className:`w-5 h-5 ${S.status==="Late"?"text-yellow-600":"text-red-600"}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:S.employee?.name||"Unknown"}),t.jsxs("p",{className:"text-xs text-gray-500",children:[U(me(S.date),"MMM d, yyyy")," "," ",S.clockIn||"No clock in"]})]})]}),t.jsx(le,{variant:S.status==="Late"?"warning":"error",children:S.status})]},S.id))})]}),!y&&t.jsxs(H,{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:`Upcoming Probation/Contract Expiries (${m?.operationalConfig?.expiryHorizonDays||30}d)`}),t.jsxs(jn,{to:"/hr/employees",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:["Manage ",t.jsx(gu,{className:"w-4 h-4"})]})]}),!j.expiringSoon||j.expiringSoon.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Be,{className:"w-12 h-12 text-green-300 mx-auto mb-2"}),t.jsx("p",{className:"text-gray-500",children:"No upcoming expiries"})]}):t.jsx("div",{className:"space-y-3",children:j.expiringSoon.map(S=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:S.name}),t.jsxs("p",{className:"text-xs text-gray-500",children:[S.department,"  ",S.type]})]}),t.jsx(le,{variant:"warning",children:U(me(S.dueDate),"MMM d, yyyy")})]},`${S.id}-${S.dueDate}`))})]})]})," ",!y&&t.jsxs(H,{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Department Overview"}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:["Computing","Engineering","Management","Sciences"].map(S=>{const A=a.filter(E=>E.faculty===S);return t.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[t.jsx("p",{className:"font-medium text-gray-900",children:S}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:A.length}),t.jsxs("p",{className:"text-xs text-gray-500",children:[A.filter(E=>E.status==="Active").length," active"]})]},S)})})]})]})}var Xu=e=>e.type==="checkbox",Wl=e=>e instanceof Date,Ia=e=>e==null;const $4=e=>typeof e=="object";var Hn=e=>!Ia(e)&&!Array.isArray(e)&&$4(e)&&!Wl(e),U8=e=>Hn(e)&&e.target?Xu(e.target)?e.target.checked:e.target.value:e,V8=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,K8=(e,n)=>e.has(V8(n)),W8=e=>{const n=e.constructor&&e.constructor.prototype;return Hn(n)&&n.hasOwnProperty("isPrototypeOf")},wj=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ea(e){let n;const a=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)n=new Date(e);else if(!(wj&&(e instanceof Blob||r))&&(a||Hn(e)))if(n=a?[]:Object.create(Object.getPrototypeOf(e)),!a&&!W8(e))n=e;else for(const s in e)e.hasOwnProperty(s)&&(n[s]=ea(e[s]));else return e;return n}var _p=e=>/^\w*$/.test(e),On=e=>e===void 0,Sj=e=>Array.isArray(e)?e.filter(Boolean):[],Aj=e=>Sj(e.replace(/["|']|\]/g,"").split(/\.|\[/)),He=(e,n,a)=>{if(!n||!Hn(e))return a;const r=(_p(n)?[n]:Aj(n)).reduce((s,l)=>Ia(s)?s:s[l],e);return On(r)||r===e?On(e[n])?a:e[n]:r},fs=e=>typeof e=="boolean",pn=(e,n,a)=>{let r=-1;const s=_p(n)?[n]:Aj(n),l=s.length,c=l-1;for(;++r<l;){const d=s[r];let m=a;if(r!==c){const f=e[d];m=Hn(f)||Array.isArray(f)?f:isNaN(+s[r+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=m,e=e[d]}};const rA={BLUR:"blur",FOCUS_OUT:"focusout"},Yr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ti={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Y8=Oe.createContext(null);Y8.displayName="HookFormContext";var G8=(e,n,a,r=!0)=>{const s={defaultValues:n._defaultValues};for(const l in e)Object.defineProperty(s,l,{get:()=>{const c=l;return n._proxyFormState[c]!==Yr.all&&(n._proxyFormState[c]=!r||Yr.all),e[c]}});return s};const Z8=typeof window<"u"?Oe.useLayoutEffect:Oe.useEffect;var sr=e=>typeof e=="string",X8=(e,n,a,r,s)=>sr(e)?(r&&n.watch.add(e),He(a,e,s)):Array.isArray(e)?e.map(l=>(r&&n.watch.add(l),He(a,l))):(r&&(n.watchAll=!0),a),nb=e=>Ia(e)||!$4(e);function fl(e,n,a=new WeakSet){if(nb(e)||nb(n))return Object.is(e,n);if(Wl(e)&&Wl(n))return e.getTime()===n.getTime();const r=Object.keys(e),s=Object.keys(n);if(r.length!==s.length)return!1;if(a.has(e)||a.has(n))return!0;a.add(e),a.add(n);for(const l of r){const c=e[l];if(!s.includes(l))return!1;if(l!=="ref"){const d=n[l];if(Wl(c)&&Wl(d)||Hn(c)&&Hn(d)||Array.isArray(c)&&Array.isArray(d)?!fl(c,d,a):!Object.is(c,d))return!1}}return!0}var Q8=(e,n,a,r,s)=>n?{...a[e],types:{...a[e]&&a[e].types?a[e].types:{},[r]:s||!0}}:{},yu=e=>Array.isArray(e)?e:[e],sA=()=>{let e=[];return{get observers(){return e},next:s=>{for(const l of e)l.next&&l.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(l=>l!==s)}}),unsubscribe:()=>{e=[]}}};function F4(e,n){const a={};for(const r in e)if(e.hasOwnProperty(r)){const s=e[r],l=n[r];if(s&&Hn(s)&&l){const c=F4(s,l);Hn(c)&&(a[r]=c)}else e[r]&&(a[r]=l)}return a}var Na=e=>Hn(e)&&!Object.keys(e).length,Cj=e=>e.type==="file",Gr=e=>typeof e=="function",Dh=e=>{if(!wj)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},q4=e=>e.type==="select-multiple",Mj=e=>e.type==="radio",J8=e=>Mj(e)||Xu(e),Z0=e=>Dh(e)&&e.isConnected;function e9(e,n){const a=n.slice(0,-1).length;let r=0;for(;r<a;)e=On(e)?r++:e[n[r++]];return e}function t9(e){for(const n in e)if(e.hasOwnProperty(n)&&!On(e[n]))return!1;return!0}function $n(e,n){const a=Array.isArray(n)?n:_p(n)?[n]:Aj(n),r=a.length===1?e:e9(e,a),s=a.length-1,l=a[s];return r&&delete r[l],s!==0&&(Hn(r)&&Na(r)||Array.isArray(r)&&t9(r))&&$n(e,a.slice(0,-1)),e}var n9=e=>{for(const n in e)if(Gr(e[n]))return!0;return!1};function H4(e){return Array.isArray(e)||Hn(e)&&!n9(e)}function ab(e,n={}){for(const a in e){const r=e[a];H4(r)?(n[a]=Array.isArray(r)?[]:{},ab(r,n[a])):On(r)||(n[a]=!0)}return n}function bc(e,n,a){a||(a=ab(n));for(const r in e){const s=e[r];if(H4(s))On(n)||nb(a[r])?a[r]=ab(s,Array.isArray(s)?[]:{}):bc(s,Ia(n)?{}:n[r],a[r]);else{const l=n[r];a[r]=!fl(s,l)}}return a}const iA={value:!1,isValid:!1},lA={value:!0,isValid:!0};var U4=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!On(e[0].attributes.value)?On(e[0].value)||e[0].value===""?lA:{value:e[0].value,isValid:!0}:lA:iA}return iA},V4=(e,{valueAsNumber:n,valueAsDate:a,setValueAs:r})=>On(e)?e:n?e===""?NaN:e&&+e:a&&sr(e)?new Date(e):r?r(e):e;const oA={isValid:!1,value:null};var K4=e=>Array.isArray(e)?e.reduce((n,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:n,oA):oA;function cA(e){const n=e.ref;return Cj(n)?n.files:Mj(n)?K4(e.refs).value:q4(n)?[...n.selectedOptions].map(({value:a})=>a):Xu(n)?U4(e.refs).value:V4(On(n.value)?e.ref.value:n.value,e)}var a9=(e,n,a,r)=>{const s={};for(const l of e){const c=He(n,l);c&&pn(s,l,c._f)}return{criteriaMode:a,names:[...e],fields:s,shouldUseNativeValidation:r}},Eh=e=>e instanceof RegExp,tu=e=>On(e)?e:Eh(e)?e.source:Hn(e)?Eh(e.value)?e.value.source:e.value:e,dA=e=>({isOnSubmit:!e||e===Yr.onSubmit,isOnBlur:e===Yr.onBlur,isOnChange:e===Yr.onChange,isOnAll:e===Yr.all,isOnTouch:e===Yr.onTouched});const uA="AsyncFunction";var r9=e=>!!e&&!!e.validate&&!!(Gr(e.validate)&&e.validate.constructor.name===uA||Hn(e.validate)&&Object.values(e.validate).find(n=>n.constructor.name===uA)),s9=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),mA=(e,n,a)=>!a&&(n.watchAll||n.watch.has(e)||[...n.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const vu=(e,n,a,r)=>{for(const s of a||Object.keys(e)){const l=He(e,s);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&n(c.refs[0],s)&&!r)return!0;if(c.ref&&n(c.ref,c.name)&&!r)return!0;if(vu(d,n))break}else if(Hn(d)&&vu(d,n))break}}};function fA(e,n,a){const r=He(e,a);if(r||_p(a))return{error:r,name:a};const s=a.split(".");for(;s.length;){const l=s.join("."),c=He(n,l),d=He(e,l);if(c&&!Array.isArray(c)&&a!==l)return{name:a};if(d&&d.type)return{name:l,error:d};if(d&&d.root&&d.root.type)return{name:`${l}.root`,error:d.root};s.pop()}return{name:a}}var i9=(e,n,a,r)=>{a(e);const{name:s,...l}=e;return Na(l)||Object.keys(l).length>=Object.keys(n).length||Object.keys(l).find(c=>n[c]===(!r||Yr.all))},l9=(e,n,a)=>!e||!n||e===n||yu(e).some(r=>r&&(a?r===n:r.startsWith(n)||n.startsWith(r))),o9=(e,n,a,r,s)=>s.isOnAll?!1:!a&&s.isOnTouch?!(n||e):(a?r.isOnBlur:s.isOnBlur)?!e:(a?r.isOnChange:s.isOnChange)?e:!0,c9=(e,n)=>!Sj(He(e,n)).length&&$n(e,n),d9=(e,n,a)=>{const r=yu(He(e,a));return pn(r,"root",n[a]),pn(e,a,r),e};function hA(e,n,a="validate"){if(sr(e)||Array.isArray(e)&&e.every(sr)||fs(e)&&!e)return{type:a,message:sr(e)?e:"",ref:n}}var hc=e=>Hn(e)&&!Eh(e)?e:{value:e,message:""},pA=async(e,n,a,r,s,l)=>{const{ref:c,refs:d,required:m,maxLength:f,minLength:h,min:g,max:y,pattern:v,validate:j,name:b,valueAsNumber:w,mount:M}=e._f,S=He(a,b);if(!M||n.has(b))return{};const A=d?d[0]:c,E=z=>{s&&A.reportValidity&&(A.setCustomValidity(fs(z)?"":z||""),A.reportValidity())},D={},P=Mj(c),T=Xu(c),O=P||T,k=(w||Cj(c))&&On(c.value)&&On(S)||Dh(c)&&c.value===""||S===""||Array.isArray(S)&&!S.length,B=Q8.bind(null,b,r,D),I=(z,J,L,G=ti.maxLength,W=ti.minLength)=>{const R=z?J:L;D[b]={type:z?G:W,message:R,ref:c,...B(z?G:W,R)}};if(l?!Array.isArray(S)||!S.length:m&&(!O&&(k||Ia(S))||fs(S)&&!S||T&&!U4(d).isValid||P&&!K4(d).isValid)){const{value:z,message:J}=sr(m)?{value:!!m,message:m}:hc(m);if(z&&(D[b]={type:ti.required,message:J,ref:A,...B(ti.required,J)},!r))return E(J),D}if(!k&&(!Ia(g)||!Ia(y))){let z,J;const L=hc(y),G=hc(g);if(!Ia(S)&&!isNaN(S)){const W=c.valueAsNumber||S&&+S;Ia(L.value)||(z=W>L.value),Ia(G.value)||(J=W<G.value)}else{const W=c.valueAsDate||new Date(S),R=Y=>new Date(new Date().toDateString()+" "+Y),F=c.type=="time",q=c.type=="week";sr(L.value)&&S&&(z=F?R(S)>R(L.value):q?S>L.value:W>new Date(L.value)),sr(G.value)&&S&&(J=F?R(S)<R(G.value):q?S<G.value:W<new Date(G.value))}if((z||J)&&(I(!!z,L.message,G.message,ti.max,ti.min),!r))return E(D[b].message),D}if((f||h)&&!k&&(sr(S)||l&&Array.isArray(S))){const z=hc(f),J=hc(h),L=!Ia(z.value)&&S.length>+z.value,G=!Ia(J.value)&&S.length<+J.value;if((L||G)&&(I(L,z.message,J.message),!r))return E(D[b].message),D}if(v&&!k&&sr(S)){const{value:z,message:J}=hc(v);if(Eh(z)&&!S.match(z)&&(D[b]={type:ti.pattern,message:J,ref:c,...B(ti.pattern,J)},!r))return E(J),D}if(j){if(Gr(j)){const z=await j(S,a),J=hA(z,A);if(J&&(D[b]={...J,...B(ti.validate,J.message)},!r))return E(J.message),D}else if(Hn(j)){let z={};for(const J in j){if(!Na(z)&&!r)break;const L=hA(await j[J](S,a),A,J);L&&(z={...L,...B(J,L.message)},E(L.message),r&&(D[b]=z))}if(!Na(z)&&(D[b]={ref:A,...z},!r))return D}}return E(!0),D};const u9={mode:Yr.onSubmit,reValidateMode:Yr.onChange,shouldFocusError:!0};function m9(e={}){let n={...u9,...e},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:Gr(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},r={},s=Hn(n.defaultValues)||Hn(n.values)?ea(n.defaultValues||n.values)||{}:{},l=n.shouldUnregister?{}:ea(s),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,f=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...h};const y={array:sA(),state:sA()},v=n.criteriaMode===Yr.all,j=X=>re=>{clearTimeout(f),f=setTimeout(X,re)},b=async X=>{if(!n.disabled&&(h.isValid||g.isValid||X)){const re=n.resolver?Na((await T()).errors):await k(r,!0);re!==a.isValid&&y.state.next({isValid:re})}},w=(X,re)=>{!n.disabled&&(h.isValidating||h.validatingFields||g.isValidating||g.validatingFields)&&((X||Array.from(d.mount)).forEach(ue=>{ue&&(re?pn(a.validatingFields,ue,re):$n(a.validatingFields,ue))}),y.state.next({validatingFields:a.validatingFields,isValidating:!Na(a.validatingFields)}))},M=(X,re=[],ue,Re,ye=!0,we=!0)=>{if(Re&&ue&&!n.disabled){if(c.action=!0,we&&Array.isArray(He(r,X))){const Ee=ue(He(r,X),Re.argA,Re.argB);ye&&pn(r,X,Ee)}if(we&&Array.isArray(He(a.errors,X))){const Ee=ue(He(a.errors,X),Re.argA,Re.argB);ye&&pn(a.errors,X,Ee),c9(a.errors,X)}if((h.touchedFields||g.touchedFields)&&we&&Array.isArray(He(a.touchedFields,X))){const Ee=ue(He(a.touchedFields,X),Re.argA,Re.argB);ye&&pn(a.touchedFields,X,Ee)}(h.dirtyFields||g.dirtyFields)&&(a.dirtyFields=bc(s,l)),y.state.next({name:X,isDirty:I(X,re),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else pn(l,X,re)},S=(X,re)=>{pn(a.errors,X,re),y.state.next({errors:a.errors})},A=X=>{a.errors=X,y.state.next({errors:a.errors,isValid:!1})},E=(X,re,ue,Re)=>{const ye=He(r,X);if(ye){const we=He(l,X,On(ue)?He(s,X):ue);On(we)||Re&&Re.defaultChecked||re?pn(l,X,re?we:cA(ye._f)):L(X,we),c.mount&&!c.action&&b()}},D=(X,re,ue,Re,ye)=>{let we=!1,Ee=!1;const Ze={name:X};if(!n.disabled){if(!ue||Re){(h.isDirty||g.isDirty)&&(Ee=a.isDirty,a.isDirty=Ze.isDirty=I(),we=Ee!==Ze.isDirty);const et=fl(He(s,X),re);Ee=!!He(a.dirtyFields,X),et?$n(a.dirtyFields,X):pn(a.dirtyFields,X,!0),Ze.dirtyFields=a.dirtyFields,we=we||(h.dirtyFields||g.dirtyFields)&&Ee!==!et}if(ue){const et=He(a.touchedFields,X);et||(pn(a.touchedFields,X,ue),Ze.touchedFields=a.touchedFields,we=we||(h.touchedFields||g.touchedFields)&&et!==ue)}we&&ye&&y.state.next(Ze)}return we?Ze:{}},P=(X,re,ue,Re)=>{const ye=He(a.errors,X),we=(h.isValid||g.isValid)&&fs(re)&&a.isValid!==re;if(n.delayError&&ue?(m=j(()=>S(X,ue)),m(n.delayError)):(clearTimeout(f),m=null,ue?pn(a.errors,X,ue):$n(a.errors,X)),(ue?!fl(ye,ue):ye)||!Na(Re)||we){const Ee={...Re,...we&&fs(re)?{isValid:re}:{},errors:a.errors,name:X};a={...a,...Ee},y.state.next(Ee)}},T=async X=>{w(X,!0);const re=await n.resolver(l,n.context,a9(X||d.mount,r,n.criteriaMode,n.shouldUseNativeValidation));return w(X),re},O=async X=>{const{errors:re}=await T(X);if(X)for(const ue of X){const Re=He(re,ue);Re?pn(a.errors,ue,Re):$n(a.errors,ue)}else a.errors=re;return re},k=async(X,re,ue={valid:!0})=>{for(const Re in X){const ye=X[Re];if(ye){const{_f:we,...Ee}=ye;if(we){const Ze=d.array.has(we.name),et=ye._f&&r9(ye._f);et&&h.validatingFields&&w([we.name],!0);const sn=await pA(ye,d.disabled,l,v,n.shouldUseNativeValidation&&!re,Ze);if(et&&h.validatingFields&&w([we.name]),sn[we.name]&&(ue.valid=!1,re))break;!re&&(He(sn,we.name)?Ze?d9(a.errors,sn,we.name):pn(a.errors,we.name,sn[we.name]):$n(a.errors,we.name))}!Na(Ee)&&await k(Ee,re,ue)}}return ue.valid},B=()=>{for(const X of d.unMount){const re=He(r,X);re&&(re._f.refs?re._f.refs.every(ue=>!Z0(ue)):!Z0(re._f.ref))&&Se(X)}d.unMount=new Set},I=(X,re)=>!n.disabled&&(X&&re&&pn(l,X,re),!fl(Y(),s)),z=(X,re,ue)=>X8(X,d,{...c.mount?l:On(re)?s:sr(X)?{[X]:re}:re},ue,re),J=X=>Sj(He(c.mount?l:s,X,n.shouldUnregister?He(s,X,[]):[])),L=(X,re,ue={})=>{const Re=He(r,X);let ye=re;if(Re){const we=Re._f;we&&(!we.disabled&&pn(l,X,V4(re,we)),ye=Dh(we.ref)&&Ia(re)?"":re,q4(we.ref)?[...we.ref.options].forEach(Ee=>Ee.selected=ye.includes(Ee.value)):we.refs?Xu(we.ref)?we.refs.forEach(Ee=>{(!Ee.defaultChecked||!Ee.disabled)&&(Array.isArray(ye)?Ee.checked=!!ye.find(Ze=>Ze===Ee.value):Ee.checked=ye===Ee.value||!!ye)}):we.refs.forEach(Ee=>Ee.checked=Ee.value===ye):Cj(we.ref)?we.ref.value="":(we.ref.value=ye,we.ref.type||y.state.next({name:X,values:ea(l)})))}(ue.shouldDirty||ue.shouldTouch)&&D(X,ye,ue.shouldTouch,ue.shouldDirty,!0),ue.shouldValidate&&q(X)},G=(X,re,ue)=>{for(const Re in re){if(!re.hasOwnProperty(Re))return;const ye=re[Re],we=X+"."+Re,Ee=He(r,we);(d.array.has(X)||Hn(ye)||Ee&&!Ee._f)&&!Wl(ye)?G(we,ye,ue):L(we,ye,ue)}},W=(X,re,ue={})=>{const Re=He(r,X),ye=d.array.has(X),we=ea(re);pn(l,X,we),ye?(y.array.next({name:X,values:ea(l)}),(h.isDirty||h.dirtyFields||g.isDirty||g.dirtyFields)&&ue.shouldDirty&&y.state.next({name:X,dirtyFields:bc(s,l),isDirty:I(X,we)})):Re&&!Re._f&&!Ia(we)?G(X,we,ue):L(X,we,ue),mA(X,d)&&y.state.next({...a,name:X}),y.state.next({name:c.mount?X:void 0,values:ea(l)})},R=async X=>{c.mount=!0;const re=X.target;let ue=re.name,Re=!0;const ye=He(r,ue),we=et=>{Re=Number.isNaN(et)||Wl(et)&&isNaN(et.getTime())||fl(et,He(l,ue,et))},Ee=dA(n.mode),Ze=dA(n.reValidateMode);if(ye){let et,sn;const la=re.type?cA(ye._f):U8(X),ln=X.type===rA.BLUR||X.type===rA.FOCUS_OUT,mn=!s9(ye._f)&&!n.resolver&&!He(a.errors,ue)&&!ye._f.deps||o9(ln,He(a.touchedFields,ue),a.isSubmitted,Ze,Ee),Vt=mA(ue,d,ln);pn(l,ue,la),ln?(!re||!re.readOnly)&&(ye._f.onBlur&&ye._f.onBlur(X),m&&m(0)):ye._f.onChange&&ye._f.onChange(X);const fn=D(ue,la,ln),Ca=!Na(fn)||Vt;if(!ln&&y.state.next({name:ue,type:X.type,values:ea(l)}),mn)return(h.isValid||g.isValid)&&(n.mode==="onBlur"?ln&&b():ln||b()),Ca&&y.state.next({name:ue,...Vt?{}:fn});if(!ln&&Vt&&y.state.next({...a}),n.resolver){const{errors:_n}=await T([ue]);if(we(la),Re){const zi=fA(a.errors,r,ue),Bi=fA(_n,r,zi.name||ue);et=Bi.error,ue=Bi.name,sn=Na(_n)}}else w([ue],!0),et=(await pA(ye,d.disabled,l,v,n.shouldUseNativeValidation))[ue],w([ue]),we(la),Re&&(et?sn=!1:(h.isValid||g.isValid)&&(sn=await k(r,!0)));Re&&(ye._f.deps&&(!Array.isArray(ye._f.deps)||ye._f.deps.length>0)&&q(ye._f.deps),P(ue,sn,et,fn))}},F=(X,re)=>{if(He(a.errors,re)&&X.focus)return X.focus(),1},q=async(X,re={})=>{let ue,Re;const ye=yu(X);if(n.resolver){const we=await O(On(X)?X:ye);ue=Na(we),Re=X?!ye.some(Ee=>He(we,Ee)):ue}else X?(Re=(await Promise.all(ye.map(async we=>{const Ee=He(r,we);return await k(Ee&&Ee._f?{[we]:Ee}:Ee)}))).every(Boolean),!(!Re&&!a.isValid)&&b()):Re=ue=await k(r);return y.state.next({...!sr(X)||(h.isValid||g.isValid)&&ue!==a.isValid?{}:{name:X},...n.resolver||!X?{isValid:ue}:{},errors:a.errors}),re.shouldFocus&&!Re&&vu(r,F,X?ye:d.mount),Re},Y=(X,re)=>{let ue={...c.mount?l:s};return re&&(ue=F4(re.dirtyFields?a.dirtyFields:a.touchedFields,ue)),On(X)?ue:sr(X)?He(ue,X):X.map(Re=>He(ue,Re))},ae=(X,re)=>({invalid:!!He((re||a).errors,X),isDirty:!!He((re||a).dirtyFields,X),error:He((re||a).errors,X),isValidating:!!He(a.validatingFields,X),isTouched:!!He((re||a).touchedFields,X)}),je=X=>{X&&yu(X).forEach(re=>$n(a.errors,re)),y.state.next({errors:X?a.errors:{}})},V=(X,re,ue)=>{const Re=(He(r,X,{_f:{}})._f||{}).ref,ye=He(a.errors,X)||{},{ref:we,message:Ee,type:Ze,...et}=ye;pn(a.errors,X,{...et,...re,ref:Re}),y.state.next({name:X,errors:a.errors,isValid:!1}),ue&&ue.shouldFocus&&Re&&Re.focus&&Re.focus()},fe=(X,re)=>Gr(X)?y.state.subscribe({next:ue=>"values"in ue&&X(z(void 0,re),ue)}):z(X,re,!0),Ne=X=>y.state.subscribe({next:re=>{l9(X.name,re.name,X.exact)&&i9(re,X.formState||h,Zt,X.reRenderRoot)&&X.callback({values:{...l},...a,...re,defaultValues:s})}}).unsubscribe,se=X=>(c.mount=!0,g={...g,...X.formState},Ne({...X,formState:g})),Se=(X,re={})=>{for(const ue of X?yu(X):d.mount)d.mount.delete(ue),d.array.delete(ue),re.keepValue||($n(r,ue),$n(l,ue)),!re.keepError&&$n(a.errors,ue),!re.keepDirty&&$n(a.dirtyFields,ue),!re.keepTouched&&$n(a.touchedFields,ue),!re.keepIsValidating&&$n(a.validatingFields,ue),!n.shouldUnregister&&!re.keepDefaultValue&&$n(s,ue);y.state.next({values:ea(l)}),y.state.next({...a,...re.keepDirty?{isDirty:I()}:{}}),!re.keepIsValid&&b()},Ae=({disabled:X,name:re})=>{(fs(X)&&c.mount||X||d.disabled.has(re))&&(X?d.disabled.add(re):d.disabled.delete(re))},ne=(X,re={})=>{let ue=He(r,X);const Re=fs(re.disabled)||fs(n.disabled);return pn(r,X,{...ue||{},_f:{...ue&&ue._f?ue._f:{ref:{name:X}},name:X,mount:!0,...re}}),d.mount.add(X),ue?Ae({disabled:fs(re.disabled)?re.disabled:n.disabled,name:X}):E(X,!0,re.value),{...Re?{disabled:re.disabled||n.disabled}:{},...n.progressive?{required:!!re.required,min:tu(re.min),max:tu(re.max),minLength:tu(re.minLength),maxLength:tu(re.maxLength),pattern:tu(re.pattern)}:{},name:X,onChange:R,onBlur:R,ref:ye=>{if(ye){ne(X,re),ue=He(r,X);const we=On(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,Ee=J8(we),Ze=ue._f.refs||[];if(Ee?Ze.find(et=>et===we):we===ue._f.ref)return;pn(r,X,{_f:{...ue._f,...Ee?{refs:[...Ze.filter(Z0),we,...Array.isArray(He(s,X))?[{}]:[]],ref:{type:we.type,name:X}}:{ref:we}}}),E(X,!1,void 0,we)}else ue=He(r,X,{}),ue._f&&(ue._f.mount=!1),(n.shouldUnregister||re.shouldUnregister)&&!(K8(d.array,X)&&c.action)&&d.unMount.add(X)}}},Me=()=>n.shouldFocusError&&vu(r,F,d.mount),De=X=>{fs(X)&&(y.state.next({disabled:X}),vu(r,(re,ue)=>{const Re=He(r,ue);Re&&(re.disabled=Re._f.disabled||X,Array.isArray(Re._f.refs)&&Re._f.refs.forEach(ye=>{ye.disabled=Re._f.disabled||X}))},0,!1))},pe=(X,re)=>async ue=>{let Re;ue&&(ue.preventDefault&&ue.preventDefault(),ue.persist&&ue.persist());let ye=ea(l);if(y.state.next({isSubmitting:!0}),n.resolver){const{errors:we,values:Ee}=await T();a.errors=we,ye=ea(Ee)}else await k(r);if(d.disabled.size)for(const we of d.disabled)$n(ye,we);if($n(a.errors,"root"),Na(a.errors)){y.state.next({errors:{}});try{await X(ye,ue)}catch(we){Re=we}}else re&&await re({...a.errors},ue),Me(),setTimeout(Me);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Na(a.errors)&&!Re,submitCount:a.submitCount+1,errors:a.errors}),Re)throw Re},it=(X,re={})=>{He(r,X)&&(On(re.defaultValue)?W(X,ea(He(s,X))):(W(X,re.defaultValue),pn(s,X,ea(re.defaultValue))),re.keepTouched||$n(a.touchedFields,X),re.keepDirty||($n(a.dirtyFields,X),a.isDirty=re.defaultValue?I(X,ea(He(s,X))):I()),re.keepError||($n(a.errors,X),h.isValid&&b()),y.state.next({...a}))},Le=(X,re={})=>{const ue=X?ea(X):s,Re=ea(ue),ye=Na(X),we=ye?s:Re;if(re.keepDefaultValues||(s=ue),!re.keepValues){if(re.keepDirtyValues){const Ee=new Set([...d.mount,...Object.keys(bc(s,l))]);for(const Ze of Array.from(Ee))He(a.dirtyFields,Ze)?pn(we,Ze,He(l,Ze)):W(Ze,He(we,Ze))}else{if(wj&&On(X))for(const Ee of d.mount){const Ze=He(r,Ee);if(Ze&&Ze._f){const et=Array.isArray(Ze._f.refs)?Ze._f.refs[0]:Ze._f.ref;if(Dh(et)){const sn=et.closest("form");if(sn){sn.reset();break}}}}if(re.keepFieldsRef)for(const Ee of d.mount)W(Ee,He(we,Ee));else r={}}l=n.shouldUnregister?re.keepDefaultValues?ea(s):{}:ea(we),y.array.next({values:{...we}}),y.state.next({values:{...we}})}d={mount:re.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!h.isValid||!!re.keepIsValid||!!re.keepDirtyValues||!n.shouldUnregister&&!Na(we),c.watch=!!n.shouldUnregister,y.state.next({submitCount:re.keepSubmitCount?a.submitCount:0,isDirty:ye?!1:re.keepDirty?a.isDirty:!!(re.keepDefaultValues&&!fl(X,s)),isSubmitted:re.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:ye?{}:re.keepDirtyValues?re.keepDefaultValues&&l?bc(s,l):a.dirtyFields:re.keepDefaultValues&&X?bc(s,X):re.keepDirty?a.dirtyFields:{},touchedFields:re.keepTouched?a.touchedFields:{},errors:re.keepErrors?a.errors:{},isSubmitSuccessful:re.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},ke=(X,re)=>Le(Gr(X)?X(l):X,re),Ie=(X,re={})=>{const ue=He(r,X),Re=ue&&ue._f;if(Re){const ye=Re.refs?Re.refs[0]:Re.ref;ye.focus&&(ye.focus(),re.shouldSelect&&Gr(ye.select)&&ye.select())}},Zt=X=>{a={...a,...X}},jt={control:{register:ne,unregister:Se,getFieldState:ae,handleSubmit:pe,setError:V,_subscribe:Ne,_runSchema:T,_focusError:Me,_getWatch:z,_getDirty:I,_setValid:b,_setFieldArray:M,_setDisabledField:Ae,_setErrors:A,_getFieldArray:J,_reset:Le,_resetDefaultValues:()=>Gr(n.defaultValues)&&n.defaultValues().then(X=>{ke(X,n.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:B,_disableForm:De,_subjects:y,_proxyFormState:h,get _fields(){return r},get _formValues(){return l},get _state(){return c},set _state(X){c=X},get _defaultValues(){return s},get _names(){return d},set _names(X){d=X},get _formState(){return a},get _options(){return n},set _options(X){n={...n,...X}}},subscribe:se,trigger:q,register:ne,handleSubmit:pe,watch:fe,setValue:W,getValues:Y,reset:ke,resetField:it,clearErrors:je,unregister:Se,setError:V,setFocus:Ie,getFieldState:ae};return{...jt,formControl:jt}}function qc(e={}){const n=Oe.useRef(void 0),a=Oe.useRef(void 0),[r,s]=Oe.useState({isDirty:!1,isValidating:!1,isLoading:Gr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Gr(e.defaultValues)?void 0:e.defaultValues});if(!n.current)if(e.formControl)n.current={...e.formControl,formState:r},e.defaultValues&&!Gr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:c,...d}=m9(e);n.current={...d,formState:r}}const l=n.current.control;return l._options=e,Z8(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>s({...l._formState}),reRenderRoot:!0});return s(d=>({...d,isReady:!0})),l._formState.isReady=!0,c},[l]),Oe.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),Oe.useEffect(()=>{e.mode&&(l._options.mode=e.mode),e.reValidateMode&&(l._options.reValidateMode=e.reValidateMode)},[l,e.mode,e.reValidateMode]),Oe.useEffect(()=>{e.errors&&(l._setErrors(e.errors),l._focusError())},[l,e.errors]),Oe.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,e.shouldUnregister]),Oe.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==r.isDirty&&l._subjects.state.next({isDirty:c})}},[l,r.isDirty]),Oe.useEffect(()=>{var c;e.values&&!fl(e.values,a.current)?(l._reset(e.values,{keepFieldsRef:!0,...l._options.resetOptions}),!((c=l._options.resetOptions)===null||c===void 0)&&c.keepIsValid||l._setValid(),a.current=e.values,s(d=>({...d}))):l._resetDefaultValues()},[l,e.values]),Oe.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),n.current.formState=G8(r,l),n.current}function f9(){const e=at(q=>q.user),{employees:n,addEmployee:a,updateEmployee:r,removeEmployee:s,addLifecycleEntry:l,renewContract:c}=ve(),[d,m]=x.useState(!1),[f,h]=x.useState(null),[g,y]=x.useState(null),[v,j]=x.useState(""),[b,w]=x.useState("all"),[M,S]=x.useState("all"),[A,E]=x.useState(U(new Date,"yyyy-MM-dd")),{register:D,handleSubmit:P,reset:T,setValue:O,watch:k,formState:{errors:B,isSubmitting:I}}=qc({mode:"onChange",defaultValues:{code:"",name:"",email:"",phone:"",department:"CS",faculty:"Computing",designation:"Lecturer",joinDate:U(new Date,"yyyy-MM-dd"),salaryBase:1e5,status:"Active",gender:"male",employmentStatus:"confirmed",probationEndDate:"",cnic:"",bankAccount:"",address:"",emergencyContact:""}}),z=x.useMemo(()=>n.filter(q=>{const Y=q.name?.toLowerCase().includes(v.toLowerCase())||q.code?.toLowerCase().includes(v.toLowerCase())||q.email?.toLowerCase().includes(v.toLowerCase()),ae=b==="all"||q.department===b,je=M==="all"||q.status===M;return Y&&ae&&je}),[n,v,b,M]),J=q=>{const Y={...q,salaryBase:parseInt(q.salaryBase),probationEndDate:q.employmentStatus==="probation"&&q.probationEndDate?q.probationEndDate:null};f?r(f.id,Y):(a(Y),P8({name:Y.name,code:Y.code||`EMP${String(n.length+1).padStart(3,"0")}`,email:Y.email,designation:Y.designation,department:Y.department,joinDate:Y.joinDate},e?.email)),G()},L=(q=null)=>{q?(h(q),Object.keys(q).forEach(Y=>{O(Y,q[Y])})):(h(null),T()),m(!0)},G=()=>{m(!1),h(null),T()},W=q=>{confirm("Are you sure you want to delete this employee?")&&s(q)},R=()=>{const q=["Code","Name","Email","Department","Faculty","Designation","Join Date","Status","Salary"],Y=n.map(Ne=>[Ne.code,Ne.name,Ne.email,Ne.department,Ne.faculty,Ne.designation,Ne.joinDate,Ne.status,Ne.salaryBase]),ae=[q,...Y].map(Ne=>Ne.join(",")).join(`
`),je=new Blob([ae],{type:"text/csv"}),V=URL.createObjectURL(je),fe=document.createElement("a");fe.href=V,fe.download="employees.csv",fe.click()},F=q=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(q||0);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Employees"}),t.jsx("p",{className:"text-gray-600",children:"Manage employee records and information"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(Z,{variant:"outline",onClick:R,className:"gap-2",children:[t.jsx(Gt,{className:"w-4 h-4"}),"Export CSV"]}),t.jsxs(Z,{onClick:()=>L(),className:"gap-2",children:[t.jsx(yi,{className:"w-4 h-4"}),"Add Employee"]})]})]}),t.jsx(H,{children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsx(Rn,{type:"text",placeholder:"Search by name, code, or email...",value:v,onChange:q=>j(q.target.value),className:"w-full",inputClassName:"pr-4 py-2"})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xo,{className:"w-5 h-5 text-gray-400"}),t.jsxs("select",{value:b,onChange:q=>w(q.target.value),className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:"All Departments"}),U5.map(q=>t.jsx("option",{value:q,children:q},q))]})]}),t.jsxs("select",{value:M,onChange:q=>S(q.target.value),className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"On Leave",children:"On Leave"}),t.jsx("option",{value:"Resigned",children:"Resigned"})]})]})}),t.jsxs(H,{children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Employee"}),t.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Department"}),t.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Designation"}),t.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Join Date"}),t.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Status"}),t.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Actions"})]})}),t.jsx("tbody",{children:z.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"text-center py-8 text-gray-500",children:"No employees found"})}):z.map(q=>t.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ec,{name:q.name,size:"sm"}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"font-medium text-gray-900",children:q.name}),t.jsx(le,{variant:q.gender==="female"?"info":"secondary",className:"text-xs",children:q.gender==="female"?" Female":" Male"}),q.employmentStatus==="probation"&&t.jsx(le,{variant:"warning",className:"text-xs",children:"Probation"})]}),t.jsxs("p",{className:"text-xs text-gray-500",children:[q.code,"  ",q.email]}),q.employmentStatus==="probation"&&q.probationEndDate&&t.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["Probation ends:"," ",U(me(q.probationEndDate),"MMM d, yyyy")]})]})]})}),t.jsxs("td",{className:"py-3 px-4",children:[t.jsx("p",{className:"text-gray-900",children:q.department}),t.jsx("p",{className:"text-xs text-gray-500",children:q.faculty})]}),t.jsx("td",{className:"py-3 px-4 text-gray-900",children:q.designation}),t.jsx("td",{className:"py-3 px-4 text-gray-600",children:q.joinDate?U(me(q.joinDate),"MMM d, yyyy"):"N/A"}),t.jsx("td",{className:"py-3 px-4",children:t.jsx(le,{variant:q.status==="Active"?"success":q.status==="On Leave"?"warning":"error",children:q.status})}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex justify-end gap-1",children:[t.jsx(Z,{size:"sm",variant:"ghost",onClick:()=>y(q),children:t.jsx(bj,{className:"w-4 h-4"})}),t.jsx(Z,{size:"sm",variant:"ghost",onClick:()=>L(q),children:t.jsx(Pp,{className:"w-4 h-4"})}),t.jsx(Z,{size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-700",onClick:()=>W(q.id),children:t.jsx(kp,{className:"w-4 h-4"})})]})})]},q.id))})]})}),t.jsx("div",{className:"flex items-center justify-between pt-4 border-t mt-4",children:t.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",z.length," of ",n.length," employees"]})})]}),t.jsx(ft,{isOpen:d,onClose:G,title:f?"Edit Employee":"Add New Employee",size:"lg",children:t.jsxs("form",{onSubmit:P(J),className:"space-y-4",children:[t.jsxs(ha,{defaultValue:"basic",children:[t.jsxs(pa,{children:[t.jsx(Ve,{value:"basic",children:"Basic Info"}),t.jsx(Ve,{value:"employment",children:"Employment"}),t.jsx(Ve,{value:"additional",children:"Additional"})]}),t.jsxs(bt,{value:"basic",className:"space-y-4 pt-4",children:[t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Employee Code ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{...D("code",{required:"Employee code is required"}),placeholder:"EMP001",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),B.code&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:B.code.message})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{...D("name",{required:"Name is required"}),placeholder:"John Doe",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),B.name&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:B.name.message})]})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"email",...D("email",{required:"Email is required"}),placeholder:"john@cecos.edu.pk",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),B.email&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:B.email.message})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),t.jsx("input",{...D("phone"),placeholder:"+92-XXX-XXXXXXX",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]}),t.jsxs(bt,{value:"employment",className:"space-y-4 pt-4",children:[t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Faculty"}),t.jsx("select",{...D("faculty"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:Object.keys(bs).map(q=>t.jsx("option",{value:q,children:q},q))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),t.jsx("select",{...D("department"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:U5.map(q=>t.jsx("option",{value:q,children:q},q))})]})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designation"}),t.jsx("select",{...D("designation"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:w8.map(q=>t.jsx("option",{value:q,children:q},q))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),t.jsxs("select",{...D("status"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"On Leave",children:"On Leave"}),t.jsx("option",{value:"Resigned",children:"Resigned"})]})]})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),t.jsxs("select",{...D("gender"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[t.jsx("option",{value:"male",children:"Male"}),t.jsx("option",{value:"female",children:"Female"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employment Status"}),t.jsxs("select",{...D("employmentStatus"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[t.jsx("option",{value:"confirmed",children:"Confirmed"}),t.jsx("option",{value:"probation",children:"Probation"})]})]})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Join Date"}),t.jsx("input",{type:"date",...D("joinDate"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Salary (PKR)"}),t.jsx("input",{type:"number",...D("salaryBase"),placeholder:"100000",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Probation End Date",t.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"(Auto-calculated if on probation, otherwise leave empty)"})]}),t.jsx("input",{type:"date",...D("probationEndDate"),disabled:k("employmentStatus")!=="probation",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-100 disabled:text-gray-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only applicable for probation status"})]})]}),t.jsxs(bt,{value:"additional",className:"space-y-4 pt-4",children:[t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CNIC ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{...D("cnic",{required:"CNIC is required"}),placeholder:"XXXXX-XXXXXXX-X",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),B.cnic&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:B.cnic.message})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Bank Account ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{...D("bankAccount",{required:"Bank account is required"}),placeholder:"Bank-AccountNumber",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),B.bankAccount&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:B.bankAccount.message})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{...D("address",{required:"Address is required"}),rows:2,placeholder:"Enter address",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),B.address&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:B.address.message})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Emergency Contact ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{...D("emergencyContact",{required:"Emergency contact is required"}),placeholder:"+92-XXX-XXXXXXX",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),B.emergencyContact&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:B.emergencyContact.message})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[t.jsx(Z,{type:"button",variant:"outline",onClick:G,disabled:I,children:"Cancel"}),t.jsx(Z,{type:"submit",disabled:I,children:I?"Saving...":f?"Update Employee":"Add Employee"})]})]})}),t.jsx(ft,{isOpen:!!g,onClose:()=>y(null),title:"Employee Details",size:"lg",children:g&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Ec,{name:g.name,size:"xl"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:g.name}),t.jsx("p",{className:"text-gray-500",children:g.designation}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(le,{variant:"primary",children:g.department}),t.jsx(le,{variant:g.status==="Active"?"success":"warning",children:g.status}),t.jsx(le,{variant:g.gender==="female"?"info":"secondary",children:g.gender==="female"?" Female":" Male"}),g.employmentStatus==="probation"&&t.jsx(le,{variant:"warning",children:"Probation"})]})]})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[t.jsx(_4,{className:"w-5 h-5"}),t.jsx("span",{children:g.faculty})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[t.jsx(vj,{className:"w-5 h-5"}),t.jsx("span",{children:g.email})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[t.jsx(W7,{className:"w-5 h-5"}),t.jsx("span",{children:g.phone||"Not provided"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Employee Code"}),t.jsx("p",{className:"font-medium",children:g.code})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Join Date"}),t.jsx("p",{className:"font-medium",children:g.joinDate?U(me(g.joinDate),"MMMM d, yyyy"):"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Base Salary"}),t.jsx("p",{className:"font-medium",children:F(g.salaryBase)})]}),g.employmentStatus==="probation"&&g.probationEndDate&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Probation End Date"}),t.jsx("p",{className:"font-medium text-orange-600",children:U(me(g.probationEndDate),"MMMM d, yyyy")})]})]})]}),g.leaveBalance&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Leave Balance"}),t.jsx("div",{className:"grid grid-cols-3 gap-3",children:Object.entries(g.leaveBalance).map(([q,Y])=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Y}),t.jsx("p",{className:"text-xs text-gray-500 capitalize",children:q})]},q))})]}),g.salaryHistory&&g.salaryHistory.length>0&&t.jsxs("div",{className:"space-y-3",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Salary History"}),t.jsx("div",{className:"max-h-60 overflow-y-auto divide-y border rounded-lg",children:g.salaryHistory.slice().reverse().map(q=>t.jsxs("div",{className:"flex items-center justify-between px-3 py-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:F(q.amount)}),t.jsxs("p",{className:"text-xs text-gray-500",children:[q.type,"  ",q.reason]})]}),t.jsx("p",{className:"text-xs text-gray-500",children:q.effectiveDate?U(me(q.effectiveDate),"MMM d, yyyy"):"N/A"})]},q.id))})]}),g.lifecycle&&g.lifecycle.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Lifecycle"}),t.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:g.lifecycle.slice().reverse().map(q=>t.jsxs("div",{className:"p-3 rounded-lg bg-gray-50 border",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:q.title}),t.jsx("span",{className:"text-xs text-gray-500",children:q.effectiveDate?U(me(q.effectiveDate),"MMM d, yyyy"):q.createdAt})]}),q.meta&&t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:Object.entries(q.meta).map(([Y,ae])=>`${Y}: ${ae}`).join("  ")})]},q.id))})]}),t.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[g.employmentStatus==="probation"&&t.jsx(Z,{size:"sm",variant:"outline",onClick:()=>{l(g.id,{type:"confirmation",title:"Confirmation",meta:{from:"probation",to:"confirmed"}}),r(g.id,{employmentStatus:"confirmed"})},children:"Mark Confirmed"}),t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[t.jsx("span",{children:"Contract renewal"}),t.jsx("input",{type:"date",value:A,onChange:q=>E(q.target.value),className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500 text-sm"})]}),t.jsx(Z,{size:"sm",variant:"outline",onClick:()=>c(g.id,{newEndDate:A,effectiveDate:A,status:"active"}),children:"Renew"})]})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[t.jsx(Z,{variant:"outline",onClick:()=>y(null),children:"Close"}),t.jsx(Z,{onClick:()=>{y(null),L(g)},children:"Edit Employee"})]})]})})]})}var vh={exports:{}};var h9=vh.exports,xA;function p9(){return xA||(xA=1,(function(e,n){((a,r)=>{e.exports=r()})(h9,function a(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s,l=!r.document&&!!r.postMessage,c=r.IS_PAPA_WORKER||!1,d={},m=0,f={};function h(O){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(k){var B=D(k);B.chunkSize=parseInt(B.chunkSize),k.step||k.chunk||(B.chunkSize=null),this._handle=new b(B),(this._handle.streamer=this)._config=B}).call(this,O),this.parseChunk=function(k,B){var I=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<I){let J=this._config.newline;J||(z=this._config.quoteChar||'"',J=this._handle.guessLineEndings(k,z)),k=[...k.split(J).slice(I)].join(J)}this.isFirstChunk&&T(this._config.beforeFirstChunk)&&(z=this._config.beforeFirstChunk(k))!==void 0&&(k=z),this.isFirstChunk=!1,this._halted=!1;var I=this._partialLine+k,z=(this._partialLine="",this._handle.parse(I,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(k=z.meta.cursor,I=(this._finished||(this._partialLine=I.substring(k-this._baseIndex),this._baseIndex=k),z&&z.data&&(this._rowCount+=z.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),c)r.postMessage({results:z,workerId:f.WORKER_ID,finished:I});else if(T(this._config.chunk)&&!B){if(this._config.chunk(z,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=z=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(z.data),this._completeResults.errors=this._completeResults.errors.concat(z.errors),this._completeResults.meta=z.meta),this._completed||!I||!T(this._config.complete)||z&&z.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),I||z&&z.meta.paused||this._nextChunk(),z}this._halted=!0},this._sendError=function(k){T(this._config.error)?this._config.error(k):c&&this._config.error&&r.postMessage({workerId:f.WORKER_ID,error:k,finished:!1})}}function g(O){var k;(O=O||{}).chunkSize||(O.chunkSize=f.RemoteChunkSize),h.call(this,O),this._nextChunk=l?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(B){this._input=B,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(k=new XMLHttpRequest,this._config.withCredentials&&(k.withCredentials=this._config.withCredentials),l||(k.onload=P(this._chunkLoaded,this),k.onerror=P(this._chunkError,this)),k.open(this._config.downloadRequestBody?"POST":"GET",this._input,!l),this._config.downloadRequestHeaders){var B,I=this._config.downloadRequestHeaders;for(B in I)k.setRequestHeader(B,I[B])}var z;this._config.chunkSize&&(z=this._start+this._config.chunkSize-1,k.setRequestHeader("Range","bytes="+this._start+"-"+z));try{k.send(this._config.downloadRequestBody)}catch(J){this._chunkError(J.message)}l&&k.status===0&&this._chunkError()}},this._chunkLoaded=function(){k.readyState===4&&(k.status<200||400<=k.status?this._chunkError():(this._start+=this._config.chunkSize||k.responseText.length,this._finished=!this._config.chunkSize||this._start>=(B=>(B=B.getResponseHeader("Content-Range"))!==null?parseInt(B.substring(B.lastIndexOf("/")+1)):-1)(k),this.parseChunk(k.responseText)))},this._chunkError=function(B){B=k.statusText||B,this._sendError(new Error(B))}}function y(O){(O=O||{}).chunkSize||(O.chunkSize=f.LocalChunkSize),h.call(this,O);var k,B,I=typeof FileReader<"u";this.stream=function(z){this._input=z,B=z.slice||z.webkitSlice||z.mozSlice,I?((k=new FileReader).onload=P(this._chunkLoaded,this),k.onerror=P(this._chunkError,this)):k=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var z=this._input,J=(this._config.chunkSize&&(J=Math.min(this._start+this._config.chunkSize,this._input.size),z=B.call(z,this._start,J)),k.readAsText(z,this._config.encoding));I||this._chunkLoaded({target:{result:J}})},this._chunkLoaded=function(z){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(z.target.result)},this._chunkError=function(){this._sendError(k.error)}}function v(O){var k;h.call(this,O=O||{}),this.stream=function(B){return k=B,this._nextChunk()},this._nextChunk=function(){var B,I;if(!this._finished)return B=this._config.chunkSize,k=B?(I=k.substring(0,B),k.substring(B)):(I=k,""),this._finished=!k,this.parseChunk(I)}}function j(O){h.call(this,O=O||{});var k=[],B=!0,I=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(z){this._input=z,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){I&&k.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),k.length?this.parseChunk(k.shift()):B=!0},this._streamData=P(function(z){try{k.push(typeof z=="string"?z:z.toString(this._config.encoding)),B&&(B=!1,this._checkIsFinished(),this.parseChunk(k.shift()))}catch(J){this._streamError(J)}},this),this._streamError=P(function(z){this._streamCleanUp(),this._sendError(z)},this),this._streamEnd=P(function(){this._streamCleanUp(),I=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(O){var k,B,I,z,J=Math.pow(2,53),L=-J,G=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,W=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,R=this,F=0,q=0,Y=!1,ae=!1,je=[],V={data:[],errors:[],meta:{}};function fe(Ae){return O.skipEmptyLines==="greedy"?Ae.join("").trim()==="":Ae.length===1&&Ae[0].length===0}function Ne(){if(V&&I&&(Se("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),I=!1),O.skipEmptyLines&&(V.data=V.data.filter(function(De){return!fe(De)})),se()){let De=function(pe,it){T(O.transformHeader)&&(pe=O.transformHeader(pe,it)),je.push(pe)};if(V)if(Array.isArray(V.data[0])){for(var Ae=0;se()&&Ae<V.data.length;Ae++)V.data[Ae].forEach(De);V.data.splice(0,1)}else V.data.forEach(De)}function ne(De,pe){for(var it=O.header?{}:[],Le=0;Le<De.length;Le++){var ke=Le,Ie=De[Le],Ie=((Zt,Ye)=>(jt=>(O.dynamicTypingFunction&&O.dynamicTyping[jt]===void 0&&(O.dynamicTyping[jt]=O.dynamicTypingFunction(jt)),(O.dynamicTyping[jt]||O.dynamicTyping)===!0))(Zt)?Ye==="true"||Ye==="TRUE"||Ye!=="false"&&Ye!=="FALSE"&&((jt=>{if(G.test(jt)&&(jt=parseFloat(jt),L<jt&&jt<J))return 1})(Ye)?parseFloat(Ye):W.test(Ye)?new Date(Ye):Ye===""?null:Ye):Ye)(ke=O.header?Le>=je.length?"__parsed_extra":je[Le]:ke,Ie=O.transform?O.transform(Ie,ke):Ie);ke==="__parsed_extra"?(it[ke]=it[ke]||[],it[ke].push(Ie)):it[ke]=Ie}return O.header&&(Le>je.length?Se("FieldMismatch","TooManyFields","Too many fields: expected "+je.length+" fields but parsed "+Le,q+pe):Le<je.length&&Se("FieldMismatch","TooFewFields","Too few fields: expected "+je.length+" fields but parsed "+Le,q+pe)),it}var Me;V&&(O.header||O.dynamicTyping||O.transform)&&(Me=1,!V.data.length||Array.isArray(V.data[0])?(V.data=V.data.map(ne),Me=V.data.length):V.data=ne(V.data,0),O.header&&V.meta&&(V.meta.fields=je),q+=Me)}function se(){return O.header&&je.length===0}function Se(Ae,ne,Me,De){Ae={type:Ae,code:ne,message:Me},De!==void 0&&(Ae.row=De),V.errors.push(Ae)}T(O.step)&&(z=O.step,O.step=function(Ae){V=Ae,se()?Ne():(Ne(),V.data.length!==0&&(F+=Ae.data.length,O.preview&&F>O.preview?B.abort():(V.data=V.data[0],z(V,R))))}),this.parse=function(Ae,ne,Me){var De=O.quoteChar||'"',De=(O.newline||(O.newline=this.guessLineEndings(Ae,De)),I=!1,O.delimiter?T(O.delimiter)&&(O.delimiter=O.delimiter(Ae),V.meta.delimiter=O.delimiter):((De=((pe,it,Le,ke,Ie)=>{var Zt,Ye,jt,X;Ie=Ie||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var re=0;re<Ie.length;re++){for(var ue,Re=Ie[re],ye=0,we=0,Ee=0,Ze=(jt=void 0,new M({comments:ke,delimiter:Re,newline:it,preview:10}).parse(pe)),et=0;et<Ze.data.length;et++)Le&&fe(Ze.data[et])?Ee++:(ue=Ze.data[et].length,we+=ue,jt===void 0?jt=ue:0<ue&&(ye+=Math.abs(ue-jt),jt=ue));0<Ze.data.length&&(we/=Ze.data.length-Ee),(Ye===void 0||ye<=Ye)&&(X===void 0||X<we)&&1.99<we&&(Ye=ye,Zt=Re,X=we)}return{successful:!!(O.delimiter=Zt),bestDelimiter:Zt}})(Ae,O.newline,O.skipEmptyLines,O.comments,O.delimitersToGuess)).successful?O.delimiter=De.bestDelimiter:(I=!0,O.delimiter=f.DefaultDelimiter),V.meta.delimiter=O.delimiter),D(O));return O.preview&&O.header&&De.preview++,k=Ae,B=new M(De),V=B.parse(k,ne,Me),Ne(),Y?{meta:{paused:!0}}:V||{meta:{paused:!1}}},this.paused=function(){return Y},this.pause=function(){Y=!0,B.abort(),k=T(O.chunk)?"":k.substring(B.getCharIndex())},this.resume=function(){R.streamer._halted?(Y=!1,R.streamer.parseChunk(k,!0)):setTimeout(R.resume,3)},this.aborted=function(){return ae},this.abort=function(){ae=!0,B.abort(),V.meta.aborted=!0,T(O.complete)&&O.complete(V),k=""},this.guessLineEndings=function(pe,De){pe=pe.substring(0,1048576);var De=new RegExp(w(De)+"([^]*?)"+w(De),"gm"),Me=(pe=pe.replace(De,"")).split("\r"),De=pe.split(`
`),pe=1<De.length&&De[0].length<Me[0].length;if(Me.length===1||pe)return`
`;for(var it=0,Le=0;Le<Me.length;Le++)Me[Le][0]===`
`&&it++;return it>=Me.length/2?`\r
`:"\r"}}function w(O){return O.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function M(O){var k=(O=O||{}).delimiter,B=O.newline,I=O.comments,z=O.step,J=O.preview,L=O.fastMode,G=null,W=!1,R=O.quoteChar==null?'"':O.quoteChar,F=R;if(O.escapeChar!==void 0&&(F=O.escapeChar),(typeof k!="string"||-1<f.BAD_DELIMITERS.indexOf(k))&&(k=","),I===k)throw new Error("Comment character same as delimiter");I===!0?I="#":(typeof I!="string"||-1<f.BAD_DELIMITERS.indexOf(I))&&(I=!1),B!==`
`&&B!=="\r"&&B!==`\r
`&&(B=`
`);var q=0,Y=!1;this.parse=function(ae,je,V){if(typeof ae!="string")throw new Error("Input must be a string");var fe=ae.length,Ne=k.length,se=B.length,Se=I.length,Ae=T(z),ne=[],Me=[],De=[],pe=q=0;if(!ae)return ye();if(L||L!==!1&&ae.indexOf(R)===-1){for(var it=ae.split(B),Le=0;Le<it.length;Le++){if(De=it[Le],q+=De.length,Le!==it.length-1)q+=B.length;else if(V)return ye();if(!I||De.substring(0,Se)!==I){if(Ae){if(ne=[],X(De.split(k)),we(),Y)return ye()}else X(De.split(k));if(J&&J<=Le)return ne=ne.slice(0,J),ye(!0)}}return ye()}for(var ke=ae.indexOf(k,q),Ie=ae.indexOf(B,q),Zt=new RegExp(w(F)+w(R),"g"),Ye=ae.indexOf(R,q);;)if(ae[q]===R)for(Ye=q,q++;;){if((Ye=ae.indexOf(R,Ye+1))===-1)return V||Me.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ne.length,index:q}),ue();if(Ye===fe-1)return ue(ae.substring(q,Ye).replace(Zt,R));if(R===F&&ae[Ye+1]===F)Ye++;else if(R===F||Ye===0||ae[Ye-1]!==F){ke!==-1&&ke<Ye+1&&(ke=ae.indexOf(k,Ye+1));var jt=re((Ie=Ie!==-1&&Ie<Ye+1?ae.indexOf(B,Ye+1):Ie)===-1?ke:Math.min(ke,Ie));if(ae.substr(Ye+1+jt,Ne)===k){De.push(ae.substring(q,Ye).replace(Zt,R)),ae[q=Ye+1+jt+Ne]!==R&&(Ye=ae.indexOf(R,q)),ke=ae.indexOf(k,q),Ie=ae.indexOf(B,q);break}if(jt=re(Ie),ae.substring(Ye+1+jt,Ye+1+jt+se)===B){if(De.push(ae.substring(q,Ye).replace(Zt,R)),Re(Ye+1+jt+se),ke=ae.indexOf(k,q),Ye=ae.indexOf(R,q),Ae&&(we(),Y))return ye();if(J&&ne.length>=J)return ye(!0);break}Me.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ne.length,index:q}),Ye++}}else if(I&&De.length===0&&ae.substring(q,q+Se)===I){if(Ie===-1)return ye();q=Ie+se,Ie=ae.indexOf(B,q),ke=ae.indexOf(k,q)}else if(ke!==-1&&(ke<Ie||Ie===-1))De.push(ae.substring(q,ke)),q=ke+Ne,ke=ae.indexOf(k,q);else{if(Ie===-1)break;if(De.push(ae.substring(q,Ie)),Re(Ie+se),Ae&&(we(),Y))return ye();if(J&&ne.length>=J)return ye(!0)}return ue();function X(Ee){ne.push(Ee),pe=q}function re(Ee){var Ze=0;return Ze=Ee!==-1&&(Ee=ae.substring(Ye+1,Ee))&&Ee.trim()===""?Ee.length:Ze}function ue(Ee){return V||(Ee===void 0&&(Ee=ae.substring(q)),De.push(Ee),q=fe,X(De),Ae&&we()),ye()}function Re(Ee){q=Ee,X(De),De=[],Ie=ae.indexOf(B,q)}function ye(Ee){if(O.header&&!je&&ne.length&&!W){var Ze=ne[0],et=Object.create(null),sn=new Set(Ze);let la=!1;for(let ln=0;ln<Ze.length;ln++){let mn=Ze[ln];if(et[mn=T(O.transformHeader)?O.transformHeader(mn,ln):mn]){let Vt,fn=et[mn];for(;Vt=mn+"_"+fn,fn++,sn.has(Vt););sn.add(Vt),Ze[ln]=Vt,et[mn]++,la=!0,(G=G===null?{}:G)[Vt]=mn}else et[mn]=1,Ze[ln]=mn;sn.add(mn)}la&&console.warn("Duplicate headers found and renamed."),W=!0}return{data:ne,errors:Me,meta:{delimiter:k,linebreak:B,aborted:Y,truncated:!!Ee,cursor:pe+(je||0),renamedHeaders:G}}}function we(){z(ye()),ne=[],Me=[]}},this.abort=function(){Y=!0},this.getCharIndex=function(){return q}}function S(O){var k=O.data,B=d[k.workerId],I=!1;if(k.error)B.userError(k.error,k.file);else if(k.results&&k.results.data){var z={abort:function(){I=!0,A(k.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:E,resume:E};if(T(B.userStep)){for(var J=0;J<k.results.data.length&&(B.userStep({data:k.results.data[J],errors:k.results.errors,meta:k.results.meta},z),!I);J++);delete k.results}else T(B.userChunk)&&(B.userChunk(k.results,z,k.file),delete k.results)}k.finished&&!I&&A(k.workerId,k.results)}function A(O,k){var B=d[O];T(B.userComplete)&&B.userComplete(k),B.terminate(),delete d[O]}function E(){throw new Error("Not implemented.")}function D(O){if(typeof O!="object"||O===null)return O;var k,B=Array.isArray(O)?[]:{};for(k in O)B[k]=D(O[k]);return B}function P(O,k){return function(){O.apply(k,arguments)}}function T(O){return typeof O=="function"}return f.parse=function(O,k){var B=(k=k||{}).dynamicTyping||!1;if(T(B)&&(k.dynamicTypingFunction=B,B={}),k.dynamicTyping=B,k.transform=!!T(k.transform)&&k.transform,!k.worker||!f.WORKERS_SUPPORTED)return B=null,f.NODE_STREAM_INPUT,typeof O=="string"?(O=(I=>I.charCodeAt(0)!==65279?I:I.slice(1))(O),B=new(k.download?g:v)(k)):O.readable===!0&&T(O.read)&&T(O.on)?B=new j(k):(r.File&&O instanceof File||O instanceof Object)&&(B=new y(k)),B.stream(O);(B=(()=>{var I;return!!f.WORKERS_SUPPORTED&&(I=(()=>{var z=r.URL||r.webkitURL||null,J=a.toString();return f.BLOB_URL||(f.BLOB_URL=z.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",J,")();"],{type:"text/javascript"})))})(),(I=new r.Worker(I)).onmessage=S,I.id=m++,d[I.id]=I)})()).userStep=k.step,B.userChunk=k.chunk,B.userComplete=k.complete,B.userError=k.error,k.step=T(k.step),k.chunk=T(k.chunk),k.complete=T(k.complete),k.error=T(k.error),delete k.worker,B.postMessage({input:O,config:k,workerId:B.id})},f.unparse=function(O,k){var B=!1,I=!0,z=",",J=`\r
`,L='"',G=L+L,W=!1,R=null,F=!1,q=((()=>{if(typeof k=="object"){if(typeof k.delimiter!="string"||f.BAD_DELIMITERS.filter(function(je){return k.delimiter.indexOf(je)!==-1}).length||(z=k.delimiter),typeof k.quotes!="boolean"&&typeof k.quotes!="function"&&!Array.isArray(k.quotes)||(B=k.quotes),typeof k.skipEmptyLines!="boolean"&&typeof k.skipEmptyLines!="string"||(W=k.skipEmptyLines),typeof k.newline=="string"&&(J=k.newline),typeof k.quoteChar=="string"&&(L=k.quoteChar),typeof k.header=="boolean"&&(I=k.header),Array.isArray(k.columns)){if(k.columns.length===0)throw new Error("Option columns is empty");R=k.columns}k.escapeChar!==void 0&&(G=k.escapeChar+L),k.escapeFormulae instanceof RegExp?F=k.escapeFormulae:typeof k.escapeFormulae=="boolean"&&k.escapeFormulae&&(F=/^[=+\-@\t\r].*$/)}})(),new RegExp(w(L),"g"));if(typeof O=="string"&&(O=JSON.parse(O)),Array.isArray(O)){if(!O.length||Array.isArray(O[0]))return Y(null,O,W);if(typeof O[0]=="object")return Y(R||Object.keys(O[0]),O,W)}else if(typeof O=="object")return typeof O.data=="string"&&(O.data=JSON.parse(O.data)),Array.isArray(O.data)&&(O.fields||(O.fields=O.meta&&O.meta.fields||R),O.fields||(O.fields=Array.isArray(O.data[0])?O.fields:typeof O.data[0]=="object"?Object.keys(O.data[0]):[]),Array.isArray(O.data[0])||typeof O.data[0]=="object"||(O.data=[O.data])),Y(O.fields||[],O.data||[],W);throw new Error("Unable to serialize unrecognized input");function Y(je,V,fe){var Ne="",se=(typeof je=="string"&&(je=JSON.parse(je)),typeof V=="string"&&(V=JSON.parse(V)),Array.isArray(je)&&0<je.length),Se=!Array.isArray(V[0]);if(se&&I){for(var Ae=0;Ae<je.length;Ae++)0<Ae&&(Ne+=z),Ne+=ae(je[Ae],Ae);0<V.length&&(Ne+=J)}for(var ne=0;ne<V.length;ne++){var Me=(se?je:V[ne]).length,De=!1,pe=se?Object.keys(V[ne]).length===0:V[ne].length===0;if(fe&&!se&&(De=fe==="greedy"?V[ne].join("").trim()==="":V[ne].length===1&&V[ne][0].length===0),fe==="greedy"&&se){for(var it=[],Le=0;Le<Me;Le++){var ke=Se?je[Le]:Le;it.push(V[ne][ke])}De=it.join("").trim()===""}if(!De){for(var Ie=0;Ie<Me;Ie++){0<Ie&&!pe&&(Ne+=z);var Zt=se&&Se?je[Ie]:Ie;Ne+=ae(V[ne][Zt],Ie)}ne<V.length-1&&(!fe||0<Me&&!pe)&&(Ne+=J)}}return Ne}function ae(je,V){var fe,Ne;return je==null?"":je.constructor===Date?JSON.stringify(je).slice(1,25):(Ne=!1,F&&typeof je=="string"&&F.test(je)&&(je="'"+je,Ne=!0),fe=je.toString().replace(q,G),(Ne=Ne||B===!0||typeof B=="function"&&B(je,V)||Array.isArray(B)&&B[V]||((se,Se)=>{for(var Ae=0;Ae<Se.length;Ae++)if(-1<se.indexOf(Se[Ae]))return!0;return!1})(fe,f.BAD_DELIMITERS)||-1<fe.indexOf(z)||fe.charAt(0)===" "||fe.charAt(fe.length-1)===" ")?L+fe+L:fe)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!l&&!!r.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=M,f.ParserHandle=b,f.NetworkStreamer=g,f.FileStreamer=y,f.StringStreamer=v,f.ReadableStreamStreamer=j,r.jQuery&&((s=r.jQuery).fn.parse=function(O){var k=O.config||{},B=[];return this.each(function(J){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var L=0;L<this.files.length;L++)B.push({file:this.files[L],inputElem:this,instanceConfig:s.extend({},k)})}),I(),this;function I(){if(B.length===0)T(O.complete)&&O.complete();else{var J,L,G,W,R=B[0];if(T(O.before)){var F=O.before(R.file,R.inputElem);if(typeof F=="object"){if(F.action==="abort")return J="AbortError",L=R.file,G=R.inputElem,W=F.reason,void(T(O.error)&&O.error({name:J},L,G,W));if(F.action==="skip")return void z();typeof F.config=="object"&&(R.instanceConfig=s.extend(R.instanceConfig,F.config))}else if(F==="skip")return void z()}var q=R.instanceConfig.complete;R.instanceConfig.complete=function(Y){T(q)&&q(Y,R.file,R.inputElem),z()},f.parse(R.file,R.instanceConfig)}}function z(){B.splice(0,1),I()}}),c&&(r.onmessage=function(O){O=O.data,f.WORKER_ID===void 0&&O&&(f.WORKER_ID=O.workerId),typeof O.input=="string"?r.postMessage({workerId:f.WORKER_ID,results:f.parse(O.input,O.config),finished:!0}):(r.File&&O.input instanceof File||O.input instanceof Object)&&(O=f.parse(O.input,O.config))&&r.postMessage({workerId:f.WORKER_ID,results:O,finished:!0})}),(g.prototype=Object.create(h.prototype)).constructor=g,(y.prototype=Object.create(h.prototype)).constructor=y,(v.prototype=Object.create(v.prototype)).constructor=v,(j.prototype=Object.create(h.prototype)).constructor=j,f})})(vh)),vh.exports}var x9=p9();const Ps=$r(x9);function g9(){const{employees:e,attendance:n}=ve(),a=n.map(l=>{const c=e.find(d=>d.id===l.employeeId);return{...l,employeeName:c?.name,employeeCode:c?.code}}),r=()=>{const l=Ps.unparse(a),c=new Blob([l],{type:"text/csv"}),d=URL.createObjectURL(c),m=document.createElement("a");m.href=d,m.download="attendance.csv",m.click()},s=l=>l==="Present"?"success":l==="Late"?"warning":l==="Absent"?"error":"default";return t.jsx(H,{title:"Attendance Records",subtitle:"View employee attendance",actions:t.jsxs(Z,{variant:"outline",onClick:r,children:[t.jsx(Gt,{className:"w-4 h-4"})," Export CSV"]}),children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Code"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Employee"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Clock In"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Clock Out"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:a.map(l=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:l.employeeCode}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:l.employeeName}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:l.date}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:l.clockIn}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:l.clockOut}),t.jsx("td",{className:"px-4 py-3 text-sm",children:t.jsx(le,{variant:s(l.status),children:l.status})})]},l.id))})]})})})}function st({label:e,id:n,error:a,children:r,required:s,hint:l,className:c=""}){return t.jsxs("div",{className:`space-y-1.5 ${c}`,children:[e&&t.jsxs("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700",children:[e," ",s&&t.jsx("span",{className:"text-red-500",children:"*"})]}),r,l&&!a&&t.jsx("p",{className:"text-xs text-gray-500",children:l}),a&&t.jsx("p",{className:"text-xs text-red-600",children:a})]})}function y9(){const e=at(V=>V.user),{employees:n,leaves:a,updateLeaveStatus:r}=ve(),[s,l]=x.useState(null),[c,d]=x.useState(""),[m,f]=x.useState("all"),[h,g]=x.useState("all"),[y,v]=x.useState(""),[j,b]=x.useState(0),[w,M]=x.useState(0),[S,A]=x.useState(""),[E,D]=x.useState(null),[P,T]=x.useState(null),O=x.useMemo(()=>({total:a.length,pending:a.filter(V=>V.status==="Pending").length,approved:a.filter(V=>V.status==="Approved").length,rejected:a.filter(V=>V.status==="Rejected").length}),[a]),k=x.useMemo(()=>a.map(V=>{const fe=n.find(Ne=>Ne.id===V.employeeId);return{...V,employee:fe,employeeName:V.employeeName||fe?.name,department:V.department||fe?.department,faculty:V.faculty||fe?.faculty}}),[a,n]),B=x.useMemo(()=>k.filter(V=>{const fe=V.employeeName?.toLowerCase().includes(c.toLowerCase())||V.department?.toLowerCase().includes(c.toLowerCase()),Ne=m==="all"||V.type===m,se=h==="all"||V.status===h;return fe&&Ne&&se}).sort((V,fe)=>me(fe.appliedOn)-me(V.appliedOn)),[k,c,m,h]),I=B.filter(V=>V.status==="Pending"),z=B.filter(V=>V.status==="Approved"),J=B.filter(V=>V.status==="Rejected"),G=(()=>{const V=(e?.primaryRole||e?.role)?.toLowerCase()||"hr";return{hod:"hod",dean:"dean",hr:"hr","manager-hr":"hr",vc:"vc","vice-chancellor":"vc",president:"president"}[V]||"hr"})();x.useEffect(()=>{if(!s){D(null);return}const V=s.paidDays??s.days??0,fe=s.unpaidDays??0;b(V),M(fe),A(""),D(s.leaveCategory||null)},[s]);const W=V=>{if(V.type!=="maternity")return{eligible:!0,reason:""};const fe=n.find(Se=>Se.id===V.employeeId);return fe?fe.gender&&fe.gender.toLowerCase()==="female"?fe.status==="confirmed"||fe.employmentStatus==="confirmed"?{eligible:!0,reason:""}:{eligible:!1,reason:"Probationary employees are not eligible for maternity leave. Only confirmed female employees can apply."}:{eligible:!1,reason:"Maternity leave is only available for female employees"}:{eligible:!1,reason:"Employee not found"}},R=(V,fe,Ne="")=>{if(s?.type==="maternity"&&fe==="Approved"){const se=W(s);if(!se.eligible){alert(`Cannot approve: ${se.reason}`);return}}if(s?.type==="medical"&&G==="president"&&fe==="Approved"){const se=Number(j)||0,Se=Number(w)||0,Ae=se+Se,ne=s?.days||0;if(Ae!==ne){A(`Days don't match: ${se} + ${Se} = ${Ae}, but leave is ${ne} days`);return}if(!E){alert("Please select a classification for this medical leave (Paid Medical or Unpaid Medical)");return}A(""),r(V,fe,G,e?.name||"System",Ne,{paidDays:se,unpaidDays:Se,leaveCategory:E}),l(null),D(null),b(0),M(0);return}if(G==="dean"&&fe==="Approved"){const se=Number(j)||0,Se=Number(w)||0,Ae=se+Se,ne=s?.days||0;if(Ae!==ne){A(`Days don't match: ${se} + ${Se} = ${Ae}, but leave is ${ne} days`);return}A(""),r(V,fe,G,e?.name||"System",Ne,{paidDays:se,unpaidDays:Se}),l(null),b(0),M(0);return}r(V,fe,G,e?.name||"System",Ne),l(null)},F=V=>{const fe=V?.file?URL.createObjectURL(V.file):V?.fileUrl||V?.url;if(!fe)return;const Ne=document.createElement("a");Ne.href=fe,Ne.download=V?.name||"document",document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne),V?.file&&URL.revokeObjectURL(fe)},q=V=>V.status!=="Pending"&&V.status!=="Forwarded"?!1:V.approvalChain?.find(Ne=>Ne.role===G)?.status==="pending",Y=V=>V==="Approved"?"success":V==="Pending"?"warning":V==="Rejected"?"error":"info",ae=V=>si.find(fe=>fe.id===V)?.name||V,je=V=>t.jsxs("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>l(V),children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4",children:[t.jsx(Ec,{name:V.employeeName,size:"md"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:V.employeeName}),t.jsx(le,{variant:Y(V.status),children:V.status})]}),t.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[V.department,"  ",ae(V.type)]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-gray-600",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(nt,{className:"w-4 h-4"}),U(me(V.startDate),"MMM d")," -"," ",U(me(V.endDate),"MMM d, yyyy")]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Ue,{className:"w-4 h-4"}),V.days," day",V.days>1?"s":""]})]}),t.jsx("p",{className:"text-sm text-gray-500 mt-2 line-clamp-1",children:V.reason}),(V.paidDays!==null||V.unpaidDays!==null)&&t.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-xs",children:[V.paidDays!==null&&t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-green-50 text-green-700 border border-green-100",children:["Paid: ",V.paidDays]}),V.unpaidDays!==null&&t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-amber-50 text-amber-700 border border-amber-100",children:["Unpaid: ",V.unpaidDays]})]})]}),t.jsxs("div",{className:"text-right text-sm text-gray-500",children:[t.jsx("p",{children:"Applied"}),t.jsx("p",{className:"font-medium",children:U(me(V.appliedOn),"MMM d")})]})]}),q(V)&&t.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[t.jsxs(Z,{size:"sm",onClick:fe=>{fe.stopPropagation(),G==="dean"?(l(V),b(V.paidDays??V.days??0),M(V.unpaidDays??0),A("")):R(V.id,"Approved")},className:"gap-1",children:[t.jsx(Be,{className:"w-4 h-4"}),"Approve"]}),t.jsxs(Z,{size:"sm",variant:"outline",onClick:fe=>{fe.stopPropagation(),R(V.id,"Rejected")},className:"gap-1 text-red-600 border-red-200 hover:bg-red-50",children:[t.jsx(zt,{className:"w-4 h-4"}),"Reject"]}),t.jsxs(Z,{size:"sm",variant:"outline",onClick:fe=>{fe.stopPropagation(),l(V)},className:"gap-1",children:[t.jsx(Op,{className:"w-4 h-4"}),"Details & Comments"]})]}),!q(V)&&V.status!=="Pending"&&t.jsx("div",{className:"mt-3 pt-3 border-t",children:t.jsxs(le,{variant:"info",size:"sm",children:["Awaiting ",V.approvalChain?.find(fe=>fe.status==="pending")?.role.toUpperCase()," ","approval"]})})]},V.id);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Leave Requests"}),t.jsx("p",{className:"text-gray-600",children:"Review and manage employee leave applications"})]}),t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[t.jsx(Et,{title:"Total Requests",value:O.total,icon:gt,color:"primary"}),t.jsx(Et,{title:"Pending",value:O.pending,subtitle:"Awaiting approval",icon:Ue,color:"warning"}),t.jsx(Et,{title:"Approved",value:O.approved,icon:Be,color:"success"}),t.jsx(Et,{title:"Rejected",value:O.rejected,icon:zt,color:"error"})]}),t.jsx(H,{children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsx(Rn,{type:"text",placeholder:"Search by employee name or department...",value:c,onChange:V=>d(V.target.value),className:"w-full",inputClassName:"pr-4 py-2"})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xo,{className:"w-5 h-5 text-gray-400"}),t.jsxs("select",{value:m,onChange:V=>f(V.target.value),className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:"All Types"}),si.map(V=>t.jsx("option",{value:V.id,children:V.name},V.id))]})]}),t.jsxs("select",{value:h,onChange:V=>g(V.target.value),className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Pending",children:"Pending"}),t.jsx("option",{value:"Approved",children:"Approved"}),t.jsx("option",{value:"Rejected",children:"Rejected"})]})]})}),t.jsxs(ha,{defaultValue:"pending",children:[t.jsxs(pa,{children:[t.jsxs(Ve,{value:"pending",children:["Pending (",I.length,")"]}),t.jsxs(Ve,{value:"approved",children:["Approved (",z.length,")"]}),t.jsxs(Ve,{value:"rejected",children:["Rejected (",J.length,")"]}),t.jsxs(Ve,{value:"all",children:["All (",B.length,")"]})]}),[{key:"pending",data:I},{key:"approved",data:z},{key:"rejected",data:J},{key:"all",data:B}].map(({key:V,data:fe})=>t.jsx(bt,{value:V,children:t.jsx(H,{children:fe.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(gt,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),t.jsxs("p",{className:"text-gray-500",children:["No ",V==="all"?"":V," leave requests"]})]}):t.jsx("div",{className:"space-y-4",children:fe.map(je)})})},V))]}),t.jsx(ft,{isOpen:!!s,onClose:()=>{l(null),v(""),b(0),M(0),A(""),D(null),T(null)},title:"Leave Request Details",size:"lg",children:s&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Ec,{name:s.employeeName,size:"lg"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:s.employeeName}),t.jsxs("p",{className:"text-sm text-gray-500",children:[s.department,"  ",s.faculty]}),t.jsx(le,{variant:Y(s.status),className:"mt-1",children:s.status})]})]}),s.type==="maternity"&&(()=>{const V=W(s);return V.eligible?t.jsx("div",{className:"bg-linear-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl p-5",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center shrink-0",children:t.jsx(Be,{className:"w-6 h-6 text-green-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-bold text-green-900 text-lg mb-2",children:" Maternity Leave Eligible"}),t.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Employee meets all eligibility criteria for maternity leave benefits."}),t.jsx("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Gender"}),t.jsx("p",{className:"font-semibold text-green-700",children:s.employee?.gender||"Female"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Status"}),t.jsx("p",{className:"font-semibold text-green-700",children:s.employee?.status||s.employee?.employmentStatus||"Confirmed"})]})]})})]})]})}):t.jsx("div",{className:"bg-linear-to-r from-red-50 to-rose-50 border-2 border-red-300 rounded-xl p-5",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center shrink-0",children:t.jsx(zt,{className:"w-6 h-6 text-red-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-bold text-red-900 text-lg mb-2",children:" Maternity Leave Ineligible"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("p",{className:"text-red-700",children:[t.jsx("span",{className:"font-semibold",children:"Reason:"})," ",V.reason]}),t.jsx("div",{className:"bg-white p-3 rounded-lg border border-red-200",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Gender"}),t.jsx("p",{className:"font-medium text-gray-900",children:s.employee?.gender||"Not specified"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Status"}),t.jsx("p",{className:"font-medium text-gray-900",children:s.employee?.status||s.employee?.employmentStatus||"Unknown"})]})]})}),t.jsx("div",{className:"bg-red-100 p-3 rounded-lg border border-red-200",children:t.jsx("p",{className:"text-xs text-red-800 font-semibold",children:" Policy Requirement: Maternity leave is available only for confirmed female employees"})})]})]})]})})})(),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Leave Type"}),t.jsx("p",{className:"font-medium",children:ae(s.type)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Duration"}),t.jsxs("p",{className:"font-medium",children:[s.days," day",s.days>1?"s":""]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Employee Status"}),t.jsx("p",{className:"font-medium",children:s.employee?.status||s.employee?.employmentStatus||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Days Allowed"}),t.jsxs("p",{className:"font-medium",children:[s.employee?.leaveBalance?.[s.type]??"N/A"," days"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Remaining After"}),t.jsx("p",{className:"font-medium",children:(s.employee?.leaveBalance?.[s.type]??0)-s.days>=0?(s.employee?.leaveBalance?.[s.type]??0)-s.days+" days":t.jsx("span",{className:"text-red-600",children:"Insufficient balance"})})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"From"}),t.jsx("p",{className:"font-medium",children:U(me(s.startDate),"MMMM d, yyyy")})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"To"}),t.jsx("p",{className:"font-medium",children:U(me(s.endDate),"MMMM d, yyyy")})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase mb-1",children:"Reason"}),t.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:s.reason})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase mb-1",children:"Applied On"}),t.jsx("p",{className:"font-medium",children:U(me(s.appliedOn),"MMMM d, yyyy")})]}),(s.paidDays!==null||s.unpaidDays!==null)&&t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 bg-gray-50 border border-gray-200 rounded-lg p-3",children:[s.paidDays!==null&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Paid Days"}),t.jsx("p",{className:"font-medium text-green-700",children:s.paidDays})]}),s.unpaidDays!==null&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Unpaid Days"}),t.jsx("p",{className:"font-medium text-amber-700",children:s.unpaidDays})]})]}),s.documents&&s.documents.length>0&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-xs text-gray-500 uppercase mb-2 flex items-center gap-2",children:[t.jsx(gt,{className:"w-4 h-4"}),"Supporting Documents"]}),t.jsx("div",{className:"space-y-2",children:s.documents.map(V=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[t.jsx(gt,{className:"w-4 h-4 text-gray-400 shrink-0"}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:V.name}),t.jsxs("p",{className:"text-xs text-gray-500",children:[(V.size/1024).toFixed(1)," KB"]})]})]}),t.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 transition-colors ml-2",title:"Download document",type:"button",onClick:()=>F(V),children:t.jsx(Gt,{className:"w-4 h-4"})})]},V.id))})]}),q(s)&&s.type==="medical"&&G==="president"&&t.jsxs("div",{className:"space-y-5 bg-linear-to-br from-purple-50 via-indigo-50 to-blue-50 border-2 border-purple-300 rounded-xl p-6 shadow-lg",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-linear-to-br from-purple-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(kr,{className:"w-7 h-7 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-purple-900 text-xl",children:" President's Final Medical Leave Decision"}),t.jsx("p",{className:"text-sm text-purple-700",children:"As the final authority, classify days and categorize this medical leave"})]})]}),t.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-xl p-5 shadow-sm",children:[t.jsx("p",{className:"font-bold text-purple-900 mb-1 text-lg",children:"Step 1: Classify Leave Days"}),t.jsxs("p",{className:"text-sm text-purple-700 mb-4",children:["Total days to classify:"," ",t.jsx("span",{className:"font-bold text-xl",children:s.days})," days"]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Paid Days"}),t.jsx("input",{type:"number",min:0,max:s.days,value:j,onChange:V=>{b(V.target.value),A("")},className:"w-full px-4 py-3 border-2 border-green-300 rounded-xl text-lg font-bold text-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 bg-green-50",placeholder:"0"}),t.jsx("p",{className:"text-xs text-green-600 mt-2 font-medium",children:" Employee receives full salary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Unpaid Days"}),t.jsx("input",{type:"number",min:0,max:s.days,value:w,onChange:V=>{M(V.target.value),A("")},className:"w-full px-4 py-3 border-2 border-amber-300 rounded-xl text-lg font-bold text-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500 bg-amber-50",placeholder:"0"}),t.jsx("p",{className:"text-xs text-amber-600 mt-2 font-medium",children:" Employee receives no salary"})]})]}),(()=>{const V=Number(j)||0,fe=Number(w)||0,Ne=V+fe,se=Ne===s.days,Se=Ne>s.days;return s.days-Ne,t.jsxs("div",{className:`flex items-center gap-4 p-5 rounded-xl border-2 transition-all ${se?"bg-linear-to-r from-green-50 to-emerald-50 border-green-400":Se?"bg-linear-to-r from-red-50 to-rose-50 border-red-400":"bg-linear-to-r from-yellow-50 to-amber-50 border-yellow-400"}`,children:[t.jsxs("div",{className:"text-center flex-1",children:[t.jsx("p",{className:"text-3xl font-bold text-green-600",children:V}),t.jsx("p",{className:"text-xs text-green-700 font-bold uppercase",children:"Paid"})]}),t.jsx("div",{className:"text-4xl text-gray-300 font-bold",children:"+"}),t.jsxs("div",{className:"text-center flex-1",children:[t.jsx("p",{className:"text-3xl font-bold text-amber-600",children:fe}),t.jsx("p",{className:"text-xs text-amber-700 font-bold uppercase",children:"Unpaid"})]}),t.jsx("div",{className:"text-4xl text-gray-300 font-bold",children:"="}),t.jsxs("div",{className:"text-center flex-1",children:[t.jsx("p",{className:`text-3xl font-bold ${se?"text-green-600":Se?"text-red-600":"text-yellow-600"}`,children:Ne}),t.jsxs("p",{className:"text-xs text-gray-700 font-bold uppercase",children:["of ",s.days]})]})]})})(),S&&t.jsx("div",{className:"bg-red-100 border border-red-300 rounded-lg p-3 mt-3",children:t.jsxs("p",{className:"text-sm text-red-700 font-semibold",children:[" ",S]})})]}),t.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-xl p-5 shadow-sm",children:[t.jsx("p",{className:"font-bold text-purple-900 mb-1 text-lg",children:"Step 2: Final Medical Leave Category"}),t.jsx("p",{className:"text-sm text-purple-700 mb-4",children:"Based on submitted medical documentation and paid days allocation, select final classification:"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsxs("button",{type:"button",onClick:()=>D("medical"),className:`group p-5 rounded-xl border-3 transition-all text-left ${E==="medical"?"border-green-500 bg-linear-to-br from-green-50 to-emerald-50 shadow-lg scale-105":"border-gray-200 bg-white hover:border-green-300 hover:shadow-md"}`,children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${E==="medical"?"bg-green-500":"bg-gray-100"}`,children:t.jsx(Be,{className:`w-6 h-6 ${E==="medical"?"text-white":"text-gray-400"}`})}),t.jsx("p",{className:"font-bold text-gray-900 text-lg",children:" Paid Medical Leave"})]}),t.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Approved with medical benefits. Employee receives full salary for paid days. Deducted from medical leave balance."})]}),t.jsxs("button",{type:"button",onClick:()=>D("unpaid"),className:`group p-5 rounded-xl border-3 transition-all text-left ${E==="unpaid"?"border-amber-500 bg-linear-to-br from-amber-50 to-orange-50 shadow-lg scale-105":"border-gray-200 bg-white hover:border-amber-300 hover:shadow-md"}`,children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${E==="unpaid"?"bg-amber-500":"bg-gray-100"}`,children:t.jsx(zt,{className:`w-6 h-6 ${E==="unpaid"?"text-white":"text-gray-400"}`})}),t.jsx("p",{className:"font-bold text-gray-900 text-lg",children:" Unpaid Medical Leave"})]}),t.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Not eligible for medical benefits. Employee receives no salary. No balance deduction."})]})]}),E&&t.jsx("div",{className:"bg-linear-to-r from-blue-50 to-indigo-50 border border-blue-300 rounded-lg p-4 mt-4",children:t.jsxs("p",{className:"text-sm text-blue-900 font-bold",children:[" Final Classification Selected:"," ",t.jsx("span",{className:"text-lg",children:E==="medical"?"Paid Medical Leave":"Unpaid Medical Leave"})]})})]}),s.approvalChain?.find(V=>V.role==="vc")?.comment&&t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(fu,{className:"w-5 h-5 text-blue-600 shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-bold text-blue-900 mb-1",children:" Vice Chancellor's Recommendation:"}),t.jsx("p",{className:"text-sm text-blue-700 leading-relaxed",children:s.approvalChain.find(V=>V.role==="vc").comment})]})]})})]}),s.approvalChain&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase mb-2",children:"Approval Chain"}),t.jsx("div",{className:"space-y-2",children:s.approvalChain.map((V,fe)=>t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[V.status==="approved"?t.jsx(Be,{className:"w-5 h-5 text-green-500"}):V.status==="rejected"?t.jsx(zt,{className:"w-5 h-5 text-red-500"}):t.jsx(Ue,{className:"w-5 h-5 text-gray-400"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium uppercase text-sm",children:V.role}),V.date&&t.jsx("p",{className:"text-xs text-gray-500",children:U(me(V.date),"MMM d, yyyy")})]})]}),t.jsxs("div",{className:"flex-1",children:[V.by&&t.jsxs("p",{className:"text-sm text-gray-600",children:[t.jsx("span",{className:"font-medium",children:"By:"})," ",V.by]}),V.comment&&t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t.jsx("span",{className:"font-medium",children:"Comment:"})," ",V.comment]})]}),t.jsx("span",{className:`text-sm font-medium capitalize whitespace-nowrap ${V.status==="approved"?"text-green-600":V.status==="rejected"?"text-red-600":"text-gray-500"}`,children:V.status})]},fe))})]}),q(s)&&t.jsx("div",{children:t.jsx(st,{label:"Comments (Optional)",children:t.jsx("textarea",{value:y,onChange:V=>v(V.target.value),placeholder:"Add comments for this approval (e.g., medical documents verified, alternative arrangements made, etc.)",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})})}),q(s)&&G==="dean"&&t.jsxs("div",{className:"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-blue-900 mb-3",children:"Classify Leave Days as Paid or Unpaid"}),t.jsxs("p",{className:"text-sm text-blue-700 mb-4",children:["Total days to classify: ",t.jsx("span",{className:"font-bold",children:s.days})]})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Paid Days"}),t.jsx("input",{type:"number",min:0,max:s.days,value:j,onChange:V=>{b(V.target.value),A("")},className:"w-full px-3 py-2 border border-green-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 bg-white",placeholder:"0"}),t.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Employee receives full pay"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unpaid Days"}),t.jsx("input",{type:"number",min:0,max:s.days,value:w,onChange:V=>{M(V.target.value),A("")},className:"w-full px-3 py-2 border border-amber-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-500 bg-white",placeholder:"0"}),t.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Employee receives no pay"})]})]}),t.jsxs("div",{className:"flex gap-3 p-3 bg-white rounded-lg border border-blue-100",children:[t.jsxs("div",{className:"text-center flex-1",children:[t.jsx("p",{className:"text-2xl font-bold text-green-600",children:j}),t.jsx("p",{className:"text-xs text-green-700 font-medium",children:"PAID"})]}),t.jsx("div",{className:"text-center text-2xl text-gray-300 font-bold",children:"+"}),t.jsxs("div",{className:"text-center flex-1",children:[t.jsx("p",{className:"text-2xl font-bold text-amber-600",children:w}),t.jsx("p",{className:"text-xs text-amber-700 font-medium",children:"UNPAID"})]}),t.jsx("div",{className:"text-center text-2xl text-gray-300 font-bold",children:"="}),t.jsxs("div",{className:"text-center flex-1",children:[t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.days}),t.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"TOTAL"})]})]}),S&&t.jsxs("p",{className:"text-sm text-red-600 bg-red-50 p-2 rounded border border-red-200",children:[" ",S]})]}),P==="approve"&&s.type==="Medical"&&s.approvalChain?.dean?.status==="Approved"&&t.jsxs("div",{className:"space-y-4 bg-teal-50 border border-teal-200 rounded-lg p-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-teal-900 mb-3",children:" Final Medical Leave Classification"}),t.jsx("p",{className:"text-sm text-teal-700 mb-4",children:"Based on Dean's assessment and submitted documentation, select the final category:"})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsxs("button",{onClick:()=>D("medical"),className:`p-4 rounded-lg border-2 transition-all ${E==="medical"?"bg-green-100 border-green-500":"bg-white border-gray-200 hover:border-green-300"}`,children:[t.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:" Paid Medical Leave"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Employee receives full salary"})]}),t.jsxs("button",{onClick:()=>D("unpaid"),className:`p-4 rounded-lg border-2 transition-all ${E==="unpaid"?"bg-red-100 border-red-500":"bg-white border-gray-200 hover:border-red-300"}`,children:[t.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:" Unpaid Medical Leave"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Employee receives no salary"})]})]}),E&&t.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded text-sm text-blue-900",children:[" Selected:"," ",E==="medical"?"Paid Medical Leave":"Unpaid Medical Leave"]})]}),q(s)&&t.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t-2",children:[t.jsx(Z,{variant:"outline",onClick:()=>{R(s.id,"Rejected",y),v(""),b(0),M(0),A(""),D(null),T(null)},className:"text-red-600 border-red-200 hover:bg-red-50 px-6 py-2",children:"Reject"}),t.jsx(Z,{onClick:()=>{R(s.id,"Approved",y),v(""),b(0),M(0),A(""),D(null),T(null)},disabled:s.type==="maternity"&&!W(s).eligible||s.type==="medical"&&G==="president"&&(!E||Number(j)+Number(w)!==s.days),className:"bg-linear-to-r from-emerald-500 to-green-500 hover:from-emerald-600 hover:to-green-600 text-white px-6 py-2",children:"Approve"})]}),!q(s)&&t.jsx("div",{className:"flex justify-end pt-4 border-t",children:t.jsx(Z,{variant:"outline",onClick:()=>{l(null),v(""),b(0),M(0),A(""),D(null),T(null)},children:"Close"})})]})})]})}function Qu({icon:e,title:n,subtitle:a,description:r,action:s,className:l=""}){const c=a||r,d=e&&(typeof e=="function"||e.$$typeof);return t.jsxs("div",{className:`text-center py-8 sm:py-12 px-4 ${l}`,children:[e&&t.jsx("div",{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-gray-400",children:d?t.jsx(e,{className:"h-10 w-10 sm:h-12 sm:w-12"}):e}),t.jsx("h3",{className:"mt-3 text-sm sm:text-base font-medium text-gray-900",children:n}),c&&t.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500 max-w-sm mx-auto",children:c}),s&&t.jsx("div",{className:"mt-4 sm:mt-6",children:s})]})}function v9(){const e=at(L=>L.user),{promotions:n,updatePromotionStatus:a,approvePromotion:r}=ve(),[s,l]=x.useState("pending"),[c,d]=x.useState(""),[m,f]=x.useState("all"),[h,g]=x.useState(null),[y,v]=x.useState(!1),[j,b]=x.useState(null),[w,M]=x.useState(""),[S,A]=x.useState(""),[E,D]=x.useState(U(new Date,"yyyy-MM-dd")),[P,T]=x.useState(""),O=x.useMemo(()=>n.filter(L=>{if(s==="pending"&&L.status!=="Pending"||s==="review"&&L.status!=="Under Review"||s==="completed"&&!["Approved","Rejected"].includes(L.status))return!1;if(c){const G=c.toLowerCase();if(!L.employeeName?.toLowerCase().includes(G)&&!L.department?.toLowerCase().includes(G))return!1}return!(m!=="all"&&L.department!==m)}),[n,s,c,m]),k=(L,G)=>{g(L),b(G),v(!0),M(""),A(""),D(L.effectiveDate||U(new Date,"yyyy-MM-dd")),T(L.proposedSalary||L.currentSalary||L.salaryBase||"")},B=()=>{h&&(j==="approve"?r(h.id,{decidedBy:e?.name,notes:w,newSalary:P?parseInt(P,10):h.proposedSalary,effectiveDate:E}):j==="reject"&&a(h.id,"Rejected",{type:"hr",notes:w,decidedBy:e?.name,date:U(new Date,"yyyy-MM-dd")}),v(!1),g(null))},I=L=>{const G={Pending:"warning","Under Review":"info",Approved:"success",Rejected:"error"};return t.jsx(le,{variant:G[L]||"default",children:L})},z=Object.values(bs).flat(),J={pending:n.filter(L=>L.status==="Pending").length,underReview:n.filter(L=>L.status==="Under Review").length,approved:n.filter(L=>L.status==="Approved").length,rejected:n.filter(L=>L.status==="Rejected").length};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Promotion Management"}),t.jsx("p",{className:"text-gray-600",children:"Review and process promotion requests"})]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Pending",value:J.pending,color:"amber",icon:Ue},{label:"Under Review",value:J.underReview,color:"blue",icon:ts},{label:"Approved",value:J.approved,color:"green",icon:Be},{label:"Rejected",value:J.rejected,color:"red",icon:zt}].map(L=>t.jsx(H,{className:`bg-${L.color}-50 border-${L.color}-100`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:`text-sm text-${L.color}-600`,children:L.label}),t.jsx("p",{className:`text-2xl font-bold text-${L.color}-700`,children:L.value})]}),t.jsx(L.icon,{className:`w-8 h-8 text-${L.color}-400`})]})},L.label))}),t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[t.jsx(ha,{value:s,onValueChange:l,children:t.jsxs(pa,{children:[t.jsxs(Ve,{value:"pending",children:["Pending (",J.pending,")"]}),t.jsxs(Ve,{value:"review",children:["Under Review (",J.underReview,")"]}),t.jsxs(Ve,{value:"completed",children:["Completed (",J.approved+J.rejected,")"]})]})}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsx(Rn,{type:"text",placeholder:"Search employees...",value:c,onChange:L=>d(L.target.value),className:"w-full sm:w-64",inputClassName:"pr-4 py-2 text-sm"}),t.jsxs("select",{value:m,onChange:L=>f(L.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"all",children:"All Departments"}),z.map(L=>t.jsx("option",{value:L,children:L},L))]})]})]}),t.jsx(H,{className:"bg-blue-50 border-blue-200",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(ts,{className:"w-6 h-6 text-blue-600 shrink-0 mt-1"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-blue-900",children:"Committee Meeting Scheduling"}),t.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"As HR, you can monitor promotion requests. Committee meeting scheduling is handled by the Dean, who serves as the convener for promotion reviews."})]})]})}),t.jsx(H,{children:O.length===0?t.jsx(Qu,{icon:jj,title:"No Promotions Found",description:s==="pending"?"No pending promotion requests":s==="review"?"No promotions under review":"No completed promotions"}):t.jsx("div",{className:"space-y-4",children:O.map(L=>t.jsxs("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold",children:L.employeeName?.charAt(0)||"?"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:L.employeeName}),t.jsxs("p",{className:"text-sm text-gray-500",children:[L.department,"  ",L.faculty]}),t.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-indigo-600",children:[t.jsx("span",{children:L.currentDesignation}),t.jsx(Au,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium",children:L.requestedDesignation}),L.proposedSalary&&t.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-lg",children:["Proposed Salary: ",L.proposedSalary.toLocaleString()]})]})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"text-sm text-gray-500",children:[t.jsx(nt,{className:"w-4 h-4 inline mr-1"}),U(me(L.appliedOn),"MMM d, yyyy")]}),t.jsxs("div",{className:"text-sm text-gray-500",children:[L.yearsInService," years service"]}),I(L.status)]}),L.status==="Pending"&&t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"px-3 py-2 bg-blue-50 border border-blue-200 rounded-lg text-xs text-blue-700",children:" Committee scheduling is handled by Dean"}),t.jsx(Z,{size:"sm",variant:"outline",onClick:()=>k(L,"reject"),className:"text-red-600 border-red-200 hover:bg-red-50",children:"Reject"})]}),L.status==="Under Review"&&t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(Z,{size:"sm",onClick:()=>k(L,"approve"),className:"bg-green-600 hover:bg-green-700 gap-1",children:[t.jsx(Be,{className:"w-4 h-4"}),"Approve"]}),t.jsx(Z,{size:"sm",variant:"outline",onClick:()=>k(L,"reject"),className:"text-red-600 border-red-200 hover:bg-red-50",children:"Reject"})]})]}),t.jsxs("div",{className:"mt-4 pt-4 border-t",children:[t.jsx("p",{className:"text-sm text-gray-600",children:L.reason}),L.documents?.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:L.documents.map((G,W)=>t.jsxs("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs text-gray-600",children:[" ",G]},W))})]}),L.committeeReview&&t.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Committee Meeting"}),t.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Scheduled: ",L.committeeReview.meetingDate," by"," ",L.committeeReview.scheduledBy]}),L.committeeReview.notes&&t.jsx("p",{className:"text-sm text-blue-600 mt-1",children:L.committeeReview.notes})]})]},L.id))})}),t.jsx(ft,{isOpen:y,onClose:()=>v(!1),title:j==="approve"?"Approve Promotion":"Reject Promotion",children:h&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"font-medium",children:h.employeeName}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[h.currentDesignation,"  ",h.requestedDesignation]})]}),j==="approve"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Salary (PKR)"}),t.jsx("input",{type:"number",value:P,onChange:L=>T(L.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., 180000"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Effective Date"}),t.jsx("input",{type:"date",value:E,onChange:L=>D(L.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments"}),t.jsx("textarea",{value:w,onChange:L=>M(L.target.value),rows:3,placeholder:j==="reject"?"Please provide reason for rejection...":"Add any notes...",className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[t.jsx(Z,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),t.jsx(Z,{onClick:B,className:j==="reject"?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700",children:j==="approve"?"Confirm Approval":"Confirm Rejection"})]})]})})]})}function b9(){const e=at(z=>z.user),{resignations:n,employees:a,updateResignationStatus:r,processResignation:s}=ve(),[l,c]=x.useState("pending"),[d,m]=x.useState(""),[f,h]=x.useState("all"),[g,y]=x.useState(null),[v,j]=x.useState(!1),[b,w]=x.useState(!1),[M,S]=x.useState(null),[A,E]=x.useState(""),D=x.useMemo(()=>n.filter(z=>{if(l==="pending"&&z.status!=="Pending"||l==="approved"&&z.status!=="Approved"||l==="completed"&&z.status!=="Completed")return!1;if(d){const J=d.toLowerCase();if(!z.employeeName?.toLowerCase().includes(J)&&!z.department?.toLowerCase().includes(J))return!1}return!(f!=="all"&&z.department!==f)}),[n,l,d,f]),P=(z,J)=>{y(z),S(J),j(!0),E("")},T=()=>{g&&(M==="approve"?r(g.id,"Approved",{hrApproval:{approvedBy:e?.name,date:U(new Date,"yyyy-MM-dd"),comments:A}}):M==="reject"?r(g.id,"Rejected",{hrApproval:{rejectedBy:e?.name,date:U(new Date,"yyyy-MM-dd"),comments:A}}):M==="process"&&s(g.id),j(!1),y(null))},O=z=>{const J={Pending:"warning",Approved:"info",Completed:"success",Rejected:"error",Withdrawn:"default"};return t.jsx(le,{variant:J[z]||"default",children:z})},k=z=>{const J=rs(me(z),new Date);return J>0?J:0},B=Object.values(bs).flat(),I={pending:n.filter(z=>z.status==="Pending").length,approved:n.filter(z=>z.status==="Approved").length,completed:n.filter(z=>z.status==="Completed").length};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Resignation Management"}),t.jsx("p",{className:"text-gray-600",children:"Process employee resignations and exit procedures"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{label:"Pending Review",value:I.pending,color:"amber",icon:Ue},{label:"In Process",value:I.approved,color:"blue",icon:Dc},{label:"Completed",value:I.completed,color:"green",icon:Be}].map(z=>t.jsx(H,{className:`bg-${z.color}-50 border-${z.color}-100`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:`text-sm text-${z.color}-600`,children:z.label}),t.jsx("p",{className:`text-2xl font-bold text-${z.color}-700`,children:z.value})]}),t.jsx(z.icon,{className:`w-8 h-8 text-${z.color}-400`})]})},z.label))}),t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[t.jsx(ha,{value:l,onValueChange:c,children:t.jsxs(pa,{children:[t.jsxs(Ve,{value:"pending",children:["Pending (",I.pending,")"]}),t.jsxs(Ve,{value:"approved",children:["In Process (",I.approved,")"]}),t.jsxs(Ve,{value:"completed",children:["Completed (",I.completed,")"]})]})}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsx(Rn,{type:"text",placeholder:"Search employees...",value:d,onChange:z=>m(z.target.value),className:"w-full sm:w-64",inputClassName:"pr-4 py-2 text-sm"}),t.jsxs("select",{value:f,onChange:z=>h(z.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"all",children:"All Departments"}),B.map(z=>t.jsx("option",{value:z,children:z},z))]})]})]}),t.jsx(H,{children:D.length===0?t.jsx(Qu,{icon:z4,title:"No Resignations Found",description:l==="pending"?"No pending resignation requests":l==="approved"?"No resignations in process":"No completed resignations"}):t.jsx("div",{className:"space-y-4",children:D.map(z=>t.jsxs("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-red-400 to-orange-400 flex items-center justify-center text-white font-bold",children:z.employeeName?.charAt(0)||"?"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:z.employeeName}),t.jsxs("p",{className:"text-sm text-gray-500",children:[z.designation,"  ",z.department]}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Reason: ",z.reason]})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Applied:"})," ",U(me(z.appliedOn),"MMM d")]}),t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Last Day:"})," ",t.jsx("span",{className:"font-medium text-red-600",children:U(me(z.lastWorkingDate),"MMM d, yyyy")})]}),z.status==="Approved"&&t.jsxs("div",{className:"px-3 py-1 bg-amber-100 rounded-full text-sm text-amber-700",children:[k(z.lastWorkingDate)," days left"]}),O(z.status)]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Z,{size:"sm",variant:"outline",onClick:()=>{y(z),w(!0)},children:"View Details"}),z.status==="Pending"&&t.jsxs(t.Fragment,{children:[t.jsx(Z,{size:"sm",onClick:()=>P(z,"approve"),className:"bg-green-600 hover:bg-green-700",children:"Approve"}),t.jsx(Z,{size:"sm",variant:"outline",onClick:()=>P(z,"reject"),className:"text-red-600 border-red-200 hover:bg-red-50",children:"Reject"})]}),z.status==="Approved"&&z.exitSurvey&&t.jsxs(Z,{size:"sm",onClick:()=>P(z,"process"),className:"gap-1",children:[t.jsx(Be,{className:"w-4 h-4"}),"Complete Exit"]})]})]}),t.jsxs("div",{className:"mt-4 pt-4 border-t flex flex-wrap gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[z.exitSurvey?t.jsx(Be,{className:"w-5 h-5 text-green-500"}):t.jsx(Ue,{className:"w-5 h-5 text-gray-400"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Exit Survey"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[z.handoverStatus==="completed"?t.jsx(Be,{className:"w-5 h-5 text-green-500"}):t.jsx(Ue,{className:"w-5 h-5 text-gray-400"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Handover"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[z.status==="Completed"?t.jsx(Be,{className:"w-5 h-5 text-green-500"}):t.jsx(Ue,{className:"w-5 h-5 text-gray-400"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Clearance"})]})]})]},z.id))})}),t.jsx(ft,{isOpen:v,onClose:()=>j(!1),title:M==="approve"?"Approve Resignation":M==="reject"?"Reject Resignation":"Complete Exit Process",children:g&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"font-medium",children:g.employeeName}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[g.designation,"  ",g.department]}),t.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Last Working Day:"," ",U(me(g.lastWorkingDate),"MMM d, yyyy")]})]}),M==="process"&&t.jsx("div",{className:"p-4 bg-amber-50 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(sa,{className:"w-5 h-5 text-amber-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-amber-800",children:"Confirm Exit Completion"}),t.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"This will move the employee to ex-employee records and remove them from active employees. This action cannot be undone."})]})]})}),M!=="process"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments"}),t.jsx("textarea",{value:A,onChange:z=>E(z.target.value),rows:3,placeholder:M==="reject"?"Reason for rejection...":"Add any notes...",className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[t.jsx(Z,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),t.jsx(Z,{onClick:T,className:M==="reject"?"bg-red-600 hover:bg-red-700":M==="approve"?"bg-green-600 hover:bg-green-700":"",children:M==="approve"?"Approve Resignation":M==="reject"?"Reject Request":"Complete Exit"})]})]})}),t.jsx(ft,{isOpen:b,onClose:()=>w(!1),title:"Resignation Details",size:"lg",children:g&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-linear-to-br from-red-400 to-orange-400 flex items-center justify-center text-white text-2xl font-bold",children:g.employeeName?.charAt(0)}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold",children:g.employeeName}),t.jsxs("p",{className:"text-gray-500",children:[g.designation,"  ",g.department]})]}),O(g.status)]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Applied On"}),t.jsx("p",{className:"font-medium",children:U(me(g.appliedOn),"MMM d, yyyy")})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Last Working Day"}),t.jsx("p",{className:"font-medium text-red-600",children:U(me(g.lastWorkingDate),"MMM d, yyyy")})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Notice Period"}),t.jsxs("p",{className:"font-medium",children:[g.noticePeriod," days"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Reason"}),t.jsx("p",{className:"font-medium",children:g.reason})]})]}),g.detailedReason&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Detailed Explanation"}),t.jsx("p",{className:"text-sm text-gray-700 p-3 bg-gray-50 rounded-lg",children:g.detailedReason})]}),g.exitSurvey&&t.jsxs("div",{className:"border rounded-xl p-4",children:[t.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(xi,{className:"w-5 h-5 text-green-500"}),"Exit Survey Responses"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Primary Reason"}),t.jsx("p",{className:"font-medium",children:g.exitSurvey.reason})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Job Satisfaction"}),t.jsx("div",{className:"flex gap-1 mt-1",children:[1,2,3,4,5].map(z=>t.jsx("span",{className:`w-6 h-6 rounded flex items-center justify-center text-xs ${z<=g.exitSurvey.satisfaction?"bg-yellow-400 text-white":"bg-gray-200"}`,children:z},z))})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Would Recommend"}),t.jsx("p",{className:"font-medium",children:g.exitSurvey.wouldRecommend?" Yes":" No"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Would Return"}),t.jsx("p",{className:"font-medium",children:g.exitSurvey.wouldReturn?" Yes":" No"})]})]}),g.exitSurvey.feedback&&t.jsxs("div",{className:"mt-4 pt-4 border-t",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Feedback"}),t.jsx("p",{className:"text-sm text-gray-700",children:g.exitSurvey.feedback})]})]})]})})]})}function W4(e){var n,a,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(n=0;n<s;n++)e[n]&&(a=W4(e[n]))&&(r&&(r+=" "),r+=a)}else for(a in e)e[a]&&(r&&(r+=" "),r+=a);return r}function ot(){for(var e,n,a=0,r="",s=arguments.length;a<s;a++)(e=arguments[a])&&(n=W4(e))&&(r&&(r+=" "),r+=n);return r}var j9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Dj(e){if(typeof e!="string")return!1;var n=j9;return n.includes(e)}var N9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],w9=new Set(N9);function Y4(e){return typeof e!="string"?!1:w9.has(e)}function G4(e){return typeof e=="string"&&e.startsWith("data-")}function Ht(e){if(typeof e!="object"||e===null)return{};var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(Y4(a)||G4(a))&&(n[a]=e[a]);return n}function is(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var n=e.props;return Ht(n)}return typeof e=="object"&&!Array.isArray(e)?Ht(e):null}function Pn(e){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(Y4(a)||G4(a)||Dj(a))&&(n[a]=e[a]);return n}function S9(e){return e==null?null:x.isValidElement(e)?Pn(e.props):typeof e=="object"&&!Array.isArray(e)?Pn(e):null}var A9=["children","width","height","viewBox","className","style","title","desc"];function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},rb.apply(null,arguments)}function C9(e,n){if(e==null)return{};var a,r,s=M9(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function M9(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Ej=x.forwardRef((e,n)=>{var{children:a,width:r,height:s,viewBox:l,className:c,style:d,title:m,desc:f}=e,h=C9(e,A9),g=l||{width:r,height:s,x:0,y:0},y=ot("recharts-surface",c);return x.createElement("svg",rb({},Pn(h),{className:y,width:r,height:s,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:n}),x.createElement("title",null,m),x.createElement("desc",null,f),a)}),D9=["children","className"];function sb(){return sb=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},sb.apply(null,arguments)}function E9(e,n){if(e==null)return{};var a,r,s=O9(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function O9(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var xt=x.forwardRef((e,n)=>{var{children:a,className:r}=e,s=E9(e,D9),l=ot("recharts-layer",r);return x.createElement("g",sb({className:l},Pn(s),{ref:n}),a)}),Z4=x.createContext(null),P9=()=>x.useContext(Z4);function en(e){return function(){return e}}const X4=Math.cos,Oh=Math.sin,ls=Math.sqrt,Ph=Math.PI,Tp=2*Ph,ib=Math.PI,lb=2*ib,Hl=1e-6,k9=lb-Hl;function Q4(e){this._+=e[0];for(let n=1,a=e.length;n<a;++n)this._+=arguments[n]+e[n]}function R9(e){let n=Math.floor(e);if(!(n>=0))throw new Error(`invalid digits: ${e}`);if(n>15)return Q4;const a=10**n;return function(r){this._+=r[0];for(let s=1,l=r.length;s<l;++s)this._+=Math.round(arguments[s]*a)/a+r[s]}}class _9{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?Q4:R9(n)}moveTo(n,a){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,a){this._append`L${this._x1=+n},${this._y1=+a}`}quadraticCurveTo(n,a,r,s){this._append`Q${+n},${+a},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(n,a,r,s,l,c){this._append`C${+n},${+a},${+r},${+s},${this._x1=+l},${this._y1=+c}`}arcTo(n,a,r,s,l){if(n=+n,a=+a,r=+r,s=+s,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,d=this._y1,m=r-n,f=s-a,h=c-n,g=d-a,y=h*h+g*g;if(this._x1===null)this._append`M${this._x1=n},${this._y1=a}`;else if(y>Hl)if(!(Math.abs(g*m-f*h)>Hl)||!l)this._append`L${this._x1=n},${this._y1=a}`;else{let v=r-c,j=s-d,b=m*m+f*f,w=v*v+j*j,M=Math.sqrt(b),S=Math.sqrt(y),A=l*Math.tan((ib-Math.acos((b+y-w)/(2*M*S)))/2),E=A/S,D=A/M;Math.abs(E-1)>Hl&&this._append`L${n+E*h},${a+E*g}`,this._append`A${l},${l},0,0,${+(g*v>h*j)},${this._x1=n+D*m},${this._y1=a+D*f}`}}arc(n,a,r,s,l,c){if(n=+n,a=+a,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(s),m=r*Math.sin(s),f=n+d,h=a+m,g=1^c,y=c?s-l:l-s;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Hl||Math.abs(this._y1-h)>Hl)&&this._append`L${f},${h}`,r&&(y<0&&(y=y%lb+lb),y>k9?this._append`A${r},${r},0,1,${g},${n-d},${a-m}A${r},${r},0,1,${g},${this._x1=f},${this._y1=h}`:y>Hl&&this._append`A${r},${r},0,${+(y>=ib)},${g},${this._x1=n+r*Math.cos(l)},${this._y1=a+r*Math.sin(l)}`)}rect(n,a,r,s){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+a}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function Oj(e){let n=3;return e.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const r=Math.floor(a);if(!(r>=0))throw new RangeError(`invalid digits: ${a}`);n=r}return e},()=>new _9(n)}function Pj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function J4(e){this._context=e}J4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:this._context.lineTo(e,n);break}}};function Lp(e){return new J4(e)}function eE(e){return e[0]}function tE(e){return e[1]}function nE(e,n){var a=en(!0),r=null,s=Lp,l=null,c=Oj(d);e=typeof e=="function"?e:e===void 0?eE:en(e),n=typeof n=="function"?n:n===void 0?tE:en(n);function d(m){var f,h=(m=Pj(m)).length,g,y=!1,v;for(r==null&&(l=s(v=c())),f=0;f<=h;++f)!(f<h&&a(g=m[f],f,m))===y&&((y=!y)?l.lineStart():l.lineEnd()),y&&l.point(+e(g,f,m),+n(g,f,m));if(v)return l=null,v+""||null}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:en(+m),d):e},d.y=function(m){return arguments.length?(n=typeof m=="function"?m:en(+m),d):n},d.defined=function(m){return arguments.length?(a=typeof m=="function"?m:en(!!m),d):a},d.curve=function(m){return arguments.length?(s=m,r!=null&&(l=s(r)),d):s},d.context=function(m){return arguments.length?(m==null?r=l=null:l=s(r=m),d):r},d}function Yf(e,n,a){var r=null,s=en(!0),l=null,c=Lp,d=null,m=Oj(f);e=typeof e=="function"?e:e===void 0?eE:en(+e),n=typeof n=="function"?n:en(n===void 0?0:+n),a=typeof a=="function"?a:a===void 0?tE:en(+a);function f(g){var y,v,j,b=(g=Pj(g)).length,w,M=!1,S,A=new Array(b),E=new Array(b);for(l==null&&(d=c(S=m())),y=0;y<=b;++y){if(!(y<b&&s(w=g[y],y,g))===M)if(M=!M)v=y,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),j=y-1;j>=v;--j)d.point(A[j],E[j]);d.lineEnd(),d.areaEnd()}M&&(A[y]=+e(w,y,g),E[y]=+n(w,y,g),d.point(r?+r(w,y,g):A[y],a?+a(w,y,g):E[y]))}if(S)return d=null,S+""||null}function h(){return nE().defined(s).curve(c).context(l)}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:en(+g),r=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:en(+g),f):e},f.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:en(+g),f):r},f.y=function(g){return arguments.length?(n=typeof g=="function"?g:en(+g),a=null,f):n},f.y0=function(g){return arguments.length?(n=typeof g=="function"?g:en(+g),f):n},f.y1=function(g){return arguments.length?(a=g==null?null:typeof g=="function"?g:en(+g),f):a},f.lineX0=f.lineY0=function(){return h().x(e).y(n)},f.lineY1=function(){return h().x(e).y(a)},f.lineX1=function(){return h().x(r).y(n)},f.defined=function(g){return arguments.length?(s=typeof g=="function"?g:en(!!g),f):s},f.curve=function(g){return arguments.length?(c=g,l!=null&&(d=c(l)),f):c},f.context=function(g){return arguments.length?(g==null?l=d=null:d=c(l=g),f):l},f}class aE{constructor(n,a){this._context=n,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,a){switch(n=+n,a=+a,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,a,n,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,n,this._y0,n,a);break}}this._x0=n,this._y0=a}}function T9(e){return new aE(e,!0)}function L9(e){return new aE(e,!1)}const kj={draw(e,n){const a=ls(n/Ph);e.moveTo(a,0),e.arc(0,0,a,0,Tp)}},I9={draw(e,n){const a=ls(n/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}},rE=ls(1/3),z9=rE*2,B9={draw(e,n){const a=ls(n/z9),r=a*rE;e.moveTo(0,-a),e.lineTo(r,0),e.lineTo(0,a),e.lineTo(-r,0),e.closePath()}},$9={draw(e,n){const a=ls(n),r=-a/2;e.rect(r,r,a,a)}},F9=.8908130915292852,sE=Oh(Ph/10)/Oh(7*Ph/10),q9=Oh(Tp/10)*sE,H9=-X4(Tp/10)*sE,U9={draw(e,n){const a=ls(n*F9),r=q9*a,s=H9*a;e.moveTo(0,-a),e.lineTo(r,s);for(let l=1;l<5;++l){const c=Tp*l/5,d=X4(c),m=Oh(c);e.lineTo(m*a,-d*a),e.lineTo(d*r-m*s,m*r+d*s)}e.closePath()}},X0=ls(3),V9={draw(e,n){const a=-ls(n/(X0*3));e.moveTo(0,a*2),e.lineTo(-X0*a,-a),e.lineTo(X0*a,-a),e.closePath()}},Mr=-.5,Dr=ls(3)/2,ob=1/ls(12),K9=(ob/2+1)*3,W9={draw(e,n){const a=ls(n/K9),r=a/2,s=a*ob,l=r,c=a*ob+a,d=-l,m=c;e.moveTo(r,s),e.lineTo(l,c),e.lineTo(d,m),e.lineTo(Mr*r-Dr*s,Dr*r+Mr*s),e.lineTo(Mr*l-Dr*c,Dr*l+Mr*c),e.lineTo(Mr*d-Dr*m,Dr*d+Mr*m),e.lineTo(Mr*r+Dr*s,Mr*s-Dr*r),e.lineTo(Mr*l+Dr*c,Mr*c-Dr*l),e.lineTo(Mr*d+Dr*m,Mr*m-Dr*d),e.closePath()}};function Y9(e,n){let a=null,r=Oj(s);e=typeof e=="function"?e:en(e||kj),n=typeof n=="function"?n:en(n===void 0?64:+n);function s(){let l;if(a||(a=l=r()),e.apply(this,arguments).draw(a,+n.apply(this,arguments)),l)return a=null,l+""||null}return s.type=function(l){return arguments.length?(e=typeof l=="function"?l:en(l),s):e},s.size=function(l){return arguments.length?(n=typeof l=="function"?l:en(+l),s):n},s.context=function(l){return arguments.length?(a=l??null,s):a},s}function kh(){}function Rh(e,n,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+n)/6,(e._y0+4*e._y1+a)/6)}function iE(e){this._context=e}iE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Rh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Rh(this,e,n);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n}};function G9(e){return new iE(e)}function lE(e){this._context=e}lE.prototype={areaStart:kh,areaEnd:kh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._x2=e,this._y2=n;break;case 1:this._point=2,this._x3=e,this._y3=n;break;case 2:this._point=3,this._x4=e,this._y4=n,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+n)/6);break;default:Rh(this,e,n);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n}};function Z9(e){return new lE(e)}function oE(e){this._context=e}oE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:Rh(this,e,n);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n}};function X9(e){return new oE(e)}function cE(e){this._context=e}cE.prototype={areaStart:kh,areaEnd:kh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,n){e=+e,n=+n,this._point?this._context.lineTo(e,n):(this._point=1,this._context.moveTo(e,n))}};function Q9(e){return new cE(e)}function gA(e){return e<0?-1:1}function yA(e,n,a){var r=e._x1-e._x0,s=n-e._x1,l=(e._y1-e._y0)/(r||s<0&&-0),c=(a-e._y1)/(s||r<0&&-0),d=(l*s+c*r)/(r+s);return(gA(l)+gA(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(d))||0}function vA(e,n){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-n)/2:n}function Q0(e,n,a){var r=e._x0,s=e._y0,l=e._x1,c=e._y1,d=(l-r)/3;e._context.bezierCurveTo(r+d,s+d*n,l-d,c-d*a,l,c)}function _h(e){this._context=e}_h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Q0(this,this._t0,vA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){var a=NaN;if(e=+e,n=+n,!(e===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3,Q0(this,vA(this,a=yA(this,e,n)),a);break;default:Q0(this,this._t0,a=yA(this,e,n));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n,this._t0=a}}};function dE(e){this._context=new uE(e)}(dE.prototype=Object.create(_h.prototype)).point=function(e,n){_h.prototype.point.call(this,n,e)};function uE(e){this._context=e}uE.prototype={moveTo:function(e,n){this._context.moveTo(n,e)},closePath:function(){this._context.closePath()},lineTo:function(e,n){this._context.lineTo(n,e)},bezierCurveTo:function(e,n,a,r,s,l){this._context.bezierCurveTo(n,e,r,a,l,s)}};function J9(e){return new _h(e)}function eI(e){return new dE(e)}function mE(e){this._context=e}mE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,n=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],n[0]):this._context.moveTo(e[0],n[0]),a===2)this._context.lineTo(e[1],n[1]);else for(var r=bA(e),s=bA(n),l=0,c=1;c<a;++l,++c)this._context.bezierCurveTo(r[0][l],s[0][l],r[1][l],s[1][l],e[c],n[c]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,n){this._x.push(+e),this._y.push(+n)}};function bA(e){var n,a=e.length-1,r,s=new Array(a),l=new Array(a),c=new Array(a);for(s[0]=0,l[0]=2,c[0]=e[0]+2*e[1],n=1;n<a-1;++n)s[n]=1,l[n]=4,c[n]=4*e[n]+2*e[n+1];for(s[a-1]=2,l[a-1]=7,c[a-1]=8*e[a-1]+e[a],n=1;n<a;++n)r=s[n]/l[n-1],l[n]-=r,c[n]-=r*c[n-1];for(s[a-1]=c[a-1]/l[a-1],n=a-2;n>=0;--n)s[n]=(c[n]-s[n+1])/l[n];for(l[a-1]=(e[a]+s[a-1])/2,n=0;n<a-1;++n)l[n]=2*e[n+1]-s[n+1];return[s,l]}function tI(e){return new mE(e)}function Ip(e,n){this._context=e,this._t=n}Ip.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(e,n);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,n)}break}}this._x=e,this._y=n}};function nI(e){return new Ip(e,.5)}function aI(e){return new Ip(e,0)}function rI(e){return new Ip(e,1)}function Oc(e,n){if((c=e.length)>1)for(var a=1,r,s,l=e[n[0]],c,d=l.length;a<c;++a)for(s=l,l=e[n[a]],r=0;r<d;++r)l[r][1]+=l[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function cb(e){for(var n=e.length,a=new Array(n);--n>=0;)a[n]=n;return a}function sI(e,n){return e[n]}function iI(e){const n=[];return n.key=e,n}function lI(){var e=en([]),n=cb,a=Oc,r=sI;function s(l){var c=Array.from(e.apply(this,arguments),iI),d,m=c.length,f=-1,h;for(const g of l)for(d=0,++f;d<m;++d)(c[d][f]=[0,+r(g,c[d].key,f,l)]).data=g;for(d=0,h=Pj(n(c));d<m;++d)c[h[d]].index=d;return a(c,h),c}return s.keys=function(l){return arguments.length?(e=typeof l=="function"?l:en(Array.from(l)),s):e},s.value=function(l){return arguments.length?(r=typeof l=="function"?l:en(+l),s):r},s.order=function(l){return arguments.length?(n=l==null?cb:typeof l=="function"?l:en(Array.from(l)),s):n},s.offset=function(l){return arguments.length?(a=l??Oc,s):a},s}function oI(e,n){if((r=e.length)>0){for(var a,r,s=0,l=e[0].length,c;s<l;++s){for(c=a=0;a<r;++a)c+=e[a][s][1]||0;if(c)for(a=0;a<r;++a)e[a][s][1]/=c}Oc(e,n)}}function cI(e,n){if((s=e.length)>0){for(var a=0,r=e[n[0]],s,l=r.length;a<l;++a){for(var c=0,d=0;c<s;++c)d+=e[c][a][1]||0;r[a][1]+=r[a][0]=-d/2}Oc(e,n)}}function dI(e,n){if(!(!((c=e.length)>0)||!((l=(s=e[n[0]]).length)>0))){for(var a=0,r=1,s,l,c;r<l;++r){for(var d=0,m=0,f=0;d<c;++d){for(var h=e[n[d]],g=h[r][1]||0,y=h[r-1][1]||0,v=(g-y)/2,j=0;j<d;++j){var b=e[n[j]],w=b[r][1]||0,M=b[r-1][1]||0;v+=w-M}m+=g,f+=v*g}s[r-1][1]+=s[r-1][0]=a,m&&(a-=f/m)}s[r-1][1]+=s[r-1][0]=a,Oc(e,n)}}var J0={},ey={},jA;function uI(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(a){return a==="__proto__"}e.isUnsafeProperty=n})(ey)),ey}var ty={},NA;function fE(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(a){switch(typeof a){case"number":case"symbol":return!1;case"string":return a.includes(".")||a.includes("[")||a.includes("]")}}e.isDeepKey=n})(ty)),ty}var ny={},wA;function Rj(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(a){return typeof a=="string"||typeof a=="symbol"?a:Object.is(a?.valueOf?.(),-0)?"-0":String(a)}e.toKey=n})(ny)),ny}var ay={},ry={},SA;function mI(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(a){if(a==null)return"";if(typeof a=="string")return a;if(Array.isArray(a))return a.map(n).join(",");const r=String(a);return r==="0"&&Object.is(Number(a),-0)?"-0":r}e.toString=n})(ry)),ry}var AA;function _j(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=mI(),a=Rj();function r(s){if(Array.isArray(s))return s.map(a.toKey);if(typeof s=="symbol")return[s];s=n.toString(s);const l=[],c=s.length;if(c===0)return l;let d=0,m="",f="",h=!1;for(s.charCodeAt(0)===46&&(l.push(""),d++);d<c;){const g=s[d];f?g==="\\"&&d+1<c?(d++,m+=s[d]):g===f?f="":m+=g:h?g==='"'||g==="'"?f=g:g==="]"?(h=!1,l.push(m),m=""):m+=g:g==="["?(h=!0,m&&(l.push(m),m="")):g==="."?m&&(l.push(m),m=""):m+=g,d++}return m&&l.push(m),l}e.toPath=r})(ay)),ay}var CA;function Tj(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=uI(),a=fE(),r=Rj(),s=_j();function l(d,m,f){if(d==null)return f;switch(typeof m){case"string":{if(n.isUnsafeProperty(m))return f;const h=d[m];return h===void 0?a.isDeepKey(m)?l(d,s.toPath(m),f):f:h}case"number":case"symbol":{typeof m=="number"&&(m=r.toKey(m));const h=d[m];return h===void 0?f:h}default:{if(Array.isArray(m))return c(d,m,f);if(Object.is(m?.valueOf(),-0)?m="-0":m=String(m),n.isUnsafeProperty(m))return f;const h=d[m];return h===void 0?f:h}}}function c(d,m,f){if(m.length===0)return f;let h=d;for(let g=0;g<m.length;g++){if(h==null||n.isUnsafeProperty(m[g]))return f;h=h[m[g]]}return h===void 0?f:h}e.get=l})(J0)),J0}var sy,MA;function fI(){return MA||(MA=1,sy=Tj().get),sy}var hI=fI();const io=$r(hI);var qn=e=>e===0?0:e>0?1:-1,Tr=e=>typeof e=="number"&&e!=+e,bi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ze=e=>(typeof e=="number"||e instanceof Number)&&!Tr(e),Cs=e=>ze(e)||typeof e=="string",pI=0,Eu=e=>{var n=++pI;return"".concat(e||"").concat(n)},ba=function(n,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ze(n)&&typeof n!="string")return r;var l;if(bi(n)){if(a==null)return r;var c=n.indexOf("%");l=a*parseFloat(n.slice(0,c))/100}else l=+n;return Tr(l)&&(l=r),s&&a!=null&&l>a&&(l=a),l},hE=e=>{if(!Array.isArray(e))return!1;for(var n=e.length,a={},r=0;r<n;r++)if(!a[e[r]])a[e[r]]=!0;else return!0;return!1};function mt(e,n,a){return ze(e)&&ze(n)?e+a*(n-e):n}function pE(e,n,a){if(!(!e||!e.length))return e.find(r=>r&&(typeof n=="function"?n(r):io(r,n))===a)}var xI=e=>{for(var n=e.length,a=0,r=0,s=0,l=0,c=1/0,d=-1/0,m=0,f=0,h=0;h<n;h++)m=e[h].cx||0,f=e[h].cy||0,a+=m,r+=f,s+=m*f,l+=m*m,c=Math.min(c,m),d=Math.max(d,m);var g=n*l!==a*a?(n*s-a*r)/(n*l-a*a):0;return{xmin:c,xmax:d,a:g,b:(r-g*a)/n}},Ot=e=>e===null||typeof e>"u",Ju=e=>Ot(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function gI(e){return e!=null}function em(){}var yI=["type","size","sizeType"];function db(){return db=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},db.apply(null,arguments)}function DA(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function EA(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?DA(Object(a),!0).forEach(function(r){vI(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):DA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function vI(e,n,a){return(n=bI(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function bI(e){var n=jI(e,"string");return typeof n=="symbol"?n:n+""}function jI(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function NI(e,n){if(e==null)return{};var a,r,s=wI(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function wI(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var xE={symbolCircle:kj,symbolCross:I9,symbolDiamond:B9,symbolSquare:$9,symbolStar:U9,symbolTriangle:V9,symbolWye:W9},SI=Math.PI/180,AI=e=>{var n="symbol".concat(Ju(e));return xE[n]||kj},CI=(e,n,a)=>{if(n==="area")return e;switch(a){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*SI;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},MI=(e,n)=>{xE["symbol".concat(Ju(e))]=n},zp=e=>{var{type:n="circle",size:a=64,sizeType:r="area"}=e,s=NI(e,yI),l=EA(EA({},s),{},{type:n,size:a,sizeType:r}),c="circle";typeof n=="string"&&(c=n);var d=()=>{var y=AI(c),v=Y9().type(y).size(CI(a,r,c)),j=v();if(j!==null)return j},{className:m,cx:f,cy:h}=l,g=Pn(l);return ze(f)&&ze(h)&&ze(a)?x.createElement("path",db({},g,{className:ot("recharts-symbols",m),transform:"translate(".concat(f,", ").concat(h,")"),d:d()})):null};zp.registerSymbol=MI;var gE=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Lj=(e,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(x.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var r={};return Object.keys(a).forEach(s=>{Dj(s)&&(r[s]=(l=>a[s](a,l)))}),r},DI=(e,n,a)=>r=>(e(n,a,r),null),ks=(e,n,a)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(s=>{var l=e[s];Dj(s)&&typeof l=="function"&&(r||(r={}),r[s]=DI(l,n,a))}),r},EI=e=>Array.isArray(e)&&e.length>0;function OA(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function OI(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?OA(Object(a),!0).forEach(function(r){PI(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):OA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function PI(e,n,a){return(n=kI(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function kI(e){var n=RI(e,"string");return typeof n=="symbol"?n:n+""}function RI(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Lt(e,n){var a=OI({},e),r=n,s=Object.keys(n),l=s.reduce((c,d)=>(c[d]===void 0&&r[d]!==void 0&&(c[d]=r[d]),c),a);return l}function Th(){return Th=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Th.apply(null,arguments)}function PA(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function _I(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?PA(Object(a),!0).forEach(function(r){TI(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):PA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function TI(e,n,a){return(n=LI(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function LI(e){var n=II(e,"string");return typeof n=="symbol"?n:n+""}function II(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var Or=32,zI={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function BI(e){var{data:n,iconType:a,inactiveColor:r}=e,s=Or/2,l=Or/6,c=Or/3,d=n.inactive?r:n.color,m=a??n.type;if(m==="none")return null;if(m==="plainline"){var f;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(f=n.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:s,x2:Or,y2:s,className:"recharts-legend-icon"})}if(m==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(Or,"M").concat(2*c,",").concat(s,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(m==="rect")return x.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Or/8,"h").concat(Or,"v").concat(Or*3/4,"h").concat(-Or,"z"),className:"recharts-legend-icon"});if(x.isValidElement(n.legendIcon)){var h=_I({},n);return delete h.legendIcon,x.cloneElement(n.legendIcon,h)}return x.createElement(zp,{fill:d,cx:s,cy:s,size:Or,sizeType:"diameter",type:m})}function $I(e){var{payload:n,iconSize:a,layout:r,formatter:s,inactiveColor:l,iconType:c}=e,d={x:0,y:0,width:Or,height:Or},m={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((h,g)=>{var y=h.formatter||s,v=ot({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:h.inactive});if(h.type==="none")return null;var j=h.inactive?l:h.color,b=y?y(h.value,h,g):h.value;return x.createElement("li",Th({className:v,style:m,key:"legend-item-".concat(g)},ks(e,h,g)),x.createElement(Ej,{width:a,height:a,viewBox:d,style:f,"aria-label":"".concat(b," legend icon")},x.createElement(BI,{data:h,iconType:c,inactiveColor:l})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},b))})}var FI=e=>{var n=Lt(e,zI),{payload:a,layout:r,align:s}=n;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:r==="horizontal"?s:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:l},x.createElement($I,Th({},n,{payload:a})))},iy={},ly={},kA;function qI(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(a,r){const s=new Map;for(let l=0;l<a.length;l++){const c=a[l],d=r(c);s.has(d)||s.set(d,c)}return Array.from(s.values())}e.uniqBy=n})(ly)),ly}var oy={},RA;function Bp(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(a){return a}e.identity=n})(oy)),oy}var cy={},dy={},uy={},_A;function HI(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(a){return Number.isSafeInteger(a)&&a>=0}e.isLength=n})(uy)),uy}var TA;function Ij(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=HI();function a(r){return r!=null&&typeof r!="function"&&n.isLength(r.length)}e.isArrayLike=a})(dy)),dy}var my={},LA;function UI(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(a){return typeof a=="object"&&a!==null}e.isObjectLike=n})(my)),my}var IA;function VI(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=Ij(),a=UI();function r(s){return a.isObjectLike(s)&&n.isArrayLike(s)}e.isArrayLikeObject=r})(cy)),cy}var fy={},hy={},zA;function KI(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=Tj();function a(r){return function(s){return n.get(s,r)}}e.property=a})(hy)),hy}var py={},xy={},gy={},yy={},BA;function yE(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(a){return a!==null&&(typeof a=="object"||typeof a=="function")}e.isObject=n})(yy)),yy}var vy={},$A;function vE(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(a){return a==null||typeof a!="object"&&typeof a!="function"}e.isPrimitive=n})(vy)),vy}var by={},FA;function bE(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(a,r){return a===r||Number.isNaN(a)&&Number.isNaN(r)}e.eq=n})(by)),by}var qA;function WI(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=yE(),a=vE(),r=bE();function s(h,g,y){return typeof y!="function"?s(h,g,()=>{}):l(h,g,function v(j,b,w,M,S,A){const E=y(j,b,w,M,S,A);return E!==void 0?!!E:l(j,b,v,A)},new Map)}function l(h,g,y,v){if(g===h)return!0;switch(typeof g){case"object":return c(h,g,y,v);case"function":return Object.keys(g).length>0?l(h,{...g},y,v):r.eq(h,g);default:return n.isObject(h)?typeof g=="string"?g==="":!0:r.eq(h,g)}}function c(h,g,y,v){if(g==null)return!0;if(Array.isArray(g))return m(h,g,y,v);if(g instanceof Map)return d(h,g,y,v);if(g instanceof Set)return f(h,g,y,v);const j=Object.keys(g);if(h==null)return j.length===0;if(j.length===0)return!0;if(v?.has(g))return v.get(g)===h;v?.set(g,h);try{for(let b=0;b<j.length;b++){const w=j[b];if(!a.isPrimitive(h)&&!(w in h)||g[w]===void 0&&h[w]!==void 0||g[w]===null&&h[w]!==null||!y(h[w],g[w],w,h,g,v))return!1}return!0}finally{v?.delete(g)}}function d(h,g,y,v){if(g.size===0)return!0;if(!(h instanceof Map))return!1;for(const[j,b]of g.entries()){const w=h.get(j);if(y(w,b,j,h,g,v)===!1)return!1}return!0}function m(h,g,y,v){if(g.length===0)return!0;if(!Array.isArray(h))return!1;const j=new Set;for(let b=0;b<g.length;b++){const w=g[b];let M=!1;for(let S=0;S<h.length;S++){if(j.has(S))continue;const A=h[S];let E=!1;if(y(A,w,b,h,g,v)&&(E=!0),E){j.add(S),M=!0;break}}if(!M)return!1}return!0}function f(h,g,y,v){return g.size===0?!0:h instanceof Set?m([...h],[...g],y,v):!1}e.isMatchWith=s,e.isSetMatch=f})(gy)),gy}var HA;function jE(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=WI();function a(r,s){return n.isMatchWith(r,s,()=>{})}e.isMatch=a})(xy)),xy}var jy={},Ny={},wy={},UA;function YI(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(a){return Object.getOwnPropertySymbols(a).filter(r=>Object.prototype.propertyIsEnumerable.call(a,r))}e.getSymbols=n})(wy)),wy}var Sy={},VA;function NE(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}e.getTag=n})(Sy)),Sy}var Ay={},KA;function wE(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n="[object RegExp]",a="[object String]",r="[object Number]",s="[object Boolean]",l="[object Arguments]",c="[object Symbol]",d="[object Date]",m="[object Map]",f="[object Set]",h="[object Array]",g="[object Function]",y="[object ArrayBuffer]",v="[object Object]",j="[object Error]",b="[object DataView]",w="[object Uint8Array]",M="[object Uint8ClampedArray]",S="[object Uint16Array]",A="[object Uint32Array]",E="[object BigUint64Array]",D="[object Int8Array]",P="[object Int16Array]",T="[object Int32Array]",O="[object BigInt64Array]",k="[object Float32Array]",B="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=y,e.arrayTag=h,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=E,e.booleanTag=s,e.dataViewTag=b,e.dateTag=d,e.errorTag=j,e.float32ArrayTag=k,e.float64ArrayTag=B,e.functionTag=g,e.int16ArrayTag=P,e.int32ArrayTag=T,e.int8ArrayTag=D,e.mapTag=m,e.numberTag=r,e.objectTag=v,e.regexpTag=n,e.setTag=f,e.stringTag=a,e.symbolTag=c,e.uint16ArrayTag=S,e.uint32ArrayTag=A,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=M})(Ay)),Ay}var Cy={},WA;function GI(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}e.isTypedArray=n})(Cy)),Cy}var YA;function SE(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=YI(),a=NE(),r=wE(),s=vE(),l=GI();function c(h,g){return d(h,void 0,h,new Map,g)}function d(h,g,y,v=new Map,j=void 0){const b=j?.(h,g,y,v);if(b!==void 0)return b;if(s.isPrimitive(h))return h;if(v.has(h))return v.get(h);if(Array.isArray(h)){const w=new Array(h.length);v.set(h,w);for(let M=0;M<h.length;M++)w[M]=d(h[M],M,y,v,j);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;v.set(h,w);for(const[M,S]of h)w.set(M,d(S,M,y,v,j));return w}if(h instanceof Set){const w=new Set;v.set(h,w);for(const M of h)w.add(d(M,void 0,y,v,j));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);v.set(h,w);for(let M=0;M<h.length;M++)w[M]=d(h[M],M,y,v,j);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return v.set(h,w),m(w,h,y,v,j),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return v.set(h,w),m(w,h,y,v,j),w}if(typeof Blob<"u"&&h instanceof Blob){const w=new Blob([h],{type:h.type});return v.set(h,w),m(w,h,y,v,j),w}if(h instanceof Error){const w=new h.constructor;return v.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,m(w,h,y,v,j),w}if(h instanceof Boolean){const w=new Boolean(h.valueOf());return v.set(h,w),m(w,h,y,v,j),w}if(h instanceof Number){const w=new Number(h.valueOf());return v.set(h,w),m(w,h,y,v,j),w}if(h instanceof String){const w=new String(h.valueOf());return v.set(h,w),m(w,h,y,v,j),w}if(typeof h=="object"&&f(h)){const w=Object.create(Object.getPrototypeOf(h));return v.set(h,w),m(w,h,y,v,j),w}return h}function m(h,g,y=h,v,j){const b=[...Object.keys(g),...n.getSymbols(g)];for(let w=0;w<b.length;w++){const M=b[w],S=Object.getOwnPropertyDescriptor(h,M);(S==null||S.writable)&&(h[M]=d(g[M],M,y,v,j))}}function f(h){switch(a.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=d,e.copyProperties=m})(Ny)),Ny}var GA;function ZI(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=SE();function a(r){return n.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=a})(jy)),jy}var ZA;function XI(){return ZA||(ZA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=jE(),a=ZI();function r(s){return s=a.cloneDeep(s),l=>n.isMatch(l,s)}e.matches=r})(py)),py}var My={},Dy={},Ey={},XA;function QI(){return XA||(XA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=SE(),a=wE();function r(s,l){return n.cloneDeepWith(s,(c,d,m,f)=>{const h=l?.(c,d,m,f);if(h!==void 0)return h;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case a.numberTag:case a.stringTag:case a.booleanTag:{const g=new s.constructor(s?.valueOf());return n.copyProperties(g,s),g}case a.argumentsTag:{const g={};return n.copyProperties(g,s),g.length=s.length,g[Symbol.iterator]=s[Symbol.iterator],g}default:return}})}e.cloneDeepWith=r})(Ey)),Ey}var QA;function JI(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=QI();function a(r){return n.cloneDeepWith(r)}e.cloneDeep=a})(Dy)),Dy}var Oy={},Py={},JA;function AE(){return JA||(JA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=/^(?:0|[1-9]\d*)$/;function a(r,s=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<s;case"symbol":return!1;case"string":return n.test(r)}}e.isIndex=a})(Py)),Py}var ky={},eC;function ez(){return eC||(eC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=NE();function a(r){return r!==null&&typeof r=="object"&&n.getTag(r)==="[object Arguments]"}e.isArguments=a})(ky)),ky}var tC;function tz(){return tC||(tC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=fE(),a=AE(),r=ez(),s=_j();function l(c,d){let m;if(Array.isArray(d)?m=d:typeof d=="string"&&n.isDeepKey(d)&&c?.[d]==null?m=s.toPath(d):m=[d],m.length===0)return!1;let f=c;for(let h=0;h<m.length;h++){const g=m[h];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||r.isArguments(f))&&a.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}e.has=l})(Oy)),Oy}var nC;function nz(){return nC||(nC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=jE(),a=Rj(),r=JI(),s=Tj(),l=tz();function c(d,m){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=a.toKey(d);break}}return m=r.cloneDeep(m),function(f){const h=s.get(f,d);return h===void 0?l.has(f,d):m===void 0?h===void 0:n.isMatch(h,m)}}e.matchesProperty=c})(My)),My}var aC;function zj(){return aC||(aC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=Bp(),a=KI(),r=XI(),s=nz();function l(c){if(c==null)return n.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return a.property(c)}}e.iteratee=l})(fy)),fy}var rC;function az(){return rC||(rC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=qI(),a=Bp(),r=VI(),s=zj();function l(c,d=a.identity){return r.isArrayLikeObject(c)?n.uniqBy(Array.from(c),s.iteratee(d)):[]}e.uniqBy=l})(iy)),iy}var Ry,sC;function rz(){return sC||(sC=1,Ry=az().uniqBy),Ry}var sz=rz();const iC=$r(sz);function CE(e,n,a){return n===!0?iC(e,a):typeof n=="function"?iC(e,n):e}var _y={exports:{}},Ty={},Ly={exports:{}},Iy={};var lC;function iz(){if(lC)return Iy;lC=1;var e=Ep();function n(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var a=typeof Object.is=="function"?Object.is:n,r=e.useState,s=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function d(g,y){var v=y(),j=r({inst:{value:v,getSnapshot:y}}),b=j[0].inst,w=j[1];return l(function(){b.value=v,b.getSnapshot=y,m(b)&&w({inst:b})},[g,v,y]),s(function(){return m(b)&&w({inst:b}),g(function(){m(b)&&w({inst:b})})},[g]),c(v),v}function m(g){var y=g.getSnapshot;g=g.value;try{var v=y();return!a(g,v)}catch{return!0}}function f(g,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return Iy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Iy}var oC;function lz(){return oC||(oC=1,Ly.exports=iz()),Ly.exports}var cC;function oz(){if(cC)return Ty;cC=1;var e=Ep(),n=lz();function a(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:a,s=n.useSyncExternalStore,l=e.useRef,c=e.useEffect,d=e.useMemo,m=e.useDebugValue;return Ty.useSyncExternalStoreWithSelector=function(f,h,g,y,v){var j=l(null);if(j.current===null){var b={hasValue:!1,value:null};j.current=b}else b=j.current;j=d(function(){function M(P){if(!S){if(S=!0,A=P,P=y(P),v!==void 0&&b.hasValue){var T=b.value;if(v(T,P))return E=T}return E=P}if(T=E,r(A,P))return T;var O=y(P);return v!==void 0&&v(T,O)?(A=P,T):(A=P,E=O)}var S=!1,A,E,D=g===void 0?null:g;return[function(){return M(h())},D===null?void 0:function(){return M(D())}]},[h,g,y,v]);var w=s(f,j[0],j[1]);return c(function(){b.hasValue=!0,b.value=w},[w]),m(w),w},Ty}var dC;function cz(){return dC||(dC=1,_y.exports=oz()),_y.exports}var dz=cz(),Bj=x.createContext(null),uz=e=>e,Ut=()=>{var e=x.useContext(Bj);return e?e.store.dispatch:uz},bh=()=>{},mz=()=>bh,fz=(e,n)=>e===n;function Pe(e){var n=x.useContext(Bj);return dz.useSyncExternalStoreWithSelector(n?n.subscription.addNestedSub:mz,n?n.store.getState:bh,n?n.store.getState:bh,n?e:bh,fz)}function hz(e,n=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(n)}function pz(e,n=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(n)}function xz(e,n="expected all items to be functions, instead received the following types: "){if(!e.every(a=>typeof a=="function")){const a=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${n}[${a}]`)}}var uC=e=>Array.isArray(e)?e:[e];function gz(e){const n=Array.isArray(e[0])?e[0]:e;return xz(n,"createSelector expects all input-selectors to be functions, but received the following types: "),n}function yz(e,n){const a=[],{length:r}=e;for(let s=0;s<r;s++)a.push(e[s].apply(null,n));return a}var vz=class{constructor(e){this.value=e}deref(){return this.value}},bz=typeof WeakRef<"u"?WeakRef:vz,jz=0,mC=1;function Gf(){return{s:jz,v:void 0,o:null,p:null}}function ME(e,n={}){let a=Gf();const{resultEqualityCheck:r}=n;let s,l=0;function c(){let d=a;const{length:m}=arguments;for(let g=0,y=m;g<y;g++){const v=arguments[g];if(typeof v=="function"||typeof v=="object"&&v!==null){let j=d.o;j===null&&(d.o=j=new WeakMap);const b=j.get(v);b===void 0?(d=Gf(),j.set(v,d)):d=b}else{let j=d.p;j===null&&(d.p=j=new Map);const b=j.get(v);b===void 0?(d=Gf(),j.set(v,d)):d=b}}const f=d;let h;if(d.s===mC)h=d.v;else if(h=e.apply(null,arguments),l++,r){const g=s?.deref?.()??s;g!=null&&r(g,h)&&(h=g,l!==0&&l--),s=typeof h=="object"&&h!==null||typeof h=="function"?new bz(h):h}return f.s=mC,f.v=h,h}return c.clearCache=()=>{a=Gf(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function Nz(e,...n){const a=typeof e=="function"?{memoize:e,memoizeOptions:n}:e,r=(...s)=>{let l=0,c=0,d,m={},f=s.pop();typeof f=="object"&&(m=f,f=s.pop()),hz(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...a,...m},{memoize:g,memoizeOptions:y=[],argsMemoize:v=ME,argsMemoizeOptions:j=[]}=h,b=uC(y),w=uC(j),M=gz(s),S=g(function(){return l++,f.apply(null,arguments)},...b),A=v(function(){c++;const D=yz(M,arguments);return d=S.apply(null,D),d},...w);return Object.assign(A,{resultFunc:f,memoizedResultFunc:S,dependencies:M,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:g,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var te=Nz(ME),wz=Object.assign((e,n=te)=>{pz(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const a=Object.keys(e),r=a.map(l=>e[l]);return n(r,(...l)=>l.reduce((c,d,m)=>(c[a[m]]=d,c),{}))},{withTypes:()=>wz}),zy={},By={},$y={},fC;function Sz(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const a=(r,s,l)=>{if(r!==s){const c=n(r),d=n(s);if(c===d&&c===0){if(r<s)return l==="desc"?1:-1;if(r>s)return l==="desc"?-1:1}return l==="desc"?d-c:c-d}return 0};e.compareValues=a})($y)),$y}var Fy={},qy={},hC;function DE(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(a){return typeof a=="symbol"||a instanceof Symbol}e.isSymbol=n})(qy)),qy}var pC;function Az(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=DE(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||n.isSymbol(l)?!0:typeof l=="string"&&(r.test(l)||!a.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=s})(Fy)),Fy}var xC;function Cz(){return xC||(xC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=Sz(),a=Az(),r=_j();function s(l,c,d,m){if(l==null)return[];d=m?void 0:d,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(v=>String(v));const f=(v,j)=>{let b=v;for(let w=0;w<j.length&&b!=null;++w)b=b[j[w]];return b},h=(v,j)=>j==null||v==null?j:typeof v=="object"&&"key"in v?Object.hasOwn(j,v.key)?j[v.key]:f(j,v.path):typeof v=="function"?v(j):Array.isArray(v)?f(j,v):typeof j=="object"?j[v]:j,g=c.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||a.isKey(v)?v:{key:v,path:r.toPath(v)}));return l.map(v=>({original:v,criteria:g.map(j=>h(j,v))})).slice().sort((v,j)=>{for(let b=0;b<g.length;b++){const w=n.compareValues(v.criteria[b],j.criteria[b],d[b]);if(w!==0)return w}return 0}).map(v=>v.original)}e.orderBy=s})(By)),By}var Hy={},gC;function Mz(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(a,r=1){const s=[],l=Math.floor(r),c=(d,m)=>{for(let f=0;f<d.length;f++){const h=d[f];Array.isArray(h)&&m<l?c(h,m+1):s.push(h)}};return c(a,0),s}e.flatten=n})(Hy)),Hy}var Uy={},yC;function EE(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=AE(),a=Ij(),r=yE(),s=bE();function l(c,d,m){return r.isObject(m)&&(typeof d=="number"&&a.isArrayLike(m)&&n.isIndex(d)&&d<m.length||typeof d=="string"&&d in m)?s.eq(m[d],c):!1}e.isIterateeCall=l})(Uy)),Uy}var vC;function Dz(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=Cz(),a=Mz(),r=EE();function s(l,...c){const d=c.length;return d>1&&r.isIterateeCall(l,c[0],c[1])?c=[]:d>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),n.orderBy(l,a.flatten(c),["asc"])}e.sortBy=s})(zy)),zy}var Vy,bC;function Ez(){return bC||(bC=1,Vy=Dz().sortBy),Vy}var Oz=Ez();const $p=$r(Oz);var OE=e=>e.legend.settings,Pz=e=>e.legend.size,kz=e=>e.legend.payload,Rz=te([kz,OE],(e,n)=>{var{itemSorter:a}=n,r=e.flat(1);return a?$p(r,a):r});function _z(){return Pe(Rz)}var Zf=1;function PE(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[n,a]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(s=>{if(s!=null){var l=s.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-n.height)>Zf||Math.abs(c.left-n.left)>Zf||Math.abs(c.top-n.top)>Zf||Math.abs(c.width-n.width)>Zf)&&a({height:c.height,left:c.left,top:c.top,width:c.width})}},[n.width,n.height,n.top,n.left,...e]);return[n,r]}function ma(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Tz=typeof Symbol=="function"&&Symbol.observable||"@@observable",jC=Tz,Ky=()=>Math.random().toString(36).substring(7).split("").join("."),Lz={INIT:`@@redux/INIT${Ky()}`,REPLACE:`@@redux/REPLACE${Ky()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ky()}`},Lh=Lz;function $j(e){if(typeof e!="object"||e===null)return!1;let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n||Object.getPrototypeOf(e)===null}function kE(e,n,a){if(typeof e!="function")throw new Error(ma(2));if(typeof n=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(ma(0));if(typeof n=="function"&&typeof a>"u"&&(a=n,n=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(ma(1));return a(kE)(e,n)}let r=e,s=n,l=new Map,c=l,d=0,m=!1;function f(){c===l&&(c=new Map,l.forEach((w,M)=>{c.set(M,w)}))}function h(){if(m)throw new Error(ma(3));return s}function g(w){if(typeof w!="function")throw new Error(ma(4));if(m)throw new Error(ma(5));let M=!0;f();const S=d++;return c.set(S,w),function(){if(M){if(m)throw new Error(ma(6));M=!1,f(),c.delete(S),l=null}}}function y(w){if(!$j(w))throw new Error(ma(7));if(typeof w.type>"u")throw new Error(ma(8));if(typeof w.type!="string")throw new Error(ma(17));if(m)throw new Error(ma(9));try{m=!0,s=r(s,w)}finally{m=!1}return(l=c).forEach(S=>{S()}),w}function v(w){if(typeof w!="function")throw new Error(ma(10));r=w,y({type:Lh.REPLACE})}function j(){const w=g;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error(ma(11));function S(){const E=M;E.next&&E.next(h())}return S(),{unsubscribe:w(S)}},[jC](){return this}}}return y({type:Lh.INIT}),{dispatch:y,subscribe:g,getState:h,replaceReducer:v,[jC]:j}}function Iz(e){Object.keys(e).forEach(n=>{const a=e[n];if(typeof a(void 0,{type:Lh.INIT})>"u")throw new Error(ma(12));if(typeof a(void 0,{type:Lh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ma(13))})}function RE(e){const n=Object.keys(e),a={};for(let l=0;l<n.length;l++){const c=n[l];typeof e[c]=="function"&&(a[c]=e[c])}const r=Object.keys(a);let s;try{Iz(a)}catch(l){s=l}return function(c={},d){if(s)throw s;let m=!1;const f={};for(let h=0;h<r.length;h++){const g=r[h],y=a[g],v=c[g],j=y(v,d);if(typeof j>"u")throw d&&d.type,new Error(ma(14));f[g]=j,m=m||j!==v}return m=m||r.length!==Object.keys(c).length,m?f:c}}function Ih(...e){return e.length===0?n=>n:e.length===1?e[0]:e.reduce((n,a)=>(...r)=>n(a(...r)))}function zz(...e){return n=>(a,r)=>{const s=n(a,r);let l=()=>{throw new Error(ma(15))};const c={getState:s.getState,dispatch:(m,...f)=>l(m,...f)},d=e.map(m=>m(c));return l=Ih(...d)(s.dispatch),{...s,dispatch:l}}}function _E(e){return $j(e)&&"type"in e&&typeof e.type=="string"}var TE=Symbol.for("immer-nothing"),NC=Symbol.for("immer-draftable"),Aa=Symbol.for("immer-state");function Zr(e,...n){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var lr=Object,Pc=lr.getPrototypeOf,zh="constructor",Fp="prototype",ub="configurable",Bh="enumerable",jh="writable",Ou="value",ji=e=>!!e&&!!e[Aa];function Ms(e){return e?LE(e)||qp(e)||!!e[NC]||!!e[zh]?.[NC]||Hp(e)||Up(e):!1}var Bz=lr[Fp][zh].toString(),wC=new WeakMap;function LE(e){if(!e||!Fj(e))return!1;const n=Pc(e);if(n===null||n===lr[Fp])return!0;const a=lr.hasOwnProperty.call(n,zh)&&n[zh];if(a===Object)return!0;if(!jc(a))return!1;let r=wC.get(a);return r===void 0&&(r=Function.toString.call(a),wC.set(a,r)),r===Bz}function tm(e,n,a=!0){nm(e)===0?(a?Reflect.ownKeys(e):lr.keys(e)).forEach(s=>{n(s,e[s],e)}):e.forEach((r,s)=>n(s,r,e))}function nm(e){const n=e[Aa];return n?n.type_:qp(e)?1:Hp(e)?2:Up(e)?3:0}var SC=(e,n,a=nm(e))=>a===2?e.has(n):lr[Fp].hasOwnProperty.call(e,n),mb=(e,n,a=nm(e))=>a===2?e.get(n):e[n],$h=(e,n,a,r=nm(e))=>{r===2?e.set(n,a):r===3?e.add(a):e[n]=a};function $z(e,n){return e===n?e!==0||1/e===1/n:e!==e&&n!==n}var qp=Array.isArray,Hp=e=>e instanceof Map,Up=e=>e instanceof Set,Fj=e=>typeof e=="object",jc=e=>typeof e=="function",Wy=e=>typeof e=="boolean",ri=e=>e.copy_||e.base_,qj=e=>e.modified_?e.copy_:e.base_;function fb(e,n){if(Hp(e))return new Map(e);if(Up(e))return new Set(e);if(qp(e))return Array[Fp].slice.call(e);const a=LE(e);if(n===!0||n==="class_only"&&!a){const r=lr.getOwnPropertyDescriptors(e);delete r[Aa];let s=Reflect.ownKeys(r);for(let l=0;l<s.length;l++){const c=s[l],d=r[c];d[jh]===!1&&(d[jh]=!0,d[ub]=!0),(d.get||d.set)&&(r[c]={[ub]:!0,[jh]:!0,[Bh]:d[Bh],[Ou]:e[c]})}return lr.create(Pc(e),r)}else{const r=Pc(e);if(r!==null&&a)return{...e};const s=lr.create(r);return lr.assign(s,e)}}function Hj(e,n=!1){return Vp(e)||ji(e)||(nm(e)>1&&lr.defineProperties(e,{set:Xf,add:Xf,clear:Xf,delete:Xf}),lr.freeze(e),n&&tm(e,(a,r)=>{Hj(r,!0)},!1)),e}function Fz(){Zr(2)}var Xf={[Ou]:Fz};function Vp(e){return e===null||!Fj(e)?!0:lr.isFrozen(e)}var Fh="MapSet",hb="Patches",IE={};function kc(e){const n=IE[e];return n||Zr(0,e),n}var qz=e=>!!IE[e],Pu,zE=()=>Pu,Hz=(e,n)=>({drafts_:[],parent_:e,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:qz(Fh)?kc(Fh):void 0});function AC(e,n){n&&(e.patchPlugin_=kc(hb),e.patches_=[],e.inversePatches_=[],e.patchListener_=n)}function pb(e){xb(e),e.drafts_.forEach(Uz),e.drafts_=null}function xb(e){e===Pu&&(Pu=e.parent_)}var CC=e=>Pu=Hz(Pu,e);function Uz(e){const n=e[Aa];n.type_===0||n.type_===1?n.revoke_():n.revoked_=!0}function MC(e,n){n.unfinalizedDrafts_=n.drafts_.length;const a=n.drafts_[0];if(e!==void 0&&e!==a){a[Aa].modified_&&(pb(n),Zr(4)),Ms(e)&&(e=DC(n,e));const{patchPlugin_:s}=n;s&&s.generateReplacementPatches_(a[Aa].base_,e,n)}else e=DC(n,a);return Vz(n,e,!0),pb(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),e!==TE?e:void 0}function DC(e,n){if(Vp(n))return n;const a=n[Aa];if(!a)return Uj(n,e.handledSet_,e);if(!Kp(a,e))return n;if(!a.modified_)return a.base_;if(!a.finalized_){const{callbacks_:r}=a;if(r)for(;r.length>0;)r.pop()(e);FE(a,e)}return a.copy_}function Vz(e,n,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Hj(n,a)}function BE(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Kp=(e,n)=>e.scope_===n,Kz=[];function $E(e,n,a,r){const s=ri(e),l=e.type_;if(r!==void 0&&mb(s,r,l)===n){$h(s,r,a,l);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;tm(s,(m,f)=>{if(ji(f)){const h=d.get(f)||[];h.push(m),d.set(f,h)}})}const c=e.draftLocations_.get(n)??Kz;for(const d of c)$h(s,d,a,l)}function Wz(e,n,a){e.callbacks_.push(function(s){const l=n;if(!l||!Kp(l,s))return;s.mapSetPlugin_?.fixSetContents(l);const c=qj(l);$E(e,l.draft_??l,c,a),FE(l,s)})}function FE(e,n){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=n;if(r){const s=r.getPath(e);s&&r.generatePatches_(e,s,n)}BE(e)}}function Yz(e,n,a){const{scope_:r}=e;if(ji(a)){const s=a[Aa];Kp(s,r)&&s.callbacks_.push(function(){Nh(e);const c=qj(s);$E(e,a,c,n)})}else Ms(a)&&e.callbacks_.push(function(){const l=ri(e);mb(l,n,e.type_)===a&&r.drafts_.length>1&&(e.assigned_.get(n)??!1)===!0&&e.copy_&&Uj(mb(e.copy_,n,e.type_),r.handledSet_,r)})}function Uj(e,n,a){return!a.immer_.autoFreeze_&&a.unfinalizedDrafts_<1||ji(e)||n.has(e)||!Ms(e)||Vp(e)||(n.add(e),tm(e,(r,s)=>{if(ji(s)){const l=s[Aa];if(Kp(l,a)){const c=qj(l);$h(e,r,c,e.type_),BE(l)}}else Ms(s)&&Uj(s,n,a)})),e}function Gz(e,n){const a=qp(e),r={type_:a?1:0,scope_:n?n.scope_:zE(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:n,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=r,l=Vj;a&&(s=[r],l=ku);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return r.draft_=d,r.revoke_=c,[d,r]}var Vj={get(e,n){if(n===Aa)return e;const a=ri(e);if(!SC(a,n,e.type_))return Zz(e,a,n);const r=a[n];if(e.finalized_||!Ms(r))return r;if(r===Yy(e.base_,n)){Nh(e);const s=e.type_===1?+n:n,l=yb(e.scope_,r,e,s);return e.copy_[s]=l}return r},has(e,n){return n in ri(e)},ownKeys(e){return Reflect.ownKeys(ri(e))},set(e,n,a){const r=qE(ri(e),n);if(r?.set)return r.set.call(e.draft_,a),!0;if(!e.modified_){const s=Yy(ri(e),n),l=s?.[Aa];if(l&&l.base_===a)return e.copy_[n]=a,e.assigned_.set(n,!1),!0;if($z(a,s)&&(a!==void 0||SC(e.base_,n,e.type_)))return!0;Nh(e),gb(e)}return e.copy_[n]===a&&(a!==void 0||n in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[n])||(e.copy_[n]=a,e.assigned_.set(n,!0),Yz(e,n,a)),!0},deleteProperty(e,n){return Nh(e),Yy(e.base_,n)!==void 0||n in e.base_?(e.assigned_.set(n,!1),gb(e)):e.assigned_.delete(n),e.copy_&&delete e.copy_[n],!0},getOwnPropertyDescriptor(e,n){const a=ri(e),r=Reflect.getOwnPropertyDescriptor(a,n);return r&&{[jh]:!0,[ub]:e.type_!==1||n!=="length",[Bh]:r[Bh],[Ou]:a[n]}},defineProperty(){Zr(11)},getPrototypeOf(e){return Pc(e.base_)},setPrototypeOf(){Zr(12)}},ku={};tm(Vj,(e,n)=>{ku[e]=function(){const a=arguments;return a[0]=a[0][0],n.apply(this,a)}});ku.deleteProperty=function(e,n){return ku.set.call(this,e,n,void 0)};ku.set=function(e,n,a){return Vj.set.call(this,e[0],n,a,e[0])};function Yy(e,n){const a=e[Aa];return(a?ri(a):e)[n]}function Zz(e,n,a){const r=qE(n,a);return r?Ou in r?r[Ou]:r.get?.call(e.draft_):void 0}function qE(e,n){if(!(n in e))return;let a=Pc(e);for(;a;){const r=Object.getOwnPropertyDescriptor(a,n);if(r)return r;a=Pc(a)}}function gb(e){e.modified_||(e.modified_=!0,e.parent_&&gb(e.parent_))}function Nh(e){e.copy_||(e.assigned_=new Map,e.copy_=fb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Xz=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(a,r,s)=>{if(jc(a)&&!jc(r)){const c=r;r=a;const d=this;return function(f=c,...h){return d.produce(f,g=>r.call(this,g,...h))}}jc(r)||Zr(6),s!==void 0&&!jc(s)&&Zr(7);let l;if(Ms(a)){const c=CC(this),d=yb(c,a,void 0);let m=!0;try{l=r(d),m=!1}finally{m?pb(c):xb(c)}return AC(c,s),MC(l,c)}else if(!a||!Fj(a)){if(l=r(a),l===void 0&&(l=a),l===TE&&(l=void 0),this.autoFreeze_&&Hj(l,!0),s){const c=[],d=[];kc(hb).generateReplacementPatches_(a,l,{patches_:c,inversePatches_:d}),s(c,d)}return l}else Zr(1,a)},this.produceWithPatches=(a,r)=>{if(jc(a))return(d,...m)=>this.produceWithPatches(d,f=>a(f,...m));let s,l;return[this.produce(a,r,(d,m)=>{s=d,l=m}),s,l]},Wy(n?.autoFreeze)&&this.setAutoFreeze(n.autoFreeze),Wy(n?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),Wy(n?.useStrictIteration)&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){Ms(n)||Zr(8),ji(n)&&(n=ns(n));const a=CC(this),r=yb(a,n,void 0);return r[Aa].isManual_=!0,xb(a),r}finishDraft(n,a){const r=n&&n[Aa];(!r||!r.isManual_)&&Zr(9);const{scope_:s}=r;return AC(s,a),MC(void 0,s)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,a){let r;for(r=a.length-1;r>=0;r--){const l=a[r];if(l.path.length===0&&l.op==="replace"){n=l.value;break}}r>-1&&(a=a.slice(r+1));const s=kc(hb).applyPatches_;return ji(n)?s(n,a):this.produce(n,l=>s(l,a))}};function yb(e,n,a,r){const[s,l]=Hp(n)?kc(Fh).proxyMap_(n,a):Up(n)?kc(Fh).proxySet_(n,a):Gz(n,a);return(a?.scope_??zE()).drafts_.push(s),l.callbacks_=a?.callbacks_??[],l.key_=r,a&&r!==void 0?Wz(a,l,r):l.callbacks_.push(function(m){m.mapSetPlugin_?.fixSetContents(l);const{patchPlugin_:f}=m;l.modified_&&f&&f.generatePatches_(l,[],m)}),s}function ns(e){return ji(e)||Zr(10,e),HE(e)}function HE(e){if(!Ms(e)||Vp(e))return e;const n=e[Aa];let a,r=!0;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,a=fb(e,n.scope_.immer_.useStrictShallowCopy_),r=n.scope_.immer_.shouldUseStrictIteration()}else a=fb(e,!0);return tm(a,(s,l)=>{$h(a,s,HE(l))},r),n&&(n.finalized_=!1),a}var Qz=new Xz,UE=Qz.produce;function VE(e){return({dispatch:a,getState:r})=>s=>l=>typeof l=="function"?l(a,r,e):s(l)}var Jz=VE(),eB=VE,tB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ih:Ih.apply(null,arguments)};function Lr(e,n){function a(...r){if(n){let s=n(...r);if(!s)throw new Error(or(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return a.toString=()=>`${e}`,a.type=e,a.match=r=>_E(r)&&r.type===e,a}var KE=class hu extends Array{constructor(...n){super(...n),Object.setPrototypeOf(this,hu.prototype)}static get[Symbol.species](){return hu}concat(...n){return super.concat.apply(this,n)}prepend(...n){return n.length===1&&Array.isArray(n[0])?new hu(...n[0].concat(this)):new hu(...n.concat(this))}};function EC(e){return Ms(e)?UE(e,()=>{}):e}function Qf(e,n,a){return e.has(n)?e.get(n):e.set(n,a(n)).get(n)}function nB(e){return typeof e=="boolean"}var aB=()=>function(n){const{thunk:a=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=n??{};let c=new KE;return a&&(nB(a)?c.push(Jz):c.push(eB(a.extraArgument))),c},WE="RTK_autoBatch",xn=()=>e=>({payload:e,meta:{[WE]:!0}}),OC=e=>n=>{setTimeout(n,e)},YE=(e={type:"raf"})=>n=>(...a)=>{const r=n(...a);let s=!0,l=!1,c=!1;const d=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:OC(10):e.type==="callback"?e.queueNotification:OC(e.timeout),f=()=>{c=!1,l&&(l=!1,d.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const g=()=>s&&h(),y=r.subscribe(g);return d.add(h),()=>{y(),d.delete(h)}},dispatch(h){try{return s=!h?.meta?.[WE],l=!s,l&&(c||(c=!0,m(f))),r.dispatch(h)}finally{s=!0}}})},rB=e=>function(a){const{autoBatch:r=!0}=a??{};let s=new KE(e);return r&&s.push(YE(typeof r=="object"?r:void 0)),s};function sB(e){const n=aB(),{reducer:a=void 0,middleware:r,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let d;if(typeof a=="function")d=a;else if($j(a))d=RE(a);else throw new Error(or(1));let m;typeof r=="function"?m=r(n):m=n();let f=Ih;s&&(f=tB({trace:!1,...typeof s=="object"&&s}));const h=zz(...m),g=rB(h);let y=typeof c=="function"?c(g):g();const v=f(...y);return kE(d,l,v)}function GE(e){const n={},a=[];let r;const s={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(or(28));if(d in n)throw new Error(or(29));return n[d]=c,s},addAsyncThunk(l,c){return c.pending&&(n[l.pending.type]=c.pending),c.rejected&&(n[l.rejected.type]=c.rejected),c.fulfilled&&(n[l.fulfilled.type]=c.fulfilled),c.settled&&a.push({matcher:l.settled,reducer:c.settled}),s},addMatcher(l,c){return a.push({matcher:l,reducer:c}),s},addDefaultCase(l){return r=l,s}};return e(s),[n,a,r]}function iB(e){return typeof e=="function"}function lB(e,n){let[a,r,s]=GE(n),l;if(iB(e))l=()=>EC(e());else{const d=EC(e);l=()=>d}function c(d=l(),m){let f=[a[m.type],...r.filter(({matcher:h})=>h(m)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[s]),f.reduce((h,g)=>{if(g)if(ji(h)){const v=g(h,m);return v===void 0?h:v}else{if(Ms(h))return UE(h,y=>g(y,m));{const y=g(h,m);if(y===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return h},d)}return c.getInitialState=l,c}var oB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",cB=(e=21)=>{let n="",a=e;for(;a--;)n+=oB[Math.random()*64|0];return n},dB=Symbol.for("rtk-slice-createasyncthunk");function uB(e,n){return`${e}/${n}`}function mB({creators:e}={}){const n=e?.asyncThunk?.[dB];return function(r){const{name:s,reducerPath:l=s}=r;if(!s)throw new Error(or(11));const c=(typeof r.reducers=="function"?r.reducers(hB()):r.reducers)||{},d=Object.keys(c),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(A,E){const D=typeof A=="string"?A:A.type;if(!D)throw new Error(or(12));if(D in m.sliceCaseReducersByType)throw new Error(or(13));return m.sliceCaseReducersByType[D]=E,f},addMatcher(A,E){return m.sliceMatchers.push({matcher:A,reducer:E}),f},exposeAction(A,E){return m.actionCreators[A]=E,f},exposeCaseReducer(A,E){return m.sliceCaseReducersByName[A]=E,f}};d.forEach(A=>{const E=c[A],D={reducerName:A,type:uB(s,A),createNotation:typeof r.reducers=="function"};xB(E)?yB(D,E,f,n):pB(D,E,f)});function h(){const[A={},E=[],D=void 0]=typeof r.extraReducers=="function"?GE(r.extraReducers):[r.extraReducers],P={...A,...m.sliceCaseReducersByType};return lB(r.initialState,T=>{for(let O in P)T.addCase(O,P[O]);for(let O of m.sliceMatchers)T.addMatcher(O.matcher,O.reducer);for(let O of E)T.addMatcher(O.matcher,O.reducer);D&&T.addDefaultCase(D)})}const g=A=>A,y=new Map,v=new WeakMap;let j;function b(A,E){return j||(j=h()),j(A,E)}function w(){return j||(j=h()),j.getInitialState()}function M(A,E=!1){function D(T){let O=T[A];return typeof O>"u"&&E&&(O=Qf(v,D,w)),O}function P(T=g){const O=Qf(y,E,()=>new WeakMap);return Qf(O,T,()=>{const k={};for(const[B,I]of Object.entries(r.selectors??{}))k[B]=fB(I,T,()=>Qf(v,T,w),E);return k})}return{reducerPath:A,getSelectors:P,get selectors(){return P(D)},selectSlice:D}}const S={name:s,reducer:b,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:w,...M(l),injectInto(A,{reducerPath:E,...D}={}){const P=E??l;return A.inject({reducerPath:P,reducer:b},D),{...S,...M(P,!0)}}};return S}}function fB(e,n,a,r){function s(l,...c){let d=n(l);return typeof d>"u"&&r&&(d=a()),e(d,...c)}return s.unwrapped=e,s}var Ya=mB();function hB(){function e(n,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:n,...a}}return e.withTypes=()=>e,{reducer(n){return Object.assign({[n.name](...a){return n(...a)}}[n.name],{_reducerDefinitionType:"reducer"})},preparedReducer(n,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:n,reducer:a}},asyncThunk:e}}function pB({type:e,reducerName:n,createNotation:a},r,s){let l,c;if("reducer"in r){if(a&&!gB(r))throw new Error(or(17));l=r.reducer,c=r.prepare}else l=r;s.addCase(e,l).exposeCaseReducer(n,l).exposeAction(n,c?Lr(e,c):Lr(e))}function xB(e){return e._reducerDefinitionType==="asyncThunk"}function gB(e){return e._reducerDefinitionType==="reducerWithPrepare"}function yB({type:e,reducerName:n},a,r,s){if(!s)throw new Error(or(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:m,settled:f,options:h}=a,g=s(e,l,h);r.exposeAction(n,g),c&&r.addCase(g.fulfilled,c),d&&r.addCase(g.pending,d),m&&r.addCase(g.rejected,m),f&&r.addMatcher(g.settled,f),r.exposeCaseReducer(n,{fulfilled:c||Jf,pending:d||Jf,rejected:m||Jf,settled:f||Jf})}function Jf(){}var vB="task",ZE="listener",XE="completed",Kj="cancelled",bB=`task-${Kj}`,jB=`task-${XE}`,vb=`${ZE}-${Kj}`,NB=`${ZE}-${XE}`,Wp=class{constructor(e){this.code=e,this.message=`${vB} ${Kj} (reason: ${e})`}name="TaskAbortError";message},Wj=(e,n)=>{if(typeof e!="function")throw new TypeError(or(32))},qh=()=>{},QE=(e,n=qh)=>(e.catch(n),e),JE=(e,n)=>(e.addEventListener("abort",n,{once:!0}),()=>e.removeEventListener("abort",n)),Ql=(e,n)=>{const a=e.signal;a.aborted||("reason"in a||Object.defineProperty(a,"reason",{enumerable:!0,value:n,configurable:!0,writable:!0}),e.abort(n))},Jl=e=>{if(e.aborted){const{reason:n}=e;throw new Wp(n)}};function eO(e,n){let a=qh;return new Promise((r,s)=>{const l=()=>s(new Wp(e.reason));if(e.aborted){l();return}a=JE(e,l),n.finally(()=>a()).then(r,s)}).finally(()=>{a=qh})}var wB=async(e,n)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(a){return{status:a instanceof Wp?"cancelled":"rejected",error:a}}finally{n?.()}},Hh=e=>n=>QE(eO(e,n).then(a=>(Jl(e),a))),tO=e=>{const n=Hh(e);return a=>n(new Promise(r=>setTimeout(r,a)))},{assign:Cc}=Object,PC={},Yp="listenerMiddleware",SB=(e,n)=>{const a=r=>JE(e,()=>Ql(r,e.reason));return(r,s)=>{Wj(r);const l=new AbortController;a(l);const c=wB(async()=>{Jl(e),Jl(l.signal);const d=await r({pause:Hh(l.signal),delay:tO(l.signal),signal:l.signal});return Jl(l.signal),d},()=>Ql(l,jB));return s?.autoJoin&&n.push(c.catch(qh)),{result:Hh(e)(c),cancel(){Ql(l,bB)}}}},AB=(e,n)=>{const a=async(r,s)=>{Jl(n);let l=()=>{};const d=[new Promise((m,f)=>{let h=e({predicate:r,effect:(g,y)=>{y.unsubscribe(),m([g,y.getState(),y.getOriginalState()])}});l=()=>{h(),f()}})];s!=null&&d.push(new Promise(m=>setTimeout(m,s,null)));try{const m=await eO(n,Promise.race(d));return Jl(n),m}finally{l()}};return(r,s)=>QE(a(r,s))},nO=e=>{let{type:n,actionCreator:a,matcher:r,predicate:s,effect:l}=e;if(n)s=Lr(n).match;else if(a)n=a.type,s=a.match;else if(r)s=r;else if(!s)throw new Error(or(21));return Wj(l),{predicate:s,type:n,effect:l}},aO=Cc(e=>{const{type:n,predicate:a,effect:r}=nO(e);return{id:cB(),effect:r,type:n,predicate:a,pending:new Set,unsubscribe:()=>{throw new Error(or(22))}}},{withTypes:()=>aO}),kC=(e,n)=>{const{type:a,effect:r,predicate:s}=nO(n);return Array.from(e.values()).find(l=>(typeof a=="string"?l.type===a:l.predicate===s)&&l.effect===r)},bb=e=>{e.pending.forEach(n=>{Ql(n,vb)})},CB=(e,n)=>()=>{for(const a of n.keys())bb(a);e.clear()},RC=(e,n,a)=>{try{e(n,a)}catch(r){setTimeout(()=>{throw r},0)}},rO=Cc(Lr(`${Yp}/add`),{withTypes:()=>rO}),MB=Lr(`${Yp}/removeAll`),sO=Cc(Lr(`${Yp}/remove`),{withTypes:()=>sO}),DB=(...e)=>{console.error(`${Yp}/error`,...e)},am=(e={})=>{const n=new Map,a=new Map,r=v=>{const j=a.get(v)??0;a.set(v,j+1)},s=v=>{const j=a.get(v)??1;j===1?a.delete(v):a.set(v,j-1)},{extra:l,onError:c=DB}=e;Wj(c);const d=v=>(v.unsubscribe=()=>n.delete(v.id),n.set(v.id,v),j=>{v.unsubscribe(),j?.cancelActive&&bb(v)}),m=v=>{const j=kC(n,v)??aO(v);return d(j)};Cc(m,{withTypes:()=>m});const f=v=>{const j=kC(n,v);return j&&(j.unsubscribe(),v.cancelActive&&bb(j)),!!j};Cc(f,{withTypes:()=>f});const h=async(v,j,b,w)=>{const M=new AbortController,S=AB(m,M.signal),A=[];try{v.pending.add(M),r(v),await Promise.resolve(v.effect(j,Cc({},b,{getOriginalState:w,condition:(E,D)=>S(E,D).then(Boolean),take:S,delay:tO(M.signal),pause:Hh(M.signal),extra:l,signal:M.signal,fork:SB(M.signal,A),unsubscribe:v.unsubscribe,subscribe:()=>{n.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((E,D,P)=>{E!==M&&(Ql(E,vb),P.delete(E))})},cancel:()=>{Ql(M,vb),v.pending.delete(M)},throwIfCancelled:()=>{Jl(M.signal)}})))}catch(E){E instanceof Wp||RC(c,E,{raisedBy:"effect"})}finally{await Promise.all(A),Ql(M,NB),s(v),v.pending.delete(M)}},g=CB(n,a);return{middleware:v=>j=>b=>{if(!_E(b))return j(b);if(rO.match(b))return m(b.payload);if(MB.match(b)){g();return}if(sO.match(b))return f(b.payload);let w=v.getState();const M=()=>{if(w===PC)throw new Error(or(23));return w};let S;try{if(S=j(b),n.size>0){const A=v.getState(),E=Array.from(n.values());for(const D of E){let P=!1;try{P=D.predicate(b,A,w)}catch(T){P=!1,RC(c,T,{raisedBy:"predicate"})}P&&h(D,b,v,M)}}}finally{w=PC}return S},startListening:m,stopListening:f,clearListeners:g}};function or(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var EB={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},iO=Ya({name:"chartLayout",initialState:EB,reducers:{setLayout(e,n){e.layoutType=n.payload},setChartSize(e,n){e.width=n.payload.width,e.height=n.payload.height},setMargin(e,n){var a,r,s,l;e.margin.top=(a=n.payload.top)!==null&&a!==void 0?a:0,e.margin.right=(r=n.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(s=n.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(l=n.payload.left)!==null&&l!==void 0?l:0},setScale(e,n){e.scale=n.payload}}}),{setMargin:OB,setLayout:PB,setChartSize:kB,setScale:RB}=iO.actions,_B=iO.reducer;function lO(e,n,a){return Array.isArray(e)&&e&&n+a!==0?e.slice(n,a+1):e}function _C(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Nc(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?_C(Object(a),!0).forEach(function(r){TB(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_C(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function TB(e,n,a){return(n=LB(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function LB(e){var n=IB(e,"string");return typeof n=="symbol"?n:n+""}function IB(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function At(e,n,a){return Ot(e)||Ot(n)?a:Cs(n)?io(e,n,a):typeof n=="function"?n(e):a}var zB=(e,n,a)=>{if(n&&a){var{width:r,height:s}=a,{align:l,verticalAlign:c,layout:d}=n;if((d==="vertical"||d==="horizontal"&&c==="middle")&&l!=="center"&&ze(e[l]))return Nc(Nc({},e),{},{[l]:e[l]+(r||0)});if((d==="horizontal"||d==="vertical"&&l==="center")&&c!=="middle"&&ze(e[c]))return Nc(Nc({},e),{},{[c]:e[c]+(s||0)})}return e},qr=(e,n)=>e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis",oO=(e,n,a,r)=>{if(r)return e.map(d=>d.coordinate);var s,l,c=e.map(d=>(d.coordinate===n&&(s=!0),d.coordinate===a&&(l=!0),d.coordinate));return s||c.push(n),l||c.push(a),c},cO=(e,n,a)=>{if(!e)return null;var{duplicateDomain:r,type:s,range:l,scale:c,realScaleType:d,isCategorical:m,categoricalDomain:f,tickCount:h,ticks:g,niceTicks:y,axisType:v}=e;if(!c)return null;var j=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,b=s==="category"&&c.bandwidth?c.bandwidth()/j:0;if(b=v==="angleAxis"&&l&&l.length>=2?qn(l[0]-l[1])*2*b:b,g||y){var w=(g||y||[]).map((M,S)=>{var A=r?r.indexOf(M):M;return{coordinate:c(A)+b,value:M,offset:b,index:S}});return w.filter(M=>!Tr(M.coordinate))}return m&&f?f.map((M,S)=>({coordinate:c(M)+b,value:M,index:S,offset:b})):c.ticks&&h!=null?c.ticks(h).map((M,S)=>({coordinate:c(M)+b,value:M,offset:b,index:S})):c.domain().map((M,S)=>({coordinate:c(M)+b,value:r?r[M]:M,index:S,offset:b}))},TC=1e-4,BB=e=>{var n=e.domain();if(!(!n||n.length<=2)){var a=n.length,r=e.range(),s=Math.min(r[0],r[1])-TC,l=Math.max(r[0],r[1])+TC,c=e(n[0]),d=e(n[a-1]);(c<s||c>l||d<s||d>l)&&e.domain([n[0],n[a-1]])}},dO=(e,n)=>{if(!n||n.length!==2||!ze(n[0])||!ze(n[1]))return e;var a=Math.min(n[0],n[1]),r=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!ze(e[0])||e[0]<a)&&(s[0]=a),(!ze(e[1])||e[1]>r)&&(s[1]=r),s[0]>r&&(s[0]=r),s[1]<a&&(s[1]=a),s},$B=e=>{var n=e.length;if(!(n<=0))for(var a=0,r=e[0].length;a<r;++a)for(var s=0,l=0,c=0;c<n;++c){var d=Tr(e[c][a][1])?e[c][a][0]:e[c][a][1];d>=0?(e[c][a][0]=s,e[c][a][1]=s+d,s=e[c][a][1]):(e[c][a][0]=l,e[c][a][1]=l+d,l=e[c][a][1])}},FB=e=>{var n=e.length;if(!(n<=0))for(var a=0,r=e[0].length;a<r;++a)for(var s=0,l=0;l<n;++l){var c=Tr(e[l][a][1])?e[l][a][0]:e[l][a][1];c>=0?(e[l][a][0]=s,e[l][a][1]=s+c,s=e[l][a][1]):(e[l][a][0]=0,e[l][a][1]=0)}},qB={sign:$B,expand:oI,none:Oc,silhouette:cI,wiggle:dI,positive:FB},HB=(e,n,a)=>{var r=qB[a],s=lI().keys(n).value((l,c)=>Number(At(l,c,0))).order(cb).offset(r);return s(e)};function Gp(e){return e==null?void 0:String(e)}function Rc(e){var{axis:n,ticks:a,bandSize:r,entry:s,index:l,dataKey:c}=e;if(n.type==="category"){if(!n.allowDuplicatedCategory&&n.dataKey&&!Ot(s[n.dataKey])){var d=pE(a,"value",s[n.dataKey]);if(d)return d.coordinate+r/2}return a[l]?a[l].coordinate+r/2:null}var m=At(s,Ot(c)?n.dataKey:c);return Ot(m)?null:n.scale(m)}var Uh=e=>{var{axis:n,ticks:a,offset:r,bandSize:s,entry:l,index:c}=e;if(n.type==="category")return a[c]?a[c].coordinate+r:null;var d=At(l,n.dataKey,n.scale.domain()[c]);return Ot(d)?null:n.scale(d)-s/2+r},uO=e=>{var{numericAxis:n}=e,a=n.scale.domain();if(n.type==="number"){var r=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);return r<=0&&s>=0?0:s<0?s:r}return a[0]},UB=e=>{var n=e.flat(2).filter(ze);return[Math.min(...n),Math.max(...n)]},VB=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],KB=(e,n,a)=>{if(e!=null)return VB(Object.keys(e).reduce((r,s)=>{var l=e[s],{stackedData:c}=l,d=c.reduce((m,f)=>{var h=lO(f,n,a),g=UB(h);return[Math.min(m[0],g[0]),Math.max(m[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},LC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ka=(e,n,a)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!a||r>0)return r}if(e&&n&&n.length>=2){for(var s=$p(n,h=>h.coordinate),l=1/0,c=1,d=s.length;c<d;c++){var m=s[c],f=s[c-1];l=Math.min((m.coordinate||0)-(f.coordinate||0),l)}return l===1/0?0:l}return a?void 0:0};function zC(e){var{tooltipEntrySettings:n,dataKey:a,payload:r,value:s,name:l}=e;return Nc(Nc({},n),{},{dataKey:a,payload:r,value:s,name:l})}function xr(e,n){if(e)return String(e);if(typeof n=="string")return n}var WB=(e,n)=>{if(n==="horizontal")return e.chartX;if(n==="vertical")return e.chartY},YB=(e,n)=>n==="centric"?e.angle:e.radius,Ei=e=>e.layout.width,Oi=e=>e.layout.height,GB=e=>e.layout.scale,mO=e=>e.layout.margin,Zp=te(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Xp=te(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Yj="data-recharts-item-index",Gj="data-recharts-item-data-key",rm=60;function BC(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function eh(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?BC(Object(a),!0).forEach(function(r){ZB(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):BC(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function ZB(e,n,a){return(n=XB(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function XB(e){var n=QB(e,"string");return typeof n=="symbol"?n:n+""}function QB(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var JB=e=>e.brush.height;function e$(e){var n=Xp(e);return n.reduce((a,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var s=typeof r.width=="number"?r.width:rm;return a+s}return a},0)}function t$(e){var n=Xp(e);return n.reduce((a,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var s=typeof r.width=="number"?r.width:rm;return a+s}return a},0)}function n$(e){var n=Zp(e);return n.reduce((a,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?a+r.height:a,0)}function a$(e){var n=Zp(e);return n.reduce((a,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?a+r.height:a,0)}var Yn=te([Ei,Oi,mO,JB,e$,t$,n$,a$,OE,Pz],(e,n,a,r,s,l,c,d,m,f)=>{var h={left:(a.left||0)+s,right:(a.right||0)+l},g={top:(a.top||0)+c,bottom:(a.bottom||0)+d},y=eh(eh({},g),h),v=y.bottom;y.bottom+=r,y=zB(y,m,f);var j=e-y.left-y.right,b=n-y.top-y.bottom;return eh(eh({brushBottom:v},y),{},{width:Math.max(j,0),height:Math.max(b,0)})}),r$=te(Yn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Zj=te(Ei,Oi,(e,n)=>({x:0,y:0,width:e,height:n})),s$=x.createContext(null),Cn=()=>x.useContext(s$)!=null,Qp=e=>e.brush,Jp=te([Qp,Yn,mO],(e,n,a)=>({height:e.height,x:ze(e.x)?e.x:n.left,y:ze(e.y)?e.y:n.top+n.height+n.brushBottom-(a?.bottom||0),width:ze(e.width)?e.width:n.width})),Gy={},Zy={},Xy={},$C;function i$(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(a,r,{signal:s,edges:l}={}){let c,d=null;const m=l!=null&&l.includes("leading"),f=l==null||l.includes("trailing"),h=()=>{d!==null&&(a.apply(c,d),c=void 0,d=null)},g=()=>{f&&h(),b()};let y=null;const v=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},r)},j=()=>{y!==null&&(clearTimeout(y),y=null)},b=()=>{j(),c=void 0,d=null},w=()=>{h()},M=function(...S){if(s?.aborted)return;c=this,d=S;const A=y==null;v(),m&&A&&h()};return M.schedule=v,M.cancel=b,M.flush=w,s?.addEventListener("abort",b,{once:!0}),M}e.debounce=n})(Xy)),Xy}var FC;function l$(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=i$();function a(r,s=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:d=!0,maxWait:m}=l,f=Array(2);c&&(f[0]="leading"),d&&(f[1]="trailing");let h,g=null;const y=n.debounce(function(...b){h=r.apply(this,b),g=null},s,{edges:f}),v=function(...b){return m!=null&&(g===null&&(g=Date.now()),Date.now()-g>=m)?(h=r.apply(this,b),g=Date.now(),y.cancel(),y.schedule(),h):(y.apply(this,b),h)},j=()=>(y.flush(),h);return v.cancel=y.cancel,v.flush=j,v}e.debounce=a})(Zy)),Zy}var qC;function o$(){return qC||(qC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=l$();function a(r,s=0,l={}){const{leading:c=!0,trailing:d=!0}=l;return n.debounce(r,s,{leading:c,maxWait:s,trailing:d})}e.throttle=a})(Gy)),Gy}var Qy,HC;function c$(){return HC||(HC=1,Qy=o$().throttle),Qy}var d$=c$();const u$=$r(d$);var Vh=function(n,a){for(var r=arguments.length,s=new Array(r>2?r-2:0),l=2;l<r;l++)s[l-2]=arguments[l];if(typeof console<"u"&&console.warn&&(a===void 0&&console.warn("LogUtils requires an error message argument"),!n))if(a===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(a.replace(/%s/g,()=>s[c++]))}},fO=(e,n,a)=>{var{width:r="100%",height:s="100%",aspect:l,maxHeight:c}=a,d=bi(r)?e:Number(r),m=bi(s)?n:Number(s);return l&&l>0&&(d?m=d/l:m&&(d=m*l),c&&m!=null&&m>c&&(m=c)),{calculatedWidth:d,calculatedHeight:m}},m$={width:0,height:0,overflow:"visible"},f$={width:0,overflowX:"visible"},h$={height:0,overflowY:"visible"},p$={},x$=e=>{var{width:n,height:a}=e,r=bi(n),s=bi(a);return r&&s?m$:r?f$:s?h$:p$};function g$(e){var{width:n,height:a,aspect:r}=e,s=n,l=a;return s===void 0&&l===void 0?(s="100%",l="100%"):s===void 0?s=r&&r>0?void 0:"100%":l===void 0&&(l=r&&r>0?void 0:"100%"),{width:s,height:l}}function un(e){return Number.isFinite(e)}function Ds(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},jb.apply(null,arguments)}function UC(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function VC(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?UC(Object(a),!0).forEach(function(r){y$(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):UC(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function y$(e,n,a){return(n=v$(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function v$(e){var n=b$(e,"string");return typeof n=="symbol"?n:n+""}function b$(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var hO=x.createContext({width:-1,height:-1});function j$(e){return Ds(e.width)&&Ds(e.height)}function pO(e){var{children:n,width:a,height:r}=e,s=x.useMemo(()=>({width:a,height:r}),[a,r]);return j$(s)?x.createElement(hO.Provider,{value:s},n):null}var Xj=()=>x.useContext(hO),N$=x.forwardRef((e,n)=>{var{aspect:a,initialDimension:r={width:-1,height:-1},width:s,height:l,minWidth:c=0,minHeight:d,maxHeight:m,children:f,debounce:h=0,id:g,className:y,onResize:v,style:j={}}=e,b=x.useRef(null),w=x.useRef();w.current=v,x.useImperativeHandle(n,()=>b.current);var[M,S]=x.useState({containerWidth:r.width,containerHeight:r.height}),A=x.useCallback((O,k)=>{S(B=>{var I=Math.round(O),z=Math.round(k);return B.containerWidth===I&&B.containerHeight===z?B:{containerWidth:I,containerHeight:z}})},[]);x.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return em;var O=z=>{var J,{width:L,height:G}=z[0].contentRect;A(L,G),(J=w.current)===null||J===void 0||J.call(w,L,G)};h>0&&(O=u$(O,h,{trailing:!0,leading:!1}));var k=new ResizeObserver(O),{width:B,height:I}=b.current.getBoundingClientRect();return A(B,I),k.observe(b.current),()=>{k.disconnect()}},[A,h]);var{containerWidth:E,containerHeight:D}=M;Vh(!a||a>0,"The aspect(%s) must be greater than zero.",a);var{calculatedWidth:P,calculatedHeight:T}=fO(E,D,{width:s,height:l,aspect:a,maxHeight:m});return Vh(P!=null&&P>0||T!=null&&T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,T,s,l,c,d,a),x.createElement("div",{id:g?"".concat(g):void 0,className:ot("recharts-responsive-container",y),style:VC(VC({},j),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:m}),ref:b},x.createElement("div",{style:x$({width:s,height:l})},x.createElement(pO,{width:P,height:T},f)))}),ht=x.forwardRef((e,n)=>{var a=Xj();if(Ds(a.width)&&Ds(a.height))return e.children;var{width:r,height:s}=g$({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:l,calculatedHeight:c}=fO(void 0,void 0,{width:r,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return ze(l)&&ze(c)?x.createElement(pO,{width:l,height:c},e.children):x.createElement(N$,jb({},e,{width:r,height:s,ref:n}))});function xO(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var sm=()=>{var e,n=Cn(),a=Pe(r$),r=Pe(Jp),s=(e=Pe(Qp))===null||e===void 0?void 0:e.padding;return!n||!r||!s?a:{width:r.width-s.left-s.right,height:r.height-s.top-s.bottom,x:s.left,y:s.top}},w$={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},gO=()=>{var e;return(e=Pe(Yn))!==null&&e!==void 0?e:w$},Qj=()=>Pe(Ei),Jj=()=>Pe(Oi),S$=()=>Pe(e=>e.layout.margin),rt=e=>e.layout.layoutType,go=()=>Pe(rt),A$=()=>{var e=go();if(e==="horizontal"||e==="vertical")return e},C$=()=>{var e=go();return e!==void 0},ex=e=>{var n=Ut(),a=Cn(),{width:r,height:s}=e,l=Xj(),c=r,d=s;return l&&(c=l.width>0?l.width:r,d=l.height>0?l.height:s),x.useEffect(()=>{!a&&Ds(c)&&Ds(d)&&n(kB({width:c,height:d}))},[n,a,c,d]),null},yO=Symbol.for("immer-nothing"),KC=Symbol.for("immer-draftable"),mr=Symbol.for("immer-state");function Xr(e,...n){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ru=Object.getPrototypeOf;function _c(e){return!!e&&!!e[mr]}function lo(e){return e?vO(e)||Array.isArray(e)||!!e[KC]||!!e.constructor?.[KC]||im(e)||nx(e):!1}var M$=Object.prototype.constructor.toString(),WC=new WeakMap;function vO(e){if(!e||typeof e!="object")return!1;const n=Object.getPrototypeOf(e);if(n===null||n===Object.prototype)return!0;const a=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;if(a===Object)return!0;if(typeof a!="function")return!1;let r=WC.get(a);return r===void 0&&(r=Function.toString.call(a),WC.set(a,r)),r===M$}function Kh(e,n,a=!0){tx(e)===0?(a?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{n(s,e[s],e)}):e.forEach((r,s)=>n(s,r,e))}function tx(e){const n=e[mr];return n?n.type_:Array.isArray(e)?1:im(e)?2:nx(e)?3:0}function Nb(e,n){return tx(e)===2?e.has(n):Object.prototype.hasOwnProperty.call(e,n)}function bO(e,n,a){const r=tx(e);r===2?e.set(n,a):r===3?e.add(a):e[n]=a}function D$(e,n){return e===n?e!==0||1/e===1/n:e!==e&&n!==n}function im(e){return e instanceof Map}function nx(e){return e instanceof Set}function Ul(e){return e.copy_||e.base_}function wb(e,n){if(im(e))return new Map(e);if(nx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const a=vO(e);if(n===!0||n==="class_only"&&!a){const r=Object.getOwnPropertyDescriptors(e);delete r[mr];let s=Reflect.ownKeys(r);for(let l=0;l<s.length;l++){const c=s[l],d=r[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(Ru(e),r)}else{const r=Ru(e);if(r!==null&&a)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function eN(e,n=!1){return ax(e)||_c(e)||!lo(e)||(tx(e)>1&&Object.defineProperties(e,{set:th,add:th,clear:th,delete:th}),Object.freeze(e),n&&Object.values(e).forEach(a=>eN(a,!0))),e}function E$(){Xr(2)}var th={value:E$};function ax(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var O$={};function oo(e){const n=O$[e];return n||Xr(0,e),n}var _u;function jO(){return _u}function P$(e,n){return{drafts_:[],parent_:e,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function YC(e,n){n&&(oo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=n)}function Sb(e){Ab(e),e.drafts_.forEach(k$),e.drafts_=null}function Ab(e){e===_u&&(_u=e.parent_)}function GC(e){return _u=P$(_u,e)}function k$(e){const n=e[mr];n.type_===0||n.type_===1?n.revoke_():n.revoked_=!0}function ZC(e,n){n.unfinalizedDrafts_=n.drafts_.length;const a=n.drafts_[0];return e!==void 0&&e!==a?(a[mr].modified_&&(Sb(n),Xr(4)),lo(e)&&(e=Wh(n,e),n.parent_||Yh(n,e)),n.patches_&&oo("Patches").generateReplacementPatches_(a[mr].base_,e,n.patches_,n.inversePatches_)):e=Wh(n,a,[]),Sb(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),e!==yO?e:void 0}function Wh(e,n,a){if(ax(n))return n;const r=e.immer_.shouldUseStrictIteration(),s=n[mr];if(!s)return Kh(n,(l,c)=>XC(e,s,n,l,c,a),r),n;if(s.scope_!==e)return n;if(!s.modified_)return Yh(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const l=s.copy_;let c=l,d=!1;s.type_===3&&(c=new Set(l),l.clear(),d=!0),Kh(c,(m,f)=>XC(e,s,l,m,f,a,d),r),Yh(e,l,!1),a&&e.patches_&&oo("Patches").generatePatches_(s,a,e.patches_,e.inversePatches_)}return s.copy_}function XC(e,n,a,r,s,l,c){if(s==null||typeof s!="object"&&!c)return;const d=ax(s);if(!(d&&!c)){if(_c(s)){const m=l&&n&&n.type_!==3&&!Nb(n.assigned_,r)?l.concat(r):void 0,f=Wh(e,s,m);if(bO(a,r,f),_c(f))e.canAutoFreeze_=!1;else return}else c&&a.add(s);if(lo(s)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||n&&n.base_&&n.base_[r]===s&&d)return;Wh(e,s),(!n||!n.scope_.parent_)&&typeof r!="symbol"&&(im(a)?a.has(r):Object.prototype.propertyIsEnumerable.call(a,r))&&Yh(e,s)}}}function Yh(e,n,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&eN(n,a)}function R$(e,n){const a=Array.isArray(e),r={type_:a?1:0,scope_:n?n.scope_:jO(),modified_:!1,finalized_:!1,assigned_:{},parent_:n,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,l=tN;a&&(s=[r],l=Tu);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return r.draft_=d,r.revoke_=c,d}var tN={get(e,n){if(n===mr)return e;const a=Ul(e);if(!Nb(a,n))return _$(e,a,n);const r=a[n];return e.finalized_||!lo(r)?r:r===Jy(e.base_,n)?(ev(e),e.copy_[n]=Mb(r,e)):r},has(e,n){return n in Ul(e)},ownKeys(e){return Reflect.ownKeys(Ul(e))},set(e,n,a){const r=NO(Ul(e),n);if(r?.set)return r.set.call(e.draft_,a),!0;if(!e.modified_){const s=Jy(Ul(e),n),l=s?.[mr];if(l&&l.base_===a)return e.copy_[n]=a,e.assigned_[n]=!1,!0;if(D$(a,s)&&(a!==void 0||Nb(e.base_,n)))return!0;ev(e),Cb(e)}return e.copy_[n]===a&&(a!==void 0||n in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[n])||(e.copy_[n]=a,e.assigned_[n]=!0),!0},deleteProperty(e,n){return Jy(e.base_,n)!==void 0||n in e.base_?(e.assigned_[n]=!1,ev(e),Cb(e)):delete e.assigned_[n],e.copy_&&delete e.copy_[n],!0},getOwnPropertyDescriptor(e,n){const a=Ul(e),r=Reflect.getOwnPropertyDescriptor(a,n);return r&&{writable:!0,configurable:e.type_!==1||n!=="length",enumerable:r.enumerable,value:a[n]}},defineProperty(){Xr(11)},getPrototypeOf(e){return Ru(e.base_)},setPrototypeOf(){Xr(12)}},Tu={};Kh(tN,(e,n)=>{Tu[e]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}});Tu.deleteProperty=function(e,n){return Tu.set.call(this,e,n,void 0)};Tu.set=function(e,n,a){return tN.set.call(this,e[0],n,a,e[0])};function Jy(e,n){const a=e[mr];return(a?Ul(a):e)[n]}function _$(e,n,a){const r=NO(n,a);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function NO(e,n){if(!(n in e))return;let a=Ru(e);for(;a;){const r=Object.getOwnPropertyDescriptor(a,n);if(r)return r;a=Ru(a)}}function Cb(e){e.modified_||(e.modified_=!0,e.parent_&&Cb(e.parent_))}function ev(e){e.copy_||(e.copy_=wb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var T$=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(n,a,r)=>{if(typeof n=="function"&&typeof a!="function"){const l=a;a=n;const c=this;return function(m=l,...f){return c.produce(m,h=>a.call(this,h,...f))}}typeof a!="function"&&Xr(6),r!==void 0&&typeof r!="function"&&Xr(7);let s;if(lo(n)){const l=GC(this),c=Mb(n,void 0);let d=!0;try{s=a(c),d=!1}finally{d?Sb(l):Ab(l)}return YC(l,r),ZC(s,l)}else if(!n||typeof n!="object"){if(s=a(n),s===void 0&&(s=n),s===yO&&(s=void 0),this.autoFreeze_&&eN(s,!0),r){const l=[],c=[];oo("Patches").generateReplacementPatches_(n,s,l,c),r(l,c)}return s}else Xr(1,n)},this.produceWithPatches=(n,a)=>{if(typeof n=="function")return(c,...d)=>this.produceWithPatches(c,m=>n(m,...d));let r,s;return[this.produce(n,a,(c,d)=>{r=c,s=d}),r,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){lo(e)||Xr(8),_c(e)&&(e=L$(e));const n=GC(this),a=Mb(e,void 0);return a[mr].isManual_=!0,Ab(n),a}finishDraft(e,n){const a=e&&e[mr];(!a||!a.isManual_)&&Xr(9);const{scope_:r}=a;return YC(r,n),ZC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let a;for(a=n.length-1;a>=0;a--){const s=n[a];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}a>-1&&(n=n.slice(a+1));const r=oo("Patches").applyPatches_;return _c(e)?r(e,n):this.produce(e,s=>r(s,n))}};function Mb(e,n){const a=im(e)?oo("MapSet").proxyMap_(e,n):nx(e)?oo("MapSet").proxySet_(e,n):R$(e,n);return(n?n.scope_:jO()).drafts_.push(a),a}function L$(e){return _c(e)||Xr(10,e),wO(e)}function wO(e){if(!lo(e)||ax(e))return e;const n=e[mr];let a,r=!0;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,a=wb(e,n.scope_.immer_.useStrictShallowCopy_),r=n.scope_.immer_.shouldUseStrictIteration()}else a=wb(e,!0);return Kh(a,(s,l)=>{bO(a,s,wO(l))},r),n&&(n.finalized_=!1),a}var I$=new T$;I$.produce;var z$={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},SO=Ya({name:"legend",initialState:z$,reducers:{setLegendSize(e,n){e.size.width=n.payload.width,e.size.height=n.payload.height},setLegendSettings(e,n){e.settings.align=n.payload.align,e.settings.layout=n.payload.layout,e.settings.verticalAlign=n.payload.verticalAlign,e.settings.itemSorter=n.payload.itemSorter},addLegendPayload:{reducer(e,n){e.payload.push(n.payload)},prepare:xn()},replaceLegendPayload:{reducer(e,n){var{prev:a,next:r}=n.payload,s=ns(e).payload.indexOf(a);s>-1&&(e.payload[s]=r)},prepare:xn()},removeLegendPayload:{reducer(e,n){var a=ns(e).payload.indexOf(n.payload);a>-1&&e.payload.splice(a,1)},prepare:xn()}}}),{setLegendSize:QC,setLegendSettings:B$,addLegendPayload:AO,replaceLegendPayload:CO,removeLegendPayload:MO}=SO.actions,$$=SO.reducer,F$=["contextPayload"];function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Db.apply(null,arguments)}function JC(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Tc(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?JC(Object(a),!0).forEach(function(r){q$(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):JC(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function q$(e,n,a){return(n=H$(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function H$(e){var n=U$(e,"string");return typeof n=="symbol"?n:n+""}function U$(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function V$(e,n){if(e==null)return{};var a,r,s=K$(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function K$(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function W$(e){return e.value}function Y$(e){var{contextPayload:n}=e,a=V$(e,F$),r=CE(n,e.payloadUniqBy,W$),s=Tc(Tc({},a),{},{payload:r});return x.isValidElement(e.content)?x.cloneElement(e.content,s):typeof e.content=="function"?x.createElement(e.content,s):x.createElement(FI,s)}function G$(e,n,a,r,s,l){var{layout:c,align:d,verticalAlign:m}=n,f,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&c==="vertical"?f={left:((r||0)-l.width)/2}:f=d==="right"?{right:a&&a.right||0}:{left:a&&a.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(m==="middle"?h={top:((s||0)-l.height)/2}:h=m==="bottom"?{bottom:a&&a.bottom||0}:{top:a&&a.top||0}),Tc(Tc({},f),h)}function Z$(e){var n=Ut();return x.useEffect(()=>{n(B$(e))},[n,e]),null}function X$(e){var n=Ut();return x.useEffect(()=>(n(QC(e)),()=>{n(QC({width:0,height:0}))}),[n,e]),null}function Q$(e,n,a,r){return e==="vertical"&&ze(n)?{height:n}:e==="horizontal"?{width:a||r}:null}var J$={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function cr(e){var n=Lt(e,J$),a=_z(),r=P9(),s=S$(),{width:l,height:c,wrapperStyle:d,portal:m}=n,[f,h]=PE([a]),g=Qj(),y=Jj();if(g==null||y==null)return null;var v=g-(s?.left||0)-(s?.right||0),j=Q$(n.layout,c,l,v),b=m?d:Tc(Tc({position:"absolute",width:j?.width||l||"auto",height:j?.height||c||"auto"},G$(d,n,s,g,y,f)),d),w=m??r;if(w==null||a==null)return null;var M=x.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:h},x.createElement(Z$,{layout:n.layout,align:n.align,verticalAlign:n.verticalAlign,itemSorter:n.itemSorter}),!m&&x.createElement(X$,{width:f.width,height:f.height}),x.createElement(Y$,Db({},n,j,{margin:s,chartWidth:g,chartHeight:y,contextPayload:a})));return pj.createPortal(M,w)}cr.displayName="Legend";function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Eb.apply(null,arguments)}function e3(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function tv(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?e3(Object(a),!0).forEach(function(r){eF(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):e3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function eF(e,n,a){return(n=tF(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function tF(e){var n=nF(e,"string");return typeof n=="symbol"?n:n+""}function nF(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function aF(e){return Array.isArray(e)&&Cs(e[0])&&Cs(e[1])?e.join(" ~ "):e}var rF=e=>{var{separator:n=" : ",contentStyle:a={},itemStyle:r={},labelStyle:s={},payload:l,formatter:c,itemSorter:d,wrapperClassName:m,labelClassName:f,label:h,labelFormatter:g,accessibilityLayer:y=!1}=e,v=()=>{if(l&&l.length){var D={padding:0,margin:0},P=(d?$p(l,d):l).map((T,O)=>{if(T.type==="none")return null;var k=T.formatter||c||aF,{value:B,name:I}=T,z=B,J=I;if(k){var L=k(B,I,T,O,l);if(Array.isArray(L))[z,J]=L;else if(L!=null)z=L;else return null}var G=tv({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:G},Cs(J)?x.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Cs(J)?x.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,x.createElement("span",{className:"recharts-tooltip-item-value"},z),x.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:D},P)}return null},j=tv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),b=tv({margin:0},s),w=!Ot(h),M=w?h:"",S=ot("recharts-default-tooltip",m),A=ot("recharts-tooltip-label",f);w&&g&&l!==void 0&&l!==null&&(M=g(h,l));var E=y?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Eb({className:S,style:j},E),x.createElement("p",{className:A,style:b},x.isValidElement(M)?M:"".concat(M)),v())},nu="recharts-tooltip-wrapper",sF={visibility:"hidden"};function iF(e){var{coordinate:n,translateX:a,translateY:r}=e;return ot(nu,{["".concat(nu,"-right")]:ze(a)&&n&&ze(n.x)&&a>=n.x,["".concat(nu,"-left")]:ze(a)&&n&&ze(n.x)&&a<n.x,["".concat(nu,"-bottom")]:ze(r)&&n&&ze(n.y)&&r>=n.y,["".concat(nu,"-top")]:ze(r)&&n&&ze(n.y)&&r<n.y})}function t3(e){var{allowEscapeViewBox:n,coordinate:a,key:r,offsetTopLeft:s,position:l,reverseDirection:c,tooltipDimension:d,viewBox:m,viewBoxDimension:f}=e;if(l&&ze(l[r]))return l[r];var h=a[r]-d-(s>0?s:0),g=a[r]+s;if(n[r])return c[r]?h:g;var y=m[r];if(y==null)return 0;if(c[r]){var v=h,j=y;return v<j?Math.max(g,y):Math.max(h,y)}if(f==null)return 0;var b=g+d,w=y+f;return b>w?Math.max(h,y):Math.max(g,y)}function lF(e){var{translateX:n,translateY:a,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(n,"px, ").concat(a,"px, 0)"):"translate(".concat(n,"px, ").concat(a,"px)")}}function oF(e){var{allowEscapeViewBox:n,coordinate:a,offsetTopLeft:r,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:m}=e,f,h,g;return c.height>0&&c.width>0&&a?(h=t3({allowEscapeViewBox:n,coordinate:a,key:"x",offsetTopLeft:r,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:m,viewBoxDimension:m.width}),g=t3({allowEscapeViewBox:n,coordinate:a,key:"y",offsetTopLeft:r,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:m,viewBoxDimension:m.height}),f=lF({translateX:h,translateY:g,useTranslate3d:d})):f=sF,{cssProperties:f,cssClasses:iF({translateX:h,translateY:g,coordinate:a})}}function n3(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function nh(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?n3(Object(a),!0).forEach(function(r){Ob(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Ob(e,n,a){return(n=cF(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function cF(e){var n=dF(e,"string");return typeof n=="symbol"?n:n+""}function dF(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}class uF extends x.PureComponent{constructor(){super(...arguments),Ob(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ob(this,"handleKeyDown",n=>{if(n.key==="Escape"){var a,r,s,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&a!==void 0?a:0,y:(s=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var n,a;this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:n,allowEscapeViewBox:a,animationDuration:r,animationEasing:s,children:l,coordinate:c,hasPayload:d,isAnimationActive:m,offset:f,position:h,reverseDirection:g,useTranslate3d:y,viewBox:v,wrapperStyle:j,lastBoundingBox:b,innerRef:w,hasPortalFromProps:M}=this.props,{cssClasses:S,cssProperties:A}=oF({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:f,position:h,reverseDirection:g,tooltipBox:{height:b.height,width:b.width},useTranslate3d:y,viewBox:v}),E=M?{}:nh(nh({transition:m&&n?"transform ".concat(r,"ms ").concat(s):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&d?"visible":"hidden",position:"absolute",top:0,left:0}),D=nh(nh({},E),{},{visibility:!this.state.dismissed&&n&&d?"visible":"hidden"},j);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:D,ref:w},l)}}var DO=()=>{var e;return(e=Pe(n=>n.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Pb.apply(null,arguments)}function a3(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function r3(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?a3(Object(a),!0).forEach(function(r){mF(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):a3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function mF(e,n,a){return(n=fF(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function fF(e){var n=hF(e,"string");return typeof n=="symbol"?n:n+""}function hF(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var s3={curveBasisClosed:Z9,curveBasisOpen:X9,curveBasis:G9,curveBumpX:T9,curveBumpY:L9,curveLinearClosed:Q9,curveLinear:Lp,curveMonotoneX:J9,curveMonotoneY:eI,curveNatural:tI,curveStep:nI,curveStepAfter:rI,curveStepBefore:aI},Gh=e=>un(e.x)&&un(e.y),i3=e=>e.base!=null&&Gh(e.base)&&Gh(e),au=e=>e.x,ru=e=>e.y,pF=(e,n)=>{if(typeof e=="function")return e;var a="curve".concat(Ju(e));return(a==="curveMonotone"||a==="curveBump")&&n?s3["".concat(a).concat(n==="vertical"?"Y":"X")]:s3[a]||Lp},xF=e=>{var{type:n="linear",points:a=[],baseLine:r,layout:s,connectNulls:l=!1}=e,c=pF(n,s),d=l?a.filter(Gh):a,m;if(Array.isArray(r)){var f=a.map((v,j)=>r3(r3({},v),{},{base:r[j]}));s==="vertical"?m=Yf().y(ru).x1(au).x0(v=>v.base.x):m=Yf().x(au).y1(ru).y0(v=>v.base.y);var h=m.defined(i3).curve(c),g=l?f.filter(i3):f;return h(g)}s==="vertical"&&ze(r)?m=Yf().y(ru).x1(au).x0(r):ze(r)?m=Yf().x(au).y1(ru).y0(r):m=nE().x(au).y(ru);var y=m.defined(Gh).curve(c);return y(d)},eo=e=>{var{className:n,points:a,path:r,pathRef:s}=e;if((!a||!a.length)&&!r)return null;var l=a&&a.length?xF(e):r;return x.createElement("path",Pb({},Ht(e),Lj(e),{className:ot("recharts-curve",n),d:l===null?void 0:l,ref:s}))},gF=["x","y","top","left","width","height","className"];function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},kb.apply(null,arguments)}function l3(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function yF(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?l3(Object(a),!0).forEach(function(r){vF(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function vF(e,n,a){return(n=bF(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function bF(e){var n=jF(e,"string");return typeof n=="symbol"?n:n+""}function jF(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function NF(e,n){if(e==null)return{};var a,r,s=wF(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function wF(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var SF=(e,n,a,r,s,l)=>"M".concat(e,",").concat(s,"v").concat(r,"M").concat(l,",").concat(n,"h").concat(a),AF=e=>{var{x:n=0,y:a=0,top:r=0,left:s=0,width:l=0,height:c=0,className:d}=e,m=NF(e,gF),f=yF({x:n,y:a,top:r,left:s,width:l,height:c},m);return!ze(n)||!ze(a)||!ze(l)||!ze(c)||!ze(r)||!ze(s)?null:x.createElement("path",kb({},Pn(f),{className:ot("recharts-cross",d),d:SF(n,a,l,c,r,s)}))};function CF(e,n,a,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?n.x-s:a.left+.5,y:e==="horizontal"?a.top+.5:n.y-s,width:e==="horizontal"?r:a.width-1,height:e==="horizontal"?a.height-1:r}}function o3(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function c3(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?o3(Object(a),!0).forEach(function(r){MF(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function MF(e,n,a){return(n=DF(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function DF(e){var n=EF(e,"string");return typeof n=="symbol"?n:n+""}function EF(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var OF=e=>e.replace(/([A-Z])/g,n=>"-".concat(n.toLowerCase())),EO=(e,n,a)=>e.map(r=>"".concat(OF(r)," ").concat(n,"ms ").concat(a)).join(","),PF=(e,n)=>[Object.keys(e),Object.keys(n)].reduce((a,r)=>a.filter(s=>r.includes(s))),Lu=(e,n)=>Object.keys(n).reduce((a,r)=>c3(c3({},a),{},{[r]:e(r,n[r])}),{});function d3(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Wn(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?d3(Object(a),!0).forEach(function(r){kF(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function kF(e,n,a){return(n=RF(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function RF(e){var n=_F(e,"string");return typeof n=="symbol"?n:n+""}function _F(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var Zh=(e,n,a)=>e+(n-e)*a,Rb=e=>{var{from:n,to:a}=e;return n!==a},OO=(e,n,a)=>{var r=Lu((s,l)=>{if(Rb(l)){var[c,d]=e(l.from,l.to,l.velocity);return Wn(Wn({},l),{},{from:c,velocity:d})}return l},n);return a<1?Lu((s,l)=>Rb(l)?Wn(Wn({},l),{},{velocity:Zh(l.velocity,r[s].velocity,a),from:Zh(l.from,r[s].from,a)}):l,n):OO(e,r,a-1)};function TF(e,n,a,r,s,l){var c,d=r.reduce((y,v)=>Wn(Wn({},y),{},{[v]:{from:e[v],velocity:0,to:n[v]}}),{}),m=()=>Lu((y,v)=>v.from,d),f=()=>!Object.values(d).filter(Rb).length,h=null,g=y=>{c||(c=y);var v=y-c,j=v/a.dt;d=OO(a,d,j),s(Wn(Wn(Wn({},e),n),m())),c=y,f()||(h=l.setTimeout(g))};return()=>(h=l.setTimeout(g),()=>{var y;(y=h)===null||y===void 0||y()})}function LF(e,n,a,r,s,l,c){var d=null,m=s.reduce((g,y)=>Wn(Wn({},g),{},{[y]:[e[y],n[y]]}),{}),f,h=g=>{f||(f=g);var y=(g-f)/r,v=Lu((b,w)=>Zh(...w,a(y)),m);if(l(Wn(Wn(Wn({},e),n),v)),y<1)d=c.setTimeout(h);else{var j=Lu((b,w)=>Zh(...w,a(1)),m);l(Wn(Wn(Wn({},e),n),j))}};return()=>(d=c.setTimeout(h),()=>{var g;(g=d)===null||g===void 0||g()})}const IF=(e,n,a,r,s,l)=>{var c=PF(e,n);return a==null?()=>(s(Wn(Wn({},e),n)),()=>{}):a.isStepper===!0?TF(e,n,a,c,s,l):LF(e,n,a,r,c,s,l)};var Xh=1e-4,PO=(e,n)=>[0,3*e,3*n-6*e,3*e-3*n+1],kO=(e,n)=>e.map((a,r)=>a*n**r).reduce((a,r)=>a+r),u3=(e,n)=>a=>{var r=PO(e,n);return kO(r,a)},zF=(e,n)=>a=>{var r=PO(e,n),s=[...r.map((l,c)=>l*c).slice(1),0];return kO(s,a)},BF=function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];if(a.length===1)switch(a[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s,l=a[0].split("(");if(l[0]==="cubic-bezier"&&((s=l[1])===null||s===void 0?void 0:s.split(")")[0].split(",").length)===4){var c=l[1].split(")")[0].split(",").map(d=>parseFloat(d));return[c[0],c[1],c[2],c[3]]}}}return a.length===4?a:[0,0,1,1]},$F=(e,n,a,r)=>{var s=u3(e,a),l=u3(n,r),c=zF(e,a),d=f=>f>1?1:f<0?0:f,m=f=>{for(var h=f>1?1:f,g=h,y=0;y<8;++y){var v=s(g)-h,j=c(g);if(Math.abs(v-h)<Xh||j<Xh)return l(g);g=d(g-v/j)}return l(g)};return m.isStepper=!1,m},m3=function(){return $F(...BF(...arguments))},FF=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:a=100,damping:r=8,dt:s=17}=n,l=(c,d,m)=>{var f=-(c-d)*a,h=m*r,g=m+(f-h)*s/1e3,y=m*s/1e3+c;return Math.abs(y-d)<Xh&&Math.abs(g)<Xh?[d,0]:[y,g]};return l.isStepper=!0,l.dt=s,l},qF=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return m3(e);case"spring":return FF();default:if(e.split("(")[0]==="cubic-bezier")return m3(e)}return typeof e=="function"?e:null};function HF(e){var n,a=()=>null,r=!1,s=null,l=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var d=c,[m,...f]=d;if(typeof m=="number"){s=e.setTimeout(l.bind(null,f),m);return}l(m),s=e.setTimeout(l.bind(null,f));return}typeof c=="string"&&(n=c,a(n)),typeof c=="object"&&(n=c,a(n)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,s&&(s(),s=null),l(c)},subscribe:c=>(a=c,()=>{a=()=>null}),getTimeoutController:()=>e}}class UF{setTimeout(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),s=null,l=c=>{c-r>=a?n(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(l))};return s=requestAnimationFrame(l),()=>{s!=null&&cancelAnimationFrame(s)}}}function VF(){return HF(new UF)}var KF=x.createContext(VF);function WF(e,n){var a=x.useContext(KF);return x.useMemo(()=>n??a(e),[e,n,a])}var YF=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Hc={devToolsEnabled:!1,isSsr:YF()},GF={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},f3={t:0},nv={t:1};function Pi(e){var n=Lt(e,GF),{isActive:a,canBegin:r,duration:s,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:m,children:f}=n,h=a==="auto"?!Hc.isSsr:a,g=WF(n.animationId,n.animationManager),[y,v]=x.useState(h?f3:nv),j=x.useRef(null);return x.useEffect(()=>{h||v(nv)},[h]),x.useEffect(()=>{if(!h||!r)return em;var b=IF(f3,nv,qF(l),s,v,g.getTimeoutController()),w=()=>{j.current=b()};return g.start([m,c,w,s,d]),()=>{g.stop(),j.current&&j.current(),d()}},[h,r,s,l,c,m,d,g]),f(y.t)}function ki(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",a=x.useRef(Eu(n)),r=x.useRef(e);return r.current!==e&&(a.current=Eu(n),r.current=e),a.current}var ZF=["radius"],XF=["radius"];function h3(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function p3(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?h3(Object(a),!0).forEach(function(r){QF(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function QF(e,n,a){return(n=JF(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function JF(e){var n=eq(e,"string");return typeof n=="symbol"?n:n+""}function eq(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Qh(){return Qh=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Qh.apply(null,arguments)}function x3(e,n){if(e==null)return{};var a,r,s=tq(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function tq(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var g3=(e,n,a,r,s)=>{var l=Math.min(Math.abs(a)/2,Math.abs(r)/2),c=r>=0?1:-1,d=a>=0?1:-1,m=r>=0&&a>=0||r<0&&a<0?1:0,f;if(l>0&&s instanceof Array){for(var h=[0,0,0,0],g=0,y=4;g<y;g++)h[g]=s[g]>l?l:s[g];f="M".concat(e,",").concat(n+c*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(m,",").concat(e+d*h[0],",").concat(n)),f+="L ".concat(e+a-d*h[1],",").concat(n),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(m,`,
        `).concat(e+a,",").concat(n+c*h[1])),f+="L ".concat(e+a,",").concat(n+r-c*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(m,`,
        `).concat(e+a-d*h[2],",").concat(n+r)),f+="L ".concat(e+d*h[3],",").concat(n+r),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(n+r-c*h[3])),f+="Z"}else if(l>0&&s===+s&&s>0){var v=Math.min(l,s);f="M ".concat(e,",").concat(n+c*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(m,",").concat(e+d*v,",").concat(n,`
            L `).concat(e+a-d*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(m,",").concat(e+a,",").concat(n+c*v,`
            L `).concat(e+a,",").concat(n+r-c*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(m,",").concat(e+a-d*v,",").concat(n+r,`
            L `).concat(e+d*v,",").concat(n+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(m,",").concat(e,",").concat(n+r-c*v," Z")}else f="M ".concat(e,",").concat(n," h ").concat(a," v ").concat(r," h ").concat(-a," Z");return f},y3={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RO=e=>{var n=Lt(e,y3),a=x.useRef(null),[r,s]=x.useState(-1);x.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var R=a.current.getTotalLength();R&&s(R)}catch{}},[]);var{x:l,y:c,width:d,height:m,radius:f,className:h}=n,{animationEasing:g,animationDuration:y,animationBegin:v,isAnimationActive:j,isUpdateAnimationActive:b}=n,w=x.useRef(d),M=x.useRef(m),S=x.useRef(l),A=x.useRef(c),E=x.useMemo(()=>({x:l,y:c,width:d,height:m,radius:f}),[l,c,d,m,f]),D=ki(E,"rectangle-");if(l!==+l||c!==+c||d!==+d||m!==+m||d===0||m===0)return null;var P=ot("recharts-rectangle",h);if(!b){var T=Pn(n),{radius:O}=T,k=x3(T,ZF);return x.createElement("path",Qh({},k,{radius:typeof f=="number"?f:void 0,className:P,d:g3(l,c,d,m,f)}))}var B=w.current,I=M.current,z=S.current,J=A.current,L="0px ".concat(r===-1?1:r,"px"),G="".concat(r,"px 0px"),W=EO(["strokeDasharray"],y,typeof g=="string"?g:y3.animationEasing);return x.createElement(Pi,{animationId:D,key:D,canBegin:r>0,duration:y,easing:g,isActive:b,begin:v},R=>{var F=mt(B,d,R),q=mt(I,m,R),Y=mt(z,l,R),ae=mt(J,c,R);a.current&&(w.current=F,M.current=q,S.current=Y,A.current=ae);var je;j?R>0?je={transition:W,strokeDasharray:G}:je={strokeDasharray:L}:je={strokeDasharray:G};var V=Pn(n),{radius:fe}=V,Ne=x3(V,XF);return x.createElement("path",Qh({},Ne,{radius:typeof f=="number"?f:void 0,className:P,d:g3(Y,ae,F,q,f),ref:a,style:p3(p3({},je),n.style)}))})};function v3(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function b3(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?v3(Object(a),!0).forEach(function(r){nq(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v3(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function nq(e,n,a){return(n=aq(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function aq(e){var n=rq(e,"string");return typeof n=="symbol"?n:n+""}function rq(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var Jh=Math.PI/180,ep=e=>e*Math.PI/180,sq=e=>e*180/Math.PI,Tt=(e,n,a,r)=>({x:e+Math.cos(-Jh*r)*a,y:n+Math.sin(-Jh*r)*a}),_O=function(n,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(n-(r.left||0)-(r.right||0)),Math.abs(a-(r.top||0)-(r.bottom||0)))/2},iq=(e,n)=>{var{x:a,y:r}=e,{x:s,y:l}=n;return Math.sqrt((a-s)**2+(r-l)**2)},lq=(e,n)=>{var{x:a,y:r}=e,{cx:s,cy:l}=n,c=iq({x:a,y:r},{x:s,y:l});if(c<=0)return{radius:c,angle:0};var d=(a-s)/c,m=Math.acos(d);return r>l&&(m=2*Math.PI-m),{radius:c,angle:sq(m),angleInRadian:m}},oq=e=>{var{startAngle:n,endAngle:a}=e,r=Math.floor(n/360),s=Math.floor(a/360),l=Math.min(r,s);return{startAngle:n-l*360,endAngle:a-l*360}},cq=(e,n)=>{var{startAngle:a,endAngle:r}=n,s=Math.floor(a/360),l=Math.floor(r/360),c=Math.min(s,l);return e+c*360},dq=(e,n)=>{var{chartX:a,chartY:r}=e,{radius:s,angle:l}=lq({x:a,y:r},n),{innerRadius:c,outerRadius:d}=n;if(s<c||s>d||s===0)return null;var{startAngle:m,endAngle:f}=oq(n),h=l,g;if(m<=f){for(;h>f;)h-=360;for(;h<m;)h+=360;g=h>=m&&h<=f}else{for(;h>m;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=m}return g?b3(b3({},n),{},{radius:s,angle:cq(h,n)}):null},TO=e=>!x.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function LO(e){var{cx:n,cy:a,radius:r,startAngle:s,endAngle:l}=e,c=Tt(n,a,r,s),d=Tt(n,a,r,l);return{points:[c,d],cx:n,cy:a,radius:r,startAngle:s,endAngle:l}}function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},_b.apply(null,arguments)}var uq=(e,n)=>{var a=qn(n-e),r=Math.min(Math.abs(n-e),359.999);return a*r},ah=e=>{var{cx:n,cy:a,radius:r,angle:s,sign:l,isExternal:c,cornerRadius:d,cornerIsExternal:m}=e,f=d*(c?1:-1)+r,h=Math.asin(d/f)/Jh,g=m?s:s+l*h,y=Tt(n,a,f,g),v=Tt(n,a,r,g),j=m?s-l*h:s,b=Tt(n,a,f*Math.cos(h*Jh),j);return{center:y,circleTangency:v,lineTangency:b,theta:h}},IO=e=>{var{cx:n,cy:a,innerRadius:r,outerRadius:s,startAngle:l,endAngle:c}=e,d=uq(l,c),m=l+d,f=Tt(n,a,s,l),h=Tt(n,a,s,m),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>m),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var y=Tt(n,a,r,l),v=Tt(n,a,r,m);g+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=m),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(n,",").concat(a," Z");return g},mq=e=>{var{cx:n,cy:a,innerRadius:r,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:m,endAngle:f}=e,h=qn(f-m),{circleTangency:g,lineTangency:y,theta:v}=ah({cx:n,cy:a,radius:s,angle:m,sign:h,cornerRadius:l,cornerIsExternal:d}),{circleTangency:j,lineTangency:b,theta:w}=ah({cx:n,cy:a,radius:s,angle:f,sign:-h,cornerRadius:l,cornerIsExternal:d}),M=d?Math.abs(m-f):Math.abs(m-f)-v-w;if(M<0)return c?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):IO({cx:n,cy:a,innerRadius:r,outerRadius:s,startAngle:m,endAngle:f});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(M>180),",").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(r>0){var{circleTangency:A,lineTangency:E,theta:D}=ah({cx:n,cy:a,radius:r,angle:m,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),{circleTangency:P,lineTangency:T,theta:O}=ah({cx:n,cy:a,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),k=d?Math.abs(m-f):Math.abs(m-f)-D-O;if(k<0&&l===0)return"".concat(S,"L").concat(n,",").concat(a,"Z");S+="L".concat(T.x,",").concat(T.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,"Z")}else S+="L".concat(n,",").concat(a,"Z");return S},fq={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zO=e=>{var n=Lt(e,fq),{cx:a,cy:r,innerRadius:s,outerRadius:l,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:m,startAngle:f,endAngle:h,className:g}=n;if(l<s||f===h)return null;var y=ot("recharts-sector",g),v=l-s,j=ba(c,v,0,!0),b;return j>0&&Math.abs(f-h)<360?b=mq({cx:a,cy:r,innerRadius:s,outerRadius:l,cornerRadius:Math.min(j,v/2),forceCornerRadius:d,cornerIsExternal:m,startAngle:f,endAngle:h}):b=IO({cx:a,cy:r,innerRadius:s,outerRadius:l,startAngle:f,endAngle:h}),x.createElement("path",_b({},Pn(n),{className:y,d:b}))};function hq(e,n,a){if(e==="horizontal")return[{x:n.x,y:a.top},{x:n.x,y:a.top+a.height}];if(e==="vertical")return[{x:a.left,y:n.y},{x:a.left+a.width,y:n.y}];if(gE(n)){if(e==="centric"){var{cx:r,cy:s,innerRadius:l,outerRadius:c,angle:d}=n,m=Tt(r,s,l,d),f=Tt(r,s,c,d);return[{x:m.x,y:m.y},{x:f.x,y:f.y}]}return LO(n)}}var av={},rv={},sv={},j3;function pq(){return j3||(j3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=DE();function a(r){return n.isSymbol(r)?NaN:Number(r)}e.toNumber=a})(sv)),sv}var N3;function xq(){return N3||(N3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=pq();function a(r){return r?(r=n.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=a})(rv)),rv}var w3;function gq(){return w3||(w3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=EE(),a=xq();function r(s,l,c){c&&typeof c!="number"&&n.isIterateeCall(s,l,c)&&(l=c=void 0),s=a.toFinite(s),l===void 0?(l=s,s=0):l=a.toFinite(l),c=c===void 0?s<l?1:-1:a.toFinite(c);const d=Math.max(Math.ceil((l-s)/(c||1)),0),m=new Array(d);for(let f=0;f<d;f++)m[f]=s,s+=c;return m}e.range=r})(av)),av}var iv,S3;function yq(){return S3||(S3=1,iv=gq().range),iv}var vq=yq();const BO=$r(vq);function xl(e,n){return e==null||n==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function bq(e,n){return e==null||n==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function nN(e){let n,a,r;e.length!==2?(n=xl,a=(d,m)=>xl(e(d),m),r=(d,m)=>e(d)-m):(n=e===xl||e===bq?e:jq,a=e,r=e);function s(d,m,f=0,h=d.length){if(f<h){if(n(m,m)!==0)return h;do{const g=f+h>>>1;a(d[g],m)<0?f=g+1:h=g}while(f<h)}return f}function l(d,m,f=0,h=d.length){if(f<h){if(n(m,m)!==0)return h;do{const g=f+h>>>1;a(d[g],m)<=0?f=g+1:h=g}while(f<h)}return f}function c(d,m,f=0,h=d.length){const g=s(d,m,f,h-1);return g>f&&r(d[g-1],m)>-r(d[g],m)?g-1:g}return{left:s,center:c,right:l}}function jq(){return 0}function $O(e){return e===null?NaN:+e}function*Nq(e,n){for(let a of e)a!=null&&(a=+a)>=a&&(yield a)}const wq=nN(xl),lm=wq.right;nN($O).center;class A3 extends Map{constructor(n,a=Cq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),n!=null)for(const[r,s]of n)this.set(r,s)}get(n){return super.get(C3(this,n))}has(n){return super.has(C3(this,n))}set(n,a){return super.set(Sq(this,n),a)}delete(n){return super.delete(Aq(this,n))}}function C3({_intern:e,_key:n},a){const r=n(a);return e.has(r)?e.get(r):a}function Sq({_intern:e,_key:n},a){const r=n(a);return e.has(r)?e.get(r):(e.set(r,a),a)}function Aq({_intern:e,_key:n},a){const r=n(a);return e.has(r)&&(a=e.get(r),e.delete(r)),a}function Cq(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Mq(e=xl){if(e===xl)return FO;if(typeof e!="function")throw new TypeError("compare is not a function");return(n,a)=>{const r=e(n,a);return r||r===0?r:(e(a,a)===0)-(e(n,n)===0)}}function FO(e,n){return(e==null||!(e>=e))-(n==null||!(n>=n))||(e<n?-1:e>n?1:0)}const Dq=Math.sqrt(50),Eq=Math.sqrt(10),Oq=Math.sqrt(2);function tp(e,n,a){const r=(n-e)/Math.max(0,a),s=Math.floor(Math.log10(r)),l=r/Math.pow(10,s),c=l>=Dq?10:l>=Eq?5:l>=Oq?2:1;let d,m,f;return s<0?(f=Math.pow(10,-s)/c,d=Math.round(e*f),m=Math.round(n*f),d/f<e&&++d,m/f>n&&--m,f=-f):(f=Math.pow(10,s)*c,d=Math.round(e/f),m=Math.round(n/f),d*f<e&&++d,m*f>n&&--m),m<d&&.5<=a&&a<2?tp(e,n,a*2):[d,m,f]}function Tb(e,n,a){if(n=+n,e=+e,a=+a,!(a>0))return[];if(e===n)return[e];const r=n<e,[s,l,c]=r?tp(n,e,a):tp(e,n,a);if(!(l>=s))return[];const d=l-s+1,m=new Array(d);if(r)if(c<0)for(let f=0;f<d;++f)m[f]=(l-f)/-c;else for(let f=0;f<d;++f)m[f]=(l-f)*c;else if(c<0)for(let f=0;f<d;++f)m[f]=(s+f)/-c;else for(let f=0;f<d;++f)m[f]=(s+f)*c;return m}function Lb(e,n,a){return n=+n,e=+e,a=+a,tp(e,n,a)[2]}function Ib(e,n,a){n=+n,e=+e,a=+a;const r=n<e,s=r?Lb(n,e,a):Lb(e,n,a);return(r?-1:1)*(s<0?1/-s:s)}function M3(e,n){let a;for(const r of e)r!=null&&(a<r||a===void 0&&r>=r)&&(a=r);return a}function D3(e,n){let a;for(const r of e)r!=null&&(a>r||a===void 0&&r>=r)&&(a=r);return a}function qO(e,n,a=0,r=1/0,s){if(n=Math.floor(n),a=Math.floor(Math.max(0,a)),r=Math.floor(Math.min(e.length-1,r)),!(a<=n&&n<=r))return e;for(s=s===void 0?FO:Mq(s);r>a;){if(r-a>600){const m=r-a+1,f=n-a+1,h=Math.log(m),g=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*g*(m-g)/m)*(f-m/2<0?-1:1),v=Math.max(a,Math.floor(n-f*g/m+y)),j=Math.min(r,Math.floor(n+(m-f)*g/m+y));qO(e,n,v,j,s)}const l=e[n];let c=a,d=r;for(su(e,a,n),s(e[r],l)>0&&su(e,a,r);c<d;){for(su(e,c,d),++c,--d;s(e[c],l)<0;)++c;for(;s(e[d],l)>0;)--d}s(e[a],l)===0?su(e,a,d):(++d,su(e,d,r)),d<=n&&(a=d+1),n<=d&&(r=d-1)}return e}function su(e,n,a){const r=e[n];e[n]=e[a],e[a]=r}function Pq(e,n,a){if(e=Float64Array.from(Nq(e)),!(!(r=e.length)||isNaN(n=+n))){if(n<=0||r<2)return D3(e);if(n>=1)return M3(e);var r,s=(r-1)*n,l=Math.floor(s),c=M3(qO(e,l).subarray(0,l+1)),d=D3(e.subarray(l+1));return c+(d-c)*(s-l)}}function kq(e,n,a=$O){if(!(!(r=e.length)||isNaN(n=+n))){if(n<=0||r<2)return+a(e[0],0,e);if(n>=1)return+a(e[r-1],r-1,e);var r,s=(r-1)*n,l=Math.floor(s),c=+a(e[l],l,e),d=+a(e[l+1],l+1,e);return c+(d-c)*(s-l)}}function Rq(e,n,a){e=+e,n=+n,a=(s=arguments.length)<2?(n=e,e=0,1):s<3?1:+a;for(var r=-1,s=Math.max(0,Math.ceil((n-e)/a))|0,l=new Array(s);++r<s;)l[r]=e+r*a;return l}function Hr(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}function Ri(e,n){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const zb=Symbol("implicit");function aN(){var e=new A3,n=[],a=[],r=zb;function s(l){let c=e.get(l);if(c===void 0){if(r!==zb)return r;e.set(l,c=n.push(l)-1)}return a[c%a.length]}return s.domain=function(l){if(!arguments.length)return n.slice();n=[],e=new A3;for(const c of l)e.has(c)||e.set(c,n.push(c)-1);return s},s.range=function(l){return arguments.length?(a=Array.from(l),s):a.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return aN(n,a).unknown(r)},Hr.apply(s,arguments),s}function rN(){var e=aN().unknown(void 0),n=e.domain,a=e.range,r=0,s=1,l,c,d=!1,m=0,f=0,h=.5;delete e.unknown;function g(){var y=n().length,v=s<r,j=v?s:r,b=v?r:s;l=(b-j)/Math.max(1,y-m+f*2),d&&(l=Math.floor(l)),j+=(b-j-l*(y-m))*h,c=l*(1-m),d&&(j=Math.round(j),c=Math.round(c));var w=Rq(y).map(function(M){return j+l*M});return a(v?w.reverse():w)}return e.domain=function(y){return arguments.length?(n(y),g()):n()},e.range=function(y){return arguments.length?([r,s]=y,r=+r,s=+s,g()):[r,s]},e.rangeRound=function(y){return[r,s]=y,r=+r,s=+s,d=!0,g()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(y){return arguments.length?(d=!!y,g()):d},e.padding=function(y){return arguments.length?(m=Math.min(1,f=+y),g()):m},e.paddingInner=function(y){return arguments.length?(m=Math.min(1,y),g()):m},e.paddingOuter=function(y){return arguments.length?(f=+y,g()):f},e.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),g()):h},e.copy=function(){return rN(n(),[r,s]).round(d).paddingInner(m).paddingOuter(f).align(h)},Hr.apply(g(),arguments)}function HO(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return HO(n())},e}function _q(){return HO(rN.apply(null,arguments).paddingInner(1))}function sN(e,n,a){e.prototype=n.prototype=a,a.constructor=e}function UO(e,n){var a=Object.create(e.prototype);for(var r in n)a[r]=n[r];return a}function om(){}var Iu=.7,np=1/Iu,Mc="\\s*([+-]?\\d+)\\s*",zu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",js="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tq=/^#([0-9a-f]{3,8})$/,Lq=new RegExp(`^rgb\\(${Mc},${Mc},${Mc}\\)$`),Iq=new RegExp(`^rgb\\(${js},${js},${js}\\)$`),zq=new RegExp(`^rgba\\(${Mc},${Mc},${Mc},${zu}\\)$`),Bq=new RegExp(`^rgba\\(${js},${js},${js},${zu}\\)$`),$q=new RegExp(`^hsl\\(${zu},${js},${js}\\)$`),Fq=new RegExp(`^hsla\\(${zu},${js},${js},${zu}\\)$`),E3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sN(om,Bu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:O3,formatHex:O3,formatHex8:qq,formatHsl:Hq,formatRgb:P3,toString:P3});function O3(){return this.rgb().formatHex()}function qq(){return this.rgb().formatHex8()}function Hq(){return VO(this).formatHsl()}function P3(){return this.rgb().formatRgb()}function Bu(e){var n,a;return e=(e+"").trim().toLowerCase(),(n=Tq.exec(e))?(a=n[1].length,n=parseInt(n[1],16),a===6?k3(n):a===3?new Ba(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):a===8?rh(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):a===4?rh(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Lq.exec(e))?new Ba(n[1],n[2],n[3],1):(n=Iq.exec(e))?new Ba(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=zq.exec(e))?rh(n[1],n[2],n[3],n[4]):(n=Bq.exec(e))?rh(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=$q.exec(e))?T3(n[1],n[2]/100,n[3]/100,1):(n=Fq.exec(e))?T3(n[1],n[2]/100,n[3]/100,n[4]):E3.hasOwnProperty(e)?k3(E3[e]):e==="transparent"?new Ba(NaN,NaN,NaN,0):null}function k3(e){return new Ba(e>>16&255,e>>8&255,e&255,1)}function rh(e,n,a,r){return r<=0&&(e=n=a=NaN),new Ba(e,n,a,r)}function Uq(e){return e instanceof om||(e=Bu(e)),e?(e=e.rgb(),new Ba(e.r,e.g,e.b,e.opacity)):new Ba}function Bb(e,n,a,r){return arguments.length===1?Uq(e):new Ba(e,n,a,r??1)}function Ba(e,n,a,r){this.r=+e,this.g=+n,this.b=+a,this.opacity=+r}sN(Ba,Bb,UO(om,{brighter(e){return e=e==null?np:Math.pow(np,e),new Ba(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Iu:Math.pow(Iu,e),new Ba(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ba(to(this.r),to(this.g),to(this.b),ap(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:R3,formatHex:R3,formatHex8:Vq,formatRgb:_3,toString:_3}));function R3(){return`#${Yl(this.r)}${Yl(this.g)}${Yl(this.b)}`}function Vq(){return`#${Yl(this.r)}${Yl(this.g)}${Yl(this.b)}${Yl((isNaN(this.opacity)?1:this.opacity)*255)}`}function _3(){const e=ap(this.opacity);return`${e===1?"rgb(":"rgba("}${to(this.r)}, ${to(this.g)}, ${to(this.b)}${e===1?")":`, ${e})`}`}function ap(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function to(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yl(e){return e=to(e),(e<16?"0":"")+e.toString(16)}function T3(e,n,a,r){return r<=0?e=n=a=NaN:a<=0||a>=1?e=n=NaN:n<=0&&(e=NaN),new Qr(e,n,a,r)}function VO(e){if(e instanceof Qr)return new Qr(e.h,e.s,e.l,e.opacity);if(e instanceof om||(e=Bu(e)),!e)return new Qr;if(e instanceof Qr)return e;e=e.rgb();var n=e.r/255,a=e.g/255,r=e.b/255,s=Math.min(n,a,r),l=Math.max(n,a,r),c=NaN,d=l-s,m=(l+s)/2;return d?(n===l?c=(a-r)/d+(a<r)*6:a===l?c=(r-n)/d+2:c=(n-a)/d+4,d/=m<.5?l+s:2-l-s,c*=60):d=m>0&&m<1?0:c,new Qr(c,d,m,e.opacity)}function Kq(e,n,a,r){return arguments.length===1?VO(e):new Qr(e,n,a,r??1)}function Qr(e,n,a,r){this.h=+e,this.s=+n,this.l=+a,this.opacity=+r}sN(Qr,Kq,UO(om,{brighter(e){return e=e==null?np:Math.pow(np,e),new Qr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Iu:Math.pow(Iu,e),new Qr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,r=a+(a<.5?a:1-a)*n,s=2*a-r;return new Ba(lv(e>=240?e-240:e+120,s,r),lv(e,s,r),lv(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Qr(L3(this.h),sh(this.s),sh(this.l),ap(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ap(this.opacity);return`${e===1?"hsl(":"hsla("}${L3(this.h)}, ${sh(this.s)*100}%, ${sh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function L3(e){return e=(e||0)%360,e<0?e+360:e}function sh(e){return Math.max(0,Math.min(1,e||0))}function lv(e,n,a){return(e<60?n+(a-n)*e/60:e<180?a:e<240?n+(a-n)*(240-e)/60:n)*255}const iN=e=>()=>e;function Wq(e,n){return function(a){return e+a*n}}function Yq(e,n,a){return e=Math.pow(e,a),n=Math.pow(n,a)-e,a=1/a,function(r){return Math.pow(e+r*n,a)}}function Gq(e){return(e=+e)==1?KO:function(n,a){return a-n?Yq(n,a,e):iN(isNaN(n)?a:n)}}function KO(e,n){var a=n-e;return a?Wq(e,a):iN(isNaN(e)?n:e)}const I3=(function e(n){var a=Gq(n);function r(s,l){var c=a((s=Bb(s)).r,(l=Bb(l)).r),d=a(s.g,l.g),m=a(s.b,l.b),f=KO(s.opacity,l.opacity);return function(h){return s.r=c(h),s.g=d(h),s.b=m(h),s.opacity=f(h),s+""}}return r.gamma=e,r})(1);function Zq(e,n){n||(n=[]);var a=e?Math.min(n.length,e.length):0,r=n.slice(),s;return function(l){for(s=0;s<a;++s)r[s]=e[s]*(1-l)+n[s]*l;return r}}function Xq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Qq(e,n){var a=n?n.length:0,r=e?Math.min(a,e.length):0,s=new Array(r),l=new Array(a),c;for(c=0;c<r;++c)s[c]=Uc(e[c],n[c]);for(;c<a;++c)l[c]=n[c];return function(d){for(c=0;c<r;++c)l[c]=s[c](d);return l}}function Jq(e,n){var a=new Date;return e=+e,n=+n,function(r){return a.setTime(e*(1-r)+n*r),a}}function rp(e,n){return e=+e,n=+n,function(a){return e*(1-a)+n*a}}function eH(e,n){var a={},r={},s;(e===null||typeof e!="object")&&(e={}),(n===null||typeof n!="object")&&(n={});for(s in n)s in e?a[s]=Uc(e[s],n[s]):r[s]=n[s];return function(l){for(s in a)r[s]=a[s](l);return r}}var $b=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ov=new RegExp($b.source,"g");function tH(e){return function(){return e}}function nH(e){return function(n){return e(n)+""}}function aH(e,n){var a=$b.lastIndex=ov.lastIndex=0,r,s,l,c=-1,d=[],m=[];for(e=e+"",n=n+"";(r=$b.exec(e))&&(s=ov.exec(n));)(l=s.index)>a&&(l=n.slice(a,l),d[c]?d[c]+=l:d[++c]=l),(r=r[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,m.push({i:c,x:rp(r,s)})),a=ov.lastIndex;return a<n.length&&(l=n.slice(a),d[c]?d[c]+=l:d[++c]=l),d.length<2?m[0]?nH(m[0].x):tH(n):(n=m.length,function(f){for(var h=0,g;h<n;++h)d[(g=m[h]).i]=g.x(f);return d.join("")})}function Uc(e,n){var a=typeof n,r;return n==null||a==="boolean"?iN(n):(a==="number"?rp:a==="string"?(r=Bu(n))?(n=r,I3):aH:n instanceof Bu?I3:n instanceof Date?Jq:Xq(n)?Zq:Array.isArray(n)?Qq:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?eH:rp)(e,n)}function lN(e,n){return e=+e,n=+n,function(a){return Math.round(e*(1-a)+n*a)}}function rH(e,n){n===void 0&&(n=e,e=Uc);for(var a=0,r=n.length-1,s=n[0],l=new Array(r<0?0:r);a<r;)l[a]=e(s,s=n[++a]);return function(c){var d=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return l[d](c-d)}}function sH(e){return function(){return e}}function sp(e){return+e}var z3=[0,1];function Sa(e){return e}function Fb(e,n){return(n-=e=+e)?function(a){return(a-e)/n}:sH(isNaN(n)?NaN:.5)}function iH(e,n){var a;return e>n&&(a=e,e=n,n=a),function(r){return Math.max(e,Math.min(n,r))}}function lH(e,n,a){var r=e[0],s=e[1],l=n[0],c=n[1];return s<r?(r=Fb(s,r),l=a(c,l)):(r=Fb(r,s),l=a(l,c)),function(d){return l(r(d))}}function oH(e,n,a){var r=Math.min(e.length,n.length)-1,s=new Array(r),l=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++c<r;)s[c]=Fb(e[c],e[c+1]),l[c]=a(n[c],n[c+1]);return function(d){var m=lm(e,d,1,r)-1;return l[m](s[m](d))}}function cm(e,n){return n.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function rx(){var e=z3,n=z3,a=Uc,r,s,l,c=Sa,d,m,f;function h(){var y=Math.min(e.length,n.length);return c!==Sa&&(c=iH(e[0],e[y-1])),d=y>2?oH:lH,m=f=null,g}function g(y){return y==null||isNaN(y=+y)?l:(m||(m=d(e.map(r),n,a)))(r(c(y)))}return g.invert=function(y){return c(s((f||(f=d(n,e.map(r),rp)))(y)))},g.domain=function(y){return arguments.length?(e=Array.from(y,sp),h()):e.slice()},g.range=function(y){return arguments.length?(n=Array.from(y),h()):n.slice()},g.rangeRound=function(y){return n=Array.from(y),a=lN,h()},g.clamp=function(y){return arguments.length?(c=y?!0:Sa,h()):c!==Sa},g.interpolate=function(y){return arguments.length?(a=y,h()):a},g.unknown=function(y){return arguments.length?(l=y,g):l},function(y,v){return r=y,s=v,h()}}function oN(){return rx()(Sa,Sa)}function cH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ip(e,n){if((a=(e=n?e.toExponential(n-1):e.toExponential()).indexOf("e"))<0)return null;var a,r=e.slice(0,a);return[r.length>1?r[0]+r.slice(2):r,+e.slice(a+1)]}function Lc(e){return e=ip(Math.abs(e)),e?e[1]:NaN}function dH(e,n){return function(a,r){for(var s=a.length,l=[],c=0,d=e[0],m=0;s>0&&d>0&&(m+d+1>r&&(d=Math.max(1,r-m)),l.push(a.substring(s-=d,s+d)),!((m+=d+1)>r));)d=e[c=(c+1)%e.length];return l.reverse().join(n)}}function uH(e){return function(n){return n.replace(/[0-9]/g,function(a){return e[+a]})}}var mH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $u(e){if(!(n=mH.exec(e)))throw new Error("invalid format: "+e);var n;return new cN({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}$u.prototype=cN.prototype;function cN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}cN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fH(e){e:for(var n=e.length,a=1,r=-1,s;a<n;++a)switch(e[a]){case".":r=s=a;break;case"0":r===0&&(r=a),s=a;break;default:if(!+e[a])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var WO;function hH(e,n){var a=ip(e,n);if(!a)return e+"";var r=a[0],s=a[1],l=s-(WO=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=r.length;return l===c?r:l>c?r+new Array(l-c+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+ip(e,Math.max(0,n+l-1))[0]}function B3(e,n){var a=ip(e,n);if(!a)return e+"";var r=a[0],s=a[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const $3={"%":(e,n)=>(e*100).toFixed(n),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cH,e:(e,n)=>e.toExponential(n),f:(e,n)=>e.toFixed(n),g:(e,n)=>e.toPrecision(n),o:e=>Math.round(e).toString(8),p:(e,n)=>B3(e*100,n),r:B3,s:hH,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function F3(e){return e}var q3=Array.prototype.map,H3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pH(e){var n=e.grouping===void 0||e.thousands===void 0?F3:dH(q3.call(e.grouping,Number),e.thousands+""),a=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?F3:uH(q3.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function f(g){g=$u(g);var y=g.fill,v=g.align,j=g.sign,b=g.symbol,w=g.zero,M=g.width,S=g.comma,A=g.precision,E=g.trim,D=g.type;D==="n"?(S=!0,D="g"):$3[D]||(A===void 0&&(A=12),E=!0,D="g"),(w||y==="0"&&v==="=")&&(w=!0,y="0",v="=");var P=b==="$"?a:b==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",T=b==="$"?r:/[%p]/.test(D)?c:"",O=$3[D],k=/[defgprs%]/.test(D);A=A===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function B(I){var z=P,J=T,L,G,W;if(D==="c")J=O(I)+J,I="";else{I=+I;var R=I<0||1/I<0;if(I=isNaN(I)?m:O(Math.abs(I),A),E&&(I=fH(I)),R&&+I==0&&j!=="+"&&(R=!1),z=(R?j==="("?j:d:j==="-"||j==="("?"":j)+z,J=(D==="s"?H3[8+WO/3]:"")+J+(R&&j==="("?")":""),k){for(L=-1,G=I.length;++L<G;)if(W=I.charCodeAt(L),48>W||W>57){J=(W===46?s+I.slice(L+1):I.slice(L))+J,I=I.slice(0,L);break}}}S&&!w&&(I=n(I,1/0));var F=z.length+I.length+J.length,q=F<M?new Array(M-F+1).join(y):"";switch(S&&w&&(I=n(q+I,q.length?M-J.length:1/0),q=""),v){case"<":I=z+I+J+q;break;case"=":I=z+q+I+J;break;case"^":I=q.slice(0,F=q.length>>1)+z+I+J+q.slice(F);break;default:I=q+z+I+J;break}return l(I)}return B.toString=function(){return g+""},B}function h(g,y){var v=f((g=$u(g),g.type="f",g)),j=Math.max(-8,Math.min(8,Math.floor(Lc(y)/3)))*3,b=Math.pow(10,-j),w=H3[8+j/3];return function(M){return v(b*M)+w}}return{format:f,formatPrefix:h}}var ih,dN,YO;xH({thousands:",",grouping:[3],currency:["$",""]});function xH(e){return ih=pH(e),dN=ih.format,YO=ih.formatPrefix,ih}function gH(e){return Math.max(0,-Lc(Math.abs(e)))}function yH(e,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Lc(n)/3)))*3-Lc(Math.abs(e)))}function vH(e,n){return e=Math.abs(e),n=Math.abs(n)-e,Math.max(0,Lc(n)-Lc(e))+1}function GO(e,n,a,r){var s=Ib(e,n,a),l;switch(r=$u(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(n));return r.precision==null&&!isNaN(l=yH(s,c))&&(r.precision=l),YO(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=vH(s,Math.max(Math.abs(e),Math.abs(n))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=gH(s))&&(r.precision=l-(r.type==="%")*2);break}}return dN(r)}function jl(e){var n=e.domain;return e.ticks=function(a){var r=n();return Tb(r[0],r[r.length-1],a??10)},e.tickFormat=function(a,r){var s=n();return GO(s[0],s[s.length-1],a??10,r)},e.nice=function(a){a==null&&(a=10);var r=n(),s=0,l=r.length-1,c=r[s],d=r[l],m,f,h=10;for(d<c&&(f=c,c=d,d=f,f=s,s=l,l=f);h-- >0;){if(f=Lb(c,d,a),f===m)return r[s]=c,r[l]=d,n(r);if(f>0)c=Math.floor(c/f)*f,d=Math.ceil(d/f)*f;else if(f<0)c=Math.ceil(c*f)/f,d=Math.floor(d*f)/f;else break;m=f}return e},e}function ZO(){var e=oN();return e.copy=function(){return cm(e,ZO())},Hr.apply(e,arguments),jl(e)}function XO(e){var n;function a(r){return r==null||isNaN(r=+r)?n:r}return a.invert=a,a.domain=a.range=function(r){return arguments.length?(e=Array.from(r,sp),a):e.slice()},a.unknown=function(r){return arguments.length?(n=r,a):n},a.copy=function(){return XO(e).unknown(n)},e=arguments.length?Array.from(e,sp):[0,1],jl(a)}function QO(e,n){e=e.slice();var a=0,r=e.length-1,s=e[a],l=e[r],c;return l<s&&(c=a,a=r,r=c,c=s,s=l,l=c),e[a]=n.floor(s),e[r]=n.ceil(l),e}function U3(e){return Math.log(e)}function V3(e){return Math.exp(e)}function bH(e){return-Math.log(-e)}function jH(e){return-Math.exp(-e)}function NH(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wH(e){return e===10?NH:e===Math.E?Math.exp:n=>Math.pow(e,n)}function SH(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),n=>Math.log(n)/e)}function K3(e){return(n,a)=>-e(-n,a)}function uN(e){const n=e(U3,V3),a=n.domain;let r=10,s,l;function c(){return s=SH(r),l=wH(r),a()[0]<0?(s=K3(s),l=K3(l),e(bH,jH)):e(U3,V3),n}return n.base=function(d){return arguments.length?(r=+d,c()):r},n.domain=function(d){return arguments.length?(a(d),c()):a()},n.ticks=d=>{const m=a();let f=m[0],h=m[m.length-1];const g=h<f;g&&([f,h]=[h,f]);let y=s(f),v=s(h),j,b;const w=d==null?10:+d;let M=[];if(!(r%1)&&v-y<w){if(y=Math.floor(y),v=Math.ceil(v),f>0){for(;y<=v;++y)for(j=1;j<r;++j)if(b=y<0?j/l(-y):j*l(y),!(b<f)){if(b>h)break;M.push(b)}}else for(;y<=v;++y)for(j=r-1;j>=1;--j)if(b=y>0?j/l(-y):j*l(y),!(b<f)){if(b>h)break;M.push(b)}M.length*2<w&&(M=Tb(f,h,w))}else M=Tb(y,v,Math.min(v-y,w)).map(l);return g?M.reverse():M},n.tickFormat=(d,m)=>{if(d==null&&(d=10),m==null&&(m=r===10?"s":","),typeof m!="function"&&(!(r%1)&&(m=$u(m)).precision==null&&(m.trim=!0),m=dN(m)),d===1/0)return m;const f=Math.max(1,r*d/n.ticks().length);return h=>{let g=h/l(Math.round(s(h)));return g*r<r-.5&&(g*=r),g<=f?m(h):""}},n.nice=()=>a(QO(a(),{floor:d=>l(Math.floor(s(d))),ceil:d=>l(Math.ceil(s(d)))})),n}function JO(){const e=uN(rx()).domain([1,10]);return e.copy=()=>cm(e,JO()).base(e.base()),Hr.apply(e,arguments),e}function W3(e){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/e))}}function Y3(e){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*e}}function mN(e){var n=1,a=e(W3(n),Y3(n));return a.constant=function(r){return arguments.length?e(W3(n=+r),Y3(n)):n},jl(a)}function eP(){var e=mN(rx());return e.copy=function(){return cm(e,eP()).constant(e.constant())},Hr.apply(e,arguments)}function G3(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function AH(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function CH(e){return e<0?-e*e:e*e}function fN(e){var n=e(Sa,Sa),a=1;function r(){return a===1?e(Sa,Sa):a===.5?e(AH,CH):e(G3(a),G3(1/a))}return n.exponent=function(s){return arguments.length?(a=+s,r()):a},jl(n)}function hN(){var e=fN(rx());return e.copy=function(){return cm(e,hN()).exponent(e.exponent())},Hr.apply(e,arguments),e}function MH(){return hN.apply(null,arguments).exponent(.5)}function Z3(e){return Math.sign(e)*e*e}function DH(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function tP(){var e=oN(),n=[0,1],a=!1,r;function s(l){var c=DH(e(l));return isNaN(c)?r:a?Math.round(c):c}return s.invert=function(l){return e.invert(Z3(l))},s.domain=function(l){return arguments.length?(e.domain(l),s):e.domain()},s.range=function(l){return arguments.length?(e.range((n=Array.from(l,sp)).map(Z3)),s):n.slice()},s.rangeRound=function(l){return s.range(l).round(!0)},s.round=function(l){return arguments.length?(a=!!l,s):a},s.clamp=function(l){return arguments.length?(e.clamp(l),s):e.clamp()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return tP(e.domain(),n).round(a).clamp(e.clamp()).unknown(r)},Hr.apply(s,arguments),jl(s)}function nP(){var e=[],n=[],a=[],r;function s(){var c=0,d=Math.max(1,n.length);for(a=new Array(d-1);++c<d;)a[c-1]=kq(e,c/d);return l}function l(c){return c==null||isNaN(c=+c)?r:n[lm(a,c)]}return l.invertExtent=function(c){var d=n.indexOf(c);return d<0?[NaN,NaN]:[d>0?a[d-1]:e[0],d<a.length?a[d]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(xl),s()},l.range=function(c){return arguments.length?(n=Array.from(c),s()):n.slice()},l.unknown=function(c){return arguments.length?(r=c,l):r},l.quantiles=function(){return a.slice()},l.copy=function(){return nP().domain(e).range(n).unknown(r)},Hr.apply(l,arguments)}function aP(){var e=0,n=1,a=1,r=[.5],s=[0,1],l;function c(m){return m!=null&&m<=m?s[lm(r,m,0,a)]:l}function d(){var m=-1;for(r=new Array(a);++m<a;)r[m]=((m+1)*n-(m-a)*e)/(a+1);return c}return c.domain=function(m){return arguments.length?([e,n]=m,e=+e,n=+n,d()):[e,n]},c.range=function(m){return arguments.length?(a=(s=Array.from(m)).length-1,d()):s.slice()},c.invertExtent=function(m){var f=s.indexOf(m);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=a?[r[a-1],n]:[r[f-1],r[f]]},c.unknown=function(m){return arguments.length&&(l=m),c},c.thresholds=function(){return r.slice()},c.copy=function(){return aP().domain([e,n]).range(s).unknown(l)},Hr.apply(jl(c),arguments)}function rP(){var e=[.5],n=[0,1],a,r=1;function s(l){return l!=null&&l<=l?n[lm(e,l,0,r)]:a}return s.domain=function(l){return arguments.length?(e=Array.from(l),r=Math.min(e.length,n.length-1),s):e.slice()},s.range=function(l){return arguments.length?(n=Array.from(l),r=Math.min(e.length,n.length-1),s):n.slice()},s.invertExtent=function(l){var c=n.indexOf(l);return[e[c-1],e[c]]},s.unknown=function(l){return arguments.length?(a=l,s):a},s.copy=function(){return rP().domain(e).range(n).unknown(a)},Hr.apply(s,arguments)}const cv=new Date,dv=new Date;function Gn(e,n,a,r){function s(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return s.floor=l=>(e(l=new Date(+l)),l),s.ceil=l=>(e(l=new Date(l-1)),n(l,1),e(l),l),s.round=l=>{const c=s(l),d=s.ceil(l);return l-c<d-l?c:d},s.offset=(l,c)=>(n(l=new Date(+l),c==null?1:Math.floor(c)),l),s.range=(l,c,d)=>{const m=[];if(l=s.ceil(l),d=d==null?1:Math.floor(d),!(l<c)||!(d>0))return m;let f;do m.push(f=new Date(+l)),n(l,d),e(l);while(f<l&&l<c);return m},s.filter=l=>Gn(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;n(c,-1),!l(c););else for(;--d>=0;)for(;n(c,1),!l(c););}),a&&(s.count=(l,c)=>(cv.setTime(+l),dv.setTime(+c),e(cv),e(dv),Math.floor(a(cv,dv))),s.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?s.filter(r?c=>r(c)%l===0:c=>s.count(0,c)%l===0):s)),s}const lp=Gn(()=>{},(e,n)=>{e.setTime(+e+n)},(e,n)=>n-e);lp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Gn(n=>{n.setTime(Math.floor(n/e)*e)},(n,a)=>{n.setTime(+n+a*e)},(n,a)=>(a-n)/e):lp);lp.range;const li=1e3,Pr=li*60,oi=Pr*60,Ni=oi*24,pN=Ni*7,X3=Ni*30,uv=Ni*365,Gl=Gn(e=>{e.setTime(e-e.getMilliseconds())},(e,n)=>{e.setTime(+e+n*li)},(e,n)=>(n-e)/li,e=>e.getUTCSeconds());Gl.range;const xN=Gn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*li)},(e,n)=>{e.setTime(+e+n*Pr)},(e,n)=>(n-e)/Pr,e=>e.getMinutes());xN.range;const gN=Gn(e=>{e.setUTCSeconds(0,0)},(e,n)=>{e.setTime(+e+n*Pr)},(e,n)=>(n-e)/Pr,e=>e.getUTCMinutes());gN.range;const yN=Gn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*li-e.getMinutes()*Pr)},(e,n)=>{e.setTime(+e+n*oi)},(e,n)=>(n-e)/oi,e=>e.getHours());yN.range;const vN=Gn(e=>{e.setUTCMinutes(0,0,0)},(e,n)=>{e.setTime(+e+n*oi)},(e,n)=>(n-e)/oi,e=>e.getUTCHours());vN.range;const dm=Gn(e=>e.setHours(0,0,0,0),(e,n)=>e.setDate(e.getDate()+n),(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Pr)/Ni,e=>e.getDate()-1);dm.range;const sx=Gn(e=>{e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n)},(e,n)=>(n-e)/Ni,e=>e.getUTCDate()-1);sx.range;const sP=Gn(e=>{e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n)},(e,n)=>(n-e)/Ni,e=>Math.floor(e/Ni));sP.range;function yo(e){return Gn(n=>{n.setDate(n.getDate()-(n.getDay()+7-e)%7),n.setHours(0,0,0,0)},(n,a)=>{n.setDate(n.getDate()+a*7)},(n,a)=>(a-n-(a.getTimezoneOffset()-n.getTimezoneOffset())*Pr)/pN)}const ix=yo(0),op=yo(1),EH=yo(2),OH=yo(3),Ic=yo(4),PH=yo(5),kH=yo(6);ix.range;op.range;EH.range;OH.range;Ic.range;PH.range;kH.range;function vo(e){return Gn(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-e)%7),n.setUTCHours(0,0,0,0)},(n,a)=>{n.setUTCDate(n.getUTCDate()+a*7)},(n,a)=>(a-n)/pN)}const lx=vo(0),cp=vo(1),RH=vo(2),_H=vo(3),zc=vo(4),TH=vo(5),LH=vo(6);lx.range;cp.range;RH.range;_H.range;zc.range;TH.range;LH.range;const bN=Gn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,n)=>{e.setMonth(e.getMonth()+n)},(e,n)=>n.getMonth()-e.getMonth()+(n.getFullYear()-e.getFullYear())*12,e=>e.getMonth());bN.range;const jN=Gn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCMonth(e.getUTCMonth()+n)},(e,n)=>n.getUTCMonth()-e.getUTCMonth()+(n.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());jN.range;const wi=Gn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n)},(e,n)=>n.getFullYear()-e.getFullYear(),e=>e.getFullYear());wi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gn(n=>{n.setFullYear(Math.floor(n.getFullYear()/e)*e),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,a)=>{n.setFullYear(n.getFullYear()+a*e)});wi.range;const Si=Gn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n)},(e,n)=>n.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Si.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gn(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/e)*e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,a)=>{n.setUTCFullYear(n.getUTCFullYear()+a*e)});Si.range;function iP(e,n,a,r,s,l){const c=[[Gl,1,li],[Gl,5,5*li],[Gl,15,15*li],[Gl,30,30*li],[l,1,Pr],[l,5,5*Pr],[l,15,15*Pr],[l,30,30*Pr],[s,1,oi],[s,3,3*oi],[s,6,6*oi],[s,12,12*oi],[r,1,Ni],[r,2,2*Ni],[a,1,pN],[n,1,X3],[n,3,3*X3],[e,1,uv]];function d(f,h,g){const y=h<f;y&&([f,h]=[h,f]);const v=g&&typeof g.range=="function"?g:m(f,h,g),j=v?v.range(f,+h+1):[];return y?j.reverse():j}function m(f,h,g){const y=Math.abs(h-f)/g,v=nN(([,,w])=>w).right(c,y);if(v===c.length)return e.every(Ib(f/uv,h/uv,g));if(v===0)return lp.every(Math.max(Ib(f,h,g),1));const[j,b]=c[y/c[v-1][2]<c[v][2]/y?v-1:v];return j.every(b)}return[d,m]}const[IH,zH]=iP(Si,jN,lx,sP,vN,gN),[BH,$H]=iP(wi,bN,ix,dm,yN,xN);function mv(e){if(0<=e.y&&e.y<100){var n=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return n.setFullYear(e.y),n}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fv(e){if(0<=e.y&&e.y<100){var n=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return n.setUTCFullYear(e.y),n}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function iu(e,n,a){return{y:e,m:n,d:a,H:0,M:0,S:0,L:0}}function FH(e){var n=e.dateTime,a=e.date,r=e.time,s=e.periods,l=e.days,c=e.shortDays,d=e.months,m=e.shortMonths,f=lu(s),h=ou(s),g=lu(l),y=ou(l),v=lu(c),j=ou(c),b=lu(d),w=ou(d),M=lu(m),S=ou(m),A={a:R,A:F,b:q,B:Y,c:null,d:aM,e:aM,f:dU,g:bU,G:NU,H:lU,I:oU,j:cU,L:lP,m:uU,M:mU,p:ae,q:je,Q:iM,s:lM,S:fU,u:hU,U:pU,V:xU,w:gU,W:yU,x:null,X:null,y:vU,Y:jU,Z:wU,"%":sM},E={a:V,A:fe,b:Ne,B:se,c:null,d:rM,e:rM,f:MU,g:IU,G:BU,H:SU,I:AU,j:CU,L:cP,m:DU,M:EU,p:Se,q:Ae,Q:iM,s:lM,S:OU,u:PU,U:kU,V:RU,w:_U,W:TU,x:null,X:null,y:LU,Y:zU,Z:$U,"%":sM},D={a:B,A:I,b:z,B:J,c:L,d:tM,e:tM,f:aU,g:eM,G:J3,H:nM,I:nM,j:JH,L:nU,m:QH,M:eU,p:k,q:XH,Q:sU,s:iU,S:tU,u:KH,U:WH,V:YH,w:VH,W:GH,x:G,X:W,y:eM,Y:J3,Z:ZH,"%":rU};A.x=P(a,A),A.X=P(r,A),A.c=P(n,A),E.x=P(a,E),E.X=P(r,E),E.c=P(n,E);function P(ne,Me){return function(De){var pe=[],it=-1,Le=0,ke=ne.length,Ie,Zt,Ye;for(De instanceof Date||(De=new Date(+De));++it<ke;)ne.charCodeAt(it)===37&&(pe.push(ne.slice(Le,it)),(Zt=Q3[Ie=ne.charAt(++it)])!=null?Ie=ne.charAt(++it):Zt=Ie==="e"?" ":"0",(Ye=Me[Ie])&&(Ie=Ye(De,Zt)),pe.push(Ie),Le=it+1);return pe.push(ne.slice(Le,it)),pe.join("")}}function T(ne,Me){return function(De){var pe=iu(1900,void 0,1),it=O(pe,ne,De+="",0),Le,ke;if(it!=De.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(Me&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(Le=fv(iu(pe.y,0,1)),ke=Le.getUTCDay(),Le=ke>4||ke===0?cp.ceil(Le):cp(Le),Le=sx.offset(Le,(pe.V-1)*7),pe.y=Le.getUTCFullYear(),pe.m=Le.getUTCMonth(),pe.d=Le.getUTCDate()+(pe.w+6)%7):(Le=mv(iu(pe.y,0,1)),ke=Le.getDay(),Le=ke>4||ke===0?op.ceil(Le):op(Le),Le=dm.offset(Le,(pe.V-1)*7),pe.y=Le.getFullYear(),pe.m=Le.getMonth(),pe.d=Le.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),ke="Z"in pe?fv(iu(pe.y,0,1)).getUTCDay():mv(iu(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(ke+5)%7:pe.w+pe.U*7-(ke+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,fv(pe)):mv(pe)}}function O(ne,Me,De,pe){for(var it=0,Le=Me.length,ke=De.length,Ie,Zt;it<Le;){if(pe>=ke)return-1;if(Ie=Me.charCodeAt(it++),Ie===37){if(Ie=Me.charAt(it++),Zt=D[Ie in Q3?Me.charAt(it++):Ie],!Zt||(pe=Zt(ne,De,pe))<0)return-1}else if(Ie!=De.charCodeAt(pe++))return-1}return pe}function k(ne,Me,De){var pe=f.exec(Me.slice(De));return pe?(ne.p=h.get(pe[0].toLowerCase()),De+pe[0].length):-1}function B(ne,Me,De){var pe=v.exec(Me.slice(De));return pe?(ne.w=j.get(pe[0].toLowerCase()),De+pe[0].length):-1}function I(ne,Me,De){var pe=g.exec(Me.slice(De));return pe?(ne.w=y.get(pe[0].toLowerCase()),De+pe[0].length):-1}function z(ne,Me,De){var pe=M.exec(Me.slice(De));return pe?(ne.m=S.get(pe[0].toLowerCase()),De+pe[0].length):-1}function J(ne,Me,De){var pe=b.exec(Me.slice(De));return pe?(ne.m=w.get(pe[0].toLowerCase()),De+pe[0].length):-1}function L(ne,Me,De){return O(ne,n,Me,De)}function G(ne,Me,De){return O(ne,a,Me,De)}function W(ne,Me,De){return O(ne,r,Me,De)}function R(ne){return c[ne.getDay()]}function F(ne){return l[ne.getDay()]}function q(ne){return m[ne.getMonth()]}function Y(ne){return d[ne.getMonth()]}function ae(ne){return s[+(ne.getHours()>=12)]}function je(ne){return 1+~~(ne.getMonth()/3)}function V(ne){return c[ne.getUTCDay()]}function fe(ne){return l[ne.getUTCDay()]}function Ne(ne){return m[ne.getUTCMonth()]}function se(ne){return d[ne.getUTCMonth()]}function Se(ne){return s[+(ne.getUTCHours()>=12)]}function Ae(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var Me=P(ne+="",A);return Me.toString=function(){return ne},Me},parse:function(ne){var Me=T(ne+="",!1);return Me.toString=function(){return ne},Me},utcFormat:function(ne){var Me=P(ne+="",E);return Me.toString=function(){return ne},Me},utcParse:function(ne){var Me=T(ne+="",!0);return Me.toString=function(){return ne},Me}}}var Q3={"-":"",_:" ",0:"0"},ia=/^\s*\d+/,qH=/^%/,HH=/[\\^$*+?|[\]().{}]/g;function Rt(e,n,a){var r=e<0?"-":"",s=(r?-e:e)+"",l=s.length;return r+(l<a?new Array(a-l+1).join(n)+s:s)}function UH(e){return e.replace(HH,"\\$&")}function lu(e){return new RegExp("^(?:"+e.map(UH).join("|")+")","i")}function ou(e){return new Map(e.map((n,a)=>[n.toLowerCase(),a]))}function VH(e,n,a){var r=ia.exec(n.slice(a,a+1));return r?(e.w=+r[0],a+r[0].length):-1}function KH(e,n,a){var r=ia.exec(n.slice(a,a+1));return r?(e.u=+r[0],a+r[0].length):-1}function WH(e,n,a){var r=ia.exec(n.slice(a,a+2));return r?(e.U=+r[0],a+r[0].length):-1}function YH(e,n,a){var r=ia.exec(n.slice(a,a+2));return r?(e.V=+r[0],a+r[0].length):-1}function GH(e,n,a){var r=ia.exec(n.slice(a,a+2));return r?(e.W=+r[0],a+r[0].length):-1}function J3(e,n,a){var r=ia.exec(n.slice(a,a+4));return r?(e.y=+r[0],a+r[0].length):-1}function eM(e,n,a){var r=ia.exec(n.slice(a,a+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),a+r[0].length):-1}function ZH(e,n,a){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(a,a+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),a+r[0].length):-1}function XH(e,n,a){var r=ia.exec(n.slice(a,a+1));return r?(e.q=r[0]*3-3,a+r[0].length):-1}function QH(e,n,a){var r=ia.exec(n.slice(a,a+2));return r?(e.m=r[0]-1,a+r[0].length):-1}function tM(e,n,a){var r=ia.exec(n.slice(a,a+2));return r?(e.d=+r[0],a+r[0].length):-1}function JH(e,n,a){var r=ia.exec(n.slice(a,a+3));return r?(e.m=0,e.d=+r[0],a+r[0].length):-1}function nM(e,n,a){var r=ia.exec(n.slice(a,a+2));return r?(e.H=+r[0],a+r[0].length):-1}function eU(e,n,a){var r=ia.exec(n.slice(a,a+2));return r?(e.M=+r[0],a+r[0].length):-1}function tU(e,n,a){var r=ia.exec(n.slice(a,a+2));return r?(e.S=+r[0],a+r[0].length):-1}function nU(e,n,a){var r=ia.exec(n.slice(a,a+3));return r?(e.L=+r[0],a+r[0].length):-1}function aU(e,n,a){var r=ia.exec(n.slice(a,a+6));return r?(e.L=Math.floor(r[0]/1e3),a+r[0].length):-1}function rU(e,n,a){var r=qH.exec(n.slice(a,a+1));return r?a+r[0].length:-1}function sU(e,n,a){var r=ia.exec(n.slice(a));return r?(e.Q=+r[0],a+r[0].length):-1}function iU(e,n,a){var r=ia.exec(n.slice(a));return r?(e.s=+r[0],a+r[0].length):-1}function aM(e,n){return Rt(e.getDate(),n,2)}function lU(e,n){return Rt(e.getHours(),n,2)}function oU(e,n){return Rt(e.getHours()%12||12,n,2)}function cU(e,n){return Rt(1+dm.count(wi(e),e),n,3)}function lP(e,n){return Rt(e.getMilliseconds(),n,3)}function dU(e,n){return lP(e,n)+"000"}function uU(e,n){return Rt(e.getMonth()+1,n,2)}function mU(e,n){return Rt(e.getMinutes(),n,2)}function fU(e,n){return Rt(e.getSeconds(),n,2)}function hU(e){var n=e.getDay();return n===0?7:n}function pU(e,n){return Rt(ix.count(wi(e)-1,e),n,2)}function oP(e){var n=e.getDay();return n>=4||n===0?Ic(e):Ic.ceil(e)}function xU(e,n){return e=oP(e),Rt(Ic.count(wi(e),e)+(wi(e).getDay()===4),n,2)}function gU(e){return e.getDay()}function yU(e,n){return Rt(op.count(wi(e)-1,e),n,2)}function vU(e,n){return Rt(e.getFullYear()%100,n,2)}function bU(e,n){return e=oP(e),Rt(e.getFullYear()%100,n,2)}function jU(e,n){return Rt(e.getFullYear()%1e4,n,4)}function NU(e,n){var a=e.getDay();return e=a>=4||a===0?Ic(e):Ic.ceil(e),Rt(e.getFullYear()%1e4,n,4)}function wU(e){var n=e.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Rt(n/60|0,"0",2)+Rt(n%60,"0",2)}function rM(e,n){return Rt(e.getUTCDate(),n,2)}function SU(e,n){return Rt(e.getUTCHours(),n,2)}function AU(e,n){return Rt(e.getUTCHours()%12||12,n,2)}function CU(e,n){return Rt(1+sx.count(Si(e),e),n,3)}function cP(e,n){return Rt(e.getUTCMilliseconds(),n,3)}function MU(e,n){return cP(e,n)+"000"}function DU(e,n){return Rt(e.getUTCMonth()+1,n,2)}function EU(e,n){return Rt(e.getUTCMinutes(),n,2)}function OU(e,n){return Rt(e.getUTCSeconds(),n,2)}function PU(e){var n=e.getUTCDay();return n===0?7:n}function kU(e,n){return Rt(lx.count(Si(e)-1,e),n,2)}function dP(e){var n=e.getUTCDay();return n>=4||n===0?zc(e):zc.ceil(e)}function RU(e,n){return e=dP(e),Rt(zc.count(Si(e),e)+(Si(e).getUTCDay()===4),n,2)}function _U(e){return e.getUTCDay()}function TU(e,n){return Rt(cp.count(Si(e)-1,e),n,2)}function LU(e,n){return Rt(e.getUTCFullYear()%100,n,2)}function IU(e,n){return e=dP(e),Rt(e.getUTCFullYear()%100,n,2)}function zU(e,n){return Rt(e.getUTCFullYear()%1e4,n,4)}function BU(e,n){var a=e.getUTCDay();return e=a>=4||a===0?zc(e):zc.ceil(e),Rt(e.getUTCFullYear()%1e4,n,4)}function $U(){return"+0000"}function sM(){return"%"}function iM(e){return+e}function lM(e){return Math.floor(+e/1e3)}var pc,uP,mP;FU({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FU(e){return pc=FH(e),uP=pc.format,pc.parse,mP=pc.utcFormat,pc.utcParse,pc}function qU(e){return new Date(e)}function HU(e){return e instanceof Date?+e:+new Date(+e)}function NN(e,n,a,r,s,l,c,d,m,f){var h=oN(),g=h.invert,y=h.domain,v=f(".%L"),j=f(":%S"),b=f("%I:%M"),w=f("%I %p"),M=f("%a %d"),S=f("%b %d"),A=f("%B"),E=f("%Y");function D(P){return(m(P)<P?v:d(P)<P?j:c(P)<P?b:l(P)<P?w:r(P)<P?s(P)<P?M:S:a(P)<P?A:E)(P)}return h.invert=function(P){return new Date(g(P))},h.domain=function(P){return arguments.length?y(Array.from(P,HU)):y().map(qU)},h.ticks=function(P){var T=y();return e(T[0],T[T.length-1],P??10)},h.tickFormat=function(P,T){return T==null?D:f(T)},h.nice=function(P){var T=y();return(!P||typeof P.range!="function")&&(P=n(T[0],T[T.length-1],P??10)),P?y(QO(T,P)):h},h.copy=function(){return cm(h,NN(e,n,a,r,s,l,c,d,m,f))},h}function UU(){return Hr.apply(NN(BH,$H,wi,bN,ix,dm,yN,xN,Gl,uP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function VU(){return Hr.apply(NN(IH,zH,Si,jN,lx,sx,vN,gN,Gl,mP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ox(){var e=0,n=1,a,r,s,l,c=Sa,d=!1,m;function f(g){return g==null||isNaN(g=+g)?m:c(s===0?.5:(g=(l(g)-a)*s,d?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,n]=g,a=l(e=+e),r=l(n=+n),s=a===r?0:1/(r-a),f):[e,n]},f.clamp=function(g){return arguments.length?(d=!!g,f):d},f.interpolator=function(g){return arguments.length?(c=g,f):c};function h(g){return function(y){var v,j;return arguments.length?([v,j]=y,c=g(v,j),f):[c(0),c(1)]}}return f.range=h(Uc),f.rangeRound=h(lN),f.unknown=function(g){return arguments.length?(m=g,f):m},function(g){return l=g,a=g(e),r=g(n),s=a===r?0:1/(r-a),f}}function Nl(e,n){return n.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function fP(){var e=jl(ox()(Sa));return e.copy=function(){return Nl(e,fP())},Ri.apply(e,arguments)}function hP(){var e=uN(ox()).domain([1,10]);return e.copy=function(){return Nl(e,hP()).base(e.base())},Ri.apply(e,arguments)}function pP(){var e=mN(ox());return e.copy=function(){return Nl(e,pP()).constant(e.constant())},Ri.apply(e,arguments)}function wN(){var e=fN(ox());return e.copy=function(){return Nl(e,wN()).exponent(e.exponent())},Ri.apply(e,arguments)}function KU(){return wN.apply(null,arguments).exponent(.5)}function xP(){var e=[],n=Sa;function a(r){if(r!=null&&!isNaN(r=+r))return n((lm(e,r,1)-1)/(e.length-1))}return a.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(xl),a},a.interpolator=function(r){return arguments.length?(n=r,a):n},a.range=function(){return e.map((r,s)=>n(s/(e.length-1)))},a.quantiles=function(r){return Array.from({length:r+1},(s,l)=>Pq(e,l/r))},a.copy=function(){return xP(n).domain(e)},Ri.apply(a,arguments)}function cx(){var e=0,n=.5,a=1,r=1,s,l,c,d,m,f=Sa,h,g=!1,y;function v(b){return isNaN(b=+b)?y:(b=.5+((b=+h(b))-l)*(r*b<r*l?d:m),f(g?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([e,n,a]=b,s=h(e=+e),l=h(n=+n),c=h(a=+a),d=s===l?0:.5/(l-s),m=l===c?0:.5/(c-l),r=l<s?-1:1,v):[e,n,a]},v.clamp=function(b){return arguments.length?(g=!!b,v):g},v.interpolator=function(b){return arguments.length?(f=b,v):f};function j(b){return function(w){var M,S,A;return arguments.length?([M,S,A]=w,f=rH(b,[M,S,A]),v):[f(0),f(.5),f(1)]}}return v.range=j(Uc),v.rangeRound=j(lN),v.unknown=function(b){return arguments.length?(y=b,v):y},function(b){return h=b,s=b(e),l=b(n),c=b(a),d=s===l?0:.5/(l-s),m=l===c?0:.5/(c-l),r=l<s?-1:1,v}}function gP(){var e=jl(cx()(Sa));return e.copy=function(){return Nl(e,gP())},Ri.apply(e,arguments)}function yP(){var e=uN(cx()).domain([.1,1,10]);return e.copy=function(){return Nl(e,yP()).base(e.base())},Ri.apply(e,arguments)}function vP(){var e=mN(cx());return e.copy=function(){return Nl(e,vP()).constant(e.constant())},Ri.apply(e,arguments)}function SN(){var e=fN(cx());return e.copy=function(){return Nl(e,SN()).exponent(e.exponent())},Ri.apply(e,arguments)}function WU(){return SN.apply(null,arguments).exponent(.5)}const pu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rN,scaleDiverging:gP,scaleDivergingLog:yP,scaleDivergingPow:SN,scaleDivergingSqrt:WU,scaleDivergingSymlog:vP,scaleIdentity:XO,scaleImplicit:zb,scaleLinear:ZO,scaleLog:JO,scaleOrdinal:aN,scalePoint:_q,scalePow:hN,scaleQuantile:nP,scaleQuantize:aP,scaleRadial:tP,scaleSequential:fP,scaleSequentialLog:hP,scaleSequentialPow:wN,scaleSequentialQuantile:xP,scaleSequentialSqrt:KU,scaleSequentialSymlog:pP,scaleSqrt:MH,scaleSymlog:eP,scaleThreshold:rP,scaleTime:UU,scaleUtc:VU,tickFormat:GO},Symbol.toStringTag,{value:"Module"}));var _i=e=>e.chartData,Vc=te([_i],e=>{var n=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:n,dataStartIndex:0}}),Kc=(e,n,a,r)=>r?Vc(e):_i(e);function yl(e){if(Array.isArray(e)&&e.length===2){var[n,a]=e;if(un(n)&&un(a))return!0}return!1}function oM(e,n,a){return a?e:[Math.min(e[0],n[0]),Math.max(e[1],n[1])]}function bP(e,n){if(n&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[a,r]=e,s,l;if(un(a))s=a;else if(typeof a=="function")return;if(un(r))l=r;else if(typeof r=="function")return;var c=[s,l];if(yl(c))return c}}function YU(e,n,a){if(!(!a&&n==null)){if(typeof e=="function"&&n!=null)try{var r=e(n,a);if(yl(r))return oM(r,n,a)}catch{}if(Array.isArray(e)&&e.length===2){var[s,l]=e,c,d;if(s==="auto")n!=null&&(c=Math.min(...n));else if(ze(s))c=s;else if(typeof s=="function")try{n!=null&&(c=s(n?.[0]))}catch{}else if(typeof s=="string"&&LC.test(s)){var m=LC.exec(s);if(m==null||n==null)c=void 0;else{var f=+m[1];c=n[0]-f}}else c=n?.[0];if(l==="auto")n!=null&&(d=Math.max(...n));else if(ze(l))d=l;else if(typeof l=="function")try{n!=null&&(d=l(n?.[1]))}catch{}else if(typeof l=="string"&&IC.test(l)){var h=IC.exec(l);if(h==null||n==null)d=void 0;else{var g=+h[1];d=n[1]+g}}else d=n?.[1];var y=[c,d];if(yl(y))return n==null?y:oM(y,n,a)}}}var Wc=1e9,GU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},CN,gn=!0,Ir="[DecimalError] ",no=Ir+"Invalid argument: ",AN=Ir+"Exponent out of range: ",Yc=Math.floor,Vl=Math.pow,ZU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ir,aa=1e7,dn=7,jP=9007199254740991,dp=Yc(jP/dn),$e={};$e.absoluteValue=$e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};$e.comparedTo=$e.cmp=function(e){var n,a,r,s,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(r=l.d.length,s=e.d.length,n=0,a=r<s?r:s;n<a;++n)if(l.d[n]!==e.d[n])return l.d[n]>e.d[n]^l.s<0?1:-1;return r===s?0:r>s^l.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var e=this,n=e.d.length-1,a=(n-e.e)*dn;if(n=e.d[n],n)for(;n%10==0;n/=10)a--;return a<0?0:a};$e.dividedBy=$e.div=function(e){return hi(this,new this.constructor(e))};$e.dividedToIntegerBy=$e.idiv=function(e){var n=this,a=n.constructor;return Qt(hi(n,new a(e),0,1),a.precision)};$e.equals=$e.eq=function(e){return!this.cmp(e)};$e.exponent=function(){return Un(this)};$e.greaterThan=$e.gt=function(e){return this.cmp(e)>0};$e.greaterThanOrEqualTo=$e.gte=function(e){return this.cmp(e)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(e){return this.cmp(e)<0};$e.lessThanOrEqualTo=$e.lte=function(e){return this.cmp(e)<1};$e.logarithm=$e.log=function(e){var n,a=this,r=a.constructor,s=r.precision,l=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ir))throw Error(Ir+"NaN");if(a.s<1)throw Error(Ir+(a.s?"NaN":"-Infinity"));return a.eq(ir)?new r(0):(gn=!1,n=hi(Fu(a,l),Fu(e,l),l),gn=!0,Qt(n,s))};$e.minus=$e.sub=function(e){var n=this;return e=new n.constructor(e),n.s==e.s?SP(n,e):NP(n,(e.s=-e.s,e))};$e.modulo=$e.mod=function(e){var n,a=this,r=a.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(Ir+"NaN");return a.s?(gn=!1,n=hi(a,e,0,1).times(e),gn=!0,a.minus(n)):Qt(new r(a),s)};$e.naturalExponential=$e.exp=function(){return wP(this)};$e.naturalLogarithm=$e.ln=function(){return Fu(this)};$e.negated=$e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};$e.plus=$e.add=function(e){var n=this;return e=new n.constructor(e),n.s==e.s?NP(n,e):SP(n,(e.s=-e.s,e))};$e.precision=$e.sd=function(e){var n,a,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(no+e);if(n=Un(s)+1,r=s.d.length-1,a=r*dn+1,r=s.d[r],r){for(;r%10==0;r/=10)a--;for(r=s.d[0];r>=10;r/=10)a++}return e&&n>a?n:a};$e.squareRoot=$e.sqrt=function(){var e,n,a,r,s,l,c,d=this,m=d.constructor;if(d.s<1){if(!d.s)return new m(0);throw Error(Ir+"NaN")}for(e=Un(d),gn=!1,s=Math.sqrt(+d),s==0||s==1/0?(n=ys(d.d),(n.length+e)%2==0&&(n+="0"),s=Math.sqrt(n),e=Yc((e+1)/2)-(e<0||e%2),s==1/0?n="5e"+e:(n=s.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),r=new m(n)):r=new m(s.toString()),a=m.precision,s=c=a+3;;)if(l=r,r=l.plus(hi(d,l,c+2)).times(.5),ys(l.d).slice(0,c)===(n=ys(r.d)).slice(0,c)){if(n=n.slice(c-3,c+1),s==c&&n=="4999"){if(Qt(l,a+1,0),l.times(l).eq(d)){r=l;break}}else if(n!="9999")break;c+=4}return gn=!0,Qt(r,a)};$e.times=$e.mul=function(e){var n,a,r,s,l,c,d,m,f,h=this,g=h.constructor,y=h.d,v=(e=new g(e)).d;if(!h.s||!e.s)return new g(0);for(e.s*=h.s,a=h.e+e.e,m=y.length,f=v.length,m<f&&(l=y,y=v,v=l,c=m,m=f,f=c),l=[],c=m+f,r=c;r--;)l.push(0);for(r=f;--r>=0;){for(n=0,s=m+r;s>r;)d=l[s]+v[r]*y[s-r-1]+n,l[s--]=d%aa|0,n=d/aa|0;l[s]=(l[s]+n)%aa|0}for(;!l[--c];)l.pop();return n?++a:l.shift(),e.d=l,e.e=a,gn?Qt(e,g.precision):e};$e.toDecimalPlaces=$e.todp=function(e,n){var a=this,r=a.constructor;return a=new r(a),e===void 0?a:(Es(e,0,Wc),n===void 0?n=r.rounding:Es(n,0,8),Qt(a,e+Un(a)+1,n))};$e.toExponential=function(e,n){var a,r=this,s=r.constructor;return e===void 0?a=co(r,!0):(Es(e,0,Wc),n===void 0?n=s.rounding:Es(n,0,8),r=Qt(new s(r),e+1,n),a=co(r,!0,e+1)),a};$e.toFixed=function(e,n){var a,r,s=this,l=s.constructor;return e===void 0?co(s):(Es(e,0,Wc),n===void 0?n=l.rounding:Es(n,0,8),r=Qt(new l(s),e+Un(s)+1,n),a=co(r.abs(),!1,e+Un(r)+1),s.isneg()&&!s.isZero()?"-"+a:a)};$e.toInteger=$e.toint=function(){var e=this,n=e.constructor;return Qt(new n(e),Un(e)+1,n.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(e){var n,a,r,s,l,c,d=this,m=d.constructor,f=12,h=+(e=new m(e));if(!e.s)return new m(ir);if(d=new m(d),!d.s){if(e.s<1)throw Error(Ir+"Infinity");return d}if(d.eq(ir))return d;if(r=m.precision,e.eq(ir))return Qt(d,r);if(n=e.e,a=e.d.length-1,c=n>=a,l=d.s,c){if((a=h<0?-h:h)<=jP){for(s=new m(ir),n=Math.ceil(r/dn+4),gn=!1;a%2&&(s=s.times(d),dM(s.d,n)),a=Yc(a/2),a!==0;)d=d.times(d),dM(d.d,n);return gn=!0,e.s<0?new m(ir).div(s):Qt(s,r)}}else if(l<0)throw Error(Ir+"NaN");return l=l<0&&e.d[Math.max(n,a)]&1?-1:1,d.s=1,gn=!1,s=e.times(Fu(d,r+f)),gn=!0,s=wP(s),s.s=l,s};$e.toPrecision=function(e,n){var a,r,s=this,l=s.constructor;return e===void 0?(a=Un(s),r=co(s,a<=l.toExpNeg||a>=l.toExpPos)):(Es(e,1,Wc),n===void 0?n=l.rounding:Es(n,0,8),s=Qt(new l(s),e,n),a=Un(s),r=co(s,e<=a||a<=l.toExpNeg,e)),r};$e.toSignificantDigits=$e.tosd=function(e,n){var a=this,r=a.constructor;return e===void 0?(e=r.precision,n=r.rounding):(Es(e,1,Wc),n===void 0?n=r.rounding:Es(n,0,8)),Qt(new r(a),e,n)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,n=Un(e),a=e.constructor;return co(e,n<=a.toExpNeg||n>=a.toExpPos)};function NP(e,n){var a,r,s,l,c,d,m,f,h=e.constructor,g=h.precision;if(!e.s||!n.s)return n.s||(n=new h(e)),gn?Qt(n,g):n;if(m=e.d,f=n.d,c=e.e,s=n.e,m=m.slice(),l=c-s,l){for(l<0?(r=m,l=-l,d=f.length):(r=f,s=c,d=m.length),c=Math.ceil(g/dn),d=c>d?c+1:d+1,l>d&&(l=d,r.length=1),r.reverse();l--;)r.push(0);r.reverse()}for(d=m.length,l=f.length,d-l<0&&(l=d,r=f,f=m,m=r),a=0;l;)a=(m[--l]=m[l]+f[l]+a)/aa|0,m[l]%=aa;for(a&&(m.unshift(a),++s),d=m.length;m[--d]==0;)m.pop();return n.d=m,n.e=s,gn?Qt(n,g):n}function Es(e,n,a){if(e!==~~e||e<n||e>a)throw Error(no+e)}function ys(e){var n,a,r,s=e.length-1,l="",c=e[0];if(s>0){for(l+=c,n=1;n<s;n++)r=e[n]+"",a=dn-r.length,a&&(l+=ul(a)),l+=r;c=e[n],r=c+"",a=dn-r.length,a&&(l+=ul(a))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var hi=(function(){function e(r,s){var l,c=0,d=r.length;for(r=r.slice();d--;)l=r[d]*s+c,r[d]=l%aa|0,c=l/aa|0;return c&&r.unshift(c),r}function n(r,s,l,c){var d,m;if(l!=c)m=l>c?1:-1;else for(d=m=0;d<l;d++)if(r[d]!=s[d]){m=r[d]>s[d]?1:-1;break}return m}function a(r,s,l){for(var c=0;l--;)r[l]-=c,c=r[l]<s[l]?1:0,r[l]=c*aa+r[l]-s[l];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,l,c){var d,m,f,h,g,y,v,j,b,w,M,S,A,E,D,P,T,O,k=r.constructor,B=r.s==s.s?1:-1,I=r.d,z=s.d;if(!r.s)return new k(r);if(!s.s)throw Error(Ir+"Division by zero");for(m=r.e-s.e,T=z.length,D=I.length,v=new k(B),j=v.d=[],f=0;z[f]==(I[f]||0);)++f;if(z[f]>(I[f]||0)&&--m,l==null?S=l=k.precision:c?S=l+(Un(r)-Un(s))+1:S=l,S<0)return new k(0);if(S=S/dn+2|0,f=0,T==1)for(h=0,z=z[0],S++;(f<D||h)&&S--;f++)A=h*aa+(I[f]||0),j[f]=A/z|0,h=A%z|0;else{for(h=aa/(z[0]+1)|0,h>1&&(z=e(z,h),I=e(I,h),T=z.length,D=I.length),E=T,b=I.slice(0,T),w=b.length;w<T;)b[w++]=0;O=z.slice(),O.unshift(0),P=z[0],z[1]>=aa/2&&++P;do h=0,d=n(z,b,T,w),d<0?(M=b[0],T!=w&&(M=M*aa+(b[1]||0)),h=M/P|0,h>1?(h>=aa&&(h=aa-1),g=e(z,h),y=g.length,w=b.length,d=n(g,b,y,w),d==1&&(h--,a(g,T<y?O:z,y))):(h==0&&(d=h=1),g=z.slice()),y=g.length,y<w&&g.unshift(0),a(b,g,w),d==-1&&(w=b.length,d=n(z,b,T,w),d<1&&(h++,a(b,T<w?O:z,w))),w=b.length):d===0&&(h++,b=[0]),j[f++]=h,d&&b[0]?b[w++]=I[E]||0:(b=[I[E]],w=1);while((E++<D||b[0]!==void 0)&&S--)}return j[0]||j.shift(),v.e=m,Qt(v,c?l+Un(v)+1:l)}})();function wP(e,n){var a,r,s,l,c,d,m=0,f=0,h=e.constructor,g=h.precision;if(Un(e)>16)throw Error(AN+Un(e));if(!e.s)return new h(ir);for(gn=!1,d=g,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),f+=5;for(r=Math.log(Vl(2,f))/Math.LN10*2+5|0,d+=r,a=s=l=new h(ir),h.precision=d;;){if(s=Qt(s.times(e),d),a=a.times(++m),c=l.plus(hi(s,a,d)),ys(c.d).slice(0,d)===ys(l.d).slice(0,d)){for(;f--;)l=Qt(l.times(l),d);return h.precision=g,n==null?(gn=!0,Qt(l,g)):l}l=c}}function Un(e){for(var n=e.e*dn,a=e.d[0];a>=10;a/=10)n++;return n}function hv(e,n,a){if(n>e.LN10.sd())throw gn=!0,a&&(e.precision=a),Error(Ir+"LN10 precision limit exceeded");return Qt(new e(e.LN10),n)}function ul(e){for(var n="";e--;)n+="0";return n}function Fu(e,n){var a,r,s,l,c,d,m,f,h,g=1,y=10,v=e,j=v.d,b=v.constructor,w=b.precision;if(v.s<1)throw Error(Ir+(v.s?"NaN":"-Infinity"));if(v.eq(ir))return new b(0);if(n==null?(gn=!1,f=w):f=n,v.eq(10))return n==null&&(gn=!0),hv(b,f);if(f+=y,b.precision=f,a=ys(j),r=a.charAt(0),l=Un(v),Math.abs(l)<15e14){for(;r<7&&r!=1||r==1&&a.charAt(1)>3;)v=v.times(e),a=ys(v.d),r=a.charAt(0),g++;l=Un(v),r>1?(v=new b("0."+a),l++):v=new b(r+"."+a.slice(1))}else return m=hv(b,f+2,w).times(l+""),v=Fu(new b(r+"."+a.slice(1)),f-y).plus(m),b.precision=w,n==null?(gn=!0,Qt(v,w)):v;for(d=c=v=hi(v.minus(ir),v.plus(ir),f),h=Qt(v.times(v),f),s=3;;){if(c=Qt(c.times(h),f),m=d.plus(hi(c,new b(s),f)),ys(m.d).slice(0,f)===ys(d.d).slice(0,f))return d=d.times(2),l!==0&&(d=d.plus(hv(b,f+2,w).times(l+""))),d=hi(d,new b(g),f),b.precision=w,n==null?(gn=!0,Qt(d,w)):d;d=m,s+=2}}function cM(e,n){var a,r,s;for((a=n.indexOf("."))>-1&&(n=n.replace(".","")),(r=n.search(/e/i))>0?(a<0&&(a=r),a+=+n.slice(r+1),n=n.substring(0,r)):a<0&&(a=n.length),r=0;n.charCodeAt(r)===48;)++r;for(s=n.length;n.charCodeAt(s-1)===48;)--s;if(n=n.slice(r,s),n){if(s-=r,a=a-r-1,e.e=Yc(a/dn),e.d=[],r=(a+1)%dn,a<0&&(r+=dn),r<s){for(r&&e.d.push(+n.slice(0,r)),s-=dn;r<s;)e.d.push(+n.slice(r,r+=dn));n=n.slice(r),r=dn-n.length}else r-=s;for(;r--;)n+="0";if(e.d.push(+n),gn&&(e.e>dp||e.e<-dp))throw Error(AN+a)}else e.s=0,e.e=0,e.d=[0];return e}function Qt(e,n,a){var r,s,l,c,d,m,f,h,g=e.d;for(c=1,l=g[0];l>=10;l/=10)c++;if(r=n-c,r<0)r+=dn,s=n,f=g[h=0];else{if(h=Math.ceil((r+1)/dn),l=g.length,h>=l)return e;for(f=l=g[h],c=1;l>=10;l/=10)c++;r%=dn,s=r-dn+c}if(a!==void 0&&(l=Vl(10,c-s-1),d=f/l%10|0,m=n<0||g[h+1]!==void 0||f%l,m=a<4?(d||m)&&(a==0||a==(e.s<0?3:2)):d>5||d==5&&(a==4||m||a==6&&(r>0?s>0?f/Vl(10,c-s):0:g[h-1])%10&1||a==(e.s<0?8:7))),n<1||!g[0])return m?(l=Un(e),g.length=1,n=n-l-1,g[0]=Vl(10,(dn-n%dn)%dn),e.e=Yc(-n/dn)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=h,l=1,h--):(g.length=h+1,l=Vl(10,dn-r),g[h]=s>0?(f/Vl(10,c-s)%Vl(10,s)|0)*l:0),m)for(;;)if(h==0){(g[0]+=l)==aa&&(g[0]=1,++e.e);break}else{if(g[h]+=l,g[h]!=aa)break;g[h--]=0,l=1}for(r=g.length;g[--r]===0;)g.pop();if(gn&&(e.e>dp||e.e<-dp))throw Error(AN+Un(e));return e}function SP(e,n){var a,r,s,l,c,d,m,f,h,g,y=e.constructor,v=y.precision;if(!e.s||!n.s)return n.s?n.s=-n.s:n=new y(e),gn?Qt(n,v):n;if(m=e.d,g=n.d,r=n.e,f=e.e,m=m.slice(),c=f-r,c){for(h=c<0,h?(a=m,c=-c,d=g.length):(a=g,r=f,d=m.length),s=Math.max(Math.ceil(v/dn),d)+2,c>s&&(c=s,a.length=1),a.reverse(),s=c;s--;)a.push(0);a.reverse()}else{for(s=m.length,d=g.length,h=s<d,h&&(d=s),s=0;s<d;s++)if(m[s]!=g[s]){h=m[s]<g[s];break}c=0}for(h&&(a=m,m=g,g=a,n.s=-n.s),d=m.length,s=g.length-d;s>0;--s)m[d++]=0;for(s=g.length;s>c;){if(m[--s]<g[s]){for(l=s;l&&m[--l]===0;)m[l]=aa-1;--m[l],m[s]+=aa}m[s]-=g[s]}for(;m[--d]===0;)m.pop();for(;m[0]===0;m.shift())--r;return m[0]?(n.d=m,n.e=r,gn?Qt(n,v):n):new y(0)}function co(e,n,a){var r,s=Un(e),l=ys(e.d),c=l.length;return n?(a&&(r=a-c)>0?l=l.charAt(0)+"."+l.slice(1)+ul(r):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(s<0?"e":"e+")+s):s<0?(l="0."+ul(-s-1)+l,a&&(r=a-c)>0&&(l+=ul(r))):s>=c?(l+=ul(s+1-c),a&&(r=a-s-1)>0&&(l=l+"."+ul(r))):((r=s+1)<c&&(l=l.slice(0,r)+"."+l.slice(r)),a&&(r=a-c)>0&&(s+1===c&&(l+="."),l+=ul(r))),e.s<0?"-"+l:l}function dM(e,n){if(e.length>n)return e.length=n,!0}function AP(e){var n,a,r;function s(l){var c=this;if(!(c instanceof s))return new s(l);if(c.constructor=s,l instanceof s){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(no+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return cM(c,l.toString())}else if(typeof l!="string")throw Error(no+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,ZU.test(l))cM(c,l);else throw Error(no+l)}if(s.prototype=$e,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=AP,s.config=s.set=XU,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<r.length;)e.hasOwnProperty(a=r[n++])||(e[a]=this[a]);return s.config(e),s}function XU(e){if(!e||typeof e!="object")throw Error(Ir+"Object expected");var n,a,r,s=["precision",1,Wc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(n=0;n<s.length;n+=3)if((r=e[a=s[n]])!==void 0)if(Yc(r)===r&&r>=s[n+1]&&r<=s[n+2])this[a]=r;else throw Error(no+a+": "+r);if((r=e[a="LN10"])!==void 0)if(r==Math.LN10)this[a]=new this(r);else throw Error(no+a+": "+r);return this}var CN=AP(GU);ir=new CN(1);const qt=CN;var QU=e=>e,CP={},MP=e=>e===CP,uM=e=>function n(){return arguments.length===0||arguments.length===1&&MP(arguments.length<=0?void 0:arguments[0])?n:e(...arguments)},DP=(e,n)=>e===1?n:uM(function(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];var l=r.filter(c=>c!==CP).length;return l>=e?n(...r):DP(e-l,uM(function(){for(var c=arguments.length,d=new Array(c),m=0;m<c;m++)d[m]=arguments[m];var f=r.map(h=>MP(h)?d.shift():h);return n(...f,...d)}))}),JU=e=>DP(e.length,e),qb=(e,n)=>{for(var a=[],r=e;r<n;++r)a[r-e]=r;return a},eV=JU((e,n)=>Array.isArray(n)?n.map(e):Object.keys(n).map(a=>n[a]).map(e)),tV=function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];if(!a.length)return QU;var s=a.reverse(),l=s[0],c=s.slice(1);return function(){return c.reduce((d,m)=>m(d),l(...arguments))}},Hb=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function EP(e){var n;return e===0?n=1:n=Math.floor(new qt(e).abs().log(10).toNumber())+1,n}function OP(e,n,a){for(var r=new qt(e),s=0,l=[];r.lt(n)&&s<1e5;)l.push(r.toNumber()),r=r.add(a),s++;return l}var PP=e=>{var[n,a]=e,[r,s]=[n,a];return n>a&&([r,s]=[a,n]),[r,s]},kP=(e,n,a)=>{if(e.lte(0))return new qt(0);var r=EP(e.toNumber()),s=new qt(10).pow(r),l=e.div(s),c=r!==1?.05:.1,d=new qt(Math.ceil(l.div(c).toNumber())).add(a).mul(c),m=d.mul(s);return n?new qt(m.toNumber()):new qt(Math.ceil(m.toNumber()))},nV=(e,n,a)=>{var r=new qt(1),s=new qt(e);if(!s.isint()&&a){var l=Math.abs(e);l<1?(r=new qt(10).pow(EP(e)-1),s=new qt(Math.floor(s.div(r).toNumber())).mul(r)):l>1&&(s=new qt(Math.floor(e)))}else e===0?s=new qt(Math.floor((n-1)/2)):a||(s=new qt(Math.floor(e)));var c=Math.floor((n-1)/2),d=tV(eV(m=>s.add(new qt(m-c).mul(r)).toNumber()),qb);return d(0,n)},RP=function(n,a,r,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((a-n)/(r-1)))return{step:new qt(0),tickMin:new qt(0),tickMax:new qt(0)};var c=kP(new qt(a).sub(n).div(r-1),s,l),d;n<=0&&a>=0?d=new qt(0):(d=new qt(n).add(a).div(2),d=d.sub(new qt(d).mod(c)));var m=Math.ceil(d.sub(n).div(c).toNumber()),f=Math.ceil(new qt(a).sub(d).div(c).toNumber()),h=m+f+1;return h>r?RP(n,a,r,s,l+1):(h<r&&(f=a>0?f+(r-h):f,m=a>0?m:m+(r-h)),{step:c,tickMin:d.sub(new qt(m).mul(c)),tickMax:d.add(new qt(f).mul(c))})},aV=function(n){var[a,r]=n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(s,2),[d,m]=PP([a,r]);if(d===-1/0||m===1/0){var f=m===1/0?[d,...qb(0,s-1).map(()=>1/0)]:[...qb(0,s-1).map(()=>-1/0),m];return a>r?Hb(f):f}if(d===m)return nV(d,s,l);var{step:h,tickMin:g,tickMax:y}=RP(d,m,c,l,0),v=OP(g,y.add(new qt(.1).mul(h)),h);return a>r?Hb(v):v},rV=function(n,a){var[r,s]=n,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=PP([r,s]);if(c===-1/0||d===1/0)return[r,s];if(c===d)return[c];var m=Math.max(a,2),f=kP(new qt(d).sub(c).div(m-1),l,0),h=[...OP(new qt(c),new qt(d),f),d];return l===!1&&(h=h.map(g=>Math.round(g))),r>s?Hb(h):h},dx=e=>e.rootProps.maxBarSize,_P=e=>e.rootProps.barGap,MN=e=>e.rootProps.barCategoryGap,TP=e=>e.rootProps.barSize,Gc=e=>e.rootProps.stackOffset,DN=e=>e.rootProps.reverseStackOrder,EN=e=>e.options.chartName,ON=e=>e.rootProps.syncId,LP=e=>e.rootProps.syncMethod,PN=e=>e.options.eventEmitter,sV=e=>e.rootProps.baseValue,Bt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ps={allowDecimals:!1,allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category",zIndex:Bt.axis},za={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number",zIndex:Bt.axis},ux=(e,n)=>{if(!(!e||!n))return e!=null&&e.reversed?[n[1],n[0]]:n},iV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ps.angleAxisId,includeHidden:!1,name:void 0,reversed:ps.reversed,scale:ps.scale,tick:ps.tick,tickCount:void 0,ticks:void 0,type:ps.type,unit:void 0},lV={allowDataOverflow:za.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:za.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:za.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:za.scale,tick:za.tick,tickCount:za.tickCount,ticks:void 0,type:za.type,unit:void 0},oV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ps.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ps.scale,tick:ps.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},cV={allowDataOverflow:za.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:za.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:za.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:za.scale,tick:za.tick,tickCount:za.tickCount,ticks:void 0,type:"category",unit:void 0},bo=(e,n)=>e.polarAxis.angleAxis[n]!=null?e.polarAxis.angleAxis[n]:e.layout.layoutType==="radial"?oV:iV,Zc=(e,n)=>e.polarAxis.radiusAxis[n]!=null?e.polarAxis.radiusAxis[n]:e.layout.layoutType==="radial"?cV:lV,mx=e=>e.polarOptions,kN=te([Ei,Oi,Yn],_O),IP=te([mx,kN],(e,n)=>{if(e!=null)return ba(e.innerRadius,n,0)}),zP=te([mx,kN],(e,n)=>{if(e!=null)return ba(e.outerRadius,n,n*.8)}),dV=e=>{if(e==null)return[0,0];var{startAngle:n,endAngle:a}=e;return[n,a]},BP=te([mx],dV),uV=te([bo,BP],ux),$P=te([kN,IP,zP],(e,n,a)=>{if(!(e==null||n==null||a==null))return[n,a]}),mV=te([Zc,$P],ux),jo=te([rt,mx,IP,zP,Ei,Oi],(e,n,a,r,s,l)=>{if(!(e!=="centric"&&e!=="radial"||n==null||a==null||r==null)){var{cx:c,cy:d,startAngle:m,endAngle:f}=n;return{cx:ba(c,s,s/2),cy:ba(d,l,l/2),innerRadius:a,outerRadius:r,startAngle:m,endAngle:f,clockWise:!1}}}),Jt=(e,n)=>n,um=(e,n,a)=>a;function fx(e){return e?.id}function RN(e,n,a){var{chartData:r=[]}=n,{allowDuplicatedCategory:s,dataKey:l}=a,c=new Map;return e.forEach(d=>{var m,f=(m=d.data)!==null&&m!==void 0?m:r;if(!(f==null||f.length===0)){var h=fx(d);f.forEach((g,y)=>{var v=l==null||s?y:String(At(g,l,null)),j=At(g,d.dataKey,0),b;c.has(v)?b=c.get(v):b={},Object.assign(b,{[h]:j}),c.set(v,b)})}}),Array.from(c.values())}function mm(e){return e.stackId!=null&&e.dataKey!=null}var hx=(e,n)=>e===n?!0:e==null||n==null?!1:e[0]===n[0]&&e[1]===n[1];function px(e,n){return Array.isArray(e)&&Array.isArray(n)&&e.length===0&&n.length===0?!0:e===n}function fV(e,n){if(e.length===n.length){for(var a=0;a<e.length;a++)if(e[a]!==n[a])return!1;return!0}return!1}var Zn=e=>{var n=rt(e);return n==="horizontal"?"xAxis":n==="vertical"?"yAxis":n==="centric"?"angleAxis":"radiusAxis"},Xc=e=>e.tooltip.settings.axisId;function mM(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function up(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?mM(Object(a),!0).forEach(function(r){hV(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function hV(e,n,a){return(n=pV(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function pV(e){var n=xV(e,"string");return typeof n=="symbol"?n:n+""}function xV(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var Ub=[0,"auto"],ta={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},FP=(e,n)=>e.cartesianAxis.xAxis[n],Ti=(e,n)=>{var a=FP(e,n);return a??ta},na={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ub,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:rm},qP=(e,n)=>e.cartesianAxis.yAxis[n],Li=(e,n)=>{var a=qP(e,n);return a??na},ci={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},_N=(e,n)=>{var a=e.cartesianAxis.zAxis[n];return a??ci},Nn=(e,n,a)=>{switch(n){case"xAxis":return Ti(e,a);case"yAxis":return Li(e,a);case"zAxis":return _N(e,a);case"angleAxis":return bo(e,a);case"radiusAxis":return Zc(e,a);default:throw new Error("Unexpected axis type: ".concat(n))}},gV=(e,n,a)=>{switch(n){case"xAxis":return Ti(e,a);case"yAxis":return Li(e,a);default:throw new Error("Unexpected axis type: ".concat(n))}},Qc=(e,n,a)=>{switch(n){case"xAxis":return Ti(e,a);case"yAxis":return Li(e,a);case"angleAxis":return bo(e,a);case"radiusAxis":return Zc(e,a);default:throw new Error("Unexpected axis type: ".concat(n))}},HP=e=>e.graphicalItems.cartesianItems.some(n=>n.type==="bar")||e.graphicalItems.polarItems.some(n=>n.type==="radialBar");function TN(e,n){return a=>{switch(e){case"xAxis":return"xAxisId"in a&&a.xAxisId===n;case"yAxis":return"yAxisId"in a&&a.yAxisId===n;case"zAxis":return"zAxisId"in a&&a.zAxisId===n;case"angleAxis":return"angleAxisId"in a&&a.angleAxisId===n;case"radiusAxis":return"radiusAxisId"in a&&a.radiusAxisId===n;default:return!1}}}var Jc=e=>e.graphicalItems.cartesianItems,yV=te([Jt,um],TN),LN=(e,n,a)=>e.filter(a).filter(r=>n?.includeHidden===!0?!0:!r.hide),fm=te([Jc,Nn,yV],LN,{memoizeOptions:{resultEqualityCheck:px}}),UP=te([fm],e=>e.filter(n=>n.type==="area"||n.type==="bar").filter(mm)),VP=e=>e.filter(n=>!("stackId"in n)||n.stackId===void 0),vV=te([fm],VP),IN=e=>e.map(n=>n.data).filter(Boolean).flat(1),bV=te([fm],IN,{memoizeOptions:{resultEqualityCheck:px}}),zN=(e,n)=>{var{chartData:a=[],dataStartIndex:r,dataEndIndex:s}=n;return e.length>0?e:a.slice(r,s+1)},BN=te([bV,Kc],zN),$N=(e,n,a)=>n?.dataKey!=null?e.map(r=>({value:At(r,n.dataKey)})):a.length>0?a.map(r=>r.dataKey).flatMap(r=>e.map(s=>({value:At(s,r)}))):e.map(r=>({value:r})),xx=te([BN,Nn,fm],$N);function KP(e,n){switch(e){case"xAxis":return n.direction==="x";case"yAxis":return n.direction==="y";default:return!1}}function wh(e){if(Cs(e)||e instanceof Date){var n=Number(e);if(un(n))return n}}function fM(e){if(Array.isArray(e)){var n=[wh(e[0]),wh(e[1])];return yl(n)?n:void 0}var a=wh(e);if(a!=null)return[a,a]}function Ai(e){return e.map(wh).filter(gI)}function jV(e,n,a){return!a||typeof n!="number"||Tr(n)?[]:a.length?Ai(a.flatMap(r=>{var s=At(e,r.dataKey),l,c;if(Array.isArray(s)?[l,c]=s:l=c=s,!(!un(l)||!un(c)))return[n-l,n+c]})):[]}var Vn=e=>{var n=Zn(e),a=Xc(e);return Qc(e,n,a)},hm=te([Vn],e=>e?.dataKey),NV=te([UP,Kc,Vn],RN),FN=(e,n,a,r)=>{var s={},l=n.reduce((c,d)=>(d.stackId==null||(c[d.stackId]==null&&(c[d.stackId]=[]),c[d.stackId].push(d)),c),s);return Object.fromEntries(Object.entries(l).map(c=>{var[d,m]=c,f=r?[...m].reverse():m,h=f.map(fx);return[d,{stackedData:HB(e,h,a),graphicalItems:f}]}))},qu=te([NV,UP,Gc,DN],FN),WP=(e,n,a,r)=>{var{dataStartIndex:s,dataEndIndex:l}=n;if(r==null&&a!=="zAxis"){var c=KB(e,s,l);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},wV=te([Nn],e=>e.allowDataOverflow),qN=e=>{var n;if(e==null||!("domain"in e))return Ub;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var a=Ai(e.ticks);return[Math.min(...a),Math.max(...a)]}if(e.type==="category")return e.ticks.map(String)}return(n=e?.domain)!==null&&n!==void 0?n:Ub},HN=te([Nn],qN),UN=te([HN,wV],bP),SV=te([qu,_i,Jt,UN],WP,{memoizeOptions:{resultEqualityCheck:hx}}),gx=e=>e.errorBars,AV=(e,n,a)=>e.flatMap(r=>n[r.id]).filter(Boolean).filter(r=>KP(a,r)),mp=function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];var s=a.filter(Boolean);if(s.length!==0){var l=s.flat(),c=Math.min(...l),d=Math.max(...l);return[c,d]}},VN=(e,n,a,r,s)=>{var l,c;if(a.length>0&&e.forEach(d=>{a.forEach(m=>{var f,h,g=(f=r[m.id])===null||f===void 0?void 0:f.filter(M=>KP(s,M)),y=At(d,(h=n.dataKey)!==null&&h!==void 0?h:m.dataKey),v=jV(d,y,g);if(v.length>=2){var j=Math.min(...v),b=Math.max(...v);(l==null||j<l)&&(l=j),(c==null||b>c)&&(c=b)}var w=fM(y);w!=null&&(l=l==null?w[0]:Math.min(l,w[0]),c=c==null?w[1]:Math.max(c,w[1]))})}),n?.dataKey!=null&&e.forEach(d=>{var m=fM(At(d,n.dataKey));m!=null&&(l=l==null?m[0]:Math.min(l,m[0]),c=c==null?m[1]:Math.max(c,m[1]))}),un(l)&&un(c))return[l,c]},CV=te([BN,Nn,vV,gx,Jt],VN,{memoizeOptions:{resultEqualityCheck:hx}});function MV(e){var{value:n}=e;if(Cs(n)||n instanceof Date)return n}var DV=(e,n,a)=>{var r=e.map(MV).filter(s=>s!=null);return a&&(n.dataKey==null||n.allowDuplicatedCategory&&hE(r))?BO(0,e.length):n.allowDuplicatedCategory?r:Array.from(new Set(r))},YP=e=>e.referenceElements.dots,ed=(e,n,a)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>n==="xAxis"?r.xAxisId===a:r.yAxisId===a),EV=te([YP,Jt,um],ed),GP=e=>e.referenceElements.areas,OV=te([GP,Jt,um],ed),ZP=e=>e.referenceElements.lines,PV=te([ZP,Jt,um],ed),XP=(e,n)=>{var a=Ai(e.map(r=>n==="xAxis"?r.x:r.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},kV=te(EV,Jt,XP),QP=(e,n)=>{var a=Ai(e.flatMap(r=>[n==="xAxis"?r.x1:r.y1,n==="xAxis"?r.x2:r.y2]));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},RV=te([OV,Jt],QP);function _V(e){var n;if(e.x!=null)return Ai([e.x]);var a=(n=e.segment)===null||n===void 0?void 0:n.map(r=>r.x);return a==null||a.length===0?[]:Ai(a)}function TV(e){var n;if(e.y!=null)return Ai([e.y]);var a=(n=e.segment)===null||n===void 0?void 0:n.map(r=>r.y);return a==null||a.length===0?[]:Ai(a)}var JP=(e,n)=>{var a=e.flatMap(r=>n==="xAxis"?_V(r):TV(r));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},LV=te([PV,Jt],JP),IV=te(kV,LV,RV,(e,n,a)=>mp(e,a,n)),KN=(e,n,a,r,s,l,c,d)=>{if(a!=null)return a;var m=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",f=m?mp(r,l,s):mp(l,s);return YU(n,f,e.allowDataOverflow)},zV=te([Nn,HN,UN,SV,CV,IV,rt,Jt],KN,{memoizeOptions:{resultEqualityCheck:hx}}),BV=[0,1],WN=(e,n,a,r,s,l,c)=>{if(!((e==null||a==null||a.length===0)&&c===void 0)){var{dataKey:d,type:m}=e,f=qr(n,l);if(f&&d==null){var h;return BO(0,(h=a?.length)!==null&&h!==void 0?h:0)}return m==="category"?DV(r,e,f):s==="expand"?BV:c}},YN=te([Nn,rt,BN,xx,Gc,Jt,zV],WN),ek=(e,n,a,r,s)=>{if(e!=null){var{scale:l,type:c}=e;if(l==="auto")return n==="radial"&&s==="radiusAxis"?"band":n==="radial"&&s==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?"point":c==="category"?"band":"linear";if(typeof l=="string"){var d="scale".concat(Ju(l));return d in pu?d:"point"}}},wl=te([Nn,rt,HP,EN,Jt],ek);function $V(e){if(e!=null){if(e in pu)return pu[e]();var n="scale".concat(Ju(e));if(n in pu)return pu[n]()}}function yx(e,n,a,r){if(!(a==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(a).range(r);var s=$V(n);if(s!=null){var l=s.domain(a).range(r);return BB(l),l}}}var GN=(e,n,a)=>{var r=qN(n);if(!(a!=="auto"&&a!=="linear")){if(n!=null&&n.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&yl(e))return aV(e,n.tickCount,n.allowDecimals);if(n!=null&&n.tickCount&&n.type==="number"&&yl(e))return rV(e,n.tickCount,n.allowDecimals)}},ZN=te([YN,Qc,wl],GN),XN=(e,n,a,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&yl(n)&&Array.isArray(a)&&a.length>0){var s=n[0],l=a[0],c=n[1],d=a[a.length-1];return[Math.min(s,l),Math.max(c,d)]}return n},FV=te([Nn,YN,ZN,Jt],XN),qV=te(xx,Nn,(e,n)=>{if(!(!n||n.type!=="number")){var a=1/0,r=Array.from(Ai(e.map(d=>d.value))).sort((d,m)=>d-m);if(r.length<2)return 1/0;var s=r[r.length-1]-r[0];if(s===0)return 1/0;for(var l=0;l<r.length-1;l++){var c=r[l+1]-r[l];a=Math.min(a,c)}return a/s}}),tk=te(qV,rt,MN,Yn,(e,n,a,r)=>r,(e,n,a,r,s)=>{if(!un(e))return 0;var l=n==="vertical"?r.height:r.width;if(s==="gap")return e*l/2;if(s==="no-gap"){var c=ba(a,e*l),d=e*l/2;return d-c-(d-c)/l*c}return 0}),HV=(e,n)=>{var a=Ti(e,n);return a==null||typeof a.padding!="string"?0:tk(e,"xAxis",n,a.padding)},UV=(e,n)=>{var a=Li(e,n);return a==null||typeof a.padding!="string"?0:tk(e,"yAxis",n,a.padding)},VV=te(Ti,HV,(e,n)=>{var a,r;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:n,right:n}:{left:((a=s.left)!==null&&a!==void 0?a:0)+n,right:((r=s.right)!==null&&r!==void 0?r:0)+n}}),KV=te(Li,UV,(e,n)=>{var a,r;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:n,bottom:n}:{top:((a=s.top)!==null&&a!==void 0?a:0)+n,bottom:((r=s.bottom)!==null&&r!==void 0?r:0)+n}}),WV=te([Yn,VV,Jp,Qp,(e,n,a)=>a],(e,n,a,r,s)=>{var{padding:l}=r;return s?[l.left,a.width-l.right]:[e.left+n.left,e.left+e.width-n.right]}),YV=te([Yn,rt,KV,Jp,Qp,(e,n,a)=>a],(e,n,a,r,s,l)=>{var{padding:c}=s;return l?[r.height-c.bottom,c.top]:n==="horizontal"?[e.top+e.height-a.bottom,e.top+a.top]:[e.top+a.top,e.top+e.height-a.bottom]}),pm=(e,n,a,r)=>{var s;switch(n){case"xAxis":return WV(e,a,r);case"yAxis":return YV(e,a,r);case"zAxis":return(s=_N(e,a))===null||s===void 0?void 0:s.range;case"angleAxis":return BP(e);case"radiusAxis":return $P(e,a);default:return}},nk=te([Nn,pm],ux),td=te([Nn,wl,FV,nk],yx);te([fm,gx,Jt],AV);function ak(e,n){return e.id<n.id?-1:e.id>n.id?1:0}var vx=(e,n)=>n,bx=(e,n,a)=>a,GV=te(Zp,vx,bx,(e,n,a)=>e.filter(r=>r.orientation===n).filter(r=>r.mirror===a).sort(ak)),ZV=te(Xp,vx,bx,(e,n,a)=>e.filter(r=>r.orientation===n).filter(r=>r.mirror===a).sort(ak)),rk=(e,n)=>({width:e.width,height:n.height}),XV=(e,n)=>{var a=typeof n.width=="number"?n.width:rm;return{width:a,height:e.height}},sk=te(Yn,Ti,rk),QV=(e,n,a)=>{switch(n){case"top":return e.top;case"bottom":return a-e.bottom;default:return 0}},JV=(e,n,a)=>{switch(n){case"left":return e.left;case"right":return a-e.right;default:return 0}},eK=te(Oi,Yn,GV,vx,bx,(e,n,a,r,s)=>{var l={},c;return a.forEach(d=>{var m=rk(n,d);c==null&&(c=QV(n,r,e));var f=r==="top"&&!s||r==="bottom"&&s;l[d.id]=c-Number(f)*m.height,c+=(f?-1:1)*m.height}),l}),tK=te(Ei,Yn,ZV,vx,bx,(e,n,a,r,s)=>{var l={},c;return a.forEach(d=>{var m=XV(n,d);c==null&&(c=JV(n,r,e));var f=r==="left"&&!s||r==="right"&&s;l[d.id]=c-Number(f)*m.width,c+=(f?-1:1)*m.width}),l}),nK=(e,n)=>{var a=Ti(e,n);if(a!=null)return eK(e,a.orientation,a.mirror)},aK=te([Yn,Ti,nK,(e,n)=>n],(e,n,a,r)=>{if(n!=null){var s=a?.[r];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),rK=(e,n)=>{var a=Li(e,n);if(a!=null)return tK(e,a.orientation,a.mirror)},sK=te([Yn,Li,rK,(e,n)=>n],(e,n,a,r)=>{if(n!=null){var s=a?.[r];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),ik=te(Yn,Li,(e,n)=>{var a=typeof n.width=="number"?n.width:rm;return{width:a,height:e.height}}),hM=(e,n,a)=>{switch(n){case"xAxis":return sk(e,a).width;case"yAxis":return ik(e,a).height;default:return}},lk=(e,n,a,r)=>{if(a!=null){var{allowDuplicatedCategory:s,type:l,dataKey:c}=a,d=qr(e,r),m=n.map(f=>f.value);if(c&&d&&l==="category"&&s&&hE(m))return m}},xm=te([rt,xx,Nn,Jt],lk),QN=(e,n,a,r)=>{if(!(a==null||a.dataKey==null)){var{type:s,scale:l}=a,c=qr(e,r);if(c&&(s==="number"||l!=="auto"))return n.map(d=>d.value)}},JN=te([rt,xx,Qc,Jt],QN),pM=te([rt,gV,wl,td,xm,JN,pm,ZN,Jt],(e,n,a,r,s,l,c,d,m)=>{if(n!=null){var f=qr(e,m);return{angle:n.angle,interval:n.interval,minTickGap:n.minTickGap,orientation:n.orientation,tick:n.tick,tickCount:n.tickCount,tickFormatter:n.tickFormatter,ticks:n.ticks,type:n.type,unit:n.unit,axisType:m,categoricalDomain:l,duplicateDomain:s,isCategorical:f,niceTicks:d,range:c,realScaleType:a,scale:r}}}),ok=(e,n,a,r,s,l,c,d,m)=>{if(!(n==null||r==null)){var f=qr(e,m),{type:h,ticks:g,tickCount:y}=n,v=a==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,j=h==="category"&&r.bandwidth?r.bandwidth()/v:0;j=m==="angleAxis"&&l!=null&&l.length>=2?qn(l[0]-l[1])*2*j:j;var b=g||s;if(b){var w=b.map((M,S)=>{var A=c?c.indexOf(M):M;return{index:S,coordinate:r(A)+j,value:M,offset:j}});return w.filter(M=>un(M.coordinate))}return f&&d?d.map((M,S)=>({coordinate:r(M)+j,value:M,index:S,offset:j})).filter(M=>un(M.coordinate)):r.ticks?r.ticks(y).map(M=>({coordinate:r(M)+j,value:M,offset:j})):r.domain().map((M,S)=>({coordinate:r(M)+j,value:c?c[M]:M,index:S,offset:j}))}},ck=te([rt,Qc,wl,td,ZN,pm,xm,JN,Jt],ok),dk=(e,n,a,r,s,l,c)=>{if(!(n==null||a==null||r==null||r[0]===r[1])){var d=qr(e,c),{tickCount:m}=n,f=0;return f=c==="angleAxis"&&r?.length>=2?qn(r[0]-r[1])*2*f:f,d&&l?l.map((h,g)=>({coordinate:a(h)+f,value:h,index:g,offset:f})):a.ticks?a.ticks(m).map(h=>({coordinate:a(h)+f,value:h,offset:f})):a.domain().map((h,g)=>({coordinate:a(h)+f,value:s?s[h]:h,index:g,offset:f}))}},zr=te([rt,Qc,td,pm,xm,JN,Jt],dk),Br=te(Nn,td,(e,n)=>{if(!(e==null||n==null))return up(up({},e),{},{scale:n})}),iK=te([Nn,wl,YN,nk],yx),lK=te((e,n,a)=>_N(e,a),iK,(e,n)=>{if(!(e==null||n==null))return up(up({},e),{},{scale:n})}),oK=te([rt,Zp,Xp],(e,n,a)=>{switch(e){case"horizontal":return n.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return a.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),uk=e=>e.options.defaultTooltipEventType,mk=e=>e.options.validateTooltipEventTypes;function fk(e,n,a){if(e==null)return n;var r=e?"axis":"item";return a==null?n:a.includes(r)?r:n}function e1(e,n){var a=uk(e),r=mk(e);return fk(n,a,r)}function cK(e){return Pe(n=>e1(n,e))}var hk=(e,n)=>{var a,r=Number(n);if(!(Tr(r)||n==null))return r>=0?e==null||(a=e[r])===null||a===void 0?void 0:a.value:void 0},dK=e=>e.tooltip.settings,hl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},uK={itemInteraction:{click:hl,hover:hl},axisInteraction:{click:hl,hover:hl},keyboardInteraction:hl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},pk=Ya({name:"tooltip",initialState:uK,reducers:{addTooltipEntrySettings:{reducer(e,n){e.tooltipItemPayloads.push(n.payload)},prepare:xn()},replaceTooltipEntrySettings:{reducer(e,n){var{prev:a,next:r}=n.payload,s=ns(e).tooltipItemPayloads.indexOf(a);s>-1&&(e.tooltipItemPayloads[s]=r)},prepare:xn()},removeTooltipEntrySettings:{reducer(e,n){var a=ns(e).tooltipItemPayloads.indexOf(n.payload);a>-1&&e.tooltipItemPayloads.splice(a,1)},prepare:xn()},setTooltipSettingsState(e,n){e.settings=n.payload},setActiveMouseOverItemIndex(e,n){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=n.payload.activeIndex,e.itemInteraction.hover.dataKey=n.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=n.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=n.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,n){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=n.payload.activeIndex,e.itemInteraction.click.dataKey=n.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=n.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=n.payload.activeCoordinate},setMouseOverAxisIndex(e,n){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=n.payload.activeIndex,e.axisInteraction.hover.dataKey=n.payload.activeDataKey,e.axisInteraction.hover.coordinate=n.payload.activeCoordinate},setMouseClickAxisIndex(e,n){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=n.payload.activeIndex,e.axisInteraction.click.dataKey=n.payload.activeDataKey,e.axisInteraction.click.coordinate=n.payload.activeCoordinate},setSyncInteraction(e,n){e.syncInteraction=n.payload},setKeyboardInteraction(e,n){e.keyboardInteraction.active=n.payload.active,e.keyboardInteraction.index=n.payload.activeIndex,e.keyboardInteraction.coordinate=n.payload.activeCoordinate,e.keyboardInteraction.dataKey=n.payload.activeDataKey}}}),{addTooltipEntrySettings:mK,replaceTooltipEntrySettings:fK,removeTooltipEntrySettings:hK,setTooltipSettingsState:pK,setActiveMouseOverItemIndex:xk,mouseLeaveItem:xK,mouseLeaveChart:gk,setActiveClickItemIndex:gK,setMouseOverAxisIndex:yk,setMouseClickAxisIndex:yK,setSyncInteraction:Vb,setKeyboardInteraction:Kb}=pk.actions,vK=pk.reducer;function xM(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function lh(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?xM(Object(a),!0).forEach(function(r){bK(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function bK(e,n,a){return(n=jK(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function jK(e){var n=NK(e,"string");return typeof n=="symbol"?n:n+""}function NK(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function wK(e,n,a){return n==="axis"?a==="click"?e.axisInteraction.click:e.axisInteraction.hover:a==="click"?e.itemInteraction.click:e.itemInteraction.hover}function SK(e){return e.index!=null}var vk=(e,n,a,r)=>{if(n==null)return hl;var s=wK(e,n,a);if(s==null)return hl;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(SK(s)){if(l)return lh(lh({},s),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return lh(lh({},hl),{},{coordinate:s.coordinate})};function AK(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var n=e.valueOf();return Number.isFinite(n)?n:void 0}var a=Number(e);return Number.isFinite(a)?a:void 0}function CK(e,n){var a=AK(e),r=n[0],s=n[1];if(a===void 0)return!1;var l=Math.min(r,s),c=Math.max(r,s);return a>=l&&a<=c}function MK(e,n,a){if(a==null||n==null)return!0;var r=At(e,n);return r==null||!yl(a)?!0:CK(r,a)}var t1=(e,n,a,r)=>{var s=e?.index;if(s==null)return null;var l=Number(s);if(!un(l))return s;var c=0,d=1/0;n.length>0&&(d=n.length-1);var m=Math.max(c,Math.min(l,d)),f=n[m];return f==null||MK(f,a,r)?String(m):null},bk=(e,n,a,r,s,l,c,d)=>{if(!(l==null||d==null)){var m=c[0],f=m==null?void 0:d(m.positions,l);if(f!=null)return f;var h=s?.[Number(l)];if(h)switch(a){case"horizontal":return{x:h.coordinate,y:(r.top+n)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},jk=(e,n,a,r)=>{if(n==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return a==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.dataKey)===s})},gm=e=>e.options.tooltipPayloadSearcher,nd=e=>e.tooltip;function gM(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function yM(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?gM(Object(a),!0).forEach(function(r){DK(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function DK(e,n,a){return(n=EK(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function EK(e){var n=OK(e,"string");return typeof n=="symbol"?n:n+""}function OK(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function PK(e,n){return e??n}var Nk=(e,n,a,r,s,l,c)=>{if(!(n==null||l==null)){var{chartData:d,computedData:m,dataStartIndex:f,dataEndIndex:h}=a,g=[];return e.reduce((y,v)=>{var j,{dataDefinedOnItem:b,settings:w}=v,M=PK(b,d),S=Array.isArray(M)?lO(M,f,h):M,A=(j=w?.dataKey)!==null&&j!==void 0?j:r,E=w?.nameKey,D;if(r&&Array.isArray(S)&&!Array.isArray(S[0])&&c==="axis"?D=pE(S,r,s):D=l(S,n,m,E),Array.isArray(D))D.forEach(T=>{var O=yM(yM({},w),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});y.push(zC({tooltipEntrySettings:O,dataKey:T.dataKey,payload:T.payload,value:At(T.payload,T.dataKey),name:T.name}))});else{var P;y.push(zC({tooltipEntrySettings:w,dataKey:A,payload:D,value:At(D,A),name:(P=At(D,E))!==null&&P!==void 0?P:w?.name}))}return y},g)}},n1=te([Vn,rt,HP,EN,Zn],ek),kK=te([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,n)=>[...e,...n]),RK=te([Zn,Xc],TN),ym=te([kK,Vn,RK],LN,{memoizeOptions:{resultEqualityCheck:px}}),_K=te([ym],e=>e.filter(mm)),TK=te([ym],IN,{memoizeOptions:{resultEqualityCheck:px}}),ad=te([TK,_i],zN),LK=te([_K,_i,Vn],RN),a1=te([ad,Vn,ym],$N),wk=te([Vn],qN),IK=te([Vn],e=>e.allowDataOverflow),Sk=te([wk,IK],bP),zK=te([ym],e=>e.filter(mm)),BK=te([LK,zK,Gc,DN],FN),$K=te([BK,_i,Zn,Sk],WP),FK=te([ym],VP),qK=te([ad,Vn,FK,gx,Zn],VN,{memoizeOptions:{resultEqualityCheck:hx}}),HK=te([YP,Zn,Xc],ed),UK=te([HK,Zn],XP),VK=te([GP,Zn,Xc],ed),KK=te([VK,Zn],QP),WK=te([ZP,Zn,Xc],ed),YK=te([WK,Zn],JP),GK=te([UK,YK,KK],mp),ZK=te([Vn,wk,Sk,$K,qK,GK,rt,Zn],KN),vm=te([Vn,rt,ad,a1,Gc,Zn,ZK],WN),XK=te([vm,Vn,n1],GN),QK=te([Vn,vm,XK,Zn],XN),Ak=e=>{var n=Zn(e),a=Xc(e),r=!1;return pm(e,n,a,r)},Ck=te([Vn,Ak],ux),Mk=te([Vn,n1,QK,Ck],yx),JK=te([rt,a1,Vn,Zn],lk),eW=te([rt,a1,Vn,Zn],QN),tW=(e,n,a,r,s,l,c,d)=>{if(n){var{type:m}=n,f=qr(e,d);if(r){var h=a==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=m==="category"&&r.bandwidth?r.bandwidth()/h:0;return g=d==="angleAxis"&&s!=null&&s?.length>=2?qn(s[0]-s[1])*2*g:g,f&&c?c.map((y,v)=>({coordinate:r(y)+g,value:y,index:v,offset:g})):r.domain().map((y,v)=>({coordinate:r(y)+g,value:l?l[y]:y,index:v,offset:g}))}}},Ii=te([rt,Vn,n1,Mk,Ak,JK,eW,Zn],tW),r1=te([uk,mk,dK],(e,n,a)=>fk(a.shared,e,n)),Dk=e=>e.tooltip.settings.trigger,s1=e=>e.tooltip.settings.defaultIndex,bm=te([nd,r1,Dk,s1],vk),Os=te([bm,ad,hm,vm],t1),Ek=te([Ii,Os],hk),i1=te([bm],e=>{if(e)return e.dataKey}),nW=te([bm],e=>{if(e)return e.graphicalItemId}),Ok=te([nd,r1,Dk,s1],jk),aW=te([Ei,Oi,rt,Yn,Ii,s1,Ok,gm],bk),rW=te([bm,aW],(e,n)=>e!=null&&e.coordinate?e.coordinate:n),sW=te([bm],e=>e.active),iW=te([Ok,Os,_i,hm,Ek,gm,r1],Nk),lW=te([iW],e=>{if(e!=null){var n=e.map(a=>a.payload).filter(a=>a!=null);return Array.from(new Set(n))}});function vM(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function bM(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?vM(Object(a),!0).forEach(function(r){oW(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function oW(e,n,a){return(n=cW(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function cW(e){var n=dW(e,"string");return typeof n=="symbol"?n:n+""}function dW(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var uW=()=>Pe(Vn),mW=()=>{var e=uW(),n=Pe(Ii),a=Pe(Mk);return Ka(!e||!a?void 0:bM(bM({},e),{},{scale:a}),n)};function jM(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function xc(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?jM(Object(a),!0).forEach(function(r){fW(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function fW(e,n,a){return(n=hW(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function hW(e){var n=pW(e,"string");return typeof n=="symbol"?n:n+""}function pW(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var xW=(e,n,a,r)=>{var s=n.find(l=>l&&l.index===a);if(s){if(e==="horizontal")return{x:s.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:s.coordinate}}return{x:0,y:0}},gW=(e,n,a,r)=>{var s=n.find(f=>f&&f.index===a);if(s){if(e==="centric"){var l=s.coordinate,{radius:c}=r;return xc(xc(xc({},r),Tt(r.cx,r.cy,c,l)),{},{angle:l,radius:c})}var d=s.coordinate,{angle:m}=r;return xc(xc(xc({},r),Tt(r.cx,r.cy,d,m)),{},{angle:m,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function yW(e,n){var{chartX:a,chartY:r}=e;return a>=n.left&&a<=n.left+n.width&&r>=n.top&&r<=n.top+n.height}var Pk=(e,n,a,r,s)=>{var l,c=-1,d=(l=n?.length)!==null&&l!==void 0?l:0;if(d<=1||e==null)return 0;if(r==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var m=0;m<d;m++){var f=m>0?a[m-1].coordinate:a[d-1].coordinate,h=a[m].coordinate,g=m>=d-1?a[0].coordinate:a[m+1].coordinate,y=void 0;if(qn(h-f)!==qn(g-h)){var v=[];if(qn(g-h)===qn(s[1]-s[0])){y=g;var j=h+s[1]-s[0];v[0]=Math.min(j,(j+f)/2),v[1]=Math.max(j,(j+f)/2)}else{y=f;var b=g+s[1]-s[0];v[0]=Math.min(h,(b+h)/2),v[1]=Math.max(h,(b+h)/2)}var w=[Math.min(h,(y+h)/2),Math.max(h,(y+h)/2)];if(e>w[0]&&e<=w[1]||e>=v[0]&&e<=v[1]){({index:c}=a[m]);break}}else{var M=Math.min(f,g),S=Math.max(f,g);if(e>(M+h)/2&&e<=(S+h)/2){({index:c}=a[m]);break}}}else if(n){for(var A=0;A<d;A++)if(A===0&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<d-1&&e>(n[A].coordinate+n[A-1].coordinate)/2&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A===d-1&&e>(n[A].coordinate+n[A-1].coordinate)/2){({index:c}=n[A]);break}}return c},kk=()=>Pe(EN),l1=(e,n)=>n,Rk=(e,n,a)=>a,o1=(e,n,a,r)=>r,vW=te(Ii,e=>$p(e,n=>n.coordinate)),c1=te([nd,l1,Rk,o1],vk),d1=te([c1,ad,hm,vm],t1),bW=(e,n,a)=>{if(n!=null){var r=nd(e);return n==="axis"?a==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:a==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},_k=te([nd,l1,Rk,o1],jk),fp=te([Ei,Oi,rt,Yn,Ii,o1,_k,gm],bk),jW=te([c1,fp],(e,n)=>{var a;return(a=e.coordinate)!==null&&a!==void 0?a:n}),Tk=te([Ii,d1],hk),NW=te([_k,d1,_i,hm,Tk,gm,l1],Nk),wW=te([c1,d1],(e,n)=>({isActive:e.active&&n!=null,activeIndex:n})),SW=(e,n,a,r,s,l,c)=>{if(!(!e||!a||!r||!s)&&yW(e,c)){var d=WB(e,n),m=Pk(d,l,s,a,r),f=xW(n,s,m,e);return{activeIndex:String(m),activeCoordinate:f}}},AW=(e,n,a,r,s,l,c)=>{if(!(!e||!r||!s||!l||!a)){var d=dq(e,a);if(d){var m=YB(d,n),f=Pk(m,c,l,r,s),h=gW(n,l,f,d);return{activeIndex:String(f),activeCoordinate:h}}}},CW=(e,n,a,r,s,l,c,d)=>{if(!(!e||!n||!r||!s||!l))return n==="horizontal"||n==="vertical"?SW(e,n,r,s,l,c,d):AW(e,n,a,r,s,l,c)},MW=te(e=>e.zIndex.zIndexMap,(e,n)=>n,(e,n,a)=>a,(e,n,a)=>{if(n!=null){var r=e[n];if(r!=null)return a?r.panoramaElementId:r.elementId}}),DW=te(e=>e.zIndex.zIndexMap,e=>{var n=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Bt)),a=Array.from(new Set(n));return a.sort((r,s)=>r-s)},{memoizeOptions:{resultEqualityCheck:fV}});function NM(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function wM(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?NM(Object(a),!0).forEach(function(r){EW(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):NM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function EW(e,n,a){return(n=OW(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function OW(e){var n=PW(e,"string");return typeof n=="symbol"?n:n+""}function PW(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var kW={},RW={zIndexMap:Object.values(Bt).reduce((e,n)=>wM(wM({},e),{},{[n]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),kW)},_W=new Set(Object.values(Bt));function TW(e){return _W.has(e)}var Lk=Ya({name:"zIndex",initialState:RW,reducers:{registerZIndexPortal:{reducer:(e,n)=>{var{zIndex:a}=n.payload;e.zIndexMap[a]?e.zIndexMap[a].consumers+=1:e.zIndexMap[a]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:xn()},unregisterZIndexPortal:{reducer:(e,n)=>{var{zIndex:a}=n.payload;e.zIndexMap[a]&&(e.zIndexMap[a].consumers-=1,e.zIndexMap[a].consumers<=0&&!TW(a)&&delete e.zIndexMap[a])},prepare:xn()},registerZIndexPortalId:{reducer:(e,n)=>{var{zIndex:a,elementId:r,isPanorama:s}=n.payload;e.zIndexMap[a]?s?e.zIndexMap[a].panoramaElementId=r:e.zIndexMap[a].elementId=r:e.zIndexMap[a]={consumers:0,elementId:s?void 0:r,panoramaElementId:s?r:void 0}},prepare:xn()},unregisterZIndexPortalId:{reducer:(e,n)=>{var{zIndex:a}=n.payload;e.zIndexMap[a]&&(n.payload.isPanorama?e.zIndexMap[a].panoramaElementId=void 0:e.zIndexMap[a].elementId=void 0)},prepare:xn()}}}),{registerZIndexPortal:LW,unregisterZIndexPortal:IW,registerZIndexPortalId:zW,unregisterZIndexPortalId:BW}=Lk.actions,$W=Lk.reducer;function yn(e){var{zIndex:n,children:a}=e,r=C$(),s=r&&n!==void 0&&n!==0,l=Cn(),c=Ut();x.useLayoutEffect(()=>s?(c(LW({zIndex:n})),()=>{c(IW({zIndex:n}))}):em,[c,n,s]);var d=Pe(f=>MW(f,n,l));if(!s)return a;if(!d)return null;var m=document.getElementById(d);return m?pj.createPortal(a,m):null}function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Wb.apply(null,arguments)}function SM(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function oh(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?SM(Object(a),!0).forEach(function(r){FW(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):SM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function FW(e,n,a){return(n=qW(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function qW(e){var n=HW(e,"string");return typeof n=="symbol"?n:n+""}function HW(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function UW(e){var{cursor:n,cursorComp:a,cursorProps:r}=e;return x.isValidElement(n)?x.cloneElement(n,r):x.createElement(a,r)}function VW(e){var n,{coordinate:a,payload:r,index:s,offset:l,tooltipAxisBandSize:c,layout:d,cursor:m,tooltipEventType:f,chartName:h}=e,g=a,y=r,v=s;if(!m||!g||h!=="ScatterChart"&&f!=="axis")return null;var j,b,w;if(h==="ScatterChart")j=g,b=AF,w=Bt.cursorLine;else if(h==="BarChart")j=CF(d,g,l,c),b=RO,w=Bt.cursorRectangle;else if(d==="radial"&&gE(g)){var{cx:M,cy:S,radius:A,startAngle:E,endAngle:D}=LO(g);j={cx:M,cy:S,startAngle:E,endAngle:D,innerRadius:A,outerRadius:A},b=zO,w=Bt.cursorLine}else j={points:hq(d,g,l)},b=eo,w=Bt.cursorLine;var P=typeof m=="object"&&"className"in m?m.className:void 0,T=oh(oh(oh(oh({stroke:"#ccc",pointerEvents:"none"},l),j),is(m)),{},{payload:y,payloadIndex:v,className:ot("recharts-tooltip-cursor",P)});return x.createElement(yn,{zIndex:(n=e.zIndex)!==null&&n!==void 0?n:w},x.createElement(UW,{cursor:m,cursorComp:b,cursorProps:T}))}function KW(e){var n=mW(),a=gO(),r=go(),s=kk();return n==null||a==null||r==null||s==null?null:x.createElement(VW,Wb({},e,{offset:a,layout:r,tooltipAxisBandSize:n,chartName:s}))}var Ik=x.createContext(null),WW=()=>x.useContext(Ik),pv={exports:{}},AM;function YW(){return AM||(AM=1,(function(e){var n=Object.prototype.hasOwnProperty,a="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(a=!1));function s(m,f,h){this.fn=m,this.context=f,this.once=h||!1}function l(m,f,h,g,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new s(h,g||m,y),j=a?a+f:f;return m._events[j]?m._events[j].fn?m._events[j]=[m._events[j],v]:m._events[j].push(v):(m._events[j]=v,m._eventsCount++),m}function c(m,f){--m._eventsCount===0?m._events=new r:delete m._events[f]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var f=[],h,g;if(this._eventsCount===0)return f;for(g in h=this._events)n.call(h,g)&&f.push(a?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},d.prototype.listeners=function(f){var h=a?a+f:f,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,v=g.length,j=new Array(v);y<v;y++)j[y]=g[y].fn;return j},d.prototype.listenerCount=function(f){var h=a?a+f:f,g=this._events[h];return g?g.fn?1:g.length:0},d.prototype.emit=function(f,h,g,y,v,j){var b=a?a+f:f;if(!this._events[b])return!1;var w=this._events[b],M=arguments.length,S,A;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),M){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,g),!0;case 4:return w.fn.call(w.context,h,g,y),!0;case 5:return w.fn.call(w.context,h,g,y,v),!0;case 6:return w.fn.call(w.context,h,g,y,v,j),!0}for(A=1,S=new Array(M-1);A<M;A++)S[A-1]=arguments[A];w.fn.apply(w.context,S)}else{var E=w.length,D;for(A=0;A<E;A++)switch(w[A].once&&this.removeListener(f,w[A].fn,void 0,!0),M){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,h);break;case 3:w[A].fn.call(w[A].context,h,g);break;case 4:w[A].fn.call(w[A].context,h,g,y);break;default:if(!S)for(D=1,S=new Array(M-1);D<M;D++)S[D-1]=arguments[D];w[A].fn.apply(w[A].context,S)}}return!0},d.prototype.on=function(f,h,g){return l(this,f,h,g,!1)},d.prototype.once=function(f,h,g){return l(this,f,h,g,!0)},d.prototype.removeListener=function(f,h,g,y){var v=a?a+f:f;if(!this._events[v])return this;if(!h)return c(this,v),this;var j=this._events[v];if(j.fn)j.fn===h&&(!y||j.once)&&(!g||j.context===g)&&c(this,v);else{for(var b=0,w=[],M=j.length;b<M;b++)(j[b].fn!==h||y&&!j[b].once||g&&j[b].context!==g)&&w.push(j[b]);w.length?this._events[v]=w.length===1?w[0]:w:c(this,v)}return this},d.prototype.removeAllListeners=function(f){var h;return f?(h=a?a+f:f,this._events[h]&&c(this,h)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=a,d.EventEmitter=d,e.exports=d})(pv)),pv.exports}var GW=YW();const ZW=$r(GW);var Hu=new ZW,Yb="recharts.syncEvent.tooltip",CM="recharts.syncEvent.brush";function No(e,n){if(n){var a=Number.parseInt(n,10);if(!Tr(a))return e?.[a]}}var XW={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},zk=Ya({name:"options",initialState:XW,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),QW=zk.reducer,{createEventEmitter:JW}=zk.actions;function eY(e){return e.tooltip.syncInteraction}var tY={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Bk=Ya({name:"chartData",initialState:tY,reducers:{setChartData(e,n){if(e.chartData=n.payload,n.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}n.payload.length>0&&e.dataEndIndex!==n.payload.length-1&&(e.dataEndIndex=n.payload.length-1)},setComputedData(e,n){e.computedData=n.payload},setDataStartEndIndexes(e,n){var{startIndex:a,endIndex:r}=n.payload;a!=null&&(e.dataStartIndex=a),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:MM,setDataStartEndIndexes:nY,setComputedData:rde}=Bk.actions,aY=Bk.reducer,rY=["x","y"];function DM(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function gc(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?DM(Object(a),!0).forEach(function(r){sY(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):DM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function sY(e,n,a){return(n=iY(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function iY(e){var n=lY(e,"string");return typeof n=="symbol"?n:n+""}function lY(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function oY(e,n){if(e==null)return{};var a,r,s=cY(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function cY(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function dY(){var e=Pe(ON),n=Pe(PN),a=Ut(),r=Pe(LP),s=Pe(Ii),l=go(),c=sm(),d=Pe(m=>m.rootProps.className);x.useEffect(()=>{if(e==null)return em;var m=(f,h,g)=>{if(n!==g&&e===f){if(r==="index"){var y;if(c&&h!==null&&h!==void 0&&(y=h.payload)!==null&&y!==void 0&&y.coordinate&&h.payload.sourceViewBox){var v=h.payload.coordinate,{x:j,y:b}=v,w=oY(v,rY),{x:M,y:S,width:A,height:E}=h.payload.sourceViewBox,D=gc(gc({},w),{},{x:c.x+(A?(j-M)/A:0)*c.width,y:c.y+(E?(b-S)/E:0)*c.height});a(gc(gc({},h),{},{payload:gc(gc({},h.payload),{},{coordinate:D})}))}else a(h);return}if(s!=null){var P;if(typeof r=="function"){var T={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=r(s,T);P=s[O]}else r==="value"&&(P=s.find(W=>String(W.value)===h.payload.label));var{coordinate:k}=h.payload;if(P==null||h.payload.active===!1||k==null||c==null){a(Vb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:B,y:I}=k,z=Math.min(B,c.x+c.width),J=Math.min(I,c.y+c.height),L={x:l==="horizontal"?P.coordinate:z,y:l==="horizontal"?J:P.coordinate},G=Vb({active:h.payload.active,coordinate:L,dataKey:h.payload.dataKey,index:String(P.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});a(G)}}};return Hu.on(Yb,m),()=>{Hu.off(Yb,m)}},[d,a,n,e,r,s,l,c])}function uY(){var e=Pe(ON),n=Pe(PN),a=Ut();x.useEffect(()=>{if(e==null)return em;var r=(s,l,c)=>{n!==c&&e===s&&a(nY(l))};return Hu.on(CM,r),()=>{Hu.off(CM,r)}},[a,n,e])}function mY(){var e=Ut();x.useEffect(()=>{e(JW())},[e]),dY(),uY()}function fY(e,n,a,r,s,l){var c=Pe(v=>bW(v,e,n)),d=Pe(PN),m=Pe(ON),f=Pe(LP),h=Pe(eY),g=h?.active,y=sm();x.useEffect(()=>{if(!g&&m!=null&&d!=null){var v=Vb({active:l,coordinate:a,dataKey:c,index:s,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});Hu.emit(Yb,m,v,d)}},[g,a,c,s,r,d,m,f,l,y])}function EM(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function OM(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?EM(Object(a),!0).forEach(function(r){hY(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):EM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function hY(e,n,a){return(n=pY(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function pY(e){var n=xY(e,"string");return typeof n=="symbol"?n:n+""}function xY(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function gY(e){return e.dataKey}function yY(e,n){return x.isValidElement(e)?x.cloneElement(e,n):typeof e=="function"?x.createElement(e,n):x.createElement(rF,n)}var PM=[],vY={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function pt(e){var n,a,r=Lt(e,vY),{active:s,allowEscapeViewBox:l,animationDuration:c,animationEasing:d,content:m,filterNull:f,isAnimationActive:h,offset:g,payloadUniqBy:y,position:v,reverseDirection:j,useTranslate3d:b,wrapperStyle:w,cursor:M,shared:S,trigger:A,defaultIndex:E,portal:D,axisId:P}=r,T=Ut(),O=typeof E=="number"?String(E):E;x.useEffect(()=>{T(pK({shared:S,trigger:A,axisId:P,active:s,defaultIndex:O}))},[T,S,A,P,s,O]);var k=sm(),B=DO(),I=cK(S),{activeIndex:z,isActive:J}=(n=Pe(Se=>wW(Se,I,A,O)))!==null&&n!==void 0?n:{},L=Pe(Se=>NW(Se,I,A,O)),G=Pe(Se=>Tk(Se,I,A,O)),W=Pe(Se=>jW(Se,I,A,O)),R=L,F=WW(),q=(a=s??J)!==null&&a!==void 0?a:!1,[Y,ae]=PE([R,q]),je=I==="axis"?G:void 0;fY(I,A,W,je,z,q);var V=D??F;if(V==null||k==null||I==null)return null;var fe=R??PM;q||(fe=PM),f&&fe.length&&(fe=CE(fe.filter(Se=>Se.value!=null&&(Se.hide!==!0||r.includeHidden)),y,gY));var Ne=fe.length>0,se=x.createElement(uF,{allowEscapeViewBox:l,animationDuration:c,animationEasing:d,isAnimationActive:h,active:q,coordinate:W,hasPayload:Ne,offset:g,position:v,reverseDirection:j,useTranslate3d:b,viewBox:k,wrapperStyle:w,lastBoundingBox:Y,innerRef:ae,hasPortalFromProps:!!D},yY(m,OM(OM({},r),{},{payload:fe,label:je,active:q,activeIndex:z,coordinate:W,accessibilityLayer:B})));return x.createElement(x.Fragment,null,pj.createPortal(se,V),q&&x.createElement(KW,{cursor:M,tooltipEventType:I,coordinate:W,payload:fe,index:z}))}var kn=e=>null;kn.displayName="Cell";function bY(e,n,a){return(n=jY(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function jY(e){var n=NY(e,"string");return typeof n=="symbol"?n:n+""}function NY(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}class wY{constructor(n){bY(this,"cache",new Map),this.maxSize=n}get(n){var a=this.cache.get(n);return a!==void 0&&(this.cache.delete(n),this.cache.set(n,a)),a}set(n,a){if(this.cache.has(n))this.cache.delete(n);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(n,a)}clear(){this.cache.clear()}size(){return this.cache.size}}function kM(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function SY(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?kM(Object(a),!0).forEach(function(r){AY(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):kM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function AY(e,n,a){return(n=CY(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function CY(e){var n=MY(e,"string");return typeof n=="symbol"?n:n+""}function MY(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var DY={cacheSize:2e3,enableCache:!0},$k=SY({},DY),RM=new wY($k.cacheSize),EY={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_M="recharts_measurement_span";function OY(e,n){var a=n.fontSize||"",r=n.fontFamily||"",s=n.fontWeight||"",l=n.fontStyle||"",c=n.letterSpacing||"",d=n.textTransform||"";return"".concat(e,"|").concat(a,"|").concat(r,"|").concat(s,"|").concat(l,"|").concat(c,"|").concat(d)}var TM=(e,n)=>{try{var a=document.getElementById(_M);a||(a=document.createElement("span"),a.setAttribute("id",_M),a.setAttribute("aria-hidden","true"),document.body.appendChild(a)),Object.assign(a.style,EY,n),a.textContent="".concat(e);var r=a.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},bu=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n==null||Hc.isSsr)return{width:0,height:0};if(!$k.enableCache)return TM(n,a);var r=OY(n,a),s=RM.get(r);if(s)return s;var l=TM(n,a);return RM.set(r,l),l},LM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PY=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,kY=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Fk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},RY=Object.keys(Fk),wc="NaN";function _Y(e,n){return e*Fk[n]}class La{static parse(n){var a,[,r,s]=(a=kY.exec(n))!==null&&a!==void 0?a:[];return new La(parseFloat(r),s??"")}constructor(n,a){this.num=n,this.unit=a,this.num=n,this.unit=a,Tr(n)&&(this.unit=""),a!==""&&!PY.test(a)&&(this.num=NaN,this.unit=""),RY.includes(a)&&(this.num=_Y(n,a),this.unit="px")}add(n){return this.unit!==n.unit?new La(NaN,""):new La(this.num+n.num,this.unit)}subtract(n){return this.unit!==n.unit?new La(NaN,""):new La(this.num-n.num,this.unit)}multiply(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new La(NaN,""):new La(this.num*n.num,this.unit||n.unit)}divide(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new La(NaN,""):new La(this.num/n.num,this.unit||n.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Tr(this.num)}}function qk(e){if(e.includes(wc))return wc;for(var n=e;n.includes("*")||n.includes("/");){var a,[,r,s,l]=(a=LM.exec(n))!==null&&a!==void 0?a:[],c=La.parse(r??""),d=La.parse(l??""),m=s==="*"?c.multiply(d):c.divide(d);if(m.isNaN())return wc;n=n.replace(LM,m.toString())}for(;n.includes("+")||/.-\d+(?:\.\d+)?/.test(n);){var f,[,h,g,y]=(f=IM.exec(n))!==null&&f!==void 0?f:[],v=La.parse(h??""),j=La.parse(y??""),b=g==="+"?v.add(j):v.subtract(j);if(b.isNaN())return wc;n=n.replace(IM,b.toString())}return n}var zM=/\(([^()]*)\)/;function TY(e){for(var n=e,a;(a=zM.exec(n))!=null;){var[,r]=a;n=n.replace(zM,qk(r))}return n}function LY(e){var n=e.replace(/\s+/g,"");return n=TY(n),n=qk(n),n}function IY(e){try{return LY(e)}catch{return wc}}function xv(e){var n=IY(e.slice(5,-1));return n===wc?"":n}var zY=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],BY=["dx","dy","angle","className","breakAll"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Gb.apply(null,arguments)}function BM(e,n){if(e==null)return{};var a,r,s=$Y(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function $Y(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Hk=/[ \f\n\r\t\v\u2028\u2029]+/,Uk=e=>{var{children:n,breakAll:a,style:r}=e;try{var s=[];Ot(n)||(a?s=n.toString().split(""):s=n.toString().split(Hk));var l=s.map(d=>({word:d,width:bu(d,r).width})),c=a?0:bu("",r).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}};function FY(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Vk=(e,n,a,r)=>e.reduce((s,l)=>{var{word:c,width:d}=l,m=s[s.length-1];if(m&&d!=null&&(n==null||r||m.width+d+a<Number(n)))m.words.push(c),m.width+=d+a;else{var f={words:[c],width:d};s.push(f)}return s},[]),Kk=e=>e.reduce((n,a)=>n.width>a.width?n:a),qY="",$M=(e,n,a,r,s,l,c,d)=>{var m=e.slice(0,n),f=Uk({breakAll:a,style:r,children:m+qY});if(!f)return[!1,[]];var h=Vk(f.wordsWithComputedWidth,l,c,d),g=h.length>s||Kk(h).width>Number(l);return[g,h]},HY=(e,n,a,r,s)=>{var{maxLines:l,children:c,style:d,breakAll:m}=e,f=ze(l),h=String(c),g=Vk(n,r,a,s);if(!f||s)return g;var y=g.length>l||Kk(g).width>Number(r);if(!y)return g;for(var v=0,j=h.length-1,b=0,w;v<=j&&b<=h.length-1;){var M=Math.floor((v+j)/2),S=M-1,[A,E]=$M(h,S,m,d,l,r,a,s),[D]=$M(h,M,m,d,l,r,a,s);if(!A&&!D&&(v=M+1),A&&D&&(j=M-1),!A&&D){w=E;break}b++}return w||g},FM=e=>{var n=Ot(e)?[]:e.toString().split(Hk);return[{words:n,width:void 0}]},UY=e=>{var{width:n,scaleToFit:a,children:r,style:s,breakAll:l,maxLines:c}=e;if((n||a)&&!Hc.isSsr){var d,m,f=Uk({breakAll:l,children:r,style:s});if(f){var{wordsWithComputedWidth:h,spaceWidth:g}=f;d=h,m=g}else return FM(r);return HY({breakAll:l,children:r,maxLines:c,style:s},d,m,n,!!a)}return FM(r)},Wk="#808080",VY={angle:0,breakAll:!1,capHeight:"0.71em",fill:Wk,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},rd=x.forwardRef((e,n)=>{var a=Lt(e,VY),{x:r,y:s,lineHeight:l,capHeight:c,fill:d,scaleToFit:m,textAnchor:f,verticalAnchor:h}=a,g=BM(a,zY),y=x.useMemo(()=>UY({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:m,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,m,g.style,g.width]),{dx:v,dy:j,angle:b,className:w,breakAll:M}=g,S=BM(g,BY);if(!Cs(r)||!Cs(s)||y.length===0)return null;var A=Number(r)+(ze(v)?v:0),E=Number(s)+(ze(j)?j:0);if(!un(A)||!un(E))return null;var D;switch(h){case"start":D=xv("calc(".concat(c,")"));break;case"middle":D=xv("calc(".concat((y.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:D=xv("calc(".concat(y.length-1," * -").concat(l,")"));break}var P=[];if(m){var T=y[0].width,{width:O}=g;P.push("scale(".concat(ze(O)&&ze(T)?O/T:1,")"))}return b&&P.push("rotate(".concat(b,", ").concat(A,", ").concat(E,")")),P.length&&(S.transform=P.join(" ")),x.createElement("text",Gb({},Pn(S),{ref:n,x:A,y:E,className:ot("recharts-text",w),textAnchor:f,fill:d.includes("url")?Wk:d}),y.map((k,B)=>{var I=k.words.join(M?"":" ");return x.createElement("tspan",{x:A,dy:B===0?D:l,key:"".concat(I,"-").concat(B)},I)}))});rd.displayName="Text";var KY=["labelRef"];function WY(e,n){if(e==null)return{};var a,r,s=YY(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function YY(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function qM(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function En(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?qM(Object(a),!0).forEach(function(r){GY(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function GY(e,n,a){return(n=ZY(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function ZY(e){var n=XY(e,"string");return typeof n=="symbol"?n:n+""}function XY(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ii.apply(null,arguments)}var Yk=x.createContext(null),QY=e=>{var{x:n,y:a,upperWidth:r,lowerWidth:s,width:l,height:c,children:d}=e,m=x.useMemo(()=>({x:n,y:a,upperWidth:r,lowerWidth:s,width:l,height:c}),[n,a,r,s,l,c]);return x.createElement(Yk.Provider,{value:m},d)},Gk=()=>{var e=x.useContext(Yk),n=sm();return e||xO(n)},Zk=x.createContext(null),JY=e=>{var{cx:n,cy:a,innerRadius:r,outerRadius:s,startAngle:l,endAngle:c,clockWise:d,children:m}=e,f=x.useMemo(()=>({cx:n,cy:a,innerRadius:r,outerRadius:s,startAngle:l,endAngle:c,clockWise:d}),[n,a,r,s,l,c,d]);return x.createElement(Zk.Provider,{value:f},m)},Xk=()=>{var e=x.useContext(Zk),n=Pe(jo);return e||n},eG=e=>{var{value:n,formatter:a}=e,r=Ot(e.children)?n:e.children;return typeof a=="function"?a(r):r},u1=e=>e!=null&&typeof e=="function",tG=(e,n)=>{var a=qn(n-e),r=Math.min(Math.abs(n-e),360);return a*r},nG=(e,n,a,r,s)=>{var{offset:l,className:c}=e,{cx:d,cy:m,innerRadius:f,outerRadius:h,startAngle:g,endAngle:y,clockWise:v}=s,j=(f+h)/2,b=tG(g,y),w=b>=0?1:-1,M,S;switch(n){case"insideStart":M=g+w*l,S=v;break;case"insideEnd":M=y-w*l,S=!v;break;case"end":M=y+w*l,S=v;break;default:throw new Error("Unsupported position ".concat(n))}S=b<=0?S:!S;var A=Tt(d,m,j,M),E=Tt(d,m,j,M+(S?1:-1)*359),D="M".concat(A.x,",").concat(A.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(S?0:1,`,
    `).concat(E.x,",").concat(E.y),P=Ot(e.id)?Eu("recharts-radial-line-"):e.id;return x.createElement("text",ii({},r,{dominantBaseline:"central",className:ot("recharts-radial-bar-label",c)}),x.createElement("defs",null,x.createElement("path",{id:P,d:D})),x.createElement("textPath",{xlinkHref:"#".concat(P)},a))},aG=(e,n,a)=>{var{cx:r,cy:s,innerRadius:l,outerRadius:c,startAngle:d,endAngle:m}=e,f=(d+m)/2;if(a==="outside"){var{x:h,y:g}=Tt(r,s,c+n,f);return{x:h,y:g,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,{x:v,y:j}=Tt(r,s,y,f);return{x:v,y:j,textAnchor:"middle",verticalAnchor:"middle"}},Zb=e=>"cx"in e&&ze(e.cx),rG=(e,n)=>{var{parentViewBox:a,offset:r,position:s}=e,l;a!=null&&!Zb(a)&&(l=a);var{x:c,y:d,upperWidth:m,lowerWidth:f,height:h}=n,g=c,y=c+(m-f)/2,v=(g+y)/2,j=(m+f)/2,b=g+m/2,w=h>=0?1:-1,M=w*r,S=w>0?"end":"start",A=w>0?"start":"end",E=m>=0?1:-1,D=E*r,P=E>0?"end":"start",T=E>0?"start":"end";if(s==="top"){var O={x:g+m/2,y:d-M,textAnchor:"middle",verticalAnchor:S};return En(En({},O),l?{height:Math.max(d-l.y,0),width:m}:{})}if(s==="bottom"){var k={x:y+f/2,y:d+h+M,textAnchor:"middle",verticalAnchor:A};return En(En({},k),l?{height:Math.max(l.y+l.height-(d+h),0),width:f}:{})}if(s==="left"){var B={x:v-D,y:d+h/2,textAnchor:P,verticalAnchor:"middle"};return En(En({},B),l?{width:Math.max(B.x-l.x,0),height:h}:{})}if(s==="right"){var I={x:v+j+D,y:d+h/2,textAnchor:T,verticalAnchor:"middle"};return En(En({},I),l?{width:Math.max(l.x+l.width-I.x,0),height:h}:{})}var z=l?{width:j,height:h}:{};return s==="insideLeft"?En({x:v+D,y:d+h/2,textAnchor:T,verticalAnchor:"middle"},z):s==="insideRight"?En({x:v+j-D,y:d+h/2,textAnchor:P,verticalAnchor:"middle"},z):s==="insideTop"?En({x:g+m/2,y:d+M,textAnchor:"middle",verticalAnchor:A},z):s==="insideBottom"?En({x:y+f/2,y:d+h-M,textAnchor:"middle",verticalAnchor:S},z):s==="insideTopLeft"?En({x:g+D,y:d+M,textAnchor:T,verticalAnchor:A},z):s==="insideTopRight"?En({x:g+m-D,y:d+M,textAnchor:P,verticalAnchor:A},z):s==="insideBottomLeft"?En({x:y+D,y:d+h-M,textAnchor:T,verticalAnchor:S},z):s==="insideBottomRight"?En({x:y+f-D,y:d+h-M,textAnchor:P,verticalAnchor:S},z):s&&typeof s=="object"&&(ze(s.x)||bi(s.x))&&(ze(s.y)||bi(s.y))?En({x:c+ba(s.x,j),y:d+ba(s.y,h),textAnchor:"end",verticalAnchor:"end"},z):En({x:b,y:d+h/2,textAnchor:"middle",verticalAnchor:"middle"},z)},sG={angle:0,offset:5,zIndex:Bt.label,position:"middle",textBreakAll:!1};function ml(e){var n=Lt(e,sG),{viewBox:a,position:r,value:s,children:l,content:c,className:d="",textBreakAll:m,labelRef:f}=n,h=Xk(),g=Gk(),y=r==="center"?g:h??g,v,j,b;if(a==null?v=y:Zb(a)?v=a:v=xO(a),!v||Ot(s)&&Ot(l)&&!x.isValidElement(c)&&typeof c!="function")return null;var w=En(En({},n),{},{viewBox:v});if(x.isValidElement(c)){var{labelRef:M}=w,S=WY(w,KY);return x.cloneElement(c,S)}if(typeof c=="function"){if(j=x.createElement(c,w),x.isValidElement(j))return j}else j=eG(n);var A=Pn(n);if(Zb(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return nG(n,r,j,A,v);b=aG(v,n.offset,n.position)}else b=rG(n,v);return x.createElement(yn,{zIndex:n.zIndex},x.createElement(rd,ii({ref:f,className:ot("recharts-label",d)},A,b,{textAnchor:FY(A.textAnchor)?A.textAnchor:b.textAnchor,breakAll:m}),j))}ml.displayName="Label";var Qk=(e,n,a)=>{if(!e)return null;var r={viewBox:n,labelRef:a};return e===!0?x.createElement(ml,ii({key:"label-implicit"},r)):Cs(e)?x.createElement(ml,ii({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===ml?x.cloneElement(e,En({key:"label-implicit"},r)):x.createElement(ml,ii({key:"label-implicit",content:e},r)):u1(e)?x.createElement(ml,ii({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(ml,ii({},e,{key:"label-implicit"},r)):null};function iG(e){var{label:n,labelRef:a}=e,r=Gk();return Qk(n,r,a)||null}function lG(e){var{label:n}=e,a=Xk();return Qk(n,a)||null}var gv={},yv={},HM;function oG(){return HM||(HM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(a){return a[a.length-1]}e.last=n})(yv)),yv}var vv={},UM;function cG(){return UM||(UM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(a){return Array.isArray(a)?a:Array.from(a)}e.toArray=n})(vv)),vv}var VM;function dG(){return VM||(VM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=oG(),a=cG(),r=Ij();function s(l){if(r.isArrayLike(l))return n.last(a.toArray(l))}e.last=s})(gv)),gv}var bv,KM;function uG(){return KM||(KM=1,bv=dG().last),bv}var mG=uG();const Jk=$r(mG);var fG=["valueAccessor"],hG=["dataKey","clockWise","id","textBreakAll","zIndex"];function hp(){return hp=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},hp.apply(null,arguments)}function WM(e,n){if(e==null)return{};var a,r,s=pG(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function pG(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var xG=e=>Array.isArray(e.value)?Jk(e.value):e.value,eR=x.createContext(void 0),jm=eR.Provider,tR=x.createContext(void 0),nR=tR.Provider;function gG(){return x.useContext(eR)}function yG(){return x.useContext(tR)}function Sh(e){var{valueAccessor:n=xG}=e,a=WM(e,fG),{dataKey:r,clockWise:s,id:l,textBreakAll:c,zIndex:d}=a,m=WM(a,hG),f=gG(),h=yG(),g=f||h;return!g||!g.length?null:x.createElement(yn,{zIndex:d??Bt.label},x.createElement(xt,{className:"recharts-label-list"},g.map((y,v)=>{var j,b=Ot(r)?n(y,v):At(y&&y.payload,r),w=Ot(l)?{}:{id:"".concat(l,"-").concat(v)};return x.createElement(ml,hp({key:"label-".concat(v)},Pn(y),m,w,{fill:(j=a.fill)!==null&&j!==void 0?j:y.fill,parentViewBox:y.parentViewBox,value:b,textBreakAll:c,viewBox:y.viewBox,index:v,zIndex:0}))})))}Sh.displayName="LabelList";function wo(e){var{label:n}=e;return n?n===!0?x.createElement(Sh,{key:"labelList-implicit"}):x.isValidElement(n)||u1(n)?x.createElement(Sh,{key:"labelList-implicit",content:n}):typeof n=="object"?x.createElement(Sh,hp({key:"labelList-implicit"},n,{type:String(n.type)})):null:null}var vG=["points","className","baseLinePoints","connectNulls"];function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Sc.apply(null,arguments)}function bG(e,n){if(e==null)return{};var a,r,s=jG(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function jG(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var YM=e=>e&&e.x===+e.x&&e.y===+e.y,NG=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=[[]];return n.forEach(r=>{YM(r)?a[a.length-1].push(r):a[a.length-1].length>0&&a.push([])}),YM(n[0])&&a[a.length-1].push(n[0]),a[a.length-1].length<=0&&(a=a.slice(0,-1)),a},ju=(e,n)=>{var a=NG(e);n&&(a=[a.reduce((s,l)=>[...s,...l],[])]);var r=a.map(s=>s.reduce((l,c,d)=>"".concat(l).concat(d===0?"M":"L").concat(c.x,",").concat(c.y),"")).join("");return a.length===1?"".concat(r,"Z"):r},wG=(e,n,a)=>{var r=ju(e,a);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(ju(Array.from(n).reverse(),a).slice(1))},aR=e=>{var{points:n,className:a,baseLinePoints:r,connectNulls:s}=e,l=bG(e,vG);if(!n||!n.length)return null;var c=ot("recharts-polygon",a);if(r&&r.length){var d=l.stroke&&l.stroke!=="none",m=wG(n,r,s);return x.createElement("g",{className:c},x.createElement("path",Sc({},Pn(l),{fill:m.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:m})),d?x.createElement("path",Sc({},Pn(l),{fill:"none",d:ju(n,s)})):null,d?x.createElement("path",Sc({},Pn(l),{fill:"none",d:ju(r,s)})):null)}var f=ju(n,s);return x.createElement("path",Sc({},Pn(l),{fill:f.slice(-1)==="Z"?l.fill:"none",className:c,d:f}))};function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Xb.apply(null,arguments)}var m1=e=>{var{cx:n,cy:a,r,className:s}=e,l=ot("recharts-dot",s);return ze(n)&&ze(a)&&ze(r)?x.createElement("circle",Xb({},Ht(e),Lj(e),{className:l,cx:n,cy:a,r})):null},Nm=e=>e.graphicalItems.polarItems,SG=te([Jt,um],TN),wm=te([Nm,Nn,SG],LN),AG=te([wm],IN),jx=te([AG,Vc],zN),rR=te([jx,Nn,wm],$N);te([jx,Nn,wm],(e,n,a)=>a.length>0?e.flatMap(r=>a.flatMap(s=>{var l,c=At(r,(l=n.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):n?.dataKey!=null?e.map(r=>({value:At(r,n.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var GM=()=>{},CG=te([jx,Nn,wm,gx,Jt],VN),MG=te([Nn,HN,UN,GM,CG,GM,rt,Jt],KN),sR=te([Nn,rt,jx,rR,Gc,Jt,MG],WN),iR=te([sR,Nn,wl],GN),DG=te([Nn,sR,iR,Jt],XN),f1=(e,n,a)=>{switch(n){case"angleAxis":return bo(e,a);case"radiusAxis":return Zc(e,a);default:throw new Error("Unexpected axis type: ".concat(n))}},h1=(e,n,a)=>{switch(n){case"angleAxis":return uV(e,a);case"radiusAxis":return mV(e,a);default:throw new Error("Unexpected axis type: ".concat(n))}},Sl=te([f1,wl,DG,h1],yx),lR=te([rt,rR,Qc,Jt],QN),So=te([rt,f1,wl,Sl,iR,h1,xm,lR,Jt],ok),EG=te([So],e=>{if(e){var n=new Map;return e.forEach(a=>{var r=(a.coordinate+360)%360;n.has(r)||n.set(r,a)}),Array.from(n.values())}}),OG=te([rt,f1,Sl,h1,xm,lR,Jt],dk),PG=(e,n)=>So(e,"angleAxis",n,!1),kG=te([PG],e=>{if(e)return e.map(n=>n.coordinate)}),RG=(e,n)=>So(e,"radiusAxis",n,!1),_G=te([RG],e=>{if(e)return e.map(n=>n.coordinate)}),TG=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius"];function LG(e,n){if(e==null)return{};var a,r,s=IG(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function IG(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Jr(){return Jr=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Jr.apply(null,arguments)}function ZM(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Uu(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?ZM(Object(a),!0).forEach(function(r){zG(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ZM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function zG(e,n,a){return(n=BG(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function BG(e){var n=$G(e,"string");return typeof n=="symbol"?n:n+""}function $G(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var FG=(e,n,a,r)=>{var s="";return r.forEach((l,c)=>{var d=Tt(n,a,e,l);c?s+="L ".concat(d.x,",").concat(d.y):s+="M ".concat(d.x,",").concat(d.y)}),s+="Z",s},qG=e=>{var{cx:n,cy:a,innerRadius:r,outerRadius:s,polarAngles:l,radialLines:c}=e;if(!l||!l.length||!c)return null;var d=Uu({stroke:"#ccc"},Ht(e));return x.createElement("g",{className:"recharts-polar-grid-angle"},l.map(m=>{var f=Tt(n,a,r,m),h=Tt(n,a,s,m);return x.createElement("line",Jr({key:"line-".concat(m)},d,{x1:f.x,y1:f.y,x2:h.x,y2:h.y}))}))},XM=e=>{var{cx:n,cy:a,radius:r}=e,s=Uu({stroke:"#ccc",fill:"none"},Ht(e));return x.createElement("circle",Jr({},s,{className:ot("recharts-polar-grid-concentric-circle",e.className),cx:n,cy:a,r}))},QM=e=>{var{radius:n}=e,a=Uu({stroke:"#ccc",fill:"none"},Ht(e));return x.createElement("path",Jr({},a,{className:ot("recharts-polar-grid-concentric-polygon",e.className),d:FG(n,e.cx,e.cy,e.polarAngles)}))},HG=e=>{var{polarRadius:n,gridType:a}=e;if(!n||!n.length)return null;var r=Math.max(...n),s=e.fill&&e.fill!=="none";return x.createElement("g",{className:"recharts-polar-grid-concentric"},s&&a==="circle"&&x.createElement(XM,Jr({},e,{radius:r})),s&&a!=="circle"&&x.createElement(QM,Jr({},e,{radius:r})),n.map((l,c)=>{var d=c;return a==="circle"?x.createElement(XM,Jr({key:d},e,{fill:"none",radius:l})):x.createElement(QM,Jr({key:d},e,{fill:"none",radius:l}))}))},oR=e=>{var n,a,r,s,l,c,d,m,f,{gridType:h="polygon",radialLines:g=!0,angleAxisId:y=0,radiusAxisId:v=0,cx:j,cy:b,innerRadius:w,outerRadius:M,polarAngles:S,polarRadius:A}=e,E=LG(e,TG),D=Pe(jo),P=Pe(z=>kG(z,y)),T=Pe(z=>_G(z,v)),O=Array.isArray(S)?S:P,k=Array.isArray(A)?A:T;if(O==null||k==null)return null;var B=Uu(Uu({cx:(n=(a=D?.cx)!==null&&a!==void 0?a:j)!==null&&n!==void 0?n:0,cy:(r=(s=D?.cy)!==null&&s!==void 0?s:b)!==null&&r!==void 0?r:0,innerRadius:(l=(c=D?.innerRadius)!==null&&c!==void 0?c:w)!==null&&l!==void 0?l:0,outerRadius:(d=(m=D?.outerRadius)!==null&&m!==void 0?m:M)!==null&&d!==void 0?d:0,polarAngles:O,polarRadius:k},E),{},{zIndex:(f=E.zIndex)!==null&&f!==void 0?f:Bt.grid}),{outerRadius:I}=B;return I<=0?null:x.createElement(yn,{zIndex:B.zIndex},x.createElement("g",{className:"recharts-polar-grid"},x.createElement(HG,Jr({gridType:h,radialLines:g},B,{polarAngles:O,polarRadius:k})),x.createElement(qG,Jr({gridType:h,radialLines:g},B,{polarAngles:O,polarRadius:k}))))};oR.displayName="PolarGrid";var jv={},Nv={},JM;function UG(){return JM||(JM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(a,r){if(a.length===0)return;let s=a[0],l=r(s);for(let c=1;c<a.length;c++){const d=a[c],m=r(d);m>l&&(l=m,s=d)}return s}e.maxBy=n})(Nv)),Nv}var eD;function VG(){return eD||(eD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=UG(),a=Bp(),r=zj();function s(l,c){if(l!=null)return n.maxBy(Array.from(l),r.iteratee(c??a.identity))}e.maxBy=s})(jv)),jv}var wv,tD;function KG(){return tD||(tD=1,wv=VG().maxBy),wv}var WG=KG();const YG=$r(WG);var Sv={},Av={},nD;function GG(){return nD||(nD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(a,r){if(a.length===0)return;let s=a[0],l=r(s);for(let c=1;c<a.length;c++){const d=a[c],m=r(d);m<l&&(l=m,s=d)}return s}e.minBy=n})(Av)),Av}var aD;function ZG(){return aD||(aD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=GG(),a=Bp(),r=zj();function s(l,c){if(l!=null)return n.minBy(Array.from(l),r.iteratee(c??a.identity))}e.minBy=s})(Sv)),Sv}var Cv,rD;function XG(){return rD||(rD=1,Cv=ZG().minBy),Cv}var QG=XG();const JG=$r(QG);var eZ={radiusAxis:{},angleAxis:{}},cR=Ya({name:"polarAxis",initialState:eZ,reducers:{addRadiusAxis(e,n){e.radiusAxis[n.payload.id]=n.payload},removeRadiusAxis(e,n){delete e.radiusAxis[n.payload.id]},addAngleAxis(e,n){e.angleAxis[n.payload.id]=n.payload},removeAngleAxis(e,n){delete e.angleAxis[n.payload.id]}}}),{addRadiusAxis:tZ,removeRadiusAxis:nZ,addAngleAxis:aZ,removeAngleAxis:rZ}=cR.actions,sZ=cR.reducer,iZ=["cx","cy","angle","axisLine"],lZ=["angle","tickFormatter","stroke","tick"];function Vu(){return Vu=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Vu.apply(null,arguments)}function sD(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function di(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?sD(Object(a),!0).forEach(function(r){oZ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function oZ(e,n,a){return(n=cZ(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function cZ(e){var n=dZ(e,"string");return typeof n=="symbol"?n:n+""}function dZ(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function dR(e,n){if(e==null)return{};var a,r,s=uZ(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function uZ(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var mZ="radiusAxis";function fZ(e){var n=Ut();return x.useEffect(()=>(n(tZ(e)),()=>{n(nZ(e))})),null}var hZ=(e,n,a,r)=>{var{coordinate:s}=e;return Tt(a,r,s,n)},pZ=e=>{var n;switch(e){case"left":n="end";break;case"right":n="start";break;default:n="middle";break}return n},xZ=(e,n,a,r)=>{var s=YG(r,c=>c.coordinate||0),l=JG(r,c=>c.coordinate||0);return{cx:n,cy:a,startAngle:e,endAngle:e,innerRadius:l?.coordinate||0,outerRadius:s?.coordinate||0,clockWise:!1}},gZ=(e,n)=>{var{cx:a,cy:r,angle:s,axisLine:l}=e,c=dR(e,iZ),d=n.reduce((g,y)=>[Math.min(g[0],y.coordinate),Math.max(g[1],y.coordinate)],[1/0,-1/0]),m=Tt(a,r,d[0],s),f=Tt(a,r,d[1],s),h=di(di(di({},Ht(c)),{},{fill:"none"},Ht(l)),{},{x1:m.x,y1:m.y,x2:f.x,y2:f.y});return x.createElement("line",Vu({className:"recharts-polar-radius-axis-line"},h))},yZ=(e,n,a)=>{var r;return x.isValidElement(e)?r=x.cloneElement(e,n):typeof e=="function"?r=e(n):r=x.createElement(rd,Vu({},n,{className:"recharts-polar-radius-axis-tick-value"}),a),r},vZ=(e,n)=>{var{angle:a,tickFormatter:r,stroke:s,tick:l}=e,c=dR(e,lZ),d=pZ(e.orientation),m=Ht(c),f=is(l),h=n.map((g,y)=>{var v=hZ(g,e.angle,e.cx,e.cy),j=di(di(di(di({textAnchor:d,transform:"rotate(".concat(90-a,", ").concat(v.x,", ").concat(v.y,")")},m),{},{stroke:"none",fill:s},f),{},{index:y},v),{},{payload:g});return x.createElement(xt,Vu({className:ot("recharts-polar-radius-axis-tick",TO(l)),key:"tick-".concat(g.coordinate)},ks(e,g,y)),yZ(l,j,r?r(g.value,y):g.value))});return x.createElement(xt,{className:"recharts-polar-radius-axis-ticks"},h)},bZ=e=>{var{radiusAxisId:n}=e,a=Pe(jo),r=Pe(m=>Sl(m,"radiusAxis",n)),s=Pe(m=>So(m,"radiusAxis",n,!1));if(a==null||!s||!s.length||r==null)return null;var l=di(di({},e),{},{scale:r},a),{tick:c,axisLine:d}=l;return x.createElement(yn,{zIndex:l.zIndex},x.createElement(xt,{className:ot("recharts-polar-radius-axis",mZ,l.className)},d&&gZ(l,s),c&&vZ(l,s),x.createElement(JY,xZ(l.angle,l.cx,l.cy,s),x.createElement(lG,{label:l.label}),l.children)))};function uR(e){var n=Lt(e,za);return x.createElement(x.Fragment,null,x.createElement(fZ,{domain:n.domain,id:n.radiusAxisId,scale:n.scale,type:n.type,dataKey:n.dataKey,unit:void 0,name:n.name,allowDuplicatedCategory:n.allowDuplicatedCategory,allowDataOverflow:n.allowDataOverflow,reversed:n.reversed,includeHidden:n.includeHidden,allowDecimals:n.allowDecimals,ticks:n.ticks,tickCount:n.tickCount,tick:n.tick}),x.createElement(bZ,n))}uR.displayName="PolarRadiusAxis";var jZ=["children"];function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},uo.apply(null,arguments)}function iD(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function xs(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?iD(Object(a),!0).forEach(function(r){NZ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):iD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function NZ(e,n,a){return(n=wZ(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function wZ(e){var n=SZ(e,"string");return typeof n=="symbol"?n:n+""}function SZ(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function AZ(e,n){if(e==null)return{};var a,r,s=CZ(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function CZ(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var lD=1e-5,MZ=Math.cos(ep(45)),DZ="angleAxis";function EZ(e){var n=Ut(),a=x.useMemo(()=>{var{children:l}=e,c=AZ(e,jZ);return c},[e]),r=Pe(l=>bo(l,a.id)),s=a===r;return x.useEffect(()=>(n(aZ(a)),()=>{n(rZ(a))}),[n,a]),s?e.children:null}var OZ=(e,n)=>{var{cx:a,cy:r,radius:s,orientation:l,tickSize:c}=n,d=c||8,m=Tt(a,r,s,e.coordinate),f=Tt(a,r,s+(l==="inner"?-1:1)*d,e.coordinate);return{x1:m.x,y1:m.y,x2:f.x,y2:f.y}},PZ=(e,n)=>{var a=Math.cos(ep(-e.coordinate));return a>lD?n==="outer"?"start":"end":a<-lD?n==="outer"?"end":"start":"middle"},kZ=e=>{var n=Math.cos(ep(-e.coordinate)),a=Math.sin(ep(-e.coordinate));return Math.abs(n)<=MZ?a>0?"start":"end":"middle"},RZ=e=>{var{cx:n,cy:a,radius:r,axisLineType:s,axisLine:l,ticks:c}=e;if(!l)return null;var d=xs(xs({},Ht(e)),{},{fill:"none"},Ht(l));if(s==="circle")return x.createElement(m1,uo({className:"recharts-polar-angle-axis-line"},d,{cx:n,cy:a,r}));var m=c.map(f=>Tt(n,a,r,f.coordinate));return x.createElement(aR,uo({className:"recharts-polar-angle-axis-line"},d,{points:m}))},_Z=e=>{var{tick:n,tickProps:a,value:r}=e;return n?x.isValidElement(n)?x.cloneElement(n,a):typeof n=="function"?n(a):x.createElement(rd,uo({},a,{className:"recharts-polar-angle-axis-tick-value"}),r):null},TZ=e=>{var{tick:n,tickLine:a,tickFormatter:r,stroke:s,ticks:l}=e,c=Ht(e),d=is(n),m=xs(xs({},c),{},{fill:"none"},Ht(a)),f=l.map((h,g)=>{var y=OZ(h,e),v=PZ(h,e.orientation),j=kZ(h),b=xs(xs(xs({},c),{},{textAnchor:v,verticalAnchor:j,stroke:"none",fill:s},d),{},{index:g,payload:h,x:y.x2,y:y.y2});return x.createElement(xt,uo({className:ot("recharts-polar-angle-axis-tick",TO(n)),key:"tick-".concat(h.coordinate)},ks(e,h,g)),a&&x.createElement("line",uo({className:"recharts-polar-angle-axis-tick-line"},m,y)),x.createElement(_Z,{tick:n,tickProps:b,value:r?r(h.value,g):h.value}))});return x.createElement(xt,{className:"recharts-polar-angle-axis-ticks"},f)},LZ=e=>{var{angleAxisId:n}=e,a=Pe(jo),r=Pe(d=>Sl(d,"angleAxis",n)),s=Cn(),l=Pe(d=>EG(d,"angleAxis",n,s));if(a==null||!l||!l.length||r==null)return null;var c=xs(xs(xs({},e),{},{scale:r},a),{},{radius:a.outerRadius,ticks:l});return x.createElement(yn,{zIndex:c.zIndex},x.createElement(xt,{className:ot("recharts-polar-angle-axis",DZ,c.className)},x.createElement(RZ,c),x.createElement(TZ,c)))};function mR(e){var n=Lt(e,ps);return x.createElement(EZ,{id:n.angleAxisId,scale:n.scale,type:n.type,dataKey:n.dataKey,unit:void 0,name:n.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:n.reversed,includeHidden:!1,allowDecimals:n.allowDecimals,tickCount:n.tickCount,ticks:n.ticks,tick:n.tick,domain:n.domain},x.createElement(LZ,n))}mR.displayName="PolarAngleAxis";function oD(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function cD(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?oD(Object(a),!0).forEach(function(r){IZ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function IZ(e,n,a){return(n=zZ(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function zZ(e){var n=BZ(e,"string");return typeof n=="symbol"?n:n+""}function BZ(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var $Z=(e,n)=>n,p1=te([Nm,$Z],(e,n)=>e.filter(a=>a.type==="pie").find(a=>a.id===n)),FZ=[],x1=(e,n,a)=>a?.length===0?FZ:a,fR=te([Vc,p1,x1],(e,n,a)=>{var{chartData:r}=e;if(n!=null){var s;if(n?.data!=null&&n.data.length>0?s=n.data:s=r,(!s||!s.length)&&a!=null&&(s=a.map(l=>cD(cD({},n.presentationProps),l.props))),s!=null)return s}}),qZ=te([fR,p1,x1],(e,n,a)=>{if(!(e==null||n==null))return e.map((r,s)=>{var l,c=At(r,n.nameKey,n.name),d;return a!=null&&(l=a[s])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?d=a[s].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=n.fill,{value:xr(c,n.dataKey),color:d,payload:r,type:n.legendType}})}),HZ=te([fR,p1,x1,Yn],(e,n,a,r)=>{if(!(n==null||e==null))return qX({offset:r,pieSettings:n,displayedData:e,cells:a})}),Mv={exports:{}},It={};var dD;function UZ(){if(dD)return It;dD=1;var e=typeof Symbol=="function"&&Symbol.for,n=e?Symbol.for("react.element"):60103,a=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,l=e?Symbol.for("react.profiler"):60114,c=e?Symbol.for("react.provider"):60109,d=e?Symbol.for("react.context"):60110,m=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,g=e?Symbol.for("react.suspense"):60113,y=e?Symbol.for("react.suspense_list"):60120,v=e?Symbol.for("react.memo"):60115,j=e?Symbol.for("react.lazy"):60116,b=e?Symbol.for("react.block"):60121,w=e?Symbol.for("react.fundamental"):60117,M=e?Symbol.for("react.responder"):60118,S=e?Symbol.for("react.scope"):60119;function A(D){if(typeof D=="object"&&D!==null){var P=D.$$typeof;switch(P){case n:switch(D=D.type,D){case m:case f:case r:case l:case s:case g:return D;default:switch(D=D&&D.$$typeof,D){case d:case h:case j:case v:case c:return D;default:return P}}case a:return P}}}function E(D){return A(D)===f}return It.AsyncMode=m,It.ConcurrentMode=f,It.ContextConsumer=d,It.ContextProvider=c,It.Element=n,It.ForwardRef=h,It.Fragment=r,It.Lazy=j,It.Memo=v,It.Portal=a,It.Profiler=l,It.StrictMode=s,It.Suspense=g,It.isAsyncMode=function(D){return E(D)||A(D)===m},It.isConcurrentMode=E,It.isContextConsumer=function(D){return A(D)===d},It.isContextProvider=function(D){return A(D)===c},It.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===n},It.isForwardRef=function(D){return A(D)===h},It.isFragment=function(D){return A(D)===r},It.isLazy=function(D){return A(D)===j},It.isMemo=function(D){return A(D)===v},It.isPortal=function(D){return A(D)===a},It.isProfiler=function(D){return A(D)===l},It.isStrictMode=function(D){return A(D)===s},It.isSuspense=function(D){return A(D)===g},It.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===r||D===f||D===l||D===s||D===g||D===y||typeof D=="object"&&D!==null&&(D.$$typeof===j||D.$$typeof===v||D.$$typeof===c||D.$$typeof===d||D.$$typeof===h||D.$$typeof===w||D.$$typeof===M||D.$$typeof===S||D.$$typeof===b)},It.typeOf=A,It}var uD;function VZ(){return uD||(uD=1,Mv.exports=UZ()),Mv.exports}var KZ=VZ(),mD=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",fD=null,Dv=null,hR=e=>{if(e===fD&&Array.isArray(Dv))return Dv;var n=[];return x.Children.forEach(e,a=>{Ot(a)||(KZ.isFragment(a)?n=n.concat(hR(a.props.children)):n.push(a))}),Dv=n,fD=e,n};function Sm(e,n){var a=[],r=[];return Array.isArray(n)?r=n.map(s=>mD(s)):r=[mD(n)],hR(e).forEach(s=>{var l=io(s,"type.displayName")||io(s,"type.name");l&&r.indexOf(l)!==-1&&a.push(s)}),a}var g1=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Ev={},hD;function WZ(){return hD||(hD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(a){if(typeof a!="object"||a==null)return!1;if(Object.getPrototypeOf(a)===null)return!0;if(Object.prototype.toString.call(a)!=="[object Object]"){const s=a[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(a,Symbol.toStringTag)?.writable?!1:a.toString()===`[object ${s}]`}let r=a;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(a)===r}e.isPlainObject=n})(Ev)),Ev}var Ov,pD;function YZ(){return pD||(pD=1,Ov=WZ().isPlainObject),Ov}var GZ=YZ();const ZZ=$r(GZ);function xD(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function gD(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?xD(Object(a),!0).forEach(function(r){XZ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function XZ(e,n,a){return(n=QZ(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function QZ(e){var n=JZ(e,"string");return typeof n=="symbol"?n:n+""}function JZ(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},pp.apply(null,arguments)}var yD=(e,n,a,r,s)=>{var l=a-r,c;return c="M ".concat(e,",").concat(n),c+="L ".concat(e+a,",").concat(n),c+="L ".concat(e+a-l/2,",").concat(n+s),c+="L ".concat(e+a-l/2-r,",").concat(n+s),c+="L ".concat(e,",").concat(n," Z"),c},eX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tX=e=>{var n=Lt(e,eX),{x:a,y:r,upperWidth:s,lowerWidth:l,height:c,className:d}=n,{animationEasing:m,animationDuration:f,animationBegin:h,isUpdateAnimationActive:g}=n,y=x.useRef(null),[v,j]=x.useState(-1),b=x.useRef(s),w=x.useRef(l),M=x.useRef(c),S=x.useRef(a),A=x.useRef(r),E=ki(e,"trapezoid-");if(x.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var L=y.current.getTotalLength();L&&j(L)}catch{}},[]),a!==+a||r!==+r||s!==+s||l!==+l||c!==+c||s===0&&l===0||c===0)return null;var D=ot("recharts-trapezoid",d);if(!g)return x.createElement("g",null,x.createElement("path",pp({},Pn(n),{className:D,d:yD(a,r,s,l,c)})));var P=b.current,T=w.current,O=M.current,k=S.current,B=A.current,I="0px ".concat(v===-1?1:v,"px"),z="".concat(v,"px 0px"),J=EO(["strokeDasharray"],f,m);return x.createElement(Pi,{animationId:E,key:E,canBegin:v>0,duration:f,easing:m,isActive:g,begin:h},L=>{var G=mt(P,s,L),W=mt(T,l,L),R=mt(O,c,L),F=mt(k,a,L),q=mt(B,r,L);y.current&&(b.current=G,w.current=W,M.current=R,S.current=F,A.current=q);var Y=L>0?{transition:J,strokeDasharray:z}:{strokeDasharray:I};return x.createElement("path",pp({},Pn(n),{className:D,d:yD(F,q,G,W,R),ref:y,style:gD(gD({},Y),n.style)}))})},nX=["option","shapeType","propTransformer","activeClassName"];function aX(e,n){if(e==null)return{};var a,r,s=rX(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function rX(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function vD(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function xp(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?vD(Object(a),!0).forEach(function(r){sX(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function sX(e,n,a){return(n=iX(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function iX(e){var n=lX(e,"string");return typeof n=="symbol"?n:n+""}function lX(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function oX(e,n){return xp(xp({},n),e)}function cX(e,n){return e==="symbols"}function bD(e){var{shapeType:n,elementProps:a}=e;switch(n){case"rectangle":return x.createElement(RO,a);case"trapezoid":return x.createElement(tX,a);case"sector":return x.createElement(zO,a);case"symbols":if(cX(n))return x.createElement(zp,a);break;case"curve":return x.createElement(eo,a);default:return null}}function dX(e){return x.isValidElement(e)?e.props:e}function Bc(e){var{option:n,shapeType:a,propTransformer:r=oX,activeClassName:s="recharts-active-shape"}=e,l=aX(e,nX),c;if(x.isValidElement(n))c=x.cloneElement(n,xp(xp({},l),dX(n)));else if(typeof n=="function")c=n(l,l.index);else if(ZZ(n)&&typeof n!="boolean"){var d=r(n,l);c=x.createElement(bD,{shapeType:a,elementProps:d})}else{var m=l;c=x.createElement(bD,{shapeType:a,elementProps:m})}return l.isActive?x.createElement(xt,{className:s},c):c}var Am=(e,n,a)=>{var r=Ut();return(s,l)=>c=>{e?.(s,l,c),r(xk({activeIndex:String(l),activeDataKey:n,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:a}))}},Cm=e=>{var n=Ut();return(a,r)=>s=>{e?.(a,r,s),n(xK())}},Mm=(e,n,a)=>{var r=Ut();return(s,l)=>c=>{e?.(s,l,c),r(gK({activeIndex:String(l),activeDataKey:n,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:a}))}};function Ao(e){var{tooltipEntrySettings:n}=e,a=Ut(),r=Cn(),s=x.useRef(null);return x.useLayoutEffect(()=>{r||(s.current===null?a(mK(n)):s.current!==n&&a(fK({prev:s.current,next:n})),s.current=n)},[n,a,r]),x.useLayoutEffect(()=>()=>{s.current&&(a(hK(s.current)),s.current=null)},[a]),null}function Nx(e){var{legendPayload:n}=e,a=Ut(),r=Cn(),s=x.useRef(null);return x.useLayoutEffect(()=>{r||(s.current===null?a(AO(n)):s.current!==n&&a(CO({prev:s.current,next:n})),s.current=n)},[a,r,n]),x.useLayoutEffect(()=>()=>{s.current&&(a(MO(s.current)),s.current=null)},[a]),null}function y1(e){var{legendPayload:n}=e,a=Ut(),r=Pe(rt),s=x.useRef(null);return x.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(s.current===null?a(AO(n)):s.current!==n&&a(CO({prev:s.current,next:n})),s.current=n)},[a,r,n]),x.useLayoutEffect(()=>()=>{s.current&&(a(MO(s.current)),s.current=null)},[a]),null}var Pv,uX=()=>{var[e]=x.useState(()=>Eu("uid-"));return e},mX=(Pv=JT.useId)!==null&&Pv!==void 0?Pv:uX;function pR(e,n){var a=mX();return n||(e?"".concat(e,"-").concat(a):a)}var fX=x.createContext(void 0),Co=e=>{var{id:n,type:a,children:r}=e,s=pR("recharts-".concat(a),n);return x.createElement(fX.Provider,{value:s},r(s))},hX={cartesianItems:[],polarItems:[]},xR=Ya({name:"graphicalItems",initialState:hX,reducers:{addCartesianGraphicalItem:{reducer(e,n){e.cartesianItems.push(n.payload)},prepare:xn()},replaceCartesianGraphicalItem:{reducer(e,n){var{prev:a,next:r}=n.payload,s=ns(e).cartesianItems.indexOf(a);s>-1&&(e.cartesianItems[s]=r)},prepare:xn()},removeCartesianGraphicalItem:{reducer(e,n){var a=ns(e).cartesianItems.indexOf(n.payload);a>-1&&e.cartesianItems.splice(a,1)},prepare:xn()},addPolarGraphicalItem:{reducer(e,n){e.polarItems.push(n.payload)},prepare:xn()},removePolarGraphicalItem:{reducer(e,n){var a=ns(e).polarItems.indexOf(n.payload);a>-1&&e.polarItems.splice(a,1)},prepare:xn()}}}),{addCartesianGraphicalItem:pX,replaceCartesianGraphicalItem:xX,removeCartesianGraphicalItem:gX,addPolarGraphicalItem:yX,removePolarGraphicalItem:vX}=xR.actions,bX=xR.reducer,jX=e=>{var n=Ut(),a=x.useRef(null);return x.useLayoutEffect(()=>{a.current===null?n(pX(e)):a.current!==e&&n(xX({prev:a.current,next:e})),a.current=e},[n,e]),x.useLayoutEffect(()=>()=>{a.current&&(n(gX(a.current)),a.current=null)},[n]),null},wx=x.memo(jX);function v1(e){var n=Ut();return x.useLayoutEffect(()=>(n(yX(e)),()=>{n(vX(e))}),[n,e]),null}var NX=["key"],wX=["onMouseEnter","onClick","onMouseLeave"],SX=["id"],AX=["id"];function jD(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function An(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?jD(Object(a),!0).forEach(function(r){CX(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function CX(e,n,a){return(n=MX(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function MX(e){var n=DX(e,"string");return typeof n=="symbol"?n:n+""}function DX(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},vl.apply(null,arguments)}function Sx(e,n){if(e==null)return{};var a,r,s=EX(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function EX(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function OX(e){var n=x.useMemo(()=>Sm(e.children,kn),[e.children]),a=Pe(r=>qZ(r,e.id,n));return a==null?null:x.createElement(y1,{legendPayload:a})}var PX=x.memo(e=>{var{dataKey:n,nameKey:a,sectors:r,stroke:s,strokeWidth:l,fill:c,name:d,hide:m,tooltipType:f}=e,h={dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:s,strokeWidth:l,fill:c,dataKey:n,nameKey:a,name:xr(d,n),hide:m,type:f,color:c,unit:""}};return x.createElement(Ao,{tooltipEntrySettings:h})}),kX=(e,n)=>e>n?"start":e<n?"end":"middle",RX=(e,n,a)=>ba(typeof n=="function"?n(e):n,a,a*.8),_X=(e,n,a)=>{var{top:r,left:s,width:l,height:c}=n,d=_O(l,c),m=s+ba(e.cx,l,l/2),f=r+ba(e.cy,c,c/2),h=ba(e.innerRadius,d,0),g=RX(a,e.outerRadius,d),y=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:m,cy:f,innerRadius:h,outerRadius:g,maxRadius:y}},TX=(e,n)=>{var a=qn(n-e),r=Math.min(Math.abs(n-e),360);return a*r};function LX(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var IX=(e,n)=>{if(x.isValidElement(e))return x.cloneElement(e,n);if(typeof e=="function")return e(n);var a=ot("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=n,s=Sx(n,NX);return x.createElement(eo,vl({},s,{type:"linear",className:a}))},zX=(e,n,a)=>{if(x.isValidElement(e))return x.cloneElement(e,n);var r=a;if(typeof e=="function"&&(r=e(n),x.isValidElement(r)))return r;var s=ot("recharts-pie-label-text",LX(e));return x.createElement(rd,vl({},n,{alignmentBaseline:"middle",className:s}),r)};function BX(e){var{sectors:n,props:a,showLabels:r}=e,{label:s,labelLine:l,dataKey:c}=a;if(!r||!s||!n)return null;var d=Ht(a),m=is(s),f=is(l),h=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,g=n.map((y,v)=>{var j=(y.startAngle+y.endAngle)/2,b=Tt(y.cx,y.cy,y.outerRadius+h,j),w=An(An(An(An({},d),y),{},{stroke:"none"},m),{},{index:v,textAnchor:kX(b.x,y.cx)},b),M=An(An(An(An({},d),y),{},{fill:"none",stroke:y.fill},f),{},{index:v,points:[Tt(y.cx,y.cy,y.outerRadius,j),b],key:"line"});return x.createElement(yn,{zIndex:Bt.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},x.createElement(xt,null,l&&IX(l,M),zX(s,w,At(y,c))))});return x.createElement(xt,{className:"recharts-pie-labels"},g)}function $X(e){var{sectors:n,props:a,showLabels:r}=e,{label:s}=a;return typeof s=="object"&&s!=null&&"position"in s?x.createElement(wo,{label:s}):x.createElement(BX,{sectors:n,props:a,showLabels:r})}function FX(e){var{sectors:n,activeShape:a,inactiveShape:r,allOtherPieProps:s,shape:l,id:c}=e,d=Pe(Os),m=Pe(i1),f=Pe(nW),{onMouseEnter:h,onClick:g,onMouseLeave:y}=s,v=Sx(s,wX),j=Am(h,s.dataKey,c),b=Cm(y),w=Mm(g,s.dataKey,c);return n==null||n.length===0?null:x.createElement(x.Fragment,null,n.map((M,S)=>{if(M?.startAngle===0&&M?.endAngle===0&&n.length!==1)return null;var A=f==null||f===c,E=String(S)===d&&(m==null||s.dataKey===m)&&A,D=d?r:null,P=a&&E?a:D,T=An(An({},M),{},{stroke:M.stroke,tabIndex:-1,[Yj]:S,[Gj]:s.dataKey});return x.createElement(xt,vl({key:"sector-".concat(M?.startAngle,"-").concat(M?.endAngle,"-").concat(M.midAngle,"-").concat(S),tabIndex:-1,className:"recharts-pie-sector"},ks(v,M,S),{onMouseEnter:j(M,S),onMouseLeave:b(M,S),onClick:w(M,S)}),x.createElement(Bc,vl({option:l??P,index:S,shapeType:"sector",isActive:E},T)))}))}function qX(e){var n,{pieSettings:a,displayedData:r,cells:s,offset:l}=e,{cornerRadius:c,startAngle:d,endAngle:m,dataKey:f,nameKey:h,tooltipType:g}=a,y=Math.abs(a.minAngle),v=TX(d,m),j=Math.abs(v),b=r.length<=1?0:(n=a.paddingAngle)!==null&&n!==void 0?n:0,w=r.filter(P=>At(P,f,0)!==0).length,M=(j>=360?w:w-1)*b,S=j-w*y-M,A=r.reduce((P,T)=>{var O=At(T,f,0);return P+(ze(O)?O:0)},0),E;if(A>0){var D;E=r.map((P,T)=>{var O=At(P,f,0),k=At(P,h,T),B=_X(a,l,P),I=(ze(O)?O:0)/A,z,J=An(An({},P),s&&s[T]&&s[T].props);T?z=D.endAngle+qn(v)*b*(O!==0?1:0):z=d;var L=z+qn(v)*((O!==0?y:0)+I*S),G=(z+L)/2,W=(B.innerRadius+B.outerRadius)/2,R=[{name:k,value:O,payload:J,dataKey:f,type:g}],F=Tt(B.cx,B.cy,W,G);return D=An(An(An(An({},a.presentationProps),{},{percent:I,cornerRadius:typeof c=="string"?parseFloat(c):c,name:k,tooltipPayload:R,midAngle:G,middleRadius:W,tooltipPosition:F},J),B),{},{value:O,dataKey:f,startAngle:z,endAngle:L,payload:J,paddingAngle:qn(v)*b}),D})}return E}function HX(e){var{showLabels:n,sectors:a,children:r}=e,s=x.useMemo(()=>!n||!a?[]:a.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[a,n]);return x.createElement(nR,{value:n?s:void 0},r)}function UX(e){var{props:n,previousSectorsRef:a,id:r}=e,{sectors:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:m,activeShape:f,inactiveShape:h,onAnimationStart:g,onAnimationEnd:y}=n,v=ki(n,"recharts-pie-"),j=a.current,[b,w]=x.useState(!1),M=x.useCallback(()=>{typeof y=="function"&&y(),w(!1)},[y]),S=x.useCallback(()=>{typeof g=="function"&&g(),w(!0)},[g]);return x.createElement(HX,{showLabels:!b,sectors:s},x.createElement(Pi,{animationId:v,begin:c,duration:d,isActive:l,easing:m,onAnimationStart:S,onAnimationEnd:M,key:v},A=>{var E=[],D=s&&s[0],P=D?.startAngle;return s?.forEach((T,O)=>{var k=j&&j[O],B=O>0?io(T,"paddingAngle",0):0;if(k){var I=mt(k.endAngle-k.startAngle,T.endAngle-T.startAngle,A),z=An(An({},T),{},{startAngle:P+B,endAngle:P+I+B});E.push(z),P=z.endAngle}else{var{endAngle:J,startAngle:L}=T,G=mt(0,J-L,A),W=An(An({},T),{},{startAngle:P+B,endAngle:P+G+B});E.push(W),P=W.endAngle}}),a.current=E,x.createElement(xt,null,x.createElement(FX,{sectors:E,activeShape:f,inactiveShape:h,allOtherPieProps:n,shape:n.shape,id:r}))}),x.createElement($X,{showLabels:!b,sectors:s,props:n}),n.children)}var VX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Bt.area};function KX(e){var{id:n}=e,a=Sx(e,SX),{hide:r,className:s,rootTabIndex:l}=e,c=x.useMemo(()=>Sm(e.children,kn),[e.children]),d=Pe(h=>HZ(h,n,c)),m=x.useRef(null),f=ot("recharts-pie",s);return r||d==null?(m.current=null,x.createElement(xt,{tabIndex:l,className:f})):x.createElement(yn,{zIndex:e.zIndex},x.createElement(PX,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:d,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),x.createElement(xt,{tabIndex:l,className:f},x.createElement(UX,{props:An(An({},a),{},{sectors:d}),previousSectorsRef:m,id:n})))}function Wa(e){var n=Lt(e,VX),{id:a}=n,r=Sx(n,AX),s=Ht(r);return x.createElement(Co,{id:a,type:"pie"},l=>x.createElement(x.Fragment,null,x.createElement(v1,{type:"pie",id:l,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:s,maxRadius:n.maxRadius}),x.createElement(OX,vl({},r,{id:l})),x.createElement(KX,vl({},r,{id:l}))))}Wa.displayName="Pie";var WX=["points"];function ND(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function kv(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?ND(Object(a),!0).forEach(function(r){YX(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ND(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function YX(e,n,a){return(n=GX(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function GX(e){var n=ZX(e,"string");return typeof n=="symbol"?n:n+""}function ZX(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},gp.apply(null,arguments)}function XX(e,n){if(e==null)return{};var a,r,s=QX(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function QX(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function JX(e){var{option:n,dotProps:a,className:r}=e;if(x.isValidElement(n))return x.cloneElement(n,a);if(typeof n=="function")return n(a);var s=ot(r,typeof n!="boolean"?n.className:""),l=a??{},{points:c}=l,d=XX(l,WX);return x.createElement(m1,gp({},d,{className:s}))}function eQ(e,n){return e==null?!1:n?!0:e.length===1}function b1(e){var{points:n,dot:a,className:r,dotClassName:s,dataKey:l,baseProps:c,needClip:d,clipPathId:m,zIndex:f=Bt.scatter}=e;if(!eQ(n,a))return null;var h=g1(a),g=S9(a),y=n.map((j,b)=>{var w,M,S=kv(kv(kv({r:3},c),g),{},{index:b,cx:(w=j.x)!==null&&w!==void 0?w:void 0,cy:(M=j.y)!==null&&M!==void 0?M:void 0,dataKey:l,value:j.value,payload:j.payload,points:n});return x.createElement(JX,{key:"dot-".concat(b),option:a,dotProps:S,className:s})}),v={};return d&&m!=null&&(v.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(m,")")),x.createElement(yn,{zIndex:f},x.createElement(xt,gp({className:r},v),y))}function wD(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function SD(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?wD(Object(a),!0).forEach(function(r){tQ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function tQ(e,n,a){return(n=nQ(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function nQ(e){var n=aQ(e,"string");return typeof n=="symbol"?n:n+""}function aQ(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var rQ={xAxis:{},yAxis:{},zAxis:{}},gR=Ya({name:"cartesianAxis",initialState:rQ,reducers:{addXAxis:{reducer(e,n){e.xAxis[n.payload.id]=n.payload},prepare:xn()},replaceXAxis:{reducer(e,n){var{prev:a,next:r}=n.payload;e.xAxis[a.id]!==void 0&&(a.id!==r.id&&delete e.xAxis[a.id],e.xAxis[r.id]=r)},prepare:xn()},removeXAxis:{reducer(e,n){delete e.xAxis[n.payload.id]},prepare:xn()},addYAxis:{reducer(e,n){e.yAxis[n.payload.id]=n.payload},prepare:xn()},replaceYAxis:{reducer(e,n){var{prev:a,next:r}=n.payload;e.yAxis[a.id]!==void 0&&(a.id!==r.id&&delete e.yAxis[a.id],e.yAxis[r.id]=r)},prepare:xn()},removeYAxis:{reducer(e,n){delete e.yAxis[n.payload.id]},prepare:xn()},addZAxis:{reducer(e,n){e.zAxis[n.payload.id]=n.payload},prepare:xn()},replaceZAxis:{reducer(e,n){var{prev:a,next:r}=n.payload;e.zAxis[a.id]!==void 0&&(a.id!==r.id&&delete e.zAxis[a.id],e.zAxis[r.id]=r)},prepare:xn()},removeZAxis:{reducer(e,n){delete e.zAxis[n.payload.id]},prepare:xn()},updateYAxisWidth(e,n){var{id:a,width:r}=n.payload,s=e.yAxis[a];if(s){var l=s.widthHistory||[];if(l.length===3&&l[0]===l[2]&&r===l[1]&&r!==s.width&&Math.abs(r-l[0])<=1)return;var c=[...l,r].slice(-3);e.yAxis[a]=SD(SD({},e.yAxis[a]),{},{width:r,widthHistory:c})}}}}),{addXAxis:sQ,replaceXAxis:iQ,removeXAxis:lQ,addYAxis:oQ,replaceYAxis:cQ,removeYAxis:dQ,addZAxis:uQ,replaceZAxis:mQ,removeZAxis:fQ,updateYAxisWidth:hQ}=gR.actions,pQ=gR.reducer,xQ=te([Yn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),gQ=te([xQ,Ei,Oi],(e,n,a)=>{if(!(!e||n==null||a==null))return{x:e.left,y:e.top,width:Math.max(0,n-e.left-e.right),height:Math.max(0,a-e.top-e.bottom)}}),Ax=()=>Pe(gQ),yQ=()=>Pe(lW);function AD(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Rv(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?AD(Object(a),!0).forEach(function(r){vQ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):AD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function vQ(e,n,a){return(n=bQ(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function bQ(e){var n=jQ(e,"string");return typeof n=="symbol"?n:n+""}function jQ(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var NQ=e=>{var{point:n,childIndex:a,mainColor:r,activeDot:s,dataKey:l,clipPath:c}=e;if(s===!1||n.x==null||n.y==null)return null;var d={index:a,dataKey:l,cx:n.x,cy:n.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},m=Rv(Rv(Rv({},d),is(s)),Lj(s)),f;return x.isValidElement(s)?f=x.cloneElement(s,m):typeof s=="function"?f=s(m):f=x.createElement(m1,m),x.createElement(xt,{className:"recharts-active-dot",clipPath:c},f)};function yp(e){var{points:n,mainColor:a,activeDot:r,itemDataKey:s,clipPath:l,zIndex:c=Bt.activeDot}=e,d=Pe(Os),m=yQ();if(n==null||m==null)return null;var f=n.find(h=>m.includes(h.payload));return Ot(f)?null:x.createElement(yn,{zIndex:c},x.createElement(NQ,{point:f,childIndex:Number(d),mainColor:a,dataKey:s,activeDot:r,clipPath:l}))}function CD(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function vp(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?CD(Object(a),!0).forEach(function(r){wQ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):CD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function wQ(e,n,a){return(n=SQ(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function SQ(e){var n=AQ(e,"string");return typeof n=="symbol"?n:n+""}function AQ(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var yR=(e,n)=>Sl(e,"radiusAxis",n),CQ=te([yR],e=>{if(e!=null)return{scale:e}}),MQ=te([Zc,yR],(e,n)=>{if(!(e==null||n==null))return vp(vp({},e),{},{scale:n})}),DQ=(e,n,a,r)=>So(e,"radiusAxis",n,r),vR=(e,n,a)=>bo(e,a),bR=(e,n,a)=>Sl(e,"angleAxis",a),EQ=te([vR,bR],(e,n)=>{if(!(e==null||n==null))return vp(vp({},e),{},{scale:n})}),OQ=(e,n,a,r)=>So(e,"angleAxis",a,r),PQ=te([vR,bR,jo],(e,n,a)=>{if(!(a==null||n==null))return{scale:n,type:e.type,dataKey:e.dataKey,cx:a.cx,cy:a.cy}}),kQ=(e,n,a,r,s)=>s,RQ=te([rt,MQ,DQ,EQ,OQ],(e,n,a,r,s)=>qr(e,"radiusAxis")?Ka(n,a,!1):Ka(r,s,!1)),_Q=te([Nm,kQ],(e,n)=>{if(e!=null){var a=e.find(r=>r.type==="radar"&&n===r.id);return a?.dataKey}}),TQ=te([CQ,PQ,Vc,_Q,RQ],(e,n,a,r,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=a;if(!(e==null||n==null||l==null||s==null||r==null)){var m=l.slice(c,d+1);return VQ({radiusAxis:e,angleAxis:n,displayedData:m,dataKey:r,bandSize:s})}}),LQ=["id"];function Ku(){return Ku=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ku.apply(null,arguments)}function MD(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function $a(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?MD(Object(a),!0).forEach(function(r){IQ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):MD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function IQ(e,n,a){return(n=zQ(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function zQ(e){var n=BQ(e,"string");return typeof n=="symbol"?n:n+""}function BQ(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function $Q(e,n){if(e==null)return{};var a,r,s=FQ(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function FQ(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function j1(e,n){return e&&e!=="none"?e:n}var qQ=e=>{var{dataKey:n,name:a,stroke:r,fill:s,legendType:l,hide:c}=e;return[{inactive:c,dataKey:n,type:l,color:j1(r,s),value:xr(a,n),payload:e}]},HQ=x.memo(e=>{var{dataKey:n,stroke:a,strokeWidth:r,fill:s,name:l,hide:c,tooltipType:d}=e,m={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:r,fill:s,nameKey:void 0,dataKey:n,name:xr(l,n),hide:c,type:d,color:j1(a,s),unit:""}};return x.createElement(Ao,{tooltipEntrySettings:m})});function UQ(e){var{points:n,props:a}=e,{dot:r,dataKey:s}=a,{id:l}=a,c=$Q(a,LQ),d=Ht(c);return x.createElement(b1,{points:n,dot:r,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:s,baseProps:d})}function VQ(e){var{radiusAxis:n,angleAxis:a,displayedData:r,dataKey:s,bandSize:l}=e,{cx:c,cy:d}=a,m=!1,f=[],h=a.type!=="number"?l??0:0;r.forEach((y,v)=>{var j=At(y,a.dataKey,v),b=At(y,s),w=a.scale(j)+h,M=Array.isArray(b)?Jk(b):b,S=Ot(M)?0:n.scale(M);Array.isArray(b)&&b.length>=2&&(m=!0),f.push($a($a({},Tt(c,d,S,w)),{},{name:j,value:b,cx:c,cy:d,radius:S,angle:w,payload:y}))});var g=[];return m&&f.forEach(y=>{if(Array.isArray(y.value)){var v=y.value[0],j=Ot(v)?0:n.scale(v);g.push($a($a({},y),{},{radius:j},Tt(c,d,j,y.angle)))}else g.push(y)}),{points:f,isRange:m,baseLinePoints:g}}function KQ(e){var{showLabels:n,points:a,children:r}=e,s=a.map(l=>{var c,d={x:l.x,y:l.y,width:0,lowerWidth:0,upperWidth:0,height:0};return $a($a({},d),{},{value:(c=l.value)!==null&&c!==void 0?c:"",payload:l.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return x.createElement(jm,{value:n?s:void 0},r)}function WQ(e){var{points:n,baseLinePoints:a,props:r}=e;if(n==null)return null;var{shape:s,isRange:l,connectNulls:c}=r,d=h=>{var{onMouseEnter:g}=r;g&&g(r,h)},m=h=>{var{onMouseLeave:g}=r;g&&g(r,h)},f;return x.isValidElement(s)?f=x.cloneElement(s,$a($a({},r),{},{points:n})):typeof s=="function"?f=s($a($a({},r),{},{points:n})):f=x.createElement(aR,Ku({},Pn(r),{onMouseEnter:d,onMouseLeave:m,points:n,baseLinePoints:l?a:void 0,connectNulls:c})),x.createElement(xt,{className:"recharts-radar-polygon"},f,x.createElement(UQ,{props:r,points:n}))}var DD=(e,n,a)=>(r,s)=>{var l=e&&e[Math.floor(s*n)];return l?$a($a({},r),{},{x:mt(l.x,r.x,a),y:mt(l.y,r.y,a)}):$a($a({},r),{},{x:mt(r.cx,r.x,a),y:mt(r.cy,r.y,a)})};function YQ(e){var{props:n,previousPointsRef:a,previousBaseLinePointsRef:r}=e,{points:s,baseLinePoints:l,isAnimationActive:c,animationBegin:d,animationDuration:m,animationEasing:f,onAnimationEnd:h,onAnimationStart:g}=n,y=a.current,v=r.current,j=y?y.length/s.length:1,b=v?v.length/l.length:1,w=ki(n,"recharts-radar-"),[M,S]=x.useState(!1),A=!M,E=x.useCallback(()=>{typeof h=="function"&&h(),S(!1)},[h]),D=x.useCallback(()=>{typeof g=="function"&&g(),S(!0)},[g]);return x.createElement(KQ,{showLabels:A,points:s},x.createElement(Pi,{animationId:w,begin:d,duration:m,isActive:c,easing:f,key:"radar-".concat(w),onAnimationEnd:E,onAnimationStart:D},P=>{var T=P===1?s:s.map(DD(y,j,P)),O=P===1?l:l?.map(DD(v,b,P));return P>0&&(a.current=T,r.current=O),x.createElement(WQ,{points:T,baseLinePoints:O,props:n})}),x.createElement(wo,{label:n.label}),n.children)}function GQ(e){var n=x.useRef(void 0),a=x.useRef(void 0);return x.createElement(YQ,{props:e,previousPointsRef:n,previousBaseLinePointsRef:a})}var ZQ={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:Bt.area};function XQ(e){var{hide:n,className:a,points:r}=e;if(n)return null;var s=ot("recharts-radar",a);return x.createElement(yn,{zIndex:e.zIndex},x.createElement(xt,{className:s},x.createElement(GQ,e)),x.createElement(yp,{points:r,mainColor:j1(e.stroke,e.fill),itemDataKey:e.dataKey,activeDot:e.activeDot}))}function QQ(e){var n=Cn(),a=Pe(r=>TQ(r,e.radiusAxisId,e.angleAxisId,n,e.id));return a?.points==null?null:x.createElement(XQ,Ku({},e,{points:a?.points,baseLinePoints:a?.baseLinePoints,isRange:a?.isRange}))}function jR(e){var n=Lt(e,ZQ);return x.createElement(Co,{id:n.id,type:"radar"},a=>x.createElement(x.Fragment,null,x.createElement(v1,{type:"radar",id:a,data:void 0,dataKey:n.dataKey,hide:n.hide,angleAxisId:n.angleAxisId,radiusAxisId:n.radiusAxisId}),x.createElement(y1,{legendPayload:qQ(n)}),x.createElement(HQ,{dataKey:n.dataKey,stroke:n.stroke,strokeWidth:n.strokeWidth,fill:n.fill,name:n.name,hide:n.hide,tooltipType:n.tooltipType}),x.createElement(QQ,Ku({},n,{id:a}))))}jR.displayName="Radar";function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Qb.apply(null,arguments)}function ED(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function _v(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?ED(Object(a),!0).forEach(function(r){JQ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ED(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function JQ(e,n,a){return(n=eJ(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function eJ(e){var n=tJ(e,"string");return typeof n=="symbol"?n:n+""}function tJ(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function NR(e){return typeof e=="string"?parseInt(e,10):e}function nJ(e,n){var a="".concat(n.cx||e.cx),r=Number(a),s="".concat(n.cy||e.cy),l=Number(s);return _v(_v(_v({},n),e),{},{cx:r,cy:l})}function Jb(e){return x.createElement(Bc,Qb({shapeType:"sector",propTransformer:nJ},e))}var aJ="Invariant failed";function rJ(e,n){throw new Error(aJ)}var sJ=["x","y"];function ej(){return ej=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ej.apply(null,arguments)}function OD(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function cu(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?OD(Object(a),!0).forEach(function(r){iJ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):OD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function iJ(e,n,a){return(n=lJ(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function lJ(e){var n=oJ(e,"string");return typeof n=="symbol"?n:n+""}function oJ(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function cJ(e,n){if(e==null)return{};var a,r,s=dJ(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function dJ(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function uJ(e,n){var{x:a,y:r}=e,s=cJ(e,sJ),l="".concat(a),c=parseInt(l,10),d="".concat(r),m=parseInt(d,10),f="".concat(n.height||s.height),h=parseInt(f,10),g="".concat(n.width||s.width),y=parseInt(g,10);return cu(cu(cu(cu(cu({},n),s),c?{x:c}:{}),m?{y:m}:{}),{},{height:h,width:y,name:n.name,radius:n.radius})}function bp(e){return x.createElement(Bc,ej({shapeType:"rectangle",propTransformer:uJ,activeClassName:"recharts-active-bar"},e))}var mJ=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,s)=>{if(ze(n))return n;var l=ze(r)||Ot(r);return l?n(r,s):(l||rJ(),a)}},fJ={},wR=Ya({name:"errorBars",initialState:fJ,reducers:{addErrorBar:(e,n)=>{var{itemId:a,errorBar:r}=n.payload;e[a]||(e[a]=[]),e[a].push(r)},replaceErrorBar:(e,n)=>{var{itemId:a,prev:r,next:s}=n.payload;e[a]&&(e[a]=e[a].map(l=>l.dataKey===r.dataKey&&l.direction===r.direction?s:l))},removeErrorBar:(e,n)=>{var{itemId:a,errorBar:r}=n.payload;e[a]&&(e[a]=e[a].filter(s=>s.dataKey!==r.dataKey||s.direction!==r.direction))}}}),{addErrorBar:sde,replaceErrorBar:ide,removeErrorBar:lde}=wR.actions,hJ=wR.reducer,pJ=["children"];function xJ(e,n){if(e==null)return{};var a,r,s=gJ(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function gJ(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var yJ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},vJ=x.createContext(yJ);function N1(e){var{children:n}=e,a=xJ(e,pJ);return x.createElement(vJ.Provider,{value:a},n)}function Dm(e,n){var a,r,s=Pe(f=>Ti(f,e)),l=Pe(f=>Li(f,n)),c=(a=s?.allowDataOverflow)!==null&&a!==void 0?a:ta.allowDataOverflow,d=(r=l?.allowDataOverflow)!==null&&r!==void 0?r:na.allowDataOverflow,m=c||d;return{needClip:m,needClipX:c,needClipY:d}}function Cx(e){var{xAxisId:n,yAxisId:a,clipPathId:r}=e,s=Ax(),{needClipX:l,needClipY:c,needClip:d}=Dm(n,a);if(!d||!s)return null;var{x:m,y:f,width:h,height:g}=s;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:l?m:m-h/2,y:c?f:f-g/2,width:l?h:h*2,height:c?g:g*2}))}function SR(e,n){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&un(e.zIndex)?e.zIndex:n}var Tv={exports:{}},Lv={};var PD;function bJ(){if(PD)return Lv;PD=1;var e=Ep();function n(m,f){return m===f&&(m!==0||1/m===1/f)||m!==m&&f!==f}var a=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,s=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return Lv.useSyncExternalStoreWithSelector=function(m,f,h,g,y){var v=s(null);if(v.current===null){var j={hasValue:!1,value:null};v.current=j}else j=v.current;v=c(function(){function w(D){if(!M){if(M=!0,S=D,D=g(D),y!==void 0&&j.hasValue){var P=j.value;if(y(P,D))return A=P}return A=D}if(P=A,a(S,D))return P;var T=g(D);return y!==void 0&&y(P,T)?(S=D,P):(S=D,A=T)}var M=!1,S,A,E=h===void 0?null:h;return[function(){return w(f())},E===null?void 0:function(){return w(E())}]},[f,h,g,y]);var b=r(m,v[0],v[1]);return l(function(){j.hasValue=!0,j.value=b},[b]),d(b),b},Lv}var kD;function jJ(){return kD||(kD=1,Tv.exports=bJ()),Tv.exports}jJ();function NJ(e){e()}function wJ(){let e=null,n=null;return{clear(){e=null,n=null},notify(){NJ(()=>{let a=e;for(;a;)a.callback(),a=a.next})},get(){const a=[];let r=e;for(;r;)a.push(r),r=r.next;return a},subscribe(a){let r=!0;const s=n={callback:a,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var RD={notify(){},get:()=>[]};function SJ(e,n){let a,r=RD,s=0,l=!1;function c(b){h();const w=r.subscribe(b);let M=!1;return()=>{M||(M=!0,w(),g())}}function d(){r.notify()}function m(){j.onStateChange&&j.onStateChange()}function f(){return l}function h(){s++,a||(a=e.subscribe(m),r=wJ())}function g(){s--,a&&s===0&&(a(),a=void 0,r.clear(),r=RD)}function y(){l||(l=!0,h())}function v(){l&&(l=!1,g())}const j={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:f,trySubscribe:y,tryUnsubscribe:v,getListeners:()=>r};return j}var AJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CJ=AJ(),MJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",DJ=MJ(),EJ=()=>CJ||DJ?x.useLayoutEffect:x.useEffect,OJ=EJ();function _D(e,n){return e===n?e!==0||n!==0||1/e===1/n:e!==e&&n!==n}function PJ(e,n){if(_D(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;const a=Object.keys(e),r=Object.keys(n);if(a.length!==r.length)return!1;for(let s=0;s<a.length;s++)if(!Object.prototype.hasOwnProperty.call(n,a[s])||!_D(e[a[s]],n[a[s]]))return!1;return!0}var kJ=Symbol.for("react-redux-context"),RJ=typeof globalThis<"u"?globalThis:{};function _J(){if(!x.createContext)return{};const e=RJ[kJ]??=new Map;let n=e.get(x.createContext);return n||(n=x.createContext(null),e.set(x.createContext,n)),n}var TJ=_J();function LJ(e){const{children:n,context:a,serverState:r,store:s}=e,l=x.useMemo(()=>{const m=SJ(s);return{store:s,subscription:m,getServerState:r?()=>r:void 0}},[s,r]),c=x.useMemo(()=>s.getState(),[s]);OJ(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==s.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const d=a||TJ;return x.createElement(d.Provider,{value:l},n)}var IJ=LJ,zJ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function BJ(e,n){return e==null&&n==null?!0:typeof e=="number"&&typeof n=="number"?e===n||e!==e&&n!==n:e===n}function sd(e,n){var a=new Set([...Object.keys(e),...Object.keys(n)]);for(var r of a)if(zJ.has(r)){if(e[r]==null&&n[r]==null)continue;if(!PJ(e[r],n[r]))return!1}else if(!BJ(e[r],n[r]))return!1;return!0}var $J=["onMouseEnter","onMouseLeave","onClick"],FJ=["value","background","tooltipPosition"],qJ=["id"],HJ=["onMouseEnter","onClick","onMouseLeave"];function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ci.apply(null,arguments)}function TD(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function wa(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?TD(Object(a),!0).forEach(function(r){UJ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):TD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function UJ(e,n,a){return(n=VJ(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function VJ(e){var n=KJ(e,"string");return typeof n=="symbol"?n:n+""}function KJ(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function jp(e,n){if(e==null)return{};var a,r,s=WJ(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function WJ(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var YJ=e=>{var{dataKey:n,name:a,fill:r,legendType:s,hide:l}=e;return[{inactive:l,dataKey:n,type:s,color:r,value:xr(a,n),payload:e}]},GJ=x.memo(e=>{var{dataKey:n,stroke:a,strokeWidth:r,fill:s,name:l,hide:c,unit:d,tooltipType:m}=e,f={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:r,fill:s,dataKey:n,nameKey:void 0,name:xr(l,n),hide:c,type:m,color:s,unit:d}};return x.createElement(Ao,{tooltipEntrySettings:f})});function ZJ(e){var n=Pe(Os),{data:a,dataKey:r,background:s,allOtherBarProps:l}=e,{onMouseEnter:c,onMouseLeave:d,onClick:m}=l,f=jp(l,$J),h=Am(c,r),g=Cm(d),y=Mm(m,r);if(!s||a==null)return null;var v=is(s);return x.createElement(yn,{zIndex:SR(s,Bt.barBackground)},a.map((j,b)=>{var{value:w,background:M,tooltipPosition:S}=j,A=jp(j,FJ);if(!M)return null;var E=h(j,b),D=g(j,b),P=y(j,b),T=wa(wa(wa(wa(wa({option:s,isActive:String(b)===n},A),{},{fill:"#eee"},M),v),ks(f,j,b)),{},{onMouseEnter:E,onMouseLeave:D,onClick:P,dataKey:r,index:b,className:"recharts-bar-background-rectangle"});return x.createElement(bp,Ci({key:"background-bar-".concat(b)},T))}))}function XJ(e){var{showLabels:n,children:a,rects:r}=e,s=r?.map(l=>{var c={x:l.x,y:l.y,width:l.width,lowerWidth:l.width,upperWidth:l.width,height:l.height};return wa(wa({},c),{},{value:l.value,payload:l.payload,parentViewBox:l.parentViewBox,viewBox:c,fill:l.fill})});return x.createElement(jm,{value:n?s:void 0},a)}function QJ(e){var{shape:n,activeBar:a,baseProps:r,entry:s,index:l,dataKey:c}=e,d=Pe(Os),m=Pe(i1),f=a&&String(l)===d&&(m==null||c===m),h=f?a:n;return f?x.createElement(yn,{zIndex:Bt.activeBar},x.createElement(bp,Ci({},r,{name:String(r.name)},s,{isActive:f,option:h,index:l,dataKey:c}))):x.createElement(bp,Ci({},r,{name:String(r.name)},s,{isActive:f,option:h,index:l,dataKey:c}))}function JJ(e){var{shape:n,baseProps:a,entry:r,index:s,dataKey:l}=e;return x.createElement(bp,Ci({},a,{name:String(a.name)},r,{isActive:!1,option:n,index:s,dataKey:l}))}function eee(e){var n,{data:a,props:r}=e,s=(n=Ht(r))!==null&&n!==void 0?n:{},{id:l}=s,c=jp(s,qJ),{shape:d,dataKey:m,activeBar:f}=r,{onMouseEnter:h,onClick:g,onMouseLeave:y}=r,v=jp(r,HJ),j=Am(h,m),b=Cm(y),w=Mm(g,m);return a?x.createElement(x.Fragment,null,a.map((M,S)=>x.createElement(xt,Ci({key:"rectangle-".concat(M?.x,"-").concat(M?.y,"-").concat(M?.value,"-").concat(S),className:"recharts-bar-rectangle"},ks(v,M,S),{onMouseEnter:j(M,S),onMouseLeave:b(M,S),onClick:w(M,S)}),f?x.createElement(QJ,{shape:d,activeBar:f,baseProps:c,entry:M,index:S,dataKey:m}):x.createElement(JJ,{shape:d,baseProps:c,entry:M,index:S,dataKey:m})))):null}function tee(e){var{props:n,previousRectanglesRef:a}=e,{data:r,layout:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:m,onAnimationEnd:f,onAnimationStart:h}=n,g=a.current,y=ki(n,"recharts-bar-"),[v,j]=x.useState(!1),b=!v,w=x.useCallback(()=>{typeof f=="function"&&f(),j(!1)},[f]),M=x.useCallback(()=>{typeof h=="function"&&h(),j(!0)},[h]);return x.createElement(XJ,{showLabels:b,rects:r},x.createElement(Pi,{animationId:y,begin:c,duration:d,isActive:l,easing:m,onAnimationEnd:w,onAnimationStart:M,key:y},S=>{var A=S===1?r:r?.map((E,D)=>{var P=g&&g[D];if(P)return wa(wa({},E),{},{x:mt(P.x,E.x,S),y:mt(P.y,E.y,S),width:mt(P.width,E.width,S),height:mt(P.height,E.height,S)});if(s==="horizontal"){var T=mt(0,E.height,S),O=mt(E.stackedBarStart,E.y,S);return wa(wa({},E),{},{y:O,height:T})}var k=mt(0,E.width,S),B=mt(E.stackedBarStart,E.x,S);return wa(wa({},E),{},{width:k,x:B})});return S>0&&(a.current=A??null),A==null?null:x.createElement(xt,null,x.createElement(eee,{props:n,data:A}))}),x.createElement(wo,{label:n.label}),n.children)}function nee(e){var n=x.useRef(null);return x.createElement(tee,{previousRectanglesRef:n,props:e})}var AR=0,aee=(e,n)=>{var a=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:a,errorVal:At(e,n)}};class ree extends x.PureComponent{render(){var{hide:n,data:a,dataKey:r,className:s,xAxisId:l,yAxisId:c,needClip:d,background:m,id:f}=this.props;if(n||a==null)return null;var h=ot("recharts-bar",s),g=f;return x.createElement(xt,{className:h,id:f},d&&x.createElement("defs",null,x.createElement(Cx,{clipPathId:g,xAxisId:l,yAxisId:c})),x.createElement(xt,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},x.createElement(ZJ,{data:a,dataKey:r,background:m,allOtherBarProps:this.props}),x.createElement(nee,this.props)))}}var see={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:AR,xAxisId:0,yAxisId:0,zIndex:Bt.bar};function iee(e){var{xAxisId:n,yAxisId:a,hide:r,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:m,animationEasing:f,isAnimationActive:h}=e,{needClip:g}=Dm(n,a),y=go(),v=Cn(),j=Sm(e.children,kn),b=Pe(S=>Pee(S,n,a,v,e.id,j));if(y!=="vertical"&&y!=="horizontal")return null;var w,M=b?.[0];return M==null||M.height==null||M.width==null?w=0:w=y==="vertical"?M.height/2:M.width/2,x.createElement(N1,{xAxisId:n,yAxisId:a,data:b,dataPointFormatter:aee,errorBarOffset:w},x.createElement(ree,Ci({},e,{layout:y,needClip:g,data:b,xAxisId:n,yAxisId:a,hide:r,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:m,animationEasing:f,isAnimationActive:h})))}function lee(e){var{layout:n,barSettings:{dataKey:a,minPointSize:r},pos:s,bandSize:l,xAxis:c,yAxis:d,xAxisTicks:m,yAxisTicks:f,stackedData:h,displayedData:g,offset:y,cells:v,parentViewBox:j,dataStartIndex:b}=e,w=n==="horizontal"?d:c,M=h?w.scale.domain():null,S=uO({numericAxis:w}),A=w.scale(S);return g.map((E,D)=>{var P,T,O,k,B,I;h?P=dO(h[D+b],M):(P=At(E,a),Array.isArray(P)||(P=[S,P]));var z=mJ(r,AR)(P[1],D);if(n==="horizontal"){var J,[L,G]=[d.scale(P[0]),d.scale(P[1])];T=Uh({axis:c,ticks:m,bandSize:l,offset:s.offset,entry:E,index:D}),O=(J=G??L)!==null&&J!==void 0?J:void 0,k=s.size;var W=L-G;if(B=Tr(W)?0:W,I={x:T,y:y.top,width:k,height:y.height},Math.abs(z)>0&&Math.abs(B)<Math.abs(z)){var R=qn(B||z)*(Math.abs(z)-Math.abs(B));O-=R,B+=R}}else{var[F,q]=[c.scale(P[0]),c.scale(P[1])];if(T=F,O=Uh({axis:d,ticks:f,bandSize:l,offset:s.offset,entry:E,index:D}),k=q-F,B=s.size,I={x:y.left,y:O,width:y.width,height:B},Math.abs(z)>0&&Math.abs(k)<Math.abs(z)){var Y=qn(k||z)*(Math.abs(z)-Math.abs(k));k+=Y}}if(T==null||O==null||k==null||B==null)return null;var ae=wa(wa({},E),{},{stackedBarStart:A,x:T,y:O,width:k,height:B,value:h?P:P[1],payload:E,background:I,tooltipPosition:{x:T+k/2,y:O+B/2},parentViewBox:j},v&&v[D]&&v[D].props);return ae}).filter(Boolean)}function oee(e){var n=Lt(e,see),a=Cn();return x.createElement(Co,{id:n.id,type:"bar"},r=>x.createElement(x.Fragment,null,x.createElement(Nx,{legendPayload:YJ(n)}),x.createElement(GJ,{dataKey:n.dataKey,stroke:n.stroke,strokeWidth:n.strokeWidth,fill:n.fill,name:n.name,hide:n.hide,unit:n.unit,tooltipType:n.tooltipType}),x.createElement(wx,{type:"bar",id:r,data:void 0,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,dataKey:n.dataKey,stackId:Gp(n.stackId),hide:n.hide,barSize:n.barSize,minPointSize:n.minPointSize,maxBarSize:n.maxBarSize,isPanorama:a}),x.createElement(yn,{zIndex:n.zIndex},x.createElement(iee,Ci({},n,{id:r})))))}var ra=x.memo(oee,sd);ra.displayName="Bar";function LD(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ch(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?LD(Object(a),!0).forEach(function(r){cee(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):LD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function cee(e,n,a){return(n=dee(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function dee(e){var n=uee(e,"string");return typeof n=="symbol"?n:n+""}function uee(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var mee=(e,n)=>n,fee=(e,n,a)=>a,hee=(e,n,a,r)=>r,pee=(e,n,a,r,s)=>s,Em=te([Jc,pee],(e,n)=>e.filter(a=>a.type==="bar").find(a=>a.id===n)),xee=te([Em],e=>e?.maxBarSize),gee=(e,n,a,r,s,l)=>l,ID=(e,n,a)=>{var r=a??e;if(!Ot(r))return ba(r,n,0)},yee=te([rt,Jc,mee,fee,hee],(e,n,a,r,s)=>n.filter(l=>e==="horizontal"?l.xAxisId===a:l.yAxisId===r).filter(l=>l.isPanorama===s).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),vee=(e,n,a,r)=>{var s=rt(e);return s==="horizontal"?qu(e,"yAxis",a,r):qu(e,"xAxis",n,r)},bee=(e,n,a)=>{var r=rt(e);return r==="horizontal"?hM(e,"xAxis",n):hM(e,"yAxis",a)},CR=(e,n,a)=>{var r={},s=e.filter(mm),l=e.filter(f=>f.stackId==null),c=s.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),r),d=Object.entries(c).map(f=>{var[h,g]=f,y=g.map(j=>j.dataKey),v=ID(n,a,g[0].barSize);return{stackId:h,dataKeys:y,barSize:v}}),m=l.map(f=>{var h=[f.dataKey].filter(y=>y!=null),g=ID(n,a,f.barSize);return{stackId:void 0,dataKeys:h,barSize:g}});return[...d,...m]},jee=te([yee,TP,bee],CR),Nee=(e,n,a,r,s)=>{var l,c,d=Em(e,n,a,r,s);if(d!=null){var m=rt(e),f=dx(e),{maxBarSize:h}=d,g=Ot(h)?f:h,y,v;return m==="horizontal"?(y=Br(e,"xAxis",n,r),v=zr(e,"xAxis",n,r)):(y=Br(e,"yAxis",a,r),v=zr(e,"yAxis",a,r)),(l=(c=Ka(y,v,!0))!==null&&c!==void 0?c:g)!==null&&l!==void 0?l:0}},MR=(e,n,a,r)=>{var s=rt(e),l,c;return s==="horizontal"?(l=Br(e,"xAxis",n,r),c=zr(e,"xAxis",n,r)):(l=Br(e,"yAxis",a,r),c=zr(e,"yAxis",a,r)),Ka(l,c)};function wee(e,n,a,r,s){var l=r.length;if(!(l<1)){var c=ba(e,a,0,!0),d,m=[];if(un(r[0].barSize)){var f=!1,h=a/l,g=r.reduce((M,S)=>M+(S.barSize||0),0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&h>0&&(f=!0,h*=.9,g=l*h);var y=(a-g)/2>>0,v={offset:y-c,size:0};d=r.reduce((M,S)=>{var A,E={stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:v.offset+v.size+c,size:f?h:(A=S.barSize)!==null&&A!==void 0?A:0}},D=[...M,E];return v=D[D.length-1].position,D},m)}else{var j=ba(n,a,0,!0);a-2*j-(l-1)*c<=0&&(c=0);var b=(a-2*j-(l-1)*c)/l;b>1&&(b>>=0);var w=un(s)?Math.min(b,s):b;d=r.reduce((M,S,A)=>[...M,{stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:j+(b+c)*A+(b-w)/2,size:w}}],m)}return d}}var DR=(e,n,a,r,s,l,c)=>{var d=Ot(c)?n:c,m=wee(a,r,s!==l?s:l,e,d);return s!==l&&m!=null&&(m=m.map(f=>ch(ch({},f),{},{position:ch(ch({},f.position),{},{offset:f.position.offset-s/2})}))),m},See=te([jee,dx,_P,MN,Nee,MR,xee],DR),Aee=(e,n,a,r)=>Br(e,"xAxis",n,r),Cee=(e,n,a,r)=>Br(e,"yAxis",a,r),Mee=(e,n,a,r)=>zr(e,"xAxis",n,r),Dee=(e,n,a,r)=>zr(e,"yAxis",a,r),Eee=te([See,Em],(e,n)=>{if(!(e==null||n==null)){var a=e.find(r=>r.stackId===n.stackId&&n.dataKey!=null&&r.dataKeys.includes(n.dataKey));if(a!=null)return a.position}}),ER=(e,n)=>{var a=fx(n);if(!(!e||a==null||n==null)){var{stackId:r}=n;if(r!=null){var s=e[r];if(s){var{stackedData:l}=s;if(l)return l.find(c=>c.key===a)}}}},Oee=te([vee,Em],ER),Pee=te([Yn,Zj,Aee,Cee,Mee,Dee,Eee,rt,Kc,MR,Oee,Em,gee],(e,n,a,r,s,l,c,d,m,f,h,g,y)=>{var{chartData:v,dataStartIndex:j,dataEndIndex:b}=m;if(!(g==null||c==null||n==null||d!=="horizontal"&&d!=="vertical"||a==null||r==null||s==null||l==null||f==null)){var{data:w}=g,M;if(w!=null&&w.length>0?M=w:M=v?.slice(j,b+1),M!=null)return lee({layout:d,barSettings:g,pos:c,parentViewBox:n,bandSize:f,xAxis:a,yAxis:r,xAxisTicks:s,yAxisTicks:l,stackedData:h,displayedData:M,offset:e,cells:y,dataStartIndex:j})}});function zD(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Np(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?zD(Object(a),!0).forEach(function(r){kee(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function kee(e,n,a){return(n=Ree(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function Ree(e){var n=_ee(e,"string");return typeof n=="symbol"?n:n+""}function _ee(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var Tee=(e,n)=>Zc(e,n),Lee=(e,n)=>Sl(e,"radiusAxis",n),Mx=te([Tee,Lee],(e,n)=>{if(!(e==null||n==null))return Np(Np({},e),{},{scale:n})}),w1=(e,n,a,r)=>OG(e,"radiusAxis",n,r),Iee=(e,n,a)=>bo(e,a),zee=(e,n,a)=>Sl(e,"angleAxis",a),Dx=te([Iee,zee],(e,n)=>{if(!(e==null||n==null))return Np(Np({},e),{},{scale:n})}),S1=(e,n,a,r)=>So(e,"angleAxis",a,r),Bee=(e,n,a,r)=>r,A1=te([Nm,Bee],(e,n)=>{if(e.some(a=>a.type==="radialBar"&&n.dataKey===a.dataKey&&n.stackId===a.stackId))return n}),OR=te([rt,Mx,w1,Dx,S1],(e,n,a,r,s)=>qr(e,"radiusAxis")?Ka(n,a,!1):Ka(r,s,!1)),$ee=te([Dx,Mx,rt],(e,n,a)=>{var r=a==="radial"?e:n;if(!(r==null||r.scale==null))return uO({numericAxis:r})}),Fee=(e,n,a,r,s)=>s,qee=(e,n,a,r,s)=>a,Hee=(e,n,a,r,s)=>n,PR=(e,n,a,r,s)=>r.maxBarSize,kR=e=>e.type==="radialBar",Uee=te([rt,Nm,qee,Hee],(e,n,a,r)=>n.filter(s=>e==="centric"?s.angleAxisId===a:s.radiusAxisId===r).filter(s=>s.hide===!1).filter(kR)),Vee=()=>{},Kee=te([Uee,TP,Vee],CR),Wee=te([rt,dx,Dx,S1,Mx,w1,PR],(e,n,a,r,s,l,c)=>{var d,m,f=Ot(c)?n:c;if(e==="centric"){var h,g;return(h=(g=Ka(a,r,!0))!==null&&g!==void 0?g:f)!==null&&h!==void 0?h:0}return(d=(m=Ka(s,l,!0))!==null&&m!==void 0?m:f)!==null&&d!==void 0?d:0}),Yee=te([Kee,dx,_P,MN,Wee,OR,PR],DR),Gee=te([Yee,A1],(e,n)=>{if(!(e==null||n==null)){var a=e.find(r=>r.stackId===n.stackId&&n.dataKey!=null&&r.dataKeys.includes(n.dataKey));if(a!=null)return a.position}}),RR=te([wm],e=>e.filter(kR).filter(mm)),Zee=te([RR,Vc,Vn],RN),BD=te([Zee,RR,Gc,DN],FN),Xee=(e,n,a)=>{var r=rt(e);return r==="centric"?BD(e,"radiusAxis",n):BD(e,"angleAxis",a)},Qee=te([Xee,A1],ER),Jee=te([Dx,S1,Mx,w1,_i,A1,OR,rt,$ee,jo,Fee,Gee,Qee],(e,n,a,r,s,l,c,d,m,f,h,g,y)=>{var{chartData:v,dataStartIndex:j,dataEndIndex:b}=s;if(l==null||a==null||e==null||v==null||c==null||g==null||d!=="centric"&&d!=="radial"||r==null)return[];var{dataKey:w,minPointSize:M}=l,{cx:S,cy:A,startAngle:E,endAngle:D}=f,P=v.slice(j,b+1),T=d==="centric"?a:e,O=y?T.scale.domain():null;return xte({angleAxis:e,angleAxisTicks:n,bandSize:c,baseValue:m,cells:h,cx:S,cy:A,dataKey:w,dataStartIndex:j,displayedData:P,endAngle:D,layout:d,minPointSize:M,pos:g,radiusAxis:a,radiusAxisTicks:r,stackedData:y,stackedDomain:O,startAngle:E})}),ete=te([Vc,(e,n)=>n],(e,n)=>{var{chartData:a,dataStartIndex:r,dataEndIndex:s}=e;if(a==null)return[];var l=a.slice(r,s+1);return l.length===0?[]:l.map(c=>({type:n,value:c.name,color:c.fill,payload:c}))}),tte=["shape","activeShape","cornerRadius","id"],nte=["onMouseEnter","onClick","onMouseLeave"],ate=["value","background"];function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},$c.apply(null,arguments)}function $D(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function va(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?$D(Object(a),!0).forEach(function(r){rte(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$D(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function rte(e,n,a){return(n=ste(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function ste(e){var n=ite(e,"string");return typeof n=="symbol"?n:n+""}function ite(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function tj(e,n){if(e==null)return{};var a,r,s=lte(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function lte(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var wp=[];function ote(e){var{showLabels:n,sectors:a,children:r}=e,s=a.map(l=>({value:l.value,payload:l.payload,parentViewBox:void 0,clockWise:!1,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill}));return x.createElement(nR,{value:n?s:void 0},r)}function cte(e){var{sectors:n,allOtherRadialBarProps:a,showLabels:r}=e,{shape:s,activeShape:l,cornerRadius:c,id:d}=a,m=tj(a,tte),f=Ht(m),h=Pe(Os),{onMouseEnter:g,onClick:y,onMouseLeave:v}=a,j=tj(a,nte),b=Am(g,a.dataKey),w=Cm(v),M=Mm(y,a.dataKey);return n==null?null:x.createElement(ote,{showLabels:r,sectors:n},n.map((S,A)=>{var E=l&&h===String(A),D=b(S,A),P=w(S,A),T=M(S,A),O=va(va(va(va({},f),{},{cornerRadius:NR(c)},S),ks(j,S,A)),{},{onMouseEnter:D,onMouseLeave:P,onClick:T,className:"recharts-radial-bar-sector ".concat(S.className),forceCornerRadius:m.forceCornerRadius,cornerIsExternal:m.cornerIsExternal,isActive:E,option:E?l:s});return E?x.createElement(yn,{zIndex:Bt.activeBar,key:"sector-".concat(S.cx,"-").concat(S.cy,"-").concat(S.innerRadius,"-").concat(S.outerRadius,"-").concat(S.startAngle,"-").concat(S.endAngle,"-").concat(A)},x.createElement(Jb,O)):x.createElement(Jb,$c({key:"sector-".concat(S.cx,"-").concat(S.cy,"-").concat(S.innerRadius,"-").concat(S.outerRadius,"-").concat(S.startAngle,"-").concat(S.endAngle,"-").concat(A)},O))}),x.createElement(wo,{label:a.label}),a.children)}function dte(e){var{props:n,previousSectorsRef:a}=e,{data:r,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d,onAnimationEnd:m,onAnimationStart:f}=n,h=ki(n,"recharts-radialbar-"),g=a.current,[y,v]=x.useState(!1),j=x.useCallback(()=>{typeof m=="function"&&m(),v(!1)},[m]),b=x.useCallback(()=>{typeof f=="function"&&f(),v(!0)},[f]);return x.createElement(Pi,{animationId:h,begin:l,duration:c,isActive:s,easing:d,onAnimationStart:b,onAnimationEnd:j,key:h},w=>{var M=w===1?r:(r??wp).map((S,A)=>{var E=g&&g[A];if(E)return va(va({},S),{},{startAngle:mt(E.startAngle,S.startAngle,w),endAngle:mt(E.endAngle,S.endAngle,w)});var{endAngle:D,startAngle:P}=S;return va(va({},S),{},{endAngle:mt(P,D,w)})});return w>0&&(a.current=M??null),x.createElement(xt,null,x.createElement(cte,{sectors:M??wp,allOtherRadialBarProps:n,showLabels:!y}))})}function ute(e){var n=x.useRef(null);return x.createElement(dte,{props:e,previousSectorsRef:n})}function mte(e){var n=Pe(a=>ete(a,e.legendType));return x.createElement(y1,{legendPayload:n??[]})}var fte=x.memo(e=>{var{dataKey:n,data:a,stroke:r,strokeWidth:s,name:l,hide:c,fill:d,tooltipType:m}=e,f={dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:d,nameKey:void 0,dataKey:n,name:xr(l,n),hide:c,type:m,color:d,unit:""}};return x.createElement(Ao,{tooltipEntrySettings:f})});class hte extends x.PureComponent{renderBackground(n){if(n==null)return null;var{cornerRadius:a}=this.props,r=is(this.props.background);return x.createElement(yn,{zIndex:SR(this.props.background,Bt.barBackground)},n.map((s,l)=>{var{value:c,background:d}=s,m=tj(s,ate);if(!d)return null;var f=va(va(va(va(va({cornerRadius:NR(a)},m),{},{fill:"#eee"},d),r),ks(this.props,s,l)),{},{index:l,className:ot("recharts-radial-bar-background-sector",String(r?.className)),option:d,isActive:!1});return x.createElement(Jb,$c({key:"background-".concat(m.cx,"-").concat(m.cy,"-").concat(m.innerRadius,"-").concat(m.outerRadius,"-").concat(m.startAngle,"-").concat(m.endAngle,"-").concat(l)},f))}))}render(){var{hide:n,data:a,className:r,background:s}=this.props;if(n)return null;var l=ot("recharts-area",r);return x.createElement(yn,{zIndex:this.props.zIndex},x.createElement(xt,{className:l},s&&x.createElement(xt,{className:"recharts-radial-bar-background"},this.renderBackground(a)),x.createElement(xt,{className:"recharts-radial-bar-sectors"},x.createElement(ute,this.props))))}}function pte(e){var n,a=Sm(e.children,kn),r={data:void 0,hide:!1,id:e.id,dataKey:e.dataKey,minPointSize:e.minPointSize,stackId:Gp(e.stackId),maxBarSize:e.maxBarSize,barSize:e.barSize,type:"radialBar",angleAxisId:e.angleAxisId,radiusAxisId:e.radiusAxisId},s=(n=Pe(l=>Jee(l,e.radiusAxisId,e.angleAxisId,r,a)))!==null&&n!==void 0?n:wp;return x.createElement(x.Fragment,null,x.createElement(fte,{dataKey:e.dataKey,data:s,stroke:e.stroke,strokeWidth:e.strokeWidth,name:e.name,hide:e.hide,fill:e.fill,tooltipType:e.tooltipType}),x.createElement(hte,$c({},e,{data:s})))}var dh={angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",background:!1,cornerIsExternal:!1,cornerRadius:0,data:[],forceCornerRadius:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:0,radiusAxisId:0,zIndex:Bt.bar};function xte(e){var{displayedData:n,stackedData:a,dataStartIndex:r,stackedDomain:s,dataKey:l,baseValue:c,layout:d,radiusAxis:m,radiusAxisTicks:f,bandSize:h,pos:g,angleAxis:y,minPointSize:v,cx:j,cy:b,angleAxisTicks:w,cells:M,startAngle:S,endAngle:A}=e;return w==null||f==null?wp:(n??[]).map((E,D)=>{var P,T,O,k,B,I;if(a?P=dO(a[r+D],s):(P=At(E,l),Array.isArray(P)||(P=[c,P])),d==="radial"){T=Uh({axis:m,ticks:f,bandSize:h,offset:g.offset,entry:E,index:D}),B=y.scale(P[1]),k=y.scale(P[0]),O=(T??0)+g.size;var z=B-k;if(Math.abs(v)>0&&Math.abs(z)<Math.abs(v)){var J=qn(z||v)*(Math.abs(v)-Math.abs(z));B+=J}I={background:{cx:j,cy:b,innerRadius:T,outerRadius:O,startAngle:S,endAngle:A}}}else{T=m.scale(P[0]),O=m.scale(P[1]),k=Uh({axis:y,ticks:w,bandSize:h,offset:g.offset,entry:E,index:D}),B=(k??0)+g.size;var L=O-T;if(Math.abs(v)>0&&Math.abs(L)<Math.abs(v)){var G=qn(L||v)*(Math.abs(v)-Math.abs(L));O+=G}}return va(va(va({},E),I),{},{payload:E,value:a?P:P[1],cx:j,cy:b,innerRadius:T,outerRadius:O,startAngle:k,endAngle:B},M&&M[D]&&M[D].props)})}function _R(e){var n=Lt(e,dh);return x.createElement(Co,{id:n.id,type:"radialBar"},a=>{var r,s,l;return x.createElement(x.Fragment,null,x.createElement(v1,{type:"radialBar",id:a,data:void 0,dataKey:n.dataKey,hide:(r=n.hide)!==null&&r!==void 0?r:dh.hide,angleAxisId:(s=n.angleAxisId)!==null&&s!==void 0?s:dh.angleAxisId,radiusAxisId:(l=n.radiusAxisId)!==null&&l!==void 0?l:dh.radiusAxisId,stackId:Gp(n.stackId),barSize:n.barSize,minPointSize:n.minPointSize,maxBarSize:n.maxBarSize}),x.createElement(mte,n),x.createElement(pte,$c({},n,{id:a})))})}_R.displayName="RadialBar";var TR=e=>{var{chartData:n}=e,a=Ut(),r=Cn();return x.useEffect(()=>r?()=>{}:(a(MM(n)),()=>{a(MM(void 0))}),[n,a,r]),null},FD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},LR=Ya({name:"brush",initialState:FD,reducers:{setBrushSettings(e,n){return n.payload==null?FD:n.payload}}}),{setBrushSettings:ode}=LR.actions,gte=LR.reducer;function yte(e,n,a){return(n=vte(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function vte(e){var n=bte(e,"string");return typeof n=="symbol"?n:n+""}function bte(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}class C1{static create(n){return new C1(n)}constructor(n){this.scale=n}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(n){var{bandAware:a,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n!==void 0){if(r)switch(r){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}isInRange(n){var a=this.range(),r=a[0],s=a[a.length-1];return r<=s?n>=r&&n<=s:n>=s&&n<=r}}yte(C1,"EPS",1e-4);function jte(e){return(e%180+180)%180}var Nte=function(n){var{width:a,height:r}=n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=jte(s),c=l*Math.PI/180,d=Math.atan(r/a),m=c>d&&c<Math.PI-d?r/Math.sin(c):a/Math.cos(c);return Math.abs(m)},wte={dots:[],areas:[],lines:[]},IR=Ya({name:"referenceElements",initialState:wte,reducers:{addDot:(e,n)=>{e.dots.push(n.payload)},removeDot:(e,n)=>{var a=ns(e).dots.findIndex(r=>r===n.payload);a!==-1&&e.dots.splice(a,1)},addArea:(e,n)=>{e.areas.push(n.payload)},removeArea:(e,n)=>{var a=ns(e).areas.findIndex(r=>r===n.payload);a!==-1&&e.areas.splice(a,1)},addLine:(e,n)=>{e.lines.push(n.payload)},removeLine:(e,n)=>{var a=ns(e).lines.findIndex(r=>r===n.payload);a!==-1&&e.lines.splice(a,1)}}}),{addDot:cde,removeDot:dde,addArea:ude,removeArea:mde,addLine:fde,removeLine:hde}=IR.actions,Ste=IR.reducer,Ate=x.createContext(void 0),Cte=e=>{var{children:n}=e,[a]=x.useState("".concat(Eu("recharts"),"-clip")),r=Ax();if(r==null)return null;var{x:s,y:l,width:c,height:d}=r;return x.createElement(Ate.Provider,{value:a},x.createElement("defs",null,x.createElement("clipPath",{id:a},x.createElement("rect",{x:s,y:l,height:d,width:c}))),n)};function zR(e,n){if(n<1)return[];if(n===1)return e;for(var a=[],r=0;r<e.length;r+=n)a.push(e[r]);return a}function Mte(e,n,a){var r={width:e.width+n.width,height:e.height+n.height};return Nte(r,a)}function Dte(e,n,a){var r=a==="width",{x:s,y:l,width:c,height:d}=e;return n===1?{start:r?s:l,end:r?s+c:l+d}:{start:r?s+c:l+d,end:r?s:l}}function Sp(e,n,a,r,s){if(e*n<e*r||e*n>e*s)return!1;var l=a();return e*(n-e*l/2-r)>=0&&e*(n+e*l/2-s)<=0}function Ete(e,n){return zR(e,n+1)}function Ote(e,n,a,r,s){for(var l=(r||[]).slice(),{start:c,end:d}=n,m=0,f=1,h=c,g=function(){var j=r?.[m];if(j===void 0)return{v:zR(r,f)};var b=m,w,M=()=>(w===void 0&&(w=a(j,b)),w),S=j.coordinate,A=m===0||Sp(e,S,M,h,d);A||(m=0,h=c,f+=1),A&&(h=S+e*(M()/2+s),m+=f)},y;f<=l.length;)if(y=g(),y)return y.v;return[]}function qD(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ga(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?qD(Object(a),!0).forEach(function(r){Pte(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Pte(e,n,a){return(n=kte(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function kte(e){var n=Rte(e,"string");return typeof n=="symbol"?n:n+""}function Rte(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function _te(e,n,a,r,s){for(var l=(r||[]).slice(),c=l.length,{start:d}=n,{end:m}=n,f=function(y){var v=l[y],j,b=()=>(j===void 0&&(j=a(v,y)),j);if(y===c-1){var w=e*(v.coordinate+e*b()/2-m);l[y]=v=ga(ga({},v),{},{tickCoord:w>0?v.coordinate-w*e:v.coordinate})}else l[y]=v=ga(ga({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var M=Sp(e,v.tickCoord,b,d,m);M&&(m=v.tickCoord-e*(b()/2+s),l[y]=ga(ga({},v),{},{isShow:!0}))}},h=c-1;h>=0;h--)f(h);return l}function Tte(e,n,a,r,s,l){var c=(r||[]).slice(),d=c.length,{start:m,end:f}=n;if(l){var h=r[d-1],g=a(h,d-1),y=e*(h.coordinate+e*g/2-f);if(c[d-1]=h=ga(ga({},h),{},{tickCoord:y>0?h.coordinate-y*e:h.coordinate}),h.tickCoord!=null){var v=Sp(e,h.tickCoord,()=>g,m,f);v&&(f=h.tickCoord-e*(g/2+s),c[d-1]=ga(ga({},h),{},{isShow:!0}))}}for(var j=l?d-1:d,b=function(S){var A=c[S],E,D=()=>(E===void 0&&(E=a(A,S)),E);if(S===0){var P=e*(A.coordinate-e*D()/2-m);c[S]=A=ga(ga({},A),{},{tickCoord:P<0?A.coordinate-P*e:A.coordinate})}else c[S]=A=ga(ga({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var T=Sp(e,A.tickCoord,D,m,f);T&&(m=A.tickCoord+e*(D()/2+s),c[S]=ga(ga({},A),{},{isShow:!0}))}},w=0;w<j;w++)b(w);return c}function M1(e,n,a){var{tick:r,ticks:s,viewBox:l,minTickGap:c,orientation:d,interval:m,tickFormatter:f,unit:h,angle:g}=e;if(!s||!s.length||!r)return[];if(ze(m)||Hc.isSsr){var y;return(y=Ete(s,ze(m)?m:0))!==null&&y!==void 0?y:[]}var v=[],j=d==="top"||d==="bottom"?"width":"height",b=h&&j==="width"?bu(h,{fontSize:n,letterSpacing:a}):{width:0,height:0},w=(A,E)=>{var D=typeof f=="function"?f(A.value,E):A.value;return j==="width"?Mte(bu(D,{fontSize:n,letterSpacing:a}),b,g):bu(D,{fontSize:n,letterSpacing:a})[j]},M=s.length>=2?qn(s[1].coordinate-s[0].coordinate):1,S=Dte(l,M,j);return m==="equidistantPreserveStart"?Ote(M,S,w,s,c):(m==="preserveStart"||m==="preserveStartEnd"?v=Tte(M,S,w,s,c,m==="preserveStartEnd"):v=_te(M,S,w,s,c),v.filter(A=>A.isShow))}var Lte=e=>{var{ticks:n,label:a,labelGapWithTick:r=5,tickSize:s=0,tickMargin:l=0}=e,c=0;if(n){Array.from(n).forEach(h=>{if(h){var g=h.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=a?a.getBoundingClientRect().width:0,m=s+l,f=c+m+d+(a?r:0);return Math.round(f)}return 0},Ite=["axisLine","width","height","className","hide","ticks","axisType"];function zte(e,n){if(e==null)return{};var a,r,s=Bte(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Bte(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},mo.apply(null,arguments)}function HD(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Fn(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?HD(Object(a),!0).forEach(function(r){$te(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):HD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function $te(e,n,a){return(n=Fte(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function Fte(e){var n=qte(e,"string");return typeof n=="symbol"?n:n+""}function qte(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var pi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Bt.axis};function Hte(e){var{x:n,y:a,width:r,height:s,orientation:l,mirror:c,axisLine:d,otherSvgProps:m}=e;if(!d)return null;var f=Fn(Fn(Fn({},m),Ht(d)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Fn(Fn({},f),{},{x1:n,y1:a+h*s,x2:n+r,y2:a+h*s})}else{var g=+(l==="left"&&!c||l==="right"&&c);f=Fn(Fn({},f),{},{x1:n+g*r,y1:a,x2:n+g*r,y2:a+s})}return x.createElement("line",mo({},f,{className:ot("recharts-cartesian-axis-line",io(d,"className"))}))}function Ute(e,n,a,r,s,l,c,d,m){var f,h,g,y,v,j,b=d?-1:1,w=e.tickSize||c,M=ze(e.tickCoord)?e.tickCoord:e.coordinate;switch(l){case"top":f=h=e.coordinate,y=a+ +!d*s,g=y-b*w,j=g-b*m,v=M;break;case"left":g=y=e.coordinate,h=n+ +!d*r,f=h-b*w,v=f-b*m,j=M;break;case"right":g=y=e.coordinate,h=n+ +d*r,f=h+b*w,v=f+b*m,j=M;break;default:f=h=e.coordinate,y=a+ +d*s,g=y+b*w,j=g+b*m,v=M;break}return{line:{x1:f,y1:g,x2:h,y2:y},tick:{x:v,y:j}}}function Vte(e,n){switch(e){case"left":return n?"start":"end";case"right":return n?"end":"start";default:return"middle"}}function Kte(e,n){switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}function Wte(e){var{option:n,tickProps:a,value:r}=e,s,l=ot(a.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(n))s=x.cloneElement(n,Fn(Fn({},a),{},{className:l}));else if(typeof n=="function")s=n(Fn(Fn({},a),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof n!="boolean"&&(c=ot(c,n?.className)),s=x.createElement(rd,mo({},a,{className:c}),r)}return s}var Yte=x.forwardRef((e,n)=>{var{ticks:a=[],tick:r,tickLine:s,stroke:l,tickFormatter:c,unit:d,padding:m,tickTextProps:f,orientation:h,mirror:g,x:y,y:v,width:j,height:b,tickSize:w,tickMargin:M,fontSize:S,letterSpacing:A,getTicksConfig:E,events:D,axisType:P}=e,T=M1(Fn(Fn({},E),{},{ticks:a}),S,A),O=Vte(h,g),k=Kte(h,g),B=Ht(E),I=is(r),z={};typeof s=="object"&&(z=s);var J=Fn(Fn({},B),{},{fill:"none"},z),L=T.map(R=>Fn({entry:R},Ute(R,y,v,j,b,h,w,g,M))),G=L.map(R=>{var{entry:F,line:q}=R;return x.createElement(xt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},s&&x.createElement("line",mo({},J,q,{className:ot("recharts-cartesian-axis-tick-line",io(s,"className"))})))}),W=L.map((R,F)=>{var{entry:q,tick:Y}=R,ae=Fn(Fn(Fn(Fn({textAnchor:O,verticalAnchor:k},B),{},{stroke:"none",fill:l},I),Y),{},{index:F,payload:q,visibleTicksCount:T.length,tickFormatter:c,padding:m},f);return x.createElement(xt,mo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},ks(D,q,F)),r&&x.createElement(Wte,{option:r,tickProps:ae,value:"".concat(typeof c=="function"?c(q.value,F):q.value).concat(d||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},W.length>0&&x.createElement(yn,{zIndex:Bt.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:n},W)),G.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},G))}),Gte=x.forwardRef((e,n)=>{var{axisLine:a,width:r,height:s,className:l,hide:c,ticks:d,axisType:m}=e,f=zte(e,Ite),[h,g]=x.useState(""),[y,v]=x.useState(""),j=x.useRef(null);x.useImperativeHandle(n,()=>({getCalculatedWidth:()=>{var w;return Lte({ticks:j.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=x.useCallback(w=>{if(w){var M=w.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=M;var S=M[0];if(S){var A=window.getComputedStyle(S),E=A.fontSize,D=A.letterSpacing;(E!==h||D!==y)&&(g(E),v(D))}}},[h,y]);return c||r!=null&&r<=0||s!=null&&s<=0?null:x.createElement(yn,{zIndex:e.zIndex},x.createElement(xt,{className:ot("recharts-cartesian-axis",l)},x.createElement(Hte,{x:e.x,y:e.y,width:r,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:a,otherSvgProps:Ht(e)}),x.createElement(Yte,{ref:b,axisType:m,events:f,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(QY,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(iG,{label:e.label,labelRef:e.labelRef}),e.children)))}),D1=x.forwardRef((e,n)=>{var a=Lt(e,pi);return x.createElement(Gte,mo({},a,{ref:n}))});D1.displayName="CartesianAxis";var Zte=["x1","y1","x2","y2","key"],Xte=["offset"],Qte=["xAxisId","yAxisId"],Jte=["xAxisId","yAxisId"];function UD(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ya(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?UD(Object(a),!0).forEach(function(r){ene(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):UD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function ene(e,n,a){return(n=tne(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function tne(e){var n=nne(e,"string");return typeof n=="symbol"?n:n+""}function nne(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Zl.apply(null,arguments)}function Ap(e,n){if(e==null)return{};var a,r,s=ane(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function ane(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var rne=e=>{var{fill:n}=e;if(!n||n==="none")return null;var{fillOpacity:a,x:r,y:s,width:l,height:c,ry:d}=e;return x.createElement("rect",{x:r,y:s,ry:d,width:l,height:c,stroke:"none",fill:n,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function BR(e){var{option:n,lineItemProps:a}=e,r;if(x.isValidElement(n))r=x.cloneElement(n,a);else if(typeof n=="function")r=n(a);else{var s,{x1:l,y1:c,x2:d,y2:m,key:f}=a,h=Ap(a,Zte),g=(s=Ht(h))!==null&&s!==void 0?s:{},{offset:y}=g,v=Ap(g,Xte);r=x.createElement("line",Zl({},v,{x1:l,y1:c,x2:d,y2:m,fill:"none",key:f}))}return r}function sne(e){var{x:n,width:a,horizontal:r=!0,horizontalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=Ap(e,Qte),m=s.map((f,h)=>{var g=ya(ya({},d),{},{x1:n,y1:f,x2:n+a,y2:f,key:"line-".concat(h),index:h});return x.createElement(BR,{key:"line-".concat(h),option:r,lineItemProps:g})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function ine(e){var{y:n,height:a,vertical:r=!0,verticalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=Ap(e,Jte),m=s.map((f,h)=>{var g=ya(ya({},d),{},{x1:f,y1:n,x2:f,y2:n+a,key:"line-".concat(h),index:h});return x.createElement(BR,{option:r,lineItemProps:g,key:"line-".concat(h)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function lne(e){var{horizontalFill:n,fillOpacity:a,x:r,y:s,width:l,height:c,horizontalPoints:d,horizontal:m=!0}=e;if(!m||!n||!n.length||d==null)return null;var f=d.map(g=>Math.round(g+s-s)).sort((g,y)=>g-y);s!==f[0]&&f.unshift(0);var h=f.map((g,y)=>{var v=!f[y+1],j=v?s+c-g:f[y+1]-g;if(j<=0)return null;var b=y%n.length;return x.createElement("rect",{key:"react-".concat(y),y:g,x:r,height:j,width:l,stroke:"none",fill:n[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function one(e){var{vertical:n=!0,verticalFill:a,fillOpacity:r,x:s,y:l,width:c,height:d,verticalPoints:m}=e;if(!n||!a||!a.length)return null;var f=m.map(g=>Math.round(g+s-s)).sort((g,y)=>g-y);s!==f[0]&&f.unshift(0);var h=f.map((g,y)=>{var v=!f[y+1],j=v?s+c-g:f[y+1]-g;if(j<=0)return null;var b=y%a.length;return x.createElement("rect",{key:"react-".concat(y),x:g,y:l,width:j,height:d,stroke:"none",fill:a[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var cne=(e,n)=>{var{xAxis:a,width:r,height:s,offset:l}=e;return oO(M1(ya(ya(ya({},pi),a),{},{ticks:cO(a),viewBox:{x:0,y:0,width:r,height:s}})),l.left,l.left+l.width,n)},dne=(e,n)=>{var{yAxis:a,width:r,height:s,offset:l}=e;return oO(M1(ya(ya(ya({},pi),a),{},{ticks:cO(a),viewBox:{x:0,y:0,width:r,height:s}})),l.top,l.top+l.height,n)},une={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Bt.grid};function tn(e){var n=Qj(),a=Jj(),r=gO(),s=ya(ya({},Lt(e,une)),{},{x:ze(e.x)?e.x:r.left,y:ze(e.y)?e.y:r.top,width:ze(e.width)?e.width:r.width,height:ze(e.height)?e.height:r.height}),{xAxisId:l,yAxisId:c,x:d,y:m,width:f,height:h,syncWithTicks:g,horizontalValues:y,verticalValues:v}=s,j=Cn(),b=Pe(k=>pM(k,"xAxis",l,j)),w=Pe(k=>pM(k,"yAxis",c,j));if(!Ds(f)||!Ds(h)||!ze(d)||!ze(m))return null;var M=s.verticalCoordinatesGenerator||cne,S=s.horizontalCoordinatesGenerator||dne,{horizontalPoints:A,verticalPoints:E}=s;if((!A||!A.length)&&typeof S=="function"){var D=y&&y.length,P=S({yAxis:w?ya(ya({},w),{},{ticks:D?y:w.ticks}):void 0,width:n??f,height:a??h,offset:r},D?!0:g);Vh(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(A=P)}if((!E||!E.length)&&typeof M=="function"){var T=v&&v.length,O=M({xAxis:b?ya(ya({},b),{},{ticks:T?v:b.ticks}):void 0,width:n??f,height:a??h,offset:r},T?!0:g);Vh(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(E=O)}return x.createElement(yn,{zIndex:s.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(rne,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),x.createElement(lne,Zl({},s,{horizontalPoints:A})),x.createElement(one,Zl({},s,{verticalPoints:E})),x.createElement(sne,Zl({},s,{offset:r,horizontalPoints:A,xAxis:b,yAxis:w})),x.createElement(ine,Zl({},s,{offset:r,verticalPoints:E,xAxis:b,yAxis:w}))))}tn.displayName="CartesianGrid";var $R=(e,n,a,r)=>Br(e,"xAxis",n,r),FR=(e,n,a,r)=>zr(e,"xAxis",n,r),qR=(e,n,a,r)=>Br(e,"yAxis",a,r),HR=(e,n,a,r)=>zr(e,"yAxis",a,r),mne=te([rt,$R,qR,FR,HR],(e,n,a,r,s)=>qr(e,"xAxis")?Ka(n,r,!1):Ka(a,s,!1)),fne=(e,n,a,r,s)=>s;function hne(e){return e.type==="line"}var pne=te([Jc,fne],(e,n)=>e.filter(hne).find(a=>a.id===n)),xne=te([rt,$R,qR,FR,HR,pne,mne,Kc],(e,n,a,r,s,l,c,d)=>{var{chartData:m,dataStartIndex:f,dataEndIndex:h}=d;if(!(l==null||n==null||a==null||r==null||s==null||r.length===0||s.length===0||c==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:g,data:y}=l,v;if(y!=null&&y.length>0?v=y:v=m?.slice(f,h+1),v!=null)return Lne({layout:e,xAxis:n,yAxis:a,xAxisTicks:r,yAxisTicks:s,dataKey:g,bandSize:c,displayedData:v})}});function UR(e){var n=is(e),a=3,r=2;if(n!=null){var{r:s,strokeWidth:l}=n,c=Number(s),d=Number(l);return(Number.isNaN(c)||c<0)&&(c=a),(Number.isNaN(d)||d<0)&&(d=r),{r:c,strokeWidth:d}}return{r:a,strokeWidth:r}}var gne=["id"],yne=["type","layout","connectNulls","needClip","shape"],vne=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Wu.apply(null,arguments)}function VD(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function hs(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?VD(Object(a),!0).forEach(function(r){bne(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):VD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function bne(e,n,a){return(n=jne(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function jne(e){var n=Nne(e,"string");return typeof n=="symbol"?n:n+""}function Nne(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function E1(e,n){if(e==null)return{};var a,r,s=wne(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function wne(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Sne=e=>{var{dataKey:n,name:a,stroke:r,legendType:s,hide:l}=e;return[{inactive:l,dataKey:n,type:s,color:r,value:xr(a,n),payload:e}]},Ane=x.memo(e=>{var{dataKey:n,data:a,stroke:r,strokeWidth:s,fill:l,name:c,hide:d,unit:m,tooltipType:f}=e,h={dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:l,dataKey:n,nameKey:void 0,name:xr(c,n),hide:d,type:f,color:r,unit:m}};return x.createElement(Ao,{tooltipEntrySettings:h})}),VR=(e,n)=>"".concat(n,"px ").concat(e-n,"px");function Cne(e,n){for(var a=e.length%2!==0?[...e,0]:e,r=[],s=0;s<n;++s)r=[...r,...a];return r}var Mne=(e,n,a)=>{var r=a.reduce((g,y)=>g+y);if(!r)return VR(n,e);for(var s=Math.floor(e/r),l=e%r,c=n-e,d=[],m=0,f=0;m<a.length;f+=a[m],++m)if(f+a[m]>l){d=[...a.slice(0,m),l-f];break}var h=d.length%2===0?[0,c]:[c];return[...Cne(a,s),...d,...h].map(g=>"".concat(g,"px")).join(", ")};function Dne(e){var{clipPathId:n,points:a,props:r}=e,{dot:s,dataKey:l,needClip:c}=r,{id:d}=r,m=E1(r,gne),f=Ht(m);return x.createElement(b1,{points:a,dot:s,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:l,baseProps:f,needClip:c,clipPathId:n})}function Ene(e){var{showLabels:n,children:a,points:r}=e,s=x.useMemo(()=>r?.map(l=>{var c,d,m={x:(c=l.x)!==null&&c!==void 0?c:0,y:(d=l.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return hs(hs({},m),{},{value:l.value,payload:l.payload,viewBox:m,parentViewBox:void 0,fill:void 0})}),[r]);return x.createElement(jm,{value:n?s:void 0},a)}function KD(e){var{clipPathId:n,pathRef:a,points:r,strokeDasharray:s,props:l}=e,{type:c,layout:d,connectNulls:m,needClip:f,shape:h}=l,g=E1(l,yne),y=hs(hs({},Pn(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(n,")"):void 0,points:r,type:c,layout:d,connectNulls:m,strokeDasharray:s??l.strokeDasharray});return x.createElement(x.Fragment,null,r?.length>1&&x.createElement(Bc,Wu({shapeType:"curve",option:h},y,{pathRef:a})),x.createElement(Dne,{points:r,clipPathId:n,props:l}))}function One(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Pne(e){var{clipPathId:n,props:a,pathRef:r,previousPointsRef:s,longestAnimatedLengthRef:l}=e,{points:c,strokeDasharray:d,isAnimationActive:m,animationBegin:f,animationDuration:h,animationEasing:g,animateNewValues:y,width:v,height:j,onAnimationEnd:b,onAnimationStart:w}=a,M=s.current,S=ki(c,"recharts-line-"),A=x.useRef(S),[E,D]=x.useState(!1),P=!E,T=x.useCallback(()=>{typeof b=="function"&&b(),D(!1)},[b]),O=x.useCallback(()=>{typeof w=="function"&&w(),D(!0)},[w]),k=One(r.current),B=x.useRef(0);A.current!==S&&(B.current=l.current,A.current=S);var I=B.current;return x.createElement(Ene,{points:c,showLabels:P},a.children,x.createElement(Pi,{animationId:S,begin:f,duration:h,isActive:m,easing:g,onAnimationEnd:T,onAnimationStart:O,key:S},z=>{var J=mt(I,k+I,z),L=Math.min(J,k),G;if(m)if(d){var W="".concat(d).split(/[,\s]+/gim).map(q=>parseFloat(q));G=Mne(L,k,W)}else G=VR(k,L);else G=d==null?void 0:String(d);if(z>0&&k>0&&(s.current=c,l.current=Math.max(l.current,L)),M){var R=M.length/c.length,F=z===1?c:c.map((q,Y)=>{var ae=Math.floor(Y*R);if(M[ae]){var je=M[ae];return hs(hs({},q),{},{x:mt(je.x,q.x,z),y:mt(je.y,q.y,z)})}return y?hs(hs({},q),{},{x:mt(v*2,q.x,z),y:mt(j/2,q.y,z)}):hs(hs({},q),{},{x:q.x,y:q.y})});return s.current=F,x.createElement(KD,{props:a,points:F,clipPathId:n,pathRef:r,strokeDasharray:G})}return x.createElement(KD,{props:a,points:c,clipPathId:n,pathRef:r,strokeDasharray:G})}),x.createElement(wo,{label:a.label}))}function kne(e){var{clipPathId:n,props:a}=e,r=x.useRef(null),s=x.useRef(0),l=x.useRef(null);return x.createElement(Pne,{props:a,clipPathId:n,previousPointsRef:r,longestAnimatedLengthRef:s,pathRef:l})}var Rne=(e,n)=>{var a,r;return{x:(a=e.x)!==null&&a!==void 0?a:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:At(e.payload,n)}};class _ne extends x.Component{render(){var{hide:n,dot:a,points:r,className:s,xAxisId:l,yAxisId:c,top:d,left:m,width:f,height:h,id:g,needClip:y,zIndex:v}=this.props;if(n)return null;var j=ot("recharts-line",s),b=g,{r:w,strokeWidth:M}=UR(a),S=g1(a),A=w*2+M,E=y?"url(#clipPath-".concat(S?"":"dots-").concat(b,")"):void 0;return x.createElement(yn,{zIndex:v},x.createElement(xt,{className:j},y&&x.createElement("defs",null,x.createElement(Cx,{clipPathId:b,xAxisId:l,yAxisId:c}),!S&&x.createElement("clipPath",{id:"clipPath-dots-".concat(b)},x.createElement("rect",{x:m-A/2,y:d-A/2,width:f+A,height:h+A}))),x.createElement(N1,{xAxisId:l,yAxisId:c,data:r,dataPointFormatter:Rne,errorBarOffset:0},x.createElement(kne,{props:this.props,clipPathId:b}))),x.createElement(yp,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:E}))}}var KR={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Bt.line,type:"linear"};function Tne(e){var n=Lt(e,KR),{activeDot:a,animateNewValues:r,animationBegin:s,animationDuration:l,animationEasing:c,connectNulls:d,dot:m,hide:f,isAnimationActive:h,label:g,legendType:y,xAxisId:v,yAxisId:j,id:b}=n,w=E1(n,vne),{needClip:M}=Dm(v,j),S=Ax(),A=go(),E=Cn(),D=Pe(B=>xne(B,v,j,E,b));if(A!=="horizontal"&&A!=="vertical"||D==null||S==null)return null;var{height:P,width:T,x:O,y:k}=S;return x.createElement(_ne,Wu({},w,{id:b,connectNulls:d,dot:m,activeDot:a,animateNewValues:r,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:h,hide:f,label:g,legendType:y,xAxisId:v,yAxisId:j,points:D,layout:A,height:P,width:T,left:O,top:k,needClip:M}))}function Lne(e){var{layout:n,xAxis:a,yAxis:r,xAxisTicks:s,yAxisTicks:l,dataKey:c,bandSize:d,displayedData:m}=e;return m.map((f,h)=>{var g=At(f,c);if(n==="horizontal"){var y=Rc({axis:a,ticks:s,bandSize:d,entry:f,index:h}),v=Ot(g)?null:r.scale(g);return{x:y,y:v,value:g,payload:f}}var j=Ot(g)?null:a.scale(g),b=Rc({axis:r,ticks:l,bandSize:d,entry:f,index:h});return j==null||b==null?null:{x:j,y:b,value:g,payload:f}}).filter(Boolean)}function Ine(e){var n=Lt(e,KR),a=Cn();return x.createElement(Co,{id:n.id,type:"line"},r=>x.createElement(x.Fragment,null,x.createElement(Nx,{legendPayload:Sne(n)}),x.createElement(Ane,{dataKey:n.dataKey,data:n.data,stroke:n.stroke,strokeWidth:n.strokeWidth,fill:n.fill,name:n.name,hide:n.hide,unit:n.unit,tooltipType:n.tooltipType}),x.createElement(wx,{type:"line",id:r,data:n.data,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,dataKey:n.dataKey,hide:n.hide,isPanorama:a}),x.createElement(Tne,Wu({},n,{id:r}))))}var Fc=x.memo(Ine,sd);Fc.displayName="Line";var WR=(e,n,a,r)=>Br(e,"xAxis",n,r),YR=(e,n,a,r)=>zr(e,"xAxis",n,r),GR=(e,n,a,r)=>Br(e,"yAxis",a,r),ZR=(e,n,a,r)=>zr(e,"yAxis",a,r),zne=te([rt,WR,GR,YR,ZR],(e,n,a,r,s)=>qr(e,"xAxis")?Ka(n,r,!1):Ka(a,s,!1)),Bne=(e,n,a,r,s)=>s,XR=te([Jc,Bne],(e,n)=>e.filter(a=>a.type==="area").find(a=>a.id===n)),$ne=(e,n,a,r,s)=>{var l,c=XR(e,n,a,r,s);if(c!=null){var d=rt(e),m=qr(d,"xAxis"),f;if(m?f=qu(e,"yAxis",a,r):f=qu(e,"xAxis",n,r),f!=null){var{stackId:h}=c,g=fx(c);if(!(h==null||g==null)){var y=(l=f[h])===null||l===void 0?void 0:l.stackedData;return y?.find(v=>v.key===g)}}}},Fne=te([rt,WR,GR,YR,ZR,$ne,Kc,zne,XR,sV],(e,n,a,r,s,l,c,d,m,f)=>{var{chartData:h,dataStartIndex:g,dataEndIndex:y}=c;if(!(m==null||e!=="horizontal"&&e!=="vertical"||n==null||a==null||r==null||s==null||r.length===0||s.length===0||d==null)){var{data:v}=m,j;if(v&&v.length>0?j=v:j=h?.slice(g,y+1),j!=null)return iae({layout:e,xAxis:n,yAxis:a,xAxisTicks:r,yAxisTicks:s,dataStartIndex:g,areaSettings:m,stackedData:l,displayedData:j,chartBaseValue:f,bandSize:d})}}),qne=["id"],Hne=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function ao(){return ao=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ao.apply(null,arguments)}function QR(e,n){if(e==null)return{};var a,r,s=Une(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Une(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function WD(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Ac(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?WD(Object(a),!0).forEach(function(r){Vne(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):WD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Vne(e,n,a){return(n=Kne(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function Kne(e){var n=Wne(e,"string");return typeof n=="symbol"?n:n+""}function Wne(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Cp(e,n){return e&&e!=="none"?e:n}var Yne=e=>{var{dataKey:n,name:a,stroke:r,fill:s,legendType:l,hide:c}=e;return[{inactive:c,dataKey:n,type:l,color:Cp(r,s),value:xr(a,n),payload:e}]},Gne=x.memo(e=>{var{dataKey:n,data:a,stroke:r,strokeWidth:s,fill:l,name:c,hide:d,unit:m,tooltipType:f}=e,h={dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:l,dataKey:n,nameKey:void 0,name:xr(c,n),hide:d,type:f,color:Cp(r,l),unit:m}};return x.createElement(Ao,{tooltipEntrySettings:h})});function Zne(e){var{clipPathId:n,points:a,props:r}=e,{needClip:s,dot:l,dataKey:c}=r,d=Ht(r);return x.createElement(b1,{points:a,dot:l,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:d,needClip:s,clipPathId:n})}function Xne(e){var{showLabels:n,children:a,points:r}=e,s=r.map(l=>{var c,d,m={x:(c=l.x)!==null&&c!==void 0?c:0,y:(d=l.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ac(Ac({},m),{},{value:l.value,payload:l.payload,parentViewBox:void 0,viewBox:m,fill:void 0})});return x.createElement(jm,{value:n?s:void 0},a)}function YD(e){var{points:n,baseLine:a,needClip:r,clipPathId:s,props:l}=e,{layout:c,type:d,stroke:m,connectNulls:f,isRange:h}=l,{id:g}=l,y=QR(l,qne),v=Ht(y),j=Pn(y);return x.createElement(x.Fragment,null,n?.length>1&&x.createElement(xt,{clipPath:r?"url(#clipPath-".concat(s,")"):void 0},x.createElement(eo,ao({},j,{id:g,points:n,connectNulls:f,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),m!=="none"&&x.createElement(eo,ao({},v,{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:n})),m!=="none"&&h&&x.createElement(eo,ao({},v,{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:a}))),x.createElement(Zne,{points:n,props:y,clipPathId:s}))}function Qne(e){var{alpha:n,baseLine:a,points:r,strokeWidth:s}=e,l=r[0].y,c=r[r.length-1].y;if(!un(l)||!un(c))return null;var d=n*Math.abs(l-c),m=Math.max(...r.map(f=>f.x||0));return ze(a)?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(...a.map(f=>f.x||0),m)),ze(m)?x.createElement("rect",{x:0,y:l<c?l:l-d,width:m+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}function Jne(e){var{alpha:n,baseLine:a,points:r,strokeWidth:s}=e,l=r[0].x,c=r[r.length-1].x;if(!un(l)||!un(c))return null;var d=n*Math.abs(l-c),m=Math.max(...r.map(f=>f.y||0));return ze(a)?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(...a.map(f=>f.y||0),m)),ze(m)?x.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(m+(s?parseInt("".concat(s),10):1))}):null}function eae(e){var{alpha:n,layout:a,points:r,baseLine:s,strokeWidth:l}=e;return a==="vertical"?x.createElement(Qne,{alpha:n,points:r,baseLine:s,strokeWidth:l}):x.createElement(Jne,{alpha:n,points:r,baseLine:s,strokeWidth:l})}function tae(e){var{needClip:n,clipPathId:a,props:r,previousPointsRef:s,previousBaselineRef:l}=e,{points:c,baseLine:d,isAnimationActive:m,animationBegin:f,animationDuration:h,animationEasing:g,onAnimationStart:y,onAnimationEnd:v}=r,j=x.useMemo(()=>({points:c,baseLine:d}),[c,d]),b=ki(j,"recharts-area-"),w=A$(),[M,S]=x.useState(!1),A=!M,E=x.useCallback(()=>{typeof v=="function"&&v(),S(!1)},[v]),D=x.useCallback(()=>{typeof y=="function"&&y(),S(!0)},[y]);if(w==null)return null;var P=s.current,T=l.current;return x.createElement(Xne,{showLabels:A,points:c},r.children,x.createElement(Pi,{animationId:b,begin:f,duration:h,isActive:m,easing:g,onAnimationEnd:E,onAnimationStart:D,key:b},O=>{if(P){var k=P.length/c.length,B=O===1?c:c.map((z,J)=>{var L=Math.floor(J*k);if(P[L]){var G=P[L];return Ac(Ac({},z),{},{x:mt(G.x,z.x,O),y:mt(G.y,z.y,O)})}return z}),I;return ze(d)?I=mt(T,d,O):Ot(d)||Tr(d)?I=mt(T,0,O):I=d.map((z,J)=>{var L=Math.floor(J*k);if(Array.isArray(T)&&T[L]){var G=T[L];return Ac(Ac({},z),{},{x:mt(G.x,z.x,O),y:mt(G.y,z.y,O)})}return z}),O>0&&(s.current=B,l.current=I),x.createElement(YD,{points:B,baseLine:I,needClip:n,clipPathId:a,props:r})}return O>0&&(s.current=c,l.current=d),x.createElement(xt,null,m&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(a)},x.createElement(eae,{alpha:O,points:c,baseLine:d,layout:w,strokeWidth:r.strokeWidth}))),x.createElement(xt,{clipPath:"url(#animationClipPath-".concat(a,")")},x.createElement(YD,{points:c,baseLine:d,needClip:n,clipPathId:a,props:r})))}),x.createElement(wo,{label:r.label}))}function nae(e){var{needClip:n,clipPathId:a,props:r}=e,s=x.useRef(null),l=x.useRef();return x.createElement(tae,{needClip:n,clipPathId:a,props:r,previousPointsRef:s,previousBaselineRef:l})}class aae extends x.PureComponent{render(){var{hide:n,dot:a,points:r,className:s,top:l,left:c,needClip:d,xAxisId:m,yAxisId:f,width:h,height:g,id:y,baseLine:v,zIndex:j}=this.props;if(n)return null;var b=ot("recharts-area",s),w=y,{r:M,strokeWidth:S}=UR(a),A=g1(a),E=M*2+S,D=d?"url(#clipPath-".concat(A?"":"dots-").concat(w,")"):void 0;return x.createElement(yn,{zIndex:j},x.createElement(xt,{className:b},d&&x.createElement("defs",null,x.createElement(Cx,{clipPathId:w,xAxisId:m,yAxisId:f}),!A&&x.createElement("clipPath",{id:"clipPath-dots-".concat(w)},x.createElement("rect",{x:c-E/2,y:l-E/2,width:h+E,height:g+E}))),x.createElement(nae,{needClip:d,clipPathId:w,props:this.props})),x.createElement(yp,{points:r,mainColor:Cp(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}),this.props.isRange&&Array.isArray(v)&&x.createElement(yp,{points:v,mainColor:Cp(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}))}}var JR={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Bt.area};function rae(e){var n,a=Lt(e,JR),{activeDot:r,animationBegin:s,animationDuration:l,animationEasing:c,connectNulls:d,dot:m,fill:f,fillOpacity:h,hide:g,isAnimationActive:y,legendType:v,stroke:j,xAxisId:b,yAxisId:w}=a,M=QR(a,Hne),S=go(),A=kk(),{needClip:E}=Dm(b,w),D=Cn(),{points:P,isRange:T,baseLine:O}=(n=Pe(L=>Fne(L,b,w,D,e.id)))!==null&&n!==void 0?n:{},k=Ax();if(S!=="horizontal"&&S!=="vertical"||k==null||A!=="AreaChart"&&A!=="ComposedChart")return null;var{height:B,width:I,x:z,y:J}=k;return!P||!P.length?null:x.createElement(aae,ao({},M,{activeDot:r,animationBegin:s,animationDuration:l,animationEasing:c,baseLine:O,connectNulls:d,dot:m,fill:f,fillOpacity:h,height:B,hide:g,layout:S,isAnimationActive:y==="auto"?!Hc.isSsr:y,isRange:T,legendType:v,needClip:E,points:P,stroke:j,width:I,left:z,top:J,xAxisId:b,yAxisId:w}))}var sae=(e,n,a,r,s)=>{var l=a??n;if(ze(l))return l;var c=e==="horizontal"?s:r,d=c.scale.domain();if(c.type==="number"){var m=Math.max(d[0],d[1]),f=Math.min(d[0],d[1]);return l==="dataMin"?f:l==="dataMax"||m<0?m:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]};function iae(e){var{areaSettings:{connectNulls:n,baseValue:a,dataKey:r},stackedData:s,layout:l,chartBaseValue:c,xAxis:d,yAxis:m,displayedData:f,dataStartIndex:h,xAxisTicks:g,yAxisTicks:y,bandSize:v}=e,j=s&&s.length,b=sae(l,c,a,d,m),w=l==="horizontal",M=!1,S=f.map((E,D)=>{var P;j?P=s[h+D]:(P=At(E,r),Array.isArray(P)?M=!0:P=[b,P]);var T=P[1]==null||j&&!n&&At(E,r)==null;return w?{x:Rc({axis:d,ticks:g,bandSize:v,entry:E,index:D}),y:T?null:m.scale(P[1]),value:P,payload:E}:{x:T?null:d.scale(P[1]),y:Rc({axis:m,ticks:y,bandSize:v,entry:E,index:D}),value:P,payload:E}}),A;return j||M?A=S.map(E=>{var D=Array.isArray(E.value)?E.value[0]:null;return w?{x:E.x,y:D!=null&&E.y!=null?m.scale(D):null,payload:E.payload}:{x:D!=null?d.scale(D):null,y:E.y,payload:E.payload}}):A=w?m.scale(b):d.scale(b),{points:S,baseLine:A,isRange:M}}function lae(e){var n=Lt(e,JR),a=Cn();return x.createElement(Co,{id:n.id,type:"area"},r=>x.createElement(x.Fragment,null,x.createElement(Nx,{legendPayload:Yne(n)}),x.createElement(Gne,{dataKey:n.dataKey,data:n.data,stroke:n.stroke,strokeWidth:n.strokeWidth,fill:n.fill,name:n.name,hide:n.hide,unit:n.unit,tooltipType:n.tooltipType}),x.createElement(wx,{type:"area",id:r,data:n.data,dataKey:n.dataKey,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,stackId:Gp(n.stackId),hide:n.hide,barSize:void 0,baseValue:n.baseValue,isPanorama:a,connectNulls:n.connectNulls}),x.createElement(rae,ao({},n,{id:r}))))}var Ua=x.memo(lae,sd);Ua.displayName="Area";var oae=["option","isActive"];function Nu(){return Nu=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Nu.apply(null,arguments)}function cae(e,n){if(e==null)return{};var a,r,s=dae(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function dae(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function uae(e){var{option:n,isActive:a}=e,r=cae(e,oae);return typeof n=="string"?x.createElement(Bc,Nu({option:x.createElement(zp,Nu({type:n},r)),isActive:a,shapeType:"symbols"},r)):x.createElement(Bc,Nu({option:n,isActive:a,shapeType:"symbols"},r))}var mae=(e,n,a,r,s,l,c)=>Br(e,"xAxis",n,c),fae=(e,n,a,r,s,l,c)=>zr(e,"xAxis",n,c),hae=(e,n,a,r,s,l,c)=>Br(e,"yAxis",a,c),pae=(e,n,a,r,s,l,c)=>zr(e,"yAxis",a,c),xae=(e,n,a,r)=>lK(e,"zAxis",r,!1),gae=(e,n,a,r,s)=>s,yae=(e,n,a,r,s,l)=>l,vae=(e,n,a,r,s,l,c)=>Kc(e,n,a,c),bae=te([Jc,gae],(e,n)=>e.filter(a=>a.type==="scatter").find(a=>a.id===n)),jae=te([vae,mae,fae,hae,pae,xae,bae,yae],(e,n,a,r,s,l,c,d)=>{var{chartData:m,dataStartIndex:f,dataEndIndex:h}=e;if(c!=null){var g;if(c?.data!=null&&c.data.length>0?g=c.data:g=m?.slice(f,h+1),!(g==null||n==null||r==null||a==null||s==null||a?.length===0||s?.length===0))return Tae({displayedData:g,xAxis:n,yAxis:r,zAxis:l,scatterSettings:c,xAxisTicks:a,yAxisTicks:s,cells:d})}}),Nae=["onMouseEnter","onClick","onMouseLeave"],wae=["id"],Sae=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function nj(e,n){if(e==null)return{};var a,r,s=Aae(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Aae(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function fo(){return fo=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},fo.apply(null,arguments)}function GD(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Fa(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?GD(Object(a),!0).forEach(function(r){Cae(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):GD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Cae(e,n,a){return(n=Mae(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function Mae(e){var n=Dae(e,"string");return typeof n=="symbol"?n:n+""}function Dae(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var Eae=e=>{var{dataKey:n,name:a,fill:r,legendType:s,hide:l}=e;return[{inactive:l,dataKey:n,type:s,color:r,value:xr(a,n),payload:e}]},Oae=x.memo(e=>{var{dataKey:n,points:a,stroke:r,strokeWidth:s,fill:l,name:c,hide:d,tooltipType:m}=e,f={dataDefinedOnItem:a?.map(h=>h.tooltipPayload),positions:a?.map(h=>h.tooltipPosition),settings:{stroke:r,strokeWidth:s,fill:l,nameKey:void 0,dataKey:n,name:xr(c,n),hide:d,type:m,color:l,unit:""}};return x.createElement(Ao,{tooltipEntrySettings:f})});function Pae(e){var{points:n,props:a}=e,{line:r,lineType:s,lineJointType:l}=a;if(!r)return null;var c=Ht(a),d=is(r),m,f;if(s==="joint")m=n.map(w=>{var M,S;return{x:(M=w.cx)!==null&&M!==void 0?M:null,y:(S=w.cy)!==null&&S!==void 0?S:null}});else if(s==="fitting"){var{xmin:h,xmax:g,a:y,b:v}=xI(n),j=w=>y*w+v;m=[{x:h,y:j(h)},{x:g,y:j(g)}]}var b=Fa(Fa(Fa({},c),{},{fill:"none",stroke:c&&c.fill},d),{},{points:m});return x.isValidElement(r)?f=x.cloneElement(r,b):typeof r=="function"?f=r(b):f=x.createElement(eo,fo({},b,{type:l})),x.createElement(xt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}function kae(e){var{showLabels:n,points:a,children:r}=e,s=sm(),l=x.useMemo(()=>a?.map(c=>{var d,m,f={x:(d=c.x)!==null&&d!==void 0?d:0,y:(m=c.y)!==null&&m!==void 0?m:0,width:c.width,height:c.height,lowerWidth:c.width,upperWidth:c.width};return Fa(Fa({},f),{},{value:void 0,payload:c.payload,viewBox:f,parentViewBox:s,fill:void 0})}),[s,a]);return x.createElement(jm,{value:n?l:void 0},r)}function Rae(e){var{points:n,allOtherScatterProps:a}=e,{shape:r,activeShape:s,dataKey:l}=a,c=Pe(Os),{onMouseEnter:d,onClick:m,onMouseLeave:f}=a,h=nj(a,Nae),g=Am(d,a.dataKey),y=Cm(f),v=Mm(m,a.dataKey);if(!EI(n))return null;var{id:j}=a,b=nj(a,wae),w=Ht(b);return x.createElement(x.Fragment,null,x.createElement(Pae,{points:n,props:b}),n.map((M,S)=>{var A=s!=null&&s!==!1,E=A&&c===String(S),D=A&&E?s:r,P=Fa(Fa(Fa({},w),M),{},{[Yj]:S,[Gj]:String(l)});return x.createElement(yn,{key:"symbol-".concat(M?.cx,"-").concat(M?.cy,"-").concat(M?.size,"-").concat(S),zIndex:E?Bt.activeDot:void 0},x.createElement(xt,fo({className:"recharts-scatter-symbol"},ks(h,M,S),{onMouseEnter:g(M,S),onMouseLeave:y(M,S),onClick:v(M,S)}),x.createElement(uae,fo({option:D,isActive:E},P))))}))}function _ae(e){var{previousPointsRef:n,props:a}=e,{points:r,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d}=a,m=n.current,f=ki(a,"recharts-scatter-"),[h,g]=x.useState(!1),y=x.useCallback(()=>{g(!1)},[]),v=x.useCallback(()=>{g(!0)},[]),j=!h;return x.createElement(kae,{showLabels:j,points:r},a.children,x.createElement(Pi,{animationId:f,begin:l,duration:c,isActive:s,easing:d,onAnimationEnd:y,onAnimationStart:v,key:f},b=>{var w=b===1?r:r?.map((M,S)=>{var A=m&&m[S];return A?Fa(Fa({},M),{},{cx:M.cx==null?void 0:mt(A.cx,M.cx,b),cy:M.cy==null?void 0:mt(A.cy,M.cy,b),size:mt(A.size,M.size,b)}):Fa(Fa({},M),{},{size:mt(0,M.size,b)})});return b>0&&(n.current=w),x.createElement(xt,null,x.createElement(Rae,{points:w,allOtherScatterProps:a,showLabels:j}))}),x.createElement(wo,{label:a.label}))}function Tae(e){var{displayedData:n,xAxis:a,yAxis:r,zAxis:s,scatterSettings:l,xAxisTicks:c,yAxisTicks:d,cells:m}=e,f=Ot(a.dataKey)?l.dataKey:a.dataKey,h=Ot(r.dataKey)?l.dataKey:r.dataKey,g=s&&s.dataKey,y=s?s.range:ci.range,v=y&&y[0],j=a.scale.bandwidth?a.scale.bandwidth():0,b=r.scale.bandwidth?r.scale.bandwidth():0;return n.map((w,M)=>{var S=At(w,f),A=At(w,h),E=!Ot(g)&&At(w,g)||"-",D=[{name:Ot(a.dataKey)?l.name:a.name||String(a.dataKey),unit:a.unit||"",value:S,payload:w,dataKey:f,type:l.tooltipType},{name:Ot(r.dataKey)?l.name:r.name||String(r.dataKey),unit:r.unit||"",value:A,payload:w,dataKey:h,type:l.tooltipType}];E!=="-"&&D.push({name:s.name||s.dataKey,unit:s.unit||"",value:E,payload:w,dataKey:g,type:l.tooltipType});var P=Rc({axis:a,ticks:c,bandSize:j,entry:w,index:M,dataKey:f}),T=Rc({axis:r,ticks:d,bandSize:b,entry:w,index:M,dataKey:h}),O=E!=="-"?s.scale(E):v,k=Math.sqrt(Math.max(O,0)/Math.PI);return Fa(Fa({},w),{},{cx:P,cy:T,x:P==null?void 0:P-k,y:T==null?void 0:T-k,width:2*k,height:2*k,size:O,node:{x:S,y:A,z:E},tooltipPayload:D,tooltipPosition:{x:P,y:T},payload:w},m&&m[M]&&m[M].props)})}var Lae=(e,n,a)=>({x:e.cx,y:e.cy,value:Number(a==="x"?e.node.x:e.node.y),errorVal:At(e,n)});function Iae(e){var{hide:n,points:a,className:r,needClip:s,xAxisId:l,yAxisId:c,id:d}=e,m=x.useRef(null);if(n)return null;var f=ot("recharts-scatter",r),h=d;return x.createElement(yn,{zIndex:e.zIndex},x.createElement(xt,{className:f,clipPath:s?"url(#clipPath-".concat(h,")"):void 0,id:d},s&&x.createElement("defs",null,x.createElement(Cx,{clipPathId:h,xAxisId:l,yAxisId:c})),x.createElement(N1,{xAxisId:l,yAxisId:c,data:a,dataPointFormatter:Lae,errorBarOffset:0},x.createElement(xt,{key:"recharts-scatter-symbols"},x.createElement(_ae,{props:e,previousPointsRef:m})))))}var e6={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:Bt.scatter};function zae(e){var n=Lt(e,e6),{animationBegin:a,animationDuration:r,animationEasing:s,hide:l,isAnimationActive:c,legendType:d,lineJointType:m,lineType:f,shape:h,xAxisId:g,yAxisId:y,zAxisId:v}=n,j=nj(n,Sae),{needClip:b}=Dm(g,y),w=x.useMemo(()=>Sm(e.children,kn),[e.children]),M=Cn(),S=Pe(A=>jae(A,g,y,v,e.id,w,M));return b==null||S==null?null:x.createElement(x.Fragment,null,x.createElement(Oae,{dataKey:e.dataKey,points:S,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),x.createElement(Iae,fo({},j,{xAxisId:g,yAxisId:y,zAxisId:v,lineType:f,lineJointType:m,legendType:d,shape:h,hide:l,isAnimationActive:c,animationBegin:a,animationDuration:r,animationEasing:s,points:S,needClip:b})))}function Bae(e){var n=Lt(e,e6),a=Cn();return x.createElement(Co,{id:n.id,type:"scatter"},r=>x.createElement(x.Fragment,null,x.createElement(Nx,{legendPayload:Eae(n)}),x.createElement(wx,{type:"scatter",id:r,data:n.data,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:n.zAxisId,dataKey:n.dataKey,hide:n.hide,name:n.name,tooltipType:n.tooltipType,isPanorama:a}),x.createElement(zae,fo({},n,{id:r}))))}var t6=x.memo(Bae,sd);t6.displayName="Scatter";var $ae=["domain","range"],Fae=["domain","range"];function ZD(e,n){if(e==null)return{};var a,r,s=qae(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function qae(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function XD(e,n){return e===n?!0:Array.isArray(e)&&e.length===2&&Array.isArray(n)&&n.length===2?e[0]===n[0]&&e[1]===n[1]:!1}function n6(e,n){if(e===n)return!0;var{domain:a,range:r}=e,s=ZD(e,$ae),{domain:l,range:c}=n,d=ZD(n,Fae);return!XD(a,l)||!XD(r,c)?!1:sd(s,d)}var Hae=["dangerouslySetInnerHTML","ticks"],Uae=["id"];function aj(){return aj=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},aj.apply(null,arguments)}function QD(e,n){if(e==null)return{};var a,r,s=Vae(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Vae(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Kae(e){var n=Ut(),a=x.useRef(null);return x.useLayoutEffect(()=>{a.current===null?n(sQ(e)):a.current!==e&&n(iQ({prev:a.current,next:e})),a.current=e},[e,n]),x.useLayoutEffect(()=>()=>{a.current&&(n(lQ(a.current)),a.current=null)},[n]),null}var Wae=e=>{var{xAxisId:n,className:a}=e,r=Pe(Zj),s=Cn(),l="xAxis",c=Pe(w=>td(w,l,n,s)),d=Pe(w=>ck(w,l,n,s)),m=Pe(w=>sk(w,n)),f=Pe(w=>aK(w,n)),h=Pe(w=>FP(w,n));if(m==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:g,ticks:y}=e,v=QD(e,Hae),{id:j}=h,b=QD(h,Uae);return x.createElement(D1,aj({},v,b,{scale:c,x:f.x,y:f.y,width:m.width,height:m.height,className:ot("recharts-".concat(l," ").concat(l),a),viewBox:r,ticks:d,axisType:l}))},Yae={allowDataOverflow:ta.allowDataOverflow,allowDecimals:ta.allowDecimals,allowDuplicatedCategory:ta.allowDuplicatedCategory,angle:ta.angle,axisLine:pi.axisLine,height:ta.height,hide:!1,includeHidden:ta.includeHidden,interval:ta.interval,minTickGap:ta.minTickGap,mirror:ta.mirror,orientation:ta.orientation,padding:ta.padding,reversed:ta.reversed,scale:ta.scale,tick:ta.tick,tickCount:ta.tickCount,tickLine:pi.tickLine,tickSize:pi.tickSize,type:ta.type,xAxisId:0},Gae=e=>{var n=Lt(e,Yae);return x.createElement(x.Fragment,null,x.createElement(Kae,{allowDataOverflow:n.allowDataOverflow,allowDecimals:n.allowDecimals,allowDuplicatedCategory:n.allowDuplicatedCategory,angle:n.angle,dataKey:n.dataKey,domain:n.domain,height:n.height,hide:n.hide,id:n.xAxisId,includeHidden:n.includeHidden,interval:n.interval,minTickGap:n.minTickGap,mirror:n.mirror,name:n.name,orientation:n.orientation,padding:n.padding,reversed:n.reversed,scale:n.scale,tick:n.tick,tickCount:n.tickCount,tickFormatter:n.tickFormatter,ticks:n.ticks,type:n.type,unit:n.unit}),x.createElement(Wae,n))},nn=x.memo(Gae,n6);nn.displayName="XAxis";var Zae=["dangerouslySetInnerHTML","ticks"],Xae=["id"];function rj(){return rj=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},rj.apply(null,arguments)}function JD(e,n){if(e==null)return{};var a,r,s=Qae(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Qae(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Jae(e){var n=Ut(),a=x.useRef(null);return x.useLayoutEffect(()=>{a.current===null?n(oQ(e)):a.current!==e&&n(cQ({prev:a.current,next:e})),a.current=e},[e,n]),x.useLayoutEffect(()=>()=>{a.current&&(n(dQ(a.current)),a.current=null)},[n]),null}var ere=e=>{var{yAxisId:n,className:a,width:r,label:s}=e,l=x.useRef(null),c=x.useRef(null),d=Pe(Zj),m=Cn(),f=Ut(),h="yAxis",g=Pe(D=>td(D,h,n,m)),y=Pe(D=>ik(D,n)),v=Pe(D=>sK(D,n)),j=Pe(D=>ck(D,h,n,m)),b=Pe(D=>qP(D,n));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!y||u1(s)||x.isValidElement(s)||b==null)){var D=l.current;if(D){var P=D.getCalculatedWidth();Math.round(y.width)!==Math.round(P)&&f(hQ({id:n,width:P}))}}},[j,y,f,s,n,r,b]),y==null||v==null||b==null)return null;var{dangerouslySetInnerHTML:w,ticks:M}=e,S=JD(e,Zae),{id:A}=b,E=JD(b,Xae);return x.createElement(D1,rj({},S,E,{ref:l,labelRef:c,scale:g,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:ot("recharts-".concat(h," ").concat(h),a),viewBox:d,ticks:j,axisType:h}))},tre={allowDataOverflow:na.allowDataOverflow,allowDecimals:na.allowDecimals,allowDuplicatedCategory:na.allowDuplicatedCategory,angle:na.angle,axisLine:pi.axisLine,hide:!1,includeHidden:na.includeHidden,interval:na.interval,minTickGap:na.minTickGap,mirror:na.mirror,orientation:na.orientation,padding:na.padding,reversed:na.reversed,scale:na.scale,tick:na.tick,tickCount:na.tickCount,tickLine:pi.tickLine,tickSize:pi.tickSize,type:na.type,width:na.width,yAxisId:0},nre=e=>{var n=Lt(e,tre);return x.createElement(x.Fragment,null,x.createElement(Jae,{interval:n.interval,id:n.yAxisId,scale:n.scale,type:n.type,domain:n.domain,allowDataOverflow:n.allowDataOverflow,dataKey:n.dataKey,allowDuplicatedCategory:n.allowDuplicatedCategory,allowDecimals:n.allowDecimals,tickCount:n.tickCount,padding:n.padding,includeHidden:n.includeHidden,reversed:n.reversed,ticks:n.ticks,width:n.width,orientation:n.orientation,mirror:n.mirror,hide:n.hide,unit:n.unit,name:n.name,angle:n.angle,minTickGap:n.minTickGap,tick:n.tick,tickFormatter:n.tickFormatter}),x.createElement(ere,n))},an=x.memo(nre,n6);an.displayName="YAxis";function are(e){var n=Ut(),a=x.useRef(null);return x.useLayoutEffect(()=>{a.current===null?n(uQ(e)):a.current!==e&&n(mQ({prev:a.current,next:e})),a.current=e},[e,n]),x.useLayoutEffect(()=>()=>{a.current&&(n(fQ(a.current)),a.current=null)},[n]),null}var rre={zAxisId:0,range:ci.range,scale:ci.scale,type:ci.type};function a6(e){var n=Lt(e,rre);return x.createElement(are,{domain:n.domain,id:n.zAxisId,dataKey:n.dataKey,name:n.name,unit:n.unit,range:n.range,scale:n.scale,type:n.type,allowDuplicatedCategory:ci.allowDuplicatedCategory,allowDataOverflow:ci.allowDataOverflow,reversed:ci.reversed,includeHidden:ci.includeHidden})}a6.displayName="ZAxis";var sre=(e,n)=>n,O1=te([sre,rt,jo,Zn,Ck,Ii,vW,Yn],CW),P1=e=>{var n=e.currentTarget.getBoundingClientRect(),a=n.width/e.currentTarget.offsetWidth,r=n.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-n.left)/a),chartY:Math.round((e.clientY-n.top)/r)}},r6=Lr("mouseClick"),s6=am();s6.startListening({actionCreator:r6,effect:(e,n)=>{var a=e.payload,r=O1(n.getState(),P1(a));r?.activeIndex!=null&&n.dispatch(yK({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var sj=Lr("mouseMove"),i6=am(),uh=null;i6.startListening({actionCreator:sj,effect:(e,n)=>{var a=e.payload;uh!==null&&cancelAnimationFrame(uh);var r=P1(a);uh=requestAnimationFrame(()=>{var s=n.getState(),l=e1(s,s.tooltip.settings.shared);if(l==="axis"){var c=O1(s,r);c?.activeIndex!=null?n.dispatch(yk({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):n.dispatch(gk())}uh=null})}});var e4={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},l6=Ya({name:"rootProps",initialState:e4,reducers:{updateOptions:(e,n)=>{var a;e.accessibilityLayer=n.payload.accessibilityLayer,e.barCategoryGap=n.payload.barCategoryGap,e.barGap=(a=n.payload.barGap)!==null&&a!==void 0?a:e4.barGap,e.barSize=n.payload.barSize,e.maxBarSize=n.payload.maxBarSize,e.stackOffset=n.payload.stackOffset,e.syncId=n.payload.syncId,e.syncMethod=n.payload.syncMethod,e.className=n.payload.className,e.baseValue=n.payload.baseValue,e.reverseStackOrder=n.payload.reverseStackOrder}}}),ire=l6.reducer,{updateOptions:lre}=l6.actions,o6=Ya({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,n)=>n.payload}}),{updatePolarOptions:ore}=o6.actions,cre=o6.reducer,c6=Lr("keyDown"),d6=Lr("focus"),k1=am();k1.startListening({actionCreator:c6,effect:(e,n)=>{var a=n.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=a.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=t1(s,ad(a),hm(a),vm(a)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var m=Ii(a);if(l==="Enter"){var f=fp(a,"axis","hover",String(s.index));n.dispatch(Kb({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:f}));return}var h=oK(a),g=h==="left-to-right"?1:-1,y=l==="ArrowRight"?1:-1,v=d+y*g;if(!(m==null||v>=m.length||v<0)){var j=fp(a,"axis","hover",String(v));n.dispatch(Kb({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:j}))}}}}}});k1.startListening({actionCreator:d6,effect:(e,n)=>{var a=n.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=a.tooltip;if(!s.active&&s.index==null){var l="0",c=fp(a,"axis","hover",String(l));n.dispatch(Kb({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:c}))}}}});var Er=Lr("externalEvent"),u6=am(),Iv=new Map;u6.startListening({actionCreator:Er,effect:(e,n)=>{var{handler:a,reactEvent:r}=e.payload;if(a!=null){r.persist();var s=r.type,l=Iv.get(s);l!==void 0&&cancelAnimationFrame(l);var c=requestAnimationFrame(()=>{try{var d=n.getState(),m={activeCoordinate:rW(d),activeDataKey:i1(d),activeIndex:Os(d),activeLabel:Ek(d),activeTooltipIndex:Os(d),isTooltipActive:sW(d)};a(m,r)}finally{Iv.delete(s)}});Iv.set(s,c)}}});var dre=te([nd],e=>e.tooltipItemPayloads),ure=te([dre,gm,(e,n,a)=>n,(e,n,a)=>a],(e,n,a,r)=>{var s=e.find(d=>d.settings.dataKey===r);if(s!=null){var{positions:l}=s;if(l!=null){var c=n(l,a);return c}}}),m6=Lr("touchMove"),f6=am();f6.startListening({actionCreator:m6,effect:(e,n)=>{var a=e.payload;if(!(a.touches==null||a.touches.length===0)){var r=n.getState(),s=e1(r,r.tooltip.settings.shared);if(s==="axis"){var l=O1(r,P1({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,currentTarget:a.currentTarget}));l?.activeIndex!=null&&n.dispatch(yk({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(s==="item"){var c,d=a.touches[0];if(document.elementFromPoint==null)return;var m=document.elementFromPoint(d.clientX,d.clientY);if(!m||!m.getAttribute)return;var f=m.getAttribute(Yj),h=(c=m.getAttribute(Gj))!==null&&c!==void 0?c:void 0,g=ure(n.getState(),f,h);n.dispatch(xk({activeDataKey:h,activeIndex:f,activeCoordinate:g}))}}}});var mre=RE({brush:gte,cartesianAxis:pQ,chartData:aY,errorBars:hJ,graphicalItems:bX,layout:_B,legend:$$,options:QW,polarAxis:sZ,polarOptions:cre,referenceElements:Ste,rootProps:ire,tooltip:vK,zIndex:$W}),fre=function(n){return sB({reducer:mre,preloadedState:n,middleware:a=>{var r;return a({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([s6.middleware,i6.middleware,k1.middleware,u6.middleware,f6.middleware])},enhancers:a=>{var r=a;return typeof a=="function"&&(r=a()),r.concat(YE({type:"raf"}))},devTools:Hc.devToolsEnabled})};function h6(e){var{preloadedState:n,children:a,reduxStoreName:r}=e,s=Cn(),l=x.useRef(null);if(s)return a;l.current==null&&(l.current=fre(n));var c=Bj;return x.createElement(IJ,{context:c,store:l.current},a)}function hre(e){var{layout:n,margin:a}=e,r=Ut(),s=Cn();return x.useEffect(()=>{s||(r(PB(n)),r(OB(a)))},[r,s,n,a]),null}var p6=x.memo(hre,sd);function x6(e){var n=Ut();return x.useEffect(()=>{n(lre(e))},[n,e]),null}function t4(e){var{zIndex:n,isPanorama:a}=e,r=a?"recharts-zindex-panorama-":"recharts-zindex-",s=pR("".concat(r).concat(n)),l=Ut();return x.useLayoutEffect(()=>(l(zW({zIndex:n,elementId:s,isPanorama:a})),()=>{l(BW({zIndex:n,isPanorama:a}))}),[l,n,s,a]),x.createElement("g",{tabIndex:-1,id:s})}function n4(e){var{children:n,isPanorama:a}=e,r=Pe(DW);if(!r||r.length===0)return n;var s=r.filter(c=>c<0),l=r.filter(c=>c>0);return x.createElement(x.Fragment,null,s.map(c=>x.createElement(t4,{key:c,zIndex:c,isPanorama:a})),n,l.map(c=>x.createElement(t4,{key:c,zIndex:c,isPanorama:a})))}var pre=["children"];function xre(e,n){if(e==null)return{};var a,r,s=gre(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function gre(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Mp(){return Mp=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Mp.apply(null,arguments)}var yre={width:"100%",height:"100%",display:"block"},vre=x.forwardRef((e,n)=>{var a=Qj(),r=Jj(),s=DO();if(!Ds(a)||!Ds(r))return null;var{children:l,otherAttributes:c,title:d,desc:m}=e,f,h;return c!=null&&(typeof c.tabIndex=="number"?f=c.tabIndex:f=s?0:void 0,typeof c.role=="string"?h=c.role:h=s?"application":void 0),x.createElement(Ej,Mp({},c,{title:d,desc:m,role:h,tabIndex:f,width:a,height:r,style:yre,ref:n}),l)}),bre=e=>{var{children:n}=e,a=Pe(Jp);if(!a)return null;var{width:r,height:s,y:l,x:c}=a;return x.createElement(Ej,{width:r,height:s,x:c,y:l},n)},a4=x.forwardRef((e,n)=>{var{children:a}=e,r=xre(e,pre),s=Cn();return s?x.createElement(bre,null,x.createElement(n4,{isPanorama:!0},a)):x.createElement(vre,Mp({ref:n},r),x.createElement(n4,{isPanorama:!1},a))});function jre(){var e=Ut(),[n,a]=x.useState(null),r=Pe(GB);return x.useEffect(()=>{if(n!=null){var s=n.getBoundingClientRect(),l=s.width/n.offsetWidth;un(l)&&l!==r&&e(RB(l))}},[n,e,r]),a}function r4(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Nre(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?r4(Object(a),!0).forEach(function(r){wre(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function wre(e,n,a){return(n=Sre(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function Sre(e){var n=Are(e,"string");return typeof n=="symbol"?n:n+""}function Are(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ho.apply(null,arguments)}var Cre=()=>(mY(),null);function Dp(e){if(typeof e=="number")return e;if(typeof e=="string"){var n=parseFloat(e);if(!Number.isNaN(n))return n}return 0}var Mre=x.forwardRef((e,n)=>{var a,r,s=x.useRef(null),[l,c]=x.useState({containerWidth:Dp((a=e.style)===null||a===void 0?void 0:a.width),containerHeight:Dp((r=e.style)===null||r===void 0?void 0:r.height)}),d=x.useCallback((f,h)=>{c(g=>{var y=Math.round(f),v=Math.round(h);return g.containerWidth===y&&g.containerHeight===v?g:{containerWidth:y,containerHeight:v}})},[]),m=x.useCallback(f=>{if(typeof n=="function"&&n(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:g}=f.getBoundingClientRect();d(h,g);var y=j=>{var{width:b,height:w}=j[0].contentRect;d(b,w)},v=new ResizeObserver(y);v.observe(f),s.current=v}},[n,d]);return x.useEffect(()=>()=>{var f=s.current;f?.disconnect()},[d]),x.createElement(x.Fragment,null,x.createElement(ex,{width:l.containerWidth,height:l.containerHeight}),x.createElement("div",ho({ref:m},e)))}),Dre=x.forwardRef((e,n)=>{var{width:a,height:r}=e,[s,l]=x.useState({containerWidth:Dp(a),containerHeight:Dp(r)}),c=x.useCallback((m,f)=>{l(h=>{var g=Math.round(m),y=Math.round(f);return h.containerWidth===g&&h.containerHeight===y?h:{containerWidth:g,containerHeight:y}})},[]),d=x.useCallback(m=>{if(typeof n=="function"&&n(m),m!=null){var{width:f,height:h}=m.getBoundingClientRect();c(f,h)}},[n,c]);return x.createElement(x.Fragment,null,x.createElement(ex,{width:s.containerWidth,height:s.containerHeight}),x.createElement("div",ho({ref:d},e)))}),Ere=x.forwardRef((e,n)=>{var{width:a,height:r}=e;return x.createElement(x.Fragment,null,x.createElement(ex,{width:a,height:r}),x.createElement("div",ho({ref:n},e)))}),Ore=x.forwardRef((e,n)=>{var{width:a,height:r}=e;return bi(a)||bi(r)?x.createElement(Dre,ho({},e,{ref:n})):x.createElement(Ere,ho({},e,{ref:n}))});function Pre(e){return e===!0?Mre:Ore}var kre=x.forwardRef((e,n)=>{var{children:a,className:r,height:s,onClick:l,onContextMenu:c,onDoubleClick:d,onMouseDown:m,onMouseEnter:f,onMouseLeave:h,onMouseMove:g,onMouseUp:y,onTouchEnd:v,onTouchMove:j,onTouchStart:b,style:w,width:M,responsive:S,dispatchTouchEvents:A=!0}=e,E=x.useRef(null),D=Ut(),[P,T]=x.useState(null),[O,k]=x.useState(null),B=jre(),I=Xj(),z=I?.width>0?I.width:M,J=I?.height>0?I.height:s,L=x.useCallback(ne=>{B(ne),typeof n=="function"&&n(ne),T(ne),k(ne),ne!=null&&(E.current=ne)},[B,n,T,k]),G=x.useCallback(ne=>{D(r6(ne)),D(Er({handler:l,reactEvent:ne}))},[D,l]),W=x.useCallback(ne=>{D(sj(ne)),D(Er({handler:f,reactEvent:ne}))},[D,f]),R=x.useCallback(ne=>{D(gk()),D(Er({handler:h,reactEvent:ne}))},[D,h]),F=x.useCallback(ne=>{D(sj(ne)),D(Er({handler:g,reactEvent:ne}))},[D,g]),q=x.useCallback(()=>{D(d6())},[D]),Y=x.useCallback(ne=>{D(c6(ne.key))},[D]),ae=x.useCallback(ne=>{D(Er({handler:c,reactEvent:ne}))},[D,c]),je=x.useCallback(ne=>{D(Er({handler:d,reactEvent:ne}))},[D,d]),V=x.useCallback(ne=>{D(Er({handler:m,reactEvent:ne}))},[D,m]),fe=x.useCallback(ne=>{D(Er({handler:y,reactEvent:ne}))},[D,y]),Ne=x.useCallback(ne=>{D(Er({handler:b,reactEvent:ne}))},[D,b]),se=x.useCallback(ne=>{A&&D(m6(ne)),D(Er({handler:j,reactEvent:ne}))},[D,A,j]),Se=x.useCallback(ne=>{D(Er({handler:v,reactEvent:ne}))},[D,v]),Ae=Pre(S);return x.createElement(Ik.Provider,{value:P},x.createElement(Z4.Provider,{value:O},x.createElement(Ae,{width:z??w?.width,height:J??w?.height,className:ot("recharts-wrapper",r),style:Nre({position:"relative",cursor:"default",width:z,height:J},w),onClick:G,onContextMenu:ae,onDoubleClick:je,onFocus:q,onKeyDown:Y,onMouseDown:V,onMouseEnter:W,onMouseLeave:R,onMouseMove:F,onMouseUp:fe,onTouchEnd:Se,onTouchMove:se,onTouchStart:Ne,ref:L},x.createElement(Cre,null),a)))}),Rre=["width","height","responsive","children","className","style","compact","title","desc"];function _re(e,n){if(e==null)return{};var a,r,s=Tre(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Tre(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var g6=x.forwardRef((e,n)=>{var{width:a,height:r,responsive:s,children:l,className:c,style:d,compact:m,title:f,desc:h}=e,g=_re(e,Rre),y=Ht(g);return m?x.createElement(x.Fragment,null,x.createElement(ex,{width:a,height:r}),x.createElement(a4,{otherAttributes:y,title:f,desc:h},l)):x.createElement(kre,{className:c,style:d,width:a,height:r,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(a4,{otherAttributes:y,title:f,desc:h,ref:n},x.createElement(Cte,null,l)))});function ij(){return ij=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ij.apply(null,arguments)}var Lre={top:5,right:5,bottom:5,left:5},Ire={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Lre,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Ex=x.forwardRef(function(n,a){var r,s=Lt(n.categoricalChartProps,Ire),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:m,categoricalChartProps:f}=n,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:m,eventEmitter:void 0};return x.createElement(h6,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:l},x.createElement(TR,{chartData:f.data}),x.createElement(p6,{layout:s.layout,margin:s.margin}),x.createElement(x6,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),x.createElement(g6,ij({},s,{ref:a})))}),zre=["axis"],Yu=x.forwardRef((e,n)=>x.createElement(Ex,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zre,tooltipPayloadSearcher:No,categoricalChartProps:e,ref:n})),Bre=["axis","item"],Rr=x.forwardRef((e,n)=>x.createElement(Ex,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Bre,tooltipPayloadSearcher:No,categoricalChartProps:e,ref:n}));function $re(e){var n=Ut();return x.useEffect(()=>{n(ore(e))},[n,e]),null}var Fre=["layout"];function lj(){return lj=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},lj.apply(null,arguments)}function qre(e,n){if(e==null)return{};var a,r,s=Hre(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Hre(e,n){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Ure={top:5,right:5,bottom:5,left:5},Ox={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ure,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},R1=x.forwardRef(function(n,a){var r,s=Lt(n.categoricalChartProps,Ox),{layout:l}=s,c=qre(s,Fre),{chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=n,g={chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return x.createElement(h6,{preloadedState:{options:g},reduxStoreName:(r=s.id)!==null&&r!==void 0?r:d},x.createElement(TR,{chartData:s.data}),x.createElement(p6,{layout:l,margin:s.margin}),x.createElement(x6,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),x.createElement($re,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),x.createElement(g6,lj({},c,{ref:a})))});function s4(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function i4(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?s4(Object(a),!0).forEach(function(r){Vre(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Vre(e,n,a){return(n=Kre(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function Kre(e){var n=Wre(e,"string");return typeof n=="symbol"?n:n+""}function Wre(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var Yre=["item"],Gre=i4(i4({},Ox),{},{layout:"centric",startAngle:0,endAngle:360}),fr=x.forwardRef((e,n)=>{var a=Lt(e,Gre);return x.createElement(R1,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Yre,tooltipPayloadSearcher:No,categoricalChartProps:a,ref:n})});function l4(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function o4(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?l4(Object(a),!0).forEach(function(r){Zre(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Zre(e,n,a){return(n=Xre(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function Xre(e){var n=Qre(e,"string");return typeof n=="symbol"?n:n+""}function Qre(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var Jre=["axis"],ese=o4(o4({},Ox),{},{layout:"centric",startAngle:90,endAngle:-270}),tse=x.forwardRef((e,n)=>{var a=Lt(e,ese);return x.createElement(R1,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Jre,tooltipPayloadSearcher:No,categoricalChartProps:a,ref:n})}),nse=["item"],ase=x.forwardRef((e,n)=>x.createElement(Ex,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:nse,tooltipPayloadSearcher:No,categoricalChartProps:e,ref:n})),rse=["axis"],Mo=x.forwardRef((e,n)=>x.createElement(Ex,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rse,tooltipPayloadSearcher:No,categoricalChartProps:e,ref:n}));function c4(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function d4(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?c4(Object(a),!0).forEach(function(r){sse(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function sse(e,n,a){return(n=ise(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function ise(e){var n=lse(e,"string");return typeof n=="symbol"?n:n+""}function lse(e,n){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var ose=["axis","item"],cse=d4(d4({},Ox),{},{layout:"radial",startAngle:0,endAngle:360}),dse=x.forwardRef((e,n)=>{var a=Lt(e,cse);return x.createElement(R1,{chartName:"RadialBarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ose,tooltipPayloadSearcher:No,categoricalChartProps:a,ref:n})});const u4=["#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899","#f43f5e","#f97316","#eab308"];function use(){const{exEmployees:e}=ve(),[n,a]=x.useState(""),[r,s]=x.useState("all"),[l,c]=x.useState("all"),[d,m]=x.useState(null),[f,h]=x.useState(!1),g=x.useMemo(()=>e.filter(b=>{if(n){const w=n.toLowerCase();if(!b.name?.toLowerCase().includes(w)&&!b.department?.toLowerCase().includes(w)&&!b.designation?.toLowerCase().includes(w))return!1}return!(r!=="all"&&b.department!==r||l!=="all"&&b.faculty!==l)}),[e,n,r,l]),y=x.useMemo(()=>{const b={};e.forEach(O=>{const k=O.exitReason||"Other";b[k]=(b[k]||0)+1});const w=Object.entries(b).map(([O,k])=>({name:O,value:k})),M={};e.forEach(O=>{M[O.department]=(M[O.department]||0)+1});const S=Object.entries(M).map(([O,k])=>({name:O,count:k})).sort((O,k)=>k.count-O.count).slice(0,8),A=e.length?(e.reduce((O,k)=>O+(k.yearsOfService||0),0)/e.length).toFixed(1):0,E=e.filter(O=>O.exitSurvey?.satisfaction),D=E.length?(E.reduce((O,k)=>O+k.exitSurvey.satisfaction,0)/E.length).toFixed(1):0,P=e.filter(O=>O.exitSurvey?.wouldRecommend).length,T=e.length?Math.round(P/e.length*100):0;return{reasonData:w,deptData:S,avgTenure:A,avgSatisfaction:D,recommendPct:T}},[e]),v=()=>{const b=g.map(E=>({Name:E.name,Email:E.email,Department:E.department,Faculty:E.faculty,Designation:E.designation,"Join Date":E.joinDate,"Exit Date":E.exitDate,"Years of Service":E.yearsOfService,"Exit Reason":E.exitReason,Satisfaction:E.exitSurvey?.satisfaction||"N/A","Would Recommend":E.exitSurvey?.wouldRecommend?"Yes":"No"})),w=Ps.unparse(b),M=new Blob([w],{type:"text/csv"}),S=URL.createObjectURL(M),A=document.createElement("a");A.href=S,A.download=`ex-employees-${U(new Date,"yyyy-MM-dd")}.csv`,A.click()},j=Object.values(bs).flat();return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ex-Employees"}),t.jsx("p",{className:"text-gray-600",children:"Former employees and exit analytics"})]}),t.jsxs(Z,{variant:"outline",onClick:v,className:"gap-2",children:[t.jsx(Gt,{className:"w-5 h-5"}),"Export CSV"]})]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Total Ex-Employees",value:e.length,icon:ts,color:"indigo"},{label:"Avg. Tenure",value:`${y.avgTenure} yrs`,icon:nt,color:"purple"},{label:"Avg. Satisfaction",value:`${y.avgSatisfaction}/5`,icon:Va,color:"blue"},{label:"Would Recommend",value:`${y.recommendPct}%`,icon:gl,color:"green"}].map(b=>t.jsx(H,{className:`bg-${b.color}-50 border-${b.color}-100`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:`text-sm text-${b.color}-600`,children:b.label}),t.jsx("p",{className:`text-2xl font-bold text-${b.color}-700`,children:b.value})]}),t.jsx(b.icon,{className:`w-8 h-8 text-${b.color}-400`})]})},b.label))}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(H,{title:"Exit Reasons",subtitle:"Distribution of departure reasons",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(fr,{children:[t.jsx(Wa,{data:y.reasonData,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:b,percent:w})=>`${b} (${(w*100).toFixed(0)}%)`,children:y.reasonData.map((b,w)=>t.jsx(kn,{fill:u4[w%u4.length]},w))}),t.jsx(pt,{})]})})})}),t.jsx(H,{title:"Department Distribution",subtitle:"Ex-employees by department",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(Rr,{data:y.deptData,layout:"vertical",children:[t.jsx(tn,{strokeDasharray:"3 3"}),t.jsx(nn,{type:"number"}),t.jsx(an,{type:"category",dataKey:"name",width:60}),t.jsx(pt,{}),t.jsx(ra,{dataKey:"count",fill:"#6366f1",radius:[0,4,4,0]})]})})})})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsx(Rn,{type:"text",placeholder:"Search ex-employees...",value:n,onChange:b=>a(b.target.value),className:"flex-1",inputClassName:"pr-4 py-2 text-sm"}),t.jsxs("select",{value:l,onChange:b=>c(b.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"all",children:"All Faculties"}),Object.keys(bs).map(b=>t.jsx("option",{value:b,children:b},b))]}),t.jsxs("select",{value:r,onChange:b=>s(b.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"all",children:"All Departments"}),j.map(b=>t.jsx("option",{value:b,children:b},b))]})]}),t.jsx(H,{title:`Ex-Employees Directory (${g.length})`,children:g.length===0?t.jsx(Qu,{icon:ts,title:"No Ex-Employees Found",description:"No former employees match your search criteria"}):t.jsx("div",{className:"space-y-4",children:g.map(b=>t.jsx("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{m(b),h(!0)},children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-indigo-400 to-purple-400 flex items-center justify-center text-white font-bold",children:b.name?.charAt(0)}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:b.name}),t.jsxs("p",{className:"text-sm text-gray-500",children:[b.designation,"  ",b.department]}),t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-400 mt-1",children:[t.jsx(vj,{className:"w-4 h-4"}),b.email]})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"text-sm text-gray-500",children:[t.jsx(nt,{className:"w-4 h-4 inline mr-1"}),b.yearsOfService," years"]}),t.jsxs("div",{className:"text-sm text-gray-500",children:["Left:"," ",b.exitDate?U(me(b.exitDate),"MMM yyyy"):"N/A"]}),t.jsx(le,{variant:"default",children:b.exitReason}),b.exitSurvey&&t.jsx(xi,{className:"w-5 h-5 text-green-500",title:"Survey completed"})]})]})},b.id))})}),t.jsx(ft,{isOpen:f,onClose:()=>h(!1),title:"Ex-Employee Details",size:"lg",children:d&&t.jsxs("div",{className:"space-y-6",children:[d.publications&&d.publications.length>0&&t.jsxs("div",{className:"border rounded-xl p-4",children:[t.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(gl,{className:"w-5 h-5 text-blue-500"}),"Publications"]}),t.jsx("ul",{className:"divide-y",children:d.publications.map((b,w)=>t.jsxs("li",{className:"py-2",children:[t.jsx("div",{className:"font-semibold",children:b.type==="book"?b.bookTitle:(b.type==="research"||b.type==="conference",b.title)}),t.jsxs("div",{className:"text-sm text-gray-600",children:[b.type==="book"&&b.author,b.type==="research"&&b.journalAddress,b.type==="conference"&&b.conferenceAddress]}),b.type==="book"&&b.website&&t.jsx("a",{href:b.website,className:"text-blue-600 text-xs",target:"_blank",rel:"noopener noreferrer",children:b.website}),b.type==="research"&&b.doi&&t.jsx("a",{href:b.doi,className:"text-blue-600 text-xs",target:"_blank",rel:"noopener noreferrer",children:b.doi}),b.type==="conference"&&b.webLink&&t.jsx("a",{href:b.webLink,className:"text-blue-600 text-xs",target:"_blank",rel:"noopener noreferrer",children:b.webLink})]},w))})]}),t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-linear-to-r from-indigo-50 to-purple-50 rounded-xl",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-linear-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-2xl font-bold",children:d.name?.charAt(0)}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:d.name}),t.jsx("p",{className:"text-gray-500",children:d.designation}),t.jsx("p",{className:"text-sm text-gray-400",children:d.email})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Department"}),t.jsx("p",{className:"font-medium",children:d.department})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Faculty"}),t.jsx("p",{className:"font-medium",children:d.faculty})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Join Date"}),t.jsx("p",{className:"font-medium",children:d.joinDate?U(me(d.joinDate),"MMM d, yyyy"):"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Exit Date"}),t.jsx("p",{className:"font-medium",children:d.exitDate?U(me(d.exitDate),"MMM d, yyyy"):"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Years of Service"}),t.jsxs("p",{className:"font-medium",children:[d.yearsOfService," years"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Exit Reason"}),t.jsx("p",{className:"font-medium",children:d.exitReason})]})]}),d.exitSurvey&&t.jsxs("div",{className:"border rounded-xl p-4",children:[t.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(xi,{className:"w-5 h-5 text-green-500"}),"Exit Survey Responses"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Satisfaction",value:d.exitSurvey.satisfaction},{label:"Management",value:d.exitSurvey.management},{label:"Environment",value:d.exitSurvey.workEnvironment},{label:"Growth",value:d.exitSurvey.growth}].map(b=>t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:b.label}),t.jsx("div",{className:"flex justify-center gap-1",children:[1,2,3,4,5].map(w=>t.jsx("span",{className:`w-5 h-5 rounded text-xs flex items-center justify-center ${w<=(b.value||0)?"bg-yellow-400 text-white":"bg-gray-200 text-gray-400"}`,children:""},w))})]},b.label))}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Would Recommend"}),t.jsx("p",{className:"font-medium",children:d.exitSurvey.wouldRecommend?" Yes":" No"})]}),t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Would Return"}),t.jsx("p",{className:"font-medium",children:d.exitSurvey.wouldReturn?" Yes":" No"})]})]}),d.exitSurvey.feedback&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-blue-800 font-medium mb-1",children:"Feedback"}),t.jsx("p",{className:"text-sm text-blue-700",children:d.exitSurvey.feedback})]})]})]})]})})]})}const yc=["#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899","#f43f5e","#f97316","#eab308","#22c55e","#14b8a6"];function mse(){const{employees:e,exEmployees:n,resignations:a,promotions:r}=ve(),s=ve(M=>M.getPerformanceAnalytics),[l,c]=x.useState("12"),d=x.useMemo(()=>{const M=e.filter(D=>D.status==="Active").length,S=e.filter(D=>D.status==="On Leave").length,A=e.length,E=n.length;return{active:M,onLeave:S,total:A,totalExEmployees:E}},[e,n]),m=x.useMemo(()=>{const M=parseInt(l),S=[];for(let A=M-1;A>=0;A--){const E=po(new Date,A),D=qa(E),P=Ha(E),T=e.filter(k=>{if(!k.joinDate)return!1;const B=me(k.joinDate);return ws(B,{start:D,end:P})}).length,O=n.filter(k=>{if(!k.exitDate)return!1;const B=me(k.exitDate);return ws(B,{start:D,end:P})}).length;S.push({month:U(E,"MMM yyyy"),shortMonth:U(E,"MMM"),hired:T,left:O,netChange:T-O})}return S},[e,n,l]),f=x.useMemo(()=>{const M={};return e.forEach(S=>{M[S.department]=(M[S.department]||0)+1}),Object.entries(M).map(([S,A])=>({name:S,value:A})).sort((S,A)=>A.value-S.value)},[e]),h=x.useMemo(()=>{const M={};return e.forEach(S=>{M[S.faculty]=(M[S.faculty]||0)+1}),Object.entries(M).map(([S,A])=>({name:S,value:A})).sort((S,A)=>A.value-S.value)},[e]),g=x.useMemo(()=>{const M={};return n.forEach(S=>{const A=S.exitReason||"Other";M[A]=(M[A]||0)+1}),Object.entries(M).map(([S,A])=>({name:S,value:A})).sort((S,A)=>A.value-S.value)},[n]),y=x.useMemo(()=>{const M={};return e.forEach(S=>{M[S.designation]=(M[S.designation]||0)+1}),Object.entries(M).map(([S,A])=>({name:S,value:A})).sort((S,A)=>A.value-S.value).slice(0,8)},[e]),v=x.useMemo(()=>{const M=e.filter(S=>S.joinDate).map(S=>(new Date-me(S.joinDate))/315576e5);return M.length===0?0:(M.reduce((S,A)=>S+A,0)/M.length).toFixed(1)},[e]),j=x.useMemo(()=>{const M=r.filter(A=>A.status==="Pending"||A.status==="Under Review").length,S=a.filter(A=>A.status==="Pending"||A.status==="Approved").length;return{pendingPromotions:M,pendingResignations:S}},[r,a]),b=x.useMemo(()=>{const M=m.reduce((E,D)=>E+D.hired,0),S=m.reduce((E,D)=>E+D.left,0),A=M-S;return{totalHired:M,totalLeft:S,netChange:A}},[m]),w=x.useMemo(()=>s(),[s]);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Workforce Analytics"}),t.jsx("p",{className:"text-gray-600",children:"Comprehensive overview of employee statistics"})]}),t.jsxs("select",{value:l,onChange:M=>c(M.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"6",children:"Last 6 Months"}),t.jsx("option",{value:"12",children:"Last 12 Months"}),t.jsx("option",{value:"24",children:"Last 24 Months"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx(H,{className:"bg-linear-to-br from-indigo-50 to-indigo-100 border-indigo-200",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-indigo-700",children:"Current Workforce"}),t.jsx("p",{className:"text-3xl font-bold text-indigo-900 mt-1",children:d.total}),t.jsxs("p",{className:"text-xs text-indigo-600 mt-1",children:[d.active," active"]})]}),t.jsx("div",{className:"p-3 bg-indigo-500 rounded-lg",children:t.jsx(rn,{className:"w-6 h-6 text-white"})})]})}),t.jsx(H,{className:"bg-linear-to-br from-green-50 to-green-100 border-green-200",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700",children:"New Hires"}),t.jsx("p",{className:"text-3xl font-bold text-green-900 mt-1",children:b.totalHired}),t.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["in last ",l," months"]})]}),t.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:t.jsx(Mh,{className:"w-6 h-6 text-white"})})]})}),t.jsx(H,{className:"bg-linear-to-br from-red-50 to-red-100 border-red-200",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-red-700",children:"Departures"}),t.jsx("p",{className:"text-3xl font-bold text-red-900 mt-1",children:b.totalLeft}),t.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["in last ",l," months"]})]}),t.jsx("div",{className:"p-3 bg-red-500 rounded-lg",children:t.jsx(z4,{className:"w-6 h-6 text-white"})})]})}),t.jsx(H,{className:`bg-linear-to-br ${b.netChange>=0?"from-emerald-50 to-emerald-100 border-emerald-200":"from-orange-50 to-orange-100 border-orange-200"}`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:`text-sm font-medium ${b.netChange>=0?"text-emerald-700":"text-orange-700"}`,children:"Net Change"}),t.jsxs("p",{className:`text-3xl font-bold mt-1 ${b.netChange>=0?"text-emerald-900":"text-orange-900"}`,children:[b.netChange>=0?"+":"",b.netChange]}),t.jsx("p",{className:`text-xs mt-1 ${b.netChange>=0?"text-emerald-600":"text-orange-600"}`,children:b.netChange>=0?"Growth":"Decline"})]}),t.jsx("div",{className:`p-3 rounded-lg ${b.netChange>=0?"bg-emerald-500":"bg-orange-500"}`,children:b.netChange>=0?t.jsx(Ss,{className:"w-6 h-6 text-white"}):t.jsx(xj,{className:"w-6 h-6 text-white"})})]})})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx(H,{children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:v}),t.jsx("p",{className:"text-sm text-gray-500",children:"Avg. Tenure (Years)"})]})}),t.jsx(H,{children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:d.totalExEmployees}),t.jsx("p",{className:"text-sm text-gray-500",children:"Total Ex-Employees"})]})}),t.jsx(H,{children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-3xl font-bold text-amber-600",children:j.pendingPromotions}),t.jsx("p",{className:"text-sm text-gray-500",children:"Pending Promotions"})]})}),t.jsx(H,{children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-3xl font-bold text-red-600",children:j.pendingResignations}),t.jsx("p",{className:"text-sm text-gray-500",children:"Active Resignations"})]})})]}),t.jsx(H,{title:"Hiring & Attrition Trend",subtitle:"Monthly employee movement",children:t.jsx("div",{className:"h-80",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(Mo,{data:m,children:[t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"colorHired",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.3}),t.jsx("stop",{offset:"95%",stopColor:"#22c55e",stopOpacity:0})]}),t.jsxs("linearGradient",{id:"colorLeft",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.3}),t.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})]}),t.jsx(tn,{strokeDasharray:"3 3"}),t.jsx(nn,{dataKey:"shortMonth"}),t.jsx(an,{}),t.jsx(pt,{contentStyle:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),t.jsx(cr,{}),t.jsx(Ua,{type:"monotone",dataKey:"hired",name:"New Hires",stroke:"#22c55e",fillOpacity:1,fill:"url(#colorHired)"}),t.jsx(Ua,{type:"monotone",dataKey:"left",name:"Departures",stroke:"#ef4444",fillOpacity:1,fill:"url(#colorLeft)"})]})})})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(H,{title:"Faculty Distribution",subtitle:"Employees by faculty",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(fr,{children:[t.jsx(Wa,{data:h,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,dataKey:"value",label:({name:M,percent:S})=>`${M} (${(S*100).toFixed(0)}%)`,children:h.map((M,S)=>t.jsx(kn,{fill:yc[S%yc.length]},S))}),t.jsx(pt,{})]})})})}),t.jsx(H,{title:"Department Distribution",subtitle:"Top departments by headcount",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(Rr,{data:f.slice(0,6),layout:"vertical",children:[t.jsx(tn,{strokeDasharray:"3 3"}),t.jsx(nn,{type:"number"}),t.jsx(an,{type:"category",dataKey:"name",width:80}),t.jsx(pt,{}),t.jsx(ra,{dataKey:"value",fill:"#6366f1",radius:[0,4,4,0]})]})})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(H,{title:"Designation Distribution",subtitle:"Employees by role",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(Rr,{data:y,children:[t.jsx(tn,{strokeDasharray:"3 3"}),t.jsx(nn,{dataKey:"name",angle:-45,textAnchor:"end",height:80}),t.jsx(an,{}),t.jsx(pt,{}),t.jsx(ra,{dataKey:"value",fill:"#8b5cf6",radius:[4,4,0,0]})]})})})}),t.jsx(H,{title:"Exit Reasons Analysis",subtitle:"Why employees leave",children:t.jsx("div",{className:"h-64",children:g.length===0?t.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No departure data available"}):t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(fr,{children:[t.jsx(Wa,{data:g,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:M,percent:S})=>`${M} (${(S*100).toFixed(0)}%)`,children:g.map((M,S)=>t.jsx(kn,{fill:yc[S%yc.length]},S))}),t.jsx(pt,{})]})})})})]}),t.jsx(H,{title:"Net Workforce Change",subtitle:"Monthly growth/decline",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(Rr,{data:m,children:[t.jsx(tn,{strokeDasharray:"3 3"}),t.jsx(nn,{dataKey:"shortMonth"}),t.jsx(an,{}),t.jsx(pt,{}),t.jsx(ra,{dataKey:"netChange",name:"Net Change",fill:M=>M.netChange>=0?"#22c55e":"#ef4444",radius:[4,4,0,0],children:m.map((M,S)=>t.jsx(kn,{fill:M.netChange>=0?"#22c55e":"#ef4444"},`cell-${S}`))})]})})})}),t.jsxs(H,{title:"Performance Analytics (PAMS)",subtitle:"Average ratings and top performers",children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Average Rating by Department"}),w.avgByDepartment.length===0?t.jsx("div",{className:"text-sm text-gray-500",children:"No performance reviews available."}):t.jsx("div",{className:"space-y-3",children:w.avgByDepartment.map(M=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-600",children:M.department}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:`${M.averageRating/5*100}%`}})}),t.jsx("span",{className:"font-medium w-12 text-right",children:M.averageRating})]})]},M.department))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Top Performers"}),w.topPerformers.length===0?t.jsx("div",{className:"text-sm text-gray-500",children:"No performance reviews available."}):t.jsx("div",{className:"space-y-2",children:w.topPerformers.map(M=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:M.name}),t.jsx("p",{className:"text-xs text-gray-500",children:M.department})]}),t.jsx("span",{className:"text-sm font-semibold text-emerald-700",children:M.rating})]},M.employeeId))})]})]}),t.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Overall Average Rating:"," ",t.jsx("span",{className:"font-semibold text-gray-900",children:w.overallAvg})," (",w.count," ","reviews)"]})]}),t.jsx(H,{title:"Department Summary",subtitle:"Headcount by department",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Department"}),t.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Total"}),t.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Active"}),t.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"On Leave"}),t.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"% of Total"})]})}),t.jsx("tbody",{children:f.map(M=>{const S=e.filter(P=>P.department===M.name),A=S.filter(P=>P.status==="Active").length,E=S.filter(P=>P.status==="On Leave").length,D=(M.value/d.total*100).toFixed(1);return t.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:yc[f.indexOf(M)%yc.length]}}),t.jsx("span",{className:"font-medium text-gray-900",children:M.name})]})}),t.jsx("td",{className:"py-3 px-4 text-center font-semibold",children:M.value}),t.jsx("td",{className:"py-3 px-4 text-center text-green-600",children:A}),t.jsx("td",{className:"py-3 px-4 text-center text-amber-600",children:E}),t.jsx("td",{className:"py-3 px-4 text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("div",{className:"w-16 h-2 bg-gray-100 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${D}%`}})}),t.jsxs("span",{className:"text-sm text-gray-600",children:[D,"%"]})]})})]},M.name)})})]})})})]})}function _1(e,n){if(!e||e.length===0)return"";const a=n||Object.keys(e[0]),r=c=>{if(c==null)return"";const d=String(c);return/[",\n]/.test(d)?'"'+d.replace(/"/g,'""')+'"':d},s=a.join(","),l=e.map(c=>a.map(d=>r(c[d])).join(","));return[s,...l].join(`
`)}function T1(e,n){const a=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(a),s=document.createElement("a");s.href=r,s.setAttribute("download",e),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)}function fse(){const{employees:e,attendance:n,leaves:a}=ve(),r=ve(R=>R.getAccreditationReport),[s,l]=x.useState(new Date),[c,d]=x.useState("all"),[m,f]=x.useState("all"),[h,g]=x.useState("all"),[y,v]=x.useState("all"),[j,b]=x.useState("6months"),w=x.useMemo(()=>c==="all"?Object.values(bs).flat():bs[c]||[],[c]),M=x.useMemo(()=>{const R=new Set(e.map(F=>F.designation).filter(Boolean));return Array.from(R).sort()},[e]),S=["Active","On Leave","Resigned"],A=x.useMemo(()=>e.filter(R=>!(c!=="all"&&R.faculty!==c||m!=="all"&&R.department!==m||h!=="all"&&R.status!==h||y!=="all"&&R.designation!==y)),[e,c,m,h,y]),E=x.useMemo(()=>new Set(A.map(R=>R.id)),[A]),D=R=>{d(R),f("all")},P=()=>{d("all"),f("all"),g("all"),v("all"),b("6months")},T=()=>({"1month":1,"3months":3,"6months":6,"12months":12})[j]||6,O=c!=="all"||m!=="all"||h!=="all"||y!=="all"||j!=="6months",k=x.useMemo(()=>{const R={},F={},q={Active:0,"On Leave":0,Resigned:0};return A.forEach(Y=>{R[Y.department]=(R[Y.department]||0)+1,F[Y.faculty]=(F[Y.faculty]||0)+1,q[Y.status]=(q[Y.status]||0)+1}),{byDepartment:R,byFaculty:F,byStatus:q}},[A]),B=x.useMemo(()=>{const R=qa(s),F=Ha(s),q=n.filter(Ne=>{const se=me(Ne.date),Se=ws(se,{start:R,end:F}),Ae=E.has(Ne.employeeId);return Se&&Ae}),Y=q.filter(Ne=>Ne.status==="Present").length,ae=q.filter(Ne=>Ne.status==="Late").length,je=q.filter(Ne=>Ne.status==="Absent").length,V=q.length,fe={};return q.forEach(Ne=>{fe[Ne.employeeId]||(fe[Ne.employeeId]={present:0,late:0,absent:0}),fe[Ne.employeeId][Ne.status.toLowerCase()]++}),{present:Y,late:ae,absent:je,total:V,byEmployee:fe}},[n,s,E]),I=x.useMemo(()=>{const R={Pending:0,Approved:0,Rejected:0},F={},q=a.filter(Y=>E.has(Y.employeeId));return q.forEach(Y=>{R[Y.status]=(R[Y.status]||0)+1,F[Y.type]=(F[Y.type]||0)+1}),{byStatus:R,byType:F,total:q.length}},[a,E]),z=x.useMemo(()=>{const R=T();return Array.from({length:R},(F,q)=>{const Y=po(new Date,q),ae=qa(Y),je=Ha(Y),V=n.filter(Se=>{const Ae=me(Se.date),ne=ws(Ae,{start:ae,end:je}),Me=E.has(Se.employeeId);return ne&&Me}),fe=V.filter(Se=>Se.status==="Present").length,Ne=V.filter(Se=>Se.status==="Late").length,se=V.filter(Se=>Se.status==="Absent").length;return{month:U(Y,"MMM yyyy"),present:fe,late:Ne,absent:se,total:fe+Ne+se,attendanceRate:V.length>0?Math.round((fe+Ne)/V.length*100):0}}).reverse()},[n,E,j]),J=R=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(R),L=A.filter(R=>R.status==="Active").reduce((R,F)=>R+(F.salaryBase||0),0),G=x.useMemo(()=>r(),[r]),W=()=>{const R=[];R.push({metric:"Headcount",value:G.headcount}),R.push({metric:"Probation Count",value:G.probationCount}),R.push({metric:"Contract Expiring (30d)",value:G.contractExpiring30}),R.push({metric:"Gender Male",value:G.genderDist.male}),R.push({metric:"Gender Female",value:G.genderDist.female}),R.push({metric:"Gender Other",value:G.genderDist.other}),Object.entries(G.byFaculty||{}).forEach(([q,Y])=>R.push({metric:`Faculty - ${q}`,value:Y})),Object.entries(G.byDesignation||{}).forEach(([q,Y])=>R.push({metric:`Designation - ${q}`,value:Y}));const F=_1(R,["metric","value"]);T1(`accreditation_${U(new Date,"yyyyMMdd")}.csv`,F)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),t.jsxs("p",{className:"text-gray-600",children:["View detailed reports and statistics",O&&t.jsxs("span",{className:"ml-2 text-indigo-600 font-medium",children:["(Filtered: ",A.length," of ",e.length," employees)"]})]})]}),t.jsxs(Z,{className:"gap-2",children:[t.jsx(Mu,{className:"w-5 h-5"}),"Export Report"]})]}),t.jsx(H,{className:"bg-linear-to-r from-indigo-50 to-purple-50 border-indigo-100",children:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-indigo-700",children:[t.jsx(xo,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:"Filter Reports"})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[t.jsxs("select",{value:c,onChange:R=>D(R.target.value),className:"px-3 py-2 bg-white border border-indigo-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"all",children:"All Faculties"}),Object.keys(bs).map(R=>t.jsx("option",{value:R,children:R},R))]}),t.jsxs("select",{value:m,onChange:R=>f(R.target.value),className:"px-3 py-2 bg-white border border-indigo-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"all",children:"All Departments"}),w.map(R=>t.jsx("option",{value:R,children:R},R))]}),t.jsxs("select",{value:h,onChange:R=>g(R.target.value),className:"px-3 py-2 bg-white border border-indigo-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"all",children:"All Status"}),S.map(R=>t.jsx("option",{value:R,children:R},R))]}),t.jsxs("select",{value:y,onChange:R=>v(R.target.value),className:"px-3 py-2 bg-white border border-indigo-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"all",children:"All Designations"}),M.map(R=>t.jsx("option",{value:R,children:R},R))]}),t.jsxs("select",{value:j,onChange:R=>b(R.target.value),className:"px-3 py-2 bg-white border border-indigo-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"1month",children:"Last 1 Month"}),t.jsx("option",{value:"3months",children:"Last 3 Months"}),t.jsx("option",{value:"6months",children:"Last 6 Months"}),t.jsx("option",{value:"12months",children:"Last 12 Months"})]}),O&&t.jsxs(Z,{variant:"outline",size:"sm",onClick:P,className:"gap-1 text-red-600 border-red-200 hover:bg-red-50",children:[t.jsx(Rp,{className:"w-4 h-4"}),"Clear"]})]})]})}),t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[t.jsx(H,{className:"bg-linear-to-br from-blue-50 to-blue-100 border-blue-200",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Total Employees"}),t.jsx("p",{className:"text-3xl font-bold text-blue-900 mt-1",children:A.length}),t.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:[k.byStatus.Active," active"]})]}),t.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:t.jsx(rn,{className:"w-6 h-6 text-white"})})]})}),t.jsx(H,{className:"bg-linear-to-br from-green-50 to-green-100 border-green-200",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-800",children:"Avg Attendance"}),t.jsxs("p",{className:"text-3xl font-bold text-green-900 mt-1",children:[B.total>0?Math.round((B.present+B.late)/B.total*100):0,"%"]}),t.jsx("p",{className:"text-xs text-green-700 mt-1",children:U(s,"MMMM yyyy")})]}),t.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:t.jsx(Ue,{className:"w-6 h-6 text-white"})})]})}),t.jsx(H,{className:"bg-linear-to-br from-amber-50 to-amber-100 border-amber-200",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Pending Leaves"}),t.jsx("p",{className:"text-3xl font-bold text-amber-900 mt-1",children:I.byStatus.Pending}),t.jsxs("p",{className:"text-xs text-amber-700 mt-1",children:[I.total," total requests"]})]}),t.jsx("div",{className:"p-3 bg-amber-500 rounded-lg",children:t.jsx(nt,{className:"w-6 h-6 text-white"})})]})}),t.jsx(H,{className:"bg-linear-to-br from-purple-50 to-purple-100 border-purple-200",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Monthly Payroll"}),t.jsx("p",{className:"text-2xl font-bold text-purple-900 mt-1",children:J(L)}),t.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"Base salary expense"})]}),t.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:t.jsx(ur,{className:"w-6 h-6 text-white"})})]})})]}),t.jsxs(ha,{defaultValue:"attendance",children:[t.jsxs(pa,{children:[t.jsx(Ve,{value:"attendance",children:"Attendance Report"}),t.jsx(Ve,{value:"employees",children:"Employee Report"}),t.jsx(Ve,{value:"leaves",children:"Leave Report"}),t.jsx(Ve,{value:"payroll",children:"Payroll Report"}),t.jsx(Ve,{value:"accreditation",children:"Accreditation & Regulatory"})]}),t.jsx(bt,{value:"attendance",children:t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[t.jsxs(H,{children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Attendance Trend (Last ",T()," ",T()===1?"Month":"Months",")"]}),t.jsx("div",{className:"space-y-4",children:z.map(R=>t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"text-gray-600",children:R.month}),t.jsxs("span",{className:"font-medium",children:[R.attendanceRate,"%"]})]}),t.jsxs("div",{className:"h-4 bg-gray-100 rounded-full overflow-hidden flex",children:[t.jsx("div",{className:"bg-green-500 h-full",style:{width:`${R.present/(R.total||1)*100}%`}}),t.jsx("div",{className:"bg-yellow-500 h-full",style:{width:`${R.late/(R.total||1)*100}%`}}),t.jsx("div",{className:"bg-red-500 h-full",style:{width:`${R.absent/(R.total||1)*100}%`}})]})]},R.month))}),t.jsxs("div",{className:"flex justify-center gap-4 mt-4 text-xs",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-3 h-3 rounded bg-green-500"}),t.jsx("span",{children:"Present"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-3 h-3 rounded bg-yellow-500"}),t.jsx("span",{children:"Late"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-3 h-3 rounded bg-red-500"}),t.jsx("span",{children:"Absent"})]})]})]}),t.jsxs(H,{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"This Month Summary"}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[t.jsx("p",{className:"text-3xl font-bold text-green-600",children:B.present}),t.jsx("p",{className:"text-sm text-green-700",children:"Present"})]}),t.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-xl",children:[t.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:B.late}),t.jsx("p",{className:"text-sm text-yellow-700",children:"Late"})]}),t.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-xl",children:[t.jsx("p",{className:"text-3xl font-bold text-red-600",children:B.absent}),t.jsx("p",{className:"text-sm text-red-700",children:"Absent"})]})]})]})]})}),t.jsx(bt,{value:"employees",children:t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[t.jsxs(H,{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Employees by Department"}),t.jsx("div",{className:"space-y-3",children:Object.entries(k.byDepartment).map(([R,F])=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-600",children:R}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${F/e.length*100}%`}})}),t.jsx("span",{className:"font-medium w-8 text-right",children:F})]})]},R))})]}),t.jsxs(H,{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Employees by Faculty"}),t.jsx("div",{className:"space-y-3",children:Object.entries(k.byFaculty).map(([R,F])=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-600",children:R}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:`${F/e.length*100}%`}})}),t.jsx("span",{className:"font-medium w-8 text-right",children:F})]})]},R))})]}),t.jsxs(H,{className:"lg:col-span-2",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Employee Status Distribution"}),t.jsx("div",{className:"grid sm:grid-cols-3 gap-4",children:Object.entries(k.byStatus).map(([R,F])=>t.jsxs("div",{className:`p-4 rounded-xl ${R==="Active"?"bg-green-50":R==="On Leave"?"bg-yellow-50":"bg-red-50"}`,children:[t.jsx("p",{className:`text-3xl font-bold ${R==="Active"?"text-green-600":R==="On Leave"?"text-yellow-600":"text-red-600"}`,children:F}),t.jsx("p",{className:"text-sm text-gray-600",children:R})]},R))})]})]})}),t.jsx(bt,{value:"leaves",children:t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[t.jsxs(H,{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Leave Requests by Status"}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-xl",children:[t.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:I.byStatus.Pending}),t.jsx("p",{className:"text-sm text-yellow-700",children:"Pending"})]}),t.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[t.jsx("p",{className:"text-3xl font-bold text-green-600",children:I.byStatus.Approved}),t.jsx("p",{className:"text-sm text-green-700",children:"Approved"})]}),t.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-xl",children:[t.jsx("p",{className:"text-3xl font-bold text-red-600",children:I.byStatus.Rejected}),t.jsx("p",{className:"text-sm text-red-700",children:"Rejected"})]})]})]}),t.jsxs(H,{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Leave Requests by Type"}),t.jsx("div",{className:"space-y-3",children:Object.entries(I.byType).map(([R,F])=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-600 capitalize",children:R}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${F/I.total*100}%`}})}),t.jsx("span",{className:"font-medium w-8 text-right",children:F})]})]},R))})]})]})}),t.jsx(bt,{value:"payroll",children:t.jsxs(H,{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Payroll Summary"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Department"}),t.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Employees"}),t.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Total Salary"}),t.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Avg Salary"})]})}),t.jsxs("tbody",{children:[Object.entries(k.byDepartment).map(([R,F])=>{const Y=A.filter(je=>je.department===R).reduce((je,V)=>je+(V.salaryBase||0),0),ae=Y/F;return t.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[t.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:R}),t.jsx("td",{className:"py-3 px-4 text-center text-gray-600",children:F}),t.jsx("td",{className:"py-3 px-4 text-right text-gray-900",children:J(Y)}),t.jsx("td",{className:"py-3 px-4 text-right text-gray-600",children:J(ae)})]},R)}),t.jsxs("tr",{className:"bg-gray-50 font-semibold",children:[t.jsx("td",{className:"py-3 px-4",children:"Total"}),t.jsx("td",{className:"py-3 px-4 text-center",children:A.length}),t.jsx("td",{className:"py-3 px-4 text-right",children:J(L)}),t.jsx("td",{className:"py-3 px-4 text-right",children:J(L/(A.length||1))})]})]})]})})]})}),t.jsxs(bt,{value:"accreditation",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Accreditation & Regulatory Summary"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Gender, designation, and faculty distribution"})]}),t.jsxs(Z,{className:"gap-2",onClick:W,children:[t.jsx(Mu,{className:"w-5 h-5"}),"Export CSV"]})]}),t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[t.jsx(H,{children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:G.headcount}),t.jsx("p",{className:"text-sm text-gray-500",children:"Total Employees"})]})}),t.jsx(H,{children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-3xl font-bold text-amber-600",children:G.probationCount}),t.jsx("p",{className:"text-sm text-gray-500",children:"On Probation"})]})}),t.jsx(H,{children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-3xl font-bold text-red-600",children:G.contractExpiring30}),t.jsx("p",{className:"text-sm text-gray-500",children:"Contracts Expiring (30d)"})]})}),t.jsx(H,{children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:G.genderDist.female}),t.jsx("p",{className:"text-sm text-gray-500",children:"Female Employees"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-4",children:[t.jsxs(H,{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"By Faculty"}),t.jsx("div",{className:"space-y-3",children:Object.entries(G.byFaculty).map(([R,F])=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-600",children:R}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${F/(G.headcount||1)*100}%`}})}),t.jsx("span",{className:"font-medium w-8 text-right",children:F})]})]},R))})]}),t.jsxs(H,{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"By Designation"}),t.jsx("div",{className:"space-y-3",children:Object.entries(G.byDesignation).map(([R,F])=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-600",children:R}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:`${F/(G.headcount||1)*100}%`}})}),t.jsx("span",{className:"font-medium w-8 text-right",children:F})]})]},R))})]})]})]})]})]})}const hse=[{id:1,title:"Harassment Policy",description:"Comprehensive guidelines on prevention, reporting, and handling of harassment cases in the workplace.",category:"Workplace Conduct",fileSize:"2.4 MB",format:"PDF",lastUpdated:"2024-11-15",status:"Active",downloadUrl:"/PDF's/HARASSMENT-POLICY.pdf"},{id:2,title:"COVID-19 Pandemic Attendance Policy",description:"Special attendance guidelines and protocols during COVID-19 pandemic situations.",category:"Attendance",fileSize:"1.8 MB",format:"PDF",lastUpdated:"2024-10-20",status:"Active",downloadUrl:"/PDF's/COVID-19 Pandemic Attendance Policy.pdf"},{id:3,title:"Faculty Promotion Proforma",description:"Official form and guidelines for faculty promotion applications and evaluation criteria.",category:"Promotion",fileSize:"3.1 MB",format:"PDF",lastUpdated:"2024-12-01",status:"Active",downloadUrl:"/PDF's/Faculty Promotion Proforma_Updated (1).docx.pdf"},{id:4,title:"Private Consultancy Policy",description:"Official notification and guidelines for CECOS University private consultancy services and regulations.",category:"Workplace Conduct",fileSize:"1.2 MB",format:"PDF",lastUpdated:"2024-09-15",status:"Active",downloadUrl:"/PDF's/Notification CECOS University Private Consultancy.pdf"},{id:5,title:"CPD Courses Policy",description:"Continuing Professional Development (CPD) courses policy and enrollment guidelines for faculty and staff.",category:"Benefits",fileSize:"0.9 MB",format:"PDF",lastUpdated:"2024-08-22",status:"Active",downloadUrl:"/PDF's/Notification CPD Courses Policy.pdf"},{id:6,title:"Employees Grievance Committee",description:"Official notification establishing the Employees Grievance Committee and procedures for filing complaints.",category:"Workplace Conduct",fileSize:"0.7 MB",format:"PDF",lastUpdated:"2024-07-10",status:"Active",downloadUrl:"/PDF's/Notification Employees Grievance Committee.pdf"},{id:7,title:"Employees Resignation Policy",description:"Official policy and procedures for employee resignation, notice period, and exit formalities.",category:"Workplace Conduct",fileSize:"1.1 MB",format:"PDF",lastUpdated:"2024-06-18",status:"Active",downloadUrl:"/PDF's/Notification of Employees Resignation Policy.pdf"},{id:8,title:"Official Email Policy",description:"Guidelines and policy for official email usage, communication protocols, and email security.",category:"Workplace Conduct",fileSize:"0.8 MB",format:"PDF",lastUpdated:"2024-05-25",status:"Active",downloadUrl:"/PDF's/Notification of Official Email.pdf"},{id:9,title:"Provident Fund Policy",description:"Official notification regarding employee provident fund contributions, benefits, and withdrawal procedures.",category:"Benefits",fileSize:"1.5 MB",format:"PDF",lastUpdated:"2024-04-12",status:"Active",downloadUrl:"/PDF's/Notification of Provident Fund.pdf"}],pse=["All","Workplace Conduct","Attendance","Promotion","Leave","Salary","Benefits"];function xse(){const[e,n]=x.useState(hse),[a,r]=x.useState(""),[s,l]=x.useState("All"),[c,d]=x.useState(!1),[m,f]=x.useState({title:"",description:"",category:"Workplace Conduct",fileSize:"",format:"PDF",status:"Active",downloadUrl:""}),h=e.filter(b=>{const w=b.title.toLowerCase().includes(a.toLowerCase())||b.description.toLowerCase().includes(a.toLowerCase())||b.category.toLowerCase().includes(a.toLowerCase()),M=s==="All"||b.category===s;return w&&M}),g=b=>{const w=document.createElement("a");w.href=b.downloadUrl,w.download=`${b.title}.pdf`,document.body.appendChild(w),w.click(),document.body.removeChild(w)},y=b=>{const w={Active:"success",Archived:"default","Under Review":"warning"};return t.jsx(le,{variant:w[b]||"default",children:b})},v=()=>{if(!m.title||!m.description||!m.downloadUrl){alert("Please fill in all required fields");return}const b={id:e.length+1,...m,lastUpdated:new Date().toISOString().split("T")[0]};n([...e,b]),d(!1),f({title:"",description:"",category:"Workplace Conduct",fileSize:"",format:"PDF",status:"Active",downloadUrl:""})},j={All:e.length,"Workplace Conduct":e.filter(b=>b.category==="Workplace Conduct").length,Attendance:e.filter(b=>b.category==="Attendance").length,Promotion:e.filter(b=>b.category==="Promotion").length,Leave:0,Salary:0,Benefits:0};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Policy Advisory"}),t.jsx("p",{className:"text-gray-600",children:"Access and download official university policies and documents"})]}),t.jsxs(Z,{onClick:()=>d(!0),className:"gap-2",children:[t.jsx(yi,{className:"w-5 h-5"}),"Add Policy"]})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[t.jsx(H,{className:"bg-linear-to-br from-blue-50 to-blue-100 border-blue-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:t.jsx(gt,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-blue-900",children:e.length}),t.jsx("p",{className:"text-xs text-blue-700",children:"Total Policies"})]})]})}),t.jsx(H,{className:"bg-linear-to-br from-green-50 to-green-100 border-green-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:t.jsx(Be,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-green-900",children:e.filter(b=>b.status==="Active").length}),t.jsx("p",{className:"text-xs text-green-700",children:"Active"})]})]})}),t.jsx(H,{className:"bg-linear-to-br from-amber-50 to-amber-100 border-amber-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-amber-500 rounded-lg",children:t.jsx(Ue,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-amber-900",children:e.filter(b=>b.status==="Under Review").length}),t.jsx("p",{className:"text-xs text-amber-700",children:"Under Review"})]})]})}),t.jsx(H,{className:"bg-linear-to-br from-purple-50 to-purple-100 border-purple-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:t.jsx(Gt,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-purple-900",children:e.reduce((b,w)=>b+parseFloat(w.fileSize),0).toFixed(1)}),t.jsx("p",{className:"text-xs text-purple-700",children:"MB Total Size"})]})]})})]}),t.jsx(H,{children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsx(Rn,{type:"text",placeholder:"Search policies by title, category, or description...",value:a,onChange:b=>r(b.target.value),className:"w-full",inputClassName:"pl-4 pr-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xo,{className:"w-5 h-5 text-gray-400"}),t.jsx("select",{value:s,onChange:b=>l(b.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:pse.map(b=>t.jsxs("option",{value:b,children:[b," ",j[b]>0&&`(${j[b]})`]},b))})]})]})}),h.length===0?t.jsx(H,{children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Ch,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Policies Found"}),t.jsx("p",{className:"text-gray-500",children:"Try adjusting your search query or filter to find what you're looking for."})]})}):t.jsx("div",{className:"grid lg:grid-cols-2 gap-6",children:h.map(b=>t.jsx(H,{className:"hover:shadow-lg transition-shadow",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[t.jsx("div",{className:"p-3 bg-indigo-50 rounded-lg shrink-0",children:t.jsx(gt,{className:"w-6 h-6 text-indigo-600"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-1",children:b.title}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-gray-500",children:[t.jsx(le,{size:"xs",variant:"info",children:b.category}),t.jsx("span",{children:""}),t.jsx("span",{children:b.format}),t.jsx("span",{children:""}),t.jsx("span",{children:b.fileSize})]})]})]}),y(b.status)]}),t.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:b.description}),t.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[t.jsx(Ue,{className:"w-4 h-4"}),t.jsxs("span",{children:["Updated: ",new Date(b.lastUpdated).toLocaleDateString()]})]}),t.jsxs(Z,{size:"sm",onClick:()=>g(b),className:"gap-2",children:[t.jsx(Gt,{className:"w-4 h-4"}),"Download"]})]})]})},b.id))}),t.jsx(H,{className:"bg-linear-to-r from-blue-50 to-indigo-50 border-blue-200",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"p-3 bg-blue-500 rounded-lg shrink-0",children:t.jsx(Ch,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Important Notice"}),t.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"All employees are required to review and acknowledge the policies relevant to their role. For questions or clarifications about any policy, please contact the HR department."}),t.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 list-disc list-inside",children:[t.jsx("li",{children:"Policies are regularly updated to reflect current regulations"}),t.jsx("li",{children:"Download and keep a copy for your reference"}),t.jsx("li",{children:"Contact HR if you need assistance understanding any policy"})]})]})]})}),t.jsx(ft,{isOpen:c,onClose:()=>d(!1),title:"Add New Policy Document",size:"lg",actions:t.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[t.jsx(Z,{variant:"secondary",onClick:()=>d(!1),className:"flex-1 sm:flex-initial",children:"Cancel"}),t.jsx(Z,{onClick:v,className:"flex-1 sm:flex-initial",children:"Add Policy"})]}),children:t.jsxs("div",{className:"space-y-4",children:[t.jsx(st,{label:"Policy Title",required:!0,children:t.jsx("input",{type:"text",value:m.title,onChange:b=>f({...m,title:b.target.value}),placeholder:"Enter policy title",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),t.jsx(st,{label:"Description",required:!0,children:t.jsx("textarea",{value:m.description,onChange:b=>f({...m,description:b.target.value}),placeholder:"Enter policy description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(st,{label:"Category",required:!0,children:t.jsxs("select",{value:m.category,onChange:b=>f({...m,category:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"Workplace Conduct",children:"Workplace Conduct"}),t.jsx("option",{value:"Attendance",children:"Attendance"}),t.jsx("option",{value:"Promotion",children:"Promotion"}),t.jsx("option",{value:"Leave",children:"Leave"}),t.jsx("option",{value:"Salary",children:"Salary"}),t.jsx("option",{value:"Benefits",children:"Benefits"})]})}),t.jsx(st,{label:"Status",children:t.jsxs("select",{value:m.status,onChange:b=>f({...m,status:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Under Review",children:"Under Review"}),t.jsx("option",{value:"Archived",children:"Archived"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(st,{label:"File Size (e.g., 2.4 MB)",children:t.jsx("input",{type:"text",value:m.fileSize,onChange:b=>f({...m,fileSize:b.target.value}),placeholder:"e.g., 2.4 MB",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),t.jsx(st,{label:"Format",children:t.jsxs("select",{value:m.format,onChange:b=>f({...m,format:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"PDF",children:"PDF"}),t.jsx("option",{value:"DOCX",children:"DOCX"}),t.jsx("option",{value:"DOC",children:"DOC"})]})})]}),t.jsx(st,{label:"Download URL",required:!0,helper:"Path to the file (e.g., /PDFs/policy-name.pdf)",children:t.jsx("input",{type:"text",value:m.downloadUrl,onChange:b=>f({...m,downloadUrl:b.target.value}),placeholder:"/PDFs/policy-name.pdf",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:t.jsxs("p",{className:"text-sm text-blue-800",children:[t.jsx("strong",{children:"Note:"})," Make sure to upload the PDF file to the"," ",t.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"public/PDFs/"})," folder before adding the policy."]})})]})})]})}const gse=[{id:"a1",title:"University Holiday Notice",content:"The university will remain closed on the upcoming national holiday. All staff are advised to complete their pending work before the holiday.",category:"holiday",priority:"high",targetAudience:"all",createdBy:"HR Department",createdAt:"2024-01-20",expiresAt:"2024-02-01",isActive:!0},{id:"a2",title:"New Leave Policy Update",content:"Please be informed that the leave policy has been updated. Employees can now carry forward up to 5 days of annual leave to the next year.",category:"policy",priority:"medium",targetAudience:"all",createdBy:"HR Department",createdAt:"2024-01-15",expiresAt:null,isActive:!0},{id:"a3",title:"IT System Maintenance",content:"The HRMS system will undergo maintenance this weekend. Please save all your work before Friday 6 PM.",category:"maintenance",priority:"medium",targetAudience:"all",createdBy:"IT Department",createdAt:"2024-01-10",expiresAt:"2024-01-14",isActive:!1}];function yse(){const e=at(A=>A.user),[n,a]=x.useState(gse),[r,s]=x.useState(!1),[l,c]=x.useState(null),[d,m]=x.useState("all"),{register:f,handleSubmit:h,reset:g,formState:{errors:y}}=qc({defaultValues:{title:"",content:"",category:"general",priority:"medium",targetAudience:"all",expiresAt:""}}),v=x.useMemo(()=>d==="all"?n:d==="active"?n.filter(A=>A.isActive):d==="expired"?n.filter(A=>!A.isActive):n.filter(A=>A.category===d),[n,d]),j=A=>{const E={id:`a${Date.now()}`,...A,createdBy:e?.name||"HR Department",createdAt:U(new Date,"yyyy-MM-dd"),isActive:!0};a([E,...n]),k8({title:A.title,description:A.content,audience:A.targetAudience,postedBy:e?.name||"HR Department"},e?.email),g(),s(!1)},b=A=>{a(n.map(E=>E.id===A?{...E,isActive:!E.isActive}:E))},w=A=>{confirm("Are you sure you want to delete this announcement?")&&a(n.filter(E=>E.id!==A))},M=A=>({holiday:"error",policy:"primary",maintenance:"warning",general:"default",event:"success"})[A]||"default",S=A=>({high:"error",medium:"warning",low:"default"})[A]||"default";return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Announcements"}),t.jsx("p",{className:"text-gray-600",children:"Create and manage university announcements"})]}),t.jsxs(Z,{onClick:()=>s(!0),className:"gap-2",children:[t.jsx(yi,{className:"w-5 h-5"}),"New Announcement"]})]}),t.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[t.jsx(H,{className:"bg-blue-50 border-blue-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:t.jsx(q5,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-blue-900",children:n.length}),t.jsx("p",{className:"text-sm text-blue-700",children:"Total Announcements"})]})]})}),t.jsx(H,{className:"bg-green-50 border-green-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:t.jsx(bj,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-green-900",children:n.filter(A=>A.isActive).length}),t.jsx("p",{className:"text-sm text-green-700",children:"Active"})]})]})}),t.jsx(H,{className:"bg-amber-50 border-amber-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-amber-500 rounded-lg",children:t.jsx(nt,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-amber-900",children:n.filter(A=>A.priority==="high").length}),t.jsx("p",{className:"text-sm text-amber-700",children:"High Priority"})]})]})})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:["all","active","expired","holiday","policy","maintenance"].map(A=>t.jsx("button",{onClick:()=>m(A),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors capitalize ${d===A?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:A},A))}),t.jsx("div",{className:"space-y-4",children:v.length===0?t.jsx(H,{children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx(q5,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500",children:"No announcements found"})]})}):v.map(A=>t.jsx(H,{className:A.isActive?"":"opacity-60",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:A.title}),t.jsx(le,{variant:M(A.category),children:A.category}),t.jsx(le,{variant:S(A.priority),children:A.priority}),!A.isActive&&t.jsx(le,{variant:"outline",children:"Inactive"})]}),t.jsx("p",{className:"text-gray-600 text-sm mb-3",children:A.content}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-gray-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(nt,{className:"w-4 h-4"}),"Created: ",U(me(A.createdAt),"MMM d, yyyy")]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(ts,{className:"w-4 h-4"}),"Target: ",A.targetAudience]}),t.jsxs("span",{children:["By: ",A.createdBy]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Z,{size:"sm",variant:"ghost",onClick:()=>b(A.id),children:A.isActive?"Deactivate":"Activate"}),t.jsx(Z,{size:"sm",variant:"ghost",onClick:()=>c(A),children:t.jsx(Pp,{className:"w-4 h-4"})}),t.jsx(Z,{size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-700",onClick:()=>w(A.id),children:t.jsx(kp,{className:"w-4 h-4"})})]})]})},A.id))}),t.jsx(ft,{isOpen:r,onClose:()=>s(!1),title:"Create Announcement",size:"lg",children:t.jsxs("form",{onSubmit:h(j),className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Title ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",...f("title",{required:"Title is required"}),placeholder:"Enter announcement title",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),y.title&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.title.message})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Content ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{...f("content",{required:"Content is required"}),rows:4,placeholder:"Enter announcement details...",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),y.content&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.content.message})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),t.jsxs("select",{...f("category"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[t.jsx("option",{value:"general",children:"General"}),t.jsx("option",{value:"holiday",children:"Holiday"}),t.jsx("option",{value:"policy",children:"Policy"}),t.jsx("option",{value:"maintenance",children:"Maintenance"}),t.jsx("option",{value:"event",children:"Event"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),t.jsxs("select",{...f("priority"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"})]})]})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Audience"}),t.jsxs("select",{...f("targetAudience"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:"All Employees"}),t.jsx("option",{value:"faculty",children:"Faculty Only"}),t.jsx("option",{value:"staff",children:"Staff Only"}),t.jsx("option",{value:"management",children:"Management Only"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expires On"}),t.jsx("input",{type:"date",...f("expiresAt"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[t.jsx(Z,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),t.jsx(Z,{type:"submit",children:"Publish Announcement"})]})]})})]})}function vse(){at(c=>c.user);const{payrollSettings:e,updatePayrollSettings:n}=ve(),[a,r]=x.useState({workStartTime:"09:00",workEndTime:"17:00",lateThreshold:15,halfDayThreshold:4,overtimeStartAfter:8,overtimeWarningHours:e?.operationalConfig?.overtimeWarningHours||40,expiryHorizonDays:e?.operationalConfig?.expiryHorizonDays||30,annualLeaveQuota:20,sickLeaveQuota:12,casualLeaveQuota:10,maxConsecutiveDays:14,minAdvanceNotice:3,workingDays:e?.workingDays||22,latePenalty:e?.deductionConfig?.latePenalty||500,absentPenalty:e?.deductionConfig?.absentPenaltyType||"daily_rate",absentPenaltyValue:e?.deductionConfig?.absentPenaltyValue||0,overtimeRate:e?.overtimeRate||1.5,taxThreshold:e?.deductionConfig?.taxThreshold||1e5,taxRate:e?.deductionConfig?.taxRate||5,housePercent:e?.allowanceConfig?.housePercent||45,medicalPercent:e?.allowanceConfig?.medicalPercent||10,transportFixed:e?.allowanceConfig?.transportFixed||5e3,emailNotifications:!0,leaveApprovalNotify:!0,attendanceAlerts:!0,payrollNotify:!0,systemAnnouncements:!0}),s=(c,d)=>{r(m=>({...m,[c]:d}))},l=()=>{n({workingDays:a.workingDays,overtimeRate:a.overtimeRate,allowanceConfig:{housePercent:a.housePercent,medicalPercent:a.medicalPercent,transportFixed:a.transportFixed},deductionConfig:{latePenalty:a.latePenalty,absentPenaltyType:a.absentPenalty,absentPenaltyValue:a.absentPenaltyValue,taxThreshold:a.taxThreshold,taxRate:a.taxRate},operationalConfig:{overtimeWarningHours:a.overtimeWarningHours,expiryHorizonDays:a.expiryHorizonDays}}),alert("Settings saved successfully!")};return x.useEffect(()=>{r(c=>({...c,workingDays:e?.workingDays||c.workingDays,latePenalty:e?.deductionConfig?.latePenalty||c.latePenalty,absentPenalty:e?.deductionConfig?.absentPenaltyType||c.absentPenalty,absentPenaltyValue:e?.deductionConfig?.absentPenaltyValue??c.absentPenaltyValue,overtimeRate:e?.overtimeRate||c.overtimeRate,taxThreshold:e?.deductionConfig?.taxThreshold||c.taxThreshold,taxRate:e?.deductionConfig?.taxRate||c.taxRate,housePercent:e?.allowanceConfig?.housePercent||c.housePercent,medicalPercent:e?.allowanceConfig?.medicalPercent||c.medicalPercent,transportFixed:e?.allowanceConfig?.transportFixed||c.transportFixed,overtimeWarningHours:e?.operationalConfig?.overtimeWarningHours??c.overtimeWarningHours,expiryHorizonDays:e?.operationalConfig?.expiryHorizonDays??c.expiryHorizonDays}))},[e]),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"HR Settings"}),t.jsx("p",{className:"text-gray-600",children:"Configure HR policies and system settings"})]}),t.jsxs(Z,{onClick:l,className:"gap-2",children:[t.jsx(Fr,{className:"w-5 h-5"}),"Save Changes"]})]}),t.jsxs(ha,{defaultValue:"attendance",children:[t.jsxs(pa,{children:[t.jsx(Ve,{value:"attendance",children:"Attendance"}),t.jsx(Ve,{value:"leave",children:"Leave Policy"}),t.jsx(Ve,{value:"payroll",children:"Payroll"}),t.jsx(Ve,{value:"notifications",children:"Notifications"}),t.jsx(Ve,{value:"system",children:"System"})]}),t.jsx(bt,{value:"attendance",children:t.jsxs(H,{children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(Ue,{className:"w-5 h-5 text-gray-400"}),"Attendance Settings"]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Start Time"}),t.jsx("input",{type:"time",value:a.workStartTime,onChange:c=>s("workStartTime",c.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work End Time"}),t.jsx("input",{type:"time",value:a.workEndTime,onChange:c=>s("workEndTime",c.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Late Threshold (minutes)"}),t.jsx("input",{type:"number",value:a.lateThreshold,onChange:c=>s("lateThreshold",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Employees arriving after this many minutes will be marked late"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Half Day Threshold (hours)"}),t.jsx("input",{type:"number",value:a.halfDayThreshold,onChange:c=>s("halfDayThreshold",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Working less than this counts as half day"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Overtime Starts After (hours)"}),t.jsx("input",{type:"number",value:a.overtimeStartAfter,onChange:c=>s("overtimeStartAfter",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Overtime Warning Threshold (hours/month)"}),t.jsx("input",{type:"number",value:a.overtimeWarningHours,onChange:c=>s("overtimeWarningHours",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dashboard warning when exceeded"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Horizon (days)"}),t.jsx("input",{type:"number",value:a.expiryHorizonDays,onChange:c=>s("expiryHorizonDays",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Show upcoming probation/contract expiries"})]})]})]})}),t.jsx(bt,{value:"leave",children:t.jsxs(H,{children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(gt,{className:"w-5 h-5 text-gray-400"}),"Leave Policy Settings"]}),t.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Annual Leave Quota (days)"}),t.jsx("input",{type:"number",value:a.annualLeaveQuota,onChange:c=>s("annualLeaveQuota",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sick Leave Quota (days)"}),t.jsx("input",{type:"number",value:a.sickLeaveQuota,onChange:c=>s("sickLeaveQuota",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Casual Leave Quota (days)"}),t.jsx("input",{type:"number",value:a.casualLeaveQuota,onChange:c=>s("casualLeaveQuota",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Consecutive Days"}),t.jsx("input",{type:"number",value:a.maxConsecutiveDays,onChange:c=>s("maxConsecutiveDays",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum consecutive days for single leave request"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Advance Notice (days)"}),t.jsx("input",{type:"number",value:a.minAdvanceNotice,onChange:c=>s("minAdvanceNotice",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Except for sick leave"})]})]})]})}),t.jsx(bt,{value:"payroll",children:t.jsxs(H,{children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(ur,{className:"w-5 h-5 text-gray-400"}),"Payroll Settings"]}),t.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Working Days"}),t.jsx("input",{type:"number",value:a.workingDays,onChange:c=>s("workingDays",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Used for daily-rate calculations"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Late Penalty (PKR)"}),t.jsx("input",{type:"number",value:a.latePenalty,onChange:c=>s("latePenalty",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Deduction per late arrival"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Absent Penalty"}),t.jsxs("select",{value:a.absentPenalty,onChange:c=>s("absentPenalty",c.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[t.jsx("option",{value:"daily_rate",children:"Daily Rate (Salary / working days)"}),t.jsx("option",{value:"fixed",children:"Fixed Amount"}),t.jsx("option",{value:"none",children:"No Deduction"})]})]}),a.absentPenalty==="fixed"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Absent Penalty (PKR)"}),t.jsx("input",{type:"number",value:a.absentPenaltyValue,onChange:c=>s("absentPenaltyValue",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Overtime Rate (multiplier)"}),t.jsx("input",{type:"number",step:"0.1",value:a.overtimeRate,onChange:c=>s("overtimeRate",parseFloat(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"1.5 = 150% of hourly rate"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"House Allowance (%)"}),t.jsx("input",{type:"number",value:a.housePercent,onChange:c=>s("housePercent",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medical Allowance (%)"}),t.jsx("input",{type:"number",value:a.medicalPercent,onChange:c=>s("medicalPercent",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transport Allowance (PKR)"}),t.jsx("input",{type:"number",value:a.transportFixed,onChange:c=>s("transportFixed",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tax Threshold (PKR)"}),t.jsx("input",{type:"number",value:a.taxThreshold,onChange:c=>s("taxThreshold",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Income above this is taxed"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tax Rate (%)"}),t.jsx("input",{type:"number",value:a.taxRate,onChange:c=>s("taxRate",parseInt(c.target.value)),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]})}),t.jsx(bt,{value:"notifications",children:t.jsxs(H,{children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(ss,{className:"w-5 h-5 text-gray-400"}),"Notification Settings"]}),t.jsx("div",{className:"space-y-4",children:[{key:"emailNotifications",label:"Email Notifications",desc:"Send notifications via email"},{key:"leaveApprovalNotify",label:"Leave Approval Alerts",desc:"Notify when leaves are approved/rejected"},{key:"attendanceAlerts",label:"Attendance Alerts",desc:"Send alerts for late arrivals and absences"},{key:"payrollNotify",label:"Payroll Notifications",desc:"Notify employees when payroll is processed"},{key:"systemAnnouncements",label:"System Announcements",desc:"Show system-wide announcements"}].map(c=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:c.label}),t.jsx("p",{className:"text-sm text-gray-500",children:c.desc})]}),t.jsx("button",{onClick:()=>s(c.key,!a[c.key]),className:`relative w-12 h-6 rounded-full transition-colors ${a[c.key]?"bg-blue-600":"bg-gray-300"}`,children:t.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${a[c.key]?"right-1":"left-1"}`})})]},c.key))})]})}),t.jsx(bt,{value:"system",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs(H,{children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(_4,{className:"w-5 h-5 text-gray-400"}),"Organization Info"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),t.jsx("input",{type:"text",defaultValue:"CECOS University",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),t.jsx("textarea",{rows:2,defaultValue:"F-5, Phase 6, Hayatabad, Peshawar",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email"}),t.jsx("input",{type:"email",defaultValue:"info@cecos.edu.pk",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]}),t.jsxs(H,{children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(vi,{className:"w-5 h-5 text-gray-400"}),"Security Settings"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Force Password Change"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Require password change every 90 days"})]}),t.jsx(le,{variant:"success",children:"Enabled"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Require 2FA for admin users"})]}),t.jsx(le,{variant:"warning",children:"Optional"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Session Timeout"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Auto logout after inactivity"})]}),t.jsx(le,{variant:"primary",children:"30 min"})]})]})]})]})})]})]})}function bse(){const e=at(E=>E.user),{employees:n,bulkIncrements:a,createBulkIncrementBatch:r,applyBulkIncrementBatch:s}=ve(),[l,c]=x.useState([]),[d,m]=x.useState({title:"Annual Increment",type:"Cost of Living",mode:"percent",value:7,effectiveDate:U(new Date,"yyyy-MM-dd"),note:""}),[f,h]=x.useState("pending"),[g,y]=x.useState(!1),[v,j]=x.useState(null);x.useEffect(()=>{c(n.map(E=>E.id))},[n]);const b=x.useMemo(()=>a.filter(E=>f==="pending"?E.status==="Pending":E.status==="Applied"),[a,f]),w=E=>{c(D=>D.includes(E)?D.filter(P=>P!==E):[...D,E])},M=E=>{E.preventDefault(),r({...d,value:Number(d.value)||0,employeeIds:l,createdBy:e?.name}),m(D=>({...D,note:""}))},S=E=>{j(E),y(!0)},A=E=>{const D={Pending:"warning",Applied:"success"};return t.jsx(le,{variant:D[E]||"secondary",children:E})};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bulk Increments"}),t.jsx("p",{className:"text-gray-600",children:"Create batches with effective dates, unique codes, and auditable application history."})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(dr,{className:"w-5 h-5"}),a.length," batches"]})]}),t.jsx(H,{title:"Create Increment Batch",subtitle:"Apply percent or flat increments across employees",children:t.jsxs("form",{onSubmit:M,className:"space-y-4",children:[t.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),t.jsx("input",{value:d.title,onChange:E=>m(D=>({...D,title:E.target.value})),className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",placeholder:"Annual Increment",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Increment Type"}),t.jsxs("select",{value:d.type,onChange:E=>m(D=>({...D,type:E.target.value})),className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[t.jsx("option",{children:"Cost of Living"}),t.jsx("option",{children:"Performance"}),t.jsx("option",{children:"Adjustment"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Effective Date"}),t.jsx("input",{type:"date",value:d.effectiveDate,onChange:E=>m(D=>({...D,effectiveDate:E.target.value})),className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]})]}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mode"}),t.jsxs("select",{value:d.mode,onChange:E=>m(D=>({...D,mode:E.target.value})),className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[t.jsx("option",{value:"percent",children:"Percent (%)"}),t.jsx("option",{value:"flat",children:"Flat Amount"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value"}),t.jsx("input",{type:"number",value:d.value,onChange:E=>m(D=>({...D,value:E.target.value})),className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",min:0,step:"0.1",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Note"}),t.jsx("input",{value:d.note,onChange:E=>m(D=>({...D,note:E.target.value})),placeholder:"Optional audit note",className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Employees"}),t.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>c(l.length===n.length?[]:n.map(E=>E.id)),children:l.length===n.length?"Clear":"Select All"})]}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-2 max-h-52 overflow-y-auto border rounded-lg p-3 bg-gray-50",children:n.map(E=>t.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[t.jsx("input",{type:"checkbox",checked:l.includes(E.id),onChange:()=>w(E.id)}),t.jsxs("span",{children:[E.name,t.jsxs("span",{className:"text-xs text-gray-500",children:["  ",E.designation]})]})]},E.id))}),t.jsxs("p",{className:"text-xs text-gray-500",children:[l.length," employees selected"]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs(Z,{type:"submit",className:"gap-2",children:[t.jsx(As,{className:"w-4 h-4"}),"Create Batch"]})})]})}),t.jsxs(H,{title:"Batches",subtitle:"Apply and audit historical increments",children:[t.jsx(ha,{value:f,onValueChange:h,children:t.jsxs(pa,{children:[t.jsx(Ve,{value:"pending",children:"Pending"}),t.jsx(Ve,{value:"applied",children:"Applied"})]})}),t.jsx("div",{className:"mt-4 space-y-3",children:b.length===0?t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[t.jsx(Ue,{className:"w-4 h-4"})," No batches found"]}):b.map(E=>t.jsxs("div",{className:"border rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3 hover:bg-gray-50",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:E.title}),A(E.status)]}),t.jsxs("p",{className:"text-sm text-gray-600",children:[E.type," "," ",E.mode==="percent"?`${E.value}%`:`PKR ${E.value}`]}),t.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[t.jsx(nt,{className:"w-4 h-4"})," Effective ",E.effectiveDate]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Batch Code: ",E.code]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Z,{variant:"outline",size:"sm",onClick:()=>S(E),children:"View"}),E.status==="Pending"&&t.jsx(Z,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>s(E.id,{approvedBy:e?.name}),children:"Apply"})]})]},E.id))})]}),t.jsx(ft,{isOpen:g,onClose:()=>y(!1),title:"Batch Preview",size:"lg",children:v&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(dr,{className:"w-5 h-5 text-green-600"}),t.jsxs("span",{children:[v.title,"  ",v.code]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-gray-700",children:[t.jsxs("div",{children:["Type: ",v.type]}),t.jsxs("div",{children:["Mode: ",v.mode==="percent"?"Percent":"Flat"]}),t.jsxs("div",{children:["Value:"," ",v.mode==="percent"?`${v.value}%`:`PKR ${v.value}`]}),t.jsxs("div",{children:["Effective: ",v.effectiveDate]})]}),t.jsxs("div",{className:"max-h-64 overflow-y-auto border rounded-lg p-3 bg-gray-50",children:[t.jsxs("div",{className:"grid grid-cols-3 text-xs font-semibold text-gray-500 mb-2",children:[t.jsx("span",{children:"Employee"}),t.jsx("span",{children:"Previous"}),t.jsx("span",{children:"New"})]}),v.items.map(E=>t.jsxs("div",{className:"grid grid-cols-3 text-sm py-1",children:[t.jsx("span",{children:E.employeeName}),t.jsx("span",{className:"text-gray-500",children:E.previousSalary.toLocaleString()}),t.jsx("span",{className:"text-green-700 font-medium",children:E.newSalary.toLocaleString()})]},E.employeeId))]}),v.audit&&v.audit.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Audit Trail"}),v.audit.map((E,D)=>t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[E.action==="applied"?t.jsx(Be,{className:"w-4 h-4 text-green-500"}):t.jsx(sa,{className:"w-4 h-4 text-amber-500"}),t.jsx("span",{className:"font-semibold capitalize",children:E.action}),t.jsx("span",{children:E.date}),t.jsxs("span",{children:["by ",E.by]}),E.note&&t.jsxs("span",{className:"text-gray-500",children:[" ",E.note]})]},D))]})]})})]})}const jse=e=>{const n={Pending:"warning",Approved:"success",Rejected:"error"};return t.jsx(le,{variant:n[e]||"secondary",children:e})};function Nse(){const e=at(g=>g.user),{profileUpdateRequests:n,reviewProfileUpdateRequest:a}=ve(),[r,s]=x.useState("Pending"),[l,c]=x.useState(null),[d,m]=x.useState({status:"Approved",notes:""}),f=x.useMemo(()=>n.filter(g=>g.status===r),[n,r]),h=()=>{l&&(a(l.id,{status:d.status,notes:d.notes,reviewer:e?.name||"HR"}),c(null),m({status:"Approved",notes:""}))};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile Update Requests"}),t.jsx("p",{className:"text-gray-600",children:"HR-controlled approvals for employee self-service changes."})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(xi,{className:"w-5 h-5"}),n.length," requests"]})]}),t.jsxs(H,{children:[t.jsx(ha,{value:r,onValueChange:s,children:t.jsxs(pa,{children:[t.jsx(Ve,{value:"Pending",children:"Pending"}),t.jsx(Ve,{value:"Approved",children:"Approved"}),t.jsx(Ve,{value:"Rejected",children:"Rejected"})]})}),t.jsx("div",{className:"mt-4 space-y-3",children:f.length===0?t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[t.jsx(Ue,{className:"w-4 h-4"})," No requests in this state"]}):f.map(g=>t.jsxs("div",{className:"border rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3 hover:bg-gray-50",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:g.employeeName}),jse(g.status)]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Requested by ",g.requestedBy]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted ",g.requestedOn]}),t.jsx("div",{className:"text-xs text-gray-600 flex flex-wrap gap-1",children:Object.keys(g.changes||{}).map(y=>t.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-full",children:y},y))}),g.notes&&t.jsxs("p",{className:"text-sm text-gray-500",children:["Note: ",g.notes]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>c(g),children:[t.jsx(Pp,{className:"w-4 h-4"}),"Review"]})})]},g.id))})]}),t.jsx(ft,{isOpen:!!l,onClose:()=>c(null),title:"Review Profile Update",size:"lg",children:l&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Zu,{className:"w-8 h-8 text-indigo-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:l.employeeName}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Requested on ",l.requestedOn]})]})]}),t.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50 space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Requested Changes"}),Object.entries(l.changes||{}).map(([g,y])=>t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600 capitalize",children:g}),t.jsx("span",{className:"text-gray-900",children:String(y)})]},g))]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ue,{className:"w-4 h-4"})," ",l.status]}),l.reviewedBy&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Be,{className:"w-4 h-4 text-green-500"})," Reviewed by"," ",l.reviewedBy]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Decision"}),t.jsxs("select",{value:d.status,onChange:g=>m(y=>({...y,status:g.target.value})),className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[t.jsx("option",{value:"Approved",children:"Approve"}),t.jsx("option",{value:"Rejected",children:"Reject"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),t.jsx("textarea",{value:d.notes,onChange:g=>m(y=>({...y,notes:g.target.value})),rows:3,placeholder:"Add optional comments for audit trail",className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx(Z,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),t.jsx(Z,{onClick:h,className:d.status==="Rejected"?"bg-red-600 hover:bg-red-700":"",children:d.status==="Rejected"?t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(zt,{className:"w-4 h-4"})," Reject"]}):t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Be,{className:"w-4 h-4"})," Approve"]})})]})]})})]})}const wse=e=>{const n={Draft:"secondary","Pending Approval":"warning",Approved:"info",Posted:"success"};return t.jsx(le,{variant:n[e]||"secondary",children:e})};function Sse(){const e=at(b=>b.user),{payrollRuns:n,generatePayrollRun:a,updatePayrollRunStatus:r,postPayrollRun:s,payrollSettings:l}=ve(),[c,d]=x.useState(U(new Date,"yyyy-MM")),[m,f]=x.useState(null),[h,g]=x.useState("runs"),y=x.useMemo(()=>n.slice().sort((b,w)=>new Date(w.period?.startDate||0)-new Date(b.period?.startDate||0)),[n]),v=b=>{if(b.preventDefault(),!c)return;const[w,M]=c.split("-"),S=Number(M),A=Number(w);a({month:S,year:A,createdBy:e?.name})},j=b=>b.summary?.exceptions||0;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payroll"}),t.jsx("p",{className:"text-gray-600",children:"Generate payroll runs, review exceptions, and post approved payrolls."})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(ur,{className:"w-5 h-5"})," ",y.length," runs"]})]}),t.jsxs(ha,{value:h,onValueChange:g,children:[t.jsxs(pa,{children:[t.jsx(Ve,{value:"runs",children:"Runs"}),t.jsx(Ve,{value:"settings",children:"Current Rules"})]}),t.jsxs(bt,{value:"runs",children:[t.jsx(H,{title:"New Payroll Run",subtitle:"Create a draft payroll for a period",children:t.jsxs("form",{onSubmit:v,className:"grid sm:grid-cols-3 gap-4 items-end",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Period"}),t.jsx("input",{type:"month",value:c,onChange:b=>d(b.target.value),className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0})]}),t.jsx("div",{className:"sm:col-span-2 flex gap-2",children:t.jsxs(Z,{type:"submit",className:"gap-2",children:[t.jsx(gt,{className:"w-4 h-4"})," Generate Draft"]})})]})}),t.jsx(H,{title:"Runs",subtitle:"Approve and post payroll",children:t.jsxs("div",{className:"space-y-3",children:[y.length===0&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[t.jsx(nt,{className:"w-4 h-4"})," No runs yet"]}),y.map(b=>t.jsxs("div",{className:"border rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3 hover:bg-gray-50",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:b.period?.label}),wse(b.status),j(b)>0&&t.jsxs(le,{variant:"warning",children:[j(b)," exceptions"]})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Gross ",b.summary?.totalGross?.toLocaleString(),"  Net"," ",b.summary?.totalNet?.toLocaleString(),"  Deductions"," ",b.summary?.totalDeductions?.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Created ",b.createdAt]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Z,{variant:"outline",size:"sm",onClick:()=>f(b),children:"View"}),b.status==="Draft"&&t.jsx(Z,{size:"sm",variant:"outline",onClick:()=>r(b.id,"Approved",{by:e?.name||"HR"}),children:"Approve"}),b.status!=="Posted"&&t.jsx(Z,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>s(b.id,{postedBy:e?.name||"HR"}),children:"Post"})]})]},b.id))]})})]}),t.jsx(bt,{value:"settings",children:t.jsx(H,{title:"Current Payroll Rules",subtitle:"Read-only snapshot from Payroll Settings",children:t.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 text-sm text-gray-700",children:[t.jsxs("div",{children:["Working days: ",l?.workingDays]}),t.jsxs("div",{children:["Late penalty: ",l?.deductionConfig?.latePenalty]}),t.jsxs("div",{children:["Absent penalty: ",l?.deductionConfig?.absentPenaltyType," ",l?.deductionConfig?.absentPenaltyType==="fixed"?`(${l?.deductionConfig?.absentPenaltyValue})`:""]}),t.jsxs("div",{children:["House allowance: ",l?.allowanceConfig?.housePercent,"%"]}),t.jsxs("div",{children:["Medical allowance: ",l?.allowanceConfig?.medicalPercent,"%"]}),t.jsxs("div",{children:["Transport: ",l?.allowanceConfig?.transportFixed]}),t.jsxs("div",{children:["Tax threshold: ",l?.deductionConfig?.taxThreshold]}),t.jsxs("div",{children:["Tax rate: ",l?.deductionConfig?.taxRate,"%"]}),t.jsxs("div",{children:["Overtime rate: ",l?.overtimeRate,"x"]})]})})})]}),t.jsx(ft,{isOpen:!!m,onClose:()=>f(null),title:m?`Run ${m.period?.label}`:"",size:"lg",children:m&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(nt,{className:"w-5 h-5"}),t.jsxs("span",{children:[m.period?.startDate,"  ",m.period?.endDate]})]}),j(m)>0&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-700 bg-amber-50 p-3 rounded-lg",children:[t.jsx(sa,{className:"w-5 h-5"}),t.jsxs("span",{children:[j(m)," employees have exceptions"]})]}),t.jsx("div",{className:"max-h-72 overflow-y-auto border rounded-lg divide-y",children:m.items.map(b=>t.jsxs("div",{className:"p-3 text-sm space-y-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:b.employeeName}),t.jsxs("p",{className:"text-xs text-gray-500",children:[b.department,"  ",b.designation]})]}),b.exceptions?.length>0&&t.jsx(le,{variant:"warning",children:"Exception"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-2 text-gray-700",children:[t.jsxs("span",{children:["Gross: ",b.earnings?.total?.toLocaleString()]}),t.jsxs("span",{children:["Deductions: ",b.deductions?.total?.toLocaleString()]}),t.jsxs("span",{children:["Net: ",b.netPay?.toLocaleString()]})]}),b.exceptions?.length>0&&t.jsx("ul",{className:"text-xs text-amber-700 list-disc ml-5",children:b.exceptions.map((w,M)=>t.jsx("li",{children:w},M))})]},b.employeeId))}),m.status!=="Posted"&&t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsxs(Z,{variant:"outline",onClick:()=>r(m.id,"Approved",{by:e?.name||"HR"}),children:[t.jsx(Be,{className:"w-4 h-4"})," Approve"]}),t.jsx(Z,{className:"bg-green-600 hover:bg-green-700",onClick:()=>s(m.id,{postedBy:e?.name||"HR"}),children:"Post"})]})]})})]})}const Ase={error:"error",warning:"warning",info:"info"};function Cse(){const e=at(w=>w.user),{employees:n,flagAttendanceAnomalies:a,attendanceCorrections:r,reviewAttendanceCorrection:s}=ve(),[l,c]=x.useState(null),[d,m]=x.useState("anomalies"),[f,h]=x.useState(null),[g,y]=x.useState({status:"Approved",notes:""}),v=x.useMemo(()=>l?a(l.id):{anomalies:[]},[l,a]),j=x.useMemo(()=>l?r.filter(w=>w.employeeId===l.id):[],[l,r]),b=()=>{f&&(s(f.id,{status:g.status,notes:g.notes,reviewer:e?.name||"HR"}),h(null),y({status:"Approved",notes:""}))};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Attendance Management"}),t.jsx("p",{className:"text-gray-600",children:"Monitor anomalies, review corrections, and manage attendance records"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(Ue,{className:"w-5 h-5"})," ",r.length," corrections pending"]})]}),t.jsxs(H,{children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Employee"}),t.jsxs("select",{value:l?.id||"",onChange:w=>{const M=n.find(S=>S.id===w.target.value);c(M)},className:"w-full rounded-lg border border-gray-300 px-4 py-2 text-sm focus:border-blue-500 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"-- Choose Employee --"}),n.map(w=>t.jsxs("option",{value:w.id,children:[w.name," (",w.department,")"]},w.id))]})]}),l&&t.jsxs(t.Fragment,{children:[t.jsx(ha,{value:d,onValueChange:m,children:t.jsxs(pa,{children:[t.jsx(Ve,{value:"anomalies",children:"Anomalies"}),t.jsx(Ve,{value:"corrections",children:"Corrections"})]})}),d==="anomalies"&&t.jsx("div",{className:"mt-4 space-y-3",children:v.anomalies.length===0?t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[t.jsx(Be,{className:"w-4 h-4"})," No anomalies detected"]}):v.anomalies.map((w,M)=>t.jsxs("div",{className:`p-4 rounded-lg border flex items-start gap-3 ${w.severity==="error"?"bg-red-50 border-red-200":w.severity==="warning"?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"}`,children:[t.jsx(sa,{className:`w-5 h-5 shrink-0 ${w.severity==="error"?"text-red-600":w.severity==="warning"?"text-yellow-600":"text-blue-600"}`}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-semibold text-gray-900",children:w.message}),t.jsxs("p",{className:"text-xs text-gray-600 capitalize",children:["Type: ",w.type]})]}),t.jsx(le,{variant:Ase[w.severity],children:w.severity})]},M))}),d==="corrections"&&t.jsx("div",{className:"mt-4 space-y-3",children:j.length===0?t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[t.jsx(gt,{className:"w-4 h-4"})," No correction requests"]}):j.map(w=>t.jsxs("div",{className:"border rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3 hover:bg-gray-50",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:U(me(w.originalAttendance.date),"MMM d, yyyy")}),t.jsx(le,{variant:w.status==="Pending"?"warning":w.status==="Approved"?"success":"error",children:w.status})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:[w.originalAttendance.status," "," ",w.requestedChange.status]}),t.jsx("p",{className:"text-xs text-gray-500",children:w.reason})]}),w.status==="Pending"&&t.jsx(Z,{variant:"outline",size:"sm",onClick:()=>h(w),children:"Review"})]},w.id))})]})]}),t.jsx(ft,{isOpen:!!f,onClose:()=>h(null),title:"Review Attendance Correction",size:"lg",children:f&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Zu,{className:"w-8 h-8 text-indigo-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:f.employeeName}),t.jsx("p",{className:"text-sm text-gray-500",children:f.department})]})]}),t.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50 space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Original Attendance"}),t.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[t.jsxs("span",{children:["Date: ",U(me(f.originalAttendance.date),"PPP")]}),t.jsx(le,{variant:"secondary",children:f.originalAttendance.status})]})]}),t.jsxs("div",{className:"border rounded-lg p-3 bg-blue-50 space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Requested Correction"}),t.jsxs("div",{className:"flex justify-between text-sm text-blue-700",children:[t.jsxs("span",{children:["Change to: ",f.requestedChange.status]}),t.jsx(le,{variant:"info",children:f.requestedChange.status})]}),t.jsxs("p",{className:"text-sm text-blue-700",children:["Reason: ",f.reason]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Decision"}),t.jsxs("select",{value:g.status,onChange:w=>y(M=>({...M,status:w.target.value})),className:"w-full rounded-lg border border-gray-300 px-4 py-2 text-sm focus:border-blue-500 focus:ring-blue-500",children:[t.jsx("option",{value:"Approved",children:"Approve"}),t.jsx("option",{value:"Rejected",children:"Reject"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),t.jsx("textarea",{value:g.notes,onChange:w=>y(M=>({...M,notes:w.target.value})),rows:3,placeholder:"Add optional comments for audit trail",className:"w-full rounded-lg border border-gray-300 px-4 py-2 text-sm focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx(Z,{variant:"outline",onClick:()=>h(null),children:"Cancel"}),t.jsx(Z,{onClick:b,className:g.status==="Rejected"?"bg-red-600 hover:bg-red-700":"",children:g.status})]})]})})]})}const m4={applied:"default",screening:"info",shortlisted:"info",technical:"warning",panel:"warning",selection_board:"info",offer:"success",hired:"success",rejected:"error"};function Mse(){const e=at(Y=>Y.user),{candidates:n,addCandidate:a,updateCandidateStage:r,addCandidateEvaluation:s,addSelectionBoardApproval:l}=ve(),[c,d]=x.useState("shortlisted"),[m,f]=x.useState(null),[h,g]=x.useState({stage:"offer",notes:""}),[y,v]=x.useState({decision:"approved",notes:""}),[j,b]=x.useState(!1),[w,M]=x.useState({name:"",email:"",phone:"",department:"",role:"",source:"Direct",resumeUrl:""}),[S,A]=x.useState(""),[E,D]=x.useState("all"),[P,T]=x.useState("all"),[O,k]=x.useState("all"),B=x.useMemo(()=>{const Y=S.toLowerCase();return n.filter(ae=>{const je=!Y||ae.name?.toLowerCase().includes(Y)||ae.email?.toLowerCase().includes(Y)||ae.role?.toLowerCase().includes(Y),V=E==="all"||ae.department===E,fe=P==="all"||ae.role===P,Ne=O==="all"||(ae.source||"").toLowerCase()===O;return je&&V&&fe&&Ne})},[n,S,E,P,O]),I=x.useMemo(()=>Kf.reduce((Y,ae)=>(Y[ae.id]=B.filter(je=>je.stage===ae.id),Y),{}),[B]),z=x.useMemo(()=>{const Y=new Set(n.map(ae=>ae.department).filter(Boolean));return Array.from(Y)},[n]),J=x.useMemo(()=>{const Y=new Set(n.map(ae=>ae.role).filter(Boolean));return Array.from(Y)},[n]),L=x.useMemo(()=>{const Y=new Set(n.map(ae=>(ae.source||"").toLowerCase()).filter(Boolean));return Array.from(Y)},[n]),G=x.useMemo(()=>{const Y=n.length,ae=n.filter(se=>se.stage==="offer").length,je=n.filter(se=>se.stage==="hired").length,V=new Date,fe=n.map(se=>{const Se=se.stageUpdatedOn||se.appliedOn;return Se?Math.max(0,rs(V,me(Se))):null}).filter(se=>se!==null),Ne=fe.length?Math.round(fe.reduce((se,Se)=>se+Se,0)/fe.length):0;return{total:Y,offers:ae,hired:je,avgStage:Ne}},[n]),W=()=>{m&&(r(m.id,h.stage,{decisionNotes:h.notes}),f(null),g({stage:"offer",notes:""}))},R=()=>{m&&(l(m.id,{by:e?.name||"Selection Board",decision:y.decision,notes:y.notes}),v({decision:"approved",notes:""}))},F=Y=>{const ae=Y.stageUpdatedOn||Y.appliedOn;return ae?Math.max(0,rs(new Date,me(ae))):null},q=Y=>{Y.preventDefault(),!(!w.name||!w.email||!w.role)&&(a({...w,stage:"applied",stageUpdatedOn:U(new Date,"yyyy-MM-dd"),source:w.source||"Direct",documents:w.resumeUrl?[{id:`doc-${Date.now()}`,name:"Resume",url:w.resumeUrl,type:"resume",storage:w.resumeUrl.includes("drive.google")?"google-drive":"web",version:1}]:[]}),b(!1),M({name:"",email:"",phone:"",department:"",role:"",source:"Direct",resumeUrl:""}))};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Recruitment & ATS"}),t.jsx("p",{className:"text-gray-600",children:"Track candidates, interviews, and Selection Board approvals"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(Mh,{className:"w-5 h-5"})," ",n.length," candidates",t.jsx(Z,{size:"sm",onClick:()=>b(!0),className:"ml-2",children:"Add Candidate"})]})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[{label:"Total",value:G.total,icon:Mh,color:"indigo"},{label:"Offers",value:G.offers,icon:Be,color:"emerald"},{label:"Hired",value:G.hired,icon:Be,color:"green"},{label:"Avg days in stage",value:G.avgStage,icon:Ue,color:"amber"}].map(Y=>t.jsx(H,{className:`border-${Y.color}-100 bg-${Y.color}-50`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:`text-sm text-${Y.color}-600`,children:Y.label}),t.jsx("p",{className:`text-2xl font-bold text-${Y.color}-800`,children:Y.value})]}),t.jsx(Y.icon,{className:`w-8 h-8 text-${Y.color}-500`})]})},Y.label))}),t.jsxs(H,{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[t.jsx("div",{className:"w-full md:w-72",children:t.jsx(Rn,{type:"text",value:S,onChange:Y=>A(Y.target.value),placeholder:"Search name, email, role",className:"w-full",inputClassName:"pr-3 py-2 text-sm"})}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs("select",{value:E,onChange:Y=>D(Y.target.value),className:"rounded-lg border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"all",children:"All Departments"}),z.map(Y=>t.jsx("option",{value:Y,children:Y},Y))]}),t.jsxs("select",{value:P,onChange:Y=>T(Y.target.value),className:"rounded-lg border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"all",children:"All Roles"}),J.map(Y=>t.jsx("option",{value:Y,children:Y},Y))]}),t.jsxs("select",{value:O,onChange:Y=>k(Y.target.value),className:"rounded-lg border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"all",children:"All Sources"}),L.map(Y=>t.jsx("option",{value:Y,children:Y},Y))]})]})]}),t.jsxs(ha,{value:c,onValueChange:d,children:[t.jsx(pa,{className:"flex-wrap",children:Kf.map(Y=>t.jsxs(Ve,{value:Y.id,children:[Y.name," (",I[Y.id]?.length||0,")"]},Y.id))}),Kf.map(Y=>t.jsx(bt,{value:Y.id,children:t.jsx(H,{children:(I[Y.id]||[]).length===0?t.jsx("div",{className:"text-center py-10 text-gray-500",children:"No candidates in this stage"}):t.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:I[Y.id].map(ae=>t.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>f(ae),children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:ae.name}),t.jsx("p",{className:"text-sm text-gray-600",children:ae.role})]}),t.jsx(le,{variant:m4[ae.stage]||"default",children:ae.stage})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-1",children:[t.jsxs("span",{children:["Applied ",ae.appliedOn]}),F(ae)!==null&&t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-amber-50 text-amber-700 border border-amber-100",children:[t.jsx(Ue,{className:"w-3.5 h-3.5"})," ",F(ae),"d in stage"]})]}),t.jsxs("div",{className:"mt-3 space-y-1 text-sm text-gray-700",children:[t.jsxs("p",{children:["Department: ",ae.department]}),t.jsxs("p",{children:["Source: ",ae.source||"N/A"]})]})]},ae.id))})})},Y.id))]}),t.jsx(ft,{isOpen:!!m,onClose:()=>f(null),title:"Candidate Details",size:"lg",children:m&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m.name}),t.jsx("p",{className:"text-sm text-gray-600",children:m.role})]}),t.jsx(le,{variant:m4[m.stage]||"default",children:m.stage})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-3 text-sm text-gray-700",children:[t.jsxs("p",{children:["Email: ",m.email]}),t.jsxs("p",{children:["Phone: ",m.phone]}),t.jsxs("p",{children:["Department: ",m.department]}),t.jsxs("p",{children:["Applied On: ",U(me(m.appliedOn),"PPP")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-800 mb-2",children:"Evaluations"}),m.evaluations?.length?t.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[t.jsx("span",{children:"Avg score"}),t.jsx("span",{className:"font-semibold",children:(m.evaluations.reduce((Y,ae)=>Y+(ae.score||0),0)/m.evaluations.length).toFixed(1)})]}),m.evaluations.map((Y,ae)=>t.jsxs("div",{className:"border rounded p-2 flex justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium capitalize",children:Y.stage}),t.jsx("p",{className:"text-xs text-gray-500",children:Y.notes})]}),t.jsxs("div",{className:"text-right text-xs text-gray-500",children:[t.jsxs("p",{children:["Score: ",Y.score??"-"]}),t.jsx("p",{children:Y.date})]})]},ae))]}):t.jsx("p",{className:"text-xs text-gray-500",children:"No evaluations yet"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Selection Board"}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[t.jsx(xi,{className:"w-5 h-5 text-indigo-600"}),m.selectionBoard?.status||"pending",m.selectionBoard?.approvals&&t.jsxs("span",{className:"text-xs text-gray-500",children:[(m.selectionBoard.approvals||[]).filter(Y=>Y.decision==="approved").length,"/",m.selectionBoard.approvals?.length||0," approvals"]})]}),m.selectionBoard?.approvals?.length?t.jsx("div",{className:"space-y-1 text-xs text-gray-600",children:m.selectionBoard.approvals.map((Y,ae)=>t.jsxs("div",{className:"flex items-center justify-between rounded border px-2 py-1",children:[t.jsx("span",{className:"font-medium capitalize",children:Y.by||"Member"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(le,{variant:Y.decision==="approved"?"success":"error",children:Y.decision}),t.jsx("span",{children:Y.date})]})]},ae))}):null,t.jsxs("div",{className:"flex gap-2 text-sm",children:[t.jsxs("select",{value:y.decision,onChange:Y=>v(ae=>({...ae,decision:Y.target.value})),className:"rounded border px-3 py-1 text-sm",children:[t.jsx("option",{value:"approved",children:"Approve"}),t.jsx("option",{value:"rejected",children:"Reject"})]}),t.jsx("input",{value:y.notes,onChange:Y=>v(ae=>({...ae,notes:Y.target.value})),placeholder:"Notes",className:"flex-1 rounded border px-3 py-1 text-sm"}),t.jsx(Z,{size:"sm",variant:"outline",onClick:R,children:"Record"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Advance Stage"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("select",{value:h.stage,onChange:Y=>g(ae=>({...ae,stage:Y.target.value})),className:"rounded border px-3 py-1 text-sm",children:Kf.map(Y=>t.jsx("option",{value:Y.id,children:Y.name},Y.id))}),t.jsx("input",{value:h.notes,onChange:Y=>g(ae=>({...ae,notes:Y.target.value})),placeholder:"Decision notes",className:"flex-1 rounded border px-3 py-1 text-sm"}),t.jsx(Z,{size:"sm",onClick:W,children:"Move"})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-800 mb-2",children:"Documents"}),m.documents?.length?t.jsx("ul",{className:"space-y-1 text-sm text-gray-700",children:m.documents.map(Y=>t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(gt,{className:"w-4 h-4"}),t.jsx("a",{href:Y.url||Y.link,target:"_blank",rel:"noreferrer",className:"text-indigo-600 hover:underline",children:Y.name||Y.title}),t.jsxs("span",{className:"text-xs text-gray-500",children:["v",Y.version||1]})]},Y.id))}):t.jsx("p",{className:"text-xs text-gray-500",children:"No documents linked"})]})]})}),t.jsx(ft,{isOpen:j,onClose:()=>b(!1),title:"Add Candidate",children:t.jsxs("form",{className:"space-y-3",onSubmit:q,children:[t.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm text-gray-700",children:"Name"}),t.jsx("input",{className:"w-full rounded border px-3 py-2 text-sm",value:w.name,onChange:Y=>M(ae=>({...ae,name:Y.target.value})),required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm text-gray-700",children:"Email"}),t.jsx("input",{type:"email",className:"w-full rounded border px-3 py-2 text-sm",value:w.email,onChange:Y=>M(ae=>({...ae,email:Y.target.value})),required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm text-gray-700",children:"Phone"}),t.jsx("input",{className:"w-full rounded border px-3 py-2 text-sm",value:w.phone,onChange:Y=>M(ae=>({...ae,phone:Y.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm text-gray-700",children:"Department"}),t.jsx("input",{className:"w-full rounded border px-3 py-2 text-sm",value:w.department,onChange:Y=>M(ae=>({...ae,department:Y.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm text-gray-700",children:"Role"}),t.jsx("input",{className:"w-full rounded border px-3 py-2 text-sm",value:w.role,onChange:Y=>M(ae=>({...ae,role:Y.target.value})),required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm text-gray-700",children:"Source"}),t.jsx("input",{className:"w-full rounded border px-3 py-2 text-sm",value:w.source,onChange:Y=>M(ae=>({...ae,source:Y.target.value}))})]}),t.jsxs("div",{className:"sm:col-span-2",children:[t.jsx("label",{className:"text-sm text-gray-700",children:"Resume Link (Drive/Web)"}),t.jsx("input",{className:"w-full rounded border px-3 py-2 text-sm",value:w.resumeUrl,onChange:Y=>M(ae=>({...ae,resumeUrl:Y.target.value}))})]})]}),t.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[t.jsx(Z,{type:"button",variant:"outline",onClick:()=>b(!1),children:"Cancel"}),t.jsx(Z,{type:"submit",children:"Save"})]})]})})]})}function pl(e,n){return typeof e=="function"?e(n):e}function hr(e,n){return a=>{n.setState(r=>({...r,[e]:pl(a,r[e])}))}}function Px(e){return e instanceof Function}function Dse(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function Ese(e,n){const a=[],r=s=>{s.forEach(l=>{a.push(l);const c=n(l);c!=null&&c.length&&r(c)})};return r(e),a}function Qe(e,n,a){let r=[],s;return l=>{let c;a.key&&a.debug&&(c=Date.now());const d=e(l);if(!(d.length!==r.length||d.some((h,g)=>r[g]!==h)))return s;r=d;let f;if(a.key&&a.debug&&(f=Date.now()),s=n(...d),a==null||a.onChange==null||a.onChange(s),a.key&&a.debug&&a!=null&&a.debug()){const h=Math.round((Date.now()-c)*100)/100,g=Math.round((Date.now()-f)*100)/100,y=g/16,v=(j,b)=>{for(j=String(j);j.length<b;)j=" "+j;return j};console.info(`%c ${v(g,5)} /${v(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*y,120))}deg 100% 31%);`,a?.key)}return s}}function Je(e,n,a,r){return{debug:()=>{var s;return(s=e?.debugAll)!=null?s:e[n]},key:!1,onChange:r}}function Ose(e,n,a,r){const s=()=>{var c;return(c=l.getValue())!=null?c:e.options.renderFallbackValue},l={id:`${n.id}_${a.id}`,row:n,column:a,getValue:()=>n.getValue(r),renderValue:s,getContext:Qe(()=>[e,a,n,l],(c,d,m,f)=>({table:c,column:d,row:m,cell:f,getValue:f.getValue,renderValue:f.renderValue}),Je(e.options,"debugCells"))};return e._features.forEach(c=>{c.createCell==null||c.createCell(l,a,n,e)},{}),l}function Pse(e,n,a,r){var s,l;const d={...e._getDefaultColumnDef(),...n},m=d.accessorKey;let f=(s=(l=d.id)!=null?l:m?typeof String.prototype.replaceAll=="function"?m.replaceAll(".","_"):m.replace(/\./g,"_"):void 0)!=null?s:typeof d.header=="string"?d.header:void 0,h;if(d.accessorFn?h=d.accessorFn:m&&(m.includes(".")?h=y=>{let v=y;for(const b of m.split(".")){var j;v=(j=v)==null?void 0:j[b]}return v}:h=y=>y[d.accessorKey]),!f)throw new Error;let g={id:`${String(f)}`,accessorFn:h,parent:r,depth:a,columnDef:d,columns:[],getFlatColumns:Qe(()=>[!0],()=>{var y;return[g,...(y=g.columns)==null?void 0:y.flatMap(v=>v.getFlatColumns())]},Je(e.options,"debugColumns")),getLeafColumns:Qe(()=>[e._getOrderColumnsFn()],y=>{var v;if((v=g.columns)!=null&&v.length){let j=g.columns.flatMap(b=>b.getLeafColumns());return y(j)}return[g]},Je(e.options,"debugColumns"))};for(const y of e._features)y.createColumn==null||y.createColumn(g,e);return g}const xa="debugHeaders";function f4(e,n,a){var r;let l={id:(r=a.id)!=null?r:n.id,column:n,index:a.index,isPlaceholder:!!a.isPlaceholder,placeholderId:a.placeholderId,depth:a.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const c=[],d=m=>{m.subHeaders&&m.subHeaders.length&&m.subHeaders.map(d),c.push(m)};return d(l),c},getContext:()=>({table:e,header:l,column:n})};return e._features.forEach(c=>{c.createHeader==null||c.createHeader(l,e)}),l}const kse={createTable:e=>{e.getHeaderGroups=Qe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,a,r,s)=>{var l,c;const d=(l=r?.map(g=>a.find(y=>y.id===g)).filter(Boolean))!=null?l:[],m=(c=s?.map(g=>a.find(y=>y.id===g)).filter(Boolean))!=null?c:[],f=a.filter(g=>!(r!=null&&r.includes(g.id))&&!(s!=null&&s.includes(g.id)));return mh(n,[...d,...f,...m],e)},Je(e.options,xa)),e.getCenterHeaderGroups=Qe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,a,r,s)=>(a=a.filter(l=>!(r!=null&&r.includes(l.id))&&!(s!=null&&s.includes(l.id))),mh(n,a,e,"center")),Je(e.options,xa)),e.getLeftHeaderGroups=Qe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,a,r)=>{var s;const l=(s=r?.map(c=>a.find(d=>d.id===c)).filter(Boolean))!=null?s:[];return mh(n,l,e,"left")},Je(e.options,xa)),e.getRightHeaderGroups=Qe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,a,r)=>{var s;const l=(s=r?.map(c=>a.find(d=>d.id===c)).filter(Boolean))!=null?s:[];return mh(n,l,e,"right")},Je(e.options,xa)),e.getFooterGroups=Qe(()=>[e.getHeaderGroups()],n=>[...n].reverse(),Je(e.options,xa)),e.getLeftFooterGroups=Qe(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),Je(e.options,xa)),e.getCenterFooterGroups=Qe(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),Je(e.options,xa)),e.getRightFooterGroups=Qe(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),Je(e.options,xa)),e.getFlatHeaders=Qe(()=>[e.getHeaderGroups()],n=>n.map(a=>a.headers).flat(),Je(e.options,xa)),e.getLeftFlatHeaders=Qe(()=>[e.getLeftHeaderGroups()],n=>n.map(a=>a.headers).flat(),Je(e.options,xa)),e.getCenterFlatHeaders=Qe(()=>[e.getCenterHeaderGroups()],n=>n.map(a=>a.headers).flat(),Je(e.options,xa)),e.getRightFlatHeaders=Qe(()=>[e.getRightHeaderGroups()],n=>n.map(a=>a.headers).flat(),Je(e.options,xa)),e.getCenterLeafHeaders=Qe(()=>[e.getCenterFlatHeaders()],n=>n.filter(a=>{var r;return!((r=a.subHeaders)!=null&&r.length)}),Je(e.options,xa)),e.getLeftLeafHeaders=Qe(()=>[e.getLeftFlatHeaders()],n=>n.filter(a=>{var r;return!((r=a.subHeaders)!=null&&r.length)}),Je(e.options,xa)),e.getRightLeafHeaders=Qe(()=>[e.getRightFlatHeaders()],n=>n.filter(a=>{var r;return!((r=a.subHeaders)!=null&&r.length)}),Je(e.options,xa)),e.getLeafHeaders=Qe(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,a,r)=>{var s,l,c,d,m,f;return[...(s=(l=n[0])==null?void 0:l.headers)!=null?s:[],...(c=(d=a[0])==null?void 0:d.headers)!=null?c:[],...(m=(f=r[0])==null?void 0:f.headers)!=null?m:[]].map(h=>h.getLeafHeaders()).flat()},Je(e.options,xa))}};function mh(e,n,a,r){var s,l;let c=0;const d=function(y,v){v===void 0&&(v=1),c=Math.max(c,v),y.filter(j=>j.getIsVisible()).forEach(j=>{var b;(b=j.columns)!=null&&b.length&&d(j.columns,v+1)},0)};d(e);let m=[];const f=(y,v)=>{const j={depth:v,id:[r,`${v}`].filter(Boolean).join("_"),headers:[]},b=[];y.forEach(w=>{const M=[...b].reverse()[0],S=w.column.depth===j.depth;let A,E=!1;if(S&&w.column.parent?A=w.column.parent:(A=w.column,E=!0),M&&M?.column===A)M.subHeaders.push(w);else{const D=f4(a,A,{id:[r,v,A.id,w?.id].filter(Boolean).join("_"),isPlaceholder:E,placeholderId:E?`${b.filter(P=>P.column===A).length}`:void 0,depth:v,index:b.length});D.subHeaders.push(w),b.push(D)}j.headers.push(w),w.headerGroup=j}),m.push(j),v>0&&f(b,v-1)},h=n.map((y,v)=>f4(a,y,{depth:c,index:v}));f(h,c-1),m.reverse();const g=y=>y.filter(j=>j.column.getIsVisible()).map(j=>{let b=0,w=0,M=[0];j.subHeaders&&j.subHeaders.length?(M=[],g(j.subHeaders).forEach(A=>{let{colSpan:E,rowSpan:D}=A;b+=E,M.push(D)})):b=1;const S=Math.min(...M);return w=w+S,j.colSpan=b,j.rowSpan=w,{colSpan:b,rowSpan:w}});return g((s=(l=m[0])==null?void 0:l.headers)!=null?s:[]),m}const L1=(e,n,a,r,s,l,c)=>{let d={id:n,index:r,original:a,depth:s,parentId:c,_valuesCache:{},_uniqueValuesCache:{},getValue:m=>{if(d._valuesCache.hasOwnProperty(m))return d._valuesCache[m];const f=e.getColumn(m);if(f!=null&&f.accessorFn)return d._valuesCache[m]=f.accessorFn(d.original,r),d._valuesCache[m]},getUniqueValues:m=>{if(d._uniqueValuesCache.hasOwnProperty(m))return d._uniqueValuesCache[m];const f=e.getColumn(m);if(f!=null&&f.accessorFn)return f.columnDef.getUniqueValues?(d._uniqueValuesCache[m]=f.columnDef.getUniqueValues(d.original,r),d._uniqueValuesCache[m]):(d._uniqueValuesCache[m]=[d.getValue(m)],d._uniqueValuesCache[m])},renderValue:m=>{var f;return(f=d.getValue(m))!=null?f:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Ese(d.subRows,m=>m.subRows),getParentRow:()=>d.parentId?e.getRow(d.parentId,!0):void 0,getParentRows:()=>{let m=[],f=d;for(;;){const h=f.getParentRow();if(!h)break;m.push(h),f=h}return m.reverse()},getAllCells:Qe(()=>[e.getAllLeafColumns()],m=>m.map(f=>Ose(e,d,f,f.id)),Je(e.options,"debugRows")),_getAllCellsByColumnId:Qe(()=>[d.getAllCells()],m=>m.reduce((f,h)=>(f[h.column.id]=h,f),{}),Je(e.options,"debugRows"))};for(let m=0;m<e._features.length;m++){const f=e._features[m];f==null||f.createRow==null||f.createRow(d,e)}return d},Rse={createColumn:(e,n)=>{e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},y6=(e,n,a)=>{var r,s;const l=a==null||(r=a.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(n))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(l))};y6.autoRemove=e=>as(e);const v6=(e,n,a)=>{var r;return!!(!((r=e.getValue(n))==null||(r=r.toString())==null)&&r.includes(a))};v6.autoRemove=e=>as(e);const b6=(e,n,a)=>{var r;return((r=e.getValue(n))==null||(r=r.toString())==null?void 0:r.toLowerCase())===a?.toLowerCase()};b6.autoRemove=e=>as(e);const j6=(e,n,a)=>{var r;return(r=e.getValue(n))==null?void 0:r.includes(a)};j6.autoRemove=e=>as(e);const N6=(e,n,a)=>!a.some(r=>{var s;return!((s=e.getValue(n))!=null&&s.includes(r))});N6.autoRemove=e=>as(e)||!(e!=null&&e.length);const w6=(e,n,a)=>a.some(r=>{var s;return(s=e.getValue(n))==null?void 0:s.includes(r)});w6.autoRemove=e=>as(e)||!(e!=null&&e.length);const S6=(e,n,a)=>e.getValue(n)===a;S6.autoRemove=e=>as(e);const A6=(e,n,a)=>e.getValue(n)==a;A6.autoRemove=e=>as(e);const I1=(e,n,a)=>{let[r,s]=a;const l=e.getValue(n);return l>=r&&l<=s};I1.resolveFilterValue=e=>{let[n,a]=e,r=typeof n!="number"?parseFloat(n):n,s=typeof a!="number"?parseFloat(a):a,l=n===null||Number.isNaN(r)?-1/0:r,c=a===null||Number.isNaN(s)?1/0:s;if(l>c){const d=l;l=c,c=d}return[l,c]};I1.autoRemove=e=>as(e)||as(e[0])&&as(e[1]);const ai={includesString:y6,includesStringSensitive:v6,equalsString:b6,arrIncludes:j6,arrIncludesAll:N6,arrIncludesSome:w6,equals:S6,weakEquals:A6,inNumberRange:I1};function as(e){return e==null||e===""}const _se={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:hr("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const a=n.getCoreRowModel().flatRows[0],r=a?.getValue(e.id);return typeof r=="string"?ai.includesString:typeof r=="number"?ai.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?ai.equals:Array.isArray(r)?ai.arrIncludes:ai.weakEquals},e.getFilterFn=()=>{var a,r;return Px(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(a=(r=n.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?a:ai[e.columnDef.filterFn]},e.getCanFilter=()=>{var a,r,s;return((a=e.columnDef.enableColumnFilter)!=null?a:!0)&&((r=n.options.enableColumnFilters)!=null?r:!0)&&((s=n.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var a;return(a=n.getState().columnFilters)==null||(a=a.find(r=>r.id===e.id))==null?void 0:a.value},e.getFilterIndex=()=>{var a,r;return(a=(r=n.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?a:-1},e.setFilterValue=a=>{n.setColumnFilters(r=>{const s=e.getFilterFn(),l=r?.find(h=>h.id===e.id),c=pl(a,l?l.value:void 0);if(h4(s,c,e)){var d;return(d=r?.filter(h=>h.id!==e.id))!=null?d:[]}const m={id:e.id,value:c};if(l){var f;return(f=r?.map(h=>h.id===e.id?m:h))!=null?f:[]}return r!=null&&r.length?[...r,m]:[m]})}},createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=n=>{const a=e.getAllLeafColumns(),r=s=>{var l;return(l=pl(n,s))==null?void 0:l.filter(c=>{const d=a.find(m=>m.id===c.id);if(d){const m=d.getFilterFn();if(h4(m,c.value,d))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=n=>{var a,r;e.setColumnFilters(n?[]:(a=(r=e.initialState)==null?void 0:r.columnFilters)!=null?a:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function h4(e,n,a){return(e&&e.autoRemove?e.autoRemove(n,a):!1)||typeof n>"u"||typeof n=="string"&&!n}const Tse=(e,n,a)=>a.reduce((r,s)=>{const l=s.getValue(e);return r+(typeof l=="number"?l:0)},0),Lse=(e,n,a)=>{let r;return a.forEach(s=>{const l=s.getValue(e);l!=null&&(r>l||r===void 0&&l>=l)&&(r=l)}),r},Ise=(e,n,a)=>{let r;return a.forEach(s=>{const l=s.getValue(e);l!=null&&(r<l||r===void 0&&l>=l)&&(r=l)}),r},zse=(e,n,a)=>{let r,s;return a.forEach(l=>{const c=l.getValue(e);c!=null&&(r===void 0?c>=c&&(r=s=c):(r>c&&(r=c),s<c&&(s=c)))}),[r,s]},Bse=(e,n)=>{let a=0,r=0;if(n.forEach(s=>{let l=s.getValue(e);l!=null&&(l=+l)>=l&&(++a,r+=l)}),a)return r/a},$se=(e,n)=>{if(!n.length)return;const a=n.map(l=>l.getValue(e));if(!Dse(a))return;if(a.length===1)return a[0];const r=Math.floor(a.length/2),s=a.sort((l,c)=>l-c);return a.length%2!==0?s[r]:(s[r-1]+s[r])/2},Fse=(e,n)=>Array.from(new Set(n.map(a=>a.getValue(e))).values()),qse=(e,n)=>new Set(n.map(a=>a.getValue(e))).size,Hse=(e,n)=>n.length,zv={sum:Tse,min:Lse,max:Ise,extent:zse,mean:Bse,median:$se,unique:Fse,uniqueCount:qse,count:Hse},Use={getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,a;return(n=(a=e.getValue())==null||a.toString==null?void 0:a.toString())!=null?n:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:hr("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(a=>a!=null&&a.includes(e.id)?a.filter(r=>r!==e.id):[...a??[],e.id])},e.getCanGroup=()=>{var a,r;return((a=e.columnDef.enableGrouping)!=null?a:!0)&&((r=n.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var a;return(a=n.getState().grouping)==null?void 0:a.includes(e.id)},e.getGroupedIndex=()=>{var a;return(a=n.getState().grouping)==null?void 0:a.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const a=e.getCanGroup();return()=>{a&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const a=n.getCoreRowModel().flatRows[0],r=a?.getValue(e.id);if(typeof r=="number")return zv.sum;if(Object.prototype.toString.call(r)==="[object Date]")return zv.extent},e.getAggregationFn=()=>{var a,r;if(!e)throw new Error;return Px(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(a=(r=n.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?a:zv[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=n=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(n),e.resetGrouping=n=>{var a,r;e.setGrouping(n?[]:(a=(r=e.initialState)==null?void 0:r.grouping)!=null?a:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=a=>{if(e._groupingValuesCache.hasOwnProperty(a))return e._groupingValuesCache[a];const r=n.getColumn(a);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[a]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[a]):e.getValue(a)},e._groupingValuesCache={}},createCell:(e,n,a,r)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===a.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=a.subRows)!=null&&s.length)}}};function Vse(e,n,a){if(!(n!=null&&n.length)||!a)return e;const r=e.filter(l=>!n.includes(l.id));return a==="remove"?r:[...n.map(l=>e.find(c=>c.id===l)).filter(Boolean),...r]}const Kse={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:hr("columnOrder",e)}),createColumn:(e,n)=>{e.getIndex=Qe(a=>[wu(n,a)],a=>a.findIndex(r=>r.id===e.id),Je(n.options,"debugColumns")),e.getIsFirstColumn=a=>{var r;return((r=wu(n,a)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=a=>{var r;const s=wu(n,a);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=n=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(n),e.resetColumnOrder=n=>{var a;e.setColumnOrder(n?[]:(a=e.initialState.columnOrder)!=null?a:[])},e._getOrderColumnsFn=Qe(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,a,r)=>s=>{let l=[];if(!(n!=null&&n.length))l=s;else{const c=[...n],d=[...s];for(;d.length&&c.length;){const m=c.shift(),f=d.findIndex(h=>h.id===m);f>-1&&l.push(d.splice(f,1)[0])}l=[...l,...d]}return Vse(l,a,r)},Je(e.options,"debugTable"))}},Bv=()=>({left:[],right:[]}),Wse={getInitialState:e=>({columnPinning:Bv(),...e}),getDefaultOptions:e=>({onColumnPinningChange:hr("columnPinning",e)}),createColumn:(e,n)=>{e.pin=a=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);n.setColumnPinning(s=>{var l,c;if(a==="right"){var d,m;return{left:((d=s?.left)!=null?d:[]).filter(g=>!(r!=null&&r.includes(g))),right:[...((m=s?.right)!=null?m:[]).filter(g=>!(r!=null&&r.includes(g))),...r]}}if(a==="left"){var f,h;return{left:[...((f=s?.left)!=null?f:[]).filter(g=>!(r!=null&&r.includes(g))),...r],right:((h=s?.right)!=null?h:[]).filter(g=>!(r!=null&&r.includes(g)))}}return{left:((l=s?.left)!=null?l:[]).filter(g=>!(r!=null&&r.includes(g))),right:((c=s?.right)!=null?c:[]).filter(g=>!(r!=null&&r.includes(g)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,l,c;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((l=(c=n.options.enableColumnPinning)!=null?c:n.options.enablePinning)!=null?l:!0)}),e.getIsPinned=()=>{const a=e.getLeafColumns().map(d=>d.id),{left:r,right:s}=n.getState().columnPinning,l=a.some(d=>r?.includes(d)),c=a.some(d=>s?.includes(d));return l?"left":c?"right":!1},e.getPinnedIndex=()=>{var a,r;const s=e.getIsPinned();return s?(a=(r=n.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?a:-1:0}},createRow:(e,n)=>{e.getCenterVisibleCells=Qe(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(a,r,s)=>{const l=[...r??[],...s??[]];return a.filter(c=>!l.includes(c.column.id))},Je(n.options,"debugRows")),e.getLeftVisibleCells=Qe(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left],(a,r)=>(r??[]).map(l=>a.find(c=>c.column.id===l)).filter(Boolean).map(l=>({...l,position:"left"})),Je(n.options,"debugRows")),e.getRightVisibleCells=Qe(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(a,r)=>(r??[]).map(l=>a.find(c=>c.column.id===l)).filter(Boolean).map(l=>({...l,position:"right"})),Je(n.options,"debugRows"))},createTable:e=>{e.setColumnPinning=n=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(n),e.resetColumnPinning=n=>{var a,r;return e.setColumnPinning(n?Bv():(a=(r=e.initialState)==null?void 0:r.columnPinning)!=null?a:Bv())},e.getIsSomeColumnsPinned=n=>{var a;const r=e.getState().columnPinning;if(!n){var s,l;return!!((s=r.left)!=null&&s.length||(l=r.right)!=null&&l.length)}return!!((a=r[n])!=null&&a.length)},e.getLeftLeafColumns=Qe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,a)=>(a??[]).map(r=>n.find(s=>s.id===r)).filter(Boolean),Je(e.options,"debugColumns")),e.getRightLeafColumns=Qe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,a)=>(a??[]).map(r=>n.find(s=>s.id===r)).filter(Boolean),Je(e.options,"debugColumns")),e.getCenterLeafColumns=Qe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,a,r)=>{const s=[...a??[],...r??[]];return n.filter(l=>!s.includes(l.id))},Je(e.options,"debugColumns"))}};function Yse(e){return e||(typeof document<"u"?document:null)}const fh={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},$v=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Gse={getDefaultColumnDef:()=>fh,getInitialState:e=>({columnSizing:{},columnSizingInfo:$v(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:hr("columnSizing",e),onColumnSizingInfoChange:hr("columnSizingInfo",e)}),createColumn:(e,n)=>{e.getSize=()=>{var a,r,s;const l=n.getState().columnSizing[e.id];return Math.min(Math.max((a=e.columnDef.minSize)!=null?a:fh.minSize,(r=l??e.columnDef.size)!=null?r:fh.size),(s=e.columnDef.maxSize)!=null?s:fh.maxSize)},e.getStart=Qe(a=>[a,wu(n,a),n.getState().columnSizing],(a,r)=>r.slice(0,e.getIndex(a)).reduce((s,l)=>s+l.getSize(),0),Je(n.options,"debugColumns")),e.getAfter=Qe(a=>[a,wu(n,a),n.getState().columnSizing],(a,r)=>r.slice(e.getIndex(a)+1).reduce((s,l)=>s+l.getSize(),0),Je(n.options,"debugColumns")),e.resetSize=()=>{n.setColumnSizing(a=>{let{[e.id]:r,...s}=a;return s})},e.getCanResize=()=>{var a,r;return((a=e.columnDef.enableResizing)!=null?a:!0)&&((r=n.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,n)=>{e.getSize=()=>{let a=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var l;a+=(l=s.column.getSize())!=null?l:0}};return r(e),a},e.getStart=()=>{if(e.index>0){const a=e.headerGroup.headers[e.index-1];return a.getStart()+a.getSize()}return 0},e.getResizeHandler=a=>{const r=n.getColumn(e.column.id),s=r?.getCanResize();return l=>{if(!r||!s||(l.persist==null||l.persist(),Fv(l)&&l.touches&&l.touches.length>1))return;const c=e.getSize(),d=e?e.getLeafHeaders().map(M=>[M.column.id,M.column.getSize()]):[[r.id,r.getSize()]],m=Fv(l)?Math.round(l.touches[0].clientX):l.clientX,f={},h=(M,S)=>{typeof S=="number"&&(n.setColumnSizingInfo(A=>{var E,D;const P=n.options.columnResizeDirection==="rtl"?-1:1,T=(S-((E=A?.startOffset)!=null?E:0))*P,O=Math.max(T/((D=A?.startSize)!=null?D:0),-.999999);return A.columnSizingStart.forEach(k=>{let[B,I]=k;f[B]=Math.round(Math.max(I+I*O,0)*100)/100}),{...A,deltaOffset:T,deltaPercentage:O}}),(n.options.columnResizeMode==="onChange"||M==="end")&&n.setColumnSizing(A=>({...A,...f})))},g=M=>h("move",M),y=M=>{h("end",M),n.setColumnSizingInfo(S=>({...S,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},v=Yse(a),j={moveHandler:M=>g(M.clientX),upHandler:M=>{v?.removeEventListener("mousemove",j.moveHandler),v?.removeEventListener("mouseup",j.upHandler),y(M.clientX)}},b={moveHandler:M=>(M.cancelable&&(M.preventDefault(),M.stopPropagation()),g(M.touches[0].clientX),!1),upHandler:M=>{var S;v?.removeEventListener("touchmove",b.moveHandler),v?.removeEventListener("touchend",b.upHandler),M.cancelable&&(M.preventDefault(),M.stopPropagation()),y((S=M.touches[0])==null?void 0:S.clientX)}},w=Zse()?{passive:!1}:!1;Fv(l)?(v?.addEventListener("touchmove",b.moveHandler,w),v?.addEventListener("touchend",b.upHandler,w)):(v?.addEventListener("mousemove",j.moveHandler,w),v?.addEventListener("mouseup",j.upHandler,w)),n.setColumnSizingInfo(M=>({...M,startOffset:m,startSize:c,deltaOffset:0,deltaPercentage:0,columnSizingStart:d,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=n=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(n),e.setColumnSizingInfo=n=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(n),e.resetColumnSizing=n=>{var a;e.setColumnSizing(n?{}:(a=e.initialState.columnSizing)!=null?a:{})},e.resetHeaderSizeInfo=n=>{var a;e.setColumnSizingInfo(n?$v():(a=e.initialState.columnSizingInfo)!=null?a:$v())},e.getTotalSize=()=>{var n,a;return(n=(a=e.getHeaderGroups()[0])==null?void 0:a.headers.reduce((r,s)=>r+s.getSize(),0))!=null?n:0},e.getLeftTotalSize=()=>{var n,a;return(n=(a=e.getLeftHeaderGroups()[0])==null?void 0:a.headers.reduce((r,s)=>r+s.getSize(),0))!=null?n:0},e.getCenterTotalSize=()=>{var n,a;return(n=(a=e.getCenterHeaderGroups()[0])==null?void 0:a.headers.reduce((r,s)=>r+s.getSize(),0))!=null?n:0},e.getRightTotalSize=()=>{var n,a;return(n=(a=e.getRightHeaderGroups()[0])==null?void 0:a.headers.reduce((r,s)=>r+s.getSize(),0))!=null?n:0}}};let hh=null;function Zse(){if(typeof hh=="boolean")return hh;let e=!1;try{const n={get passive(){return e=!0,!1}},a=()=>{};window.addEventListener("test",a,n),window.removeEventListener("test",a)}catch{e=!1}return hh=e,hh}function Fv(e){return e.type==="touchstart"}const Xse={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:hr("columnVisibility",e)}),createColumn:(e,n)=>{e.toggleVisibility=a=>{e.getCanHide()&&n.setColumnVisibility(r=>({...r,[e.id]:a??!e.getIsVisible()}))},e.getIsVisible=()=>{var a,r;const s=e.columns;return(a=s.length?s.some(l=>l.getIsVisible()):(r=n.getState().columnVisibility)==null?void 0:r[e.id])!=null?a:!0},e.getCanHide=()=>{var a,r;return((a=e.columnDef.enableHiding)!=null?a:!0)&&((r=n.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>a=>{e.toggleVisibility==null||e.toggleVisibility(a.target.checked)}},createRow:(e,n)=>{e._getAllVisibleCells=Qe(()=>[e.getAllCells(),n.getState().columnVisibility],a=>a.filter(r=>r.column.getIsVisible()),Je(n.options,"debugRows")),e.getVisibleCells=Qe(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(a,r,s)=>[...a,...r,...s],Je(n.options,"debugRows"))},createTable:e=>{const n=(a,r)=>Qe(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(l=>l.getIsVisible==null?void 0:l.getIsVisible()),Je(e.options,"debugColumns"));e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=a=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(a),e.resetColumnVisibility=a=>{var r;e.setColumnVisibility(a?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=a=>{var r;a=(r=a)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,l)=>({...s,[l.id]:a||!(l.getCanHide!=null&&l.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(a=>!(a.getIsVisible!=null&&a.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(a=>a.getIsVisible==null?void 0:a.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>a=>{var r;e.toggleAllColumnsVisible((r=a.target)==null?void 0:r.checked)}}};function wu(e,n){return n?n==="center"?e.getCenterVisibleLeafColumns():n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Qse={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Jse={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:hr("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var a;const r=(a=e.getCoreRowModel().flatRows[0])==null||(a=a._getAllCellsByColumnId()[n.id])==null?void 0:a.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,n)=>{e.getCanGlobalFilter=()=>{var a,r,s,l;return((a=e.columnDef.enableGlobalFilter)!=null?a:!0)&&((r=n.options.enableGlobalFilter)!=null?r:!0)&&((s=n.options.enableFilters)!=null?s:!0)&&((l=n.options.getColumnCanGlobalFilter==null?void 0:n.options.getColumnCanGlobalFilter(e))!=null?l:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>ai.includesString,e.getGlobalFilterFn=()=>{var n,a;const{globalFilterFn:r}=e.options;return Px(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(n=(a=e.options.filterFns)==null?void 0:a[r])!=null?n:ai[r]},e.setGlobalFilter=n=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)}}},eie={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:hr("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let n=!1,a=!1;e._autoResetExpanded=()=>{var r,s;if(!n){e._queue(()=>{n=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(a)return;a=!0,e._queue(()=>{e.resetExpanded(),a=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,l;e.setExpanded(r?{}:(s=(l=e.initialState)==null?void 0:l.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(l=>{const c=l.split(".");r=Math.max(r,c.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,n)=>{e.toggleExpanded=a=>{n.setExpanded(r=>{var s;const l=r===!0?!0:!!(r!=null&&r[e.id]);let c={};if(r===!0?Object.keys(n.getRowModel().rowsById).forEach(d=>{c[d]=!0}):c=r,a=(s=a)!=null?s:!l,!l&&a)return{...c,[e.id]:!0};if(l&&!a){const{[e.id]:d,...m}=c;return m}return r})},e.getIsExpanded=()=>{var a;const r=n.getState().expanded;return!!((a=n.options.getIsRowExpanded==null?void 0:n.options.getIsRowExpanded(e))!=null?a:r===!0||r?.[e.id])},e.getCanExpand=()=>{var a,r,s;return(a=n.options.getRowCanExpand==null?void 0:n.options.getRowCanExpand(e))!=null?a:((r=n.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let a=!0,r=e;for(;a&&r.parentId;)r=n.getRow(r.parentId,!0),a=r.getIsExpanded();return a},e.getToggleExpandedHandler=()=>{const a=e.getCanExpand();return()=>{a&&e.toggleExpanded()}}}},oj=0,cj=10,qv=()=>({pageIndex:oj,pageSize:cj}),tie={getInitialState:e=>({...e,pagination:{...qv(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:hr("pagination",e)}),createTable:e=>{let n=!1,a=!1;e._autoResetPageIndex=()=>{var r,s;if(!n){e._queue(()=>{n=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(a)return;a=!0,e._queue(()=>{e.resetPageIndex(),a=!1})}},e.setPagination=r=>{const s=l=>pl(r,l);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?qv():(s=e.initialState.pagination)!=null?s:qv())},e.setPageIndex=r=>{e.setPagination(s=>{let l=pl(r,s.pageIndex);const c=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return l=Math.max(0,Math.min(l,c)),{...s,pageIndex:l}})},e.resetPageIndex=r=>{var s,l;e.setPageIndex(r?oj:(s=(l=e.initialState)==null||(l=l.pagination)==null?void 0:l.pageIndex)!=null?s:oj)},e.resetPageSize=r=>{var s,l;e.setPageSize(r?cj:(s=(l=e.initialState)==null||(l=l.pagination)==null?void 0:l.pageSize)!=null?s:cj)},e.setPageSize=r=>{e.setPagination(s=>{const l=Math.max(1,pl(r,s.pageSize)),c=s.pageSize*s.pageIndex,d=Math.floor(c/l);return{...s,pageIndex:d,pageSize:l}})},e.setPageCount=r=>e.setPagination(s=>{var l;let c=pl(r,(l=e.options.pageCount)!=null?l:-1);return typeof c=="number"&&(c=Math.max(-1,c)),{...s,pageCount:c}}),e.getPageOptions=Qe(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((l,c)=>c)),s},Je(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Hv=()=>({top:[],bottom:[]}),nie={getInitialState:e=>({rowPinning:Hv(),...e}),getDefaultOptions:e=>({onRowPinningChange:hr("rowPinning",e)}),createRow:(e,n)=>{e.pin=(a,r,s)=>{const l=r?e.getLeafRows().map(m=>{let{id:f}=m;return f}):[],c=s?e.getParentRows().map(m=>{let{id:f}=m;return f}):[],d=new Set([...c,e.id,...l]);n.setRowPinning(m=>{var f,h;if(a==="bottom"){var g,y;return{top:((g=m?.top)!=null?g:[]).filter(b=>!(d!=null&&d.has(b))),bottom:[...((y=m?.bottom)!=null?y:[]).filter(b=>!(d!=null&&d.has(b))),...Array.from(d)]}}if(a==="top"){var v,j;return{top:[...((v=m?.top)!=null?v:[]).filter(b=>!(d!=null&&d.has(b))),...Array.from(d)],bottom:((j=m?.bottom)!=null?j:[]).filter(b=>!(d!=null&&d.has(b)))}}return{top:((f=m?.top)!=null?f:[]).filter(b=>!(d!=null&&d.has(b))),bottom:((h=m?.bottom)!=null?h:[]).filter(b=>!(d!=null&&d.has(b)))}})},e.getCanPin=()=>{var a;const{enableRowPinning:r,enablePinning:s}=n.options;return typeof r=="function"?r(e):(a=r??s)!=null?a:!0},e.getIsPinned=()=>{const a=[e.id],{top:r,bottom:s}=n.getState().rowPinning,l=a.some(d=>r?.includes(d)),c=a.some(d=>s?.includes(d));return l?"top":c?"bottom":!1},e.getPinnedIndex=()=>{var a,r;const s=e.getIsPinned();if(!s)return-1;const l=(a=s==="top"?n.getTopRows():n.getBottomRows())==null?void 0:a.map(c=>{let{id:d}=c;return d});return(r=l?.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=n=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(n),e.resetRowPinning=n=>{var a,r;return e.setRowPinning(n?Hv():(a=(r=e.initialState)==null?void 0:r.rowPinning)!=null?a:Hv())},e.getIsSomeRowsPinned=n=>{var a;const r=e.getState().rowPinning;if(!n){var s,l;return!!((s=r.top)!=null&&s.length||(l=r.bottom)!=null&&l.length)}return!!((a=r[n])!=null&&a.length)},e._getPinnedRows=(n,a,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(a??[]).map(c=>{const d=e.getRow(c,!0);return d.getIsAllParentsExpanded()?d:null}):(a??[]).map(c=>n.find(d=>d.id===c))).filter(Boolean).map(c=>({...c,position:r}))},e.getTopRows=Qe(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(n,a)=>e._getPinnedRows(n,a,"top"),Je(e.options,"debugRows")),e.getBottomRows=Qe(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(n,a)=>e._getPinnedRows(n,a,"bottom"),Je(e.options,"debugRows")),e.getCenterRows=Qe(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,a,r)=>{const s=new Set([...a??[],...r??[]]);return n.filter(l=>!s.has(l.id))},Je(e.options,"debugRows"))}},aie={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:hr("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=n=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(n),e.resetRowSelection=n=>{var a;return e.setRowSelection(n?{}:(a=e.initialState.rowSelection)!=null?a:{})},e.toggleAllRowsSelected=n=>{e.setRowSelection(a=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const r={...a},s=e.getPreGroupedRowModel().flatRows;return n?s.forEach(l=>{l.getCanSelect()&&(r[l.id]=!0)}):s.forEach(l=>{delete r[l.id]}),r})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(a=>{const r=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),s={...a};return e.getRowModel().rows.forEach(l=>{dj(s,l.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Qe(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,a)=>Object.keys(n).length?Uv(e,a):{rows:[],flatRows:[],rowsById:{}},Je(e.options,"debugTable")),e.getFilteredSelectedRowModel=Qe(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,a)=>Object.keys(n).length?Uv(e,a):{rows:[],flatRows:[],rowsById:{}},Je(e.options,"debugTable")),e.getGroupedSelectedRowModel=Qe(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,a)=>Object.keys(n).length?Uv(e,a):{rows:[],flatRows:[],rowsById:{}},Je(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:a}=e.getState();let r=!!(n.length&&Object.keys(a).length);return r&&n.some(s=>s.getCanSelect()&&!a[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:a}=e.getState();let r=!!n.length;return r&&n.some(s=>!a[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var n;const a=Object.keys((n=e.getState().rowSelection)!=null?n:{}).length;return a>0&&a<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(a=>a.getCanSelect()).some(a=>a.getIsSelected()||a.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},createRow:(e,n)=>{e.toggleSelected=(a,r)=>{const s=e.getIsSelected();n.setRowSelection(l=>{var c;if(a=typeof a<"u"?a:!s,e.getCanSelect()&&s===a)return l;const d={...l};return dj(d,e.id,a,(c=r?.selectChildren)!=null?c:!0,n),d})},e.getIsSelected=()=>{const{rowSelection:a}=n.getState();return z1(e,a)},e.getIsSomeSelected=()=>{const{rowSelection:a}=n.getState();return uj(e,a)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:a}=n.getState();return uj(e,a)==="all"},e.getCanSelect=()=>{var a;return typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):(a=n.options.enableRowSelection)!=null?a:!0},e.getCanSelectSubRows=()=>{var a;return typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):(a=n.options.enableSubRowSelection)!=null?a:!0},e.getCanMultiSelect=()=>{var a;return typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):(a=n.options.enableMultiRowSelection)!=null?a:!0},e.getToggleSelectedHandler=()=>{const a=e.getCanSelect();return r=>{var s;a&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},dj=(e,n,a,r,s)=>{var l;const c=s.getRow(n,!0);a?(c.getCanMultiSelect()||Object.keys(e).forEach(d=>delete e[d]),c.getCanSelect()&&(e[n]=!0)):delete e[n],r&&(l=c.subRows)!=null&&l.length&&c.getCanSelectSubRows()&&c.subRows.forEach(d=>dj(e,d.id,a,r,s))};function Uv(e,n){const a=e.getState().rowSelection,r=[],s={},l=function(c,d){return c.map(m=>{var f;const h=z1(m,a);if(h&&(r.push(m),s[m.id]=m),(f=m.subRows)!=null&&f.length&&(m={...m,subRows:l(m.subRows)}),h)return m}).filter(Boolean)};return{rows:l(n.rows),flatRows:r,rowsById:s}}function z1(e,n){var a;return(a=n[e.id])!=null?a:!1}function uj(e,n,a){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,l=!1;return e.subRows.forEach(c=>{if(!(l&&!s)&&(c.getCanSelect()&&(z1(c,n)?l=!0:s=!1),c.subRows&&c.subRows.length)){const d=uj(c,n);d==="all"?l=!0:(d==="some"&&(l=!0),s=!1)}}),s?"all":l?"some":!1}const mj=/([0-9]+)/gm,rie=(e,n,a)=>C6(bl(e.getValue(a)).toLowerCase(),bl(n.getValue(a)).toLowerCase()),sie=(e,n,a)=>C6(bl(e.getValue(a)),bl(n.getValue(a))),iie=(e,n,a)=>B1(bl(e.getValue(a)).toLowerCase(),bl(n.getValue(a)).toLowerCase()),lie=(e,n,a)=>B1(bl(e.getValue(a)),bl(n.getValue(a))),oie=(e,n,a)=>{const r=e.getValue(a),s=n.getValue(a);return r>s?1:r<s?-1:0},cie=(e,n,a)=>B1(e.getValue(a),n.getValue(a));function B1(e,n){return e===n?0:e>n?1:-1}function bl(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function C6(e,n){const a=e.split(mj).filter(Boolean),r=n.split(mj).filter(Boolean);for(;a.length&&r.length;){const s=a.shift(),l=r.shift(),c=parseInt(s,10),d=parseInt(l,10),m=[c,d].sort();if(isNaN(m[0])){if(s>l)return 1;if(l>s)return-1;continue}if(isNaN(m[1]))return isNaN(c)?-1:1;if(c>d)return 1;if(d>c)return-1}return a.length-r.length}const du={alphanumeric:rie,alphanumericCaseSensitive:sie,text:iie,textCaseSensitive:lie,datetime:oie,basic:cie},die={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:hr("sorting",e),isMultiSortEvent:n=>n.shiftKey}),createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const a=n.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of a){const l=s?.getValue(e.id);if(Object.prototype.toString.call(l)==="[object Date]")return du.datetime;if(typeof l=="string"&&(r=!0,l.split(mj).length>1))return du.alphanumeric}return r?du.text:du.basic},e.getAutoSortDir=()=>{const a=n.getFilteredRowModel().flatRows[0];return typeof a?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var a,r;if(!e)throw new Error;return Px(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(a=(r=n.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?a:du[e.columnDef.sortingFn]},e.toggleSorting=(a,r)=>{const s=e.getNextSortingOrder(),l=typeof a<"u"&&a!==null;n.setSorting(c=>{const d=c?.find(v=>v.id===e.id),m=c?.findIndex(v=>v.id===e.id);let f=[],h,g=l?a:s==="desc";if(c!=null&&c.length&&e.getCanMultiSort()&&r?d?h="toggle":h="add":c!=null&&c.length&&m!==c.length-1?h="replace":d?h="toggle":h="replace",h==="toggle"&&(l||s||(h="remove")),h==="add"){var y;f=[...c,{id:e.id,desc:g}],f.splice(0,f.length-((y=n.options.maxMultiSortColCount)!=null?y:Number.MAX_SAFE_INTEGER))}else h==="toggle"?f=c.map(v=>v.id===e.id?{...v,desc:g}:v):h==="remove"?f=c.filter(v=>v.id!==e.id):f=[{id:e.id,desc:g}];return f})},e.getFirstSortDir=()=>{var a,r;return((a=(r=e.columnDef.sortDescFirst)!=null?r:n.options.sortDescFirst)!=null?a:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=a=>{var r,s;const l=e.getFirstSortDir(),c=e.getIsSorted();return c?c!==l&&((r=n.options.enableSortingRemoval)==null||r)&&(!(a&&(s=n.options.enableMultiRemove)!=null)||s)?!1:c==="desc"?"asc":"desc":l},e.getCanSort=()=>{var a,r;return((a=e.columnDef.enableSorting)!=null?a:!0)&&((r=n.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var a,r;return(a=(r=e.columnDef.enableMultiSort)!=null?r:n.options.enableMultiSort)!=null?a:!!e.accessorFn},e.getIsSorted=()=>{var a;const r=(a=n.getState().sorting)==null?void 0:a.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var a,r;return(a=(r=n.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?a:-1},e.clearSorting=()=>{n.setSorting(a=>a!=null&&a.length?a.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const a=e.getCanSort();return r=>{a&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?n.options.isMultiSortEvent==null?void 0:n.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=n=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(n),e.resetSorting=n=>{var a,r;e.setSorting(n?[]:(a=(r=e.initialState)==null?void 0:r.sorting)!=null?a:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},uie=[kse,Xse,Kse,Wse,Rse,_se,Qse,Jse,die,Use,eie,tie,nie,aie,Gse];function mie(e){var n,a;const r=[...uie,...(n=e._features)!=null?n:[]];let s={_features:r};const l=s._features.reduce((y,v)=>Object.assign(y,v.getDefaultOptions==null?void 0:v.getDefaultOptions(s)),{}),c=y=>s.options.mergeOptions?s.options.mergeOptions(l,y):{...l,...y};let m={...{},...(a=e.initialState)!=null?a:{}};s._features.forEach(y=>{var v;m=(v=y.getInitialState==null?void 0:y.getInitialState(m))!=null?v:m});const f=[];let h=!1;const g={_features:r,options:{...l,...e},initialState:m,_queue:y=>{f.push(y),h||(h=!0,Promise.resolve().then(()=>{for(;f.length;)f.shift()();h=!1}).catch(v=>setTimeout(()=>{throw v})))},reset:()=>{s.setState(s.initialState)},setOptions:y=>{const v=pl(y,s.options);s.options=c(v)},getState:()=>s.options.state,setState:y=>{s.options.onStateChange==null||s.options.onStateChange(y)},_getRowId:(y,v,j)=>{var b;return(b=s.options.getRowId==null?void 0:s.options.getRowId(y,v,j))!=null?b:`${j?[j.id,v].join("."):v}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(y,v)=>{let j=(v?s.getPrePaginationRowModel():s.getRowModel()).rowsById[y];if(!j&&(j=s.getCoreRowModel().rowsById[y],!j))throw new Error;return j},_getDefaultColumnDef:Qe(()=>[s.options.defaultColumn],y=>{var v;return y=(v=y)!=null?v:{},{header:j=>{const b=j.header.column.columnDef;return b.accessorKey?b.accessorKey:b.accessorFn?b.id:null},cell:j=>{var b,w;return(b=(w=j.renderValue())==null||w.toString==null?void 0:w.toString())!=null?b:null},...s._features.reduce((j,b)=>Object.assign(j,b.getDefaultColumnDef==null?void 0:b.getDefaultColumnDef()),{}),...y}},Je(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:Qe(()=>[s._getColumnDefs()],y=>{const v=function(j,b,w){return w===void 0&&(w=0),j.map(M=>{const S=Pse(s,M,w,b),A=M;return S.columns=A.columns?v(A.columns,S,w+1):[],S})};return v(y)},Je(e,"debugColumns")),getAllFlatColumns:Qe(()=>[s.getAllColumns()],y=>y.flatMap(v=>v.getFlatColumns()),Je(e,"debugColumns")),_getAllFlatColumnsById:Qe(()=>[s.getAllFlatColumns()],y=>y.reduce((v,j)=>(v[j.id]=j,v),{}),Je(e,"debugColumns")),getAllLeafColumns:Qe(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(y,v)=>{let j=y.flatMap(b=>b.getLeafColumns());return v(j)},Je(e,"debugColumns")),getColumn:y=>s._getAllFlatColumnsById()[y]};Object.assign(s,g);for(let y=0;y<s._features.length;y++){const v=s._features[y];v==null||v.createTable==null||v.createTable(s)}return s}function fie(){return e=>Qe(()=>[e.options.data],n=>{const a={rows:[],flatRows:[],rowsById:{}},r=function(s,l,c){l===void 0&&(l=0);const d=[];for(let f=0;f<s.length;f++){const h=L1(e,e._getRowId(s[f],f,c),s[f],f,l,void 0,c?.id);if(a.flatRows.push(h),a.rowsById[h.id]=h,d.push(h),e.options.getSubRows){var m;h.originalSubRows=e.options.getSubRows(s[f],f),(m=h.originalSubRows)!=null&&m.length&&(h.subRows=r(h.originalSubRows,l+1,h))}}return d};return a.rows=r(n),a},Je(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function hie(e){const n=[],a=r=>{var s;n.push(r),(s=r.subRows)!=null&&s.length&&r.getIsExpanded()&&r.subRows.forEach(a)};return e.rows.forEach(a),{rows:n,flatRows:e.flatRows,rowsById:e.rowsById}}function pie(e,n,a){return a.options.filterFromLeafRows?xie(e,n,a):gie(e,n,a)}function xie(e,n,a){var r;const s=[],l={},c=(r=a.options.maxLeafRowFilterDepth)!=null?r:100,d=function(m,f){f===void 0&&(f=0);const h=[];for(let y=0;y<m.length;y++){var g;let v=m[y];const j=L1(a,v.id,v.original,v.index,v.depth,void 0,v.parentId);if(j.columnFilters=v.columnFilters,(g=v.subRows)!=null&&g.length&&f<c){if(j.subRows=d(v.subRows,f+1),v=j,n(v)&&!j.subRows.length){h.push(v),l[v.id]=v,s.push(v);continue}if(n(v)||j.subRows.length){h.push(v),l[v.id]=v,s.push(v);continue}}else v=j,n(v)&&(h.push(v),l[v.id]=v,s.push(v))}return h};return{rows:d(e),flatRows:s,rowsById:l}}function gie(e,n,a){var r;const s=[],l={},c=(r=a.options.maxLeafRowFilterDepth)!=null?r:100,d=function(m,f){f===void 0&&(f=0);const h=[];for(let y=0;y<m.length;y++){let v=m[y];if(n(v)){var g;if((g=v.subRows)!=null&&g.length&&f<c){const b=L1(a,v.id,v.original,v.index,v.depth,void 0,v.parentId);b.subRows=d(v.subRows,f+1),v=b}h.push(v),s.push(v),l[v.id]=v}}return h};return{rows:d(e),flatRows:s,rowsById:l}}function yie(){return e=>Qe(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(n,a,r)=>{if(!n.rows.length||!(a!=null&&a.length)&&!r){for(let y=0;y<n.flatRows.length;y++)n.flatRows[y].columnFilters={},n.flatRows[y].columnFiltersMeta={};return n}const s=[],l=[];(a??[]).forEach(y=>{var v;const j=e.getColumn(y.id);if(!j)return;const b=j.getFilterFn();b&&s.push({id:y.id,filterFn:b,resolvedValue:(v=b.resolveFilterValue==null?void 0:b.resolveFilterValue(y.value))!=null?v:y.value})});const c=(a??[]).map(y=>y.id),d=e.getGlobalFilterFn(),m=e.getAllLeafColumns().filter(y=>y.getCanGlobalFilter());r&&d&&m.length&&(c.push("__global__"),m.forEach(y=>{var v;l.push({id:y.id,filterFn:d,resolvedValue:(v=d.resolveFilterValue==null?void 0:d.resolveFilterValue(r))!=null?v:r})}));let f,h;for(let y=0;y<n.flatRows.length;y++){const v=n.flatRows[y];if(v.columnFilters={},s.length)for(let j=0;j<s.length;j++){f=s[j];const b=f.id;v.columnFilters[b]=f.filterFn(v,b,f.resolvedValue,w=>{v.columnFiltersMeta[b]=w})}if(l.length){for(let j=0;j<l.length;j++){h=l[j];const b=h.id;if(h.filterFn(v,b,h.resolvedValue,w=>{v.columnFiltersMeta[b]=w})){v.columnFilters.__global__=!0;break}}v.columnFilters.__global__!==!0&&(v.columnFilters.__global__=!1)}}const g=y=>{for(let v=0;v<c.length;v++)if(y.columnFilters[c[v]]===!1)return!1;return!0};return pie(n.rows,g,e)},Je(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function vie(e){return n=>Qe(()=>[n.getState().pagination,n.getPrePaginationRowModel(),n.options.paginateExpandedRows?void 0:n.getState().expanded],(a,r)=>{if(!r.rows.length)return r;const{pageSize:s,pageIndex:l}=a;let{rows:c,flatRows:d,rowsById:m}=r;const f=s*l,h=f+s;c=c.slice(f,h);let g;n.options.paginateExpandedRows?g={rows:c,flatRows:d,rowsById:m}:g=hie({rows:c,flatRows:d,rowsById:m}),g.flatRows=[];const y=v=>{g.flatRows.push(v),v.subRows.length&&v.subRows.forEach(y)};return g.rows.forEach(y),g},Je(n.options,"debugTable"))}function bie(){return e=>Qe(()=>[e.getState().sorting,e.getPreSortedRowModel()],(n,a)=>{if(!a.rows.length||!(n!=null&&n.length))return a;const r=e.getState().sorting,s=[],l=r.filter(m=>{var f;return(f=e.getColumn(m.id))==null?void 0:f.getCanSort()}),c={};l.forEach(m=>{const f=e.getColumn(m.id);f&&(c[m.id]={sortUndefined:f.columnDef.sortUndefined,invertSorting:f.columnDef.invertSorting,sortingFn:f.getSortingFn()})});const d=m=>{const f=m.map(h=>({...h}));return f.sort((h,g)=>{for(let v=0;v<l.length;v+=1){var y;const j=l[v],b=c[j.id],w=b.sortUndefined,M=(y=j?.desc)!=null?y:!1;let S=0;if(w){const A=h.getValue(j.id),E=g.getValue(j.id),D=A===void 0,P=E===void 0;if(D||P){if(w==="first")return D?-1:1;if(w==="last")return D?1:-1;S=D&&P?0:D?w:-w}}if(S===0&&(S=b.sortingFn(h,g,j.id)),S!==0)return M&&(S*=-1),b.invertSorting&&(S*=-1),S}return h.index-g.index}),f.forEach(h=>{var g;s.push(h),(g=h.subRows)!=null&&g.length&&(h.subRows=d(h.subRows))}),f};return{rows:d(a.rows),flatRows:s,rowsById:a.rowsById}},Je(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function p4(e,n){return e?jie(e)?x.createElement(e,n):e:null}function jie(e){return Nie(e)||typeof e=="function"||wie(e)}function Nie(e){return typeof e=="function"&&(()=>{const n=Object.getPrototypeOf(e);return n.prototype&&n.prototype.isReactComponent})()}function wie(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function Sie(e){const n={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[a]=x.useState(()=>({current:mie(n)})),[r,s]=x.useState(()=>a.current.initialState);return a.current.setOptions(l=>({...l,...e,state:{...r,...e.state},onStateChange:c=>{s(c),e.onStateChange==null||e.onStateChange(c)}})),a.current}function Su({data:e=[],columns:n=[],searchPlaceholder:a="Search...",showSearch:r=!0,showExport:s=!1,onExport:l,pageSize:c=10,emptyMessage:d="No data available"}){const[m,f]=x.useState([]),[h,g]=x.useState(""),[y,v]=x.useState({pageIndex:0,pageSize:c}),j=Sie({data:e,columns:n,state:{sorting:m,globalFilter:h,pagination:y},onSortingChange:f,onGlobalFilterChange:g,onPaginationChange:v,getCoreRowModel:fie(),getSortedRowModel:bie(),getFilteredRowModel:yie(),getPaginationRowModel:vie()}),b=j.getPageCount(),w=y.pageIndex+1;return t.jsxs("div",{className:"space-y-4",children:[(r||s)&&t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between",children:[r&&t.jsx("div",{className:"flex-1 max-w-sm",children:t.jsx(Rn,{type:"text",placeholder:a,value:h??"",onChange:M=>g(M.target.value),className:"w-full",inputClassName:"pr-4 py-2 text-sm"})}),s&&l&&t.jsxs(Z,{variant:"secondary",onClick:l,children:[t.jsx(Gt,{className:"w-4 h-4"}),"Export CSV"]})]}),t.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200 bg-white",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:j.getHeaderGroups().map(M=>t.jsx("tr",{className:"border-b border-gray-200 bg-gray-50/80",children:M.headers.map(S=>t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:S.isPlaceholder?null:t.jsxs("div",{className:`flex items-center gap-2 ${S.column.getCanSort()?"cursor-pointer select-none hover:text-gray-900":""}`,onClick:S.column.getToggleSortingHandler(),children:[p4(S.column.columnDef.header,S.getContext()),S.column.getCanSort()&&t.jsx("span",{className:"text-gray-400",children:{asc:t.jsx(F5,{className:"w-4 h-4"}),desc:t.jsx(L4,{className:"w-4 h-4"})}[S.column.getIsSorted()]??t.jsx("div",{className:"w-4 h-4 opacity-0 group-hover:opacity-50",children:t.jsx(F5,{className:"w-4 h-4"})})})]})},S.id))},M.id))}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:j.getRowModel().rows.length>0?j.getRowModel().rows.map(M=>t.jsx("tr",{className:"hover:bg-gray-50/50 transition-colors",children:M.getVisibleCells().map(S=>t.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:p4(S.column.columnDef.cell,S.getContext())},S.id))},M.id)):t.jsx("tr",{children:t.jsx("td",{colSpan:n.length,className:"px-4 py-12 text-center text-gray-500",children:d})})})]})}),b>1&&t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 text-sm",children:[t.jsxs("div",{className:"text-gray-500",children:["Showing"," ",t.jsx("span",{className:"font-medium text-gray-900",children:y.pageIndex*y.pageSize+1})," ","to"," ",t.jsx("span",{className:"font-medium text-gray-900",children:Math.min((y.pageIndex+1)*y.pageSize,e.length)})," ","of ",t.jsx("span",{className:"font-medium text-gray-900",children:e.length})," results"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>j.previousPage(),disabled:!j.getCanPreviousPage(),className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t.jsx(f7,{className:"w-4 h-4"})}),t.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,b)},(M,S)=>{let A;return b<=5||w<=3?A=S+1:w>=b-2?A=b-4+S:A=w-2+S,t.jsx("button",{onClick:()=>j.setPageIndex(A-1),className:`w-8 h-8 rounded-lg text-sm font-medium transition-colors ${w===A?"bg-[hsl(var(--color-primary))] text-white":"hover:bg-gray-100 text-gray-600"}`,children:A},A)})}),t.jsx("button",{onClick:()=>j.nextPage(),disabled:!j.getCanNextPage(),className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t.jsx(p7,{className:"w-4 h-4"})})]})]})]})}function Aie(){const e=ve(j=>j.getOvertimeStats),n=ve(j=>j.getPendingApprovalsSummary),a=ve(j=>j.getExpiringContracts),r=ve(j=>j.employees),s=ve(j=>j.payrollSettings),l=x.useMemo(()=>e(),[e]),c=x.useMemo(()=>n(),[n]),d=x.useMemo(()=>a(s?.operationalConfig?.expiryHorizonDays||30),[a,s]),m=s?.operationalConfig?.overtimeWarningHours||40,f=x.useMemo(()=>l.rows.filter(j=>j.hours>m),[l.rows,m]),h=x.useMemo(()=>r.filter(j=>j.employmentStatus==="probation"&&j.probationEndDate).map(j=>{const b=rs(me(j.probationEndDate),new Date);return{id:j.id,name:j.name,department:j.department,probationEndDate:j.probationEndDate,daysRemaining:b,status:b<=7?"urgent":b<=30?"upcoming":"normal"}}).filter(j=>j.daysRemaining<=60).sort((j,b)=>j.daysRemaining-b.daysRemaining),[r]),g=[{header:"Employee",accessorKey:"name"},{header:"Department",accessorKey:"department"},{header:"Overtime (hrs)",accessorKey:"hours",cell:({getValue:j})=>t.jsx("span",{className:"font-semibold",children:j()})}],y=[{header:"Employee",accessorKey:"name"},{header:"Department",accessorKey:"department"},{header:"Type",accessorKey:"type"},{header:"Due Date",accessorKey:"dueDate",cell:({getValue:j})=>t.jsx(le,{variant:"warning",children:U(me(j()),"MMM d, yyyy")})}],v=[{header:"Employee",accessorKey:"name"},{header:"Department",accessorKey:"department"},{header:"Completion Date",accessorKey:"probationEndDate",cell:({getValue:j})=>U(me(j()),"MMM d, yyyy")},{header:"Days Remaining",accessorKey:"daysRemaining",cell:({getValue:j,row:b})=>{const w=j(),M=b.original.status;return t.jsxs(le,{variant:M==="urgent"?"error":M==="upcoming"?"warning":"info",children:[w," days"]})}}];return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Operational Dashboard"}),t.jsx("p",{className:"text-gray-600",children:"Overtime, approvals, and expiring contracts"})]})}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[t.jsxs(H,{title:"Overtime (This Month)",subtitle:"Employees with overtime hours",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3 text-gray-600",children:[t.jsx(Ue,{className:"w-5 h-5"}),t.jsxs("span",{children:["Total: ",l.totalHours," hrs"]})]}),f.length>0&&t.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg flex items-start gap-2",children:[t.jsx(sa,{className:"w-5 h-5 text-yellow-600 shrink-0 mt-0.5"}),t.jsxs("div",{className:"text-sm",children:[t.jsxs("p",{className:"font-semibold text-yellow-800",children:[f.length," Overtime Anomal",f.length===1?"y":"ies"," Detected"]}),t.jsxs("p",{className:"text-yellow-700",children:["Employees exceeding ",m," hours/month threshold"]})]})]}),t.jsx(Su,{data:l.rows,columns:g,searchPlaceholder:"Search employees"})]}),t.jsx(H,{title:"Pending Approvals",subtitle:"Requests awaiting action",children:t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[t.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-700",children:"Leaves"}),t.jsx(le,{variant:"warning",children:c.leaves})]}),t.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-700",children:"Attendance Corrections"}),t.jsx(le,{variant:"warning",children:c.attendanceCorrections})]}),t.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-700",children:"Promotions"}),t.jsx(le,{variant:"warning",children:c.promotions})]}),t.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-700",children:"Profile Updates"}),t.jsx(le,{variant:"warning",children:c.profileUpdates})]}),t.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-700",children:"Selection Board"}),t.jsx(le,{variant:"warning",children:c.selectionBoard})]})]})})]}),t.jsxs(H,{title:"Probation Completion Tracking",subtitle:"Employees completing probation in next 60 days",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3 text-gray-600",children:[t.jsx(Cu,{className:"w-5 h-5"}),t.jsxs("span",{children:["Total: ",h.length]})]}),h.length===0?t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(Cu,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),t.jsx("p",{children:"No probation completions in next 60 days"})]}):t.jsxs(t.Fragment,{children:[h.filter(j=>j.status==="urgent").length>0&&t.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2",children:[t.jsx(sa,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),t.jsxs("div",{className:"text-sm",children:[t.jsxs("p",{className:"font-semibold text-red-800",children:[h.filter(j=>j.status==="urgent").length," Urgent Probation Completion(s)"]}),t.jsx("p",{className:"text-red-700",children:"Within 7 days - Schedule evaluation and confirmation meeting"})]})]}),t.jsx(Su,{data:h,columns:v,searchPlaceholder:"Search employees"})]})]}),t.jsxs(H,{title:"Upcoming Probation/Contract Expiries",subtitle:`Next ${s?.operationalConfig?.expiryHorizonDays||30} days`,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3 text-gray-600",children:[t.jsx(nt,{className:"w-5 h-5"}),t.jsxs("span",{children:["Total: ",d.length]})]}),t.jsx(Su,{data:d,columns:y,searchPlaceholder:"Search employees"})]})]})}const Cie={fully:{label:"Fully Achieved",marks:100},largely:{label:"Largely Achieved",marks:85},partially:{label:"Partially Achieved",marks:70},not:{label:"Not Achieved",marks:0}};function Mie(){const e=ve(f=>f.getPamsForHr),n=ve(f=>f.hrApprovePams),[a,r]=x.useState(null),s=x.useMemo(()=>e(),[e]),l=()=>{if(!s.length)return;const f=_1(s.map(h=>({period:h.period,employee:h.employeeName||h.employeeId,department:h.department,faculty:h.faculty,category:h.category||"faculty",hodMeeting:h.hodReview?.meetingDate||"",deanMeeting:h.deanReview?.meetingDate||""})),["period","employee","department","faculty","category","hodMeeting","deanMeeting"]);T1("pams-hr-final.csv",f)},c=f=>{n(f,{action:"approve",comment:"Approved and finalized"}),r(null)},d=s.filter(f=>f.category==="faculty"),m=s.filter(f=>f.category==="hod");return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Cu,{className:"w-6 h-6 text-gray-600"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"PAMS Final Processing"}),t.jsx("p",{className:"text-gray-600",children:"Review VC-approved submissions and finalize records. Faculty & HOD performance evaluations."})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs(Z,{variant:"secondary",onClick:l,className:"flex items-center gap-2",children:[t.jsx(Gt,{className:"w-4 h-4"})," Export CSV"]})}),s.length===0?t.jsx(H,{children:t.jsx("p",{className:"text-sm text-gray-600",children:"No submissions awaiting HR finalization."})}):t.jsxs(t.Fragment,{children:[d.length>0&&t.jsxs(t.Fragment,{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Faculty PAMS (VC Approved)"}),t.jsx("div",{className:"grid gap-3",children:d.map(f=>t.jsx(H,{className:`cursor-pointer transition-all ${a?.id===f.id?"ring-2 ring-green-500":""}`,onClick:()=>r(f),children:t.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:f.employeeName||f.employeeId}),t.jsxs("p",{className:"text-xs text-gray-500",children:[f.department,"  ",f.faculty]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Period: ",f.period]}),t.jsxs("div",{className:"flex gap-3 mt-1 text-xs",children:[f.hodReview?.meetingDate&&t.jsxs("span",{className:"text-emerald-600",children:[" HOD: ",f.hodReview.meetingDate]}),f.vcReview?.decidedAt&&t.jsxs("span",{className:"text-emerald-600",children:[" VC: ",f.vcReview.decidedAt]})]})]}),t.jsx(le,{variant:"success",children:"vc-approved"})]})},f.id))})]}),m.length>0&&t.jsxs(t.Fragment,{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mt-6",children:"HOD PAMS (VC Approved)"}),t.jsx("div",{className:"grid gap-3",children:m.map(f=>t.jsx(H,{className:`cursor-pointer transition-all ${a?.id===f.id?"ring-2 ring-green-500":""}`,onClick:()=>r(f),children:t.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:f.employeeName||f.employeeId}),t.jsxs("p",{className:"text-xs text-gray-500",children:[f.department,"  ",f.faculty]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Period: ",f.period]}),t.jsxs("div",{className:"flex gap-3 mt-1 text-xs",children:[f.deanReview?.meetingDate&&t.jsxs("span",{className:"text-emerald-600",children:[" Dean: ",f.deanReview.meetingDate]}),f.vcReview?.decidedAt&&t.jsxs("span",{className:"text-emerald-600",children:[" VC: ",f.vcReview.decidedAt]})]})]}),t.jsx(le,{variant:"success",children:"vc-approved"})]})},f.id))})]})]}),a&&t.jsxs(H,{children:[t.jsxs("div",{className:"flex items-center justify-between gap-2 mb-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:a.employeeName||a.employeeId}),t.jsxs("p",{className:"text-xs text-gray-500",children:[a.category==="hod"?"HOD Performance":"Faculty Performance"," "," ",a.period]})]}),t.jsx(le,{variant:"success",children:"Ready for HR"})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4",children:[t.jsxs("p",{className:"text-xs font-semibold text-green-900 mb-2 flex items-center gap-2",children:[t.jsx(Cu,{className:"w-4 h-4"})," Approval Chain Complete"]}),t.jsxs("div",{className:"text-xs text-green-800 space-y-1",children:[t.jsxs("p",{children:[" VC Approved: ",a.vcReview?.decidedAt||"Today"]}),a.category==="faculty"&&a.hodReview?.meetingDate&&t.jsxs("p",{children:[" HOD Meeting: ",a.hodReview.meetingDate]}),a.category==="hod"&&a.deanReview?.meetingDate&&t.jsxs("p",{children:[" Dean Meeting: ",a.deanReview.meetingDate]}),a.vcReview?.comment&&t.jsxs("p",{children:["Note: ",a.vcReview.comment]})]})]}),t.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:a.category==="faculty"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Teaching Assessment"}),t.jsx(_a,{label:"Student Evaluation",value:a.teachingAssessment?.studentEvaluation}),t.jsx(_a,{label:"Teaching Workload",value:a.teachingAssessment?.teachingWorkload}),t.jsx(_a,{label:"Course Completion",value:a.teachingAssessment?.courseCompletion})]}),t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Research & Supervision"}),t.jsx(_a,{label:"FYP Supervision",value:a.fypSupervision}),t.jsx(_a,{label:"MS/PhD Supervision",value:a.msPhDSupervision}),t.jsx(_a,{label:"Research Publications",value:a.researchPublications}),t.jsx(_a,{label:"Research Funding",value:a.researchFunding})]}),t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Service & Administration"}),t.jsx(_a,{label:"Administrative Duties",value:a.administrativeDuties}),t.jsx(_a,{label:"Service to Community",value:a.serviceToCommunity})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Leadership"}),t.jsx(_a,{label:"Leadership",value:a.leadership})]}),t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Curriculum & Instruction"}),t.jsx(_a,{label:"Curriculum Instruction",value:a.curriculumInstruction})]}),t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Management"}),t.jsx(_a,{label:"Management & Admin",value:a.managementAdministration})]}),t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Personnel"}),t.jsx(_a,{label:"Personnel",value:a.personnel})]}),t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Promotion & Tenure"}),t.jsx(_a,{label:"Promotion & Tenure",value:a.promotionTenure})]})]})}),t.jsxs("div",{className:"flex flex-wrap justify-end gap-2 mt-6 border-t pt-4",children:[t.jsx(Z,{variant:"secondary",onClick:()=>r(null),children:"Cancel"}),t.jsxs(Z,{onClick:()=>c(a.id),className:"flex items-center gap-2 bg-green-600 hover:bg-green-700",children:[t.jsx(vj,{className:"w-4 h-4"})," Finalize & File"]})]})]})]})}function _a({label:e,value:n}){const a=n?Cie[n]:null;return t.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm py-1",children:[t.jsx("span",{className:"text-gray-700",children:e}),a?t.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:a.label}):t.jsx("span",{className:"text-xs text-gray-500",children:""})]})}function Die(){return t.jsx(Mi,{children:t.jsxs(Ce,{element:t.jsx(q8,{}),children:[t.jsx(Ce,{index:!0,element:t.jsx(H8,{})}),t.jsx(Ce,{path:"employees",element:t.jsx(f9,{})}),t.jsx(Ce,{path:"attendance",element:t.jsx(Cse,{})}),t.jsx(Ce,{path:"attendance-list",element:t.jsx(g9,{})}),t.jsx(Ce,{path:"leaves",element:t.jsx(y9,{})}),t.jsx(Ce,{path:"promotions",element:t.jsx(v9,{})}),t.jsx(Ce,{path:"increments",element:t.jsx(bse,{})}),t.jsx(Ce,{path:"payroll",element:t.jsx(Sse,{})}),t.jsx(Ce,{path:"recruitment",element:t.jsx(Mse,{})}),t.jsx(Ce,{path:"operational",element:t.jsx(Aie,{})}),t.jsx(Ce,{path:"pams",element:t.jsx(Mie,{})}),t.jsx(Ce,{path:"resignations",element:t.jsx(b9,{})}),t.jsx(Ce,{path:"ex-employees",element:t.jsx(use,{})}),t.jsx(Ce,{path:"profile-requests",element:t.jsx(Nse,{})}),t.jsx(Ce,{path:"analytics",element:t.jsx(mse,{})}),t.jsx(Ce,{path:"reports",element:t.jsx(fse,{})}),t.jsx(Ce,{path:"policy-advisory",element:t.jsx(xse,{})}),t.jsx(Ce,{path:"announcements",element:t.jsx(yse,{})}),t.jsx(Ce,{path:"settings",element:t.jsx(vse,{})}),t.jsx(Ce,{path:"*",element:t.jsx(Ns,{to:".",replace:!0})})]})})}const Eie=[{path:"/dean",label:"Dashboard",icon:Va,end:!0},{path:"/dean/employees",label:"Faculty Staff",icon:rn},{path:"/dean/attendance",label:"Attendance",icon:Ue},{path:"/dean/leaves",label:"Leave Requests",icon:nt},{path:"/dean/promotions",label:"Promotions",icon:Au},{path:"/dean/self-service",label:"Manager Self-Service",icon:As},{path:"/dean/pams",label:"PAMS (HOD)",icon:As},{path:"/dean/meetings",label:"Committee Meetings",icon:ss},{path:"/dean/reports",label:"Reports",icon:gi},{path:"/dean/settings",label:"Settings",icon:Fr}];function Oie(){return t.jsx(Di,{portalKey:"dean",portalName:"Dean Portal",navItems:Eie})}const x4=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];function Pie(){const e=ve(S=>S.employees),n=ve(S=>S.attendance),a=ve(S=>S.leaves),r=at(S=>S.user),s=x.useMemo(()=>e.filter(S=>S.faculty===r.faculty),[e,r.faculty]),l=x.useMemo(()=>new Set(s.map(S=>S.id)),[s]),c=x.useMemo(()=>a.filter(S=>l.has(S.employeeId)),[a,l]),d=s.length,m=s.filter(S=>S.status==="Active").length,f=[...new Set(s.map(S=>S.department))],h=c.filter(S=>S.status==="Pending").length,g=U(new Date,"yyyy-MM-dd"),y=x.useMemo(()=>{const S=n.filter(P=>P.date===g&&l.has(P.employeeId)),A=S.filter(P=>P.status==="Present").length,E=S.filter(P=>P.status==="Absent").length,D=S.filter(P=>P.status==="Late").length;return{present:A,absent:E,late:D,total:S.length}},[n,g,l]),v=x.useMemo(()=>{const S={};return s.forEach(A=>{S[A.department]=(S[A.department]||0)+1}),Object.entries(S).map(([A,E])=>({name:A,value:E}))},[s]),j=x.useMemo(()=>["Mon","Tue","Wed","Thu","Fri"].map(A=>({day:A,present:Math.floor(Math.random()*20)+30,absent:Math.floor(Math.random()*5)+1,late:Math.floor(Math.random()*5)+1})),[]),b=x.useMemo(()=>c.sort((S,A)=>new Date(A.appliedOn)-new Date(S.appliedOn)).slice(0,5).map(S=>({...S,employee:e.find(A=>A.id===S.employeeId)})),[c,e]),w=[{label:"Total Faculty Staff",value:d,icon:rn,color:"from-blue-600 to-indigo-600",change:"+2 this month"},{label:"Active Members",value:m,icon:gl,color:"from-emerald-500 to-teal-500",change:`${Math.round(m/d*100)}% active`},{label:"Departments",value:f.length,icon:so,color:"from-amber-500 to-orange-500",change:"Under faculty"},{label:"Pending Leaves",value:h,icon:nt,color:"from-purple-500 to-pink-500",change:"Requires action"}],M=[{label:"View All Staff",icon:rn,path:"/dean/employees",color:"bg-blue-500"},{label:"Check Attendance",icon:Ue,path:"/dean/attendance",color:"bg-emerald-500"},{label:"Leave Requests",icon:nt,path:"/dean/leaves",color:"bg-purple-500"},{label:"View Reports",icon:gi,path:"/dean/reports",color:"bg-amber-500"}];return t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Faculty Overview"}),t.jsxs("p",{className:"text-gray-500 mt-1",children:["Faculty of ",r.faculty||"Computing & Engineering"]})]}),t.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:t.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-blue-700 font-medium",children:U(new Date,"EEEE, MMMM d, yyyy")})})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:w.map(S=>t.jsxs("div",{className:"glass p-6 rounded-2xl card-hover relative overflow-hidden group",children:[t.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 bg-linear-to-br ${S.color} opacity-10 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110`}),t.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:S.label}),t.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:S.value}),t.jsxs("p",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[t.jsx(Ss,{className:"w-3 h-3"}),S.change]})]}),t.jsx("div",{className:`p-3 rounded-xl bg-linear-to-br ${S.color} text-white shadow-lg`,children:t.jsx(S.icon,{className:"w-6 h-6"})})]})]},S.label))}),t.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:M.map(S=>t.jsxs(jn,{to:S.path,className:"glass p-4 rounded-xl card-hover flex items-center gap-3 group",children:[t.jsx("div",{className:`p-2 rounded-lg ${S.color} text-white group-hover:scale-110 transition-transform`,children:t.jsx(S.icon,{className:"w-5 h-5"})}),t.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:S.label})]},S.label))}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(H,{title:"Department Distribution",subtitle:"Staff distribution across departments",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(fr,{children:[t.jsx(Wa,{data:v,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:3,dataKey:"value",label:({name:S,percent:A})=>`${S} (${(A*100).toFixed(0)}%)`,children:v.map((S,A)=>t.jsx(kn,{fill:x4[A%x4.length]},S.name))}),t.jsx(pt,{})]})})})}),t.jsx(H,{title:"Weekly Attendance",subtitle:"Attendance pattern this week",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(Rr,{data:j,children:[t.jsx(tn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(nn,{dataKey:"day",tick:{fontSize:12}}),t.jsx(an,{tick:{fontSize:12}}),t.jsx(pt,{}),t.jsx(cr,{}),t.jsx(ra,{dataKey:"present",fill:"#10b981",radius:[4,4,0,0],name:"Present"}),t.jsx(ra,{dataKey:"late",fill:"#f59e0b",radius:[4,4,0,0],name:"Late"}),t.jsx(ra,{dataKey:"absent",fill:"#ef4444",radius:[4,4,0,0],name:"Absent"})]})})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(H,{title:"Today's Attendance",subtitle:U(new Date,"MMMM d, yyyy"),children:[t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center p-4 rounded-xl bg-emerald-50 border border-emerald-100",children:[t.jsx(Be,{className:"w-8 h-8 text-emerald-600 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-emerald-700",children:y.present}),t.jsx("p",{className:"text-xs text-emerald-600",children:"Present"})]}),t.jsxs("div",{className:"text-center p-4 rounded-xl bg-amber-50 border border-amber-100",children:[t.jsx(Ue,{className:"w-8 h-8 text-amber-600 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-amber-700",children:y.late}),t.jsx("p",{className:"text-xs text-amber-600",children:"Late"})]}),t.jsxs("div",{className:"text-center p-4 rounded-xl bg-red-50 border border-red-100",children:[t.jsx(zt,{className:"w-8 h-8 text-red-600 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-red-700",children:y.absent}),t.jsx("p",{className:"text-xs text-red-600",children:"Absent"})]})]}),t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Attendance Rate"}),t.jsx("span",{className:"font-semibold text-gray-900",children:y.total>0?`${Math.round(y.present/d*100)}%`:"N/A"})]}),t.jsx("div",{className:"mt-2 w-full h-2 rounded-full bg-gray-100 overflow-hidden",children:t.jsx("div",{className:"h-full bg-linear-to-r from-emerald-500 to-teal-500 rounded-full transition-all",style:{width:`${y.present/d*100}%`}})})]})]}),t.jsx(H,{title:"Recent Leave Requests",subtitle:"Latest requests from faculty",actions:t.jsx(jn,{to:"/dean/leaves",children:t.jsx(Z,{variant:"ghost",size:"sm",children:"View All"})}),children:t.jsx("div",{className:"space-y-3",children:b.length===0?t.jsxs("div",{className:"text-center py-8 text-gray-400",children:[t.jsx(nt,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No leave requests"})]}):b.map(S=>t.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-linear-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold text-sm",children:S.employee?.name?.charAt(0)||"?"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.employee?.name||"Unknown"}),t.jsxs("p",{className:"text-xs text-gray-500",children:[S.type," "," ",S.startDate?U(me(S.startDate),"MMM d"):"N/A"," -"," ",S.endDate?U(me(S.endDate),"MMM d"):"N/A"]})]})]}),t.jsx(le,{variant:S.status==="Approved"?"success":S.status==="Rejected"?"danger":"warning",children:S.status})]},S.id))})})]})]})}function kie(){const e=ve(s=>s.employees),n=at(s=>s.user),a=e.filter(s=>s.faculty===n.faculty),r=()=>{const s=Ps.unparse(a),l=new Blob([s],{type:"text/csv"}),c=URL.createObjectURL(l),d=document.createElement("a");d.href=c,d.download=`faculty_${n.faculty}_employees.csv`,d.click()};return t.jsx(H,{title:`Faculty Staff: ${n.faculty}`,subtitle:"View staff records for your faculty",actions:t.jsxs(Z,{variant:"outline",onClick:r,children:[t.jsx(Gt,{className:"w-4 h-4"})," Export CSV"]}),children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Code"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Designation"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:a.map(s=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:s.code}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:s.name}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:s.department}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:s.designation}),t.jsx("td",{className:"px-4 py-3 text-sm",children:t.jsx(le,{variant:s.status==="Active"?"success":"default",children:s.status})})]},s.id))})]})})})}function Rie(){const e=ve(A=>A.employees),n=ve(A=>A.attendance),a=at(A=>A.user),[r,s]=x.useState(U(new Date,"yyyy-MM-dd")),[l,c]=x.useState(""),[d,m]=x.useState("all"),[f,h]=x.useState("daily"),g=x.useMemo(()=>e.filter(A=>A.faculty===a.faculty),[e,a.faculty]),y=x.useMemo(()=>new Set(g.map(A=>A.id)),[g]),v=x.useMemo(()=>[...new Set(g.map(A=>A.department))].sort(),[g]),j=x.useMemo(()=>g.filter(A=>{const E=A.name.toLowerCase().includes(l.toLowerCase())||A.code.toLowerCase().includes(l.toLowerCase()),D=d==="all"||A.department===d;return E&&D}).map(A=>{const E=n.find(D=>D.employeeId===A.id&&D.date===r);return{...A,attendance:E||null}}),[g,n,r,l,d]),b=x.useMemo(()=>{const A=n.filter(E=>E.date===r&&y.has(E.employeeId));return{total:g.length,present:A.filter(E=>E.status==="Present").length,absent:A.filter(E=>E.status==="Absent").length,late:A.filter(E=>E.status==="Late").length,leave:A.filter(E=>E.status==="Leave").length}},[n,r,g,y]),w=x.useMemo(()=>Array.from({length:7},(E,D)=>{const P=Ke(new Date,6-D),T=U(P,"yyyy-MM-dd"),O=n.filter(k=>k.date===T&&y.has(k.employeeId));return{date:U(P,"EEE"),present:O.filter(k=>k.status==="Present").length,absent:O.filter(k=>k.status==="Absent").length,late:O.filter(k=>k.status==="Late").length}}),[n,y]),M=()=>{const A=j.map(O=>({Code:O.code,Name:O.name,Department:O.department,Date:r,Status:O.attendance?.status||"No Record",CheckIn:O.attendance?.checkIn||"-",CheckOut:O.attendance?.checkOut||"-"})),E=Ps.unparse(A),D=new Blob([E],{type:"text/csv"}),P=URL.createObjectURL(D),T=document.createElement("a");T.href=P,T.download=`faculty_attendance_${r}.csv`,T.click()},S=A=>{switch(A){case"Present":return t.jsx(le,{variant:"success",children:A});case"Absent":return t.jsx(le,{variant:"danger",children:A});case"Late":return t.jsx(le,{variant:"warning",children:A});case"Leave":return t.jsx(le,{variant:"info",children:A});default:return t.jsx(le,{variant:"default",children:"No Record"})}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Faculty Attendance"}),t.jsxs("p",{className:"text-gray-500 mt-1",children:["Track attendance for ",a.faculty]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"date",value:r,onChange:A=>s(A.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),t.jsxs(Z,{variant:"outline",onClick:M,children:[t.jsx(Gt,{className:"w-4 h-4"}),"Export"]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"glass p-4 rounded-xl text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.total}),t.jsx("p",{className:"text-xs text-gray-500",children:"Total Staff"})]}),t.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-emerald-500",children:[t.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:b.present}),t.jsx("p",{className:"text-xs text-gray-500",children:"Present"})]}),t.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-red-500",children:[t.jsx("p",{className:"text-2xl font-bold text-red-600",children:b.absent}),t.jsx("p",{className:"text-xs text-gray-500",children:"Absent"})]}),t.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-amber-500",children:[t.jsx("p",{className:"text-2xl font-bold text-amber-600",children:b.late}),t.jsx("p",{className:"text-xs text-gray-500",children:"Late"})]}),t.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-blue-500",children:[t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:b.leave}),t.jsx("p",{className:"text-xs text-gray-500",children:"On Leave"})]})]}),t.jsx(H,{title:"Weekly Attendance Trend",subtitle:"Last 7 days overview",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(Mo,{data:w,children:[t.jsx(tn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(nn,{dataKey:"date",tick:{fontSize:12}}),t.jsx(an,{tick:{fontSize:12}}),t.jsx(pt,{}),t.jsx(Ua,{type:"monotone",dataKey:"present",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Present"}),t.jsx(Ua,{type:"monotone",dataKey:"late",stackId:"1",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.6,name:"Late"}),t.jsx(Ua,{type:"monotone",dataKey:"absent",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Absent"})]})})})}),t.jsxs(H,{children:[t.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row gap-3",children:[t.jsx("div",{className:"flex-1",children:t.jsx(Rn,{type:"text",placeholder:"Search by name or code...",value:l,onChange:A=>c(A.target.value),className:"w-full",inputClassName:"pr-4 py-2 text-sm"})}),t.jsxs("select",{value:d,onChange:A=>m(A.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:"All Departments"}),v.map(A=>t.jsx("option",{value:A,children:A},A))]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50",children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Employee"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Department"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Check In"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Check Out"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Work Hours"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:j.map(A=>{const E=A.attendance?.checkIn,D=A.attendance?.checkOut;let P="-";if(E&&D){const[T,O]=E.split(":").map(Number),[k,B]=D.split(":").map(Number),I=k*60+B-(T*60+O),z=Math.floor(I/60),J=I%60;P=`${z}h ${J}m`}return t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-linear-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold text-xs",children:A.name.charAt(0)}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.name}),t.jsx("p",{className:"text-xs text-gray-500",children:A.code})]})]})}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:A.department}),t.jsx("td",{className:"px-4 py-3",children:S(A.attendance?.status)}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:E||"-"}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:D||"-"}),t.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:P})]},A.id)})})]})}),j.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Ue,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No attendance records found"})]})]})]})}const _ie=[{id:"all",label:"All Requests"},{id:"pending",label:"Pending"},{id:"approved",label:"Approved"},{id:"rejected",label:"Rejected"}];function Tie(){const e=ve(F=>F.employees),n=ve(F=>F.leaves),a=ve(F=>F.updateLeaveStatus),r=at(F=>F.user),[s,l]=x.useState("pending"),[c,d]=x.useState(""),[m,f]=x.useState("all"),[h,g]=x.useState(null),[y,v]=x.useState(!1),[j,b]=x.useState(null),[w,M]=x.useState(""),[S,A]=x.useState(0),[E,D]=x.useState(0),[P,T]=x.useState(""),O=x.useMemo(()=>e.filter(F=>F.faculty===r.faculty),[e,r.faculty]),k=x.useMemo(()=>new Set(O.map(F=>F.id)),[O]),B=x.useMemo(()=>n.filter(F=>k.has(F.employeeId)).map(F=>({...F,employee:e.find(q=>q.id===F.employeeId),days:F.days||(F.startDate&&F.endDate?rs(me(F.endDate),me(F.startDate))+1:0)})).sort((F,q)=>new Date(q.appliedOn)-new Date(F.appliedOn)),[n,e,k]),I=x.useMemo(()=>[...new Set(B.map(F=>F.type))].sort(),[B]),z=x.useMemo(()=>B.filter(F=>{if(s!=="all"&&F.status.toLowerCase()!==s)return!1;if(c){const q=c.toLowerCase(),Y=F.employee?.name?.toLowerCase().includes(q),ae=F.employee?.code?.toLowerCase().includes(q);if(!Y&&!ae)return!1}return!(m!=="all"&&F.type!==m)}),[B,s,c,m]),J=x.useMemo(()=>({total:B.length,pending:B.filter(F=>F.status==="Pending").length,approved:B.filter(F=>F.status==="Approved").length,rejected:B.filter(F=>F.status==="Rejected").length}),[B]),L=(F,q)=>{g(F),b(q),M(""),A(F.paidDays??F.days??0),D(F.unpaidDays??0),T(""),v(!0)},G=()=>{if(!(!h||!j)){if(j==="approve"){const F=Number(S)||0,q=Number(E)||0,Y=F+q,ae=h.days||0;if(Y!==ae){T(`Days don't match: ${F} + ${q} = ${Y}, but leave is ${ae} days`);return}T("")}j==="approve"?a(h.id,"Approved","dean",r.name,w,{paidDays:Number(S)||0,unpaidDays:Number(E)||0}):a(h.id,"Rejected","dean",r.name,w),v(!1),g(null),b(null),M(""),A(0),D(0),T("")}},W=F=>{switch(F){case"Approved":return t.jsx(le,{variant:"success",children:F});case"Rejected":return t.jsx(le,{variant:"danger",children:F});case"Pending":return t.jsx(le,{variant:"warning",children:F});default:return t.jsx(le,{variant:"default",children:F})}},R=F=>{const q={Annual:"bg-blue-100 text-blue-700",Sick:"bg-red-100 text-red-700",Casual:"bg-purple-100 text-purple-700",Maternity:"bg-pink-100 text-pink-700",Paternity:"bg-cyan-100 text-cyan-700",Unpaid:"bg-gray-100 text-gray-700"};return t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${q[F]||"bg-gray-100 text-gray-700"}`,children:F})};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Faculty Leave Requests"}),t.jsxs("p",{className:"text-gray-500 mt-1",children:["Manage leave requests for ",r.faculty]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"glass p-4 rounded-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-gray-100",children:t.jsx(nt,{className:"w-5 h-5 text-gray-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:J.total}),t.jsx("p",{className:"text-xs text-gray-500",children:"Total Requests"})]})]})}),t.jsx("div",{className:"glass p-4 rounded-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-amber-100",children:t.jsx(Ue,{className:"w-5 h-5 text-amber-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-amber-600",children:J.pending}),t.jsx("p",{className:"text-xs text-gray-500",children:"Pending"})]})]})}),t.jsx("div",{className:"glass p-4 rounded-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:t.jsx(Be,{className:"w-5 h-5 text-emerald-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:J.approved}),t.jsx("p",{className:"text-xs text-gray-500",children:"Approved"})]})]})}),t.jsx("div",{className:"glass p-4 rounded-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:t.jsx(zt,{className:"w-5 h-5 text-red-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-red-600",children:J.rejected}),t.jsx("p",{className:"text-xs text-gray-500",children:"Rejected"})]})]})})]}),t.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:_ie.map(F=>t.jsxs("button",{onClick:()=>l(F.id),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${s===F.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[F.label,F.id==="pending"&&J.pending>0&&t.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-white/20 rounded text-xs",children:J.pending})]},F.id))}),t.jsxs(H,{children:[t.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row gap-3",children:[t.jsx("div",{className:"flex-1",children:t.jsx(Rn,{type:"text",placeholder:"Search by employee name or code...",value:c,onChange:F=>d(F.target.value),className:"w-full",inputClassName:"pr-4 py-2 text-sm"})}),t.jsxs("select",{value:m,onChange:F=>f(F.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:"All Leave Types"}),I.map(F=>t.jsx("option",{value:F,children:F},F))]})]}),t.jsx("div",{className:"space-y-4",children:z.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(nt,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No leave requests found"})]}):z.map(F=>t.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl hover:border-gray-200 transition-all",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold",children:F.employee?.name?.charAt(0)||"?"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:F.employee?.name}),t.jsxs("p",{className:"text-sm text-gray-500",children:[F.employee?.code,"  ",F.employee?.department]})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsx("div",{className:"text-sm",children:R(F.type)}),t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsx("span",{className:"font-medium",children:F.startDate?U(me(F.startDate),"MMM d"):"N/A"}),t.jsx("span",{className:"mx-1",children:""}),t.jsx("span",{className:"font-medium",children:F.endDate?U(me(F.endDate),"MMM d, yyyy"):"N/A"}),t.jsxs("span",{className:"text-gray-400 ml-2",children:["(",F.days," day",F.days>1?"s":"",")"]})]}),W(F.status)]}),F.status==="Pending"&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>L(F,"approve"),className:"text-emerald-600 border-emerald-200 hover:bg-emerald-50",children:[t.jsx(Be,{className:"w-4 h-4"}),"Approve"]}),t.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>L(F,"reject"),className:"text-red-600 border-red-200 hover:bg-red-50",children:[t.jsx(zt,{className:"w-4 h-4"}),"Reject"]})]})]}),F.reason&&t.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:t.jsxs("p",{className:"text-sm text-gray-600",children:[t.jsx("span",{className:"font-medium text-gray-700",children:"Reason: "}),F.reason]})}),F.reviewedBy&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 flex items-center gap-2 text-xs text-gray-500",children:[t.jsx(Zu,{className:"w-4 h-4"}),t.jsxs("span",{children:[F.status," by ",F.reviewedBy,F.reviewedOn&&` on ${U(me(F.reviewedOn),"MMM d, yyyy")}`]}),F.comments&&t.jsxs(t.Fragment,{children:[t.jsx(yj,{className:"w-4 h-4 ml-2"}),t.jsxs("span",{children:['"',F.comments,'"']})]})]})]},F.id))})]}),t.jsx(ft,{isOpen:y,onClose:()=>v(!1),title:`${j==="approve"?"Approve":"Reject"} Leave Request`,children:h&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-linear-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold",children:h.employee?.name?.charAt(0)}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:h.employee?.name}),t.jsx("p",{className:"text-sm text-gray-500",children:h.employee?.department})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Type:"}),t.jsx("span",{className:"ml-2 font-medium",children:h.type})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Duration:"}),t.jsxs("span",{className:"ml-2 font-medium",children:[h.days," day(s)"]})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("span",{className:"text-gray-500",children:"Period:"}),t.jsxs("span",{className:"ml-2 font-medium",children:[h.startDate?U(me(h.startDate),"MMM d"):"N/A"," ","-"," ",h.endDate?U(me(h.endDate),"MMM d, yyyy"):"N/A"]})]})]})]}),h.documents&&h.documents.length>0&&t.jsxs("div",{className:"space-y-3 bg-slate-50 border border-slate-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(kr,{className:"w-5 h-5 text-slate-600"}),t.jsx("p",{className:"font-semibold text-slate-900",children:"Supporting Documents"})]}),t.jsx("div",{className:"space-y-2",children:h.documents.map((F,q)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-slate-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(kr,{className:"w-5 h-5 text-slate-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-900",children:F.name}),t.jsxs("p",{className:"text-xs text-slate-500",children:[(F.size/1024).toFixed(1)," KB  Uploaded"," ",F.uploadedAt?U(me(F.uploadedAt),"MMM d, yyyy"):"N/A"]})]})]}),t.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>{const Y=document.createElement("a");Y.href=F.file,Y.download=F.name,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)},className:"text-blue-600 hover:text-blue-700",children:[t.jsx(Gt,{className:"w-4 h-4"}),"Download"]})]},F.id||q))})]}),j==="approve"&&h.type==="Medical"&&t.jsxs("div",{className:"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-blue-900 mb-3",children:" Medical Leave - Classify Days as Paid or Unpaid"}),t.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Based on submitted medical documentation, classify the leave days:"}),t.jsxs("p",{className:"text-sm text-blue-700 mb-4",children:["Total days to classify: ",t.jsx("span",{className:"font-bold",children:h.days})]})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Paid Days"}),t.jsx("input",{type:"number",min:0,max:h.days,value:S,onChange:F=>{const q=Number(F.target.value)||0;A(q),T("")},className:"w-full px-3 py-2 border border-green-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 bg-white font-semibold text-green-700",placeholder:"0"}),t.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Employee receives full pay"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unpaid Days"}),t.jsx("input",{type:"number",min:0,max:h.days,value:E,onChange:F=>{const q=Number(F.target.value)||0;D(q),T("")},className:"w-full px-3 py-2 border border-amber-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-500 bg-white font-semibold text-amber-700",placeholder:"0"}),t.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Employee receives no pay"})]})]}),(()=>{const F=Number(S)||0,q=Number(E)||0,Y=F+q,ae=h.days-Y,je=Y===h.days,V=Y>h.days;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:`flex gap-3 p-4 rounded-lg border-2 transition-all ${je?"bg-green-50 border-green-300":V?"bg-red-50 border-red-300":"bg-yellow-50 border-yellow-300"}`,children:[t.jsxs("div",{className:"text-center flex-1",children:[t.jsx("p",{className:"text-2xl font-bold text-green-600",children:F}),t.jsx("p",{className:"text-xs text-green-700 font-medium",children:"PAID"})]}),t.jsx("div",{className:"text-center text-3xl text-gray-400 font-bold",children:"+"}),t.jsxs("div",{className:"text-center flex-1",children:[t.jsx("p",{className:"text-2xl font-bold text-amber-600",children:q}),t.jsx("p",{className:"text-xs text-amber-700 font-medium",children:"UNPAID"})]}),t.jsx("div",{className:"text-center text-3xl text-gray-400 font-bold",children:"="}),t.jsxs("div",{className:"text-center flex-1",children:[t.jsx("p",{className:`text-2xl font-bold ${je?"text-green-600":V?"text-red-600":"text-gray-600"}`,children:Y}),t.jsxs("p",{className:"text-xs text-gray-700 font-medium",children:["of ",h.days]})]})]}),ae>0&&t.jsxs("div",{className:"text-sm text-amber-700 bg-amber-50 p-3 rounded border border-amber-200",children:[" You have ",t.jsx("span",{className:"font-bold",children:ae})," more day",ae>1?"s":""," to classify"]}),V&&t.jsxs("div",{className:"text-sm text-red-700 bg-red-50 p-3 rounded border border-red-200",children:[" Total days exceed leave duration by"," ",t.jsx("span",{className:"font-bold",children:Math.abs(ae)})," day",Math.abs(ae)>1?"s":""]}),je&&t.jsx("div",{className:"text-sm text-green-700 bg-green-50 p-3 rounded border border-green-200",children:" Perfect! Days are correctly classified and ready for approval"})]})})(),P&&t.jsxs("p",{className:"text-sm text-red-600 bg-red-50 p-2 rounded border border-red-200",children:[" ",P]})]}),j==="approve"&&h.type!=="Medical"&&t.jsx("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-amber-900",children:" This is a standard leave request. No day classification required."})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comment (Optional)"}),t.jsx("textarea",{value:w,onChange:F=>M(F.target.value),placeholder:j==="approve"?"Add any notes...":"Reason for rejection...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3})]}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx(Z,{variant:"ghost",onClick:()=>v(!1),children:"Cancel"}),t.jsx(Z,{variant:j==="approve"?"primary":"danger",onClick:G,children:j==="approve"?"Approve Request":"Reject Request"})]})]})})]})}function Lie(){const e=at(I=>I.user),{promotions:n,updatePromotionStatus:a}=ve(),[r,s]=x.useState("pending"),[l,c]=x.useState(""),[d,m]=x.useState("all"),[f,h]=x.useState(null),[g,y]=x.useState(!1),[v,j]=x.useState(""),[b,w]=x.useState("10:00"),[M,S]=x.useState(""),[A,E]=x.useState(""),D=x.useMemo(()=>n.filter(I=>{if(r==="pending"&&I.status!=="Pending"||r==="review"&&I.status!=="Under Review"||r==="completed"&&!["Approved","Rejected"].includes(I.status))return!1;if(l){const z=l.toLowerCase();if(!I.employeeName?.toLowerCase().includes(z)&&!I.department?.toLowerCase().includes(z))return!1}return!(d!=="all"&&I.department!==d)}),[n,r,l,d]),P=I=>{h(I),y(!0),j(U(new Date,"yyyy-MM-dd")),w("10:00"),S(""),E(`Promotion Committee Meeting for ${I.employeeName}

Promotion Request:
From: ${I.currentDesignation}
To: ${I.requestedDesignation}

Reason: ${I.reason}`)},T=async()=>{if(!f||!v||!M){alert("Please fill in all required fields");return}try{a(f.id,"Under Review",{type:"committee",meetingDate:`${v} ${b}`,notes:A,scheduledBy:e?.name,date:U(new Date,"yyyy-MM-dd")}),await B4({title:`Promotion Committee Meeting - ${f.employeeName}`,date:v,time:b,location:M,agenda:A,convener:e?.name||"Dean"},e?.email),alert("Committee meeting scheduled successfully! Notifications sent to all employees."),y(!1),h(null)}catch(I){console.error("Failed to schedule meeting:",I),alert("Failed to schedule meeting. Please try again.")}},O=I=>{const z={Pending:"warning","Under Review":"info",Approved:"success",Rejected:"error"};return t.jsx(le,{variant:z[I]||"default",children:I})},k=Object.values(bs).flat(),B={pending:n.filter(I=>I.status==="Pending").length,underReview:n.filter(I=>I.status==="Under Review").length,approved:n.filter(I=>I.status==="Approved").length,rejected:n.filter(I=>I.status==="Rejected").length};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Promotion Requests"}),t.jsx("p",{className:"text-gray-600",children:"Review promotion requests and schedule committee meetings as Dean/Convener"})]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Pending",value:B.pending,color:"amber",icon:Ue},{label:"Under Review",value:B.underReview,color:"blue",icon:ts},{label:"Approved",value:B.approved,color:"green",icon:Be},{label:"Rejected",value:B.rejected,color:"red",icon:zt}].map(I=>t.jsx(H,{className:`bg-${I.color}-50 border-${I.color}-100`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:`text-sm text-${I.color}-600`,children:I.label}),t.jsx("p",{className:`text-2xl font-bold text-${I.color}-700`,children:I.value})]}),t.jsx(I.icon,{className:`w-8 h-8 text-${I.color}-400`})]})},I.label))}),t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[t.jsx(ha,{value:r,onValueChange:s,children:t.jsxs(pa,{children:[t.jsxs(Ve,{value:"pending",children:["Pending (",B.pending,")"]}),t.jsxs(Ve,{value:"review",children:["Under Review (",B.underReview,")"]}),t.jsxs(Ve,{value:"completed",children:["Completed (",B.approved+B.rejected,")"]})]})}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsx(Rn,{type:"text",placeholder:"Search employees...",value:l,onChange:I=>c(I.target.value),className:"w-full sm:w-64",inputClassName:"pr-4 py-2 text-sm"}),t.jsxs("select",{value:d,onChange:I=>m(I.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"all",children:"All Departments"}),k.map(I=>t.jsx("option",{value:I,children:I},I))]})]})]}),t.jsx(H,{className:"bg-blue-50 border-blue-200",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(ts,{className:"w-6 h-6 text-blue-600 shrink-0 mt-1"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-blue-900",children:"Dean Role - Committee Convener"}),t.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"As the Dean, you are authorized to schedule committee meetings for promotion reviews. When you schedule a meeting, all employees will be notified automatically."})]})]})}),t.jsx(H,{children:D.length===0?t.jsxs("div",{children:[t.jsx(Qu,{icon:jj,title:"No Promotions Found",description:r==="pending"?"No pending promotion requests":r==="review"?"No promotions under review":"No completed promotions"}),t.jsxs("div",{className:"mt-4 p-2 bg-yellow-100 text-yellow-800 rounded text-xs",children:["Debug: promotions array length: ",n.length,", filteredPromotions:"," ",D.length]})]}):t.jsx("div",{className:"space-y-4",children:D.map(I=>t.jsxs("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold",children:I.employeeName?.charAt(0)||"?"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:I.employeeName}),t.jsxs("p",{className:"text-sm text-gray-500",children:[I.department,"  ",I.faculty]}),t.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-indigo-600",children:[t.jsx("span",{children:I.currentDesignation}),t.jsx(Au,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium",children:I.requestedDesignation})]})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"text-sm text-gray-500",children:[t.jsx(nt,{className:"w-4 h-4 inline mr-1"}),U(me(I.appliedOn),"MMM d, yyyy")]}),t.jsxs("div",{className:"text-sm text-gray-500",children:[I.yearsInService," years service"]}),O(I.status)]}),I.status==="Pending"&&t.jsxs(Z,{size:"sm",onClick:()=>P(I),className:"gap-1 bg-indigo-600 hover:bg-indigo-700",children:[t.jsx(ts,{className:"w-4 h-4"}),"Schedule Committee Meeting"]})]}),t.jsxs("div",{className:"mt-4 pt-4 border-t",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Reason for Promotion:"}),t.jsx("p",{className:"text-sm text-gray-600",children:I.reason}),I.documents?.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:I.documents.map((z,J)=>t.jsxs("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs text-gray-600",children:[" ",z]},J))})]}),I.committeeReview&&t.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Committee Meeting Scheduled"}),t.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Date: ",I.committeeReview.meetingDate,"  Scheduled by:"," ",I.committeeReview.scheduledBy]}),I.committeeReview.notes&&t.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Agenda: ",I.committeeReview.notes]})]})]},I.id))})}),t.jsx(ft,{isOpen:g,onClose:()=>y(!1),title:"Schedule Committee Meeting",children:f&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"font-medium",children:f.employeeName}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[f.currentDesignation,"  ",f.requestedDesignation]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Meeting Date ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",value:v,onChange:I=>j(I.target.value),min:U(new Date,"yyyy-MM-dd"),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Time ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"time",value:b,onChange:I=>w(I.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Location ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:M,onChange:I=>S(I.target.value),placeholder:"e.g., Conference Room A, Admin Building",className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meeting Agenda"}),t.jsx("textarea",{value:A,onChange:I=>E(I.target.value),rows:6,placeholder:"Meeting agenda and discussion points...",className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})]}),t.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:t.jsx("p",{className:"text-sm text-blue-800",children:" All employees will be notified about this committee meeting via email."})}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[t.jsx(Z,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),t.jsx(Z,{onClick:T,className:"bg-indigo-600 hover:bg-indigo-700",children:"Schedule Meeting & Notify All"})]})]})})]})}function Iie(){const e=at(j=>j.user),[n,a]=x.useState(!1),[r,s]=x.useState([]),{register:l,handleSubmit:c,reset:d,formState:{errors:m,isSubmitting:f}}=qc({defaultValues:{title:"",date:U(new Date,"yyyy-MM-dd"),time:"10:00",location:"",agenda:""}}),h=["registrar@cecos.edu.pk","vp@cecos.edu.pk","vc@cecos.edu.pk","president@cecos.edu.pk","manager-hr@cecos.edu.pk"],g=async j=>{try{const b={id:`m-${Date.now()}`,...j,convener:e?.name||"Dean",createdBy:e?.email,createdAt:U(new Date,"yyyy-MM-dd HH:mm"),status:"Scheduled",attendees:h};s([b,...r]),await B4({title:j.title,date:j.date,time:j.time,location:j.location,agenda:j.agenda,convener:e?.name||"Dean",attendees:h},e?.email),alert("Meeting scheduled successfully! Notifications sent to all employees."),y()}catch(b){console.error("Failed to schedule meeting:",b),alert("Failed to schedule meeting. Please try again.")}},y=()=>{a(!1),d()},v=j=>{confirm("Are you sure you want to delete this meeting?")&&s(r.filter(b=>b.id!==j))};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Committee Meetings"}),t.jsx("p",{className:"text-gray-600",children:"Schedule and manage committee meetings as Dean/Convener"})]}),t.jsxs(Z,{onClick:()=>a(!0),className:"gap-2",children:[t.jsx(yi,{className:"w-4 h-4"}),"Schedule Meeting"]})]}),t.jsx(H,{children:r.length===0?t.jsxs("div",{className:"text-center py-12 text-gray-500",children:[t.jsx(nt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"No meetings scheduled yet"}),t.jsxs("div",{className:"mt-4 p-2 bg-yellow-100 text-yellow-800 rounded text-xs",children:["Debug: meetings array length: ",r.length]})]}):t.jsx("div",{className:"space-y-4",children:r.map(j=>t.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:j.title}),t.jsx(le,{variant:"success",children:j.status})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-3 text-sm text-gray-600 mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(nt,{className:"w-4 h-4"}),t.jsx("span",{children:U(new Date(j.date),"MMMM d, yyyy")})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ue,{className:"w-4 h-4"}),t.jsx("span",{children:j.time})]}),t.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[t.jsx(q7,{className:"w-4 h-4"}),t.jsx("span",{children:j.location})]})]}),t.jsxs("div",{className:"bg-gray-50 p-3 rounded mb-3",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Agenda:"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:j.agenda})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[t.jsxs("span",{children:["Convener: ",j.convener]}),t.jsxs("span",{children:["Attendees: ",j.attendees.length," members"]})]})]}),t.jsx(Z,{size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-700 ml-2",onClick:()=>v(j.id),children:t.jsx(kp,{className:"w-4 h-4"})})]})},j.id))})}),t.jsx(ft,{isOpen:n,onClose:y,title:"Schedule Committee Meeting",size:"lg",children:t.jsxs("form",{onSubmit:c(g),className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Meeting Title ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",...l("title",{required:"Meeting title is required"}),placeholder:"e.g., Academic Committee Meeting",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),m.title&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.title.message})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",...l("date",{required:"Date is required"}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),m.date&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.date.message})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Time ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"time",...l("time",{required:"Time is required"}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),m.time&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.time.message})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",...l("location",{required:"Location is required"}),placeholder:"e.g., Board Room, Main Campus",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),m.location&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.location.message})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Agenda ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{...l("agenda",{required:"Agenda is required",minLength:{value:10,message:"Agenda must be at least 10 characters"}}),rows:4,placeholder:"Describe the meeting agenda and topics to be discussed...",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),m.agenda&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:m.agenda.message})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[t.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Committee Members to be Notified:"}),t.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[t.jsx("li",{children:" Registrar"}),t.jsx("li",{children:" Vice President"}),t.jsx("li",{children:" Vice Chancellor"}),t.jsx("li",{children:" President"}),t.jsx("li",{children:" Manager HR"})]}),t.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Email notifications will be sent to all committee members automatically."})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[t.jsx(Z,{type:"button",variant:"outline",onClick:y,disabled:f,children:"Cancel"}),t.jsx(Z,{type:"submit",disabled:f,children:f?"Scheduling...":"Schedule Meeting"})]})]})})]})}const vc=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"],zie=[{id:"overview",label:"Overview",icon:gi},{id:"attendance",label:"Attendance Report",icon:Ue},{id:"leaves",label:"Leave Report",icon:nt},{id:"department",label:"Department Analysis",icon:so}];function Bie(){const e=ve(S=>S.employees),n=ve(S=>S.attendance),a=ve(S=>S.leaves),r=at(S=>S.user),[s,l]=x.useState("overview"),[c,d]=x.useState({from:U(qa(new Date),"yyyy-MM-dd"),to:U(Ha(new Date),"yyyy-MM-dd")}),m=x.useMemo(()=>e.filter(S=>S.faculty===r.faculty),[e,r.faculty]),f=x.useMemo(()=>new Set(m.map(S=>S.id)),[m]),h=x.useMemo(()=>n.filter(S=>f.has(S.employeeId)),[n,f]),g=x.useMemo(()=>a.filter(S=>f.has(S.employeeId)),[a,f]),y=x.useMemo(()=>{const S={};return m.forEach(A=>{S[A.department]=(S[A.department]||0)+1}),Object.entries(S).map(([A,E])=>({name:A,value:E}))},[m]),v=x.useMemo(()=>{const S=[];for(let A=5;A>=0;A--){const E=po(new Date,A),D=U(E,"MMM yyyy"),P=h.filter(B=>{const I=me(B.date);return U(I,"MMM yyyy")===D}),T=P.filter(B=>B.status==="Present").length,O=P.filter(B=>B.status==="Absent").length,k=P.filter(B=>B.status==="Late").length;S.push({month:U(E,"MMM"),present:T,absent:O,late:k,rate:P.length>0?Math.round(T/(T+O+k)*100):0})}return S},[h]),j=x.useMemo(()=>{const S={};return g.forEach(A=>{S[A.type]=(S[A.type]||0)+1}),Object.entries(S).map(([A,E])=>({name:A,value:E}))},[g]),b=x.useMemo(()=>({pending:g.filter(S=>S.status==="Pending").length,approved:g.filter(S=>S.status==="Approved").length,rejected:g.filter(S=>S.status==="Rejected").length}),[g]),w=x.useMemo(()=>{const S={};return m.forEach(A=>{S[A.department]||(S[A.department]={total:0,present:0,employees:0}),S[A.department].employees++}),h.forEach(A=>{const E=e.find(D=>D.id===A.employeeId);E&&S[E.department]&&(S[E.department].total++,(A.status==="Present"||A.status==="Late")&&S[E.department].present++)}),Object.entries(S).map(([A,E])=>({name:A,employees:E.employees,rate:E.total>0?Math.round(E.present/E.total*100):0}))},[m,h,e]),M=S=>{let A=[],E="";switch(S){case"attendance":A=h.map(k=>({Employee:e.find(B=>B.id===k.employeeId)?.name||"Unknown",Date:k.date,Status:k.status,CheckIn:k.checkIn||"-",CheckOut:k.checkOut||"-"})),E="faculty_attendance_report";break;case"leaves":A=g.map(k=>({Employee:e.find(B=>B.id===k.employeeId)?.name||"Unknown",Type:k.type,From:k.from,To:k.to,Status:k.status,Reason:k.reason||"-"})),E="faculty_leaves_report";break;case"department":A=w.map(k=>({Department:k.name,Employees:k.employees,AttendanceRate:`${k.rate}%`})),E="department_report";break;default:A=m.map(k=>({Code:k.code,Name:k.name,Department:k.department,Designation:k.designation,Status:k.status})),E="faculty_employees_report"}const D=Ps.unparse(A),P=new Blob([D],{type:"text/csv"}),T=URL.createObjectURL(P),O=document.createElement("a");O.href=T,O.download=`${E}_${U(new Date,"yyyy-MM-dd")}.csv`,O.click()};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Faculty Reports"}),t.jsxs("p",{className:"text-gray-500 mt-1",children:["Analytics and reports for ",r.faculty]})]}),t.jsxs(Z,{variant:"outline",onClick:()=>M(s),children:[t.jsx(Gt,{className:"w-4 h-4"}),"Export Report"]})]}),t.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:zie.map(S=>t.jsxs("button",{onClick:()=>l(S.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${s===S.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx(S.icon,{className:"w-4 h-4"}),S.label]},S.id))}),s==="overview"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"glass p-4 rounded-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:t.jsx(rn,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.length}),t.jsx("p",{className:"text-xs text-gray-500",children:"Total Staff"})]})]})}),t.jsx("div",{className:"glass p-4 rounded-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:t.jsx(so,{className:"w-5 h-5 text-emerald-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.length}),t.jsx("p",{className:"text-xs text-gray-500",children:"Departments"})]})]})}),t.jsx("div",{className:"glass p-4 rounded-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-amber-100",children:t.jsx(nt,{className:"w-5 h-5 text-amber-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.pending}),t.jsx("p",{className:"text-xs text-gray-500",children:"Pending Leaves"})]})]})}),t.jsx("div",{className:"glass p-4 rounded-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-purple-100",children:t.jsx(Ue,{className:"w-5 h-5 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.length>0?`${v[v.length-1].rate}%`:"N/A"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Attendance Rate"})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(H,{title:"Department Distribution",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(fr,{children:[t.jsx(Wa,{data:y,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:3,dataKey:"value",label:({name:S,percent:A})=>`${S} (${(A*100).toFixed(0)}%)`,children:y.map((S,A)=>t.jsx(kn,{fill:vc[A%vc.length]},S.name))}),t.jsx(pt,{})]})})})}),t.jsx(H,{title:"Monthly Attendance Trend",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(Yu,{data:v,children:[t.jsx(tn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(nn,{dataKey:"month",tick:{fontSize:12}}),t.jsx(an,{tick:{fontSize:12},domain:[0,100],unit:"%"}),t.jsx(pt,{formatter:S=>[`${S}%`,"Attendance Rate"]}),t.jsx(Fc,{type:"monotone",dataKey:"rate",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6"}})]})})})})]})]}),s==="attendance"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(H,{title:"Monthly Attendance Breakdown",subtitle:"Attendance statistics for the last 6 months",children:t.jsx("div",{className:"h-72",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(Rr,{data:v,children:[t.jsx(tn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(nn,{dataKey:"month",tick:{fontSize:12}}),t.jsx(an,{tick:{fontSize:12}}),t.jsx(pt,{}),t.jsx(cr,{}),t.jsx(ra,{dataKey:"present",fill:"#10b981",radius:[4,4,0,0],name:"Present"}),t.jsx(ra,{dataKey:"late",fill:"#f59e0b",radius:[4,4,0,0],name:"Late"}),t.jsx(ra,{dataKey:"absent",fill:"#ef4444",radius:[4,4,0,0],name:"Absent"})]})})})}),t.jsx(H,{title:"Attendance Rate Trend",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(Yu,{data:v,children:[t.jsx(tn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(nn,{dataKey:"month",tick:{fontSize:12}}),t.jsx(an,{tick:{fontSize:12},domain:[0,100],unit:"%"}),t.jsx(pt,{formatter:S=>[`${S}%`,"Rate"]}),t.jsx(Fc,{type:"monotone",dataKey:"rate",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2}})]})})})})]}),s==="leaves"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"glass p-6 rounded-xl text-center border-l-4 border-amber-500",children:[t.jsx("p",{className:"text-3xl font-bold text-amber-600",children:b.pending}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Pending"})]}),t.jsxs("div",{className:"glass p-6 rounded-xl text-center border-l-4 border-emerald-500",children:[t.jsx("p",{className:"text-3xl font-bold text-emerald-600",children:b.approved}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Approved"})]}),t.jsxs("div",{className:"glass p-6 rounded-xl text-center border-l-4 border-red-500",children:[t.jsx("p",{className:"text-3xl font-bold text-red-600",children:b.rejected}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Rejected"})]})]}),t.jsx(H,{title:"Leaves by Type",subtitle:"Distribution of leave requests by type",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(fr,{children:[t.jsx(Wa,{data:j,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:S,value:A})=>`${S}: ${A}`,children:j.map((S,A)=>t.jsx(kn,{fill:vc[A%vc.length]},S.name))}),t.jsx(pt,{}),t.jsx(cr,{})]})})})})]}),s==="department"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(H,{title:"Department Performance",subtitle:"Attendance rate by department",children:t.jsx("div",{className:"h-72",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(Rr,{data:w,layout:"vertical",children:[t.jsx(tn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(nn,{type:"number",domain:[0,100],unit:"%",tick:{fontSize:12}}),t.jsx(an,{type:"category",dataKey:"name",tick:{fontSize:12},width:100}),t.jsx(pt,{formatter:S=>[`${S}%`,"Attendance Rate"]}),t.jsx(ra,{dataKey:"rate",fill:"#3b82f6",radius:[0,4,4,0]})]})})})}),t.jsx(H,{title:"Department Staff Count",children:t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:w.map((S,A)=>t.jsxs("div",{className:"p-4 rounded-xl border border-gray-100 hover:border-gray-200 transition-all",children:[t.jsx("div",{className:"w-3 h-3 rounded-full mb-2",style:{backgroundColor:vc[A%vc.length]}}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.name}),t.jsx("p",{className:"text-2xl font-bold text-gray-700 mt-1",children:S.employees}),t.jsx("p",{className:"text-xs text-gray-500",children:"staff members"})]},S.name))})})]})]})}const $ie=[{id:"profile",label:"Profile",icon:_r},{id:"notifications",label:"Notifications",icon:ss},{id:"preferences",label:"Preferences",icon:Fr}];function Fie(){const e=at(y=>y.user),[n,a]=x.useState("profile"),[r,s]=x.useState(!1),[l,c]=x.useState({name:e?.name||"",email:e?.email||"",phone:"+92-300-1234567",office:"Block A, Room 101"}),[d,m]=x.useState({emailAlerts:!0,leaveRequests:!0,attendanceAlerts:!0,weeklyReports:!0,systemUpdates:!1}),[f,h]=x.useState({defaultView:"dashboard",itemsPerPage:"10",dateFormat:"dd/MM/yyyy",autoApproveLeaves:!1}),g=()=>{s(!0),setTimeout(()=>s(!1),2e3)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your portal preferences"})]}),t.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:$ie.map(y=>t.jsxs("button",{onClick:()=>a(y.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${n===y.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx(y.icon,{className:"w-4 h-4"}),y.label]},y.id))}),n==="profile"&&t.jsx(H,{title:"Profile Information",subtitle:"Your personal information",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-20 h-20 rounded-full bg-linear-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white text-2xl font-bold",children:e?.name?.charAt(0)||"D"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?.name}),t.jsxs("p",{className:"text-gray-500",children:["Dean - Faculty of ",e?.faculty]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(st,{label:"Full Name",children:t.jsx("input",{type:"text",value:l.name,onChange:y=>c({...l,name:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})}),t.jsx(st,{label:"Email",children:t.jsx("input",{type:"email",value:l.email,onChange:y=>c({...l,email:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})}),t.jsx(st,{label:"Phone",children:t.jsx("input",{type:"text",value:l.phone,onChange:y=>c({...l,phone:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})}),t.jsx(st,{label:"Office",children:t.jsx("input",{type:"text",value:l.office,onChange:y=>c({...l,office:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(Z,{onClick:g,children:r?"Saved!":"Save Changes"})})]})}),n==="notifications"&&t.jsx(H,{title:"Notification Preferences",subtitle:"Control what notifications you receive",children:t.jsxs("div",{className:"space-y-4",children:[[{key:"emailAlerts",label:"Email Alerts",desc:"Receive important updates via email"},{key:"leaveRequests",label:"Leave Requests",desc:"Get notified when staff submit leave requests"},{key:"attendanceAlerts",label:"Attendance Alerts",desc:"Alerts for unusual attendance patterns"},{key:"weeklyReports",label:"Weekly Reports",desc:"Receive weekly summary reports"},{key:"systemUpdates",label:"System Updates",desc:"Notifications about system changes"}].map(y=>t.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-100 hover:border-gray-200 transition-all",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:y.label}),t.jsx("p",{className:"text-sm text-gray-500",children:y.desc})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:d[y.key],onChange:v=>m({...d,[y.key]:v.target.checked}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},y.key)),t.jsx("div",{className:"flex justify-end pt-4",children:t.jsx(Z,{onClick:g,children:r?"Saved!":"Save Preferences"})})]})}),n==="preferences"&&t.jsx(H,{title:"Portal Preferences",subtitle:"Customize your portal experience",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(st,{label:"Default View",children:t.jsxs("select",{value:f.defaultView,onChange:y=>h({...f,defaultView:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"dashboard",children:"Dashboard"}),t.jsx("option",{value:"employees",children:"Faculty Staff"}),t.jsx("option",{value:"attendance",children:"Attendance"}),t.jsx("option",{value:"leaves",children:"Leave Requests"})]})}),t.jsx(st,{label:"Items Per Page",children:t.jsxs("select",{value:f.itemsPerPage,onChange:y=>h({...f,itemsPerPage:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"10",children:"10 items"}),t.jsx("option",{value:"25",children:"25 items"}),t.jsx("option",{value:"50",children:"50 items"}),t.jsx("option",{value:"100",children:"100 items"})]})}),t.jsx(st,{label:"Date Format",children:t.jsxs("select",{value:f.dateFormat,onChange:y=>h({...f,dateFormat:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"dd/MM/yyyy",children:"DD/MM/YYYY"}),t.jsx("option",{value:"MM/dd/yyyy",children:"MM/DD/YYYY"}),t.jsx("option",{value:"yyyy-MM-dd",children:"YYYY-MM-DD"})]})})]}),t.jsx("div",{className:"p-4 rounded-lg border border-gray-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Auto-approve Leaves"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Automatically approve leave requests under 2 days"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:f.autoApproveLeaves,onChange:y=>h({...f,autoApproveLeaves:y.target.checked}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})}),t.jsx("div",{className:"flex justify-end",children:t.jsx(Z,{onClick:g,children:r?"Saved!":"Save Preferences"})})]})})]})}function qie(){const e=at(w=>w.user),{employees:n,leaves:a,attendance:r,updateLeaveStatus:s}=ve(),[l,c]=x.useState(""),d=e?.faculty,m=x.useMemo(()=>n.filter(w=>!d||w.faculty===d),[n,d]),f=U(new Date,"yyyy-MM-dd"),h=x.useMemo(()=>r.filter(w=>w.date===f&&m.some(M=>M.id===w.employeeId)),[r,m,f]),y=x.useMemo(()=>a.filter(w=>m.some(M=>M.id===w.employeeId)),[a,m]).filter(w=>w.status==="Pending"||w.status==="Forwarded"),v={staff:m.length,pendingLeaves:y.length,present:h.filter(w=>w.status==="Present").length,late:h.filter(w=>w.status==="Late").length},j=(w,M)=>{s(w,M?"Approved":"Rejected","dean",e?.name||"Dean",l||""),c("")},b=w=>w==="Approved"?"success":w==="Rejected"?"error":w==="Forwarded"||w==="Pending"?"warning":"default";return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Manager Self-Service"}),t.jsx("p",{className:"text-gray-600",children:"Faculty view, approvals, and attendance snapshot"})]}),t.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[{label:"Faculty Staff",value:v.staff,icon:rn,color:"indigo"},{label:"Pending Leaves",value:v.pendingLeaves,icon:nt,color:"amber"},{label:"Present Today",value:v.present,icon:Be,color:"green"},{label:"Late Today",value:v.late,icon:Ue,color:"rose"}].map(w=>t.jsx(H,{className:`border-${w.color}-100 bg-${w.color}-50`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:`text-sm text-${w.color}-600`,children:w.label}),t.jsx("p",{className:`text-2xl font-bold text-${w.color}-800`,children:w.value})]}),t.jsx(w.icon,{className:`w-8 h-8 text-${w.color}-500`})]})},w.label))}),t.jsxs(H,{children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Va,{className:"w-5 h-5 text-gray-500"}),t.jsx("p",{className:"font-semibold text-gray-900",children:"Pending Leave Approvals"})]})}),y.length===0?t.jsx("p",{className:"text-sm text-gray-500",children:"No pending leaves for your faculty."}):t.jsx("div",{className:"space-y-2 text-sm text-gray-800",children:y.map(w=>t.jsxs("div",{className:"border rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium capitalize",children:w.employeeName}),t.jsxs("p",{className:"text-xs text-gray-500",children:[w.type,"  ",w.startDate,"  ",w.endDate," (",w.days,"d)"]})]}),t.jsx(le,{variant:b(w.status),children:w.status})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[t.jsx(Z,{size:"sm",variant:"outline",onClick:()=>j(w.id,!0),children:"Approve"}),t.jsx(Z,{size:"sm",variant:"outline",onClick:()=>j(w.id,!1),className:"text-red-600 border-red-200",children:"Reject"}),t.jsx("input",{className:"flex-1 min-w-[180px] rounded border px-3 py-1 text-xs",placeholder:"Notes (optional)",value:l,onChange:M=>c(M.target.value)})]})]},w.id))})]})]})}function ro({value:e=[],onChange:n,maxFiles:a=5,maxSizeMB:r=10,allowedTypes:s=["pdf","doc","docx","jpg","jpeg","png"],label:l="Upload Files",required:c=!1,helper:d="",disabled:m=!1}){const f=x.useRef(null),[h,g]=x.useState([]),y=A=>{if(A===0)return"0 Bytes";const E=1024,D=["Bytes","KB","MB"],P=Math.floor(Math.log(A,E));return Math.round(A/Math.pow(E,P)*100)/100+" "+D[P]},v=A=>A.split(".").pop().toLowerCase(),j=A=>{const E=[],D=v(A.name),P=A.size/(1024*1024);return s.includes(D)||E.push(`${A.name}: Invalid file type. Allowed: ${s.join(", ")}`),P>r&&E.push(`${A.name}: File size exceeds ${r}MB limit`),E},b=A=>{const E=Array.from(A.target.files||[]),D=[],P=[];e.length+E.length>a?D.push(`Maximum ${a} files allowed`):E.forEach(T=>{const O=j(T);O.length>0?D.push(...O):P.push({id:Math.random().toString(36),name:T.name,size:T.size,type:T.type,file:T,uploadedAt:new Date().toISOString()})}),g(D),P.length>0&&n([...e,...P]),f.current&&(f.current.value="")},w=A=>{n(e.filter(E=>E.id!==A))},M=A=>{A.preventDefault(),A.stopPropagation()},S=A=>{A.preventDefault(),A.stopPropagation();const E=Array.from(A.dataTransfer.files||[]);if(f.current){const D=new DataTransfer;E.forEach(P=>D.items.add(P)),f.current.files=D.files,b({target:f.current})}};return t.jsxs("div",{className:"space-y-2",children:[l&&t.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[l,c&&t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${m?"bg-gray-50 border-gray-200 cursor-not-allowed":"border-gray-300 hover:border-blue-500 cursor-pointer"}`,onDragOver:M,onDrop:S,onClick:()=>!m&&f.current?.click(),children:[t.jsx("input",{ref:f,type:"file",multiple:!0,accept:s.map(A=>`.${A}`).join(","),onChange:b,disabled:m,className:"hidden"}),t.jsx(WL,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Drop files here or click to select"}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Max ",a," files, ",r,"MB each"]})]}),d&&t.jsx("p",{className:"text-xs text-gray-500",children:d}),h.length>0&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:h.map((A,E)=>t.jsxs("p",{className:"text-xs text-red-600",children:[" ",A]},E))}),e.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsxs("p",{className:"text-xs font-medium text-gray-600",children:[e.length," file",e.length!==1?"s":""," selected"]}),e.map(A=>t.jsxs("div",{className:"flex items-center justify-between bg-gray-50 border border-gray-200 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[t.jsx(kr,{className:"w-4 h-4 text-gray-400 shrink-0"}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:A.name}),t.jsx("p",{className:"text-xs text-gray-500",children:y(A.size)})]})]}),t.jsx("button",{onClick:()=>w(A.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors ml-2",type:"button",children:t.jsx(Rp,{className:"w-4 h-4"})})]},A.id))]})]})}const Hie={fully:{label:"Fully Achieved",value:"fully",marks:100},largely:{label:"Largely Achieved",value:"largely",marks:85},partially:{label:"Partially Achieved",value:"partially",marks:70},not:{label:"Not Achieved",value:"not",marks:0}},Uie=[{key:"teaching",label:"Teaching Leadership"},{key:"research",label:"Research & Funding"},{key:"fypSupervision",label:"Project Supervision"},{key:"service",label:"Service & Engagement"}];function Vie({pamsId:e,employeeId:n,pamsData:a,onClose:r}){const s=ve(R=>R.getPamsForEmployee),l=ve(R=>R.getEmployee),c=ve(R=>R.getEmployeePublications),d=ve(R=>R.getEmployeeFYPSupervisions),m=ve(R=>R.getEmployeeThesisSupervisions),f=ve(R=>R.getEmployeeResearchGrants),h=ve(R=>R.getEmployeeAttendanceSummary),g=ve(R=>R.getEmployeeAdminDuties),y=ve(R=>R.updatePamsSubmission),v=x.useMemo(()=>a||s(n)?.find(R=>R.id===e),[a,e,n,s]),j=x.useMemo(()=>l(n),[n,l]),b=new Date().getFullYear(),w=x.useMemo(()=>c(n).filter(R=>R.year===b),[n,c,b]),M=x.useMemo(()=>d(n).filter(R=>R.period===`Fall ${b}`),[n,d,b]),S=x.useMemo(()=>m(n).filter(R=>R.period===`Fall ${b}`),[n,m,b]),A=x.useMemo(()=>f(n).filter(R=>R.period===`Fall ${b}`),[n,f,b]),E=x.useMemo(()=>g(n),[n,g]),D=x.useMemo(()=>h(n),[n,h]),[P,T]=x.useState({teaching:"largely",research:"largely",fypSupervision:"largely",service:"largely"}),[O,k]=x.useState(""),[B,I]=x.useState(""),[z,J]=x.useState(!1),[L,G]=x.useState(!1),W=()=>{if(!O||!v){alert("Please fill in all required fields");return}try{const R=new Date;R.setHours(0,0,0,0);const F=new Date(O);F.setHours(0,0,0,0);const q=new Date;if(q.setFullYear(q.getFullYear()+1),q.setHours(0,0,0,0),isNaN(F.getTime())){alert("Invalid meeting date.");return}if(F<R){alert("Meeting date cannot be in the past.");return}if(F>q){alert("Meeting date is too far in the future.");return}}catch{alert("Invalid meeting date.");return}J(!0),y(e,{deanReview:{status:"dean-confirmed",meetingDate:O,comment:B,decidedAt:new Date().toISOString().split("T")[0],assessment:P},status:"dean-confirmed"}),J(!1),G(!0),setTimeout(()=>{r?.()},2e3)};return!v||!j?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsx(H,{className:"w-96",children:t.jsx("p",{className:"text-gray-600",children:"Loading appraisal form..."})})}):L?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs(H,{className:"w-96 text-center p-6",children:[t.jsx(Be,{className:"w-12 h-12 text-green-600 mx-auto mb-3"}),t.jsx("p",{className:"font-semibold text-green-700",children:"Appraisal Submitted Successfully"}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Redirecting..."})]})}):t.jsxs(H,{className:"w-full",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"HOD Appraisal Meeting Form"})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs(H,{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"HOD Information"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Name"}),t.jsx("p",{className:"font-semibold text-gray-900",children:j.name})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"ID"}),t.jsx("p",{className:"font-semibold text-gray-900",children:j.id})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Department"}),t.jsx("p",{className:"font-semibold text-gray-900",children:j.department})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Faculty"}),t.jsx("p",{className:"font-semibold text-gray-900",children:j.faculty})]})]})]}),t.jsxs(H,{children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-3",children:["HOD PAMS Data (Period: ",v.period,")"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Leadership Workload"}),t.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded border text-sm text-gray-700 space-y-2",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Teaching Leadership:"})," ",v.workload?.teachingLoad]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Project Oversight:"})," ",v.workload?.projectSupervision]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Faculty Advisory:"})," ",v.workload?.advisory]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Administrative:"})," ",v.workload?.admin]})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Performance Achievements"}),t.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded border text-sm text-gray-700 space-y-2",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Teaching Leadership:"})," ",v.rubric?.teaching]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Research & Funding:"})," ",v.rubric?.research]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Service & Engagement:"})," ",v.rubric?.service]})]})]})]})]}),E?.length>0&&t.jsxs(H,{children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-3",children:["Administrative Duties (",E.length,")"]}),t.jsx("div",{className:"space-y-3",children:E.map(R=>t.jsxs("div",{className:"text-sm text-gray-600 p-3 bg-purple-50 rounded",children:[t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx(le,{className:"bg-purple-200 text-purple-900",children:R.dutyLevel}),t.jsx(le,{className:"bg-purple-200 text-purple-900",children:R.dutyType})]}),t.jsxs("p",{className:"font-semibold text-gray-900",children:["Assigned by: ",R.assignedBy]}),t.jsx("p",{className:"mt-1",children:R.roleDescription}),t.jsxs("div",{className:"flex gap-3 mt-2 text-xs",children:[R.creditHourExemption&&t.jsx(le,{className:"bg-green-100 text-green-800",children:"Credit Hour Exemption"}),R.extraAllowance&&t.jsx(le,{className:"bg-blue-100 text-blue-800",children:"Extra Allowance"})]})]},R.id))})]}),t.jsxs(H,{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Attendance Summary (Past Month)"}),t.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[t.jsxs("div",{className:"text-center p-3 bg-green-50 rounded",children:[t.jsx("p",{className:"text-2xl font-bold text-green-700",children:D.present}),t.jsx("p",{className:"text-xs text-gray-600",children:"Present"})]}),t.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded",children:[t.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:D.late}),t.jsx("p",{className:"text-xs text-gray-600",children:"Late"})]}),t.jsxs("div",{className:"text-center p-3 bg-red-50 rounded",children:[t.jsx("p",{className:"text-2xl font-bold text-red-700",children:D.absent}),t.jsx("p",{className:"text-xs text-gray-600",children:"Absent"})]}),t.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded",children:[t.jsx("p",{className:"text-2xl font-bold text-blue-700",children:D.total}),t.jsx("p",{className:"text-xs text-gray-600",children:"Total Days"})]})]})]}),w.length>0&&t.jsxs(H,{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h3",{className:"font-semibold text-gray-900",children:["Research Publications (",w.length,")"]}),t.jsxs(le,{variant:"info",className:"text-xs",children:["Fall ",b," data from employee profile"]})]}),t.jsx("div",{className:"space-y-2",children:w.map((R,F)=>t.jsxs("div",{className:"p-3 border border-gray-200 rounded text-sm",children:[t.jsx("p",{className:"font-semibold text-gray-900",children:R.title}),t.jsx("p",{className:"text-xs text-gray-600",children:R.authors}),t.jsxs("p",{className:"text-xs text-gray-600",children:[R.journalName," (",R.year,")"]}),R.hecCategory&&t.jsx(le,{className:"mt-1",children:R.hecCategory})]},F))})]}),A.length>0&&t.jsxs(H,{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h3",{className:"font-semibold text-gray-900",children:["Research Grants (",A.length,")"]}),t.jsxs(le,{variant:"info",className:"text-xs",children:["Fall ",b," data from employee profile"]})]}),t.jsx("div",{className:"space-y-2",children:A.map((R,F)=>t.jsxs("div",{className:"p-3 border border-gray-200 rounded text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(le,{children:R.period}),R.outcome&&t.jsx(le,{variant:R.outcome==="approved"||R.outcome==="awarded"?"success":R.outcome==="rejected"?"destructive":"info",children:R.outcome})]}),t.jsx("p",{className:"font-semibold text-gray-900",children:R.grantName}),t.jsxs("p",{className:"text-xs text-gray-600",children:["Agency: ",R.fundingAgency]}),t.jsxs("p",{className:"text-xs text-gray-600",children:["Amount: PKR ",Number(R.amount).toLocaleString()]}),R.amountObtained&&t.jsxs("p",{className:"text-xs text-gray-600",children:["Amount Obtained: PKR ",Number(R.amountObtained).toLocaleString()]}),R.approvedDate&&t.jsxs("p",{className:"text-xs text-gray-600",children:["Approved: ",R.approvedDate]}),t.jsxs("p",{className:"text-xs text-gray-600",children:["Status: ",R.status]}),R.notes&&t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Notes: ",R.notes]})]},F))})]}),(M.length>0||S.length>0)&&t.jsxs(H,{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Project & Thesis Supervisions"}),t.jsxs(le,{variant:"info",className:"text-xs",children:["Fall ",b," data from employee profile"]})]}),t.jsxs("div",{className:"space-y-4",children:[M.length>0&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["FYP Supervised (",M.length,")"]}),M.map((R,F)=>t.jsxs("div",{className:"text-xs text-gray-600 p-2 bg-blue-50 rounded mb-1",children:[t.jsx(le,{className:"mb-1",children:R.period}),t.jsx("p",{className:"font-semibold",children:R.projectTitle}),t.jsxs("p",{children:["Students: ",R.studentNames,"  Status: ",R.status]}),R.numberOfStudents&&t.jsxs("p",{children:["Number of Students: ",R.numberOfStudents]}),R.awards&&t.jsxs("p",{className:"mt-1",children:["Awards: ",R.awards]}),R.technicalPapers&&t.jsxs("p",{children:["Technical Papers: ",R.technicalPapers]}),R.productsDevloped&&t.jsxs("p",{children:["Products: ",R.productsDevloped]}),R.prototypeCompleted&&t.jsxs("p",{children:["Prototype/Feasibility: ",R.prototypeCompleted]}),R.otherInfo&&t.jsxs("p",{children:["Other Info: ",R.otherInfo]})]},F))]}),S.length>0&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Thesis Supervised (",S.length,")"]}),S.map((R,F)=>t.jsxs("div",{className:"text-xs text-gray-600 p-2 bg-green-50 rounded mb-1",children:[t.jsxs("div",{className:"flex gap-2 mb-1",children:[t.jsx(le,{children:R.period}),t.jsx(le,{variant:R.level==="PhD"?"primary":"secondary",children:R.level})]}),t.jsx("p",{className:"font-semibold",children:R.thesisTitle}),t.jsxs("p",{children:["Student: ",R.studentName,"  Status: ",R.status]}),R.conferencePapers&&t.jsxs("p",{className:"mt-1",children:["Conference Papers: ",R.conferencePapers]}),R.researchPaperCategory&&t.jsxs("p",{children:["Research Category/IF: ",R.researchPaperCategory]}),R.presentStatus&&t.jsxs("p",{children:["Present Status: ",R.presentStatus]})]},F))]})]})]}),t.jsxs(H,{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Performance Assessment"}),t.jsx("div",{className:"space-y-6",children:Uie.map(R=>t.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-3",children:R.label}),t.jsx("div",{className:"space-y-2",children:Object.values(Hie).map(F=>t.jsxs("label",{className:"flex items-center gap-3 p-3 rounded border bg-white hover:bg-gray-50 cursor-pointer transition",children:[t.jsx("input",{type:"checkbox",checked:P[R.key]===F.value,onChange:()=>T({...P,[R.key]:F.value}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),t.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:F.label}),t.jsxs("span",{className:"text-sm font-semibold text-indigo-600",children:[F.marks," marks"]})]})]},F.value))})]},R.key))})]}),t.jsxs(H,{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Appraisal Meeting"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:["Meeting Date *",t.jsx("input",{type:"date",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",value:O,onChange:R=>k(R.target.value),required:!0})]}),t.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:["Dean's Feedback",t.jsx("textarea",{rows:4,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",value:B,onChange:R=>I(R.target.value),placeholder:"Provide strategic feedback on department's performance and leadership..."})]})]})]}),t.jsxs("div",{className:"flex gap-2 border-t pt-4 mt-4",children:[t.jsxs(Z,{onClick:W,disabled:z||!O,className:"flex items-center gap-2 flex-1",children:[z?t.jsx(Op,{className:"w-4 h-4 animate-spin"}):t.jsx(Be,{className:"w-4 h-4"}),"Submit Assessment"]}),t.jsx(Z,{variant:"outline",className:"flex-1",children:"Close"})]})]})]})}const g4={"dean-review":"info",returned:"warning","dean-confirmed":"success"},Kie={fully:{label:"Fully Achieved",marks:100},largely:{label:"Largely Achieved",marks:85},partially:{label:"Partially Achieved",marks:70},not:{label:"Not Achieved",marks:0}};function Wie(){const{user:e}=at(),n=ve(T=>T.getPamsForDean),a=ve(T=>T.getEmployeesByFaculty);ve(T=>T.deanReviewPams);const r=ve(T=>T.updatePamsSubmission),s=x.useMemo(()=>e?.faculty?n(e.faculty):[],[n,e]),l=x.useMemo(()=>e?.faculty?a(e.faculty).filter(T=>T.role==="HOD"||T.designation==="HOD"):[],[a,e]),[c,d]=x.useState(null),[m,f]=x.useState(!1),[h,g]=x.useState(""),[y,v]=x.useState(""),[j,b]=x.useState(""),[w,M]=x.useState([]),[S,A]=x.useState(""),E=T=>{d(T),g(""),v(""),b(""),M(T.attachments||[])},D=T=>{const O=l.find(k=>k.id===T);if(O){const k=s.find(B=>B.employeeId===T);d(k||{id:O.id,employeeId:O.id,employeeName:O.name,period:new Date().getFullYear().toString(),workload:{teachingLoad:`${O.name}'s departmental workload`,projectSupervision:"",advisory:"",admin:""},teachingAssessment:{},fypSupervision:void 0,msPhDSupervision:void 0,researchPublications:void 0,researchFunding:void 0,administrativeDuties:void 0,serviceToCommunity:void 0,grievance:"",attachments:[],status:"pending"}),g(""),v(""),b(""),M([])}},P=()=>{c&&r(c.id,{attachments:w.map(T=>({id:T.id,name:T.name,size:T.size,type:T.type}))})};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(As,{className:"w-6 h-6 text-gray-600"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"HOD PAMS Review"}),t.jsx("p",{className:"text-gray-600",children:"Meet with HODs, request corrections, and confirm submissions."})]})]}),t.jsxs(H,{children:[t.jsx("div",{className:"mb-4",children:t.jsxs("label",{className:"text-sm font-medium text-gray-700 block mb-2",children:["Select HOD to Appraise",t.jsxs("select",{value:S,onChange:T=>D(T.target.value),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"-- Select a HOD to appraise --"}),l.map(T=>t.jsxs("option",{value:T.id,children:[T.name," (",T.department,")"]},T.id))]})]})}),t.jsx("div",{className:"flex items-center gap-2 mb-4 pt-3 border-t",children:t.jsx("p",{className:"font-semibold text-gray-900",children:"HOD Submissions Awaiting Review"})}),s.length===0?t.jsx("p",{className:"text-sm text-gray-600",children:"No HOD submissions awaiting review."}):t.jsx("div",{className:"space-y-2",children:s.map(T=>t.jsxs("button",{onClick:()=>E(T),className:`w-full text-left border rounded-lg p-3 hover:border-[hsl(var(--color-primary))] ${c?.id===T.id?"border-[hsl(var(--color-primary))] shadow-sm":""}`,children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:T.employeeName||T.employeeId}),t.jsx("p",{className:"text-xs text-gray-500",children:T.period})]}),t.jsx(le,{variant:g4[T.status]||"secondary",children:T.status})]}),t.jsx("p",{className:"text-sm text-gray-700 mt-1 line-clamp-2",children:T.workload?.admin})]},T.id))})]}),c&&t.jsxs(H,{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:c.employeeName||c.employeeId}),t.jsxs("p",{className:"text-xs text-gray-500",children:["HOD Performance  ",c.period]})]}),t.jsx(le,{variant:g4[c.status]||"secondary",children:c.status})]}),t.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto mb-4",children:[t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Leadership"}),t.jsx(uu,{label:"Leadership",value:c.leadership})]}),t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Curriculum & Instruction"}),t.jsx(uu,{label:"Curriculum Instruction",value:c.curriculumInstruction})]}),t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Management"}),t.jsx(uu,{label:"Management & Admin",value:c.managementAdministration})]}),t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Personnel"}),t.jsx(uu,{label:"Personnel",value:c.personnel})]}),t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Promotion & Tenure"}),t.jsx(uu,{label:"Promotion & Tenure",value:c.promotionTenure})]}),c.grievance&&t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Grievance/Comments"}),t.jsx("p",{className:"text-sm text-gray-700",children:c.grievance})]}),c.attachments&&c.attachments.length>0&&t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Attachments"}),t.jsx("div",{className:"space-y-1",children:c.attachments.map(T=>t.jsxs("p",{className:"text-xs text-gray-600",children:[" ",T.name," (",T.size&&`${Math.round(T.size/1024)}KB`,")"]},T.id))})]})]}),t.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[t.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Meeting date",t.jsx("input",{type:"date",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm",value:y,onChange:T=>v(T.target.value)})]}),t.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Follow-up meeting",t.jsx("input",{type:"date",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm",value:j,onChange:T=>b(T.target.value),placeholder:"Optional"})]}),t.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Comments / corrections",t.jsx("textarea",{rows:2,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:h,onChange:T=>g(T.target.value),placeholder:"Meeting notes or required changes"})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx(ro,{label:"Attachments",value:w,onChange:M,helper:"Upload corrected forms or evidence after dean meeting.",maxFiles:10,maxSizeMB:15}),t.jsx("div",{className:"flex justify-end mt-2",children:t.jsx(Z,{variant:"secondary",onClick:P,disabled:!c,children:"Save attachments"})})]}),t.jsxs("div",{className:"flex flex-wrap justify-end gap-2 mt-4 border-t pt-4",children:[t.jsx(Z,{variant:"secondary",onClick:()=>d(null),children:"Cancel"}),t.jsxs(Z,{onClick:()=>f(!m),className:"flex items-center gap-2",children:[t.jsx(Be,{className:"w-4 h-4"}),m?"Hide":"Show"," Appraisal Form"]})]}),m&&t.jsx("div",{className:"mt-6 pt-6 border-t",children:t.jsx(Vie,{pamsId:c.id,employeeId:c.employeeId,pamsData:c,onClose:()=>f(!1)})})]})]})}function uu({label:e,value:n}){const a=n?Kie[n]:null;return t.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm py-1",children:[t.jsx("span",{className:"text-gray-700",children:e}),a?t.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:a.label}):t.jsx("span",{className:"text-xs text-gray-500",children:""})]})}function Yie(){return t.jsx(Mi,{children:t.jsxs(Ce,{element:t.jsx(Oie,{}),children:[t.jsx(Ce,{index:!0,element:t.jsx(Pie,{})}),t.jsx(Ce,{path:"employees",element:t.jsx(kie,{})}),t.jsx(Ce,{path:"attendance",element:t.jsx(Rie,{})}),t.jsx(Ce,{path:"leaves",element:t.jsx(Tie,{})}),t.jsx(Ce,{path:"promotions",element:t.jsx(Lie,{})}),t.jsx(Ce,{path:"meetings",element:t.jsx(Iie,{})}),t.jsx(Ce,{path:"pams",element:t.jsx(Wie,{})}),t.jsx(Ce,{path:"self-service",element:t.jsx(qie,{})}),t.jsx(Ce,{path:"reports",element:t.jsx(Bie,{})}),t.jsx(Ce,{path:"settings",element:t.jsx(Fie,{})}),t.jsx(Ce,{path:"*",element:t.jsx(Ns,{to:".",replace:!0})})]})})}const Gie=[{path:"/hod",label:"Dashboard",icon:Va,end:!0},{path:"/hod/employees",label:"Department Staff",icon:rn},{path:"/hod/attendance",label:"Attendance",icon:Ue},{path:"/hod/leaves",label:"Leave Requests",icon:nt},{path:"/hod/self-service",label:"Manager Self-Service",icon:As},{path:"/hod/pams",label:"PAMS",icon:gi},{path:"/hod/reports",label:"Reports",icon:gi},{path:"/hod/settings",label:"Settings",icon:Fr}];function Zie(){return t.jsx(Di,{portalKey:"hod",portalName:"HOD Portal",navItems:Gie})}const ph=["#10b981","#f59e0b","#ef4444","#3b82f6"];function Xie(){const e=ve(S=>S.employees),n=ve(S=>S.attendance),a=ve(S=>S.leaves),r=at(S=>S.user),s=x.useMemo(()=>e.filter(S=>S.department===r.department),[e,r.department]),l=x.useMemo(()=>new Set(s.map(S=>S.id)),[s]),c=x.useMemo(()=>a.filter(S=>l.has(S.employeeId)),[a,l]),d=s.length,m=s.filter(S=>S.status==="Active").length,f=c.filter(S=>S.status==="Pending").length,h=U(new Date,"yyyy-MM-dd"),g=x.useMemo(()=>{const S=n.filter(A=>A.date===h&&l.has(A.employeeId));return{present:S.filter(A=>A.status==="Present").length,absent:S.filter(A=>A.status==="Absent").length,late:S.filter(A=>A.status==="Late").length,leave:S.filter(A=>A.status==="Leave").length}},[n,h,l]),y=x.useMemo(()=>Array.from({length:7},(A,E)=>{const D=Ke(new Date,6-E),P=U(D,"yyyy-MM-dd"),T=n.filter(O=>O.date===P&&l.has(O.employeeId));return{day:U(D,"EEE"),present:T.filter(O=>O.status==="Present").length,absent:T.filter(O=>O.status==="Absent").length}}),[n,l]),v=[{name:"Present",value:g.present},{name:"Late",value:g.late},{name:"Absent",value:g.absent},{name:"Leave",value:g.leave}].filter(S=>S.value>0),j=x.useMemo(()=>c.sort((S,A)=>new Date(A.appliedOn)-new Date(S.appliedOn)).slice(0,5).map(S=>({...S,employee:e.find(A=>A.id===S.employeeId)})),[c,e]),b=x.useMemo(()=>{const S={};return s.forEach(A=>{S[A.designation]=(S[A.designation]||0)+1}),Object.entries(S).map(([A,E])=>({name:A,count:E}))},[s]),w=[{label:"Department Staff",value:d,icon:rn,color:"from-emerald-600 to-green-600",change:`${m} active`},{label:"Present Today",value:g.present,icon:Be,color:"from-blue-500 to-indigo-500",change:`${d>0?Math.round(g.present/d*100):0}% attendance`},{label:"Late Today",value:g.late,icon:Ue,color:"from-amber-500 to-orange-500",change:"Requires attention"},{label:"Pending Leaves",value:f,icon:nt,color:"from-purple-500 to-pink-500",change:"Awaiting approval"}],M=[{label:"View Staff",icon:rn,path:"/hod/employees",color:"bg-emerald-500"},{label:"Attendance",icon:Ue,path:"/hod/attendance",color:"bg-blue-500"},{label:"Leaves",icon:nt,path:"/hod/leaves",color:"bg-purple-500"},{label:"Reports",icon:gi,path:"/hod/reports",color:"bg-amber-500"}];return t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Department Overview"}),t.jsxs("p",{className:"text-gray-500 mt-1",children:["Department of ",r.department||"Computer Science"]})]}),t.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:t.jsx("span",{className:"px-3 py-1 rounded-full bg-emerald-100 text-emerald-700 font-medium",children:U(new Date,"EEEE, MMMM d, yyyy")})})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:w.map(S=>t.jsxs("div",{className:"glass p-6 rounded-2xl card-hover relative overflow-hidden group",children:[t.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 bg-linear-to-br ${S.color} opacity-10 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110`}),t.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:S.label}),t.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:S.value}),t.jsxs("p",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[t.jsx(Ss,{className:"w-3 h-3"}),S.change]})]}),t.jsx("div",{className:`p-3 rounded-xl bg-linear-to-br ${S.color} text-white shadow-lg`,children:t.jsx(S.icon,{className:"w-6 h-6"})})]})]},S.label))}),t.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:M.map(S=>t.jsxs(jn,{to:S.path,className:"glass p-4 rounded-xl card-hover flex items-center gap-3 group",children:[t.jsx("div",{className:`p-2 rounded-lg ${S.color} text-white group-hover:scale-110 transition-transform`,children:t.jsx(S.icon,{className:"w-5 h-5"})}),t.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:S.label})]},S.label))}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(H,{title:"Weekly Attendance",subtitle:"Last 7 days trend",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(Mo,{data:y,children:[t.jsx(tn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(nn,{dataKey:"day",tick:{fontSize:12}}),t.jsx(an,{tick:{fontSize:12}}),t.jsx(pt,{}),t.jsx(Ua,{type:"monotone",dataKey:"present",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Present"}),t.jsx(Ua,{type:"monotone",dataKey:"absent",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Absent"})]})})})}),t.jsx(H,{title:"Today's Attendance",subtitle:"Current attendance status",children:t.jsx("div",{className:"h-64",children:v.length>0?t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(fr,{children:[t.jsx(Wa,{data:v,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:3,dataKey:"value",label:({name:S,value:A})=>`${S}: ${A}`,children:v.map((S,A)=>t.jsx(kn,{fill:ph[A%ph.length]},S.name))}),t.jsx(pt,{})]})}):t.jsx("div",{className:"h-full flex items-center justify-center",children:t.jsx("p",{className:"text-gray-400",children:"No attendance data for today"})})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(H,{title:"Staff by Designation",subtitle:"Team composition",children:t.jsxs("div",{className:"space-y-3",children:[b.map((S,A)=>t.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ph[A%ph.length]}}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:S.name})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-bold text-gray-900",children:S.count}),t.jsx(gl,{className:"w-4 h-4 text-gray-400"})]})]},S.name)),b.length===0&&t.jsx("p",{className:"text-center text-gray-400 py-8",children:"No staff data available"})]})}),t.jsx(H,{title:"Recent Leave Requests",subtitle:"Latest requests from your team",actions:t.jsx(jn,{to:"/hod/leaves",children:t.jsx(Z,{variant:"ghost",size:"sm",children:"View All"})}),children:t.jsx("div",{className:"space-y-3",children:j.length===0?t.jsxs("div",{className:"text-center py-8 text-gray-400",children:[t.jsx(nt,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No leave requests"})]}):j.map(S=>t.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-linear-to-br from-emerald-500 to-green-500 flex items-center justify-center text-white font-bold text-sm",children:S.employee?.name?.charAt(0)||"?"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.employee?.name||"Unknown"}),t.jsxs("p",{className:"text-xs text-gray-500",children:[S.type," "," ",S.startDate?U(me(S.startDate),"MMM d"):"N/A"," -"," ",S.endDate?U(me(S.endDate),"MMM d"):"N/A"]})]})]}),t.jsx(le,{variant:S.status==="Approved"?"success":S.status==="Rejected"?"danger":"warning",children:S.status})]},S.id))})})]})]})}function Qie(){const e=ve(m=>m.employees),n=at(m=>m.user),[a,r]=x.useState(null),s=e.filter(m=>m.department===n.department),l=()=>{const m=Ps.unparse(s),f=new Blob([m],{type:"text/csv"}),h=URL.createObjectURL(f),g=document.createElement("a");g.href=h,g.download=`dept_${n.department}_employees.csv`,g.click()},c=m=>{r({...m})},d=()=>{console.log("Saving employee:",a),r(null)};return t.jsxs(t.Fragment,{children:[t.jsx(H,{title:`Department Staff: ${n.department}`,subtitle:"Manage your department's teachers and staff",actions:t.jsxs(Z,{variant:"outline",onClick:l,children:[t.jsx(Gt,{className:"w-4 h-4"})," Export CSV"]}),children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Code"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Designation"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:s.map(m=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:m.code}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:m.name}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:m.designation}),t.jsx("td",{className:"px-4 py-3 text-sm",children:t.jsx(le,{variant:m.status==="Active"?"success":"default",children:m.status})}),t.jsx("td",{className:"px-4 py-3 text-sm text-right",children:t.jsx("button",{onClick:()=>c(m),className:"text-blue-600 hover:text-blue-900",children:t.jsx(I4,{className:"w-4 h-4"})})})]},m.id))})]})})}),t.jsx(ft,{open:!!a,onClose:()=>r(null),title:"Edit Employee",actions:t.jsxs(t.Fragment,{children:[t.jsx(Z,{variant:"outline",onClick:()=>r(null),children:"Cancel"}),t.jsx(Z,{onClick:d,children:"Save Changes"})]}),children:a&&t.jsxs("div",{className:"space-y-4",children:[t.jsx(st,{label:"Full Name",id:"edit-name",children:t.jsx("input",{id:"edit-name",type:"text",className:"w-full border-gray-300 rounded-md shadow-xs focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm p-2 border",value:a.name,onChange:m=>r({...a,name:m.target.value})})}),t.jsx(st,{label:"Designation",id:"edit-designation",children:t.jsx("input",{id:"edit-designation",type:"text",className:"w-full border-gray-300 rounded-md shadow-xs focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm p-2 border",value:a.designation,onChange:m=>r({...a,designation:m.target.value})})}),t.jsx(st,{label:"Status",id:"edit-status",children:t.jsxs("select",{id:"edit-status",className:"w-full border-gray-300 rounded-md shadow-xs focus:border-emerald-500 focus:ring-emerald-500 sm:text-sm p-2 border",value:a.status,onChange:m=>r({...a,status:m.target.value}),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"On Leave",children:"On Leave"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})})]})})]})}function Jie(){const e=ve(j=>j.employees),n=ve(j=>j.attendance),a=at(j=>j.user),[r,s]=x.useState(U(new Date,"yyyy-MM-dd")),[l,c]=x.useState(""),d=x.useMemo(()=>e.filter(j=>j.department===a.department),[e,a.department]),m=x.useMemo(()=>new Set(d.map(j=>j.id)),[d]),f=x.useMemo(()=>d.filter(j=>j.name.toLowerCase().includes(l.toLowerCase())||j.code.toLowerCase().includes(l.toLowerCase())).map(j=>{const b=n.find(w=>w.employeeId===j.id&&w.date===r);return{...j,attendance:b||null}}),[d,n,r,l]),h=x.useMemo(()=>{const j=n.filter(b=>b.date===r&&m.has(b.employeeId));return{total:d.length,present:j.filter(b=>b.status==="Present").length,absent:j.filter(b=>b.status==="Absent").length,late:j.filter(b=>b.status==="Late").length,leave:j.filter(b=>b.status==="Leave").length}},[n,r,d,m]),g=x.useMemo(()=>Array.from({length:7},(j,b)=>{const w=Ke(new Date,6-b),M=U(w,"yyyy-MM-dd"),S=n.filter(A=>A.date===M&&m.has(A.employeeId));return{date:U(w,"EEE"),present:S.filter(A=>A.status==="Present").length,absent:S.filter(A=>A.status==="Absent").length}}),[n,m]),y=()=>{const j=f.map(A=>({Code:A.code,Name:A.name,Designation:A.designation,Date:r,Status:A.attendance?.status||"No Record",CheckIn:A.attendance?.checkIn||"-",CheckOut:A.attendance?.checkOut||"-"})),b=Ps.unparse(j),w=new Blob([b],{type:"text/csv"}),M=URL.createObjectURL(w),S=document.createElement("a");S.href=M,S.download=`${a.department}_attendance_${r}.csv`,S.click()},v=j=>{switch(j){case"Present":return t.jsx(le,{variant:"success",children:j});case"Absent":return t.jsx(le,{variant:"danger",children:j});case"Late":return t.jsx(le,{variant:"warning",children:j});case"Leave":return t.jsx(le,{variant:"info",children:j});default:return t.jsx(le,{variant:"default",children:"No Record"})}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Department Attendance"}),t.jsxs("p",{className:"text-gray-500 mt-1",children:["Track attendance for ",a.department]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"date",value:r,onChange:j=>s(j.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"}),t.jsxs(Z,{variant:"outline",onClick:y,children:[t.jsx(Gt,{className:"w-4 h-4"}),"Export"]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"glass p-4 rounded-xl text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.total}),t.jsx("p",{className:"text-xs text-gray-500",children:"Total Staff"})]}),t.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-emerald-500",children:[t.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:h.present}),t.jsx("p",{className:"text-xs text-gray-500",children:"Present"})]}),t.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-red-500",children:[t.jsx("p",{className:"text-2xl font-bold text-red-600",children:h.absent}),t.jsx("p",{className:"text-xs text-gray-500",children:"Absent"})]}),t.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-amber-500",children:[t.jsx("p",{className:"text-2xl font-bold text-amber-600",children:h.late}),t.jsx("p",{className:"text-xs text-gray-500",children:"Late"})]}),t.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-blue-500",children:[t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:h.leave}),t.jsx("p",{className:"text-xs text-gray-500",children:"On Leave"})]})]}),t.jsx(H,{title:"Weekly Attendance Trend",subtitle:"Last 7 days overview",children:t.jsx("div",{className:"h-48",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(Mo,{data:g,children:[t.jsx(tn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(nn,{dataKey:"date",tick:{fontSize:12}}),t.jsx(an,{tick:{fontSize:12}}),t.jsx(pt,{}),t.jsx(Ua,{type:"monotone",dataKey:"present",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Present"}),t.jsx(Ua,{type:"monotone",dataKey:"absent",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Absent"})]})})})}),t.jsxs(H,{children:[t.jsx("div",{className:"mb-4",children:t.jsx(Rn,{type:"text",placeholder:"Search by name or code...",value:l,onChange:j=>c(j.target.value),className:"w-full",inputClassName:"pr-4 py-2 text-sm"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50",children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Employee"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Designation"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Check In"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Check Out"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Hours"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:f.map(j=>{const b=j.attendance?.checkIn,w=j.attendance?.checkOut;let M="-";if(b&&w){const[S,A]=b.split(":").map(Number),[E,D]=w.split(":").map(Number),P=E*60+D-(S*60+A),T=Math.floor(P/60),O=P%60;M=`${T}h ${O}m`}return t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-linear-to-br from-emerald-500 to-green-500 flex items-center justify-center text-white font-bold text-xs",children:j.name.charAt(0)}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.name}),t.jsx("p",{className:"text-xs text-gray-500",children:j.code})]})]})}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:j.designation}),t.jsx("td",{className:"px-4 py-3",children:v(j.attendance?.status)}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:b||"-"}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:w||"-"}),t.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:M})]},j.id)})})]})}),f.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Ue,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No attendance records found"})]})]})]})}const ele=[{id:"all",label:"All"},{id:"pending",label:"Pending"},{id:"approved",label:"Approved"},{id:"rejected",label:"Rejected"}];function tle(){const e=ve(O=>O.employees),n=ve(O=>O.leaves),a=ve(O=>O.updateLeaveStatus),r=at(O=>O.user),[s,l]=x.useState("pending"),[c,d]=x.useState(""),[m,f]=x.useState(null),[h,g]=x.useState(!1),[y,v]=x.useState(null),[j,b]=x.useState(""),w=x.useMemo(()=>e.filter(O=>O.department===r.department),[e,r.department]),M=x.useMemo(()=>new Set(w.map(O=>O.id)),[w]),S=x.useMemo(()=>n.filter(O=>M.has(O.employeeId)).map(O=>({...O,employee:e.find(k=>k.id===O.employeeId),days:O.days||(O.startDate&&O.endDate?rs(me(O.endDate),me(O.startDate))+1:0)})).sort((O,k)=>new Date(k.appliedOn)-new Date(O.appliedOn)),[n,e,M]),A=x.useMemo(()=>S.filter(O=>{if(s!=="all"&&O.status.toLowerCase()!==s)return!1;if(c){const k=c.toLowerCase();return O.employee?.name?.toLowerCase().includes(k)||O.employee?.code?.toLowerCase().includes(k)}return!0}),[S,s,c]),E=x.useMemo(()=>({total:S.length,pending:S.filter(O=>O.status==="Pending").length,approved:S.filter(O=>O.status==="Approved").length,rejected:S.filter(O=>O.status==="Rejected").length}),[S]),D=(O,k)=>{f(O),v(k),b(""),g(!0)},P=()=>{!m||!y||(a(m.id,y==="approve"?"Approved":"Rejected","hod",r.name,j||void 0),g(!1),f(null),v(null),b(""))},T=O=>{switch(O){case"Approved":return t.jsx(le,{variant:"success",children:O});case"Rejected":return t.jsx(le,{variant:"danger",children:O});default:return t.jsx(le,{variant:"warning",children:O})}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Department Leave Requests"}),t.jsxs("p",{className:"text-gray-500 mt-1",children:["Manage leave requests for ",r.department]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"glass p-4 rounded-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-gray-100",children:t.jsx(nt,{className:"w-5 h-5 text-gray-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:E.total}),t.jsx("p",{className:"text-xs text-gray-500",children:"Total"})]})]})}),t.jsx("div",{className:"glass p-4 rounded-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-amber-100",children:t.jsx(Ue,{className:"w-5 h-5 text-amber-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-amber-600",children:E.pending}),t.jsx("p",{className:"text-xs text-gray-500",children:"Pending"})]})]})}),t.jsx("div",{className:"glass p-4 rounded-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:t.jsx(Be,{className:"w-5 h-5 text-emerald-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:E.approved}),t.jsx("p",{className:"text-xs text-gray-500",children:"Approved"})]})]})}),t.jsx("div",{className:"glass p-4 rounded-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:t.jsx(zt,{className:"w-5 h-5 text-red-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-red-600",children:E.rejected}),t.jsx("p",{className:"text-xs text-gray-500",children:"Rejected"})]})]})})]}),t.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:ele.map(O=>t.jsxs("button",{onClick:()=>l(O.id),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${s===O.id?"bg-emerald-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[O.label,O.id==="pending"&&E.pending>0&&t.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-white/20 rounded text-xs",children:E.pending})]},O.id))}),t.jsxs(H,{children:[t.jsx("div",{className:"mb-4",children:t.jsx(Rn,{type:"text",placeholder:"Search by name or code...",value:c,onChange:O=>d(O.target.value),className:"w-full",inputClassName:"pr-4 py-2 text-sm"})}),t.jsx("div",{className:"space-y-4",children:A.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(nt,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No leave requests found"})]}):A.map(O=>t.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl hover:border-gray-200 transition-all",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-emerald-500 to-green-500 flex items-center justify-center text-white font-bold",children:O.employee?.name?.charAt(0)||"?"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:O.employee?.name}),t.jsxs("p",{className:"text-sm text-gray-500",children:[O.employee?.code,"  ",O.employee?.designation]})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsx("span",{className:"px-2 py-1 rounded-full bg-blue-100 text-blue-700 text-xs font-medium",children:O.type}),t.jsxs("span",{className:"text-sm text-gray-600",children:[O.startDate?U(me(O.startDate),"MMM d"):"N/A"," "," ",O.endDate?U(me(O.endDate),"MMM d, yyyy"):"N/A",t.jsxs("span",{className:"text-gray-400 ml-2",children:["(",O.days," day",O.days>1?"s":"",")"]})]}),T(O.status)]}),O.status==="Pending"&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>D(O,"approve"),className:"text-emerald-600 border-emerald-200 hover:bg-emerald-50",children:[t.jsx(Be,{className:"w-4 h-4"}),"Approve"]}),t.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>D(O,"reject"),className:"text-red-600 border-red-200 hover:bg-red-50",children:[t.jsx(zt,{className:"w-4 h-4"}),"Reject"]})]})]}),O.reason&&t.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:t.jsxs("p",{className:"text-sm text-gray-600",children:[t.jsx("span",{className:"font-medium",children:"Reason:"})," ",O.reason]})})]},O.id))})]}),t.jsx(ft,{isOpen:h,onClose:()=>g(!1),title:`${y==="approve"?"Approve":"Reject"} Leave Request`,children:m&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"font-medium",children:m.employee?.name}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[m.type,"  ",m.days," day(s)"]}),t.jsxs("p",{className:"text-sm text-gray-500",children:[m.startDate?U(me(m.startDate),"MMM d"):"N/A"," ","-"," ",m.endDate?U(me(m.endDate),"MMM d, yyyy"):"N/A"]})]}),m.type==="Medical"&&y==="approve"&&t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("p",{className:"text-sm text-blue-900 font-medium mb-2",children:" Medical Leave Approval Flow"}),t.jsx("p",{className:"text-sm text-blue-700",children:"After your approval, this request will be forwarded to:"}),t.jsxs("ol",{className:"text-sm text-blue-700 mt-2 ml-4 list-decimal space-y-1",children:[t.jsx("li",{children:"Vice Chancellor for recommendation"}),t.jsx("li",{children:"President for final approval and paid/unpaid classification"})]})]}),m.documents&&m.documents.length>0&&t.jsxs("div",{className:"space-y-3 bg-slate-50 border border-slate-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(kr,{className:"w-5 h-5 text-slate-600"}),t.jsx("p",{className:"font-semibold text-slate-900",children:"Supporting Documents"})]}),t.jsx("div",{className:"space-y-2",children:m.documents.map((O,k)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-slate-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(kr,{className:"w-5 h-5 text-slate-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-900",children:O.name}),t.jsxs("p",{className:"text-xs text-slate-500",children:[(O.size/1024).toFixed(1)," KB  Uploaded"," ",O.uploadedAt?U(me(O.uploadedAt),"MMM d, yyyy"):"N/A"]})]})]}),t.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>{const B=document.createElement("a");B.href=O.file,B.download=O.name,document.body.appendChild(B),B.click(),document.body.removeChild(B)},className:"text-blue-600 hover:text-blue-700",children:[t.jsx(Gt,{className:"w-4 h-4"}),"Download"]})]},O.id||k))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comment (Optional)"}),t.jsx("textarea",{value:j,onChange:O=>b(O.target.value),placeholder:y==="approve"?m.type==="Medical"?"Add recommendation for Vice Chancellor...":"Add any notes...":"Reason for rejection...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 resize-none",rows:3})]}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx(Z,{variant:"ghost",onClick:()=>g(!1),children:"Cancel"}),t.jsx(Z,{variant:y==="approve"?"primary":"danger",onClick:P,children:y==="approve"?"Approve & Forward":"Reject"})]})]})})]})}const xh=["#10b981","#f59e0b","#ef4444","#3b82f6","#8b5cf6"],nle=[{id:"overview",label:"Overview",icon:gi},{id:"attendance",label:"Attendance",icon:Ue},{id:"leaves",label:"Leaves",icon:nt}];function ale(){const e=ve(b=>b.employees),n=ve(b=>b.attendance),a=ve(b=>b.leaves),r=at(b=>b.user),[s,l]=x.useState("overview"),c=x.useMemo(()=>e.filter(b=>b.department===r.department),[e,r.department]),d=x.useMemo(()=>new Set(c.map(b=>b.id)),[c]),m=x.useMemo(()=>n.filter(b=>d.has(b.employeeId)),[n,d]),f=x.useMemo(()=>a.filter(b=>d.has(b.employeeId)),[a,d]),h=x.useMemo(()=>{const b={};return c.forEach(w=>{b[w.designation]=(b[w.designation]||0)+1}),Object.entries(b).map(([w,M])=>({name:w,value:M}))},[c]),g=x.useMemo(()=>{const b=[];for(let w=5;w>=0;w--){const M=po(new Date,w),S=U(M,"MMM yyyy"),A=m.filter(P=>{const T=me(P.date);return U(T,"MMM yyyy")===S}),E=A.filter(P=>P.status==="Present").length,D=A.length;b.push({month:U(M,"MMM"),present:E,absent:A.filter(P=>P.status==="Absent").length,rate:D>0?Math.round(E/D*100):0})}return b},[m]),y=x.useMemo(()=>{const b={};return f.forEach(w=>{b[w.type]=(b[w.type]||0)+1}),Object.entries(b).map(([w,M])=>({name:w,value:M}))},[f]),v=x.useMemo(()=>({pending:f.filter(b=>b.status==="Pending").length,approved:f.filter(b=>b.status==="Approved").length,rejected:f.filter(b=>b.status==="Rejected").length}),[f]),j=b=>{let w=[],M="";switch(b){case"employees":w=c.map(P=>({Code:P.code,Name:P.name,Designation:P.designation,Status:P.status})),M="department_employees";break;case"attendance":w=m.map(P=>({Employee:e.find(T=>T.id===P.employeeId)?.name||"Unknown",Date:P.date,Status:P.status,CheckIn:P.checkIn||"-",CheckOut:P.checkOut||"-"})),M="department_attendance";break;case"leaves":w=f.map(P=>({Employee:e.find(T=>T.id===P.employeeId)?.name||"Unknown",Type:P.type,From:P.from,To:P.to,Status:P.status})),M="department_leaves";break}const S=Ps.unparse(w),A=new Blob([S],{type:"text/csv"}),E=URL.createObjectURL(A),D=document.createElement("a");D.href=E,D.download=`${M}_${U(new Date,"yyyy-MM-dd")}.csv`,D.click()};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Department Reports"}),t.jsxs("p",{className:"text-gray-500 mt-1",children:["Analytics for ",r.department]})]}),t.jsxs(Z,{variant:"outline",onClick:()=>j("employees"),children:[t.jsx(Gt,{className:"w-4 h-4"}),"Export Data"]})]}),t.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:nle.map(b=>t.jsxs("button",{onClick:()=>l(b.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${s===b.id?"bg-emerald-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx(b.icon,{className:"w-4 h-4"}),b.label]},b.id))}),s==="overview"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"glass p-4 rounded-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:t.jsx(rn,{className:"w-5 h-5 text-emerald-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.length}),t.jsx("p",{className:"text-xs text-gray-500",children:"Total Staff"})]})]})}),t.jsx("div",{className:"glass p-4 rounded-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:t.jsx(Ue,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.length>0?`${g[g.length-1].rate}%`:"N/A"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Attendance Rate"})]})]})}),t.jsx("div",{className:"glass p-4 rounded-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-amber-100",children:t.jsx(nt,{className:"w-5 h-5 text-amber-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.pending}),t.jsx("p",{className:"text-xs text-gray-500",children:"Pending Leaves"})]})]})}),t.jsx("div",{className:"glass p-4 rounded-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-purple-100",children:t.jsx(gi,{className:"w-5 h-5 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.length}),t.jsx("p",{className:"text-xs text-gray-500",children:"Designations"})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(H,{title:"Staff by Designation",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(fr,{children:[t.jsx(Wa,{data:h,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:3,dataKey:"value",label:({name:b,percent:w})=>`${b} (${(w*100).toFixed(0)}%)`,children:h.map((b,w)=>t.jsx(kn,{fill:xh[w%xh.length]},b.name))}),t.jsx(pt,{})]})})})}),t.jsx(H,{title:"Attendance Trend",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(Yu,{data:g,children:[t.jsx(tn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(nn,{dataKey:"month",tick:{fontSize:12}}),t.jsx(an,{tick:{fontSize:12},domain:[0,100],unit:"%"}),t.jsx(pt,{formatter:b=>[`${b}%`,"Rate"]}),t.jsx(Fc,{type:"monotone",dataKey:"rate",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981"}})]})})})})]})]}),s==="attendance"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(H,{title:"Monthly Attendance",subtitle:"Last 6 months",children:t.jsx("div",{className:"h-72",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(Rr,{data:g,children:[t.jsx(tn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(nn,{dataKey:"month",tick:{fontSize:12}}),t.jsx(an,{tick:{fontSize:12}}),t.jsx(pt,{}),t.jsx(cr,{}),t.jsx(ra,{dataKey:"present",fill:"#10b981",radius:[4,4,0,0],name:"Present"}),t.jsx(ra,{dataKey:"absent",fill:"#ef4444",radius:[4,4,0,0],name:"Absent"})]})})})}),t.jsx("div",{className:"flex justify-end",children:t.jsxs(Z,{variant:"outline",onClick:()=>j("attendance"),children:[t.jsx(Gt,{className:"w-4 h-4"}),"Export Attendance"]})})]}),s==="leaves"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"glass p-6 rounded-xl text-center border-l-4 border-amber-500",children:[t.jsx("p",{className:"text-3xl font-bold text-amber-600",children:v.pending}),t.jsx("p",{className:"text-sm text-gray-500",children:"Pending"})]}),t.jsxs("div",{className:"glass p-6 rounded-xl text-center border-l-4 border-emerald-500",children:[t.jsx("p",{className:"text-3xl font-bold text-emerald-600",children:v.approved}),t.jsx("p",{className:"text-sm text-gray-500",children:"Approved"})]}),t.jsxs("div",{className:"glass p-6 rounded-xl text-center border-l-4 border-red-500",children:[t.jsx("p",{className:"text-3xl font-bold text-red-600",children:v.rejected}),t.jsx("p",{className:"text-sm text-gray-500",children:"Rejected"})]})]}),t.jsx(H,{title:"Leaves by Type",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(fr,{children:[t.jsx(Wa,{data:y,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:b,value:w})=>`${b}: ${w}`,children:y.map((b,w)=>t.jsx(kn,{fill:xh[w%xh.length]},b.name))}),t.jsx(pt,{}),t.jsx(cr,{})]})})})}),t.jsx("div",{className:"flex justify-end",children:t.jsxs(Z,{variant:"outline",onClick:()=>j("leaves"),children:[t.jsx(Gt,{className:"w-4 h-4"}),"Export Leaves"]})})]})]})}const rle=[{id:"profile",label:"Profile",icon:_r},{id:"notifications",label:"Notifications",icon:ss},{id:"preferences",label:"Preferences",icon:Fr}];function sle(){const e=at(y=>y.user),[n,a]=x.useState("profile"),[r,s]=x.useState(!1),[l,c]=x.useState({name:e?.name||"",email:e?.email||"",phone:"+92-300-1234567",office:"Block B, Room 201"}),[d,m]=x.useState({emailAlerts:!0,leaveRequests:!0,attendanceAlerts:!0,weeklyReports:!1}),[f,h]=x.useState({defaultView:"dashboard",itemsPerPage:"10",dateFormat:"dd/MM/yyyy"}),g=()=>{s(!0),setTimeout(()=>s(!1),2e3)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your portal preferences"})]}),t.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:rle.map(y=>t.jsxs("button",{onClick:()=>a(y.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${n===y.id?"bg-emerald-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx(y.icon,{className:"w-4 h-4"}),y.label]},y.id))}),n==="profile"&&t.jsx(H,{title:"Profile Information",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-20 h-20 rounded-full bg-linear-to-br from-emerald-500 to-green-500 flex items-center justify-center text-white text-2xl font-bold",children:e?.name?.charAt(0)||"H"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?.name}),t.jsxs("p",{className:"text-gray-500",children:["HOD - ",e?.department]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(st,{label:"Full Name",children:t.jsx("input",{type:"text",value:l.name,onChange:y=>c({...l,name:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})}),t.jsx(st,{label:"Email",children:t.jsx("input",{type:"email",value:l.email,onChange:y=>c({...l,email:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})}),t.jsx(st,{label:"Phone",children:t.jsx("input",{type:"text",value:l.phone,onChange:y=>c({...l,phone:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})}),t.jsx(st,{label:"Office",children:t.jsx("input",{type:"text",value:l.office,onChange:y=>c({...l,office:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(Z,{onClick:g,children:r?"Saved!":"Save Changes"})})]})}),n==="notifications"&&t.jsx(H,{title:"Notification Preferences",children:t.jsxs("div",{className:"space-y-4",children:[[{key:"emailAlerts",label:"Email Alerts",desc:"Receive important updates via email"},{key:"leaveRequests",label:"Leave Requests",desc:"Get notified for leave requests"},{key:"attendanceAlerts",label:"Attendance Alerts",desc:"Alerts for attendance issues"},{key:"weeklyReports",label:"Weekly Reports",desc:"Receive weekly summary"}].map(y=>t.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-100",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:y.label}),t.jsx("p",{className:"text-sm text-gray-500",children:y.desc})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:d[y.key],onChange:v=>m({...d,[y.key]:v.target.checked}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:ring-4 peer-focus:ring-emerald-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-600"})]})]},y.key)),t.jsx("div",{className:"flex justify-end pt-4",children:t.jsx(Z,{onClick:g,children:r?"Saved!":"Save Preferences"})})]})}),n==="preferences"&&t.jsx(H,{title:"Portal Preferences",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(st,{label:"Default View",children:t.jsxs("select",{value:f.defaultView,onChange:y=>h({...f,defaultView:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[t.jsx("option",{value:"dashboard",children:"Dashboard"}),t.jsx("option",{value:"employees",children:"Department Staff"}),t.jsx("option",{value:"attendance",children:"Attendance"}),t.jsx("option",{value:"leaves",children:"Leaves"})]})}),t.jsx(st,{label:"Items Per Page",children:t.jsxs("select",{value:f.itemsPerPage,onChange:y=>h({...f,itemsPerPage:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"})]})}),t.jsx(st,{label:"Date Format",children:t.jsxs("select",{value:f.dateFormat,onChange:y=>h({...f,dateFormat:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[t.jsx("option",{value:"dd/MM/yyyy",children:"DD/MM/YYYY"}),t.jsx("option",{value:"MM/dd/yyyy",children:"MM/DD/YYYY"}),t.jsx("option",{value:"yyyy-MM-dd",children:"YYYY-MM-DD"})]})})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(Z,{onClick:g,children:r?"Saved!":"Save Preferences"})})]})})]})}function ile(){const e=at(w=>w.user),{employees:n,leaves:a,attendance:r,updateLeaveStatus:s}=ve(),[l,c]=x.useState(""),d=e?.department,m=x.useMemo(()=>n.filter(w=>!d||w.department===d),[n,d]),f=U(new Date,"yyyy-MM-dd"),h=x.useMemo(()=>r.filter(w=>w.date===f&&m.some(M=>M.id===w.employeeId)),[r,m,f]),y=x.useMemo(()=>a.filter(w=>m.some(M=>M.id===w.employeeId)),[a,m]).filter(w=>w.status==="Pending"||w.status==="Forwarded"),v={staff:m.length,pendingLeaves:y.length,present:h.filter(w=>w.status==="Present").length,late:h.filter(w=>w.status==="Late").length},j=(w,M)=>{s(w,M?"Approved":"Rejected","hod",e?.name||"HOD",l||""),c("")},b=w=>w==="Approved"?"success":w==="Rejected"?"error":w==="Forwarded"||w==="Pending"?"warning":"default";return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Manager Self-Service"}),t.jsx("p",{className:"text-gray-600",children:"Department view, approvals, and attendance snapshot"})]}),t.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[{label:"Dept Staff",value:v.staff,icon:rn,color:"indigo"},{label:"Pending Leaves",value:v.pendingLeaves,icon:nt,color:"amber"},{label:"Present Today",value:v.present,icon:Be,color:"green"},{label:"Late Today",value:v.late,icon:Ue,color:"rose"}].map(w=>t.jsx(H,{className:`border-${w.color}-100 bg-${w.color}-50`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:`text-sm text-${w.color}-600`,children:w.label}),t.jsx("p",{className:`text-2xl font-bold text-${w.color}-800`,children:w.value})]}),t.jsx(w.icon,{className:`w-8 h-8 text-${w.color}-500`})]})},w.label))}),t.jsxs(H,{children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Va,{className:"w-5 h-5 text-gray-500"}),t.jsx("p",{className:"font-semibold text-gray-900",children:"Pending Leave Approvals"})]})}),y.length===0?t.jsx("p",{className:"text-sm text-gray-500",children:"No pending leaves for your department."}):t.jsx("div",{className:"space-y-2 text-sm text-gray-800",children:y.map(w=>t.jsxs("div",{className:"border rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium capitalize",children:w.employeeName}),t.jsxs("p",{className:"text-xs text-gray-500",children:[w.type,"  ",w.startDate,"  ",w.endDate," (",w.days,"d)"]})]}),t.jsx(le,{variant:b(w.status),children:w.status})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[t.jsx(Z,{size:"sm",variant:"outline",onClick:()=>j(w.id,!0),children:"Approve"}),t.jsx(Z,{size:"sm",variant:"outline",onClick:()=>j(w.id,!1),className:"text-red-600 border-red-200",children:"Reject"}),t.jsx("input",{className:"flex-1 min-w-[180px] rounded border px-3 py-1 text-xs",placeholder:"Notes (optional)",value:l,onChange:M=>c(M.target.value)})]})]},w.id))})]})]})}const lle={fully:{label:"Fully Achieved",value:"fully",marks:100},largely:{label:"Largely Achieved",value:"largely",marks:85},partially:{label:"Partially Achieved",value:"partially",marks:70},not:{label:"Not Achieved",value:"not",marks:0}},ole=[{key:"teaching",label:"Teaching"},{key:"research",label:"Research"},{key:"fypSupervision",label:"FYP Supervision"},{key:"service",label:"Service"}];function cle({pamsId:e,employeeId:n,pamsData:a,onClose:r}){const s=ve(R=>R.getPamsForEmployee),l=ve(R=>R.getEmployee),c=ve(R=>R.getEmployeePublications),d=ve(R=>R.getEmployeeFYPSupervisions),m=ve(R=>R.getEmployeeThesisSupervisions),f=ve(R=>R.getEmployeeResearchGrants),h=ve(R=>R.getEmployeeAttendanceSummary),g=ve(R=>R.getEmployeeAdminDuties),y=ve(R=>R.updatePamsSubmission),v=x.useMemo(()=>a||s(n)?.find(R=>R.id===e),[a,e,n,s]),j=x.useMemo(()=>l(n),[n,l]),b=new Date().getFullYear(),w=x.useMemo(()=>c(n).filter(R=>R.year===b),[n,c,b]),M=x.useMemo(()=>d(n).filter(R=>R.period===`Fall ${b}`),[n,d,b]),S=x.useMemo(()=>m(n).filter(R=>R.period===`Fall ${b}`),[n,m,b]),A=x.useMemo(()=>f(n).filter(R=>R.period===`Fall ${b}`),[n,f,b]),E=x.useMemo(()=>g(n),[n,g]),D=x.useMemo(()=>h(n),[n,h]),[P,T]=x.useState({teaching:"largely",research:"largely",fypSupervision:"largely",service:"largely"}),[O,k]=x.useState(""),[B,I]=x.useState(""),[z,J]=x.useState(!1),[L,G]=x.useState(!1),W=()=>{if(!O||!v){alert("Please fill in all required fields");return}try{const R=new Date;R.setHours(0,0,0,0);const F=new Date(O);F.setHours(0,0,0,0);const q=new Date;if(q.setFullYear(q.getFullYear()+1),q.setHours(0,0,0,0),isNaN(F.getTime())){alert("Invalid meeting date.");return}if(F<R){alert("Meeting date cannot be in the past.");return}if(F>q){alert("Meeting date is too far in the future.");return}}catch{alert("Invalid meeting date.");return}J(!0),y(e,{hodReview:{status:"hod-confirmed",meetingDate:O,comment:B,decidedAt:new Date().toISOString().split("T")[0],assessment:P},status:"hod-confirmed"}),J(!1),G(!0),setTimeout(()=>{r?.()},2e3)};return!v||!j?t.jsx(H,{className:"w-full",children:t.jsx("p",{className:"text-gray-600",children:"Loading appraisal form..."})}):L?t.jsxs(H,{className:"w-full text-center p-6",children:[t.jsx(Be,{className:"w-12 h-12 text-green-600 mx-auto mb-3"}),t.jsx("p",{className:"font-semibold text-green-700",children:"Appraisal Submitted Successfully"}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Redirecting..."})]}):t.jsxs(H,{className:"w-full",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Faculty Appraisal Meeting Form"})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs(H,{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Employee Information"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Name"}),t.jsx("p",{className:"font-semibold text-gray-900",children:j.name})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"ID"}),t.jsx("p",{className:"font-semibold text-gray-900",children:j.id})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Department"}),t.jsx("p",{className:"font-semibold text-gray-900",children:j.department})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Designation"}),t.jsx("p",{className:"font-semibold text-gray-900",children:j.designation})]})]})]}),t.jsxs(H,{children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-3",children:["Submitted PAMS Data (Period: ",v.period,")"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Workload Description"}),t.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded border text-sm text-gray-700 space-y-2",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Teaching:"})," ",v.workload?.teachingLoad]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Project Supervision:"})," ",v.workload?.projectSupervision]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Advisory:"})," ",v.workload?.advisory]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Admin:"})," ",v.workload?.admin]})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Performance Rubric"}),t.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded border text-sm text-gray-700 space-y-2",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Teaching:"})," ",v.rubric?.teaching]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Research:"})," ",v.rubric?.research]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Service:"})," ",v.rubric?.service]})]})]})]})]}),(M?.length>0||S?.length>0||A?.length>0)&&t.jsxs(H,{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Research Activities (from Profile)"}),t.jsxs(le,{variant:"info",className:"text-xs",children:["Fall ",b," data from employee profile"]})]}),t.jsxs("div",{className:"space-y-3",children:[M?.length>0&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["FYP Supervised (",M.length,")"]}),M.map((R,F)=>t.jsxs("div",{className:"text-xs text-gray-600 p-2 bg-blue-50 rounded mb-1",children:[t.jsx(le,{className:"mb-1",children:R.period}),t.jsx("p",{className:"font-semibold",children:R.projectTitle}),t.jsxs("p",{children:["Students: ",R.studentNames]}),R.numberOfStudents&&t.jsxs("p",{children:["Number of Students: ",R.numberOfStudents]}),R.awards&&t.jsxs("p",{className:"mt-1",children:["Awards: ",R.awards]}),R.technicalPapers&&t.jsxs("p",{children:["Technical Papers: ",R.technicalPapers]}),R.productsDevloped&&t.jsxs("p",{children:["Products: ",R.productsDevloped]}),R.prototypeCompleted&&t.jsxs("p",{children:["Prototype/Feasibility: ",R.prototypeCompleted]}),R.otherInfo&&t.jsxs("p",{children:["Other Info: ",R.otherInfo]}),t.jsxs("p",{children:["Status: ",R.status]})]},F))]}),S?.length>0&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Thesis Supervised (",S.length,")"]}),S.map((R,F)=>t.jsxs("div",{className:"text-xs text-gray-600 p-2 bg-green-50 rounded mb-1",children:[t.jsxs("div",{className:"flex gap-2 mb-1",children:[t.jsx(le,{children:R.period}),t.jsx(le,{variant:R.level==="PhD"?"primary":"secondary",children:R.level})]}),t.jsx("p",{className:"font-semibold",children:R.thesisTitle}),t.jsxs("p",{children:["Student: ",R.studentName,"  Status: ",R.status]}),R.conferencePapers&&t.jsxs("p",{className:"mt-1",children:["Conference Papers: ",R.conferencePapers]}),R.researchPaperCategory&&t.jsxs("p",{children:["Research Category/IF: ",R.researchPaperCategory]}),R.presentStatus&&t.jsxs("p",{children:["Present Status: ",R.presentStatus]})]},F))]}),A?.length>0&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Research Grants (",A.length,")"]}),A.map((R,F)=>t.jsxs("div",{className:"text-xs text-gray-600 p-2 bg-orange-50 rounded mb-1",children:[t.jsx(le,{className:"mb-1",children:R.period}),t.jsx("p",{className:"font-semibold",children:R.grantName}),t.jsxs("p",{children:["Agency: ",R.fundingAgency,"  Amount: PKR"," ",Number(R.amount).toLocaleString()]}),R.amountObtained&&t.jsxs("p",{children:["Amount Obtained: PKR ",Number(R.amountObtained).toLocaleString()]}),R.approvedDate&&t.jsxs("p",{children:["Approved: ",R.approvedDate]}),t.jsxs("p",{children:["Status: ",R.status,R.outcome&&t.jsxs("span",{className:"ml-2",children:["Outcome: ",R.outcome]})]}),R.notes&&t.jsxs("p",{className:"mt-1",children:["Notes: ",R.notes]})]},F))]})]})]}),E?.length>0&&t.jsxs(H,{children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-3",children:["Administrative Duties (",E.length,")"]}),t.jsx("div",{className:"space-y-3",children:E.map(R=>t.jsxs("div",{className:"text-sm text-gray-600 p-3 bg-purple-50 rounded",children:[t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx(le,{className:"bg-purple-200 text-purple-900",children:R.dutyLevel}),t.jsx(le,{className:"bg-purple-200 text-purple-900",children:R.dutyType})]}),t.jsxs("p",{className:"font-semibold text-gray-900",children:["Assigned by: ",R.assignedBy]}),t.jsx("p",{className:"mt-1",children:R.roleDescription}),t.jsxs("div",{className:"flex gap-3 mt-2 text-xs",children:[R.creditHourExemption&&t.jsx(le,{className:"bg-green-100 text-green-800",children:"Credit Hour Exemption"}),R.extraAllowance&&t.jsx(le,{className:"bg-blue-100 text-blue-800",children:"Extra Allowance"})]})]},R.id))})]}),t.jsxs(H,{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Attendance Summary (Past Month)"}),t.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[t.jsxs("div",{className:"text-center p-3 bg-green-50 rounded",children:[t.jsx("p",{className:"text-2xl font-bold text-green-700",children:D.present}),t.jsx("p",{className:"text-xs text-gray-600",children:"Present"})]}),t.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded",children:[t.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:D.late}),t.jsx("p",{className:"text-xs text-gray-600",children:"Late"})]}),t.jsxs("div",{className:"text-center p-3 bg-red-50 rounded",children:[t.jsx("p",{className:"text-2xl font-bold text-red-700",children:D.absent}),t.jsx("p",{className:"text-xs text-gray-600",children:"Absent"})]}),t.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded",children:[t.jsx("p",{className:"text-2xl font-bold text-blue-700",children:D.total}),t.jsx("p",{className:"text-xs text-gray-600",children:"Total Days"})]})]})]}),w.length>0&&t.jsxs(H,{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h3",{className:"font-semibold text-gray-900",children:["Publications (",w.length,")"]}),t.jsxs(le,{variant:"info",className:"text-xs",children:["Fall ",b," data from employee profile"]})]}),t.jsx("div",{className:"space-y-2",children:w.map((R,F)=>t.jsxs("div",{className:"p-3 border border-gray-200 rounded text-sm",children:[t.jsx("p",{className:"font-semibold text-gray-900",children:R.title}),t.jsx("p",{className:"text-xs text-gray-600",children:R.authors}),t.jsxs("p",{className:"text-xs text-gray-600",children:[R.journalName," (",R.year,")"]}),R.hecCategory&&t.jsx(le,{className:"mt-1",children:R.hecCategory})]},F))})]}),t.jsxs(H,{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Achievement Assessment"}),t.jsx("div",{className:"space-y-6",children:ole.map(R=>t.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-3",children:R.label}),t.jsx("div",{className:"space-y-2",children:Object.values(lle).map(F=>t.jsxs("label",{className:"flex items-center gap-3 p-3 rounded border bg-white hover:bg-gray-50 cursor-pointer transition",children:[t.jsx("input",{type:"checkbox",checked:P[R.key]===F.value,onChange:()=>T({...P,[R.key]:F.value}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),t.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:F.label}),t.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[F.marks," marks"]})]})]},F.value))})]},R.key))})]}),t.jsxs(H,{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Appraisal Meeting"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:["Meeting Date *",t.jsx("input",{type:"date",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:O,onChange:R=>k(R.target.value),required:!0})]}),t.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:["Comments & Feedback",t.jsx("textarea",{rows:4,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:B,onChange:R=>I(R.target.value),placeholder:"Provide constructive feedback on the employee's performance..."})]})]})]}),t.jsxs("div",{className:"flex gap-2 border-t pt-4 mt-4",children:[t.jsxs(Z,{onClick:W,disabled:z||!O,className:"flex items-center gap-2 flex-1",children:[z?t.jsx(Op,{className:"w-4 h-4 animate-spin"}):t.jsx(Be,{className:"w-4 h-4"}),"Submit Appraisal"]}),t.jsx(Z,{variant:"outline",className:"flex-1",children:"Close"})]})]})]})}const dle={submitted:"info",returned:"warning","hod-confirmed":"primary","vc-approved":"success"},ule={fully:{label:"Fully Achieved",marks:100},largely:{label:"Largely Achieved",marks:85},partially:{label:"Partially Achieved",marks:70},not:{label:"Not Achieved",marks:0}};function mle(){const{user:e}=at(),n=ve(k=>k.getPamsForHod);ve(k=>k.hodReviewPams);const a=ve(k=>k.updatePamsSubmission),r=ve(k=>k.getEmployeesByDepartment),[s,l]=x.useState(null),[c,d]=x.useState(!1),[m,f]=x.useState(""),[h,g]=x.useState(""),[y,v]=x.useState(""),[j,b]=x.useState(""),[w,M]=x.useState(!1),[S,A]=x.useState({teachingLoad:"",admin:""}),[E,D]=x.useState({teaching:"",research:"",service:""});React.useEffect(()=>{s?(A({teachingLoad:s.workload?.teachingLoad||"",admin:s.workload?.admin||""}),D({teaching:s.rubric?.teaching||"",research:s.rubric?.research||"",service:s.rubric?.service||""})):(M(!1),A({teachingLoad:"",admin:""}),D({teaching:"",research:"",service:""}))},[s]);const P=x.useMemo(()=>e?.department?n(e.department):[],[n,e]),T=x.useMemo(()=>e?.department?r(e.department):[],[r,e]),O=k=>{const B=T.find(I=>I.id===k);if(B){const I=P.find(z=>z.employeeId===k);l(I||{id:B.id,employeeId:B.id,employeeName:B.name,period:new Date().getFullYear().toString(),workload:{teachingLoad:`${B.name}'s teaching workload`,projectSupervision:"",advisory:"",admin:""},teachingAssessment:{},fypSupervision:void 0,msPhDSupervision:void 0,researchPublications:void 0,researchFunding:void 0,administrativeDuties:void 0,serviceToCommunity:void 0,grievance:"",attachments:[],status:"pending"})}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xi,{className:"w-6 h-6 text-gray-600"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"PAMS Reviews"}),t.jsx("p",{className:"text-gray-600",children:"Confirm after meeting. If errors, use Edit to correct with employee."})]})]}),t.jsxs(H,{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(ts,{className:"w-5 h-5 text-gray-500"}),t.jsx("p",{className:"font-semibold text-gray-900",children:"Select Employee to Appraise"})]}),t.jsx("div",{className:"mb-4",children:t.jsxs("label",{className:"text-sm font-medium text-gray-700 block mb-2",children:["Department Employees",t.jsxs("select",{value:j,onChange:k=>O(k.target.value),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"-- Select an employee to appraise --"}),T.map(k=>t.jsxs("option",{value:k.id,children:[k.name," (",k.id,")"]},k.id))]})]})}),t.jsxs("div",{className:"flex items-center gap-2 mb-4 pt-3 border-t",children:[t.jsx(ts,{className:"w-5 h-5 text-gray-500"}),t.jsx("p",{className:"font-semibold text-gray-900",children:"Pending Submissions"})]}),P.length===0?t.jsx("p",{className:"text-sm text-gray-600",children:"No submitted forms for your department."}):t.jsx("div",{className:"space-y-3",children:P.map(k=>t.jsxs("button",{onClick:()=>l(k),className:`w-full text-left border rounded-lg p-3 hover:border-[hsl(var(--color-primary))] ${s?.id===k.id?"border-[hsl(var(--color-primary))] shadow-sm":""}`,children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:k.employeeName||k.employeeId}),t.jsx("p",{className:"text-xs text-gray-500",children:k.period}),k.followUpMeeting?.scheduledAt&&t.jsxs("p",{className:"text-[11px] text-gray-500",children:["Follow-up: ",k.followUpMeeting.scheduledAt," (",k.followUpMeeting.status||"pending",")"]})]}),t.jsx(le,{variant:dle[k.status]||"secondary",children:k.status})]}),t.jsx("p",{className:"text-sm text-gray-700 mt-1 line-clamp-2",children:k.workload?.teachingLoad})]},k.id))})]}),s&&t.jsxs(H,{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(yj,{className:"w-5 h-5 text-gray-500"}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold text-gray-900",children:["Reviewing: ",s.employeeName||s.employeeId]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Period ",s.period]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(Vv,{children:"Teaching Assessment"}),t.jsx(ni,{label:"Student Evaluation (SETE)",value:s.teachingAssessment?.studentEvaluation}),t.jsx(ni,{label:"Teaching Workload",value:s.teachingAssessment?.teachingWorkload}),t.jsx(ni,{label:"Course Completion",value:s.teachingAssessment?.courseCompletion}),t.jsx(Vv,{children:"Research & Supervision"}),t.jsx(ni,{label:"FYP Supervision / Academic",value:s.fypSupervision}),t.jsx(ni,{label:"MS/PhD Thesis Supervision",value:s.msPhDSupervision}),t.jsx(ni,{label:"Research Publications",value:s.researchPublications}),t.jsx(ni,{label:"Research Funding",value:s.researchFunding}),t.jsx(Vv,{children:"Service & Administration"}),t.jsx(ni,{label:"Administrative Duties",value:s.administrativeDuties}),t.jsx(ni,{label:"Service to Community",value:s.serviceToCommunity}),s.grievance&&t.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Grievance / Suggestion"}),t.jsx("p",{className:"text-sm text-gray-700 mt-1 whitespace-pre-line",children:s.grievance})]}),s.attachments?.length?t.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-800 mb-1",children:"Attachments"}),t.jsx("ul",{className:"text-sm text-gray-700 space-y-2",children:s.attachments.map(k=>t.jsxs("li",{className:"flex items-center justify-between gap-3",children:[t.jsx("span",{className:"font-medium text-gray-900",children:k.name||k.id}),t.jsxs("span",{className:"text-xs text-gray-500",children:[(k.size?Math.round(k.size/1024):0)||0," KB",k.type?`  ${k.type}`:""]})]},k.id))}),t.jsx("p",{className:"text-[11px] text-gray-500 mt-1",children:"Files are stored in submission; download/view is not available in this mock UI."})]}):null,w?t.jsxs("div",{className:"mt-4 border rounded-lg p-3 bg-gray-50 space-y-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Edit Submission"}),t.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:["Teaching Load",t.jsx("textarea",{rows:3,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm",value:S.teachingLoad,onChange:k=>A({...S,teachingLoad:k.target.value})})]}),t.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:["Administrative Duties",t.jsx("textarea",{rows:3,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm",value:S.admin,onChange:k=>A({...S,admin:k.target.value})})]}),t.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[t.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:["Teaching",t.jsx("textarea",{rows:2,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm",value:E.teaching,onChange:k=>D({...E,teaching:k.target.value})})]}),t.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:["Research",t.jsx("textarea",{rows:2,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm",value:E.research,onChange:k=>D({...E,research:k.target.value})})]}),t.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:["Service",t.jsx("textarea",{rows:2,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm",value:E.service,onChange:k=>D({...E,service:k.target.value})})]})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(Z,{variant:"secondary",onClick:()=>M(!1),children:"Cancel"}),t.jsx(Z,{onClick:()=>{s&&(a(s.id,{workload:{...s.workload,...S},rubric:{...s.rubric,...E}}),l({...s,workload:{...s.workload,...S},rubric:{...s.rubric,...E}}),M(!1))},children:"Save Edits"})]})]}):null]}),t.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:[t.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Meeting date",t.jsx("input",{type:"date",className:"mt-1",value:h,onChange:k=>g(k.target.value)})]}),t.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Follow-up meeting",t.jsx("input",{type:"date",className:"mt-1",value:y,onChange:k=>v(k.target.value),placeholder:"Optional"})]}),t.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Comments / required changes",t.jsx("textarea",{rows:3,className:"mt-1",value:m,onChange:k=>f(k.target.value),placeholder:"Confirmation notes or change requests"})]})]}),s.followUpMeeting&&t.jsxs("div",{className:"mt-3 border rounded-lg p-3 bg-gray-50",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Department performance follow-up"}),t.jsxs("p",{className:"text-sm text-gray-700",children:["Scheduled: ",s.followUpMeeting.scheduledAt||"TBD","  Status:"," ",s.followUpMeeting.status||"pending"]}),s.followUpMeeting.topic&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s.followUpMeeting.topic})]}),t.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2 mt-4",children:[t.jsx(Z,{variant:"secondary",onClick:()=>l(null),children:"Clear selection"}),t.jsx(Z,{variant:"outline",onClick:()=>M(!w),children:w?"Close Edit":"Edit Submission"}),t.jsxs(Z,{onClick:()=>d(!c),className:"flex items-center gap-2",children:[t.jsx(Be,{className:"w-4 h-4"}),c?"Hide":"Show"," Appraisal Form"]})]}),c&&t.jsx("div",{className:"mt-6 pt-6 border-t",children:t.jsx(cle,{pamsId:s.id,employeeId:s.employeeId,pamsData:s,onClose:()=>d(!1)})})]})]})}function ni({label:e,value:n}){const a=n?ule[n]:null;return t.jsxs("div",{className:"flex items-center justify-between border rounded-lg p-3 bg-white",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-800",children:e}),t.jsx("p",{className:"text-xs text-gray-600",children:a?`${a.label} (${a.marks} marks)`:"No selection provided"})]}),a&&t.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-blue-50 text-blue-700 border border-blue-200",children:a.label})]})}function Vv({children:e}){return t.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-2",children:e})}function fle(){return t.jsx(Mi,{children:t.jsxs(Ce,{element:t.jsx(Zie,{}),children:[t.jsx(Ce,{index:!0,element:t.jsx(Xie,{})}),t.jsx(Ce,{path:"employees",element:t.jsx(Qie,{})}),t.jsx(Ce,{path:"attendance",element:t.jsx(Jie,{})}),t.jsx(Ce,{path:"leaves",element:t.jsx(tle,{})}),t.jsx(Ce,{path:"self-service",element:t.jsx(ile,{})}),t.jsx(Ce,{path:"pams",element:t.jsx(mle,{})}),t.jsx(Ce,{path:"reports",element:t.jsx(ale,{})}),t.jsx(Ce,{path:"settings",element:t.jsx(sle,{})}),t.jsx(Ce,{path:"*",element:t.jsx(Ns,{to:".",replace:!0})})]})})}const hle=[{path:"/employee",label:"Dashboard",icon:Gu,end:!0},{path:"/employee/attendance",label:"Attendance",icon:Ue},{path:"/employee/leave",label:"Leave",icon:nt},{path:"/employee/salary",label:"Salary",icon:dr},{path:"/employee/self-service",label:"Self-Service",icon:As},{path:"/employee/pams",label:"PAMS",icon:vi},{path:"/employee/promotions",label:"Promotions",icon:Ss},{path:"/employee/resignation",label:"Resignation",icon:Dc},{path:"/employee/policy-advisory",label:"Policy Advisory",icon:vi},{path:"/employee/profile",label:"Profile",icon:_r}];function ple(){return t.jsx(Di,{portalKey:"employee",portalName:"Employee Portal",navItems:hle})}function xle(){const e=at(D=>D.user),{employees:n,attendance:a,leaves:r,notifications:s}=ve(),l=x.useMemo(()=>n.find(D=>D.id===e?.id||D.email===e?.email),[n,e]),c=l?.id||e?.id,d=x.useMemo(()=>a.filter(D=>D.employeeId===c),[a,c]),m=x.useMemo(()=>d.find(D=>D.date===U(new Date,"yyyy-MM-dd")),[d]),f=x.useMemo(()=>r.filter(D=>D.employeeId===c),[r,c]),h=x.useMemo(()=>{const D=qa(new Date),P=Ha(new Date),T=d.filter(O=>{const k=me(O.date);return ws(k,{start:D,end:P})});return{present:T.filter(O=>O.status==="Present").length,late:T.filter(O=>O.status==="Late").length,absent:T.filter(O=>O.status==="Absent").length,total:T.length}},[d]),g=f.filter(D=>D.status==="Pending").length,y=f.filter(D=>D.status==="Approved").length,v=l?.leaveBalance||{annual:0,sick:0,casual:0},j=v.annual+v.sick+v.casual,b=l?.salaryBase||0,w=h.late*500,M=h.absent*(b/22),S=b-w-M,A=x.useMemo(()=>s.filter(D=>D.userId===c||D.userId==="all").slice(0,5),[s,c]),E=D=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(D);return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-linear-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome back, ",l?.name?.split(" ")[0]||e?.name?.split(" ")[0],"! "]}),t.jsx("p",{className:"text-blue-100 mt-1",children:U(new Date,"EEEE, MMMM d, yyyy")})]}),t.jsx("div",{className:"flex items-center gap-3",children:m?t.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-lg px-4 py-2",children:[t.jsx("p",{className:"text-sm text-blue-100",children:"Clock In"}),t.jsx("p",{className:"font-semibold",children:m.clockIn||"--:--"})]}):t.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-lg px-4 py-2",children:[t.jsx("p",{className:"text-sm text-blue-100",children:"Today's Status"}),t.jsx("p",{className:"font-semibold",children:"Not Clocked In"})]})})]})}),t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[t.jsx(Et,{title:"Present Days",value:h.present,subtitle:`This month (${h.late} late)`,icon:Be,trend:h.present>15?"up":"down",trendValue:`${Math.round(h.present/22*100)}%`,color:"success"}),t.jsx(Et,{title:"Leave Balance",value:j,subtitle:`${v.annual} annual, ${v.sick} sick`,icon:gt,color:"primary"}),t.jsx(Et,{title:"Pending Requests",value:g,subtitle:`${y} approved this year`,icon:Ue,color:g>0?"warning":"default"}),t.jsx(Et,{title:"Est. Net Salary",value:E(S),subtitle:`Base: ${E(b)}`,icon:ur,trend:w>0?"down":"neutral",trendValue:w>0?`-${E(w+M)}`:"No deductions",color:"success"})]}),t.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs(H,{className:"lg:col-span-2",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"My Profile"}),t.jsxs(jn,{to:"/employee/profile",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:["View Full Profile ",t.jsx(gu,{className:"w-4 h-4"})]})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Employee Code"}),t.jsx("p",{className:"font-medium text-gray-900",children:l?.code||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Department"}),t.jsx("p",{className:"font-medium text-gray-900",children:l?.department||e?.department})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Designation"}),t.jsx("p",{className:"font-medium text-gray-900",children:l?.designation||e?.designation||"N/A"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Faculty"}),t.jsx("p",{className:"font-medium text-gray-900",children:l?.faculty||e?.faculty})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Join Date"}),t.jsx("p",{className:"font-medium text-gray-900",children:l?.joinDate||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Status"}),t.jsx(le,{variant:l?.status==="Active"?"success":"warning",children:l?.status||"Active"})]})]})]})]}),t.jsxs(H,{children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Leave Balance"}),t.jsx(jn,{to:"/employee/leave",className:"text-sm text-blue-600 hover:text-blue-800",children:"Apply"})]}),t.jsx("div",{className:"space-y-3",children:Object.entries(v).map(([D,P])=>{const O=si.find(B=>B.id===D)?.defaultDays||20,k=Math.min(P/O*100,100);return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"capitalize text-gray-600",children:D}),t.jsxs("span",{className:"font-medium",children:[P," days"]})]}),t.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full transition-all ${k>50?"bg-green-500":k>20?"bg-yellow-500":"bg-red-500"}`,style:{width:`${k}%`}})})]},D)})})]})]}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[t.jsxs(H,{children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Leave Requests"}),t.jsx(jn,{to:"/employee/leave",className:"text-sm text-blue-600 hover:text-blue-800",children:"View All"})]}),f.length===0?t.jsxs("div",{className:"text-center py-6 text-gray-500",children:[t.jsx(gt,{className:"w-10 h-10 mx-auto text-gray-300 mb-2"}),t.jsx("p",{className:"text-sm",children:"No leave requests yet"})]}):t.jsx("div",{className:"space-y-3",children:f.slice(0,4).map(D=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-gray-900 capitalize",children:[D.type," Leave"]}),t.jsxs("p",{className:"text-xs text-gray-500",children:[D.startDate,"  ",D.days," day",D.days>1?"s":""]})]}),t.jsx(le,{variant:D.status==="Approved"?"success":D.status==="Pending"?"warning":"error",children:D.status})]},D.id))})]}),t.jsxs(H,{children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"}),t.jsxs("span",{className:"text-xs text-gray-500",children:[A.length," new"]})]}),A.length===0?t.jsxs("div",{className:"text-center py-6 text-gray-500",children:[t.jsx(ss,{className:"w-10 h-10 mx-auto text-gray-300 mb-2"}),t.jsx("p",{className:"text-sm",children:"No notifications"})]}):t.jsx("div",{className:"space-y-3",children:A.map(D=>t.jsxs("div",{className:"flex gap-3 p-3 bg-gray-50 rounded-lg",children:[t.jsx("div",{className:`shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${D.type==="success"?"bg-green-100 text-green-600":D.type==="warning"?"bg-yellow-100 text-yellow-600":D.type==="error"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:t.jsx(ss,{className:"w-4 h-4"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:D.title}),t.jsx("p",{className:"text-xs text-gray-500 truncate",children:D.message})]})]},D.id))})]})]}),t.jsxs(H,{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Actions"}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[t.jsxs(jn,{to:"/employee/attendance",className:"flex flex-col items-center gap-2 p-4 rounded-lg bg-blue-50 hover:bg-blue-100 transition-colors",children:[t.jsx(Ue,{className:"w-6 h-6 text-blue-600"}),t.jsx("span",{className:"text-sm font-medium text-blue-900",children:"View Attendance"})]}),t.jsxs(jn,{to:"/employee/leave",className:"flex flex-col items-center gap-2 p-4 rounded-lg bg-green-50 hover:bg-green-100 transition-colors",children:[t.jsx(gt,{className:"w-6 h-6 text-green-600"}),t.jsx("span",{className:"text-sm font-medium text-green-900",children:"Apply Leave"})]}),t.jsxs(jn,{to:"/employee/salary",className:"flex flex-col items-center gap-2 p-4 rounded-lg bg-amber-50 hover:bg-amber-100 transition-colors",children:[t.jsx(ur,{className:"w-6 h-6 text-amber-600"}),t.jsx("span",{className:"text-sm font-medium text-amber-900",children:"View Salary"})]}),t.jsxs(jn,{to:"/employee/profile",className:"flex flex-col items-center gap-2 p-4 rounded-lg bg-purple-50 hover:bg-purple-100 transition-colors",children:[t.jsx(T4,{className:"w-6 h-6 text-purple-600"}),t.jsx("span",{className:"text-sm font-medium text-purple-900",children:"My Profile"})]})]})]})]})}function gle(e,n,a="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:a}).format(n).split(/\s/g).slice(2).join(" ")}const yle={},xu={};function Xl(e,n){try{const r=(yle[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(n).split("GMT")[1];return r in xu?xu[r]:y4(r,r.split(":"))}catch{if(e in xu)return xu[e];const a=e?.match(vle);return a?y4(e,a.slice(1)):NaN}}const vle=/([+-]\d\d):?(\d\d)?/;function y4(e,n){const a=+(n[0]||0),r=+(n[1]||0),s=+(n[2]||0)/60;return xu[e]=a*60+r>0?a*60+r+s:a*60-r-s}class vs extends Date{constructor(...n){super(),n.length>1&&typeof n[n.length-1]=="string"&&(this.timeZone=n.pop()),this.internal=new Date,isNaN(Xl(this.timeZone,this))?this.setTime(NaN):n.length?typeof n[0]=="number"&&(n.length===1||n.length===2&&typeof n[1]!="number")?this.setTime(n[0]):typeof n[0]=="string"?this.setTime(+new Date(n[0])):n[0]instanceof Date?this.setTime(+n[0]):(this.setTime(+new Date(...n)),M6(this),fj(this)):this.setTime(Date.now())}static tz(n,...a){return a.length?new vs(...a,n):new vs(Date.now(),n)}withTimeZone(n){return new vs(+this,n)}getTimezoneOffset(){const n=-Xl(this.timeZone,this);return n>0?Math.floor(n):Math.ceil(n)}setTime(n){return Date.prototype.setTime.apply(this,arguments),fj(this),+this}[Symbol.for("constructDateFrom")](n){return new vs(+new Date(n),this.timeZone)}}const v4=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!v4.test(e))return;const n=e.replace(v4,"$1UTC");vs.prototype[n]&&(e.startsWith("get")?vs.prototype[e]=function(){return this.internal[n]()}:(vs.prototype[e]=function(){return Date.prototype[n].apply(this.internal,arguments),ble(this),+this},vs.prototype[n]=function(){return Date.prototype[n].apply(this,arguments),fj(this),+this}))});function fj(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-Xl(e.timeZone,e)*60))}function ble(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),M6(e)}function M6(e){const n=Xl(e.timeZone,e),a=n>0?Math.floor(n):Math.ceil(n),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);const s=-new Date(+e).getTimezoneOffset(),l=-new Date(+r).getTimezoneOffset(),c=s-l,d=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();c&&d&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+c);const m=s-a;m&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+m);const f=new Date(+e);f.setUTCSeconds(0);const h=s>0?f.getSeconds():(f.getSeconds()-60)%60,g=Math.round(-(Xl(e.timeZone,e)*60))%60;(g||h)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+g),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+g+h));const y=Xl(e.timeZone,e),v=y>0?Math.floor(y):Math.ceil(y),b=-new Date(+e).getTimezoneOffset()-v,w=v!==a,M=b-m;if(w&&M){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+M);const S=Xl(e.timeZone,e),A=S>0?Math.floor(S):Math.ceil(S),E=v-A;E&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+E),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+E))}}class ui extends vs{static tz(n,...a){return a.length?new ui(...a,n):new ui(Date.now(),n)}toISOString(){const[n,a,r]=this.tzComponents(),s=`${n}${a}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[n,a,r,s]=this.internal.toUTCString().split(" ");return`${n?.slice(0,-1)} ${r} ${a} ${s}`}toTimeString(){const n=this.internal.toUTCString().split(" ")[4],[a,r,s]=this.tzComponents();return`${n} GMT${a}${r}${s} (${gle(this.timeZone,this)})`}toLocaleString(n,a){return Date.prototype.toLocaleString.call(this,n,{...a,timeZone:a?.timeZone||this.timeZone})}toLocaleDateString(n,a){return Date.prototype.toLocaleDateString.call(this,n,{...a,timeZone:a?.timeZone||this.timeZone})}toLocaleTimeString(n,a){return Date.prototype.toLocaleTimeString.call(this,n,{...a,timeZone:a?.timeZone||this.timeZone})}tzComponents(){const n=this.getTimezoneOffset(),a=n>0?"-":"+",r=String(Math.floor(Math.abs(n)/60)).padStart(2,"0"),s=String(Math.abs(n)%60).padStart(2,"0");return[a,r,s]}withTimeZone(n){return new ui(+this,n)}[Symbol.for("constructDateFrom")](n){return new ui(+new Date(n),this.timeZone)}}const b4=5,jle=4;function Nle(e,n){const a=n.startOfMonth(e),r=a.getDay()>0?a.getDay():7,s=n.addDays(e,-r+1),l=n.addDays(s,b4*7-1);return n.getMonth(e)===n.getMonth(l)?b4:jle}function D6(e,n){const a=n.startOfMonth(e),r=a.getDay();return r===1?a:r===0?n.addDays(a,-6):n.addDays(a,-1*(r-1))}function wle(e,n){const a=D6(e,n),r=Nle(e,n);return n.addDays(a,r*7-1)}class pr{constructor(n,a){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?ui.tz(this.options.timeZone):new this.Date,this.newDate=(r,s,l)=>this.overrides?.newDate?this.overrides.newDate(r,s,l):this.options.timeZone?new ui(r,s,l,this.options.timeZone):new Date(r,s,l),this.addDays=(r,s)=>this.overrides?.addDays?this.overrides.addDays(r,s):gs(r,s),this.addMonths=(r,s)=>this.overrides?.addMonths?this.overrides.addMonths(r,s):tL(r,s),this.addWeeks=(r,s)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,s):nL(r,s),this.addYears=(r,s)=>this.overrides?.addYears?this.overrides.addYears(r,s):aL(r,s),this.differenceInCalendarDays=(r,s)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,s):rL(r,s),this.differenceInCalendarMonths=(r,s)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,s):sL(r,s),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):iL(r),this.eachYearOfInterval=r=>{const s=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(r):lL(r),l=new Set(s.map(d=>this.getYear(d)));if(l.size===s.length)return s;const c=[];return l.forEach(d=>{c.push(new Date(d,0,1))}),c},this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):wle(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):oL(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):Ha(r),this.endOfWeek=(r,s)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,s):cL(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):dL(r),this.format=(r,s,l)=>{const c=this.overrides?.format?this.overrides.format(r,s,this.options):U(r,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):uL(r),this.getMonth=(r,s)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):mL(r,this.options),this.getYear=(r,s)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):fL(r,this.options),this.getWeek=(r,s)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):hL(r,this.options),this.isAfter=(r,s)=>this.overrides?.isAfter?this.overrides.isAfter(r,s):pL(r,s),this.isBefore=(r,s)=>this.overrides?.isBefore?this.overrides.isBefore(r,s):xL(r,s),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):gL(r),this.isSameDay=(r,s)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,s):yL(r,s),this.isSameMonth=(r,s)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,s):vL(r,s),this.isSameYear=(r,s)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,s):bL(r,s),this.max=r=>this.overrides?.max?this.overrides.max(r):jL(r),this.min=r=>this.overrides?.min?this.overrides.min(r):NL(r),this.setMonth=(r,s)=>this.overrides?.setMonth?this.overrides.setMonth(r,s):wL(r,s),this.setYear=(r,s)=>this.overrides?.setYear?this.overrides.setYear(r,s):SL(r,s),this.startOfBroadcastWeek=(r,s)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):D6(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):AL(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):CL(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):qa(r),this.startOfWeek=(r,s)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):ML(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):DL(r),this.options={locale:k4,...n},this.overrides=a}getDigitMap(){const{numerals:n="latn"}=this.options,a=new Intl.NumberFormat("en-US",{numberingSystem:n}),r={};for(let s=0;s<10;s++)r[s.toString()]=a.format(s);return r}replaceDigits(n){const a=this.getDigitMap();return n.replace(/\d/g,r=>a[r]||r)}formatNumber(n){return this.replaceDigits(n.toString())}getMonthYearOrder(){const n=this.options.locale?.code;return n&&pr.yearFirstLocales.has(n)?"year-first":"month-first"}formatMonthYear(n){const{locale:a,timeZone:r,numerals:s}=this.options,l=a?.code;if(l&&pr.yearFirstLocales.has(l))try{return new Intl.DateTimeFormat(l,{month:"long",year:"numeric",timeZone:r,numberingSystem:s}).format(n)}catch{}const c=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(n,c)}}pr.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Rs=new pr;class E6{constructor(n,a,r=Rs){this.date=n,this.displayMonth=a,this.outside=!!(a&&!r.isSameMonth(n,a)),this.dateLib=r,this.isoDate=r.format(n,"yyyy-MM-dd"),this.displayMonthId=r.format(a,"yyyy-MM"),this.dateMonthId=r.format(n,"yyyy-MM")}isEqualTo(n){return this.dateLib.isSameDay(n.date,this.date)&&this.dateLib.isSameMonth(n.displayMonth,this.displayMonth)}}class Sle{constructor(n,a){this.date=n,this.weeks=a}}class Ale{constructor(n,a){this.days=a,this.weekNumber=n}}function Cle(e){return Oe.createElement("button",{...e})}function Mle(e){return Oe.createElement("span",{...e})}function Dle(e){const{size:n=24,orientation:a="left",className:r}=e;return Oe.createElement("svg",{className:r,width:n,height:n,viewBox:"0 0 24 24"},a==="up"&&Oe.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),a==="down"&&Oe.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),a==="left"&&Oe.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),a==="right"&&Oe.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Ele(e){const{day:n,modifiers:a,...r}=e;return Oe.createElement("td",{...r})}function Ole(e){const{day:n,modifiers:a,...r}=e,s=Oe.useRef(null);return Oe.useEffect(()=>{a.focused&&s.current?.focus()},[a.focused]),Oe.createElement("button",{ref:s,...r})}var We;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(We||(We={}));var bn;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(bn||(bn={}));var es;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(es||(es={}));var rr;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(rr||(rr={}));function Ple(e){const{options:n,className:a,components:r,classNames:s,...l}=e,c=[s[We.Dropdown],a].join(" "),d=n?.find(({value:m})=>m===l.value);return Oe.createElement("span",{"data-disabled":l.disabled,className:s[We.DropdownRoot]},Oe.createElement(r.Select,{className:c,...l},n?.map(({value:m,label:f,disabled:h})=>Oe.createElement(r.Option,{key:m,value:m,disabled:h},f))),Oe.createElement("span",{className:s[We.CaptionLabel],"aria-hidden":!0},d?.label,Oe.createElement(r.Chevron,{orientation:"down",size:18,className:s[We.Chevron]})))}function kle(e){return Oe.createElement("div",{...e})}function Rle(e){return Oe.createElement("div",{...e})}function _le(e){const{calendarMonth:n,displayIndex:a,...r}=e;return Oe.createElement("div",{...r},e.children)}function Tle(e){const{calendarMonth:n,displayIndex:a,...r}=e;return Oe.createElement("div",{...r})}function Lle(e){return Oe.createElement("table",{...e})}function Ile(e){return Oe.createElement("div",{...e})}const O6=x.createContext(void 0);function Om(){const e=x.useContext(O6);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function zle(e){const{components:n}=Om();return Oe.createElement(n.Dropdown,{...e})}function Ble(e){const{onPreviousClick:n,onNextClick:a,previousMonth:r,nextMonth:s,...l}=e,{components:c,classNames:d,labels:{labelPrevious:m,labelNext:f}}=Om(),h=x.useCallback(y=>{s&&a?.(y)},[s,a]),g=x.useCallback(y=>{r&&n?.(y)},[r,n]);return Oe.createElement("nav",{...l},Oe.createElement(c.PreviousMonthButton,{type:"button",className:d[We.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":m(r),onClick:g},Oe.createElement(c.Chevron,{disabled:r?void 0:!0,className:d[We.Chevron],orientation:"left"})),Oe.createElement(c.NextMonthButton,{type:"button",className:d[We.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":f(s),onClick:h},Oe.createElement(c.Chevron,{disabled:s?void 0:!0,orientation:"right",className:d[We.Chevron]})))}function $le(e){const{components:n}=Om();return Oe.createElement(n.Button,{...e})}function Fle(e){return Oe.createElement("option",{...e})}function qle(e){const{components:n}=Om();return Oe.createElement(n.Button,{...e})}function Hle(e){const{rootRef:n,...a}=e;return Oe.createElement("div",{...a,ref:n})}function Ule(e){return Oe.createElement("select",{...e})}function Vle(e){const{week:n,...a}=e;return Oe.createElement("tr",{...a})}function Kle(e){return Oe.createElement("th",{...e})}function Wle(e){return Oe.createElement("thead",{"aria-hidden":!0},Oe.createElement("tr",{...e}))}function Yle(e){const{week:n,...a}=e;return Oe.createElement("th",{...a})}function Gle(e){return Oe.createElement("th",{...e})}function Zle(e){return Oe.createElement("tbody",{...e})}function Xle(e){const{components:n}=Om();return Oe.createElement(n.Dropdown,{...e})}const Qle=Object.freeze(Object.defineProperty({__proto__:null,Button:Cle,CaptionLabel:Mle,Chevron:Dle,Day:Ele,DayButton:Ole,Dropdown:Ple,DropdownNav:kle,Footer:Rle,Month:_le,MonthCaption:Tle,MonthGrid:Lle,Months:Ile,MonthsDropdown:zle,Nav:Ble,NextMonthButton:$le,Option:Fle,PreviousMonthButton:qle,Root:Hle,Select:Ule,Week:Vle,WeekNumber:Yle,WeekNumberHeader:Gle,Weekday:Kle,Weekdays:Wle,Weeks:Zle,YearsDropdown:Xle},Symbol.toStringTag,{value:"Module"}));function mi(e,n,a=!1,r=Rs){let{from:s,to:l}=e;const{differenceInCalendarDays:c,isSameDay:d}=r;return s&&l?(c(l,s)<0&&([s,l]=[l,s]),c(n,s)>=(a?1:0)&&c(l,n)>=(a?1:0)):!a&&l?d(l,n):!a&&s?d(s,n):!1}function $1(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function kx(e){return!!(e&&typeof e=="object"&&"from"in e)}function F1(e){return!!(e&&typeof e=="object"&&"after"in e)}function q1(e){return!!(e&&typeof e=="object"&&"before"in e)}function P6(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function k6(e,n){return Array.isArray(e)&&e.every(n.isDate)}function fi(e,n,a=Rs){const r=Array.isArray(n)?n:[n],{isSameDay:s,differenceInCalendarDays:l,isAfter:c}=a;return r.some(d=>{if(typeof d=="boolean")return d;if(a.isDate(d))return s(e,d);if(k6(d,a))return d.includes(e);if(kx(d))return mi(d,e,!1,a);if(P6(d))return Array.isArray(d.dayOfWeek)?d.dayOfWeek.includes(e.getDay()):d.dayOfWeek===e.getDay();if($1(d)){const m=l(d.before,e),f=l(d.after,e),h=m>0,g=f<0;return c(d.before,d.after)?g&&h:h||g}return F1(d)?l(e,d.after)>0:q1(d)?l(d.before,e)>0:typeof d=="function"?d(e):!1})}function Jle(e,n,a,r,s){const{disabled:l,hidden:c,modifiers:d,showOutsideDays:m,broadcastCalendar:f,today:h=s.today()}=n,{isSameDay:g,isSameMonth:y,startOfMonth:v,isBefore:j,endOfMonth:b,isAfter:w}=s,M=a&&v(a),S=r&&b(r),A={[bn.focused]:[],[bn.outside]:[],[bn.disabled]:[],[bn.hidden]:[],[bn.today]:[]},E={};for(const D of e){const{date:P,displayMonth:T}=D,O=!!(T&&!y(P,T)),k=!!(M&&j(P,M)),B=!!(S&&w(P,S)),I=!!(l&&fi(P,l,s)),z=!!(c&&fi(P,c,s))||k||B||!f&&!m&&O||f&&m===!1&&O,J=g(P,h);O&&A.outside.push(D),I&&A.disabled.push(D),z&&A.hidden.push(D),J&&A.today.push(D),d&&Object.keys(d).forEach(L=>{const G=d?.[L];G&&fi(P,G,s)&&(E[L]?E[L].push(D):E[L]=[D])})}return D=>{const P={[bn.focused]:!1,[bn.disabled]:!1,[bn.hidden]:!1,[bn.outside]:!1,[bn.today]:!1},T={};for(const O in A){const k=A[O];P[O]=k.some(B=>B===D)}for(const O in E)T[O]=E[O].some(k=>k===D);return{...P,...T}}}function eoe(e,n,a={}){return Object.entries(e).filter(([,s])=>s===!0).reduce((s,[l])=>(a[l]?s.push(a[l]):n[bn[l]]?s.push(n[bn[l]]):n[es[l]]&&s.push(n[es[l]]),s),[n[We.Day]])}function toe(e){return{...Qle,...e}}function noe(e){const n={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([a,r])=>{a.startsWith("data-")&&(n[a]=r)}),n}function aoe(){const e={};for(const n in We)e[We[n]]=`rdp-${We[n]}`;for(const n in bn)e[bn[n]]=`rdp-${bn[n]}`;for(const n in es)e[es[n]]=`rdp-${es[n]}`;for(const n in rr)e[rr[n]]=`rdp-${rr[n]}`;return e}function R6(e,n,a){return(a??new pr(n)).formatMonthYear(e)}const roe=R6;function soe(e,n,a){return(a??new pr(n)).format(e,"d")}function ioe(e,n=Rs){return n.format(e,"LLLL")}function loe(e,n,a){return(a??new pr(n)).format(e,"cccccc")}function ooe(e,n=Rs){return e<10?n.formatNumber(`0${e.toLocaleString()}`):n.formatNumber(`${e.toLocaleString()}`)}function coe(){return""}function _6(e,n=Rs){return n.format(e,"yyyy")}const doe=_6,uoe=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:R6,formatDay:soe,formatMonthCaption:roe,formatMonthDropdown:ioe,formatWeekNumber:ooe,formatWeekNumberHeader:coe,formatWeekdayName:loe,formatYearCaption:doe,formatYearDropdown:_6},Symbol.toStringTag,{value:"Module"}));function moe(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...uoe,...e}}function foe(e,n,a,r,s){const{startOfMonth:l,startOfYear:c,endOfYear:d,eachMonthOfInterval:m,getMonth:f}=s;return m({start:c(e),end:d(e)}).map(y=>{const v=r.formatMonthDropdown(y,s),j=f(y),b=n&&y<l(n)||a&&y>l(a)||!1;return{value:j,label:v,disabled:b}})}function hoe(e,n={},a={}){let r={...n?.[We.Day]};return Object.entries(e).filter(([,s])=>s===!0).forEach(([s])=>{r={...r,...a?.[s]}}),r}function poe(e,n,a,r){const s=r??e.today(),l=a?e.startOfBroadcastWeek(s,e):n?e.startOfISOWeek(s):e.startOfWeek(s),c=[];for(let d=0;d<7;d++){const m=e.addDays(l,d);c.push(m)}return c}function xoe(e,n,a,r,s=!1){if(!e||!n)return;const{startOfYear:l,endOfYear:c,eachYearOfInterval:d,getYear:m}=r,f=l(e),h=c(n),g=d({start:f,end:h});return s&&g.reverse(),g.map(y=>{const v=a.formatYearDropdown(y,r);return{value:m(y),label:v,disabled:!1}})}function T6(e,n,a,r){let s=(r??new pr(a)).format(e,"PPPP");return n.today&&(s=`Today, ${s}`),n.selected&&(s=`${s}, selected`),s}const goe=T6;function L6(e,n,a){return(a??new pr(n)).formatMonthYear(e)}const yoe=L6;function voe(e,n,a,r){let s=(r??new pr(a)).format(e,"PPPP");return n?.today&&(s=`Today, ${s}`),s}function boe(e){return"Choose the Month"}function joe(){return""}function Noe(e){return"Go to the Next Month"}function woe(e){return"Go to the Previous Month"}function Soe(e,n,a){return(a??new pr(n)).format(e,"cccc")}function Aoe(e,n){return`Week ${e}`}function Coe(e){return"Week Number"}function Moe(e){return"Choose the Year"}const Doe=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:yoe,labelDay:goe,labelDayButton:T6,labelGrid:L6,labelGridcell:voe,labelMonthDropdown:boe,labelNav:joe,labelNext:Noe,labelPrevious:woe,labelWeekNumber:Aoe,labelWeekNumberHeader:Coe,labelWeekday:Soe,labelYearDropdown:Moe},Symbol.toStringTag,{value:"Module"})),Pm=e=>e instanceof HTMLElement?e:null,Kv=e=>[...e.querySelectorAll("[data-animated-month]")??[]],Eoe=e=>Pm(e.querySelector("[data-animated-month]")),Wv=e=>Pm(e.querySelector("[data-animated-caption]")),Yv=e=>Pm(e.querySelector("[data-animated-weeks]")),Ooe=e=>Pm(e.querySelector("[data-animated-nav]")),Poe=e=>Pm(e.querySelector("[data-animated-weekdays]"));function koe(e,n,{classNames:a,months:r,focused:s,dateLib:l}){const c=x.useRef(null),d=x.useRef(r),m=x.useRef(!1);x.useLayoutEffect(()=>{const f=d.current;if(d.current=r,!n||!e.current||!(e.current instanceof HTMLElement)||r.length===0||f.length===0||r.length!==f.length)return;const h=l.isSameMonth(r[0].date,f[0].date),g=l.isAfter(r[0].date,f[0].date),y=g?a[rr.caption_after_enter]:a[rr.caption_before_enter],v=g?a[rr.weeks_after_enter]:a[rr.weeks_before_enter],j=c.current,b=e.current.cloneNode(!0);if(b instanceof HTMLElement?(Kv(b).forEach(A=>{if(!(A instanceof HTMLElement))return;const E=Eoe(A);E&&A.contains(E)&&A.removeChild(E);const D=Wv(A);D&&D.classList.remove(y);const P=Yv(A);P&&P.classList.remove(v)}),c.current=b):c.current=null,m.current||h||s)return;const w=j instanceof HTMLElement?Kv(j):[],M=Kv(e.current);if(M?.every(S=>S instanceof HTMLElement)&&w&&w.every(S=>S instanceof HTMLElement)){m.current=!0,e.current.style.isolation="isolate";const S=Ooe(e.current);S&&(S.style.zIndex="1"),M.forEach((A,E)=>{const D=w[E];if(!D)return;A.style.position="relative",A.style.overflow="hidden";const P=Wv(A);P&&P.classList.add(y);const T=Yv(A);T&&T.classList.add(v);const O=()=>{m.current=!1,e.current&&(e.current.style.isolation=""),S&&(S.style.zIndex=""),P&&P.classList.remove(y),T&&T.classList.remove(v),A.style.position="",A.style.overflow="",A.contains(D)&&A.removeChild(D)};D.style.pointerEvents="none",D.style.position="absolute",D.style.overflow="hidden",D.setAttribute("aria-hidden","true");const k=Poe(D);k&&(k.style.opacity="0");const B=Wv(D);B&&(B.classList.add(g?a[rr.caption_before_exit]:a[rr.caption_after_exit]),B.addEventListener("animationend",O));const I=Yv(D);I&&I.classList.add(g?a[rr.weeks_before_exit]:a[rr.weeks_after_exit]),A.insertBefore(D,A.firstChild)})}})}function Roe(e,n,a,r){const s=e[0],l=e[e.length-1],{ISOWeek:c,fixedWeeks:d,broadcastCalendar:m}=a??{},{addDays:f,differenceInCalendarDays:h,differenceInCalendarMonths:g,endOfBroadcastWeek:y,endOfISOWeek:v,endOfMonth:j,endOfWeek:b,isAfter:w,startOfBroadcastWeek:M,startOfISOWeek:S,startOfWeek:A}=r,E=m?M(s,r):c?S(s):A(s),D=m?y(l):c?v(j(l)):b(j(l)),P=h(D,E),T=g(l,s)+1,O=[];for(let I=0;I<=P;I++){const z=f(E,I);if(n&&w(z,n))break;O.push(z)}const B=(m?35:42)*T;if(d&&O.length<B){const I=B-O.length;for(let z=0;z<I;z++){const J=f(O[O.length-1],1);O.push(J)}}return O}function _oe(e){const n=[];return e.reduce((a,r)=>{const s=r.weeks.reduce((l,c)=>l.concat(c.days.slice()),n.slice());return a.concat(s.slice())},n.slice())}function Toe(e,n,a,r){const{numberOfMonths:s=1}=a,l=[];for(let c=0;c<s;c++){const d=r.addMonths(e,c);if(n&&d>n)break;l.push(d)}return l}function j4(e,n,a,r){const{month:s,defaultMonth:l,today:c=r.today(),numberOfMonths:d=1}=e;let m=s||l||c;const{differenceInCalendarMonths:f,addMonths:h,startOfMonth:g}=r;if(a&&f(a,m)<d-1){const y=-1*(d-1);m=h(a,y)}return n&&f(m,n)<0&&(m=n),g(m)}function Loe(e,n,a,r){const{addDays:s,endOfBroadcastWeek:l,endOfISOWeek:c,endOfMonth:d,endOfWeek:m,getISOWeek:f,getWeek:h,startOfBroadcastWeek:g,startOfISOWeek:y,startOfWeek:v}=r,j=e.reduce((b,w)=>{const M=a.broadcastCalendar?g(w,r):a.ISOWeek?y(w):v(w),S=a.broadcastCalendar?l(w):a.ISOWeek?c(d(w)):m(d(w)),A=n.filter(T=>T>=M&&T<=S),E=a.broadcastCalendar?35:42;if(a.fixedWeeks&&A.length<E){const T=n.filter(O=>{const k=E-A.length;return O>S&&O<=s(S,k)});A.push(...T)}const D=A.reduce((T,O)=>{const k=a.ISOWeek?f(O):h(O),B=T.find(z=>z.weekNumber===k),I=new E6(O,w,r);return B?B.days.push(I):T.push(new Ale(k,[I])),T},[]),P=new Sle(w,D);return b.push(P),b},[]);return a.reverseMonths?j.reverse():j}function Ioe(e,n){let{startMonth:a,endMonth:r}=e;const{startOfYear:s,startOfDay:l,startOfMonth:c,endOfMonth:d,addYears:m,endOfYear:f,newDate:h,today:g}=n,{fromYear:y,toYear:v,fromMonth:j,toMonth:b}=e;!a&&j&&(a=j),!a&&y&&(a=n.newDate(y,0,1)),!r&&b&&(r=b),!r&&v&&(r=h(v,11,31));const w=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return a?a=c(a):y?a=h(y,0,1):!a&&w&&(a=s(m(e.today??g(),-100))),r?r=d(r):v?r=h(v,11,31):!r&&w&&(r=f(e.today??g())),[a&&l(a),r&&l(r)]}function zoe(e,n,a,r){if(a.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:l=1}=a,{startOfMonth:c,addMonths:d,differenceInCalendarMonths:m}=r,f=s?l:1,h=c(e);if(!n)return d(h,f);if(!(m(n,e)<l))return d(h,f)}function Boe(e,n,a,r){if(a.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:l}=a,{startOfMonth:c,addMonths:d,differenceInCalendarMonths:m}=r,f=s?l??1:1,h=c(e);if(!n)return d(h,-f);if(!(m(h,n)<=0))return d(h,-f)}function $oe(e){const n=[];return e.reduce((a,r)=>a.concat(r.weeks.slice()),n.slice())}function Rx(e,n){const[a,r]=x.useState(e);return[n===void 0?a:n,r]}function Foe(e,n){const[a,r]=Ioe(e,n),{startOfMonth:s,endOfMonth:l}=n,c=j4(e,a,r,n),[d,m]=Rx(c,e.month?c:void 0);x.useEffect(()=>{const E=j4(e,a,r,n);m(E)},[e.timeZone]);const{months:f,weeks:h,days:g,previousMonth:y,nextMonth:v}=x.useMemo(()=>{const E=Toe(d,r,{numberOfMonths:e.numberOfMonths},n),D=Roe(E,e.endMonth?l(e.endMonth):void 0,{ISOWeek:e.ISOWeek,fixedWeeks:e.fixedWeeks,broadcastCalendar:e.broadcastCalendar},n),P=Loe(E,D,{broadcastCalendar:e.broadcastCalendar,fixedWeeks:e.fixedWeeks,ISOWeek:e.ISOWeek,reverseMonths:e.reverseMonths},n),T=$oe(P),O=_oe(P),k=Boe(d,a,e,n),B=zoe(d,r,e,n);return{months:P,weeks:T,days:O,previousMonth:k,nextMonth:B}},[n,d.getTime(),r?.getTime(),a?.getTime(),e.disableNavigation,e.broadcastCalendar,e.endMonth?.getTime(),e.fixedWeeks,e.ISOWeek,e.numberOfMonths,e.pagedNavigation,e.reverseMonths]),{disableNavigation:j,onMonthChange:b}=e,w=E=>h.some(D=>D.days.some(P=>P.isEqualTo(E))),M=E=>{if(j)return;let D=s(E);a&&D<s(a)&&(D=s(a)),r&&D>s(r)&&(D=s(r)),m(D),b?.(D)};return{months:f,weeks:h,days:g,navStart:a,navEnd:r,previousMonth:y,nextMonth:v,goToMonth:M,goToDay:E=>{w(E)||M(E.date)}}}var ms;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(ms||(ms={}));function N4(e){return!e[bn.disabled]&&!e[bn.hidden]&&!e[bn.outside]}function qoe(e,n,a,r){let s,l=-1;for(const c of e){const d=n(c);N4(d)&&(d[bn.focused]&&l<ms.FocusedModifier?(s=c,l=ms.FocusedModifier):r?.isEqualTo(c)&&l<ms.LastFocused?(s=c,l=ms.LastFocused):a(c.date)&&l<ms.Selected?(s=c,l=ms.Selected):d[bn.today]&&l<ms.Today&&(s=c,l=ms.Today))}return s||(s=e.find(c=>N4(n(c)))),s}function Hoe(e,n,a,r,s,l,c){const{ISOWeek:d,broadcastCalendar:m}=l,{addDays:f,addMonths:h,addWeeks:g,addYears:y,endOfBroadcastWeek:v,endOfISOWeek:j,endOfWeek:b,max:w,min:M,startOfBroadcastWeek:S,startOfISOWeek:A,startOfWeek:E}=c;let P={day:f,week:g,month:h,year:y,startOfWeek:T=>m?S(T,c):d?A(T):E(T),endOfWeek:T=>m?v(T):d?j(T):b(T)}[e](a,n==="after"?1:-1);return n==="before"&&r?P=w([r,P]):n==="after"&&s&&(P=M([s,P])),P}function I6(e,n,a,r,s,l,c,d=0){if(d>365)return;const m=Hoe(e,n,a.date,r,s,l,c),f=!!(l.disabled&&fi(m,l.disabled,c)),h=!!(l.hidden&&fi(m,l.hidden,c)),g=m,y=new E6(m,g,c);return!f&&!h?y:I6(e,n,y,r,s,l,c,d+1)}function Uoe(e,n,a,r,s){const{autoFocus:l}=e,[c,d]=x.useState(),m=qoe(n.days,a,r||(()=>!1),c),[f,h]=x.useState(l?m:void 0);return{isFocusTarget:b=>!!m?.isEqualTo(b),setFocused:h,focused:f,blur:()=>{d(f),h(void 0)},moveFocus:(b,w)=>{if(!f)return;const M=I6(b,w,f,n.navStart,n.navEnd,e,s);M&&(e.disableNavigation&&!n.days.some(A=>A.isEqualTo(M))||(n.goToDay(M),h(M)))}}}function Voe(e,n){const{selected:a,required:r,onSelect:s}=e,[l,c]=Rx(a,s?a:void 0),d=s?a:l,{isSameDay:m}=n,f=v=>d?.some(j=>m(j,v))??!1,{min:h,max:g}=e;return{selected:d,select:(v,j,b)=>{let w=[...d??[]];if(f(v)){if(d?.length===h||r&&d?.length===1)return;w=d?.filter(M=>!m(M,v))}else d?.length===g?w=[v]:w=[...w,v];return s||c(w),s?.(w,v,j,b),w},isSelected:f}}function Koe(e,n,a=0,r=0,s=!1,l=Rs){const{from:c,to:d}=n||{},{isSameDay:m,isAfter:f,isBefore:h}=l;let g;if(!c&&!d)g={from:e,to:a>0?void 0:e};else if(c&&!d)m(c,e)?a===0?g={from:c,to:e}:s?g={from:c,to:void 0}:g=void 0:h(e,c)?g={from:e,to:c}:g={from:c,to:e};else if(c&&d)if(m(c,e)&&m(d,e))s?g={from:c,to:d}:g=void 0;else if(m(c,e))g={from:c,to:a>0?void 0:e};else if(m(d,e))g={from:e,to:a>0?void 0:e};else if(h(e,c))g={from:e,to:d};else if(f(e,c))g={from:c,to:e};else if(f(e,d))g={from:c,to:e};else throw new Error("Invalid range");if(g?.from&&g?.to){const y=l.differenceInCalendarDays(g.to,g.from);r>0&&y>r?g={from:e,to:void 0}:a>1&&y<a&&(g={from:e,to:void 0})}return g}function Woe(e,n,a=Rs){const r=Array.isArray(n)?n:[n];let s=e.from;const l=a.differenceInCalendarDays(e.to,e.from),c=Math.min(l,6);for(let d=0;d<=c;d++){if(r.includes(s.getDay()))return!0;s=a.addDays(s,1)}return!1}function w4(e,n,a=Rs){return mi(e,n.from,!1,a)||mi(e,n.to,!1,a)||mi(n,e.from,!1,a)||mi(n,e.to,!1,a)}function Yoe(e,n,a=Rs){const r=Array.isArray(n)?n:[n];if(r.filter(d=>typeof d!="function").some(d=>typeof d=="boolean"?d:a.isDate(d)?mi(e,d,!1,a):k6(d,a)?d.some(m=>mi(e,m,!1,a)):kx(d)?d.from&&d.to?w4(e,{from:d.from,to:d.to},a):!1:P6(d)?Woe(e,d.dayOfWeek,a):$1(d)?a.isAfter(d.before,d.after)?w4(e,{from:a.addDays(d.after,1),to:a.addDays(d.before,-1)},a):fi(e.from,d,a)||fi(e.to,d,a):F1(d)||q1(d)?fi(e.from,d,a)||fi(e.to,d,a):!1))return!0;const c=r.filter(d=>typeof d=="function");if(c.length){let d=e.from;const m=a.differenceInCalendarDays(e.to,e.from);for(let f=0;f<=m;f++){if(c.some(h=>h(d)))return!0;d=a.addDays(d,1)}}return!1}function Goe(e,n){const{disabled:a,excludeDisabled:r,selected:s,required:l,onSelect:c}=e,[d,m]=Rx(s,c?s:void 0),f=c?s:d;return{selected:f,select:(y,v,j)=>{const{min:b,max:w}=e,M=y?Koe(y,f,b,w,l,n):void 0;return r&&a&&M?.from&&M.to&&Yoe({from:M.from,to:M.to},a,n)&&(M.from=y,M.to=void 0),c||m(M),c?.(M,y,v,j),M},isSelected:y=>f&&mi(f,y,!1,n)}}function Zoe(e,n){const{selected:a,required:r,onSelect:s}=e,[l,c]=Rx(a,s?a:void 0),d=s?a:l,{isSameDay:m}=n;return{selected:d,select:(g,y,v)=>{let j=g;return!r&&d&&d&&m(g,d)&&(j=void 0),s||c(j),s?.(j,g,y,v),j},isSelected:g=>d?m(d,g):!1}}function Xoe(e,n){const a=Zoe(e,n),r=Voe(e,n),s=Goe(e,n);switch(e.mode){case"single":return a;case"multiple":return r;case"range":return s;default:return}}function fa(e,n){return e instanceof ui&&e.timeZone===n?e:new ui(e,n)}function S4(e,n){return typeof e=="boolean"||typeof e=="function"?e:e instanceof Date?fa(e,n):Array.isArray(e)?e.map(a=>a instanceof Date?fa(a,n):a):kx(e)?{...e,from:e.from?fa(e.from,n):e.from,to:e.to?fa(e.to,n):e.to}:$1(e)?{before:fa(e.before,n),after:fa(e.after,n)}:F1(e)?{after:fa(e.after,n)}:q1(e)?{before:fa(e.before,n)}:e}function Gv(e,n){return e&&(Array.isArray(e)?e.map(a=>S4(a,n)):S4(e,n))}function Qoe(e){let n=e;const a=n.timeZone;if(a&&(n={...e,timeZone:a},n.today&&(n.today=fa(n.today,a)),n.month&&(n.month=fa(n.month,a)),n.defaultMonth&&(n.defaultMonth=fa(n.defaultMonth,a)),n.startMonth&&(n.startMonth=fa(n.startMonth,a)),n.endMonth&&(n.endMonth=fa(n.endMonth,a)),n.mode==="single"&&n.selected?n.selected=fa(n.selected,a):n.mode==="multiple"&&n.selected?n.selected=n.selected?.map(lt=>fa(lt,a)):n.mode==="range"&&n.selected&&(n.selected={from:n.selected.from?fa(n.selected.from,a):n.selected.from,to:n.selected.to?fa(n.selected.to,a):n.selected.to}),n.disabled!==void 0&&(n.disabled=Gv(n.disabled,a)),n.hidden!==void 0&&(n.hidden=Gv(n.hidden,a)),n.modifiers)){const lt={};Object.keys(n.modifiers).forEach(Mt=>{lt[Mt]=Gv(n.modifiers?.[Mt],a)}),n.modifiers=lt}const{components:r,formatters:s,labels:l,dateLib:c,locale:d,classNames:m}=x.useMemo(()=>{const lt={...k4,...n.locale};return{dateLib:new pr({locale:lt,weekStartsOn:n.broadcastCalendar?1:n.weekStartsOn,firstWeekContainsDate:n.firstWeekContainsDate,useAdditionalWeekYearTokens:n.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:n.useAdditionalDayOfYearTokens,timeZone:n.timeZone,numerals:n.numerals},n.dateLib),components:toe(n.components),formatters:moe(n.formatters),labels:{...Doe,...n.labels},locale:lt,classNames:{...aoe(),...n.classNames}}},[n.locale,n.broadcastCalendar,n.weekStartsOn,n.firstWeekContainsDate,n.useAdditionalWeekYearTokens,n.useAdditionalDayOfYearTokens,n.timeZone,n.numerals,n.dateLib,n.components,n.formatters,n.labels,n.classNames]);n.today||(n={...n,today:c.today()});const{captionLayout:f,mode:h,navLayout:g,numberOfMonths:y=1,onDayBlur:v,onDayClick:j,onDayFocus:b,onDayKeyDown:w,onDayMouseEnter:M,onDayMouseLeave:S,onNextClick:A,onPrevClick:E,showWeekNumber:D,styles:P}=n,{formatCaption:T,formatDay:O,formatMonthDropdown:k,formatWeekNumber:B,formatWeekNumberHeader:I,formatWeekdayName:z,formatYearDropdown:J}=s,L=Foe(n,c),{days:G,months:W,navStart:R,navEnd:F,previousMonth:q,nextMonth:Y,goToMonth:ae}=L,je=Jle(G,n,R,F,c),{isSelected:V,select:fe,selected:Ne}=Xoe(n,c)??{},{blur:se,focused:Se,isFocusTarget:Ae,moveFocus:ne,setFocused:Me}=Uoe(n,L,je,V??(()=>!1),c),{labelDayButton:De,labelGridcell:pe,labelGrid:it,labelMonthDropdown:Le,labelNav:ke,labelPrevious:Ie,labelNext:Zt,labelWeekday:Ye,labelWeekNumber:jt,labelWeekNumberHeader:X,labelYearDropdown:re}=l,ue=x.useMemo(()=>poe(c,n.ISOWeek,n.broadcastCalendar,n.today),[c,n.ISOWeek,n.broadcastCalendar,n.today]),Re=h!==void 0||j!==void 0,ye=x.useCallback(()=>{q&&(ae(q),E?.(q))},[q,ae,E]),we=x.useCallback(()=>{Y&&(ae(Y),A?.(Y))},[ae,Y,A]),Ee=x.useCallback((lt,Mt)=>tt=>{tt.preventDefault(),tt.stopPropagation(),Me(lt),fe?.(lt.date,Mt,tt),j?.(lt.date,Mt,tt)},[fe,j,Me]),Ze=x.useCallback((lt,Mt)=>tt=>{Me(lt),b?.(lt.date,Mt,tt)},[b,Me]),et=x.useCallback((lt,Mt)=>tt=>{se(),v?.(lt.date,Mt,tt)},[se,v]),sn=x.useCallback((lt,Mt)=>tt=>{const Nt={ArrowLeft:[tt.shiftKey?"month":"day",n.dir==="rtl"?"after":"before"],ArrowRight:[tt.shiftKey?"month":"day",n.dir==="rtl"?"before":"after"],ArrowDown:[tt.shiftKey?"year":"week","after"],ArrowUp:[tt.shiftKey?"year":"week","before"],PageUp:[tt.shiftKey?"year":"month","before"],PageDown:[tt.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Nt[tt.key]){tt.preventDefault(),tt.stopPropagation();const[Tn,dt]=Nt[tt.key];ne(Tn,dt)}w?.(lt.date,Mt,tt)},[ne,w,n.dir]),la=x.useCallback((lt,Mt)=>tt=>{M?.(lt.date,Mt,tt)},[M]),ln=x.useCallback((lt,Mt)=>tt=>{S?.(lt.date,Mt,tt)},[S]),mn=x.useCallback(lt=>Mt=>{const tt=Number(Mt.target.value),Nt=c.setMonth(c.startOfMonth(lt),tt);ae(Nt)},[c,ae]),Vt=x.useCallback(lt=>Mt=>{const tt=Number(Mt.target.value),Nt=c.setYear(c.startOfMonth(lt),tt);ae(Nt)},[c,ae]),{className:fn,style:Ca}=x.useMemo(()=>({className:[m[We.Root],n.className].filter(Boolean).join(" "),style:{...P?.[We.Root],...n.style}}),[m,n.className,n.style,P]),_n=noe(n),zi=x.useRef(null);koe(zi,!!n.animate,{classNames:m,months:W,focused:Se,dateLib:c});const Bi={dayPickerProps:n,selected:Ne,select:fe,isSelected:V,months:W,nextMonth:Y,previousMonth:q,goToMonth:ae,getModifiers:je,components:r,classNames:m,styles:P,labels:l,formatters:s};return Oe.createElement(O6.Provider,{value:Bi},Oe.createElement(r.Root,{rootRef:n.animate?zi:void 0,className:fn,style:Ca,dir:n.dir,id:n.id,lang:n.lang,nonce:n.nonce,title:n.title,role:n.role,"aria-label":n["aria-label"],"aria-labelledby":n["aria-labelledby"],..._n},Oe.createElement(r.Months,{className:m[We.Months],style:P?.[We.Months]},!n.hideNavigation&&!g&&Oe.createElement(r.Nav,{"data-animated-nav":n.animate?"true":void 0,className:m[We.Nav],style:P?.[We.Nav],"aria-label":ke(),onPreviousClick:ye,onNextClick:we,previousMonth:q,nextMonth:Y}),W.map((lt,Mt)=>Oe.createElement(r.Month,{"data-animated-month":n.animate?"true":void 0,className:m[We.Month],style:P?.[We.Month],key:Mt,displayIndex:Mt,calendarMonth:lt},g==="around"&&!n.hideNavigation&&Mt===0&&Oe.createElement(r.PreviousMonthButton,{type:"button",className:m[We.PreviousMonthButton],tabIndex:q?void 0:-1,"aria-disabled":q?void 0:!0,"aria-label":Ie(q),onClick:ye,"data-animated-button":n.animate?"true":void 0},Oe.createElement(r.Chevron,{disabled:q?void 0:!0,className:m[We.Chevron],orientation:n.dir==="rtl"?"right":"left"})),Oe.createElement(r.MonthCaption,{"data-animated-caption":n.animate?"true":void 0,className:m[We.MonthCaption],style:P?.[We.MonthCaption],calendarMonth:lt,displayIndex:Mt},f?.startsWith("dropdown")?Oe.createElement(r.DropdownNav,{className:m[We.Dropdowns],style:P?.[We.Dropdowns]},(()=>{const tt=f==="dropdown"||f==="dropdown-months"?Oe.createElement(r.MonthsDropdown,{key:"month",className:m[We.MonthsDropdown],"aria-label":Le(),classNames:m,components:r,disabled:!!n.disableNavigation,onChange:mn(lt.date),options:foe(lt.date,R,F,s,c),style:P?.[We.Dropdown],value:c.getMonth(lt.date)}):Oe.createElement("span",{key:"month"},k(lt.date,c)),Nt=f==="dropdown"||f==="dropdown-years"?Oe.createElement(r.YearsDropdown,{key:"year",className:m[We.YearsDropdown],"aria-label":re(c.options),classNames:m,components:r,disabled:!!n.disableNavigation,onChange:Vt(lt.date),options:xoe(R,F,s,c,!!n.reverseYears),style:P?.[We.Dropdown],value:c.getYear(lt.date)}):Oe.createElement("span",{key:"year"},J(lt.date,c));return c.getMonthYearOrder()==="year-first"?[Nt,tt]:[tt,Nt]})(),Oe.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},T(lt.date,c.options,c))):Oe.createElement(r.CaptionLabel,{className:m[We.CaptionLabel],role:"status","aria-live":"polite"},T(lt.date,c.options,c))),g==="around"&&!n.hideNavigation&&Mt===y-1&&Oe.createElement(r.NextMonthButton,{type:"button",className:m[We.NextMonthButton],tabIndex:Y?void 0:-1,"aria-disabled":Y?void 0:!0,"aria-label":Zt(Y),onClick:we,"data-animated-button":n.animate?"true":void 0},Oe.createElement(r.Chevron,{disabled:Y?void 0:!0,className:m[We.Chevron],orientation:n.dir==="rtl"?"left":"right"})),Mt===y-1&&g==="after"&&!n.hideNavigation&&Oe.createElement(r.Nav,{"data-animated-nav":n.animate?"true":void 0,className:m[We.Nav],style:P?.[We.Nav],"aria-label":ke(),onPreviousClick:ye,onNextClick:we,previousMonth:q,nextMonth:Y}),Oe.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":h==="multiple"||h==="range","aria-label":it(lt.date,c.options,c)||void 0,className:m[We.MonthGrid],style:P?.[We.MonthGrid]},!n.hideWeekdays&&Oe.createElement(r.Weekdays,{"data-animated-weekdays":n.animate?"true":void 0,className:m[We.Weekdays],style:P?.[We.Weekdays]},D&&Oe.createElement(r.WeekNumberHeader,{"aria-label":X(c.options),className:m[We.WeekNumberHeader],style:P?.[We.WeekNumberHeader],scope:"col"},I()),ue.map(tt=>Oe.createElement(r.Weekday,{"aria-label":Ye(tt,c.options,c),className:m[We.Weekday],key:String(tt),style:P?.[We.Weekday],scope:"col"},z(tt,c.options,c)))),Oe.createElement(r.Weeks,{"data-animated-weeks":n.animate?"true":void 0,className:m[We.Weeks],style:P?.[We.Weeks]},lt.weeks.map(tt=>Oe.createElement(r.Week,{className:m[We.Week],key:tt.weekNumber,style:P?.[We.Week],week:tt},D&&Oe.createElement(r.WeekNumber,{week:tt,style:P?.[We.WeekNumber],"aria-label":jt(tt.weekNumber,{locale:d}),className:m[We.WeekNumber],scope:"row",role:"rowheader"},B(tt.weekNumber,c)),tt.days.map(Nt=>{const{date:Tn}=Nt,dt=je(Nt);if(dt[bn.focused]=!dt.hidden&&!!Se?.isEqualTo(Nt),dt[es.selected]=V?.(Tn)||dt.selected,kx(Ne)){const{from:Ts,to:Ga}=Ne;dt[es.range_start]=!!(Ts&&Ga&&c.isSameDay(Tn,Ts)),dt[es.range_end]=!!(Ts&&Ga&&c.isSameDay(Tn,Ga)),dt[es.range_middle]=mi(Ne,Tn,!0,c)}const _s=hoe(dt,P,n.modifiersStyles),id=eoe(dt,m,n.modifiersClassNames),Do=!Re&&!dt.hidden?pe(Tn,dt,c.options,c):void 0;return Oe.createElement(r.Day,{key:`${Nt.isoDate}_${Nt.displayMonthId}`,day:Nt,modifiers:dt,className:id.join(" "),style:_s,role:"gridcell","aria-selected":dt.selected||void 0,"aria-label":Do,"data-day":Nt.isoDate,"data-month":Nt.outside?Nt.dateMonthId:void 0,"data-selected":dt.selected||void 0,"data-disabled":dt.disabled||void 0,"data-hidden":dt.hidden||void 0,"data-outside":Nt.outside||void 0,"data-focused":dt.focused||void 0,"data-today":dt.today||void 0},!dt.hidden&&Re?Oe.createElement(r.DayButton,{className:m[We.DayButton],style:P?.[We.DayButton],type:"button",day:Nt,modifiers:dt,disabled:!dt.focused&&dt.disabled||void 0,"aria-disabled":dt.focused&&dt.disabled||void 0,tabIndex:Ae(Nt)?0:-1,"aria-label":De(Tn,dt,c.options,c),onClick:Ee(Nt,dt),onBlur:et(Nt,dt),onFocus:Ze(Nt,dt),onKeyDown:sn(Nt,dt),onMouseEnter:la(Nt,dt),onMouseLeave:ln(Nt,dt)},O(Tn,c.options,c)):!dt.hidden&&O(Nt.date,c.options,c))})))))))),n.footer&&Oe.createElement(r.Footer,{className:m[We.Footer],style:P?.[We.Footer],role:"status","aria-live":"polite"},n.footer)))}function Joe(){const e=at(k=>k.user),{employees:n,attendance:a,attendanceCorrections:r,submitAttendanceCorrection:s}=ve(),c=x.useMemo(()=>n.find(k=>k.id===e?.id||k.email===e?.email),[n,e])?.id||e?.id,[d,m]=x.useState(new Date),[f,h]=x.useState(new Date),[g,y]=x.useState(!1),[v,j]=x.useState({date:"",currentStatus:"",requestedStatus:"",reason:"",documents:[]}),b=x.useMemo(()=>a.filter(k=>k.employeeId===c),[a,c]),w=x.useMemo(()=>b.find(k=>k.date===U(d,"yyyy-MM-dd")),[b,d]),M=x.useMemo(()=>{const k=qa(f),B=Ha(f),I=b.filter(z=>{const J=me(z.date);return ws(J,{start:k,end:B})});return{present:I.filter(z=>z.status==="Present").length,late:I.filter(z=>z.status==="Late").length,absent:I.filter(z=>z.status==="Absent").length,total:I.length,avgHours:I.reduce((z,J)=>z+(J.workHours||0),0)/(I.length||1)}},[b,f]),S=x.useMemo(()=>({present:b.filter(k=>k.status==="Present").map(k=>me(k.date)),late:b.filter(k=>k.status==="Late").map(k=>me(k.date)),absent:b.filter(k=>k.status==="Absent").map(k=>me(k.date))}),[b]),A=k=>k==="Present"?"success":k==="Late"?"warning":k==="Absent"?"error":"default",E=x.useMemo(()=>{const k=[];for(let B=0;B<6;B++){const I=po(new Date,B),z=qa(I),J=Ha(I),L=b.filter(G=>{const W=me(G.date);return ws(W,{start:z,end:J})});k.push({month:U(I,"MMM yyyy"),present:L.filter(G=>G.status==="Present").length,late:L.filter(G=>G.status==="Late").length,absent:L.filter(G=>G.status==="Absent").length,total:L.length})}return k},[b]),D=x.useMemo(()=>r.filter(k=>k.employeeId===c),[r,c]),P=(k,B)=>{j({date:"",currentStatus:"",requestedStatus:"",reason:"",documents:[]}),y(!0)},T=()=>{if(!v.date||!v.requestedStatus||!v.reason){alert("Please fill all required fields");return}const k=b.find(B=>B.date===v.date);s(c,{originalAttendance:{date:v.date,status:v.currentStatus||"Absent",clockIn:k?.clockIn||null,clockOut:k?.clockOut||null},requestedChange:{status:v.requestedStatus,reason:v.reason},documents:v.documents}),y(!1),j({date:"",currentStatus:"",requestedStatus:"",reason:"",documents:[]})},O=k=>k==="Approved"?"success":k==="Rejected"?"error":"warning";return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Attendance"}),t.jsx("p",{className:"text-gray-600",children:"Track your clock-in, clock-out times and attendance history"})]}),t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[t.jsx(Et,{title:"Present Days",value:M.present,subtitle:U(f,"MMMM yyyy"),icon:Be,color:"success"}),t.jsx(Et,{title:"Late Arrivals",value:M.late,subtitle:"This month",icon:sa,color:"warning"}),t.jsx(Et,{title:"Absent Days",value:M.absent,subtitle:"This month",icon:zt,color:"error"}),t.jsx(Et,{title:"Avg. Work Hours",value:M.avgHours.toFixed(1),subtitle:"Hours per day",icon:Ue,color:"primary"})]}),t.jsxs(ha,{defaultValue:"calendar",children:[t.jsxs(pa,{children:[t.jsx(Ve,{value:"calendar",children:"Calendar View"}),t.jsx(Ve,{value:"history",children:"History"}),t.jsx(Ve,{value:"monthly",children:"Monthly Report"}),t.jsxs(Ve,{value:"corrections",children:["Corrections ",D.length>0&&`(${D.length})`]})]}),t.jsx(bt,{value:"calendar",children:t.jsx(H,{children:t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(Qoe,{mode:"single",selected:d,onSelect:k=>k&&m(k),month:f,onMonthChange:h,modifiers:{present:S.present,late:S.late,absent:S.absent},modifiersClassNames:{present:"bg-green-100 text-green-800 font-semibold",late:"bg-yellow-100 text-yellow-800 font-semibold",absent:"bg-red-100 text-red-800 font-semibold"},className:"border rounded-xl p-4 mx-auto"}),t.jsxs("div",{className:"flex items-center justify-center gap-4 mt-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),t.jsx("span",{className:"text-gray-600",children:"Present"})]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),t.jsx("span",{className:"text-gray-600",children:"Late"})]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),t.jsx("span",{className:"text-gray-600",children:"Absent"})]})]})]}),t.jsx("div",{children:t.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(nt,{className:"w-5 h-5 text-gray-500"}),t.jsx("h3",{className:"font-semibold text-gray-900",children:U(d,"EEEE, MMMM d, yyyy")})]}),w?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Status"}),t.jsx(le,{variant:A(w.status),size:"lg",children:w.status})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-lg p-4 text-center border",children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Clock In"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:w.clockIn||"--:--"})]}),t.jsxs("div",{className:"bg-white rounded-lg p-4 text-center border",children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Clock Out"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:w.clockOut||"--:--"})]})]}),w.workHours>0&&t.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Total Work Hours"}),t.jsxs("p",{className:"text-xl font-bold text-gray-900 mt-1",children:[w.workHours.toFixed(1)," hours"]})]}),w.status==="Late"&&t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(sa,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-yellow-800",children:"Late Arrival"}),t.jsx("p",{className:"text-sm text-yellow-700",children:"Office hours start at 09:00. A deduction may apply."})]})]})})]}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(nt,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500",children:"No attendance record for this date"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Weekend or holiday"})]})]})})]})})}),t.jsx(bt,{value:"history",children:t.jsx(H,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Date"}),t.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Day"}),t.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Clock In"}),t.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Clock Out"}),t.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Work Hours"}),t.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Status"})]})}),t.jsx("tbody",{children:b.slice(0,30).map(k=>t.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[t.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:U(me(k.date),"MMM d, yyyy")}),t.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:U(me(k.date),"EEEE")}),t.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:k.clockIn||"--"}),t.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:k.clockOut||"--"}),t.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:k.workHours?`${k.workHours.toFixed(1)}h`:"--"}),t.jsx("td",{className:"py-3 px-4",children:t.jsx(le,{variant:A(k.status),children:k.status})})]},k.id))})]})})})}),t.jsx(bt,{value:"monthly",children:t.jsx(H,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Month"}),t.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Present"}),t.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Late"}),t.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Absent"}),t.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Total Days"}),t.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Attendance %"})]})}),t.jsx("tbody",{children:E.map(k=>{const B=k.total>0?Math.round((k.present+k.late)/k.total*100):0;return t.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[t.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:k.month}),t.jsx("td",{className:"py-3 px-4 text-center",children:t.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-green-100 text-green-800 font-semibold text-sm",children:k.present})}),t.jsx("td",{className:"py-3 px-4 text-center",children:t.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-yellow-100 text-yellow-800 font-semibold text-sm",children:k.late})}),t.jsx("td",{className:"py-3 px-4 text-center",children:t.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-red-100 text-red-800 font-semibold text-sm",children:k.absent})}),t.jsx("td",{className:"py-3 px-4 text-center text-sm text-gray-900",children:k.total}),t.jsx("td",{className:"py-3 px-4 text-center",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full ${B>=90?"bg-green-500":B>=75?"bg-yellow-500":"bg-red-500"}`,style:{width:`${B}%`}})}),t.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[B,"%"]})]})})]},k.month)})})]})})})}),t.jsx(bt,{value:"corrections",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(H,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Attendance Correction Requests"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Submit a request to correct your attendance records"})]}),t.jsx(Z,{onClick:()=>P(),icon:yi,variant:"primary",children:"Request Correction"})]})}),D.length===0?t.jsx(H,{children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx(gt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Correction Requests"}),t.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't submitted any attendance correction requests yet."}),t.jsx(Z,{onClick:()=>P(),icon:yi,variant:"primary",children:"Submit Your First Request"})]})}):t.jsx("div",{className:"space-y-4",children:D.sort((k,B)=>new Date(B.submittedOn)-new Date(k.submittedOn)).map(k=>t.jsx(H,{className:"hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(nt,{className:"w-5 h-5 text-gray-400"}),t.jsx("span",{className:"font-semibold text-gray-900",children:U(me(k.originalAttendance.date),"MMMM d, yyyy")}),t.jsx(le,{variant:O(k.status),size:"sm",children:k.status})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mt-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Original Status:"}),t.jsx(le,{variant:A(k.originalAttendance.status),children:k.originalAttendance.status})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Requested Status:"}),t.jsx(le,{variant:A(k.requestedChange.status),children:k.requestedChange.status})]})]}),t.jsxs("div",{className:"mt-3 bg-gray-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Reason"}),t.jsx("p",{className:"text-sm text-gray-700",children:k.requestedChange.reason})]}),k.documents&&k.documents.length>0&&t.jsxs("div",{className:"mt-3",children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-2",children:"Supporting Documents"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:k.documents.map((B,I)=>t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:[t.jsx(gt,{className:"w-3 h-3"}),B.name||`Document ${I+1}`]},I))})]}),k.notes&&t.jsxs("div",{className:"mt-3 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-yellow-800 uppercase tracking-wide mb-1",children:"HR Notes"}),t.jsx("p",{className:"text-sm text-yellow-700",children:k.notes})]})]}),t.jsxs("div",{className:"text-right text-xs text-gray-500",children:[t.jsx("p",{children:"Submitted"}),t.jsx("p",{className:"font-medium text-gray-700",children:U(me(k.submittedOn),"MMM d, yyyy")})]})]})},k.id))})]})})]}),t.jsx(ft,{isOpen:g,onClose:()=>y(!1),title:"Request Attendance Correction",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",value:v.date,onChange:k=>j({...v,date:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",max:U(new Date,"yyyy-MM-dd")})]}),v.date&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Status"}),t.jsx("div",{className:"px-3 py-2 bg-gray-50 rounded-lg",children:v.currentStatus?t.jsx(le,{variant:A(v.currentStatus),children:v.currentStatus}):t.jsx("span",{className:"text-sm text-gray-500",children:"No record found (Absent or Weekend)"})})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Requested Status ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:v.requestedStatus,onChange:k=>j({...v,requestedStatus:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Select Status"}),t.jsx("option",{value:"Present",children:"Present"}),t.jsx("option",{value:"Late",children:"Late"}),t.jsx("option",{value:"Absent",children:"Absent"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Reason for Correction ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:v.reason,onChange:k=>j({...v,reason:k.target.value}),rows:4,placeholder:"Explain why this correction is needed (e.g., forgot to clock in, system error, etc.)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supporting Documents (Optional)"}),t.jsx(ro,{onUpload:k=>j({...v,documents:k.map(B=>({name:B.name,file:B}))}),accept:".pdf,.jpg,.jpeg,.png",multiple:!0}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload any supporting documents (e.g., screenshots, emails)"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx(Z,{variant:"outline",onClick:()=>y(!1),className:"flex-1",children:"Cancel"}),t.jsx(Z,{variant:"primary",onClick:T,className:"flex-1",children:"Submit Request"})]})]})})]})}function ece(){const e=at(se=>se.user),{employees:n,leaves:a,addLeave:r,getLeaveRecommendations:s}=ve(),l=x.useMemo(()=>n.find(se=>se.id===e?.id||se.email===e?.email),[n,e]),c=l?.id||e?.id,[d,m]=x.useState(!1),[f,h]=x.useState(null),[g,y]=x.useState([]),[v,j]=x.useState(null),{register:b,handleSubmit:w,watch:M,reset:S,formState:{errors:A,isSubmitting:E}}=qc({defaultValues:{type:"annual",startDate:U(gs(new Date,1),"yyyy-MM-dd"),endDate:U(gs(new Date,1),"yyyy-MM-dd"),reason:"",expectedDeliveryDate:""}}),D=M("startDate"),P=M("endDate"),T=M("type"),O=T==="medical"||T==="study",k=T==="medical"?"Medical Documents":T==="study"?"Study Documents":"Supporting Documents (optional)",B=T==="medical"?"Upload medical certificates, prescriptions, or doctor's reports (PDF, DOC, DOCX, JPG)":T==="study"?"Upload course details, admission letters, or study plans (PDF, DOC, DOCX, JPG)":"Upload any supporting documents if applicable (PDF, DOC, DOCX, JPG)",I=x.useMemo(()=>{if(!D||!P)return 0;const se=rs(me(P),me(D))+1;return se>0?se:0},[D,P]),z=se=>{const Se=si.find(ne=>ne.id===se),Ae=Se?.days??Se?.defaultDays??0;return l?.leaveBalance?.[se]??Ae},J=x.useMemo(()=>{const se={};return si.forEach(Se=>{se[Se.id]=z(Se.id)}),se},[l]),L=x.useMemo(()=>{const se=z(T);return I<=se},[T,I,z]),G=x.useMemo(()=>j8(l),[l]),W=G.eligible,R=x.useMemo(()=>!D||!P?null:s({employeeId:c,type:T,startDate:D,endDate:P,days:I}),[D,P,T,I,c,s]),F=x.useMemo(()=>a.filter(se=>se.employeeId===c).sort((se,Se)=>me(Se.appliedOn)-me(se.appliedOn)),[a,c]),q=F.filter(se=>se.status==="Pending"),Y=F.filter(se=>se.status==="Approved"),ae=F.filter(se=>se.status==="Rejected"),je=se=>{const Se=se?.file?URL.createObjectURL(se.file):se?.fileUrl||se?.url;if(!Se)return;const Ae=document.createElement("a");Ae.href=Se,Ae.download=se?.name||"document",document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae),se?.file&&URL.revokeObjectURL(Se)},V=se=>{if(se.type==="maternity"){if(!W){alert(`Maternity Leave Eligibility Issue:

${G.reason}`);return}if(!se.expectedDeliveryDate){alert("Please enter your expected delivery date");return}const ne=N8(se.expectedDeliveryDate,U(new Date,"yyyy-MM-dd"));if(!ne.valid){alert(`Maternity Leave - Advance Notice Requirement:

${ne.reason}`);return}}if((se.type==="medical"||se.type==="study")&&g.length===0){alert(`Please upload supporting documents for ${se.type} leave`);return}const Se=se.type==="medical",Ae={id:`l-${Date.now()}`,employeeId:c,employeeName:l?.name||e?.name,department:l?.department||e?.department,faculty:l?.faculty||e?.faculty,type:se.type,startDate:se.startDate,endDate:se.endDate,days:I,reason:se.reason,documents:g,leaveCategory:v,status:"Pending",appliedOn:U(new Date,"yyyy-MM-dd"),approvalChain:Se?[{role:"hod",status:"pending",by:null,date:null,comment:null},{role:"vc",status:"pending",by:null,date:null,comment:null},{role:"president",status:"pending",by:null,date:null,comment:null}]:[{role:"hod",status:"pending",by:null,date:null,comment:null},{role:"dean",status:"pending",by:null,date:null,comment:null},{role:"hr",status:"pending",by:null,date:null,comment:null}],paidDays:null,unpaidDays:null};r(Ae),O8({employeeName:l?.name||e?.name,leaveType:se.type,startDate:se.startDate,endDate:se.endDate,days:I,reason:se.reason,status:"Pending"},e?.email),S(),y([]),j(null),m(!1)},fe=se=>se==="Approved"?"success":se==="Pending"?"warning":se==="Rejected"?"error":"info",Ne=se=>si.find(Se=>Se.id===se)?.name||se;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Leave Management"}),t.jsx("p",{className:"text-gray-600",children:"Apply for leave and track your requests"})]}),t.jsxs(Z,{onClick:()=>m(!0),className:"gap-2",children:[t.jsx(yi,{className:"w-5 h-5"}),"Apply for Leave"]})]}),t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[si.map(se=>{const Se=J[se.id],Ae=se.days??se.defaultDays??Se??0;return t.jsxs(H,{className:"relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 -mr-8 -mt-8",children:t.jsx("div",{className:`w-full h-full rounded-full opacity-10 ${se.id==="annual"?"bg-blue-500":se.id==="sick"?"bg-red-500":"bg-green-500"}`})}),t.jsxs("div",{className:"relative",children:[t.jsx("p",{className:"text-sm font-medium text-gray-500 capitalize",children:se.name}),t.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:Se}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["of ",Ae," days remaining"]}),t.jsx("div",{className:"mt-3 h-2 bg-gray-100 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full transition-all ${Se>Ae*.5?"bg-green-500":Se>Ae*.2?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Se/Ae*100}%`}})})]})]},se.id)}),t.jsx(H,{className:"bg-gray-50 border-dashed border-2",children:t.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-2",children:[t.jsx(gt,{className:"w-8 h-8 text-gray-400 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Requests"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.length})]})})]}),t.jsxs(ha,{defaultValue:"all",children:[t.jsxs(pa,{children:[t.jsxs(Ve,{value:"all",children:["All Requests (",F.length,")"]}),t.jsxs(Ve,{value:"pending",children:["Pending (",q.length,")"]}),t.jsxs(Ve,{value:"approved",children:["Approved (",Y.length,")"]}),t.jsxs(Ve,{value:"rejected",children:["Rejected (",ae.length,")"]})]}),["all","pending","approved","rejected"].map(se=>{const Se=se==="all"?F:se==="pending"?q:se==="approved"?Y:ae;return t.jsx(bt,{value:se,children:t.jsx(H,{children:Se.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(gt,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),t.jsxs("p",{className:"text-gray-500",children:["No ",se==="all"?"":se," leave requests"]})]}):t.jsx("div",{className:"space-y-4",children:Se.map(Ae=>t.jsxs("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>h(Ae),children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:Ne(Ae.type)}),t.jsx(le,{variant:fe(Ae.status),children:Ae.status})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-gray-600",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(nt,{className:"w-4 h-4"}),U(me(Ae.startDate),"MMM d")," -"," ",U(me(Ae.endDate),"MMM d, yyyy")]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Ue,{className:"w-4 h-4"}),Ae.days," day",Ae.days>1?"s":""]})]}),t.jsx("p",{className:"text-sm text-gray-500 mt-2 line-clamp-1",children:Ae.reason})]}),t.jsxs("div",{className:"text-sm text-gray-500",children:["Applied ",U(me(Ae.appliedOn),"MMM d, yyyy")]})]}),Ae.approvalChain&&t.jsxs("div",{className:"mt-4 pt-4 border-t",children:[t.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase mb-2",children:"Approval Status"}),t.jsx("div",{className:"flex items-center gap-2",children:Ae.approvalChain.map((ne,Me)=>t.jsxs("div",{className:"flex items-center",children:[t.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-full text-xs font-medium ${ne.status==="approved"?"bg-green-100 text-green-800":ne.status==="rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-600"}`,children:[ne.status==="approved"?t.jsx(Be,{className:"w-3.5 h-3.5"}):ne.status==="rejected"?t.jsx(zt,{className:"w-3.5 h-3.5"}):t.jsx(Ue,{className:"w-3.5 h-3.5"}),t.jsx("span",{className:"uppercase",children:ne.role})]}),Me<Ae.approvalChain.length-1&&t.jsx("div",{className:"w-4 h-0.5 bg-gray-200 mx-1"})]},Me))})]})]},Ae.id))})})},se)})]}),t.jsx(ft,{isOpen:d,onClose:()=>{m(!1),y([]),j(null)},title:"Apply for Leave",size:"lg",children:t.jsxs("form",{onSubmit:w(V),className:"space-y-4",children:[T==="maternity"&&!W&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex gap-3",children:[t.jsx(sa,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-red-900",children:"Not Eligible for Maternity Leave"}),t.jsx("p",{className:"text-sm text-red-700 mt-1",children:G.reason})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Leave Type ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{...b("type",{required:"Please select a leave type"}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[t.jsx("optgroup",{label:"Regular Leaves",children:si.map(se=>{const Se=se.id==="maternity",Ae=Se&&l?.gender?.toLowerCase()!=="female",ne=Se&&!W;return Ae?null:t.jsxs("option",{value:se.id,disabled:ne,children:[se.name," (",J[se.id]||0," days available)",ne?" - Not eligible":""]},se.id)})}),t.jsx("optgroup",{label:"Special Leaves",children:A8.map(se=>t.jsxs("option",{value:se.id,children:[se.name," (",se.days," days)"]},se.id))})]}),A.type&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:A.type.message})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Date ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",...b("startDate",{required:"Start date is required"}),min:U(new Date,"yyyy-MM-dd"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),A.startDate&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:A.startDate.message})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["End Date ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",...b("endDate",{required:"End date is required"}),min:D||U(new Date,"yyyy-MM-dd"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),A.endDate&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:A.endDate.message})]})]}),I>0&&t.jsxs("div",{className:`p-3 rounded-lg ${L?"bg-blue-50":"bg-red-50"}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:`text-sm ${L?"text-blue-700":"text-red-700"}`,children:"Total Duration"}),t.jsxs("span",{className:`font-semibold ${L?"text-blue-900":"text-red-900"}`,children:[I," day",I>1?"s":""]})]}),!L&&t.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm text-red-600",children:[t.jsx(sa,{className:"w-4 h-4"}),"Insufficient leave balance"]})]}),R&&t.jsxs("div",{className:`p-3 rounded-lg border flex gap-3 ${R.recommended?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[t.jsx(fu,{className:`w-5 h-5 shrink-0 mt-0.5 ${R.recommended?"text-green-600":"text-yellow-600"}`}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:R.recommendation}),R.details&&R.details.length>0&&t.jsx("ul",{className:"text-xs text-gray-600 mt-2 space-y-1",children:R.details.map((se,Se)=>t.jsxs("li",{className:"flex items-start gap-1",children:[t.jsx("span",{className:"shrink-0",children:""}),t.jsx("span",{children:se})]},Se))})]})]}),T==="medical"&&t.jsxs("div",{className:"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex gap-3",children:[t.jsx(fu,{className:"w-5 h-5 text-blue-600 shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-blue-900",children:"Medical Leave Requirements"}),t.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Upload supporting medical documents; HR will review and categorize this as medical or unpaid leave."})]})]}),t.jsx(st,{label:"Requested Leave Category",children:t.jsxs("select",{value:v||"",onChange:se=>j(se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Select category (HR will finalize)"}),t.jsx("option",{value:"medical",children:"Medical Leave"}),t.jsx("option",{value:"unpaid",children:"Unpaid Leave"})]})})]}),T==="study"&&t.jsx("div",{className:"space-y-4 bg-green-50 border border-green-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx(fu,{className:"w-5 h-5 text-green-600 shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-green-900",children:"Study Leave Documentation"}),t.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Upload supporting documents such as course enrollment letters, admission documents, or study plans. Documents are required for study leave."})]})]})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ro,{value:g,onChange:y,label:k,required:O,helper:O?`${B} (required for ${T} leave)`:`${B}`,allowedTypes:["pdf","doc","docx","jpg","jpeg","png"],maxFiles:5,maxSizeMB:10}),O&&t.jsxs("p",{className:"text-xs text-red-600",children:["Documents are required for ",T," leave."]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Reason ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{...b("reason",{required:"Please provide a reason",minLength:{value:10,message:"Reason must be at least 10 characters"}}),rows:3,placeholder:"Please provide a reason for your leave request...",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),A.reason&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:A.reason.message})]}),T==="maternity"&&t.jsxs("div",{className:"space-y-3 bg-pink-50 border border-pink-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex gap-3",children:[t.jsx(fu,{className:"w-5 h-5 text-pink-600 shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-pink-900",children:"Maternity Leave Information"}),t.jsx("p",{className:"text-sm text-pink-700 mt-1",children:"You are entitled to 30 days of paid maternity leave. Applications must be submitted at least 2 months (60 days) before your expected delivery date."})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Expected Delivery Date ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",...b("expectedDeliveryDate",{required:"Expected delivery date is required for maternity leave"}),min:U(gs(new Date,60),"yyyy-MM-dd"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),A.expectedDeliveryDate&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:A.expectedDeliveryDate.message}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Must be at least 60 days from today (",U(gs(new Date,60),"MMM d, yyyy"),")"]})]})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[t.jsx(Z,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),t.jsx(Z,{type:"submit",disabled:!L||E,children:E?"Submitting...":"Submit Request"})]})]})}),t.jsx(ft,{isOpen:!!f,onClose:()=>h(null),title:"Leave Request Details",children:f&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(le,{variant:fe(f.status),size:"lg",children:f.status})}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Leave Type"}),t.jsx("p",{className:"font-medium",children:Ne(f.type)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Duration"}),t.jsxs("p",{className:"font-medium",children:[f.days," day",f.days>1?"s":""]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"From"}),t.jsx("p",{className:"font-medium",children:U(me(f.startDate),"MMMM d, yyyy")})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"To"}),t.jsx("p",{className:"font-medium",children:U(me(f.endDate),"MMMM d, yyyy")})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase mb-1",children:"Reason"}),t.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:f.reason})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase mb-1",children:"Applied On"}),t.jsx("p",{className:"font-medium",children:U(me(f.appliedOn),"MMMM d, yyyy")})]}),(f.paidDays!==null||f.unpaidDays!==null)&&t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 bg-gray-50 border border-gray-200 rounded-lg p-3",children:[f.paidDays!==null&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Paid Days"}),t.jsx("p",{className:"font-medium text-green-700",children:f.paidDays})]}),f.unpaidDays!==null&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Unpaid Days"}),t.jsx("p",{className:"font-medium text-amber-700",children:f.unpaidDays})]})]}),f.documents&&f.documents.length>0&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-xs text-gray-500 uppercase mb-2 flex items-center gap-2",children:[t.jsx(gt,{className:"w-4 h-4"})," Supporting Documents"]}),t.jsx("div",{className:"space-y-2",children:f.documents.map(se=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[t.jsx(gt,{className:"w-4 h-4 text-gray-400 shrink-0"}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:se.name}),se.size&&t.jsxs("p",{className:"text-xs text-gray-500",children:[(se.size/1024).toFixed(1)," KB"]})]})]}),t.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 transition-colors ml-2",title:"Download document",type:"button",onClick:()=>je(se),children:t.jsx(Gt,{className:"w-4 h-4"})})]},se.id))})]}),f.approvalChain&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase mb-2",children:"Approval Chain"}),t.jsx("div",{className:"space-y-2",children:f.approvalChain.map((se,Se)=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[se.status==="approved"?t.jsx(Be,{className:"w-5 h-5 text-green-500"}):se.status==="rejected"?t.jsx(zt,{className:"w-5 h-5 text-red-500"}):t.jsx(Ue,{className:"w-5 h-5 text-gray-400"}),t.jsx("span",{className:"font-medium uppercase",children:se.role})]}),t.jsx("span",{className:`text-sm capitalize ${se.status==="approved"?"text-green-600":se.status==="rejected"?"text-red-600":"text-gray-500"}`,children:se.status})]},Se))})]}),t.jsx("div",{className:"flex justify-end pt-4 border-t",children:t.jsx(Z,{variant:"outline",onClick:()=>h(null),children:"Close"})})]})})]})}function tce(){const e=at(L=>L.user),{employees:n,attendance:a,payrollRuns:r,payrollSettings:s,computePayrollForEmployee:l}=ve(),c=x.useMemo(()=>n.find(L=>L.id===e?.id||L.email===e?.email),[n,e]),d=c?.id||e?.id,[m,f]=x.useState(new Date),h=m.getMonth()+1,g=m.getFullYear(),y=L=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(L||0),v=x.useMemo(()=>{const L=r.find(W=>W.period?.month===h&&W.period?.year===g&&W.status==="Posted"),G=L?.items?.find(W=>W.employeeId===d);if(G)return{...G,runStatus:L.status};if(l&&d){const W=l(d,h,g);if(W)return{...W,runStatus:"Draft"}}return null},[l,d,r,h,g]),j=x.useMemo(()=>{const L=qa(m),G=Ha(m);return a.filter(W=>{if(W.employeeId!==d)return!1;const R=me(W.date);return ws(R,{start:L,end:G})})},[a,d,m]),b=v?.baseSalary||c?.salaryBase||0;v?.attendance?.present??j.filter(L=>L.status==="Present").length;const w=v?.attendance?.late??j.filter(L=>L.status==="Late").length,M=v?.attendance?.absent??j.filter(L=>L.status==="Absent").length,S=v?.earnings?.house||0,A=v?.earnings?.medical||0,E=v?.earnings?.transport||0,D=S+A+E,P=v?.earnings?.total||b+D,T=v?.deductions?.late||0,O=v?.deductions?.absent||0,k=v?.deductions?.tax||0,B=v?.deductions?.total||T+O+k,I=v?.netPay||P-B,z=x.useMemo(()=>{const L=r.filter(G=>G.status==="Posted").map(G=>{const W=G.items.find(R=>R.employeeId===d);return W?{month:G.period?.label,shortMonth:G.period?.label,gross:W.earnings?.total,deductions:W.deductions?.total,net:W.netPay,status:G.status}:null}).filter(Boolean);return L.length>0?L:Array.from({length:6},(G,W)=>{const R=po(new Date,W),F=qa(R),q=Ha(R),Y=a.filter(Ae=>{if(Ae.employeeId!==d)return!1;const ne=me(Ae.date);return ws(ne,{start:F,end:q})}),ae=Y.filter(Ae=>Ae.status==="Late").length,je=Y.filter(Ae=>Ae.status==="Absent").length,V=ae*(s?.deductionConfig?.latePenalty||0),fe=Math.round(b/(s?.workingDays||22)*je),Ne=b+D>(s?.deductionConfig?.taxThreshold||0)?Math.round((b+D)*((s?.deductionConfig?.taxRate||0)/100)):0,se=b+D,Se=se-(V+fe+Ne);return{month:U(R,"MMMM yyyy"),shortMonth:U(R,"MMM yyyy"),gross:se,deductions:V+fe+Ne,net:Se,status:W===0?"Draft":"Generated"}})},[a,d,b,D,r,s]),J=()=>{window.print()};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Salary & Payslip"}),t.jsx("p",{className:"text-gray-600",children:"View your salary details and download payslips"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(Z,{variant:"outline",onClick:J,className:"gap-2",children:[t.jsx(Z7,{className:"w-5 h-5"}),"Print"]}),t.jsxs(Z,{className:"gap-2",children:[t.jsx(Mu,{className:"w-5 h-5"}),"Download Payslip"]})]})]}),t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[t.jsx(H,{className:"bg-linear-to-br from-green-50 to-green-100 border-green-200",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-800",children:"Net Salary"}),t.jsx("p",{className:"text-2xl font-bold text-green-900 mt-1",children:y(I)}),t.jsx("p",{className:"text-xs text-green-700 mt-1",children:U(m,"MMMM yyyy")})]}),t.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:t.jsx(dr,{className:"w-6 h-6 text-white"})})]})}),t.jsx(H,{className:"bg-linear-to-br from-blue-50 to-blue-100 border-blue-200",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Gross Salary"}),t.jsx("p",{className:"text-2xl font-bold text-blue-900 mt-1",children:y(P)}),t.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Base + Allowances"})]}),t.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:t.jsx(ur,{className:"w-6 h-6 text-white"})})]})}),t.jsx(H,{className:"bg-linear-to-br from-red-50 to-red-100 border-red-200",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-red-800",children:"Total Deductions"}),t.jsx("p",{className:"text-2xl font-bold text-red-900 mt-1",children:y(B)}),t.jsxs("p",{className:"text-xs text-red-700 mt-1",children:[w," late, ",M," absent"]})]}),t.jsx("div",{className:"p-3 bg-red-500 rounded-lg",children:t.jsx(xj,{className:"w-6 h-6 text-white"})})]})}),t.jsx(H,{className:"bg-linear-to-br from-purple-50 to-purple-100 border-purple-200",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Total Allowances"}),t.jsx("p",{className:"text-2xl font-bold text-purple-900 mt-1",children:y(D)}),t.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"Housing, Medical, Transport"})]}),t.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:t.jsx(Ss,{className:"w-6 h-6 text-white"})})]})})]}),t.jsxs(ha,{defaultValue:"payslip",children:[t.jsxs(pa,{children:[t.jsx(Ve,{value:"payslip",children:"Current Payslip"}),t.jsx(Ve,{value:"history",children:"Salary History"}),t.jsx(Ve,{value:"breakdown",children:"Breakdown"})]}),t.jsx(bt,{value:"payslip",children:t.jsxs(H,{className:"print:shadow-none",children:[t.jsx("div",{className:"border-b pb-4 mb-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"CECOS University"}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Pay Slip for ",U(m,"MMMM yyyy")]})]}),t.jsx(le,{variant:z[0]?.status==="Paid"?"success":"warning",children:z[0]?.status})]})}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 pb-4 mb-4 border-b",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Employee Name"}),t.jsx("span",{className:"font-medium",children:c?.name||e?.name})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Employee Code"}),t.jsx("span",{className:"font-medium",children:c?.code||"N/A"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Department"}),t.jsx("span",{className:"font-medium",children:c?.department||e?.department})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Designation"}),t.jsx("span",{className:"font-medium",children:c?.designation||"N/A"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Bank Account"}),t.jsx("span",{className:"font-medium",children:c?.bankAccount||"N/A"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Pay Period"}),t.jsx("span",{className:"font-medium",children:U(m,"MMM yyyy")})]})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Earnings"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between py-2 border-b",children:[t.jsx("span",{className:"text-gray-600",children:"Basic Salary"}),t.jsx("span",{className:"font-medium",children:y(b)})]}),t.jsxs("div",{className:"flex justify-between py-2 border-b",children:[t.jsx("span",{className:"text-gray-600",children:"House Rent Allowance (45%)"}),t.jsx("span",{className:"font-medium",children:y(S)})]}),t.jsxs("div",{className:"flex justify-between py-2 border-b",children:[t.jsx("span",{className:"text-gray-600",children:"Medical Allowance (10%)"}),t.jsx("span",{className:"font-medium",children:y(A)})]}),t.jsxs("div",{className:"flex justify-between py-2 border-b",children:[t.jsx("span",{className:"text-gray-600",children:"Transport Allowance"}),t.jsx("span",{className:"font-medium",children:y(E)})]}),t.jsxs("div",{className:"flex justify-between py-2 font-semibold text-green-600",children:[t.jsx("span",{children:"Total Earnings"}),t.jsx("span",{children:y(P)})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Deductions"}),t.jsxs("div",{className:"space-y-2",children:[T>0&&t.jsxs("div",{className:"flex justify-between py-2 border-b",children:[t.jsxs("span",{className:"text-gray-600",children:["Late Arrival (",w," days  500)"]}),t.jsxs("span",{className:"font-medium text-red-600",children:["-",y(T)]})]}),O>0&&t.jsxs("div",{className:"flex justify-between py-2 border-b",children:[t.jsxs("span",{className:"text-gray-600",children:["Absent Days (",M," days)"]}),t.jsxs("span",{className:"font-medium text-red-600",children:["-",y(O)]})]}),k>0&&t.jsxs("div",{className:"flex justify-between py-2 border-b",children:[t.jsx("span",{className:"text-gray-600",children:"Income Tax (5%)"}),t.jsxs("span",{className:"font-medium text-red-600",children:["-",y(k)]})]}),B===0&&t.jsx("div",{className:"py-4 text-center text-gray-500",children:"No deductions this month"}),t.jsxs("div",{className:"flex justify-between py-2 font-semibold text-red-600",children:[t.jsx("span",{children:"Total Deductions"}),t.jsxs("span",{children:["-",y(B)]})]})]})]})]}),t.jsx("div",{className:"mt-6 pt-4 border-t-2 border-dashed",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"Net Pay"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Amount credited to bank account"})]}),t.jsx("p",{className:"text-3xl font-bold text-green-600",children:y(I)})]})})]})}),t.jsx(bt,{value:"history",children:t.jsx(H,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Month"}),t.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Gross"}),t.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Deductions"}),t.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Net Pay"}),t.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Status"}),t.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Actions"})]})}),t.jsx("tbody",{children:z.map((L,G)=>t.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(nt,{className:"w-5 h-5 text-gray-400"}),t.jsx("span",{className:"font-medium text-gray-900",children:L.month})]})}),t.jsx("td",{className:"py-3 px-4 text-right text-gray-900",children:y(L.gross)}),t.jsxs("td",{className:"py-3 px-4 text-right text-red-600",children:["-",y(L.deductions)]}),t.jsx("td",{className:"py-3 px-4 text-right font-semibold text-green-600",children:y(L.net)}),t.jsx("td",{className:"py-3 px-4 text-center",children:t.jsx(le,{variant:L.status==="Paid"?"success":"warning",children:L.status})}),t.jsx("td",{className:"py-3 px-4 text-right",children:t.jsx(Z,{size:"sm",variant:"ghost",children:t.jsx(Mu,{className:"w-4 h-4"})})})]},G))})]})})})}),t.jsx(bt,{value:"breakdown",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs(H,{children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(Ss,{className:"w-5 h-5 text-green-500"}),"Earnings Breakdown"]}),t.jsx("div",{className:"space-y-4",children:[{label:"Basic Salary",amount:b,percentage:100},{label:"House Rent",amount:S,percentage:45},{label:"Medical",amount:A,percentage:10},{label:"Transport",amount:E,percentage:null}].map((L,G)=>t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"text-gray-600",children:L.label}),t.jsx("span",{className:"font-medium",children:y(L.amount)})]}),t.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${L.amount/P*100}%`}})})]},G))})]}),t.jsxs(H,{children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(Q7,{className:"w-5 h-5 text-red-500"}),"Deductions Breakdown"]}),B>0?t.jsxs("div",{className:"space-y-4",children:[T>0&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"text-gray-600",children:"Late Arrivals"}),t.jsxs("span",{className:"font-medium text-red-600",children:["-",y(T)]})]}),t.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${T/B*100}%`}})})]}),O>0&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"text-gray-600",children:"Absent Days"}),t.jsxs("span",{className:"font-medium text-red-600",children:["-",y(O)]})]}),t.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${O/B*100}%`}})})]}),k>0&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"text-gray-600",children:"Income Tax"}),t.jsxs("span",{className:"font-medium text-red-600",children:["-",y(k)]})]}),t.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${k/B*100}%`}})})]})]}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx(dr,{className:"w-8 h-8 text-green-600"})}),t.jsx("p",{className:"font-medium text-gray-900",children:"No Deductions!"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Perfect attendance this month"})]})]})]})})]})]})}const A4={balance:1e5,years:"",age:"",type:"Refundable",amount:""};function nce({onSubmitRequest:e}){const[n,a]=x.useState(A4),[r,s]=x.useState(""),[l,c]=x.useState(""),d=n.balance*.8,m=n.type==="Non-Refundable";function f(){return+n.years<3?"You must have at least 3 years of service.":m&&+n.age<50?"Non-Refundable loan requires age  50.":+n.amount>d?"Requested amount exceeds 80% of balance.":""}function h(y){const{name:v,value:j}=y.target;a(b=>({...b,[v]:j})),s(""),c("")}function g(y){y.preventDefault();const v=f();if(v)return s(v);c("Request submitted!"),e&&e({...n,requested:+n.amount}),a(A4)}return t.jsxs("div",{className:"max-w-md mx-auto bg-white p-6 rounded shadow",children:[t.jsx("h2",{className:"text-xl font-bold mb-4",children:"Provident Fund Loan/Withdrawal Request"}),t.jsxs("form",{onSubmit:g,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Accumulated Fund Balance"}),t.jsx("input",{type:"number",name:"balance",value:n.balance,disabled:!0,className:"w-full border rounded p-2 bg-gray-100"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Years of Service"}),t.jsx("input",{type:"number",name:"years",value:n.years,onChange:h,className:"w-full border rounded p-2",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Age"}),t.jsx("input",{type:"number",name:"age",value:n.age,onChange:h,className:"w-full border rounded p-2",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Loan Type"}),t.jsxs("select",{name:"type",value:n.type,onChange:h,className:"w-full border rounded p-2",children:[t.jsx("option",{value:"Refundable",children:"Refundable"}),t.jsx("option",{value:"Non-Refundable",children:"Non-Refundable"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Requested Amount"}),t.jsx("input",{type:"number",name:"amount",value:n.amount,onChange:h,className:"w-full border rounded p-2",required:!0}),t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Max eligible: ",d.toLocaleString()]})]}),r&&t.jsx("div",{className:"text-red-600 text-sm",children:r}),l&&t.jsx("div",{className:"text-green-600 text-sm",children:l}),t.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Submit Request"})]})]})}function ace({form:e,setForm:n}){return t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium",children:["Name Of Author ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{className:"w-full border rounded p-2",value:e.author||"",onChange:a=>n(r=>({...r,author:a.target.value})),required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium",children:["Book Title ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{className:"w-full border rounded p-2",value:e.bookTitle||"",onChange:a=>n(r=>({...r,bookTitle:a.target.value})),required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium",children:["Publisher Name Address ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{className:"w-full border rounded p-2",value:e.publisher||"",onChange:a=>n(r=>({...r,publisher:a.target.value})),required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium",children:["Date Of Publish ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",className:"w-full border rounded p-2",value:e.dateOfPublish||"",onChange:a=>n(r=>({...r,dateOfPublish:a.target.value})),required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Written Addition Modification"}),t.jsx("textarea",{className:"w-full border rounded p-2",value:e.addition||"",onChange:a=>n(r=>({...r,addition:a.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Website Link"}),t.jsx("input",{className:"w-full border rounded p-2",value:e.website||"",onChange:a=>n(r=>({...r,website:a.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"ISBN"}),t.jsx("input",{className:"w-full border rounded p-2",value:e.isbn||"",onChange:a=>n(r=>({...r,isbn:a.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Publisher Name Address"}),t.jsx("textarea",{className:"w-full border rounded p-2",value:e.publisher||"",onChange:a=>n(r=>({...r,publisher:a.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Chapter No"}),t.jsx("input",{className:"w-full border rounded p-2",value:e.chapterNo||"",onChange:a=>n(r=>({...r,chapterNo:a.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Chapter Name"}),t.jsx("textarea",{className:"w-full border rounded p-2",value:e.chapterName||"",onChange:a=>n(r=>({...r,chapterName:a.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Chapter Link"}),t.jsx("input",{className:"w-full border rounded p-2",value:e.chapterLink||"",onChange:a=>n(r=>({...r,chapterLink:a.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Date Of Publish"}),t.jsx("input",{type:"date",className:"w-full border rounded p-2",value:e.dateOfPublish||"",onChange:a=>n(r=>({...r,dateOfPublish:a.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Place Of Publish"}),t.jsx("textarea",{className:"w-full border rounded p-2",value:e.placeOfPublish||"",onChange:a=>n(r=>({...r,placeOfPublish:a.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Edition"}),t.jsx("input",{className:"w-full border rounded p-2",value:e.edition||"",onChange:a=>n(r=>({...r,edition:a.target.value}))})]})]})}function rce({form:e,setForm:n}){return t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium",children:["Complete Name of Journal and Address ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{className:"w-full border rounded p-2",value:e.journalAddress||"",onChange:a=>n(r=>({...r,journalAddress:a.target.value})),required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium",children:["Title Of The Publication ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{className:"w-full border rounded p-2",value:e.title||"",onChange:a=>n(r=>({...r,title:a.target.value})),required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium",children:["Date Published ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",className:"w-full border rounded p-2",value:e.datePublished||"",onChange:a=>n(r=>({...r,datePublished:a.target.value})),required:!0})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Vol., Issue Number, & Page Nos."}),t.jsx("textarea",{className:"w-full border rounded p-2",value:e.volume||"",onChange:a=>n(r=>({...r,volume:a.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Date Published"}),t.jsx("input",{type:"date",className:"w-full border rounded p-2",value:e.datePublished||"",onChange:a=>n(r=>({...r,datePublished:a.target.value}))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Journal Category (W.X.Y)"}),t.jsx("input",{className:"w-full border rounded p-2",value:e.journalCategory||"",onChange:a=>n(r=>({...r,journalCategory:a.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Name Of Authors"}),t.jsx("input",{className:"w-full border rounded p-2",value:e.authors||"",onChange:a=>n(r=>({...r,authors:a.target.value}))})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Impact Factor"}),t.jsx("input",{className:"w-full border rounded p-2",value:e.impactFactor||"",onChange:a=>n(r=>({...r,impactFactor:a.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"DOI #"}),t.jsx("input",{className:"w-full border rounded p-2",value:e.doi||"",onChange:a=>n(r=>({...r,doi:a.target.value}))})]})]})]})}function sce({form:e,setForm:n}){return t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium",children:["Name Of Authors ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{className:"w-full border rounded p-2",value:e.authors||"",onChange:a=>n(r=>({...r,authors:a.target.value})),required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium",children:["Title of the Publication ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{className:"w-full border rounded p-2",value:e.title||"",onChange:a=>n(r=>({...r,title:a.target.value})),required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium",children:["Conference Paper Date ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",className:"w-full border rounded p-2",value:e.paperDate||"",onChange:a=>n(r=>({...r,paperDate:a.target.value})),required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Web Link"}),t.jsx("input",{className:"w-full border rounded p-2",value:e.webLink||"",onChange:a=>n(r=>({...r,webLink:a.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Conference Paper Date"}),t.jsx("input",{type:"date",className:"w-full border rounded p-2",value:e.paperDate||"",onChange:a=>n(r=>({...r,paperDate:a.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Funded By"}),t.jsx("textarea",{className:"w-full border rounded p-2",value:e.fundedBy||"",onChange:a=>n(r=>({...r,fundedBy:a.target.value}))})]})]})}function ice(){const e=at(K=>K.user),{employees:n,submitProfileUpdateRequest:a,addEmployeeFYP:r,updateEmployeeFYP:s,deleteEmployeeFYP:l,addEmployeeThesis:c,updateEmployeeThesis:d,deleteEmployeeThesis:m,addEmployeeGrant:f,updateEmployeeGrant:h,deleteEmployeeGrant:g,addEmployeeAdminDuty:y,updateEmployeeAdminDuty:v,deleteEmployeeAdminDuty:j}=ve(),b=x.useMemo(()=>n.find(K=>K.id===e?.id||K.email===e?.email),[n,e]),[w,M]=x.useState(b?.dependents&&b.dependents.length>0?b.dependents:[{name:"Ayesha Khan",relationship:"Daughter",dob:"2015-06-12",cnic:"17301-9876543-2",document:""},{name:"Ali Khan",relationship:"Son",dob:"2018-09-25",cnic:"17301-8765432-1",document:""}]),[S,A]=x.useState(!1),[E,D]=x.useState(null),[P,T]=x.useState({name:"",relationship:"",dob:"",cnic:"",document:""});function O(K){const Te=K.target.files[0];if(Te){const Za=new FileReader;Za.onload=Xn=>{T(vn=>({...vn,document:Xn.target.result}))},Za.readAsDataURL(Te)}}function k(K){if(K.preventDefault(),!b?.id)return;let Te=[...w];E!==null?Te[E]={...P}:Te.push({...P}),M(Te),a(b.id,{dependents:Te},{requestedBy:b?.name||e?.name,notes:"Dependent update"}),A(!1),D(null),T({name:"",relationship:"",dob:"",cnic:"",document:""})}function B(K){if(!b?.id)return;const Te=w.filter((Za,Xn)=>Xn!==K);M(Te),a(b.id,{dependents:Te},{requestedBy:b?.name||e?.name,notes:"Dependent removal"})}const[I,z]=x.useState(b?.publications&&b.publications.length>0?b.publications:[{title:"A Study on React Performance",journal:"International Journal of Web Dev",year:"2024",link:"https://example.com/react-performance",document:""},{title:"Modern HRMS Systems",journal:"HR Tech Review",year:"2023",link:"",document:""}]),[J,L]=x.useState(!1),[G,W]=x.useState(b?.qualifications&&b.qualifications.length>0?b.qualifications:[{degree:"PhD Computer Science",institution:"CECOS University",field:"Software Engineering",year:"2022",document:""},{degree:"MS Information Technology",institution:"FAST NUCES",field:"IT",year:"2019",document:""}]),[R,F]=x.useState(!1),[q,Y]=x.useState(!1),[ae,je]=x.useState(null),[V,fe]=x.useState({period:"",projectTitle:"",studentNames:"",status:"ongoing",numberOfStudents:"",awardLevel:null,technicalPapers:"",productsDevloped:"",prototypeCompleted:"",otherInfo:""}),[Ne,se]=x.useState(!1),[Se,Ae]=x.useState(null),[ne,Me]=x.useState({period:"",level:"MS",thesisTitle:"",studentName:"",status:"ongoing",conferencePapers:"",researchPaperCategory:"",presentStatus:""}),[De,pe]=x.useState(!1),[it,Le]=x.useState(null),[ke,Ie]=x.useState({period:"",grantName:"",fundingAgency:"",amount:"",amountObtained:"",approvedDate:"",outcome:"proposal developed",status:"active",notes:""}),[Zt,Ye]=x.useState(!1),[jt,X]=x.useState(null),[re,ue]=x.useState({dutyLevel:"departmental",dutyType:"",assignedBy:"",roleDescription:"",creditHourExemption:!1,extraAllowance:!1}),[Re,ye]=x.useState(!1),[we,Ee]=x.useState({name:b?.name||"",designation:b?.designation||"",department:b?.department||"",faculty:b?.faculty||"",status:b?.status||"Active"}),[Ze,et]=x.useState(null),[sn,la]=x.useState("book"),ln={book:{author:"",coAuthor:"",bookTitle:"",addition:"",website:"",isbn:"",publisher:"",chapterNo:"",chapterName:"",chapterLink:"",dateOfPublish:"",placeOfPublish:"",edition:"",document:""},research:{journalAddress:"",issn:"",nationality:"",title:"",volume:"",datePublished:"",journalCategory:"",authors:"",impactFactor:"",doi:"",document:""},conference:{authors:"",conferenceAddress:"",coAuthor:"",nationality:"",title:"",webLink:"",paperDate:"",fundedBy:"",document:""}},[mn,Vt]=x.useState(ln.book);function fn(K){const Te=K.target.files[0];if(Te){const Za=new FileReader;Za.onload=Xn=>{Vt(vn=>({...vn,document:Xn.target.result}))},Za.readAsDataURL(Te)}}function Ca(K){if(K.preventDefault(),!b?.id)return;let Te=[...I];Ze!==null?Te[Ze]={...mn}:Te.push({...mn}),z(Te),a(b.id,{publications:Te},{requestedBy:b?.name||e?.name,notes:"Publication update"}),L(!1),et(null),Vt({title:"",journal:"",year:"",link:"",document:""})}function _n(K){if(!b?.id)return;const Te=I.filter((Za,Xn)=>Xn!==K);z(Te),a(b.id,{publications:Te},{requestedBy:b?.name||e?.name,notes:"Publication removal"})}function zi(K){K.preventDefault(),b?.id&&(ae?s(b.id,ae,V):r(b.id,V),Y(!1),je(null),fe({period:"",projectTitle:"",studentNames:"",status:"ongoing",numberOfStudents:"",awardLevel:null,technicalPapers:"",productsDevloped:"",prototypeCompleted:"",otherInfo:""}))}function Bi(K){fe(K),je(K.id),Y(!0)}function lt(K){b?.id&&confirm("Are you sure you want to delete this FYP supervision?")&&l(b.id,K)}function Mt(K){K.preventDefault(),b?.id&&(Se?d(b.id,Se,ne):c(b.id,ne),se(!1),Ae(null),Me({period:"",level:"MS",thesisTitle:"",studentName:"",status:"ongoing",conferencePapers:"",researchPaperCategory:"",presentStatus:""}))}function tt(K){Me(K),Ae(K.id),se(!0)}function Nt(K){b?.id&&confirm("Are you sure you want to delete this thesis supervision?")&&m(b.id,K)}function Tn(K){if(K.preventDefault(),!!b?.id){if((ke.outcome==="approved"||ke.outcome==="awarded")&&!ke.approvedDate){alert('Approval date is required when outcome is "Approved" or "Awarded"');return}if(ke.amountObtained&&ke.amount&&Number(ke.amountObtained)>Number(ke.amount)){alert("Amount obtained cannot exceed the total grant amount");return}it?h(b.id,it,ke):f(b.id,ke),pe(!1),Le(null),Ie({period:"",grantName:"",fundingAgency:"",amount:"",amountObtained:"",approvedDate:"",outcome:"pending",status:"active",notes:""})}}function dt(K){Ie(K),Le(K.id),pe(!0)}function _s(K){if(K.preventDefault(),!b?.id||!re.dutyType||!re.assignedBy){alert("Please fill in all required fields");return}jt?v(b.id,jt,re):y(b.id,re),Ye(!1),X(null),ue({dutyLevel:"departmental",dutyType:"",assignedBy:"",roleDescription:"",creditHourExemption:!1,extraAllowance:!1})}function id(K){ue(K),X(K.id),Ye(!0)}function Do(K){b?.id&&confirm("Are you sure you want to delete this administrative duty?")&&j(b.id,K)}function Ts(K){b?.id&&confirm("Are you sure you want to delete this research grant?")&&g(b.id,K)}const[Ga,ld]=x.useState(null),[Ls,Ur]=x.useState({degree:"",institution:"",field:"",year:"",document:""});function km(K){const Te=K.target.files[0];if(Te){const Za=new FileReader;Za.onload=Xn=>{Ur(vn=>({...vn,document:Xn.target.result}))},Za.readAsDataURL(Te)}}function od(K){if(K.preventDefault(),!b?.id)return;let Te=[...G];Ga!==null?Te[Ga]={...Ls}:Te.push({...Ls}),W(Te),a(b.id,{qualifications:Te},{requestedBy:b?.name||e?.name,notes:"Qualification update"}),F(!1),ld(null),Ur({degree:"",institution:"",field:"",year:"",document:""})}return t.jsxs(ha,{defaultValue:"profile",className:"space-y-6",children:[t.jsxs(pa,{className:"mb-4",children:[t.jsx(Ve,{value:"profile",children:"Profile"}),t.jsx(Ve,{value:"dependents",children:"Dependents"}),t.jsx(Ve,{value:"qualifications",children:"Qualifications"}),t.jsx(Ve,{value:"publications",children:"Publications"}),t.jsx(Ve,{value:"fyp",children:"FYP Supervised"}),t.jsx(Ve,{value:"thesis",children:"Thesis Supervised"}),t.jsx(Ve,{value:"grants",children:"Research Grants"}),t.jsx(Ve,{value:"admin-duties",children:"Administrative Duties"}),t.jsx(Ve,{value:"cecpf",children:"CECPF Provident Fund"})]}),t.jsx(bt,{value:"dependents",children:t.jsxs(H,{title:"Dependents",children:[t.jsx("div",{className:"flex justify-end mb-2",children:t.jsx(Z,{onClick:()=>{T({name:"",relationship:"",dob:"",cnic:"",document:""}),D(null),A(!0)},children:"Add Dependent"})}),w.length===0?t.jsx("div",{className:"text-gray-500",children:"No dependents added yet."}):t.jsx("ul",{className:"divide-y",children:w.map((K,Te)=>t.jsxs("li",{className:"py-2 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold",children:K.name}),t.jsx("div",{className:"text-sm text-gray-600",children:K.relationship}),t.jsxs("div",{className:"text-xs text-gray-500",children:["DOB: ",K.dob]}),t.jsxs("div",{className:"text-xs text-gray-500",children:["CNIC: ",K.cnic]}),K.document&&t.jsx("a",{href:K.document,className:"text-blue-600 text-xs",target:"_blank",rel:"noopener noreferrer",children:"View Document"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Z,{size:"sm",variant:"outline",onClick:()=>{T(K),D(Te),A(!0)},children:"Edit"}),t.jsx(Z,{size:"sm",variant:"danger",onClick:()=>B(Te),children:"Remove"})]})]},Te))})]})}),t.jsx(ft,{open:S,onClose:()=>A(!1),title:E!==null?"Edit Dependent":"Add Dependent",children:t.jsxs("form",{onSubmit:k,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Name"}),t.jsx("input",{className:"w-full border rounded p-2",value:P.name,onChange:K=>T(Te=>({...Te,name:K.target.value})),required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Relationship"}),t.jsx("input",{className:"w-full border rounded p-2",value:P.relationship,onChange:K=>T(Te=>({...Te,relationship:K.target.value})),required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Date of Birth"}),t.jsx("input",{type:"date",className:"w-full border rounded p-2",value:P.dob,onChange:K=>T(Te=>({...Te,dob:K.target.value})),required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"CNIC"}),t.jsx("input",{className:"w-full border rounded p-2",value:P.cnic,onChange:K=>T(Te=>({...Te,cnic:K.target.value})),required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Document"}),t.jsx(ro,{onChange:O}),P.document&&t.jsx("div",{className:"mt-2",children:t.jsx("a",{href:P.document,className:"text-blue-600 text-xs underline",target:"_blank",rel:"noopener noreferrer",children:"View Uploaded Document"})})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(Z,{type:"button",variant:"outline",onClick:()=>A(!1),children:"Cancel"}),t.jsx(Z,{type:"submit",children:"Save"})]})]})}),t.jsxs(bt,{value:"profile",children:[t.jsxs(H,{className:"relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 right-0 h-32 bg-linear-to-r from-blue-600 to-blue-800"}),t.jsx("div",{className:"relative pt-16 pb-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Ec,{name:b?.name||e?.name,size:"2xl",className:"ring-4 ring-white"}),t.jsx("div",{className:"absolute bottom-1 right-1 w-5 h-5 bg-green-500 border-2 border-white rounded-full"})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:b?.name||e?.name}),t.jsx("p",{className:"text-gray-600",children:b?.designation||"Employee"}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[t.jsx(le,{variant:"primary",children:b?.department||e?.department}),t.jsx(le,{variant:"outline",children:b?.faculty||e?.faculty}),t.jsx(le,{variant:b?.status==="Active"?"success":"warning",children:b?.status||"Active"})]})]}),t.jsx("div",{className:"flex gap-2",children:t.jsxs(Z,{variant:"outline",onClick:()=>{Ee({name:b?.name||"",designation:b?.designation||"",department:b?.department||"",faculty:b?.faculty||"",status:b?.status||"Active"}),ye(!0)},className:"gap-2",children:[t.jsx(Pp,{className:"w-4 h-4"}),"Edit Profile"]})})]})})]}),t.jsx(H,{className:"mt-4",title:"Information",children:t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-500 text-xs",children:"Email"}),t.jsx("div",{className:"font-medium",children:"john.doe@cecos.edu.pk"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-500 text-xs",children:"Phone"}),t.jsx("div",{className:"font-medium",children:"+92 300 1234567"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-500 text-xs",children:"CNIC"}),t.jsx("div",{className:"font-medium",children:"12345-6789012-3"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-500 text-xs",children:"Joining Date"}),t.jsx("div",{className:"font-medium",children:"2022-08-15"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-500 text-xs",children:"Address"}),t.jsx("div",{className:"font-medium",children:"123 Main Street, Peshawar"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-500 text-xs",children:"Supervisor"}),t.jsx("div",{className:"font-medium",children:"Dr. Ahmad Khan"})]})]})})]}),t.jsx(bt,{value:"publications",children:t.jsxs(H,{title:"Publications",className:"bg-gradient-to-br from-blue-50 to-white border border-blue-100 shadow-lg",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("h4",{className:"text-lg font-bold text-blue-900 flex items-center gap-2",children:[t.jsxs("svg",{className:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 20h9"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19.5 3 21l1.5-4L16.5 3.5z"})]}),"Publications"]}),t.jsx(Z,{onClick:()=>{Vt({title:"",journal:"",year:"",link:"",document:""}),et(null),L(!0)},className:"shadow-md",children:"+ Add Publication"})]}),I.length===0?t.jsx("div",{className:"text-gray-400 text-center py-8",children:"No publications added yet."}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:I.map((K,Te)=>t.jsxs("div",{className:"rounded-xl border border-blue-100 bg-white/80 shadow p-4 flex flex-col gap-2 relative group hover:shadow-xl transition-all",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"inline-block px-2 py-0.5 rounded text-xs font-semibold bg-blue-100 text-blue-700 uppercase tracking-wide",children:K.type||"Book"}),t.jsx("span",{className:"text-xs text-gray-400 ml-auto",children:K.year||K.datePublished||K.dateOfPublish||K.paperDate||""})]}),t.jsx("div",{className:"font-bold text-blue-900 text-base truncate",title:K.title||K.bookTitle,children:K.type==="book"?K.bookTitle:K.title}),t.jsxs("div",{className:"text-sm text-gray-700 truncate",children:[K.type==="book"&&K.author,K.type==="research"&&K.journalAddress,K.type==="conference"&&K.conferenceAddress]}),t.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[K.website&&t.jsx("a",{href:K.website,className:"text-blue-600 text-xs underline",target:"_blank",rel:"noopener noreferrer",children:"Website"}),K.doi&&t.jsx("a",{href:K.doi,className:"text-blue-600 text-xs underline",target:"_blank",rel:"noopener noreferrer",children:"DOI"}),K.webLink&&t.jsx("a",{href:K.webLink,className:"text-blue-600 text-xs underline",target:"_blank",rel:"noopener noreferrer",children:"Web Link"}),K.document&&t.jsx("a",{href:K.document,className:"text-green-700 text-xs underline",target:"_blank",rel:"noopener noreferrer",children:"View Document"})]}),t.jsxs("div",{className:"flex gap-2 mt-2 opacity-0 group-hover:opacity-100 transition-opacity absolute top-2 right-2",children:[t.jsx(Z,{size:"xs",variant:"outline",onClick:()=>{la(K.type||"book"),Vt(K.type?{...K}:ln.book),et(Te),L(!0)},children:"Edit"}),t.jsx(Z,{size:"xs",variant:"danger",onClick:()=>_n(Te),children:"Remove"})]})]},Te))})]})}),t.jsx(bt,{value:"fyp",children:t.jsxs(H,{title:"FYP Supervised",children:[t.jsx("div",{className:"flex justify-end mb-4",children:t.jsx(Z,{onClick:()=>{fe({period:"",projectTitle:"",studentNames:"",status:"ongoing",numberOfStudents:"",awardLevel:null,technicalPapers:"",productsDevloped:"",prototypeCompleted:"",otherInfo:""}),je(null),Y(!0)},children:"Add FYP Supervision"})}),!b?.fypSupervised||b.fypSupervised.length===0?t.jsx("div",{className:"text-gray-400 text-center py-8",children:"No FYP supervisions added yet."}):t.jsx("div",{className:"space-y-3",children:b.fypSupervised.map(K=>t.jsx(H,{className:"bg-blue-50",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx(le,{className:"mb-2",children:K.period}),t.jsx("p",{className:"font-semibold text-gray-900",children:K.projectTitle}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Students: ",K.studentNames]}),K.numberOfStudents&&t.jsxs("p",{className:"text-sm text-gray-600",children:["Number of Students: ",K.numberOfStudents]}),K.awardLevel&&t.jsxs("p",{className:"text-sm text-gray-600",children:["Awards/Distinction: ",K.awardLevel]}),K.technicalPapers&&t.jsxs("p",{className:"text-sm text-gray-600",children:["Technical Papers: ",K.technicalPapers]}),K.productsDevloped&&t.jsxs("p",{className:"text-sm text-gray-600",children:["Products Developed: ",K.productsDevloped]}),K.prototypeCompleted&&t.jsxs("p",{className:"text-sm text-gray-600",children:["Prototype/Feasibility: ",K.prototypeCompleted]}),K.otherInfo&&t.jsxs("p",{className:"text-sm text-gray-600",children:["Other Info: ",K.otherInfo]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Status:"," ",t.jsx(le,{variant:K.status==="completed"?"success":"info",children:K.status})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Z,{variant:"outline",size:"sm",onClick:()=>Bi(K),children:"Edit"}),t.jsx(Z,{variant:"outline",size:"sm",onClick:()=>lt(K.id),children:"Delete"})]})]})},K.id))})]})}),t.jsx(bt,{value:"thesis",children:t.jsxs(H,{title:"Thesis Supervised",children:[t.jsx("div",{className:"flex justify-end mb-4",children:t.jsx(Z,{onClick:()=>{Me({period:"",level:"MS",thesisTitle:"",studentName:"",status:"ongoing",conferencePapers:"",researchPaperCategory:"",presentStatus:""}),Ae(null),se(!0)},children:"Add Thesis Supervision"})}),!b?.thesisSupervised||b.thesisSupervised.length===0?t.jsx("div",{className:"text-gray-400 text-center py-8",children:"No thesis supervisions added yet."}):t.jsx("div",{className:"space-y-3",children:b.thesisSupervised.map(K=>t.jsx(H,{className:"bg-indigo-50",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx(le,{className:"bg-indigo-100 text-indigo-700",children:K.period}),t.jsx(le,{variant:K.level==="PhD"?"primary":"secondary",children:K.level})]}),t.jsx("p",{className:"font-semibold text-gray-900",children:K.thesisTitle}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Student: ",K.studentName]}),K.conferencePapers&&t.jsxs("p",{className:"text-sm text-gray-600",children:["Conference Papers: ",K.conferencePapers]}),K.researchPaperCategory&&t.jsxs("p",{className:"text-sm text-gray-600",children:["Research Category/IF: ",K.researchPaperCategory]}),K.presentStatus&&t.jsxs("p",{className:"text-sm text-gray-600",children:["Present Status: ",K.presentStatus]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Status:"," ",t.jsx(le,{variant:K.status==="completed"?"success":"info",children:K.status})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Z,{variant:"outline",size:"sm",onClick:()=>tt(K),children:"Edit"}),t.jsx(Z,{variant:"outline",size:"sm",onClick:()=>Nt(K.id),children:"Delete"})]})]})},K.id))})]})}),t.jsx(bt,{value:"grants",children:t.jsxs(H,{title:"Research Grants",children:[t.jsx("div",{className:"flex justify-end mb-4",children:t.jsx(Z,{onClick:()=>{Ie({period:"",grantName:"",fundingAgency:"",amount:"",amountObtained:"",approvedDate:"",outcome:"pending",status:"active",notes:""}),Le(null),pe(!0)},children:"Add Research Grant"})}),!b?.researchGrants||b.researchGrants.length===0?t.jsx("div",{className:"text-gray-400 text-center py-8",children:"No research grants added yet."}):t.jsx("div",{className:"space-y-3",children:b.researchGrants.map(K=>t.jsx(H,{className:"bg-green-50",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx(le,{className:"mb-2 bg-green-100 text-green-700",children:K.period}),t.jsx("p",{className:"font-semibold text-gray-900",children:K.grantName}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Agency: ",K.fundingAgency]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Amount: PKR ",Number(K.amount).toLocaleString()]}),K.amountObtained&&t.jsxs("p",{className:"text-sm text-gray-600",children:["Amount Obtained: PKR ",Number(K.amountObtained).toLocaleString()]}),K.approvedDate&&t.jsxs("p",{className:"text-sm text-gray-600",children:["Approved: ",K.approvedDate]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Status:"," ",t.jsx(le,{variant:K.status==="completed"?"success":"info",children:K.status}),K.outcome&&t.jsxs("span",{className:"ml-2",children:["Outcome:"," ",t.jsx(le,{variant:K.outcome==="approved"||K.outcome==="awarded"?"success":K.outcome==="rejected"?"destructive":"info",children:K.outcome})]})]}),K.notes&&t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Notes: ",K.notes]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Z,{variant:"outline",size:"sm",onClick:()=>dt(K),children:"Edit"}),t.jsx(Z,{variant:"outline",size:"sm",onClick:()=>Ts(K.id),children:"Delete"})]})]})},K.id))})]})}),t.jsx(bt,{value:"admin-duties",children:t.jsxs(H,{title:"Administrative Duties",children:[t.jsx("div",{className:"flex justify-end mb-4",children:t.jsx(Z,{onClick:()=>{ue({dutyLevel:"departmental",dutyType:"",assignedBy:"",roleDescription:"",creditHourExemption:!1,extraAllowance:!1}),X(null),Ye(!0)},children:"Add Administrative Duty"})}),!b?.administrativeDuties||b.administrativeDuties.length===0?t.jsx("div",{className:"text-gray-400 text-center py-8",children:"No administrative duties added yet."}):t.jsx("div",{className:"space-y-3",children:b.administrativeDuties.map(K=>t.jsx(H,{className:"bg-purple-50",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx(le,{className:"bg-purple-100 text-purple-700",children:K.dutyLevel}),t.jsx(le,{variant:"secondary",children:K.dutyType})]}),t.jsxs("p",{className:"font-semibold text-gray-900",children:["Assigned by: ",K.assignedBy]}),K.roleDescription&&t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:K.roleDescription}),t.jsxs("div",{className:"flex gap-2 mt-2 text-xs text-gray-600",children:[K.creditHourExemption&&t.jsx(le,{variant:"info",children:"Credit Hour Exemption"}),K.extraAllowance&&t.jsx(le,{variant:"success",children:"Extra Allowance"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Z,{variant:"outline",size:"sm",onClick:()=>id(K),children:"Edit"}),t.jsx(Z,{variant:"outline",size:"sm",onClick:()=>Do(K.id),children:"Delete"})]})]})},K.id))})]})}),t.jsx(bt,{value:"cecpf",children:t.jsx(H,{title:"CECPF Provident Fund",children:t.jsxs("div",{className:"mb-4",children:[t.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Apply for CECPF Provident Fund"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Submit your application for the CECOS Employees Contributory Provident Fund. Your request will be reviewed by the Finance department."}),t.jsx("div",{className:"max-w-xl",children:t.jsx(nce,{})})]})})}),t.jsx(bt,{value:"qualifications",children:t.jsxs(H,{title:"Qualifications",children:[t.jsx("div",{className:"flex justify-end mb-2",children:t.jsx(Z,{onClick:()=>{Ur({degree:"",institution:"",field:"",year:"",document:""}),ld(null),F(!0)},children:"Add Qualification"})}),G.length===0?t.jsx("div",{className:"text-gray-500",children:"No qualifications added yet."}):t.jsx("ul",{className:"divide-y",children:G.map((K,Te)=>t.jsxs("li",{className:"py-2 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold",children:K.degree}),t.jsxs("div",{className:"text-sm text-gray-600",children:[K.institution," (",K.year,")"]}),t.jsx("div",{className:"text-xs text-gray-500",children:K.field})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Z,{size:"sm",variant:"outline",onClick:()=>{Ur(K),ld(Te),F(!0)},children:"Edit"}),t.jsx(Z,{size:"sm",variant:"danger",onClick:()=>handleRemoveQualification(Te),children:"Remove"})]})]},Te))})]})}),t.jsx(ft,{open:Re,onClose:()=>ye(!1),title:"Edit Profile",children:t.jsxs("form",{onSubmit:K=>{K.preventDefault(),b?.id&&(a(b.id,we,{requestedBy:b?.name||e?.name,notes:"Profile update"}),ye(!1))},className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Name"}),t.jsx("input",{className:"w-full border rounded p-2",value:we.name,onChange:K=>Ee(Te=>({...Te,name:K.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Designation"}),t.jsx("input",{className:"w-full border rounded p-2",value:we.designation,onChange:K=>Ee(Te=>({...Te,designation:K.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Department"}),t.jsx("input",{className:"w-full border rounded p-2",value:we.department,onChange:K=>Ee(Te=>({...Te,department:K.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Faculty"}),t.jsx("input",{className:"w-full border rounded p-2",value:we.faculty,onChange:K=>Ee(Te=>({...Te,faculty:K.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Status"}),t.jsxs("select",{className:"w-full border rounded p-2",value:we.status,onChange:K=>Ee(Te=>({...Te,status:K.target.value})),children:[t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(Z,{type:"button",variant:"outline",onClick:()=>ye(!1),children:"Cancel"}),t.jsx(Z,{type:"submit",children:"Save"})]})]})}),t.jsx(ft,{open:J,onClose:()=>{L(!1),et(null),la("book"),Vt(ln.book)},title:Ze!==null?"Edit Publication":"Add Publication",children:t.jsxs("form",{onSubmit:Ca,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Publication Type"}),t.jsxs("select",{className:"w-full border rounded p-2",value:sn,onChange:K=>{const Te=K.target.value;la(Te),Vt(ln[Te])},disabled:Ze!==null,children:[t.jsx("option",{value:"book",children:"Book Writing"}),t.jsx("option",{value:"research",children:"Research Publication"}),t.jsx("option",{value:"conference",children:"Conference Paper"})]})]}),sn==="book"&&t.jsx(ace,{form:mn,setForm:Vt}),sn==="research"&&t.jsx(rce,{form:mn,setForm:Vt}),sn==="conference"&&t.jsx(sce,{form:mn,setForm:Vt}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Document"}),t.jsx(ro,{onChange:fn}),mn.document&&t.jsx("div",{className:"mt-2",children:t.jsx("a",{href:mn.document,className:"text-blue-600 text-xs underline",target:"_blank",rel:"noopener noreferrer",children:"View Uploaded Document"})})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(Z,{type:"button",variant:"outline",onClick:()=>{L(!1),et(null),la("book"),Vt(ln.book)},children:"Cancel"}),t.jsx(Z,{type:"submit",children:"Save"})]})]})}),t.jsx(ft,{open:R,onClose:()=>F(!1),title:Ga!==null?"Edit Qualification":"Add Qualification",children:t.jsxs("form",{onSubmit:od,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Degree"}),t.jsx("input",{className:"w-full border rounded p-2",value:Ls.degree,onChange:K=>Ur(Te=>({...Te,degree:K.target.value})),required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Institution"}),t.jsx("input",{className:"w-full border rounded p-2",value:Ls.institution,onChange:K=>Ur(Te=>({...Te,institution:K.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Field"}),t.jsx("input",{className:"w-full border rounded p-2",value:Ls.field,onChange:K=>Ur(Te=>({...Te,field:K.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Year"}),t.jsx("input",{className:"w-full border rounded p-2",value:Ls.year,onChange:K=>Ur(Te=>({...Te,year:K.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Document"}),t.jsx(ro,{onChange:km})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(Z,{type:"button",variant:"outline",onClick:()=>F(!1),children:"Cancel"}),t.jsx(Z,{type:"submit",children:"Save"})]})]})}),t.jsx(ft,{open:q,onClose:()=>Y(!1),title:ae?"Edit FYP Supervision":"Add FYP Supervision",children:t.jsxs("form",{onSubmit:zi,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fall Semester *"}),t.jsxs("select",{className:"w-full border border-gray-300 rounded-md p-2 text-sm",value:V.period,onChange:K=>fe({...V,period:K.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select semester"}),W0().map(K=>t.jsx("option",{value:K,children:K},K))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Project Title *"}),t.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md p-2 text-sm",value:V.projectTitle,onChange:K=>fe({...V,projectTitle:K.target.value}),required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Student Names *"}),t.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md p-2 text-sm",placeholder:"e.g., Ali Ahmed, Sara Khan",value:V.studentNames,onChange:K=>fe({...V,studentNames:K.target.value}),required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status *"}),t.jsxs("select",{className:"w-full border border-gray-300 rounded-md p-2 text-sm",value:V.status,onChange:K=>fe({...V,status:K.target.value}),required:!0,children:[t.jsx("option",{value:"ongoing",children:"Ongoing"}),t.jsx("option",{value:"completed",children:"Completed"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Number of Students"}),t.jsx("input",{type:"number",min:"1",className:"w-full border border-gray-300 rounded-md p-2 text-sm",placeholder:"e.g., 3",value:V.numberOfStudents,onChange:K=>fe({...V,numberOfStudents:K.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Distinction / Award Won"}),t.jsxs("select",{className:"w-full border border-gray-300 rounded-md p-2 text-sm",value:V.awardLevel||"",onChange:K=>fe({...V,awardLevel:K.target.value||null}),children:[t.jsx("option",{value:"",children:"-- Select Award Level --"}),t.jsx("option",{value:"departmental",children:"Departmental Level"}),t.jsx("option",{value:"university",children:"University Level"}),t.jsx("option",{value:"district",children:"District Level"}),t.jsx("option",{value:"provincial",children:"Provincial Level"}),t.jsx("option",{value:"national",children:"National Level"}),t.jsx("option",{value:"international",children:"International Level"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Technical Paper Produced from the Project"}),t.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md p-2 text-sm",placeholder:"e.g., Paper accepted at IEEE conference 2025",value:V.technicalPapers,onChange:K=>fe({...V,technicalPapers:K.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Any Other Product Developed Using the FYP"}),t.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md p-2 text-sm",placeholder:"e.g., Mobile app, web platform, IoT device",value:V.productsDevloped,onChange:K=>fe({...V,productsDevloped:K.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Prototype or Feasibility Study Completed"}),t.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md p-2 text-sm",placeholder:"e.g., Working prototype demonstrated, Feasibility study report submitted",value:V.prototypeCompleted,onChange:K=>fe({...V,prototypeCompleted:K.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Other Relevant Information"}),t.jsx("textarea",{className:"w-full border border-gray-300 rounded-md p-2 text-sm",rows:3,placeholder:"Additional details about the project supervision",value:V.otherInfo,onChange:K=>fe({...V,otherInfo:K.target.value})})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(Z,{type:"button",variant:"outline",onClick:()=>Y(!1),children:"Cancel"}),t.jsx(Z,{type:"submit",children:"Save"})]})]})}),t.jsx(ft,{open:Ne,onClose:()=>se(!1),title:Se?"Edit Thesis Supervision":"Add Thesis Supervision",children:t.jsxs("form",{onSubmit:Mt,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fall Semester *"}),t.jsxs("select",{className:"w-full border border-gray-300 rounded-md p-2 text-sm",value:ne.period,onChange:K=>Me({...ne,period:K.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select semester"}),W0().map(K=>t.jsx("option",{value:K,children:K},K))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Level *"}),t.jsxs("select",{className:"w-full border border-gray-300 rounded-md p-2 text-sm",value:ne.level,onChange:K=>Me({...ne,level:K.target.value}),required:!0,children:[t.jsx("option",{value:"MS",children:"MS"}),t.jsx("option",{value:"PhD",children:"PhD"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Thesis Title *"}),t.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md p-2 text-sm",value:ne.thesisTitle,onChange:K=>Me({...ne,thesisTitle:K.target.value}),required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Student Name *"}),t.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md p-2 text-sm",value:ne.studentName,onChange:K=>Me({...ne,studentName:K.target.value}),required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status *"}),t.jsxs("select",{className:"w-full border border-gray-300 rounded-md p-2 text-sm",value:ne.status,onChange:K=>Me({...ne,status:K.target.value}),required:!0,children:[t.jsx("option",{value:"ongoing",children:"Ongoing"}),t.jsx("option",{value:"completed",children:"Completed"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Conference Papers Produced from Thesis"}),t.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md p-2 text-sm",placeholder:"e.g., 2 papers presented at ICSE 2024, IEEE 2025",value:ne.conferencePapers,onChange:K=>Me({...ne,conferencePapers:K.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Research Paper Category (HEC W/X/Y/Z) / Impact Factor"}),t.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md p-2 text-sm",placeholder:"e.g., HEC W category, IF: 3.5",value:ne.researchPaperCategory,onChange:K=>Me({...ne,researchPaperCategory:K.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Present Status of Thesis"}),t.jsx("textarea",{className:"w-full border border-gray-300 rounded-md p-2 text-sm",rows:3,placeholder:"e.g., Data collection completed, writing Chapter 3, defense scheduled for March 2026",value:ne.presentStatus,onChange:K=>Me({...ne,presentStatus:K.target.value})})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(Z,{type:"button",variant:"outline",onClick:()=>se(!1),children:"Cancel"}),t.jsx(Z,{type:"submit",children:"Save"})]})]})}),t.jsx(ft,{open:De,onClose:()=>pe(!1),title:it?"Edit Research Grant":"Add Research Grant",children:t.jsxs("form",{onSubmit:Tn,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fall Semester *"}),t.jsxs("select",{className:"w-full border border-gray-300 rounded-md p-2 text-sm",value:ke.period,onChange:K=>Ie({...ke,period:K.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select semester"}),W0().map(K=>t.jsx("option",{value:K,children:K},K))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Grant Name *"}),t.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md p-2 text-sm",value:ke.grantName,onChange:K=>Ie({...ke,grantName:K.target.value}),required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Funding Agency *"}),t.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md p-2 text-sm",value:ke.fundingAgency,onChange:K=>Ie({...ke,fundingAgency:K.target.value}),required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount (PKR) *"}),t.jsx("input",{type:"number",min:"0",className:"w-full border border-gray-300 rounded-md p-2 text-sm",value:ke.amount,onChange:K=>Ie({...ke,amount:K.target.value}),required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount of Funding Obtained (PKR)"}),t.jsx("input",{type:"number",min:"0",className:"w-full border border-gray-300 rounded-md p-2 text-sm",value:ke.amountObtained,onChange:K=>Ie({...ke,amountObtained:K.target.value})})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Funding/Application Approved Date",(ke.outcome==="approved"||ke.outcome==="awarded")&&t.jsx("span",{className:"text-red-600 ml-1",children:"*"})]}),t.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded-md p-2 text-sm",value:ke.approvedDate,onChange:K=>Ie({...ke,approvedDate:K.target.value}),required:ke.outcome==="approved"||ke.outcome==="awarded"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Outcome"}),t.jsxs("select",{className:"w-full border border-gray-300 rounded-md p-2 text-sm",value:ke.outcome,onChange:K=>Ie({...ke,outcome:K.target.value}),children:[t.jsx("option",{value:"proposal developed",children:"Proposal Developed"}),t.jsx("option",{value:"send to funding agency",children:"Send to Funding Agency"}),t.jsx("option",{value:"approved by funding agency",children:"Approved by Funding Agency"}),t.jsx("option",{value:"disapproved by funding agency",children:"Disapproved by Funding Agency"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status *"}),t.jsxs("select",{className:"w-full border border-gray-300 rounded-md p-2 text-sm",value:ke.status,onChange:K=>Ie({...ke,status:K.target.value}),required:!0,children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"completed",children:"Completed"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes / Additional Information"}),t.jsx("textarea",{className:"w-full border border-gray-300 rounded-md p-2 text-sm",rows:3,value:ke.notes,onChange:K=>Ie({...ke,notes:K.target.value})})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(Z,{type:"button",variant:"outline",onClick:()=>pe(!1),children:"Cancel"}),t.jsx(Z,{type:"submit",children:"Save"})]})]})}),t.jsx(ft,{open:Zt,onClose:()=>Ye(!1),title:jt?"Edit Administrative Duty":"Add Administrative Duty",children:t.jsxs("form",{onSubmit:_s,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Level of Duty *"}),t.jsxs("select",{className:"w-full border border-gray-300 rounded-md p-2 text-sm",value:re.dutyLevel,onChange:K=>ue({...re,dutyLevel:K.target.value}),required:!0,children:[t.jsx("option",{value:"departmental",children:"Departmental"}),t.jsx("option",{value:"university",children:"University"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Duty Type *"}),t.jsxs("select",{className:"w-full border border-gray-300 rounded-md p-2 text-sm",value:re.dutyType,onChange:K=>ue({...re,dutyType:K.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"-- Select Duty Type --"}),t.jsx("option",{value:"QEC",children:"QEC"}),t.jsx("option",{value:"OBE",children:"OBE"}),t.jsx("option",{value:"CQI",children:"CQI"}),t.jsx("option",{value:"Curriculum",children:"Curriculum"}),t.jsx("option",{value:"Batch Advisor",children:"Batch Advisor"}),t.jsx("option",{value:"Board of Studies",children:"Board of Studies"}),t.jsx("option",{value:"Internship",children:"Internship"}),t.jsx("option",{value:"Board of Faculty",children:"Board of Faculty"}),t.jsx("option",{value:"Academic Council",children:"Academic Council"}),t.jsx("option",{value:"Other",children:"Other"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Duty Assigned by *"}),t.jsxs("select",{className:"w-full border border-gray-300 rounded-md p-2 text-sm",value:re.assignedBy,onChange:K=>ue({...re,assignedBy:K.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"-- Select Assigned By --"}),t.jsx("option",{value:"HoD",children:"HoD"}),t.jsx("option",{value:"Dean",children:"Dean"}),t.jsx("option",{value:"Registration",children:"Registration"}),t.jsx("option",{value:"Vice Chancellor",children:"Vice Chancellor"}),t.jsx("option",{value:"Vice President",children:"Vice President"}),t.jsx("option",{value:"Other",children:"Other"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role of Participating Faculty Member"}),t.jsx("textarea",{className:"w-full border border-gray-300 rounded-md p-2 text-sm",rows:3,placeholder:"Describe the role and responsibilities...",value:re.roleDescription,onChange:K=>ue({...re,roleDescription:K.target.value})})]}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:re.creditHourExemption,onChange:K=>ue({...re,creditHourExemption:K.target.checked}),className:"w-4 h-4"}),"Credit Hour Exemption Applicable"]})}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:re.extraAllowance,onChange:K=>ue({...re,extraAllowance:K.target.checked}),className:"w-4 h-4"}),"Extra Allowance of the Duty"]})}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(Z,{type:"button",variant:"outline",onClick:()=>Ye(!1),children:"Cancel"}),t.jsx(Z,{type:"submit",children:"Save"})]})]})})]})}function lce(){const e=at(P=>P.user),{employees:n,promotions:a,addPromotion:r}=ve(),s=x.useMemo(()=>n.find(P=>P.id===e?.id||P.email===e?.email),[n,e]),l=s?.id||e?.id,[c,d]=x.useState(!1),[m,f]=x.useState(null),{register:h,handleSubmit:g,reset:y,formState:{errors:v,isSubmitting:j}}=qc({defaultValues:{effectiveDate:U(new Date,"yyyy-MM-dd"),expectedSalary:""}}),b=S8[s?.designation]||null,w=x.useMemo(()=>s?.joinDate?Math.floor((new Date-new Date(s.joinDate))/(365.25*24*60*60*1e3)):0,[s?.joinDate]),M=x.useMemo(()=>a.filter(P=>P.employeeId===l).sort((P,T)=>new Date(T.appliedOn)-new Date(P.appliedOn)),[a,l]),S=M.find(P=>P.status==="Pending"||P.status==="Under Review"),A=P=>{r({employeeId:l,requestedDesignation:b,reason:P.reason,achievements:P.achievements,qualifications:P.qualifications,yearsInService:w,effectiveDate:P.effectiveDate,proposedSalary:P.expectedSalary?parseInt(P.expectedSalary,10):void 0,documents:P.documents?.split(",").map(T=>T.trim()).filter(Boolean)||[]}),y(),d(!1)},E=P=>{const T={Pending:"warning","Under Review":"info",Approved:"success",Rejected:"error"};return t.jsx(le,{variant:T[P]||"default",children:P})},D=P=>{switch(P){case"Approved":return t.jsx(Be,{className:"w-5 h-5 text-green-500"});case"Rejected":return t.jsx(zt,{className:"w-5 h-5 text-red-500"});default:return t.jsx(Ue,{className:"w-5 h-5 text-amber-500"})}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Promotion Requests"}),t.jsx("p",{className:"text-gray-600",children:"Apply for career advancement"})]}),b&&!S&&t.jsxs(Z,{onClick:()=>d(!0),className:"gap-2",children:[t.jsx(yi,{className:"w-5 h-5"}),"Request Promotion"]})]}),t.jsx(H,{className:"bg-linear-to-br from-indigo-50 to-purple-50 border-indigo-100",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6",children:[t.jsx("div",{className:"w-16 h-16 rounded-2xl bg-linear-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white",children:t.jsx(gl,{className:"w-8 h-8"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Current Position"}),t.jsx("p",{className:"text-2xl font-bold text-indigo-600 mt-1",children:s?.designation||"Not Available"}),t.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-sm text-gray-600",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Jv,{className:"w-4 h-4"}),s?.department," Department"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(nt,{className:"w-4 h-4"}),w," years of service"]})]})]}),b&&t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Next Level"}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(Au,{className:"w-5 h-5 text-green-500"}),t.jsx("span",{className:"text-lg font-semibold text-green-600",children:b})]})]})]})}),S&&t.jsx(H,{className:"bg-amber-50 border-amber-200",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center",children:t.jsx(Ue,{className:"w-5 h-5 text-amber-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold text-amber-800",children:"Promotion Request In Progress"}),t.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:["Your request for promotion to ",S.requestedDesignation," is currently"," ",S.status.toLowerCase(),". Applied on"," ",U(me(S.appliedOn),"MMM d, yyyy"),"."]})]}),E(S.status)]})}),t.jsx(H,{title:"Promotion History",subtitle:"Your career advancement journey",children:M.length===0?t.jsx(Qu,{icon:jj,title:"No Promotion Requests",description:"You haven't applied for any promotions yet. Start your career advancement journey!"}):t.jsx("div",{className:"space-y-4",children:M.map(P=>t.jsxs("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>f(P),children:[t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[D(P.status),t.jsxs("div",{children:[t.jsxs("h4",{className:"font-semibold text-gray-900",children:[P.currentDesignation,"  ",P.requestedDesignation]}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Applied on ",U(me(P.appliedOn),"MMM d, yyyy")]}),t.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:P.reason})]})]}),E(P.status)]}),P.committeeReview&&t.jsxs("div",{className:"mt-3 pt-3 border-t",children:[t.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase",children:"Committee Review"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:P.committeeReview.notes})]})]},P.id))})}),t.jsx(ft,{isOpen:c,onClose:()=>d(!1),title:"Request Promotion",size:"lg",children:t.jsxs("form",{onSubmit:g(A),className:"space-y-6",children:[t.jsx("div",{className:"p-4 bg-linear-to-r from-indigo-50 to-purple-50 rounded-xl",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Current Position"}),t.jsx("p",{className:"font-semibold text-gray-900",children:s?.designation})]}),t.jsx(Au,{className:"w-6 h-6 text-indigo-500"}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Requested Position"}),t.jsx("p",{className:"font-semibold text-indigo-600",children:b})]})]})}),t.jsx(st,{label:"Reason for Promotion",error:v.reason?.message,required:!0,children:t.jsx("textarea",{...h("reason",{required:"Please provide your reason for requesting promotion",minLength:{value:50,message:"Please provide at least 50 characters"}}),rows:4,placeholder:"Explain why you believe you deserve this promotion...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})}),t.jsx(st,{label:"Key Achievements",error:v.achievements?.message,required:!0,children:t.jsx("textarea",{...h("achievements",{required:"Please list your key achievements"}),rows:3,placeholder:"List your significant achievements, projects, and contributions...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})}),t.jsx(st,{label:"Additional Qualifications",error:v.qualifications?.message,children:t.jsx("textarea",{...h("qualifications"),rows:2,placeholder:"Any new degrees, certifications, or training completed...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})}),t.jsx(st,{label:"Supporting Documents (comma separated)",children:t.jsx("input",{...h("documents"),type:"text",placeholder:"e.g., PhD Certificate, Research Papers, Performance Reviews",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),t.jsx(st,{label:"Effective Date",error:v.effectiveDate?.message,children:t.jsx("input",{type:"date",...h("effectiveDate"),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),t.jsx(st,{label:"Expected Salary (PKR)",error:v.expectedSalary?.message,children:t.jsx("input",{type:"number",min:0,step:"1000",...h("expectedSalary"),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Optional"})}),t.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl text-sm text-blue-700",children:[t.jsx("p",{className:"font-medium",children:"Note:"}),t.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1 text-blue-600",children:[t.jsx("li",{children:"Your request will be reviewed by a committee"}),t.jsx("li",{children:"The process typically takes 2-4 weeks"}),t.jsx("li",{children:"You may be called for an interview"})]})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[t.jsx(Z,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),t.jsx(Z,{type:"submit",disabled:j,children:j?"Submitting...":"Submit Request"})]})]})}),t.jsx(ft,{isOpen:!!m,onClose:()=>f(null),title:"Promotion Request Details",children:m&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Requested Promotion"}),t.jsxs("p",{className:"font-semibold",children:[m.currentDesignation,"  ",m.requestedDesignation]})]}),E(m.status)]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Applied On"}),t.jsx("p",{className:"font-medium",children:U(me(m.appliedOn),"MMM d, yyyy")})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Years of Service"}),t.jsxs("p",{className:"font-medium",children:[m.yearsInService," years"]})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Reason"}),t.jsx("p",{className:"text-sm text-gray-700",children:m.reason})]}),m.achievements&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Achievements"}),t.jsx("p",{className:"text-sm text-gray-700",children:m.achievements})]}),m.documents?.length>0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Supporting Documents"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:m.documents.map((P,T)=>t.jsx("span",{className:"px-3 py-1 bg-gray-100 rounded-full text-sm text-gray-700",children:P},T))})]}),m.committeeReview&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl",children:[t.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Committee Review"}),t.jsx("p",{className:"text-sm text-blue-700 mt-1",children:m.committeeReview.notes}),t.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:["Reviewed on ",m.committeeReview.date]})]}),m.hrDecision&&t.jsxs("div",{className:`p-4 rounded-xl ${m.status==="Approved"?"bg-green-50":m.status==="Rejected"?"bg-red-50":"bg-gray-50"}`,children:[t.jsx("p",{className:`text-sm font-medium ${m.status==="Approved"?"text-green-800":m.status==="Rejected"?"text-red-800":"text-gray-800"}`,children:"HR Decision"}),t.jsx("p",{className:`text-sm mt-1 ${m.status==="Approved"?"text-green-700":m.status==="Rejected"?"text-red-700":"text-gray-700"}`,children:m.hrDecision.notes})]})]})})]})}function oce(){const e=at(L=>L.user),{employees:n,resignations:a,addResignation:r,submitExitSurvey:s}=ve(),l=x.useMemo(()=>n.find(L=>L.id===e?.id||L.email===e?.email),[n,e]),c=l?.id||e?.id,[d,m]=x.useState(!1),[f,h]=x.useState(!1),[g,y]=x.useState(!1),[v,j]=x.useState(null),[b,w]=x.useState(!1);x.useRef(null);const{register:M,handleSubmit:S,reset:A,formState:{errors:E}}=qc({defaultValues:{noticePeriod:30}}),[D,P]=x.useState({}),T=x.useMemo(()=>a.filter(L=>L.employeeId===c).sort((L,G)=>new Date(G.appliedOn)-new Date(L.appliedOn)),[a,c]),O=T.find(L=>L.status==="Pending"||L.status==="Approved"),k=L=>{const G=U(gs(new Date,L.noticePeriod),"yyyy-MM-dd");r({employeeId:c,reason:L.reason,noticePeriod:parseInt(L.noticePeriod),lastWorkingDate:G,detailedReason:L.detailedReason}),A(),m(!1)},B=()=>{v&&(s(v.id,D),h(!1),j(null),P({}))},I=L=>{const G={Pending:"warning",Approved:"info",Completed:"success",Rejected:"error",Withdrawn:"default"};return t.jsx(le,{variant:G[L]||"default",children:L})},z=L=>{switch(L.type){case"select":return t.jsxs("select",{value:D[L.id]||"",onChange:G=>P({...D,[L.id]:G.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"",children:"Select an option"}),L.options.map(G=>t.jsx("option",{value:G,children:G},G))]});case"rating":return t.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(G=>t.jsx("button",{type:"button",onClick:()=>P({...D,[L.id]:G}),className:`w-10 h-10 rounded-lg border-2 transition-all ${D[L.id]===G?"bg-indigo-500 border-indigo-500 text-white":"border-gray-200 hover:border-indigo-300"}`,children:G},G))});case"boolean":return t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:()=>P({...D,[L.id]:!0}),className:`px-6 py-2 rounded-lg border-2 transition-all ${D[L.id]===!0?"bg-green-500 border-green-500 text-white":"border-gray-200 hover:border-green-300"}`,children:"Yes"}),t.jsx("button",{type:"button",onClick:()=>P({...D,[L.id]:!1}),className:`px-6 py-2 rounded-lg border-2 transition-all ${D[L.id]===!1?"bg-red-500 border-red-500 text-white":"border-gray-200 hover:border-red-300"}`,children:"No"})]});case"textarea":return t.jsx("textarea",{value:D[L.id]||"",onChange:G=>P({...D,[L.id]:G.target.value}),rows:3,placeholder:"Share your thoughts...",className:"w-full px-4 py-3 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"});default:return null}},J=()=>{const L=`
<!DOCTYPE html>
<html>
<head>
  <title>Resignation Form - CECOS University</title>
  <style>
    body { font-family: 'Times New Roman', serif; max-width: 800px; margin: 0 auto; padding: 40px; }
    .header { text-align: center; border-bottom: 2px solid #800020; padding-bottom: 20px; margin-bottom: 30px; }
    .logo { font-size: 24px; font-weight: bold; color: #800020; }
    .subtitle { color: #001F3F; font-size: 14px; margin-top: 5px; }
    h1 { color: #001F3F; font-size: 20px; margin: 30px 0; text-align: center; }
    .section { margin: 20px 0; }
    .section-title { font-weight: bold; color: #800020; border-bottom: 1px solid #ccc; padding-bottom: 5px; margin-bottom: 15px; }
    .field { margin: 10px 0; display: flex; }
    .field-label { font-weight: bold; width: 200px; }
    .field-value { flex: 1; border-bottom: 1px dotted #999; padding-left: 10px; }
    .checkbox-section { margin: 20px 0; padding: 15px; background: #f9f9f9; border-radius: 5px; }
    .checkbox-item { margin: 10px 0; }
    .signature-section { margin-top: 50px; display: flex; justify-content: space-between; }
    .signature-box { width: 45%; text-align: center; }
    .signature-line { border-top: 1px solid #000; margin-top: 60px; padding-top: 5px; }
    .footer { margin-top: 40px; text-align: center; font-size: 12px; color: #666; border-top: 1px solid #ccc; padding-top: 20px; }
    @media print { body { padding: 20px; } }
  </style>
</head>
<body>
  <div class="header">
    <div class="logo">CECOS UNIVERSITY</div>
    <div class="subtitle">Human Resource Management System</div>
  </div>
  
  <h1>EMPLOYEE RESIGNATION FORM</h1>
  
  <div class="section">
    <div class="section-title">Employee Information</div>
    <div class="field">
      <span class="field-label">Employee Name:</span>
      <span class="field-value">${l?.name||"_________________"}</span>
    </div>
    <div class="field">
      <span class="field-label">Employee Code:</span>
      <span class="field-value">${l?.code||"_________________"}</span>
    </div>
    <div class="field">
      <span class="field-label">Department:</span>
      <span class="field-value">${l?.department||"_________________"}</span>
    </div>
    <div class="field">
      <span class="field-label">Faculty:</span>
      <span class="field-value">${l?.faculty||"_________________"}</span>
    </div>
    <div class="field">
      <span class="field-label">Designation:</span>
      <span class="field-value">${l?.designation||"_________________"}</span>
    </div>
    <div class="field">
      <span class="field-label">Date of Joining:</span>
      <span class="field-value">${l?.joinDate?U(me(l.joinDate),"MMMM d, yyyy"):"_________________"}</span>
    </div>
    <div class="field">
      <span class="field-label">Email:</span>
      <span class="field-value">${l?.email||"_________________"}</span>
    </div>
  </div>
  
  <div class="section">
    <div class="section-title">Resignation Details</div>
    <div class="field">
      <span class="field-label">Date of Resignation:</span>
      <span class="field-value">${U(new Date,"MMMM d, yyyy")}</span>
    </div>
    <div class="field">
      <span class="field-label">Last Working Day:</span>
      <span class="field-value">_________________</span>
    </div>
    <div class="field">
      <span class="field-label">Notice Period:</span>
      <span class="field-value"> 15 Days   30 Days   60 Days   90 Days</span>
    </div>
    <div class="field" style="flex-direction: column;">
      <span class="field-label">Reason for Resignation:</span>
      <div style="border: 1px solid #ccc; min-height: 80px; margin-top: 10px; padding: 10px;"></div>
    </div>
  </div>
  
  <div class="checkbox-section">
    <div class="section-title">Clearance Checklist (To be completed by HR)</div>
    <div class="checkbox-item"> All university property returned (ID Card, Keys, Equipment)</div>
    <div class="checkbox-item"> Library clearance obtained</div>
    <div class="checkbox-item"> IT department clearance (Email, System Access revoked)</div>
    <div class="checkbox-item"> Finance department clearance (No pending dues)</div>
    <div class="checkbox-item"> Handover of responsibilities completed</div>
    <div class="checkbox-item"> Exit interview conducted</div>
    <div class="checkbox-item"> Final settlement processed</div>
  </div>
  
  <div class="signature-section">
    <div class="signature-box">
      <div class="signature-line">Employee Signature</div>
      <div>Date: _________________</div>
    </div>
    <div class="signature-box">
      <div class="signature-line">HR Manager Signature</div>
      <div>Date: _________________</div>
    </div>
  </div>
  
  <div class="signature-section" style="margin-top: 30px;">
    <div class="signature-box">
      <div class="signature-line">HOD Signature</div>
      <div>Date: _________________</div>
    </div>
    <div class="signature-box">
      <div class="signature-line">Dean Signature</div>
      <div>Date: _________________</div>
    </div>
  </div>
  
  <div class="footer">
    <p>CECOS University - Human Resource Department</p>
    <p>This form must be submitted at least 30 days before the intended last working day.</p>
    <p>Form Generated: ${U(new Date,"MMMM d, yyyy - HH:mm")}</p>
  </div>
</body>
</html>
    `,G=new Blob([L],{type:"text/html"}),W=URL.createObjectURL(G),R=document.createElement("a");R.href=W,R.download=`Resignation_Form_${l?.name?.replace(/\s+/g,"_")||"Employee"}_${U(new Date,"yyyy-MM-dd")}.html`,R.click(),URL.revokeObjectURL(W),w(!0)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Resignation"}),t.jsx("p",{className:"text-gray-600",children:"Submit and manage resignation requests"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(Z,{variant:"outline",onClick:J,className:"gap-2",children:[t.jsx(Mu,{className:"w-5 h-5"}),"Download Form"]}),!O&&t.jsxs(Z,{variant:"outline",onClick:()=>m(!0),className:"gap-2 border-red-200 text-red-600 hover:bg-red-50",children:[t.jsx(Dc,{className:"w-5 h-5"}),"Submit Resignation"]})]})]}),b&&!O&&t.jsx(H,{className:"bg-blue-50 border-blue-200",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:t.jsx(Be,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold text-blue-800",children:"Form Downloaded Successfully"}),t.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Please fill out the downloaded form, get required signatures, and then submit your resignation online. You can also print the form for physical submission."}),t.jsx(Z,{size:"sm",className:"mt-3",onClick:()=>m(!0),children:"Submit Resignation Online"})]})]})}),O&&t.jsxs(H,{className:"border-amber-200 bg-amber-50",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-100 flex items-center justify-center",children:t.jsx(sa,{className:"w-6 h-6 text-amber-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-amber-800",children:"Active Resignation Request"}),t.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:["Status: ",O.status," | Last working date:"," ",U(me(O.lastWorkingDate),"MMM d, yyyy")]}),t.jsxs("p",{className:"text-sm text-amber-600 mt-1",children:["Reason: ",O.reason]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[I(O.status),O.status==="Approved"&&!O.exitSurvey&&t.jsxs(Z,{size:"sm",onClick:()=>{j(O),h(!0)},className:"gap-1",children:[t.jsx(xi,{className:"w-4 h-4"}),"Exit Survey"]})]})]}),t.jsx("div",{className:"mt-6 pt-6 border-t border-amber-200",children:t.jsx("div",{className:"flex items-center justify-between",children:[{label:"Submitted",done:!0},{label:"HR Review",done:O.status!=="Pending"},{label:"Exit Survey",done:!!O.exitSurvey},{label:"Handover",done:O.handoverStatus==="completed"},{label:"Completed",done:O.status==="Completed"}].map((L,G)=>t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${L.done?"bg-green-500 text-white":"bg-gray-200 text-gray-500"}`,children:L.done?t.jsx(Be,{className:"w-5 h-5"}):G+1}),t.jsx("span",{className:"text-xs text-gray-600 mt-1",children:L.label})]},G))})})]}),t.jsx(H,{title:"Resignation History",children:T.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(gt,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500",children:"No resignation history"})]}):t.jsx("div",{className:"space-y-4",children:T.map(L=>t.jsx("div",{className:"border rounded-xl p-4 hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:"Resignation Request"}),I(L.status)]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:L.reason}),t.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-sm text-gray-500",children:[t.jsxs("span",{children:["Applied: ",U(me(L.appliedOn),"MMM d, yyyy")]}),t.jsxs("span",{children:["Last Day: ",U(me(L.lastWorkingDate),"MMM d, yyyy")]}),t.jsxs("span",{children:["Notice: ",L.noticePeriod," days"]})]})]}),L.exitSurvey&&t.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[t.jsx(Be,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm",children:"Survey Completed"})]})]})},L.id))})}),t.jsx(H,{className:"bg-gray-50",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx(sa,{className:"w-6 h-6 text-gray-400 mt-1"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Important Information"}),t.jsxs("ul",{className:"mt-2 space-y-1 text-sm text-gray-600",children:[t.jsx("li",{children:" Standard notice period is 30 days (may vary by contract)"}),t.jsx("li",{children:" Complete the exit survey to help us improve"}),t.jsx("li",{children:" Ensure proper handover of all responsibilities"}),t.jsx("li",{children:" Return all university property before last working day"}),t.jsx("li",{children:" Collect clearance certificate from HR"})]})]})]})}),t.jsx(ft,{isOpen:d,onClose:()=>m(!1),title:"Submit Resignation",size:"lg",children:t.jsxs("form",{onSubmit:S(k),className:"space-y-6",children:[t.jsxs("div",{className:"p-4 bg-red-50 rounded-xl text-sm text-red-700",children:[t.jsx("p",{className:"font-medium",children:"Please consider carefully before proceeding."}),t.jsx("p",{className:"mt-1",children:"This action will initiate your resignation process. You can discuss with HR if you have any concerns."})]}),t.jsx(st,{label:"Primary Reason",error:E.reason?.message,required:!0,children:t.jsxs("select",{...M("reason",{required:"Please select a reason"}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"",children:"Select a reason"}),t.jsx("option",{value:"Better Opportunity",children:"Better Opportunity"}),t.jsx("option",{value:"Personal Reasons",children:"Personal Reasons"}),t.jsx("option",{value:"Relocation",children:"Relocation"}),t.jsx("option",{value:"Health Issues",children:"Health Issues"}),t.jsx("option",{value:"Career Change",children:"Career Change"}),t.jsx("option",{value:"Higher Studies",children:"Higher Studies"}),t.jsx("option",{value:"Retirement",children:"Retirement"}),t.jsx("option",{value:"Other",children:"Other"})]})}),t.jsx(st,{label:"Detailed Explanation",error:E.detailedReason?.message,children:t.jsx("textarea",{...M("detailedReason"),rows:4,placeholder:"Please provide more details about your decision (optional)...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})}),t.jsx(st,{label:"Notice Period (days)",error:E.noticePeriod?.message,required:!0,children:t.jsxs("select",{...M("noticePeriod",{required:"Please select notice period"}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:15,children:"15 days"}),t.jsx("option",{value:30,children:"30 days (Standard)"}),t.jsx("option",{value:60,children:"60 days"}),t.jsx("option",{value:90,children:"90 days"})]})}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[t.jsx(Z,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),t.jsx(Z,{type:"submit",className:"bg-red-600 hover:bg-red-700",children:"Submit Resignation"})]})]})}),t.jsx(ft,{isOpen:f,onClose:()=>h(!1),title:"Exit Survey",size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Your feedback is valuable and will help us improve. Please take a moment to complete this survey."}),C8.map(L=>t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:L.question}),z(L)]},L.id)),t.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[t.jsx(Z,{variant:"outline",onClick:()=>h(!1),children:"Skip for Now"}),t.jsx(Z,{onClick:B,children:"Submit Survey"})]})]})})]})}const cl=[{id:10,title:"CECPF Provident Fund Policy",description:"Official policy document for the CECOS Employees Contributory Provident Fund (CECPF), including eligibility, application, and withdrawal procedures.",category:"Benefits",fileSize:"2.0 MB",format:"PDF",lastUpdated:"2021-12-10",status:"Active",downloadUrl:"/PDF's/4. CECPF 10 Dec 21.pdf"},{id:1,title:"Harassment Policy",description:"Comprehensive guidelines on prevention, reporting, and handling of harassment cases in the workplace.",category:"Workplace Conduct",fileSize:"2.4 MB",format:"PDF",lastUpdated:"2024-11-15",status:"Active",downloadUrl:"/PDF's/HARASSMENT-POLICY.pdf"},{id:2,title:"COVID-19 Pandemic Attendance Policy",description:"Special attendance guidelines and protocols during COVID-19 pandemic situations.",category:"Attendance",fileSize:"1.8 MB",format:"PDF",lastUpdated:"2024-10-20",status:"Active",downloadUrl:"/PDF's/COVID-19 Pandemic Attendance Policy.pdf"},{id:3,title:"Faculty Promotion Proforma",description:"Official form and guidelines for faculty promotion applications and evaluation criteria.",category:"Promotion",fileSize:"3.1 MB",format:"PDF",lastUpdated:"2024-12-01",status:"Active",downloadUrl:"/PDF's/Faculty Promotion Proforma_Updated (1).docx.pdf"},{id:4,title:"Private Consultancy Policy",description:"Official notification and guidelines for CECOS University private consultancy services and regulations.",category:"Workplace Conduct",fileSize:"1.2 MB",format:"PDF",lastUpdated:"2024-09-15",status:"Active",downloadUrl:"/PDF's/Notification CECOS University Private Consultancy.pdf"},{id:5,title:"CPD Courses Policy",description:"Continuing Professional Development (CPD) courses policy and enrollment guidelines for faculty and staff.",category:"Benefits",fileSize:"0.9 MB",format:"PDF",lastUpdated:"2024-08-22",status:"Active",downloadUrl:"/PDF's/Notification CPD Courses Policy.pdf"},{id:6,title:"Employees Grievance Committee",description:"Official notification establishing the Employees Grievance Committee and procedures for filing complaints.",category:"Workplace Conduct",fileSize:"0.7 MB",format:"PDF",lastUpdated:"2024-07-10",status:"Active",downloadUrl:"/PDF's/Notification Employees Grievance Committee.pdf"},{id:7,title:"Employees Resignation Policy",description:"Official policy and procedures for employee resignation, notice period, and exit formalities.",category:"Workplace Conduct",fileSize:"1.1 MB",format:"PDF",lastUpdated:"2024-06-18",status:"Active",downloadUrl:"/PDF's/Notification of Employees Resignation Policy.pdf"},{id:8,title:"Official Email Policy",description:"Guidelines and policy for official email usage, communication protocols, and email security.",category:"Workplace Conduct",fileSize:"0.8 MB",format:"PDF",lastUpdated:"2024-05-25",status:"Active",downloadUrl:"/PDF's/Notification of Official Email.pdf"},{id:9,title:"Provident Fund Policy",description:"Official notification regarding employee provident fund contributions, benefits, and withdrawal procedures.",category:"Benefits",fileSize:"1.5 MB",format:"PDF",lastUpdated:"2024-04-12",status:"Active",downloadUrl:"/PDF's/Notification of Provident Fund.pdf"}],C4=["All","Workplace Conduct","Attendance","Promotion","Leave","Salary","Benefits"];function cce(){const[e,n]=x.useState(""),[a,r]=x.useState("All"),s=cl.filter(m=>{const f=m.title.toLowerCase().includes(e.toLowerCase())||m.description.toLowerCase().includes(e.toLowerCase())||m.category.toLowerCase().includes(e.toLowerCase()),h=a==="All"||m.category===a;return f&&h}),l=m=>{const f=document.createElement("a");f.href=m.downloadUrl,f.download=`${m.title}.pdf`,document.body.appendChild(f),f.click(),document.body.removeChild(f)},c=m=>{const f={Active:"success",Archived:"default","Under Review":"warning"};return t.jsx(le,{variant:f[m]||"default",children:m})},d={All:cl.length,"Workplace Conduct":cl.filter(m=>m.category==="Workplace Conduct").length,Attendance:cl.filter(m=>m.category==="Attendance").length,Promotion:cl.filter(m=>m.category==="Promotion").length,Leave:0,Salary:0,Benefits:0};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Policy Advisory"}),t.jsx("p",{className:"text-gray-600",children:"Access and download official university policies and documents"})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[t.jsx(H,{className:"bg-linear-to-br from-blue-50 to-blue-100 border-blue-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:t.jsx(gt,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-blue-900",children:cl.length}),t.jsx("p",{className:"text-xs text-blue-700",children:"Available Policies"})]})]})}),t.jsx(H,{className:"bg-linear-to-br from-green-50 to-green-100 border-green-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:t.jsx(Be,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-green-900",children:cl.filter(m=>m.status==="Active").length}),t.jsx("p",{className:"text-xs text-green-700",children:"Active"})]})]})}),t.jsx(H,{className:"bg-linear-to-br from-purple-50 to-purple-100 border-purple-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:t.jsx(Gt,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-purple-900",children:C4.length-1}),t.jsx("p",{className:"text-xs text-purple-700",children:"Categories"})]})]})}),t.jsx(H,{className:"bg-linear-to-br from-amber-50 to-amber-100 border-amber-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-amber-500 rounded-lg",children:t.jsx(Ue,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-amber-900",children:new Date(Math.max(...cl.map(m=>new Date(m.lastUpdated)))).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),t.jsx("p",{className:"text-xs text-amber-700",children:"Last Updated"})]})]})})]}),t.jsx(H,{children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsx(Rn,{type:"text",placeholder:"Search policies by title, category, or description...",value:e,onChange:m=>n(m.target.value),className:"w-full",inputClassName:"pr-4 py-2.5 text-sm"})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xo,{className:"w-5 h-5 text-gray-400"}),t.jsx("select",{value:a,onChange:m=>r(m.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:C4.map(m=>t.jsxs("option",{value:m,children:[m," ",d[m]>0&&`(${d[m]})`]},m))})]})]})}),s.length===0?t.jsx(H,{children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Ch,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Policies Found"}),t.jsx("p",{className:"text-gray-500",children:"Try adjusting your search query or filter to find what you're looking for."})]})}):t.jsx("div",{className:"grid lg:grid-cols-2 gap-6",children:s.map(m=>t.jsx(H,{className:"hover:shadow-lg transition-shadow",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[t.jsx("div",{className:"p-3 bg-blue-50 rounded-lg shrink-0",children:t.jsx(gt,{className:"w-6 h-6 text-blue-600"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-1",children:m.title}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-gray-500",children:[t.jsx(le,{size:"xs",variant:"info",children:m.category}),t.jsx("span",{children:""}),t.jsx("span",{children:m.format}),t.jsx("span",{children:""}),t.jsx("span",{children:m.fileSize})]})]})]}),c(m.status)]}),t.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:m.description}),t.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[t.jsx(Ue,{className:"w-4 h-4"}),t.jsxs("span",{children:["Updated: ",new Date(m.lastUpdated).toLocaleDateString()]})]}),t.jsxs(Z,{size:"sm",onClick:()=>l(m),className:"gap-2",children:[t.jsx(Gt,{className:"w-4 h-4"}),"Download"]})]})]})},m.id))}),t.jsx(H,{className:"bg-linear-to-r from-blue-50 to-indigo-50 border-blue-200",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"p-3 bg-blue-500 rounded-lg shrink-0",children:t.jsx(Ch,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Important Notice"}),t.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"All employees are required to review and acknowledge the policies relevant to their role. For questions or clarifications about any policy, please contact the HR department."}),t.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 list-disc list-inside",children:[t.jsx("li",{children:"Policies are regularly updated to reflect current regulations"}),t.jsx("li",{children:"Download and keep a copy for your reference"}),t.jsx("li",{children:"Contact HR if you need assistance understanding any policy"})]})]})]})})]})}function dce(){const e=at(v=>v.user),{employees:n,leaves:a,payrollRuns:r}=ve(),s=ve(v=>v.getProfileCompletion),l=x.useMemo(()=>n.find(v=>v.id===e?.id||v.email===e?.email),[n,e]),c=l?.leaveBalance||{},d=x.useMemo(()=>l?s(l.id):{percent:0,missing:[]},[l,s]),f=x.useMemo(()=>a.filter(v=>v.employeeId===l?.id).sort((v,j)=>me(j.appliedOn)-me(v.appliedOn)),[a,l]).slice(0,5),h=x.useMemo(()=>l?r.filter(v=>v.items).flatMap(v=>v.items.filter(j=>j.employeeId===l.id).map(j=>({period:v.period,status:v.status,netPay:j.netPay,postedOn:v.postedOn||v.generatedOn}))).slice(0,6):[],[r,l]),g=x.useMemo(()=>{const v=(l?.lifecycle||[]).map(b=>({date:b.effectiveDate,title:b.title||b.type,detail:b.meta?.designation||b.meta?.reason||""})),j=(l?.salaryHistory||[]).map(b=>({date:b.effectiveDate,title:"Salary change",detail:`${b.type||"adjustment"} to ${b.amount}`}));return[...v,...j].filter(b=>b.date).sort((b,w)=>me(w.date)-me(b.date)).slice(0,10)},[l]);if(!l)return t.jsx("div",{className:"text-sm text-gray-600",children:"Profile not found."});const y=v=>v==="Approved"?"success":v==="Pending"||v==="Forwarded"?"warning":v==="Rejected"?"error":"default";return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Self-Service"}),t.jsx("p",{className:"text-gray-600",children:"View your data, balances, and history (read-only)"})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:[t.jsx(H,{children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(_r,{className:"w-8 h-8 text-indigo-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Profile"}),t.jsx("p",{className:"font-semibold text-gray-900",children:l.name}),t.jsx("p",{className:"text-sm text-gray-600",children:l.designation}),t.jsxs("p",{className:"text-xs text-gray-500",children:[l.department,"  ",l.faculty]})]})]})}),t.jsx(H,{children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(nt,{className:"w-8 h-8 text-emerald-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Leave Balance"}),t.jsx("div",{className:"grid grid-cols-2 gap-1 text-sm text-gray-800",children:Object.entries(c).map(([v,j])=>t.jsxs("span",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"capitalize",children:v.replace("_"," ")}),t.jsx(le,{variant:j>0?"success":"warning",children:j})]},v))})]})]})}),t.jsx(H,{children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(dr,{className:"w-8 h-8 text-amber-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Payslips"}),t.jsx("p",{className:"text-sm text-gray-800",children:h.length>0?`${h[0].period?.month||""} ${h[0].period?.year||""}`:"None available"})]})]})}),t.jsx(H,{children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(_r,{className:"w-8 h-8 text-emerald-600"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Profile Completion"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(le,{variant:d.percent>=90?"success":d.percent>=70?"warning":"error",children:[d.percent,"%"]}),d.missing&&d.missing.length>0&&t.jsxs("span",{className:"text-xs text-gray-500",children:["Missing: ",d.missing.slice(0,3).join(", "),d.missing.length>3?"":""]})]})]})]})})]}),t.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[t.jsxs(H,{children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(As,{className:"w-5 h-5 text-gray-500"}),t.jsx("p",{className:"font-semibold text-gray-900",children:"Recent Leave Requests"})]})}),f.length===0?t.jsx("p",{className:"text-sm text-gray-500",children:"No leave requests yet."}):t.jsx("div",{className:"space-y-2 text-sm text-gray-800",children:f.map(v=>t.jsxs("div",{className:"flex items-center justify-between rounded border px-3 py-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium capitalize",children:v.type.replace("_"," ")}),t.jsxs("p",{className:"text-xs text-gray-500",children:[v.startDate,"  ",v.endDate," (",v.days,"d)"]})]}),t.jsx(le,{variant:y(v.status),children:v.status})]},v.id))})]}),t.jsxs(H,{children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ue,{className:"w-5 h-5 text-gray-500"}),t.jsx("p",{className:"font-semibold text-gray-900",children:"Service History"})]})}),g.length===0?t.jsx("p",{className:"text-sm text-gray-500",children:"No history available."}):t.jsx("div",{className:"space-y-2 text-sm text-gray-800",children:g.map((v,j)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:v.title}),t.jsx("p",{className:"text-xs text-gray-500",children:v.detail})]}),t.jsx("span",{className:"text-xs text-gray-500",children:v.date&&U(me(v.date),"PPP")})]},`${v.date}-${j}`))})]})]}),t.jsxs(H,{children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(dr,{className:"w-5 h-5 text-gray-500"}),t.jsx("p",{className:"font-semibold text-gray-900",children:"Payslips (last 6)"})]})}),h.length===0?t.jsx("p",{className:"text-sm text-gray-500",children:"No payslips available yet."}):t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-3 text-sm text-gray-800",children:h.map((v,j)=>t.jsxs("div",{className:"border rounded-lg p-3",children:[t.jsxs("p",{className:"font-medium",children:[v.period?.month," ",v.period?.year]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Net Pay: ",v.netPay]}),t.jsx(le,{variant:v.status==="Posted"?"success":"info",children:v.status||"Draft"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:v.postedOn||"Unposted"})]},j))})]})]})}const uce={submitted:"info",returned:"warning","hod-confirmed":"primary","dean-confirmed":"success","vc-approved":"success",pending:"secondary"},M4=e=>({period:e,workload:{teachingLoad:"",admin:""},rubric:{teaching:"",research:"",service:""},grievance:"",attachments:[]}),D4=e=>({period:e,workload:{teachingLoad:"",admin:""},rubric:{teaching:"",research:"",service:""},grievance:"",attachments:[]});function mce(){const{user:e,hasRole:n}=at(),a=ve(P=>P.employees),r=ve(P=>P.submitPamsForm),s=ve(P=>P.getPamsForEmployee),l=n("hod"),c=x.useMemo(()=>a.find(P=>P.id===e?.id||P.email===e?.email),[a,e]),d=new Date,m=Math.floor(d.getMonth()/3)+1,f=`${d.getFullYear()}-Q${m}`,[h,g]=x.useState("workload"),[y,v]=x.useState(()=>l?D4(f):M4(f)),[j,b]=x.useState(""),[w,M]=x.useState(!1),S=x.useMemo(()=>c?s(c.id):[],[c,s]),A=x.useMemo(()=>S.some(P=>P.period===y.period&&P.status==="submitted"),[S,y.period]),E=(P,T)=>{v(O=>{const k=P.split(".");if(k.length===1)return{...O,[P]:T};const[B,I]=k;return{...O,[B]:{...O[B],[I]:T}}})},D=P=>{if(P.preventDefault(),!c){b("No employee profile found.");return}if(A){b("Form already submitted for this period. No modifications allowed.");return}window.confirm(`Are you sure you want to submit your ${l?"HOD":"Faculty"} PAMS for period ${y.period}?

Once submitted, this form cannot be modified. Please review all information before confirming.`)&&(M(!0),r({employeeId:c.id,employeeName:c.name,department:c.department,faculty:c.faculty,category:l?"hod":"faculty",period:y.period,...y,attachments:y.attachments.map(O=>({id:O.id,name:O.name,size:O.size,type:O.type})),by:"employee"}),M(!1),b(l?"HOD PAMS submitted to Dean for review and meeting.":"Faculty PAMS submitted to HOD for review and meeting."),v(l?D4(f):M4(f)),g("workload"))};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Performance & Workload (PAMS)"}),t.jsx("p",{className:"text-gray-600",children:l?"HOD Performance Evaluation - Describe your workload and achievements":"Faculty Performance Evaluation - Describe your workload and achievements"}),l&&t.jsx("p",{className:"text-sm text-indigo-600 mt-1",children:" Submitting as HOD  routed to Dean for appraisal meeting"})]})}),t.jsxs(H,{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(As,{className:"w-5 h-5 text-gray-500"}),t.jsx("p",{className:"font-semibold text-gray-900",children:"New Submission"})]}),t.jsxs("form",{onSubmit:D,className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[t.jsxs("label",{className:"text-sm text-gray-700 font-medium",children:["Period",t.jsx("input",{className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm",value:y.period,onChange:P=>E("period",P.target.value),placeholder:"2026-Q1"})]}),t.jsxs("label",{className:"text-sm text-gray-700 font-medium",children:["Department",t.jsx("input",{className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm bg-gray-50",value:c?.department||"",disabled:!0})]}),t.jsxs("label",{className:"text-sm text-gray-700 font-medium",children:["Faculty",t.jsx("input",{className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm bg-gray-50",value:c?.faculty||"",disabled:!0})]})]}),t.jsx(fce,{form:y,updateField:E,activeTab:h,setActiveTab:g,isHOD:l}),A&&t.jsx("div",{className:"bg-orange-50 border border-orange-300 rounded-lg p-3",children:t.jsxs("p",{className:"text-sm text-orange-700 font-medium",children:[" Form already submitted for period ",y.period,". No modifications allowed."]})}),j&&t.jsx("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-3",children:t.jsx("p",{className:"text-sm text-emerald-700",children:j})}),t.jsx("div",{className:"flex items-center justify-end gap-2",children:t.jsxs(Z,{type:"submit",disabled:w||!c||A,className:"flex items-center gap-2",children:[w?t.jsx(Op,{className:"w-4 h-4 animate-spin"}):t.jsx(Be,{className:"w-4 h-4"}),"Submit ",l?"to Dean":"to HOD"]})})]})]}),t.jsxs(H,{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(I7,{className:"w-5 h-5 text-gray-500"}),t.jsx("p",{className:"font-semibold text-gray-900",children:"Your Submissions"})]}),S.length===0?t.jsx("p",{className:"text-sm text-gray-600",children:"No PAMS submissions yet."}):t.jsx("div",{className:"space-y-3",children:S.map(P=>t.jsxs("div",{className:"border rounded-lg p-3 grid md:grid-cols-4 gap-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Period"}),t.jsx("p",{className:"font-semibold text-gray-900",children:P.period}),t.jsx("p",{className:"text-xs text-gray-500",children:P.submittedAt||""})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Category"}),t.jsx("p",{className:"text-sm text-gray-800",children:P.category==="hod"?"HOD Evaluation":"Faculty Evaluation"})]}),t.jsx("div",{className:"flex items-center justify-between md:justify-end gap-2",children:t.jsx(le,{variant:uce[P.status]||"secondary",children:P.status})})]},P.id))})]})]})}function fce({form:e,updateField:n,activeTab:a,setActiveTab:r,isHOD:s}){return t.jsxs(ha,{value:a,onValueChange:r,children:[t.jsxs(pa,{className:"flex flex-wrap",children:[t.jsx(Ve,{value:"workload",children:"Workload Description"}),t.jsx(Ve,{value:"rubric",children:"Performance Rubric"}),t.jsx(Ve,{value:"attachments",children:"Attachments"})]}),t.jsxs(bt,{value:"workload",className:"space-y-4 mt-4",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:s?"As HOD, describe your departmental leadership workload including teaching and administrative responsibilities.":"Describe your workload during this performance period. Be specific about courses taught and administrative duties. Note: FYP supervisions, thesis supervisions, and research grants are managed in your Profile section."}),t.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:["Teaching Load *",t.jsx("textarea",{rows:4,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.workload.teachingLoad,onChange:l=>n("workload.teachingLoad",l.target.value),placeholder:s?"e.g., Led department teaching plan; taught 1 course to CS-21":"e.g., 3 courses across 2 sections; labs included with prep and grading",required:!0})]}),t.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:["Administrative Duties",t.jsx("textarea",{rows:4,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.workload.admin,onChange:l=>n("workload.admin",l.target.value),placeholder:s?"e.g., Department budgeting, QEC liaison, hiring coordination":"e.g., Exam coordinator (weekly) plus QEC focal (biweekly)"})]})]}),t.jsxs(bt,{value:"rubric",className:"space-y-4 mt-4",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:s?"Describe your performance achievements as HOD in teaching quality, research output, and departmental service.":"Describe your achievements and performance in teaching, research, and service during this period."}),t.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:[s?"Teaching Leadership & Quality":"Teaching Effectiveness",t.jsx("textarea",{rows:3,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.rubric.teaching,onChange:l=>n("rubric.teaching",l.target.value),placeholder:s?"e.g., Reviewed course files; ensured accreditation compliance":"e.g., SETE strong; course files updated; 100% syllabus coverage"})]}),t.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:["Research & ",s?"Funding":"Publications",t.jsx("textarea",{rows:3,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.rubric.research,onChange:l=>n("rubric.research",l.target.value),placeholder:s?"e.g., 1 grant submitted; 1 journal paper under review":"e.g., 2 W-category publications; 1 grant proposal submitted to HEC"})]}),t.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:[s?"Departmental Service & External Engagement":"Service & Community Engagement",t.jsx("textarea",{rows:3,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.rubric.service,onChange:l=>n("rubric.service",l.target.value),placeholder:s?"e.g., Chaired curriculum committee; external outreach to industry":"e.g., Seminar series coordination; curriculum review committee member"})]}),t.jsxs("label",{className:"text-sm font-medium text-gray-700 block",children:["Grievance / Comments / Suggestions (Optional)",t.jsx("textarea",{rows:2,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.grievance,onChange:l=>n("grievance",l.target.value),placeholder:"Any concerns, suggestions, or additional comments"})]})]}),t.jsx(bt,{value:"attachments",className:"space-y-3 mt-4",children:t.jsx(ro,{label:"Supporting Documents",value:e.attachments,onChange:l=>n("attachments",l),helper:s?"Attach strategic plans, reports, budget documents, faculty development records":"Attach course files, SETE reports, publication proofs, grant proposals",maxFiles:10,maxSizeMB:15})})]})}function hce(){return t.jsx(Mi,{children:t.jsxs(Ce,{element:t.jsx(ple,{}),children:[t.jsx(Ce,{index:!0,element:t.jsx(xle,{})}),t.jsx(Ce,{path:"attendance",element:t.jsx(Joe,{})}),t.jsx(Ce,{path:"leave",element:t.jsx(ece,{})}),t.jsx(Ce,{path:"salary",element:t.jsx(tce,{})}),t.jsx(Ce,{path:"self-service",element:t.jsx(dce,{})}),t.jsx(Ce,{path:"profile",element:t.jsx(ice,{})}),t.jsx(Ce,{path:"promotions",element:t.jsx(lce,{})}),t.jsx(Ce,{path:"resignation",element:t.jsx(oce,{})}),t.jsx(Ce,{path:"policy-advisory",element:t.jsx(cce,{})}),t.jsx(Ce,{path:"pams",element:t.jsx(mce,{})}),t.jsx(Ce,{path:"*",element:t.jsx(Ns,{to:".",replace:!0})})]})})}const pce=[{path:"/president",label:"Dashboard",icon:Va,end:!0},{path:"/president/employees",label:"All Employees",icon:rn},{path:"/president/medical-leaves",label:"Medical Leaves",icon:gt},{path:"/president/reports",label:"Reports",icon:gi},{path:"/president/analytics",label:"Analytics",icon:gj},{path:"/president/advisory",label:"Advisory",icon:yj},{path:"/president/settings",label:"Settings",icon:Fr}];function xce(){return t.jsx(Di,{portalKey:"president",portalName:"President Portal",navItems:pce})}function gce(){const e=ve(f=>f.employees),n=e.length,a=e.filter(f=>f.status==="Active").length,r=[...new Set(e.map(f=>f.department))].length,s=e.reduce((f,h)=>f+(h.salaryBase||0),0),l=[{label:"Total Employees",value:n,icon:rn,color:"from-blue-500 to-cyan-500"},{label:"Active Staff",value:a,icon:rn,color:"from-emerald-500 to-teal-500"},{label:"Departments",value:r,icon:so,color:"from-amber-400 to-orange-500"},{label:"Total Payroll",value:`$${s.toLocaleString()}`,icon:ur,color:"from-purple-500 to-fuchsia-500"}],d=["Jun","Jul","Aug","Sep","Oct","Nov"].map((f,h)=>{const g=s*.85,y=(s-g)/5*h,v=(Math.random()-.5)*s*.03;return{month:f,payroll:Math.round(g+y+v)}}),m=({active:f,payload:h})=>f&&h&&h.length?t.jsxs("div",{className:"glass p-3 rounded-lg shadow-lg border border-white/20",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:h[0].payload.month}),t.jsxs("p",{className:"text-lg font-bold text-purple-600",children:["$",h[0].value.toLocaleString()]})]}):null;return t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Executive Overview"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"High-level insights and performance metrics."})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map(f=>t.jsxs("div",{className:"glass p-6 rounded-2xl card-hover relative overflow-hidden group",children:[t.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 bg-linear-to-br ${f.color} opacity-10 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110`}),t.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:f.label}),t.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:f.value})]}),t.jsx("div",{className:`p-3 rounded-xl bg-linear-to-br ${f.color} text-white shadow-lg`,children:t.jsx(f.icon,{className:"w-6 h-6"})})]})]},f.label))}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsx(H,{title:"Department Distribution",children:t.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-xl border border-dashed border-gray-200",children:t.jsxs("div",{className:"text-center",children:[t.jsx(so,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),t.jsx("p",{className:"text-gray-400 font-medium",children:"Distribution Chart"})]})})}),t.jsx(H,{title:"Payroll Trends",children:t.jsx("div",{className:"h-64 pt-4",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(Yu,{data:d,margin:{top:5,right:20,left:10,bottom:5},children:[t.jsx(tn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(nn,{dataKey:"month",stroke:"#6b7280",style:{fontSize:"0.875rem",fontWeight:500}}),t.jsx(an,{stroke:"#6b7280",style:{fontSize:"0.75rem"},tickFormatter:f=>`$${(f/1e3).toFixed(0)}k`}),t.jsx(pt,{content:t.jsx(m,{})}),t.jsx(Fc,{type:"monotone",dataKey:"payroll",stroke:"url(#colorGradient)",strokeWidth:3,dot:{fill:"#a855f7",r:5},activeDot:{r:7,fill:"#9333ea"}}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[t.jsx("stop",{offset:"0%",stopColor:"#a855f7"}),t.jsx("stop",{offset:"100%",stopColor:"#d946ef"})]})})]})})})})]})]})}function yce(){const e=ve(a=>a.employees),n=()=>{const a=Ps.unparse(e),r=new Blob([a],{type:"text/csv"}),s=URL.createObjectURL(r),l=document.createElement("a");l.href=s,l.download="all_employees.csv",l.click()};return t.jsx(H,{title:"All Employees",subtitle:"View all university staff records",actions:t.jsxs(Z,{variant:"outline",onClick:n,children:[t.jsx(Gt,{className:"w-4 h-4"})," Export CSV"]}),children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Code"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Faculty"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Designation"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(a=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:a.code}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a.name}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:a.faculty||"-"}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:a.department}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:a.designation}),t.jsx("td",{className:"px-4 py-3 text-sm",children:t.jsx(le,{variant:a.status==="Active"?"success":"default",children:a.status})})]},a.id))})]})})})}const gh=["#8b5cf6","#3b82f6","#10b981","#f59e0b","#ef4444","#ec4899"],vce=[{id:"workforce",label:"Workforce",icon:rn},{id:"attendance",label:"Attendance",icon:Ue},{id:"leaves",label:"Leaves",icon:nt},{id:"payroll",label:"Payroll",icon:ur}];function bce(){const e=ve(v=>v.employees),n=ve(v=>v.attendance),a=ve(v=>v.leaves),[r,s]=x.useState("workforce"),l=x.useMemo(()=>{const v={};return e.forEach(j=>{const b=j.faculty||"Other";v[b]=(v[b]||0)+1}),Object.entries(v).map(([j,b])=>({name:j,value:b}))},[e]),c=x.useMemo(()=>{const v={};return e.forEach(j=>{v[j.department]=(v[j.department]||0)+1}),Object.entries(v).map(([j,b])=>({name:j,count:b})).sort((j,b)=>b.count-j.count)},[e]),d=x.useMemo(()=>{const v=[];for(let j=5;j>=0;j--){const b=po(new Date,j),w=U(b,"MMM yyyy"),M=n.filter(E=>{const D=me(E.date);return U(D,"MMM yyyy")===w}),S=M.filter(E=>E.status==="Present").length,A=M.length;v.push({month:U(b,"MMM"),present:S,absent:M.filter(E=>E.status==="Absent").length,rate:A>0?Math.round(S/A*100):0})}return v},[n]),m=x.useMemo(()=>{const v={};return a.forEach(j=>{v[j.type]=(v[j.type]||0)+1}),Object.entries(v).map(([j,b])=>({name:j,value:b}))},[a]),f=x.useMemo(()=>({total:a.length,pending:a.filter(v=>v.status==="Pending").length,approved:a.filter(v=>v.status==="Approved").length,rejected:a.filter(v=>v.status==="Rejected").length}),[a]),h=x.useMemo(()=>{const v={};return e.forEach(j=>{const b=j.faculty||"Other";v[b]=(v[b]||0)+(j.salaryBase||0)}),Object.entries(v).map(([j,b])=>({name:j,value:Math.round(b/1e3)}))},[e]),g=e.reduce((v,j)=>v+(j.salaryBase||0),0),y=v=>{let j=[],b="";switch(v){case"workforce":j=e.map(E=>({Code:E.code,Name:E.name,Faculty:E.faculty,Department:E.department,Designation:E.designation,Status:E.status,Salary:E.salaryBase})),b="institution_workforce";break;case"attendance":j=d.map(E=>({Month:E.month,Present:E.present,Absent:E.absent,Rate:`${E.rate}%`})),b="institution_attendance";break;case"leaves":j=a.map(E=>({Employee:e.find(D=>D.id===E.employeeId)?.name||"Unknown",Type:E.type,From:E.from,To:E.to,Status:E.status})),b="institution_leaves";break;case"payroll":j=h.map(E=>({Faculty:E.name,Payroll:`$${E.value}k`})),b="institution_payroll";break}const w=Ps.unparse(j),M=new Blob([w],{type:"text/csv"}),S=URL.createObjectURL(M),A=document.createElement("a");A.href=S,A.download=`${b}_${U(new Date,"yyyy-MM-dd")}.csv`,A.click()};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Institution Reports"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"Comprehensive institutional analytics"})]}),t.jsxs(Z,{variant:"outline",onClick:()=>y(r),children:[t.jsx(Gt,{className:"w-4 h-4"}),"Export Report"]})]}),t.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:vce.map(v=>t.jsxs("button",{onClick:()=>s(v.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${r===v.id?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx(v.icon,{className:"w-4 h-4"}),v.label]},v.id))}),r==="workforce"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"glass p-4 rounded-xl text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length}),t.jsx("p",{className:"text-xs text-gray-500",children:"Total Staff"})]}),t.jsxs("div",{className:"glass p-4 rounded-xl text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:e.filter(v=>v.status==="Active").length}),t.jsx("p",{className:"text-xs text-gray-500",children:"Active"})]}),t.jsxs("div",{className:"glass p-4 rounded-xl text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:l.length}),t.jsx("p",{className:"text-xs text-gray-500",children:"Faculties"})]}),t.jsxs("div",{className:"glass p-4 rounded-xl text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:c.length}),t.jsx("p",{className:"text-xs text-gray-500",children:"Departments"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(H,{title:"Faculty Distribution",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(fr,{children:[t.jsx(Wa,{data:l,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:3,dataKey:"value",label:({name:v,percent:j})=>`${(j*100).toFixed(0)}%`,children:l.map((v,j)=>t.jsx(kn,{fill:gh[j%gh.length]},v.name))}),t.jsx(pt,{}),t.jsx(cr,{})]})})})}),t.jsx(H,{title:"Department Breakdown",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(Rr,{data:c.slice(0,6),layout:"vertical",children:[t.jsx(tn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(nn,{type:"number",tick:{fontSize:12}}),t.jsx(an,{type:"category",dataKey:"name",tick:{fontSize:11},width:100}),t.jsx(pt,{}),t.jsx(ra,{dataKey:"count",fill:"#8b5cf6",radius:[0,4,4,0]})]})})})})]})]}),r==="attendance"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(H,{title:"Monthly Attendance Trend",subtitle:"Last 6 months",children:t.jsx("div",{className:"h-72",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(Mo,{data:d,children:[t.jsx(tn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(nn,{dataKey:"month",tick:{fontSize:12}}),t.jsx(an,{tick:{fontSize:12}}),t.jsx(pt,{}),t.jsx(cr,{}),t.jsx(Ua,{type:"monotone",dataKey:"present",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Present"}),t.jsx(Ua,{type:"monotone",dataKey:"absent",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Absent"})]})})})}),t.jsx(H,{title:"Attendance Rate Trend",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(Yu,{data:d,children:[t.jsx(tn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(nn,{dataKey:"month",tick:{fontSize:12}}),t.jsx(an,{tick:{fontSize:12},domain:[0,100],unit:"%"}),t.jsx(pt,{formatter:v=>[`${v}%`,"Rate"]}),t.jsx(Fc,{type:"monotone",dataKey:"rate",stroke:"#8b5cf6",strokeWidth:3,dot:{fill:"#8b5cf6"}})]})})})})]}),r==="leaves"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"glass p-4 rounded-xl text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.total}),t.jsx("p",{className:"text-xs text-gray-500",children:"Total Requests"})]}),t.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-amber-500",children:[t.jsx("p",{className:"text-2xl font-bold text-amber-600",children:f.pending}),t.jsx("p",{className:"text-xs text-gray-500",children:"Pending"})]}),t.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-emerald-500",children:[t.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:f.approved}),t.jsx("p",{className:"text-xs text-gray-500",children:"Approved"})]}),t.jsxs("div",{className:"glass p-4 rounded-xl text-center border-l-4 border-red-500",children:[t.jsx("p",{className:"text-2xl font-bold text-red-600",children:f.rejected}),t.jsx("p",{className:"text-xs text-gray-500",children:"Rejected"})]})]}),t.jsx(H,{title:"Leave Distribution by Type",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(fr,{children:[t.jsx(Wa,{data:m,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:v,value:j})=>`${v}: ${j}`,children:m.map((v,j)=>t.jsx(kn,{fill:gh[j%gh.length]},v.name))}),t.jsx(pt,{}),t.jsx(cr,{})]})})})})]}),r==="payroll"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"glass p-6 rounded-xl",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Total Monthly Payroll"}),t.jsxs("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:["$",g.toLocaleString()]})]}),t.jsxs("div",{className:"glass p-6 rounded-xl",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Average Salary"}),t.jsxs("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:["$",Math.round(g/e.length).toLocaleString()]})]}),t.jsxs("div",{className:"glass p-6 rounded-xl",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Annual Projection"}),t.jsxs("p",{className:"text-3xl font-bold text-emerald-600 mt-2",children:["$",(g*12).toLocaleString()]})]})]}),t.jsx(H,{title:"Payroll by Faculty",subtitle:"Monthly salary expense (in thousands)",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(Rr,{data:h,children:[t.jsx(tn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(nn,{dataKey:"name",tick:{fontSize:11}}),t.jsx(an,{tick:{fontSize:12},tickFormatter:v=>`$${v}k`}),t.jsx(pt,{formatter:v=>[`$${v}k`,"Payroll"]}),t.jsx(ra,{dataKey:"value",fill:"#8b5cf6",radius:[4,4,0,0]})]})})})})]})]})}const dl=["#8b5cf6","#3b82f6","#10b981","#f59e0b","#ef4444","#ec4899","#06b6d4","#84cc16"];function jce(){const e=ve(m=>m.employees);ve(m=>m.attendance);const n=ve(m=>m.leaves),a=x.useMemo(()=>[{range:"< $30k",min:0,max:3e4},{range:"$30k-50k",min:3e4,max:5e4},{range:"$50k-70k",min:5e4,max:7e4},{range:"$70k-100k",min:7e4,max:1e5},{range:"> $100k",min:1e5,max:1/0}].map(f=>({range:f.range,count:e.filter(h=>(h.salaryBase||0)>=f.min&&(h.salaryBase||0)<f.max).length})),[e]),r=x.useMemo(()=>[...new Set(e.map(f=>f.faculty).filter(Boolean))].map(f=>{const h=e.filter(g=>g.faculty===f);return h.reduce((g,y)=>g+(y.salaryBase||0),0)/h.length,{faculty:f.split(" ")[0],staffCount:h.length,attendance:Math.round(70+Math.random()*25),efficiency:Math.round(65+Math.random()*30),satisfaction:Math.round(60+Math.random()*35)}}),[e]),s=x.useMemo(()=>{const m={};return e.forEach(f=>{m[f.designation]=(m[f.designation]||0)+1}),Object.entries(m).map(([f,h])=>({name:f,size:h})).sort((f,h)=>h.size-f.size)},[e]),l=x.useMemo(()=>e.slice(0,50).map(m=>({name:m.name,experience:Math.floor(Math.random()*25)+1,salary:(m.salaryBase||5e4)/1e3,department:m.department})),[e]),c=x.useMemo(()=>{const m=e.reduce((y,v)=>y+(v.salaryBase||0),0),f=e.filter(y=>y.status==="Active").length/e.length*100,h=m/e.length,g=n.filter(y=>y.status==="Pending").length;return[{label:"Workforce Utilization",value:`${Math.round(f)}%`,trend:"up",change:"+2.3%",icon:rn,color:"text-emerald-600"},{label:"Avg. Compensation",value:`$${Math.round(h/1e3)}k`,trend:"up",change:"+5.1%",icon:ur,color:"text-purple-600"},{label:"Pending Actions",value:g,trend:g>10?"down":"neutral",change:g>10?"High":"Normal",icon:gj,color:g>10?"text-red-600":"text-blue-600"},{label:"Departments",value:[...new Set(e.map(y=>y.department))].length,trend:"neutral",change:"Stable",icon:so,color:"text-amber-600"}]},[e,n]),d=x.useMemo(()=>["Attendance","Efficiency","Satisfaction","Growth","Retention"].map(f=>({metric:f,...r.reduce((h,g)=>(h[g.faculty]=Math.round(60+Math.random()*35),h),{})})),[r]);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Advanced Analytics"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"Deep insights and performance analysis"})]}),t.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:c.map(m=>t.jsxs("div",{className:"glass p-4 rounded-xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(m.icon,{className:`w-5 h-5 ${m.color}`}),m.trend==="up"&&t.jsx(Ss,{className:"w-4 h-4 text-emerald-500"}),m.trend==="down"&&t.jsx(xj,{className:"w-4 h-4 text-red-500"})]}),t.jsx("p",{className:`text-2xl font-bold ${m.color}`,children:m.value}),t.jsx("p",{className:"text-xs text-gray-500",children:m.label}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:m.change})]},m.label))}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(H,{title:"Salary Distribution",subtitle:"Employee count by salary range",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(Rr,{data:a,children:[t.jsx(tn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(nn,{dataKey:"range",tick:{fontSize:11}}),t.jsx(an,{tick:{fontSize:12}}),t.jsx(pt,{}),t.jsx(ra,{dataKey:"count",fill:"#8b5cf6",radius:[4,4,0,0],children:a.map((m,f)=>t.jsx(kn,{fill:dl[f%dl.length]},m.range))})]})})})}),t.jsx(H,{title:"Faculty Comparison",subtitle:"Performance metrics across faculties",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(tse,{data:d,children:[t.jsx(oR,{stroke:"#e5e7eb"}),t.jsx(mR,{dataKey:"metric",tick:{fontSize:11}}),t.jsx(uR,{angle:30,domain:[0,100],tick:{fontSize:10}}),r.slice(0,3).map((m,f)=>t.jsx(jR,{name:m.faculty,dataKey:m.faculty,stroke:dl[f],fill:dl[f],fillOpacity:.2},m.faculty)),t.jsx(cr,{}),t.jsx(pt,{})]})})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(H,{title:"Designation Hierarchy",subtitle:"Staff count by designation",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(fr,{children:[t.jsx(Wa,{data:s.slice(0,6),cx:"50%",cy:"50%",outerRadius:80,dataKey:"size",label:({name:m,percent:f})=>`${m.split(" ")[0]} (${(f*100).toFixed(0)}%)`,children:s.slice(0,6).map((m,f)=>t.jsx(kn,{fill:dl[f%dl.length]},m.name))}),t.jsx(pt,{})]})})})}),t.jsx(H,{title:"Experience vs Salary",subtitle:"Correlation analysis",children:t.jsx("div",{className:"h-64",children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(ase,{margin:{top:20,right:20,bottom:20,left:20},children:[t.jsx(tn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(nn,{dataKey:"experience",name:"Experience",unit:" yrs",tick:{fontSize:11}}),t.jsx(an,{dataKey:"salary",name:"Salary",unit:"k",tick:{fontSize:11}}),t.jsx(a6,{range:[60,200]}),t.jsx(pt,{cursor:{strokeDasharray:"3 3"}}),t.jsx(t6,{name:"Employees",data:l,fill:"#8b5cf6"})]})})})})]}),t.jsx(H,{title:"Faculty Performance Metrics",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50",children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Faculty"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase",children:"Staff"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase",children:"Attendance"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase",children:"Efficiency"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase",children:"Satisfaction"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:r.map((m,f)=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:dl[f%dl.length]}}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:m.faculty})]})}),t.jsx("td",{className:"px-4 py-3 text-center text-sm text-gray-600",children:m.staffCount}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsxs("span",{className:`text-sm font-medium ${m.attendance>=85?"text-emerald-600":m.attendance>=70?"text-amber-600":"text-red-600"}`,children:[m.attendance,"%"]})}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsxs("span",{className:`text-sm font-medium ${m.efficiency>=85?"text-emerald-600":m.efficiency>=70?"text-amber-600":"text-red-600"}`,children:[m.efficiency,"%"]})}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsxs("span",{className:`text-sm font-medium ${m.satisfaction>=85?"text-emerald-600":m.satisfaction>=70?"text-amber-600":"text-red-600"}`,children:[m.satisfaction,"%"]})})]},m.faculty))})]})})})]})}function Nce(){const[e,n]=x.useState(""),[a,r]=x.useState(!1),s=()=>{e.trim()&&(console.log("Advisory sent:",e),r(!0),n(""),setTimeout(()=>r(!1),3e3))};return t.jsx("div",{className:"max-w-2xl mx-auto",children:t.jsx(H,{title:"Executive Advisory",subtitle:"Send advisory notes to Deans and HODs",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx(st,{label:"Advisory Note",id:"advisory",children:t.jsx("textarea",{id:"advisory",rows:6,className:"w-full border-gray-300 rounded-md shadow-xs focus:border-purple-500 focus:ring-purple-500 sm:text-sm p-3 border",placeholder:"Enter your advisory instructions or feedback here...",value:e,onChange:l=>n(l.target.value)})}),t.jsx("div",{className:"flex justify-end",children:t.jsx(Z,{onClick:s,children:"Send Advisory"})}),a&&t.jsx("div",{className:"p-4 bg-green-50 text-green-700 rounded-md border border-green-200",children:"Advisory sent successfully!"})]})})})}const wce=[{id:"profile",label:"Profile",icon:_r},{id:"notifications",label:"Notifications",icon:ss},{id:"preferences",label:"Preferences",icon:Fr},{id:"security",label:"Security",icon:vi}];function Sce(){const e=at(y=>y.user),[n,a]=x.useState("profile"),[r,s]=x.useState(!1),[l,c]=x.useState({name:e?.name||"",email:e?.email||"",phone:"+92-300-1234567",office:"Executive Block, Room 001",title:"Vice President"}),[d,m]=x.useState({emailAlerts:!0,institutionalUpdates:!0,hrReports:!0,weeklyDigest:!0,monthlyAnalytics:!0,systemAlerts:!0}),[f,h]=x.useState({defaultView:"dashboard",dashboardLayout:"executive",reportFormat:"detailed",dateFormat:"dd/MM/yyyy",currency:"USD"}),g=()=>{s(!0),setTimeout(()=>s(!1),2e3)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your executive portal preferences"})]}),t.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:wce.map(y=>t.jsxs("button",{onClick:()=>a(y.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${n===y.id?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx(y.icon,{className:"w-4 h-4"}),y.label]},y.id))}),n==="profile"&&t.jsx(H,{title:"Profile Information",subtitle:"Your executive profile details",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-20 h-20 rounded-full bg-linear-to-br from-purple-500 to-indigo-500 flex items-center justify-center text-white text-2xl font-bold",children:e?.name?.charAt(0)||"VP"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?.name}),t.jsxs("p",{className:"text-gray-500",children:[l.title," - CECOS University"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(st,{label:"Full Name",children:t.jsx("input",{type:"text",value:l.name,onChange:y=>c({...l,name:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})}),t.jsx(st,{label:"Title",children:t.jsx("input",{type:"text",value:l.title,onChange:y=>c({...l,title:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})}),t.jsx(st,{label:"Email",children:t.jsx("input",{type:"email",value:l.email,onChange:y=>c({...l,email:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})}),t.jsx(st,{label:"Phone",children:t.jsx("input",{type:"text",value:l.phone,onChange:y=>c({...l,phone:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})}),t.jsx(st,{label:"Office",className:"md:col-span-2",children:t.jsx("input",{type:"text",value:l.office,onChange:y=>c({...l,office:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(Z,{onClick:g,children:r?"Saved!":"Save Changes"})})]})}),n==="notifications"&&t.jsx(H,{title:"Notification Preferences",subtitle:"Control executive notifications",children:t.jsxs("div",{className:"space-y-4",children:[[{key:"emailAlerts",label:"Email Alerts",desc:"Critical updates via email"},{key:"institutionalUpdates",label:"Institutional Updates",desc:"University-wide announcements"},{key:"hrReports",label:"HR Reports",desc:"HR department summaries"},{key:"weeklyDigest",label:"Weekly Digest",desc:"Weekly performance summary"},{key:"monthlyAnalytics",label:"Monthly Analytics",desc:"Monthly analytics reports"},{key:"systemAlerts",label:"System Alerts",desc:"Technical and system notifications"}].map(y=>t.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-100 hover:border-gray-200 transition-all",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:y.label}),t.jsx("p",{className:"text-sm text-gray-500",children:y.desc})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:d[y.key],onChange:v=>m({...d,[y.key]:v.target.checked}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]},y.key)),t.jsx("div",{className:"flex justify-end pt-4",children:t.jsx(Z,{onClick:g,children:r?"Saved!":"Save Preferences"})})]})}),n==="preferences"&&t.jsx(H,{title:"Portal Preferences",subtitle:"Customize your executive experience",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(st,{label:"Default View",children:t.jsxs("select",{value:f.defaultView,onChange:y=>h({...f,defaultView:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[t.jsx("option",{value:"dashboard",children:"Dashboard"}),t.jsx("option",{value:"analytics",children:"Analytics"}),t.jsx("option",{value:"reports",children:"Reports"}),t.jsx("option",{value:"employees",children:"Employees"})]})}),t.jsx(st,{label:"Dashboard Layout",children:t.jsxs("select",{value:f.dashboardLayout,onChange:y=>h({...f,dashboardLayout:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[t.jsx("option",{value:"executive",children:"Executive Summary"}),t.jsx("option",{value:"detailed",children:"Detailed View"}),t.jsx("option",{value:"compact",children:"Compact View"})]})}),t.jsx(st,{label:"Report Format",children:t.jsxs("select",{value:f.reportFormat,onChange:y=>h({...f,reportFormat:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[t.jsx("option",{value:"detailed",children:"Detailed"}),t.jsx("option",{value:"summary",children:"Summary"}),t.jsx("option",{value:"visual",children:"Visual Heavy"})]})}),t.jsx(st,{label:"Date Format",children:t.jsxs("select",{value:f.dateFormat,onChange:y=>h({...f,dateFormat:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[t.jsx("option",{value:"dd/MM/yyyy",children:"DD/MM/YYYY"}),t.jsx("option",{value:"MM/dd/yyyy",children:"MM/DD/YYYY"}),t.jsx("option",{value:"yyyy-MM-dd",children:"YYYY-MM-DD"})]})}),t.jsx(st,{label:"Currency Display",children:t.jsxs("select",{value:f.currency,onChange:y=>h({...f,currency:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[t.jsx("option",{value:"USD",children:"USD ($)"}),t.jsx("option",{value:"PKR",children:"PKR ()"}),t.jsx("option",{value:"EUR",children:"EUR ()"}),t.jsx("option",{value:"GBP",children:"GBP ()"})]})})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(Z,{onClick:g,children:r?"Saved!":"Save Preferences"})})]})}),n==="security"&&t.jsx(H,{title:"Security Settings",subtitle:"Manage your account security",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"p-4 rounded-lg border border-gray-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security"})]}),t.jsx(Z,{variant:"outline",size:"sm",children:"Enable"})]})}),t.jsx("div",{className:"p-4 rounded-lg border border-gray-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Change Password"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]}),t.jsx(Z,{variant:"outline",size:"sm",children:"Update"})]})}),t.jsx("div",{className:"p-4 rounded-lg border border-gray-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Active Sessions"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Manage your active login sessions"})]}),t.jsx(Z,{variant:"outline",size:"sm",children:"View"})]})}),t.jsx("div",{className:"p-4 rounded-lg border border-gray-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Login History"}),t.jsx("p",{className:"text-sm text-gray-500",children:"View recent login activity"})]}),t.jsx(Z,{variant:"outline",size:"sm",children:"View"})]})})]})})]})}const Ace=[{id:"pending",label:"Pending"},{id:"approved",label:"Recommended"},{id:"rejected",label:"Rejected"}];function Cce(){const e=ve(L=>L.employees),n=ve(L=>L.leaves),a=ve(L=>L.updateLeaveStatus),r=at(L=>L.user),[s,l]=x.useState("pending"),[c,d]=x.useState(""),[m,f]=x.useState(null),[h,g]=x.useState(!1),[y,v]=x.useState(null),[j,b]=x.useState(""),[w,M]=x.useState(0),[S,A]=x.useState(0),[E,D]=x.useState(null),[P,T]=x.useState(""),O=x.useMemo(()=>n.filter(L=>L.type==="medical").map(L=>({...L,employee:e.find(G=>G.id===L.employeeId),days:L.days||(L.startDate&&L.endDate?rs(me(L.endDate),me(L.startDate))+1:0)})).sort((L,G)=>new Date(G.appliedOn)-new Date(L.appliedOn)),[n,e]),k=x.useMemo(()=>O.filter(L=>{if(c){const W=c.toLowerCase(),R=L.employee?.name?.toLowerCase().includes(W),F=L.employee?.code?.toLowerCase().includes(W);if(!R&&!F)return!1}const G=L.approvalChain?.find(W=>W.role==="president");return G?s==="pending"?G.status==="pending":s==="approved"?G.status==="approved":s==="rejected"?G.status==="rejected":!1:!1}),[O,s,c]),B=x.useMemo(()=>{const L=O.filter(G=>G.approvalChain?.some(W=>W.role==="president"));return{total:L.length,pending:L.filter(G=>G.approvalChain?.find(W=>W.role==="president")?.status==="pending").length,approved:L.filter(G=>G.approvalChain?.find(W=>W.role==="president")?.status==="approved").length,rejected:L.filter(G=>G.approvalChain?.find(W=>W.role==="president")?.status==="rejected").length}},[O]),I=(L,G)=>{f(L),v(G),b(""),M(L.days||0),A(0),D(null),T(""),g(!0)},z=L=>{if(L&&L.preventDefault(),!m||!y){console.log("Missing selectedLeave or actionType");return}if(y==="approve"){const G=Number(w)||0,W=Number(S)||0,R=G+W,F=m.days||0;if(console.log("Validation:",{paid:G,unpaid:W,total:R,requiredDays:F,leaveCategory:E}),R!==F){const q=`Days don't match: ${G} + ${W} = ${R}, but leave is ${F} days`;console.log("Days validation failed:",q),T(q);return}if(!E){const q="Please select a classification for this medical leave (Paid Medical or Unpaid Medical)";console.log("Category validation failed"),T(q);return}console.log("Validation passed, updating leave status"),T(""),a(m.id,"Approved","president",r.name,j||void 0,{paidDays:G,unpaidDays:W,leaveCategory:E})}else console.log("Rejecting leave"),a(m.id,"Rejected","president",r.name,j||void 0);g(!1),f(null),v(null),b(""),M(0),A(0),D(null),T("")},J=L=>{switch(L){case"approved":return t.jsx(le,{variant:"success",children:"Recommended"});case"rejected":return t.jsx(le,{variant:"danger",children:"Rejected"});default:return t.jsx(le,{variant:"warning",children:"Pending"})}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Medical Leave Requests - Final Approval"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"Review, classify, and approve medical leave applications with paid/unpaid split"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"glass p-4 rounded-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-gray-100",children:t.jsx(nt,{className:"w-5 h-5 text-gray-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B.total}),t.jsx("p",{className:"text-xs text-gray-500",children:"Total Requests"})]})]})}),t.jsx("div",{className:"glass p-4 rounded-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-amber-100",children:t.jsx(Ue,{className:"w-5 h-5 text-amber-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-amber-600",children:B.pending}),t.jsx("p",{className:"text-xs text-gray-500",children:"Pending"})]})]})}),t.jsx("div",{className:"glass p-4 rounded-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:t.jsx(Be,{className:"w-5 h-5 text-emerald-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:B.approved}),t.jsx("p",{className:"text-xs text-gray-500",children:"Recommended"})]})]})}),t.jsx("div",{className:"glass p-4 rounded-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:t.jsx(zt,{className:"w-5 h-5 text-red-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-red-600",children:B.rejected}),t.jsx("p",{className:"text-xs text-gray-500",children:"Rejected"})]})]})})]}),t.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Ace.map(L=>t.jsxs("button",{onClick:()=>l(L.id),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${s===L.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[L.label,L.id==="pending"&&B.pending>0&&t.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-white/20 rounded text-xs",children:B.pending})]},L.id))}),t.jsxs(H,{children:[t.jsx("div",{className:"mb-4",children:t.jsx(Rn,{type:"text",placeholder:"Search by employee name or code...",value:c,onChange:L=>d(L.target.value),className:"w-full",inputClassName:"pr-4 py-2 text-sm"})}),t.jsx("div",{className:"space-y-4",children:k.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(nt,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No medical leave requests found"})]}):k.map(L=>{const G=L.approvalChain?.find(R=>R.role==="president"),W=L.approvalChain?.find(R=>R.role==="hod");return t.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl hover:border-gray-200 transition-all",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold",children:L.employee?.name?.charAt(0)||"?"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:L.employee?.name}),t.jsxs("p",{className:"text-sm text-gray-500",children:[L.employee?.code,"  ",L.employee?.department]})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsx("span",{className:"px-2 py-1 rounded-full bg-teal-100 text-teal-700 text-xs font-medium",children:"Medical Leave"}),t.jsxs("span",{className:"text-sm text-gray-600",children:[L.startDate?U(me(L.startDate),"MMM d"):"N/A"," "," ",L.endDate?U(me(L.endDate),"MMM d, yyyy"):"N/A",t.jsxs("span",{className:"text-gray-400 ml-2",children:["(",L.days," day",L.days>1?"s":"",")"]})]}),J(G?.status)]}),G?.status==="pending"&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>I(L,"approve"),className:"text-emerald-600 border-emerald-200 hover:bg-emerald-50",children:[t.jsx(Be,{className:"w-4 h-4"}),"Recommend"]}),t.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>I(L,"reject"),className:"text-red-600 border-red-200 hover:bg-red-50",children:[t.jsx(zt,{className:"w-4 h-4"}),"Reject"]})]})]}),L.reason&&t.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:t.jsxs("p",{className:"text-sm text-gray-600",children:[t.jsx("span",{className:"font-medium text-gray-700",children:"Reason: "}),L.reason]})}),W&&W.comment&&t.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:t.jsxs("p",{className:"text-sm text-gray-600",children:[t.jsx("span",{className:"font-medium text-gray-700",children:"HOD Recommendation: "}),W.comment]})})]},L.id)})})]}),t.jsx(ft,{isOpen:h,onClose:()=>g(!1),title:`${y==="approve"?"Recommend":"Reject"} Medical Leave Request`,children:m&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-linear-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold",children:m.employee?.name?.charAt(0)}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:m.employee?.name}),t.jsx("p",{className:"text-sm text-gray-500",children:m.employee?.department})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Type:"}),t.jsx("span",{className:"ml-2 font-medium",children:"Medical Leave"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Duration:"}),t.jsxs("span",{className:"ml-2 font-medium",children:[m.days," day(s)"]})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("span",{className:"text-gray-500",children:"Period:"}),t.jsxs("span",{className:"ml-2 font-medium",children:[m.startDate?U(me(m.startDate),"MMM d"):"N/A"," ","-"," ",m.endDate?U(me(m.endDate),"MMM d, yyyy"):"N/A"]})]})]})]}),m.documents&&m.documents.length>0&&t.jsxs("div",{className:"space-y-3 bg-slate-50 border border-slate-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(kr,{className:"w-5 h-5 text-slate-600"}),t.jsx("p",{className:"font-semibold text-slate-900",children:"Medical Documents"})]}),t.jsx("div",{className:"space-y-2",children:m.documents.map((L,G)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-slate-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(kr,{className:"w-5 h-5 text-slate-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-900",children:L.name}),t.jsxs("p",{className:"text-xs text-slate-500",children:[(L.size/1024).toFixed(1)," KB  Uploaded"," ",L.uploadedAt?U(me(L.uploadedAt),"MMM d, yyyy"):"N/A"]})]})]}),t.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>{const W=document.createElement("a");W.href=L.file,W.download=L.name,document.body.appendChild(W),W.click(),document.body.removeChild(W)},className:"text-blue-600 hover:text-blue-700",children:[t.jsx(Gt,{className:"w-4 h-4"}),"Download"]})]},L.id||G))})]}),m.approvalChain?.find(L=>L.role==="hod")?.comment&&t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"HOD Recommendation:"}),t.jsx("p",{className:"text-sm text-blue-700",children:m.approvalChain.find(L=>L.role==="hod").comment})]}),m.approvalChain?.find(L=>L.role==="vc")?.comment&&t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"VC Recommendation:"}),t.jsx("p",{className:"text-sm text-blue-700",children:m.approvalChain.find(L=>L.role==="vc").comment})]}),y==="approve"&&t.jsxs("div",{className:"space-y-4 bg-linear-to-br from-purple-50 via-indigo-50 to-blue-50 border-2 border-purple-300 rounded-xl p-5 shadow-lg",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-10 h-10 bg-linear-to-br from-purple-600 to-indigo-600 rounded-lg flex items-center justify-center shadow-lg",children:t.jsx(kr,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-purple-900 text-lg",children:" Final Medical Leave Decision"}),t.jsx("p",{className:"text-sm text-purple-700",children:"Classify days and categorize this medical leave"})]})]}),t.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-xl p-4 shadow-sm",children:[t.jsx("p",{className:"font-bold text-purple-900 mb-1",children:"Step 1: Classify Leave Days"}),t.jsxs("p",{className:"text-sm text-purple-700 mb-3",children:["Total days to classify:"," ",t.jsx("span",{className:"font-bold text-lg",children:m.days})," days"]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-3 mb-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Paid Days"}),t.jsx("input",{type:"number",min:0,max:m.days,value:w,onChange:L=>{M(L.target.value),T("")},className:"w-full px-3 py-2 border-2 border-green-300 rounded-lg text-lg font-bold text-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 bg-green-50",placeholder:"0"}),t.jsx("p",{className:"text-xs text-green-600 mt-1 font-medium",children:" Employee receives full salary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Unpaid Days"}),t.jsx("input",{type:"number",min:0,max:m.days,value:S,onChange:L=>{A(L.target.value),T("")},className:"w-full px-3 py-2 border-2 border-amber-300 rounded-lg text-lg font-bold text-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500 bg-amber-50",placeholder:"0"}),t.jsx("p",{className:"text-xs text-amber-600 mt-1 font-medium",children:" No salary for these days"})]})]}),(()=>{const L=Number(w)||0,G=Number(S)||0,W=L+G,R=W===m.days,F=W>m.days;return t.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-lg border-2 transition-all ${R?"bg-linear-to-r from-green-50 to-emerald-50 border-green-400":F?"bg-linear-to-r from-red-50 to-rose-50 border-red-400":"bg-linear-to-r from-yellow-50 to-amber-50 border-yellow-400"}`,children:[t.jsxs("div",{className:"text-center flex-1",children:[t.jsx("p",{className:"text-2xl font-bold text-green-600",children:L}),t.jsx("p",{className:"text-xs text-green-700 font-bold uppercase",children:"Paid"})]}),t.jsx("div",{className:"text-3xl text-gray-300 font-bold",children:"+"}),t.jsxs("div",{className:"text-center flex-1",children:[t.jsx("p",{className:"text-2xl font-bold text-amber-600",children:G}),t.jsx("p",{className:"text-xs text-amber-700 font-bold uppercase",children:"Unpaid"})]}),t.jsx("div",{className:"text-3xl text-gray-300 font-bold",children:"="}),t.jsxs("div",{className:"text-center flex-1",children:[t.jsx("p",{className:`text-2xl font-bold ${R?"text-green-600":F?"text-red-600":"text-yellow-600"}`,children:W}),t.jsxs("p",{className:"text-xs text-gray-700 font-bold uppercase",children:["of ",m.days]})]})]})})(),P&&t.jsx("div",{className:"bg-red-100 border border-red-300 rounded-lg p-2 mt-2",children:t.jsxs("p",{className:"text-sm text-red-700 font-semibold",children:[" ",P]})})]}),t.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-xl p-4 shadow-sm",children:[t.jsx("p",{className:"font-bold text-purple-900 mb-1",children:"Step 2: Final Medical Leave Category"}),t.jsx("p",{className:"text-sm text-purple-700 mb-3",children:"Based on submitted medical documentation and paid days allocation:"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[t.jsxs("button",{type:"button",onClick:()=>D("medical"),className:`group p-4 rounded-lg border-2 transition-all text-left ${E==="medical"?"border-green-500 bg-linear-to-br from-green-50 to-emerald-50 shadow-lg":"border-gray-200 bg-white hover:border-green-300 hover:shadow-md"}`,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${E==="medical"?"bg-green-500":"bg-gray-100"}`,children:t.jsx(Be,{className:`w-5 h-5 ${E==="medical"?"text-white":"text-gray-400"}`})}),t.jsx("p",{className:"font-bold text-gray-900",children:" Paid Medical"})]}),t.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Approved with medical benefits. Employee receives full salary for paid days."})]}),t.jsxs("button",{type:"button",onClick:()=>D("unpaid"),className:`group p-4 rounded-lg border-2 transition-all text-left ${E==="unpaid"?"border-amber-500 bg-linear-to-br from-amber-50 to-orange-50 shadow-lg":"border-gray-200 bg-white hover:border-amber-300 hover:shadow-md"}`,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${E==="unpaid"?"bg-amber-500":"bg-gray-100"}`,children:t.jsx(zt,{className:`w-5 h-5 ${E==="unpaid"?"text-white":"text-gray-400"}`})}),t.jsx("p",{className:"font-bold text-gray-900",children:" Unpaid Medical"})]}),t.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Not eligible for medical benefits. Employee receives no salary."})]})]}),E&&t.jsx("div",{className:"bg-linear-to-r from-blue-50 to-indigo-50 border border-blue-300 rounded-lg p-3 mt-3",children:t.jsxs("p",{className:"text-sm text-blue-900 font-bold",children:[" Classification:"," ",E==="medical"?"Paid Medical Leave":"Unpaid Medical Leave"]})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:y==="approve"?"Additional Comments (Optional)":"Rejection Reason"}),t.jsx("textarea",{value:j,onChange:L=>b(L.target.value),placeholder:y==="approve"?"Add any additional notes or comments...":"Reason for rejection...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3})]}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx(Z,{variant:"ghost",onClick:()=>g(!1),children:"Cancel"}),t.jsx(Z,{variant:y==="approve"?"primary":"danger",onClick:z,children:y==="approve"?"Approve & Finalize":"Reject Request"})]})]})})]})}function Mce(){return t.jsx(Mi,{children:t.jsxs(Ce,{element:t.jsx(xce,{}),children:[t.jsx(Ce,{index:!0,element:t.jsx(gce,{})}),t.jsx(Ce,{path:"employees",element:t.jsx(yce,{})}),t.jsx(Ce,{path:"reports",element:t.jsx(bce,{})}),t.jsx(Ce,{path:"analytics",element:t.jsx(jce,{})}),t.jsx(Ce,{path:"advisory",element:t.jsx(Nce,{})}),t.jsx(Ce,{path:"medical-leaves",element:t.jsx(Cce,{})}),t.jsx(Ce,{path:"settings",element:t.jsx(Sce,{})}),t.jsx(Ce,{path:"*",element:t.jsx(Ns,{to:".",replace:!0})})]})})}function Dce(){const e=at(c=>c.user),{leaves:n,employees:a}=ve(),r=x.useMemo(()=>{const c=new Date;return Array.from({length:12},(m,f)=>{const h=new Date(c.getFullYear(),c.getMonth()-11+f,1);return{label:h.toLocaleString("default",{month:"short",year:"2-digit"}),year:h.getFullYear(),month:h.getMonth()}}).map(m=>{const f=n.filter(h=>{if(h.type!=="medical")return!1;const g=h.startDate?me(h.startDate):null;return g&&g.getFullYear()===m.year&&g.getMonth()===m.month}).length;return{...m,count:f}})},[n]),s=x.useMemo(()=>{const c=n.filter(h=>h.type==="medical"),d=c.filter(h=>h.approvalChain?.find(y=>y.role==="vc")?.status==="pending"),m=c.filter(h=>h.approvalChain?.find(y=>y.role==="vc")?.status==="approved"),f=c.filter(h=>h.approvalChain?.find(y=>y.role==="vc")?.status==="rejected");return{totalMedical:c.length,pending:d.length,approved:m.length,rejected:f.length,pendingLeaves:d}},[n]),l=x.useMemo(()=>n.filter(c=>c.type==="medical").filter(c=>{const d=c.approvalChain?.find(m=>m.role==="vc");return d&&d.status!=="pending"}).sort((c,d)=>{const m=c.approvalChain?.find(h=>h.role==="vc")?.date,f=d.approvalChain?.find(h=>h.role==="vc")?.date;return new Date(f)-new Date(m)}).slice(0,5),[n]);return t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"relative rounded-2xl overflow-hidden bg-linear-to-br from-indigo-700 via-blue-600 to-blue-400 dark:from-indigo-900 dark:via-blue-900 dark:to-gray-900 shadow-xl p-6 md:p-10 flex flex-col md:flex-row items-center md:items-end justify-between gap-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-white/20 text-xs font-semibold text-white tracking-wide",children:"Vice Chancellor"}),t.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-blue-900/80 text-xs font-semibold text-blue-100 tracking-wide",children:"University HR Portal"})]}),t.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2 drop-shadow dark:text-blue-100",children:["Welcome, ",e?.name]}),t.jsx("p",{className:"text-blue-100 text-base md:text-lg dark:text-blue-200",children:"Empowering HR decisions with real-time analytics and insights."})]}),t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx("div",{className:"w-20 h-20 rounded-full bg-white/20 flex items-center justify-center border-4 border-white/30 shadow-lg",children:t.jsx(Va,{className:"w-10 h-10 text-white"})}),t.jsx("span",{className:"text-white/80 text-xs mt-1 dark:text-blue-200/80",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(Et,{title:"Total Medical Leaves",value:s.totalMedical,icon:gt,color:"primary",subtitle:"All medical leave requests"}),t.jsx(Et,{title:"Pending Review",value:s.pending,icon:Ue,color:"warning",subtitle:"Awaiting your action"}),t.jsx(Et,{title:"Recommended",value:s.approved,icon:Be,color:"success",subtitle:"You have recommended"}),t.jsx(Et,{title:"Rejected",value:s.rejected,icon:zt,color:"danger",subtitle:"You have rejected"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs(H,{className:"flex flex-col items-center justify-center p-6 bg-linear-to-br from-blue-100 to-blue-50 dark:from-blue-900 dark:to-blue-800 border-0 shadow-md hover:shadow-lg transition",children:[t.jsx(gt,{className:"w-10 h-10 text-blue-600 mb-2"}),t.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-1",children:"Review Medical Leaves"}),t.jsx("p",{className:"text-sm text-blue-700 mb-3 text-center",children:"See all pending medical leave requests and take action."}),t.jsx(jn,{to:"/vc/medical-leaves",children:t.jsx(Z,{size:"sm",variant:"primary",children:"Go to Medical Leaves"})})]}),t.jsxs(H,{className:"flex flex-col items-center justify-center p-6 bg-linear-to-br from-emerald-100 to-emerald-50 dark:from-emerald-900 dark:to-emerald-800 border-0 shadow-md hover:shadow-lg transition",children:[t.jsx(Va,{className:"w-10 h-10 text-emerald-600 mb-2"}),t.jsx("h3",{className:"font-semibold text-lg text-emerald-900 mb-1",children:"View Analytics"}),t.jsx("p",{className:"text-sm text-emerald-700 mb-3 text-center",children:"Explore HR analytics and trends for better decisions."}),t.jsx(jn,{to:"/vc/analytics",children:t.jsx(Z,{size:"sm",variant:"success",children:"Go to Analytics"})})]}),t.jsxs(H,{className:"flex flex-col items-center justify-center p-6 bg-linear-to-br from-amber-100 to-amber-50 dark:from-amber-900 dark:to-amber-800 border-0 shadow-md hover:shadow-lg transition",children:[t.jsx(rn,{className:"w-10 h-10 text-amber-600 mb-2"}),t.jsx("h3",{className:"font-semibold text-lg text-amber-900 mb-1",children:"Employee Directory"}),t.jsx("p",{className:"text-sm text-amber-700 mb-3 text-center",children:"Browse all university employees and their details."}),t.jsx(jn,{to:"/hr/employees",children:t.jsx(Z,{size:"sm",variant:"warning",children:"View Employees"})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(H,{className:"h-full flex flex-col dark:bg-gray-900 dark:border-gray-800",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Pending Medical Leaves"}),t.jsx(jn,{to:"/vc/medical-leaves",children:t.jsx(Z,{size:"sm",variant:"outline",children:"View All"})})]}),s.pendingLeaves.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Be,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),t.jsx("p",{className:"text-gray-500",children:"No pending medical leaves"})]}):t.jsx("div",{className:"space-y-3",children:s.pendingLeaves.slice(0,5).map(c=>{const d=a.find(m=>m.id===c.employeeId);return t.jsx("div",{className:"p-4 border border-gray-200 rounded-xl hover:border-indigo-300 hover:shadow-sm transition-all bg-white/80",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-gray-900 truncate",children:d?.name||c.employeeName}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[d?.department||c.department," "," ",d?.code||c.employeeCode]}),t.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500",children:[t.jsx(nt,{className:"w-4 h-4"}),c.startDate&&U(me(c.startDate),"MMM dd")," -"," ",c.endDate&&U(me(c.endDate),"MMM dd, yyyy"),t.jsxs("span",{className:"ml-2 font-medium",children:["(",c.days," days)"]})]})]}),t.jsx(le,{variant:"warning",className:"ml-2",children:"Pending"})]})},c.id)})})]}),t.jsxs(H,{className:"h-full flex flex-col dark:bg-gray-900 dark:border-gray-800",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Activity"}),t.jsx(Ss,{className:"w-5 h-5 text-gray-400"})]}),l.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Ue,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),t.jsx("p",{className:"text-gray-500",children:"No recent activity"})]}):t.jsx("div",{className:"space-y-3",children:l.map(c=>{const d=a.find(f=>f.id===c.employeeId),m=c.approvalChain?.find(f=>f.role==="vc");return t.jsxs("div",{className:"p-4 border border-gray-200 rounded-xl bg-white/80",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-gray-900 truncate",children:d?.name||c.employeeName}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d?.department||c.department}),m?.date&&t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:U(me(m.date),"MMM dd, yyyy HH:mm")})]}),t.jsx(le,{variant:m?.status==="approved"?"success":"danger",className:"ml-2",children:m?.status==="approved"?"Recommended":"Rejected"})]}),m?.comment&&t.jsxs("p",{className:"mt-2 text-sm text-gray-600 italic",children:['"',m.comment,'"']})]},c.id)})})]})]}),t.jsxs(H,{className:"mb-8 dark:bg-gray-900 dark:border-gray-800",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Medical Leave Trends (Last 12 Months)"}),t.jsx("div",{className:"w-full",style:{height:"300px"},children:t.jsx(ht,{width:"100%",height:"100%",children:t.jsxs(Mo,{data:r,margin:{top:10,right:30,left:0,bottom:0},children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"colorLeaves",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#6366f1",stopOpacity:.8}),t.jsx("stop",{offset:"95%",stopColor:"#6366f1",stopOpacity:.1})]})}),t.jsx(tn,{strokeDasharray:"3 3"}),t.jsx(nn,{dataKey:"label",tick:{fontSize:12}}),t.jsx(an,{allowDecimals:!1,tick:{fontSize:12}}),t.jsx(pt,{contentStyle:{borderRadius:8,fontSize:14}}),t.jsx(Ua,{type:"monotone",dataKey:"count",stroke:"#6366f1",fillOpacity:1,fill:"url(#colorLeaves)",name:"Medical Leaves",isAnimationActive:!0})]})})})]}),t.jsxs(H,{className:"dark:bg-gray-900 dark:border-gray-800",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-blue-100 mb-4",children:"University Overview"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900 rounded-xl",children:[t.jsx(rn,{className:"w-8 h-8 text-blue-600 dark:text-blue-300 mx-auto mb-2"}),t.jsx("p",{className:"text-3xl font-bold text-blue-900 dark:text-blue-200",children:a.length}),t.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"Total Employees"})]}),t.jsxs("div",{className:"text-center p-4 bg-emerald-50 dark:bg-emerald-900 rounded-xl",children:[t.jsx(gt,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-300 mx-auto mb-2"}),t.jsx("p",{className:"text-3xl font-bold text-emerald-900 dark:text-emerald-200",children:n.length}),t.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-300 mt-1",children:"Total Leave Requests"})]}),t.jsxs("div",{className:"text-center p-4 bg-amber-50 dark:bg-amber-900 rounded-xl",children:[t.jsx(Ue,{className:"w-8 h-8 text-amber-600 dark:text-amber-300 mx-auto mb-2"}),t.jsx("p",{className:"text-3xl font-bold text-amber-900 dark:text-amber-200",children:s.pending}),t.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300 mt-1",children:"Awaiting Your Review"})]})]})]})]})}const Ece=[{id:"pending",label:"Pending Review",color:"amber"},{id:"approved",label:"Recommended",color:"emerald"},{id:"rejected",label:"Rejected",color:"rose"},{id:"all",label:"All",color:"gray"}];function Oce(){const{employees:e,leaves:n,updateLeaveStatus:a}=ve(),r=at(D=>D.user),[s,l]=x.useState("pending"),[c,d]=x.useState(""),[m,f]=x.useState(null),[h,g]=x.useState(null),[y,v]=x.useState(""),j=x.useMemo(()=>n.filter(D=>D.type==="medical").map(D=>{const P=e.find(O=>O.id===D.employeeId),T=D.days||(D.startDate&&D.endDate?rs(me(D.endDate),me(D.startDate))+1:0);return{...D,employee:P,days:T}}).sort((D,P)=>new Date(P.appliedOn)-new Date(D.appliedOn)),[n,e]),b=x.useMemo(()=>j.filter(D=>{const P=D.approvalChain?.find(T=>T.role==="vc");if(!P)return!1;if(c){const T=c.toLowerCase();if(!(D.employee?.name?.toLowerCase().includes(T)||D.employee?.code?.toLowerCase().includes(T)||D.employeeName?.toLowerCase().includes(T)))return!1}return s==="all"?!0:s==="pending"?P.status==="pending":s==="approved"?P.status==="approved":s==="rejected"?P.status==="rejected":!0}),[j,c,s]),w=x.useMemo(()=>{const D=j.filter(T=>T.approvalChain?.some(O=>O.role==="vc")),P=T=>D.filter(O=>O.approvalChain.find(k=>k.role==="vc")?.status===T).length;return{total:D.length,pending:P("pending"),approved:P("approved"),rejected:P("rejected")}},[j]),M=(D,P)=>{f(D),g(P),v("")},S=()=>{f(null),g(null),v("")},A=()=>{!m||!h||h==="reject"&&!y.trim()||(a(m.id,h==="approve"?"Approved":"Rejected","vc",r?.name||"Vice Chancellor",y||void 0),S())},E=D=>D==="approved"?t.jsx(le,{variant:"success",children:"Recommended"}):D==="rejected"?t.jsx(le,{variant:"danger",children:"Rejected"}):t.jsx(le,{variant:"warning",children:"Pending"});return t.jsxs("div",{className:"space-y-6",children:[t.jsx(H,{className:"bg-linear-to-r from-indigo-600 to-blue-600 text-white border-0",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-14 h-14 rounded-xl bg-white/20 flex items-center justify-center",children:t.jsx(kr,{className:"w-8 h-8"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Medical Leave Reviews"}),t.jsx("p",{className:"text-indigo-100 mt-1",children:"Review and recommend medical leaves to President"})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(H,{className:"hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:t.jsx(kr,{className:"w-6 h-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Total Requests"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.total})]})]})}),t.jsx(H,{className:"hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center",children:t.jsx(Ue,{className:"w-6 h-6 text-amber-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-amber-700",children:"Pending Review"}),t.jsx("p",{className:"text-2xl font-bold text-amber-900",children:w.pending})]})]})}),t.jsx(H,{className:"hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center",children:t.jsx(Be,{className:"w-6 h-6 text-emerald-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-emerald-700",children:"Recommended"}),t.jsx("p",{className:"text-2xl font-bold text-emerald-900",children:w.approved})]})]})}),t.jsx(H,{className:"hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-rose-100 flex items-center justify-center",children:t.jsx(zt,{className:"w-6 h-6 text-rose-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-rose-700",children:"Rejected"}),t.jsx("p",{className:"text-2xl font-bold text-rose-900",children:w.rejected})]})]})})]}),t.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Ece.map(D=>t.jsxs("button",{onClick:()=>l(D.id),className:`px-6 py-2.5 rounded-lg text-sm font-semibold whitespace-nowrap transition-all ${s===D.id?"bg-indigo-600 text-white shadow-md":"bg-white border border-gray-200 text-gray-600 hover:border-indigo-300 hover:shadow-sm"}`,children:[D.label,D.id!=="all"&&w[D.id]>0&&t.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs font-bold ${s===D.id?"bg-white/20":"bg-gray-100"}`,children:w[D.id]})]},D.id))}),t.jsx(H,{children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsx(Rn,{type:"text",placeholder:"Search by employee name or code...",value:c,onChange:D=>d(D.target.value),className:"w-full",inputClassName:"pr-4 py-2.5"})}),t.jsxs(Z,{variant:"outline",className:"gap-2",children:[t.jsx(xo,{className:"w-5 h-5"}),"Filters"]})]})}),t.jsx(H,{children:t.jsx("div",{className:"space-y-4",children:b.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(nt,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No medical leave requests found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:c?"Try adjusting your search":"All requests are processed"})]}):b.map(D=>{const P=D.approvalChain?.find(O=>O.role==="vc"),T=D.approvalChain?.find(O=>O.role==="hod");return t.jsxs("div",{className:"p-5 border border-gray-200 rounded-xl bg-linear-to-r from-white to-gray-50 hover:shadow-md transition-all",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[t.jsx("div",{className:"w-14 h-14 rounded-xl bg-linear-to-br from-indigo-600 to-blue-600 text-white font-bold text-xl flex items-center justify-center shadow-md",children:D.employee?.name?.charAt(0)||"?"}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"font-bold text-gray-900 truncate text-lg",children:D.employee?.name||D.employeeName}),t.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2 mt-1",children:[t.jsx(_r,{className:"w-4 h-4"}),D.employee?.code||D.employeeCode," "," ",D.employee?.department||D.department]})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[t.jsx("span",{className:"px-3 py-1.5 rounded-lg bg-teal-100 text-teal-700 text-xs font-bold",children:"Medical Leave"}),t.jsxs("div",{className:"text-sm",children:[D.startDate&&D.endDate?t.jsxs("p",{className:"font-semibold text-gray-700",children:[U(me(D.startDate),"MMM d")," "," ",U(me(D.endDate),"MMM d, yyyy")]}):t.jsx("p",{className:"text-gray-500",children:"Dates N/A"}),t.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[D.days," day",D.days>1?"s":""]})]}),E(P?.status)]}),P?.status==="pending"&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Z,{size:"sm",onClick:()=>M(D,"approve"),className:"bg-emerald-600 text-white hover:bg-emerald-700 gap-1",children:[t.jsx(Be,{className:"w-4 h-4"}),"Recommend"]}),t.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>M(D,"reject"),className:"text-rose-600 border-rose-200 hover:bg-rose-50 gap-1",children:[t.jsx(zt,{className:"w-4 h-4"}),"Reject"]})]})]}),D.reason&&t.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:t.jsxs("p",{className:"text-sm text-gray-600",children:[t.jsx("span",{className:"font-semibold text-gray-900",children:"Reason:"})," ",D.reason]})}),T?.comment&&t.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsxs("p",{className:"text-xs font-semibold text-blue-900 mb-1 flex items-center gap-1",children:[t.jsx(_r,{className:"w-4 h-4"}),"HOD's Recommendation:"]}),t.jsx("p",{className:"text-sm text-blue-800",children:T.comment}),t.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["by ",T.by," on"," ",T.date&&U(me(T.date),"MMM dd, yyyy")]})]}),P?.comment&&P.status!=="pending"&&t.jsxs("div",{className:`mt-3 p-3 rounded-lg border ${P.status==="approved"?"bg-emerald-50 border-emerald-200":"bg-rose-50 border-rose-200"}`,children:[t.jsxs("p",{className:`text-xs font-semibold mb-1 ${P.status==="approved"?"text-emerald-900":"text-rose-900"}`,children:["Your ",P.status==="approved"?"Recommendation":"Rejection",":"]}),t.jsx("p",{className:`text-sm ${P.status==="approved"?"text-emerald-800":"text-rose-800"}`,children:P.comment}),t.jsxs("p",{className:`text-xs mt-1 ${P.status==="approved"?"text-emerald-600":"text-rose-600"}`,children:["on ",P.date&&U(me(P.date),"MMM dd, yyyy HH:mm")]})]}),D.documents&&D.documents.length>0&&t.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:D.documents.map(O=>t.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gray-100 rounded-lg text-sm",children:[t.jsx(kr,{className:"w-4 h-4 text-gray-600"}),t.jsx("span",{className:"text-gray-700",children:O.name})]},O.id))})]},D.id)})})}),t.jsx(ft,{isOpen:!!m,onClose:S,title:h==="approve"?" Recommend Medical Leave":" Reject Medical Leave",children:m&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-linear-to-r from-indigo-50 to-blue-50 border border-indigo-200 rounded-xl",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-indigo-600 text-white font-bold text-lg flex items-center justify-center",children:m.employee?.name?.charAt(0)||"?"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-indigo-900",children:m.employee?.name||m.employeeName}),t.jsxs("p",{className:"text-sm text-indigo-700",children:[m.employee?.department||m.department," "," ",m.employee?.code||m.employeeCode]})]})]}),t.jsx("div",{className:"mt-3 pt-3 border-t border-indigo-200",children:t.jsxs("p",{className:"text-sm text-indigo-900",children:[t.jsx("span",{className:"font-semibold",children:"Duration:"})," ",m.startDate&&U(me(m.startDate),"MMM dd")," "," ",m.endDate&&U(me(m.endDate),"MMM dd, yyyy")," ","(",m.days," days)"]})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:h==="approve"?" Recommendation Note (Optional)":" Rejection Reason (Required)"}),t.jsx("textarea",{value:y,onChange:D=>v(D.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-200 focus:border-indigo-600 outline-none",placeholder:h==="approve"?"Add your recommendation notes for the President (optional)...":"Provide a clear reason for rejection (required)...",required:h==="reject"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h==="approve"?"This will be forwarded to the President for final decision":"Employee will be notified of the rejection reason"})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[t.jsx(Z,{variant:"outline",onClick:S,children:"Cancel"}),t.jsx(Z,{onClick:A,className:h==="approve"?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-rose-600 text-white hover:bg-rose-700",disabled:h==="reject"&&!y.trim(),children:h==="approve"?t.jsxs(t.Fragment,{children:[t.jsx(Be,{className:"w-5 h-5"}),"Recommend to President"]}):t.jsxs(t.Fragment,{children:[t.jsx(zt,{className:"w-5 h-5"}),"Confirm Rejection"]})})]})]})})]})}function Zv(e){return t.jsx(gt,{...e})}function Pce(){const{leaves:e,employees:n}=ve(),a=x.useMemo(()=>{const A=e.filter(P=>P.type==="medical"),E=A.filter(P=>{const T=P.approvalChain?.find(O=>O.role==="vc");return T&&T.status!=="pending"}),D=E.length>0?E.filter(P=>P.approvalChain.find(T=>T.role==="vc")?.status==="approved").length/E.length*100:0;return{totalMedical:A.length,reviewed:E.length,approvalRate:D.toFixed(1),avgProcessingDays:2.5}},[e]),r=x.useMemo(()=>e.filter(A=>A.type==="medical").sort((A,E)=>new Date(E.appliedOn)-new Date(A.appliedOn)),[e]),[s,l]=x.useState(""),[c,d]=x.useState("pending"),[m,f]=x.useState(null),[h,g]=x.useState(""),[y,v]=x.useState("");at(A=>A.user);const j=[{id:"pending",label:"Pending Review",color:"amber"},{id:"approved",label:"Recommended",color:"emerald"},{id:"rejected",label:"Ejected",color:"rose"},{id:"all",label:"All",color:"blue"}],b=(A,E)=>{f(A),g(E)},w=()=>{f(null),g(""),v("")},M=()=>{!m||!h||h==="reject"&&!y.trim()||w()},S=A=>A==="approved"?t.jsx(le,{variant:"success",children:"Recommended"}):A==="rejected"?t.jsx(le,{variant:"danger",children:"Rejected"}):t.jsx(le,{variant:"warning",children:"Pending"});return t.jsxs("div",{className:"space-y-6",children:[t.jsx(H,{className:"bg-linear-to-r from-indigo-600 to-blue-600 text-white border-0",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-14 h-14 rounded-xl bg-white/20 flex items-center justify-center",children:t.jsx(Zv,{className:"w-8 h-8"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Medical Leave Reviews"}),t.jsx("p",{className:"text-indigo-100 mt-1",children:"Review and recommend medical leaves to President"})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(H,{className:"hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:t.jsx(Zv,{className:"w-6 h-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Total Requests"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.totalMedical})]})]})}),t.jsx(H,{className:"hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center",children:t.jsx(Ue,{className:"w-6 h-6 text-amber-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-amber-700",children:"Pending Review"}),t.jsx("p",{className:"text-2xl font-bold text-amber-900",children:a.pending})]})]})}),t.jsx(H,{className:"hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center",children:t.jsx(Be,{className:"w-6 h-6 text-emerald-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-emerald-700",children:"Recommended"}),t.jsx("p",{className:"text-2xl font-bold text-emerald-900",children:a.reviewed})]})]})}),t.jsx(H,{className:"hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-rose-100 flex items-center justify-center",children:t.jsx(zt,{className:"w-6 h-6 text-rose-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-rose-700",children:"Rejected"}),t.jsx("p",{className:"text-2xl font-bold text-rose-900",children:a.rejected})]})]})})]}),t.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:j.map(A=>t.jsxs("button",{onClick:()=>d(A.id),className:`px-6 py-2.5 rounded-lg text-sm font-semibold whitespace-nowrap transition-all ${c===A.id?"bg-indigo-600 text-white shadow-md":"bg-white border border-gray-200 text-gray-600 hover:border-indigo-300 hover:shadow-sm"}`,children:[A.label,A.id!=="all"&&a[A.id]>0&&t.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs font-bold ${c===A.id?"bg-white/20":"bg-gray-100"}`,children:a[A.id]})]},A.id))}),t.jsx(H,{children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsx("div",{className:"relative flex-1",children:t.jsx(Rn,{type:"text",placeholder:"Search by employee name or code...",value:s,onChange:A=>l(A.target.value),className:"w-full",inputClassName:"pr-4 py-2.5"})}),t.jsxs(Z,{variant:"outline",className:"gap-2",children:[t.jsx(xo,{className:"w-5 h-5"})," Filters"]})]})}),t.jsx(H,{children:t.jsx("div",{className:"space-y-4",children:r.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(nt,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No medical leave requests found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:s?"Try adjusting your search":"All requests are processed"})]}):r.map(A=>{const E=A.approvalChain?.find(P=>P.role==="vc"),D=A.approvalChain?.find(P=>P.role==="hod");return t.jsxs("div",{className:"p-5 border border-gray-200 rounded-xl bg-linear-to-r from-white to-gray-50 hover:shadow-md transition-all",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[t.jsx("div",{className:"w-14 h-14 rounded-xl bg-linear-to-br from-indigo-600 to-blue-600 text-white font-bold text-xl flex items-center justify-center shadow-md",children:A.employee?.name?.charAt(0)||"?"}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"font-bold text-gray-900 truncate text-lg",children:A.employee?.name||A.employeeName}),t.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2 mt-1",children:[t.jsx(_r,{className:"w-4 h-4"}),A.employee?.code||A.employeeCode," "," ",A.employee?.department||A.department]})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[t.jsx("span",{className:"px-3 py-1.5 rounded-lg bg-teal-100 text-teal-700 text-xs font-bold",children:"Medical Leave"}),t.jsxs("div",{className:"text-sm",children:[A.startDate&&A.endDate?t.jsxs("p",{className:"font-semibold text-gray-700",children:[U(me(A.startDate),"MMM d")," "," ",U(me(A.endDate),"MMM d, yyyy")]}):t.jsx("p",{className:"text-gray-500",children:"Dates N/A"}),t.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[A.days," day",A.days>1?"s":""]})]}),S(E?.status)]}),E?.status==="pending"&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Z,{size:"sm",onClick:()=>b(A,"approve"),className:"bg-emerald-600 text-white hover:bg-emerald-700 gap-1",children:[t.jsx(Be,{className:"w-4 h-4"}),"Recommend"]}),t.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>b(A,"reject"),className:"text-rose-600 border-rose-200 hover:bg-rose-50 gap-1",children:[t.jsx(zt,{className:"w-4 h-4"}),"Reject"]})]})]}),A.reason&&t.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:t.jsxs("p",{className:"text-sm text-gray-600",children:[t.jsx("span",{className:"font-semibold text-gray-900",children:"Reason:"})," ",A.reason]})}),D?.comment&&t.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsxs("p",{className:"text-xs font-semibold text-blue-900 mb-1 flex items-center gap-1",children:[t.jsx(_r,{className:"w-4 h-4"})," HOD's Recommendation:"]}),t.jsx("p",{className:"text-sm text-blue-800",children:D.comment}),t.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["by ",D.by," on"," ",D.date&&U(me(D.date),"MMM dd, yyyy")]})]}),E?.comment&&E.status!=="pending"&&t.jsxs("div",{className:`mt-3 p-3 rounded-lg border ${E.status==="approved"?"bg-emerald-50 border-emerald-200":"bg-rose-50 border-rose-200"}`,children:[t.jsxs("p",{className:`text-xs font-semibold mb-1 ${E.status==="approved"?"text-emerald-900":"text-rose-900"}`,children:["Your ",E.status==="approved"?"Recommendation":"Rejection",":"]}),t.jsx("p",{className:`text-sm ${E.status==="approved"?"text-emerald-800":"text-rose-800"}`,children:E.comment}),t.jsxs("p",{className:`text-xs mt-1 ${E.status==="approved"?"text-emerald-600":"text-rose-600"}`,children:["on ",E.date&&U(me(E.date),"MMM dd, yyyy HH:mm")]})]}),A.documents&&A.documents.length>0&&t.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:A.documents.map(P=>t.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gray-100 rounded-lg text-sm",children:[t.jsx(Zv,{className:"w-4 h-4 text-gray-600"}),t.jsx("span",{className:"text-gray-700",children:P.name})]},P.id))})]},A.id)})})}),t.jsx(ft,{isOpen:!!m,onClose:w,title:h==="approve"?" Recommend Medical Leave":" Reject Medical Leave",children:m&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-linear-to-r from-indigo-50 to-blue-50 border border-indigo-200 rounded-xl",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-indigo-600 text-white font-bold text-lg flex items-center justify-center",children:m.employee?.name?.charAt(0)||"?"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-indigo-900",children:m.employee?.name||m.employeeName}),t.jsxs("p",{className:"text-sm text-indigo-700",children:[m.employee?.department||m.department," "," ",m.employee?.code||m.employeeCode]})]})]}),t.jsx("div",{className:"mt-3 pt-3 border-t border-indigo-200",children:t.jsxs("p",{className:"text-sm text-indigo-900",children:[t.jsx("span",{className:"font-semibold",children:"Duration:"})," ",m.startDate&&U(me(m.startDate),"MMM dd")," "," ",m.endDate&&U(me(m.endDate),"MMM dd, yyyy")," ","(",m.days," days)"]})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:h==="approve"?" Recommendation Note (Optional)":" Rejection Reason (Required)"}),t.jsx("textarea",{value:y,onChange:A=>v(A.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-200 focus:border-indigo-600 outline-none",placeholder:h==="approve"?"Add your recommendation notes for the President (optional)...":"Provide a clear reason for rejection (required)...",required:h==="reject"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h==="approve"?"This will be forwarded to the President for final decision":"Employee will be notified of the rejection reason"})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[t.jsx(Z,{variant:"outline",onClick:w,children:"Cancel"}),t.jsx(Z,{onClick:M,className:h==="approve"?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-rose-600 text-white hover:bg-rose-700",disabled:h==="reject"&&!y.trim(),children:h==="approve"?t.jsxs(t.Fragment,{children:[t.jsx(Be,{className:"w-5 h-5"})," Recommend to President"]}):t.jsxs(t.Fragment,{children:[t.jsx(zt,{className:"w-5 h-5"})," Confirm Rejection"]})})]})]})})]})}const kce=[{path:"/vc",label:"Dashboard",icon:Va,end:!0},{path:"/vc/medical-leaves",label:"Medical Leaves",icon:gt},{path:"/vc/analytics",label:"Analytics",icon:xi},{path:"/vc/pams",label:"PAMS",icon:xi}];function Rce(){return t.jsx(Di,{portalKey:"vc",portalName:"VC Portal",navItems:kce})}const _ce={fully:{label:"Fully Achieved",marks:100},largely:{label:"Largely Achieved",marks:85},partially:{label:"Partially Achieved",marks:70},not:{label:"Not Achieved",marks:0}};function Tce(){const e=ve(f=>f.getPamsForVc),n=ve(f=>f.vcApprovePams),[a,r]=x.useState(null),[s,l]=x.useState(""),c=x.useMemo(()=>e(),[e]),d=()=>{if(!c.length)return;const f=_1(c.map(h=>({period:h.period,employee:h.employeeName||h.employeeId,department:h.department,faculty:h.faculty,category:h.category||"faculty",status:h.status,hodMeeting:h.hodReview?.meetingDate||"",deanMeeting:h.deanReview?.meetingDate||""})),["period","employee","department","faculty","category","status","hodMeeting","deanMeeting"]);T1("pams-vc-approvals.csv",f)},m=(f,h)=>{n(f,{action:h,comment:s}),r(null),l("")};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(As,{className:"w-6 h-6 text-gray-600"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"PAMS Approvals"}),t.jsx("p",{className:"text-gray-600",children:"Review and approve Faculty & HOD submissions before sending to HR."})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs(Z,{variant:"secondary",onClick:d,className:"flex items-center gap-2",children:[t.jsx(Gt,{className:"w-4 h-4"})," Export CSV"]})}),c.length===0?t.jsx(H,{children:t.jsx("p",{className:"text-sm text-gray-600",children:"No submissions awaiting VC approval."})}):t.jsxs(t.Fragment,{children:[c.filter(f=>f.category==="faculty").length>0&&t.jsxs(t.Fragment,{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Faculty PAMS"}),t.jsx("div",{className:"grid gap-3",children:c.filter(f=>f.category==="faculty").map(f=>t.jsx(H,{className:`cursor-pointer transition-all ${a?.id===f.id?"ring-2 ring-blue-500":""}`,onClick:()=>r(f),children:t.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:f.employeeName||f.employeeId}),t.jsxs("p",{className:"text-xs text-gray-500",children:[f.department,"  ",f.faculty]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Period: ",f.period]}),f.hodReview?.meetingDate&&t.jsxs("p",{className:"text-xs text-emerald-600",children:[" HOD meeting: ",f.hodReview.meetingDate]})]}),t.jsx(le,{variant:"primary",children:"pending"})]})},f.id))})]}),c.filter(f=>f.category==="hod").length>0&&t.jsxs(t.Fragment,{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mt-6",children:"HOD PAMS"}),t.jsx("div",{className:"grid gap-3",children:c.filter(f=>f.category==="hod").map(f=>t.jsx(H,{className:`cursor-pointer transition-all ${a?.id===f.id?"ring-2 ring-blue-500":""}`,onClick:()=>r(f),children:t.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:f.employeeName||f.employeeId}),t.jsxs("p",{className:"text-xs text-gray-500",children:[f.department,"  ",f.faculty]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Period: ",f.period]}),f.deanReview?.meetingDate&&t.jsxs("p",{className:"text-xs text-emerald-600",children:[" Dean meeting: ",f.deanReview.meetingDate]})]}),t.jsx(le,{variant:"primary",children:"pending"})]})},f.id))})]})]}),a&&t.jsxs(H,{children:[t.jsxs("div",{className:"flex items-center justify-between gap-2 mb-4",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold text-gray-900",children:["Reviewing: ",a.employeeName||a.employeeId]}),t.jsxs("p",{className:"text-xs text-gray-500",children:[a.category==="hod"?"HOD Performance":"Faculty Performance"," "," ",a.period]})]}),t.jsx(le,{variant:"primary",children:a.category})]}),t.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:a.category==="faculty"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Teaching Assessment"}),t.jsx(Ta,{label:"Student Evaluation",value:a.teachingAssessment?.studentEvaluation}),t.jsx(Ta,{label:"Teaching Workload",value:a.teachingAssessment?.teachingWorkload}),t.jsx(Ta,{label:"Course Completion",value:a.teachingAssessment?.courseCompletion})]}),t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Research & Supervision"}),t.jsx(Ta,{label:"FYP Supervision",value:a.fypSupervision}),t.jsx(Ta,{label:"MS/PhD Supervision",value:a.msPhDSupervision}),t.jsx(Ta,{label:"Research Publications",value:a.researchPublications}),t.jsx(Ta,{label:"Research Funding",value:a.researchFunding})]}),t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Service & Administration"}),t.jsx(Ta,{label:"Administrative Duties",value:a.administrativeDuties}),t.jsx(Ta,{label:"Service to Community",value:a.serviceToCommunity})]}),a.hodReview&&t.jsxs("div",{className:"border-t pt-3 bg-blue-50 p-3 rounded",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"HOD Review"}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Meeting: ",a.hodReview.meetingDate||"Not scheduled"]}),a.hodReview.comment&&t.jsxs("p",{className:"text-xs text-gray-700 mt-1",children:["Note: ",a.hodReview.comment]})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Leadership"}),t.jsx(Ta,{label:"Leadership",value:a.leadership})]}),t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Curriculum & Instruction"}),t.jsx(Ta,{label:"Curriculum Instruction",value:a.curriculumInstruction})]}),t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Management"}),t.jsx(Ta,{label:"Management & Admin",value:a.managementAdministration})]}),t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Personnel"}),t.jsx(Ta,{label:"Personnel",value:a.personnel})]}),t.jsxs("div",{className:"border-t pt-3",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Promotion & Tenure"}),t.jsx(Ta,{label:"Promotion & Tenure",value:a.promotionTenure})]}),a.deanReview&&t.jsxs("div",{className:"border-t pt-3 bg-blue-50 p-3 rounded",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Dean Review"}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Meeting: ",a.deanReview.meetingDate||"Not scheduled"]}),a.deanReview.comment&&t.jsxs("p",{className:"text-xs text-gray-700 mt-1",children:["Note: ",a.deanReview.comment]})]})]})}),t.jsx("div",{className:"border-t mt-4 pt-4",children:t.jsxs("label",{className:"text-sm font-medium text-gray-700 block mb-3",children:["Final Comments",t.jsx("textarea",{rows:2,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:s,onChange:f=>l(f.target.value),placeholder:"Optional approval comments"})]})}),t.jsxs("div",{className:"flex flex-wrap justify-end gap-2 mt-4",children:[t.jsx(Z,{variant:"secondary",onClick:()=>r(null),children:"Cancel"}),t.jsxs(Z,{onClick:()=>m(a.id,"approve"),className:"flex items-center gap-2",children:[t.jsx(Be,{className:"w-4 h-4"})," Send to HR"]})]})]})]})}function Ta({label:e,value:n}){const a=n?_ce[n]:null;return t.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm py-1",children:[t.jsx("span",{className:"text-gray-700",children:e}),a?t.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:a.label}):t.jsx("span",{className:"text-xs text-gray-500",children:""})]})}function Lce(){return t.jsx(Mi,{children:t.jsxs(Ce,{element:t.jsx(Rce,{}),children:[t.jsx(Ce,{index:!0,element:t.jsx(Dce,{})}),t.jsx(Ce,{path:"medical-leaves",element:t.jsx(Oce,{})}),t.jsx(Ce,{path:"analytics",element:t.jsx(Pce,{})}),t.jsx(Ce,{path:"pams",element:t.jsx(Tce,{})}),t.jsx(Ce,{path:"*",element:t.jsx(Ns,{to:".",replace:!0})})]})})}const Ice=[{path:"/finance/dashboard",label:"Dashboard",icon:Gu,end:!0},{path:"/finance/requests",label:"Requests",icon:dr},{path:"/finance/reports",label:"Reports",icon:Va},{path:"/finance/policy-advisory",label:"Policy Advisory",icon:gt},{path:"/finance/settings",label:"Settings",icon:Fr}];function zce(){return t.jsx(Di,{portalKey:"finance",portalName:"Finance Portal",navItems:Ice})}const Bce=[{id:"r-1",name:"John Doe",balance:1e5,requested:9e4,serviceYears:5,type:"Refundable",age:40,submittedOn:"2025-12-12",status:"Pending"},{id:"r-2",name:"Sara Khan",balance:12e4,requested:1e5,serviceYears:7,type:"Non-Refundable",age:52,submittedOn:"2025-12-10",status:"Pending"},{id:"r-3",name:"Ali Raza",balance:8e4,requested:7e4,serviceYears:2,type:"Refundable",age:29,submittedOn:"2025-12-08",status:"Rejected"}];function E4(){const[e,n]=x.useState(Bce),[a,r]=x.useState("all"),[s,l]=x.useState(null),c=x.useMemo(()=>{const g=e.filter(b=>b.status==="Pending").length,y=e.filter(b=>b.status==="Approved").length,v=e.filter(b=>b.status==="Approved").reduce((b,w)=>b+w.requested,0),j=e.filter(b=>b.requested>b.balance*.8).length;return{pending:g,approvedThisMonth:y,totalDisbursed:v,overLimit:j}},[e]),d=x.useMemo(()=>e.filter(g=>a==="all"?!0:g.status===a),[e,a]),m=x.useMemo(()=>[{header:"Employee",accessorKey:"name",cell:({row:g})=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center text-sm font-bold",children:g.original.name?.charAt(0)}),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-gray-900",children:g.original.name}),t.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[t.jsx(Zu,{className:"w-3.5 h-3.5"})," ",g.original.type]})]})]})},{header:"Requested",accessorKey:"requested",cell:({row:g})=>t.jsx("span",{className:"font-medium",children:g.original.requested.toLocaleString()})},{header:"Eligible (80%)",accessorKey:"eligible",cell:({row:g})=>(g.original.balance*.8).toLocaleString()},{header:"Status",accessorKey:"status",cell:({row:g})=>{const y=g.original.status,v=g.original.requested>g.original.balance*.8;return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(le,{variant:y==="Approved"?"success":y==="Rejected"?"error":"warning",children:y}),v&&t.jsx(le,{variant:"danger",size:"xs",children:"Over Limit"})]})}},{header:"Submitted",accessorKey:"submittedOn",cell:({row:g})=>t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx(nt,{className:"w-4 h-4"}),U(new Date(g.original.submittedOn),"MMM d, yyyy")]})},{header:"Actions",cell:({row:g})=>{const y=g.original,v=y.requested>y.balance*.8,j=y.status!=="Pending"||v;return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Z,{size:"sm",disabled:j,onClick:()=>l(y),children:[t.jsx(Be,{className:"w-4 h-4"})," Approve"]}),t.jsxs(Z,{size:"sm",variant:"outline",disabled:y.status!=="Pending",onClick:()=>h(y.id),className:"text-red-600 border-red-200 hover:bg-red-50",children:[t.jsx(zt,{className:"w-4 h-4"})," Reject"]})]})}}],[]),f=g=>{n(y=>y.map(v=>v.id===g?{...v,status:"Approved"}:v)),l(null)},h=g=>{n(y=>y.map(v=>v.id===g?{...v,status:"Rejected"}:v))};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"CECPF Provident Fund Requests"}),t.jsx("p",{className:"text-gray-600",children:"Review and process employee fund withdrawals/loans"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(Et,{title:"Pending",value:c.pending,icon:sa,color:"warning",trendValue:`+${Math.max(0,c.pending-0)}`,subtitle:"Awaiting decision"}),t.jsx(Et,{title:"Approved (Month)",value:c.approvedThisMonth,icon:Be,color:"success",trendValue:`+${c.approvedThisMonth}`,subtitle:"This month"}),t.jsx(Et,{title:"Total Disbursed",value:c.totalDisbursed.toLocaleString(),icon:dr,color:"primary",trendValue:c.totalDisbursed?`+PKR ${c.totalDisbursed.toLocaleString()}`:"+0",subtitle:"All-time"}),t.jsx(Et,{title:"Over-Limit",value:c.overLimit,icon:zt,color:"danger",trendValue:`+${c.overLimit}`,subtitle:"Exceed 80%"})]}),t.jsx(H,{children:t.jsx("div",{className:"flex flex-wrap items-center gap-2",children:["all","Pending","Approved","Rejected"].map(g=>t.jsx("button",{onClick:()=>r(g),className:`px-3 py-1.5 rounded-lg text-sm border transition-all ${a===g?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"}`,children:g==="all"?"All":g},g))})}),t.jsx(Su,{data:d,columns:m,searchPlaceholder:"Search employees...",showSearch:!0,pageSize:5,emptyMessage:"No requests match the filter"}),s&&t.jsx(ft,{isOpen:!!s,onClose:()=>l(null),title:"Approve Request",size:"lg",actions:t.jsxs(t.Fragment,{children:[t.jsx(Z,{variant:"ghost",onClick:()=>l(null),children:"Cancel"}),t.jsx(Z,{onClick:()=>f(s.id),disabled:s.requested>s.balance*.8,children:"Approve"})]}),children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-100 text-indigo-700 flex items-center justify-center text-lg font-bold",children:s.name?.charAt(0)}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:s.name}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Type: ",t.jsx("span",{className:"font-medium",children:s.type}),"  Service:"," ",t.jsxs("span",{className:"font-medium",children:[s.serviceYears," yrs"]})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Requested:"," ",t.jsx("span",{className:"font-medium",children:s.requested.toLocaleString()}),"  ","Eligible (80%):"," ",t.jsx("span",{className:"font-medium",children:(s.balance*.8).toLocaleString()})]})]})]}),s.requested>s.balance*.8&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:"Requested amount exceeds 80% eligibility. Adjust before approval."}),t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsx("span",{className:"font-medium",children:"Submitted:"})," ",U(new Date(s.submittedOn),"PPP")]}),t.jsx("p",{className:"text-sm text-gray-700",children:"Recovery will be in 30 monthly installments."})]})})]})}const $ce=[{id:"r-1",name:"John Doe",type:"Refundable",requested:9e4,eligible:8e4,status:"Approved",submittedOn:"2025-12-12"},{id:"r-2",name:"Sara Khan",type:"Non-Refundable",requested:1e5,eligible:96e3,status:"Pending",submittedOn:"2025-12-10"},{id:"r-3",name:"Ali Raza",type:"Refundable",requested:7e4,eligible:64e3,status:"Rejected",submittedOn:"2025-12-08"}];function Fce(){const[e]=x.useState($ce),n=x.useMemo(()=>[{header:"Employee",accessorKey:"name",cell:({row:a})=>t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold",children:a.original.name}),t.jsx("div",{className:"text-xs text-gray-500",children:a.original.type})]})},{header:"Requested",accessorKey:"requested",cell:({row:a})=>`PKR ${a.original.requested.toLocaleString()}`},{header:"Eligible",accessorKey:"eligible",cell:({row:a})=>`PKR ${a.original.eligible.toLocaleString()}`},{header:"Status",accessorKey:"status",cell:({row:a})=>{const r=a.original.status;return t.jsx(le,{variant:r==="Approved"?"success":r==="Rejected"?"error":"warning",children:r})}},{header:"Date",accessorKey:"submittedOn",cell:({row:a})=>U(new Date(a.original.submittedOn),"MMM d, yyyy")}],[]);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Provident Fund Requests"}),t.jsx("p",{className:"text-gray-600",children:"View and manage all employee requests"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[t.jsx(H,{className:"bg-blue-50 border-blue-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Total Requests"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]}),t.jsx(dr,{className:"w-8 h-8 text-blue-400"})]})}),t.jsx(H,{className:"bg-green-50 border-green-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Approved"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(a=>a.status==="Approved").length})]}),t.jsx(Be,{className:"w-8 h-8 text-green-400"})]})}),t.jsx(H,{className:"bg-red-50 border-red-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Rejected"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(a=>a.status==="Rejected").length})]}),t.jsx(zt,{className:"w-8 h-8 text-red-400"})]})})]}),t.jsx(Su,{data:e,columns:n,searchPlaceholder:"Search requests...",showSearch:!0,pageSize:10})]})}function qce(){const e=[{month:"Oct",approved:12,rejected:2,total:45e6},{month:"Nov",approved:15,rejected:3,total:52e6},{month:"Dec",approved:8,rejected:1,total:38e6}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Finance Reports"}),t.jsx("p",{className:"text-gray-600",children:"Monthly provident fund statistics and trends"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(H,{className:"bg-indigo-50 border-indigo-200",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Total Disbursed"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"PKR 1.45 Cr"}),t.jsx("p",{className:"text-xs text-indigo-600 mt-1",children:"This quarter"})]}),t.jsx(dr,{className:"w-8 h-8 text-indigo-400"})]})}),t.jsx(H,{className:"bg-green-50 border-green-200",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Approval Rate"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"87%"}),t.jsx("p",{className:"text-xs text-green-600 mt-1",children:"This quarter"})]}),t.jsx(Ss,{className:"w-8 h-8 text-green-400"})]})}),t.jsx(H,{className:"bg-blue-50 border-blue-200",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Requests"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"147"}),t.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Total received"})]}),t.jsx(Va,{className:"w-8 h-8 text-blue-400"})]})}),t.jsx(H,{className:"bg-purple-50 border-purple-200",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Avg Duration"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"5 days"}),t.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Processing time"})]}),t.jsx(nt,{className:"w-8 h-8 text-purple-400"})]})})]}),t.jsxs(H,{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Trends"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"px-4 py-2 text-left text-gray-600",children:"Month"}),t.jsx("th",{className:"px-4 py-2 text-right text-gray-600",children:"Approved"}),t.jsx("th",{className:"px-4 py-2 text-right text-gray-600",children:"Rejected"}),t.jsx("th",{className:"px-4 py-2 text-right text-gray-600",children:"Amount"})]})}),t.jsx("tbody",{children:e.map(n=>t.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3 font-medium",children:n.month}),t.jsx("td",{className:"px-4 py-3 text-right text-green-600 font-semibold",children:n.approved}),t.jsx("td",{className:"px-4 py-3 text-right text-red-600 font-semibold",children:n.rejected}),t.jsxs("td",{className:"px-4 py-3 text-right font-semibold",children:["PKR ",(n.total/1e7).toFixed(1)," Cr"]})]},n.month))})]})})]})]})}const Xv=[{id:1,title:"CECPF Provident Fund Policy",description:"Employee contributory provident fund rules and procedures",updated:"2021-12-10",status:"Active"},{id:2,title:"Fund Withdrawal Guidelines",description:"Procedures and eligibility for fund withdrawals",updated:"2024-11-20",status:"Active"},{id:3,title:"Loan Repayment Policy",description:"Loan disbursement and monthly installment recovery procedures",updated:"2024-10-15",status:"Active"}];function Hce(){const e=n=>{const a=document.createElement("a");a.href="/PDF's/4. CECPF 10 Dec 21.pdf",a.download=`${n.title}.pdf`,document.body.appendChild(a),a.click(),document.body.removeChild(a)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Policy Advisory"}),t.jsx("p",{className:"text-gray-600",children:"Provident fund policies and guidelines"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[t.jsx(H,{className:"bg-blue-50 border-blue-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(gt,{className:"w-8 h-8 text-blue-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Total Policies"}),t.jsx("p",{className:"text-2xl font-bold",children:Xv.length})]})]})}),t.jsx(H,{className:"bg-green-50 border-green-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Be,{className:"w-8 h-8 text-green-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Active"}),t.jsx("p",{className:"text-2xl font-bold",children:Xv.filter(n=>n.status==="Active").length})]})]})}),t.jsx(H,{className:"bg-purple-50 border-purple-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Gt,{className:"w-8 h-8 text-purple-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Downloads"}),t.jsx("p",{className:"text-2xl font-bold",children:"1.2K"})]})]})})]}),t.jsx("div",{className:"space-y-4",children:Xv.map(n=>t.jsx(H,{className:"hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[t.jsx(gt,{className:"w-6 h-6 text-blue-600 shrink-0 mt-1"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:n.title}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n.description}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(le,{variant:"success",size:"xs",children:n.status}),t.jsxs("span",{className:"text-xs text-gray-500",children:["Updated: ",new Date(n.updated).toLocaleDateString()]})]})]})]}),t.jsxs(Z,{size:"sm",onClick:()=>e(n),className:"gap-2 shrink-0",children:[t.jsx(Gt,{className:"w-4 h-4"}),"Download"]})]})},n.id))})]})}function Uce(){const[e,n]=x.useState({emailAlerts:!0,weeklyReport:!0,approvalReminder:!0}),a=s=>{n(l=>({...l,[s]:!l[s]}))},r=()=>{alert("Settings saved successfully!")};return t.jsxs("div",{className:"space-y-6 max-w-2xl",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),t.jsx("p",{className:"text-gray-600",children:"Manage finance portal preferences"})]}),t.jsxs(H,{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(ss,{className:"w-6 h-6 text-blue-600"}),t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Notifications"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Email Alerts"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Get notified for new requests"})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:e.emailAlerts,onChange:()=>a("emailAlerts"),className:"w-5 h-5 rounded"}),e.emailAlerts&&t.jsx(le,{variant:"success",children:"On"})]})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Weekly Report"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Receive weekly summary report"})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:e.weeklyReport,onChange:()=>a("weeklyReport"),className:"w-5 h-5 rounded"}),e.weeklyReport&&t.jsx(le,{variant:"success",children:"On"})]})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Approval Reminders"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Reminder for pending approvals"})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:e.approvalReminder,onChange:()=>a("approvalReminder"),className:"w-5 h-5 rounded"}),e.approvalReminder&&t.jsx(le,{variant:"success",children:"On"})]})]})]})]}),t.jsxs(H,{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(Fr,{className:"w-6 h-6 text-blue-600"}),t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"System Settings"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Default Approval Threshold"}),t.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{children:"PKR 50,000"}),t.jsx("option",{children:"PKR 100,000"}),t.jsx("option",{children:"PKR 500,000"}),t.jsx("option",{children:"No limit"})]})]}),t.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Processing Days"}),t.jsx("input",{type:"number",defaultValue:"5",min:"1",max:"30",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Target days to process requests"})]})]})]}),t.jsxs(H,{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(vi,{className:"w-6 h-6 text-blue-600"}),t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Security"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Two-factor authentication is enabled for all finance accounts."}),t.jsx(Z,{variant:"outline",size:"sm",children:"Change Password"})]})]}),t.jsx("div",{className:"flex justify-end pt-4",children:t.jsxs(Z,{onClick:r,className:"gap-2",children:[t.jsx(d7,{className:"w-4 h-4"}),"Save Changes"]})})]})}function Vce(){return t.jsx(Mi,{children:t.jsxs(Ce,{element:t.jsx(zce,{}),children:[t.jsx(Ce,{index:!0,element:t.jsx(E4,{})}),t.jsx(Ce,{path:"dashboard",element:t.jsx(E4,{})}),t.jsx(Ce,{path:"requests",element:t.jsx(Fce,{})}),t.jsx(Ce,{path:"reports",element:t.jsx(qce,{})}),t.jsx(Ce,{path:"policy-advisory",element:t.jsx(Hce,{})}),t.jsx(Ce,{path:"settings",element:t.jsx(Uce,{})}),t.jsx(Ce,{path:"*",element:t.jsx(Ns,{to:".",replace:!0})})]})})}const Kce=[{path:"/oric",label:"Dashboard",icon:gl,end:!0},{path:"/oric/publications",label:"Publications",icon:gt},{path:"/oric/funding",label:"Funding & Grants",icon:ur}];function Wce({children:e}){return t.jsx(Di,{portalKey:"oric",portalName:"ORIC Portal",navItems:Kce,children:e})}function Yce(){return t.jsx(Wce,{children:t.jsx(O4,{})})}const Gce=[{id:1,title:"AI-Based Medical Diagnosis System",pi:"Dr. Ahmed Khan",department:"Computer Science",status:"Active",budget:"$50,000",year:"2024"},{id:2,title:"Renewable Energy Solutions for Rural Areas",pi:"Dr. Sarah Ali",department:"Electrical Engineering",status:"Active",budget:"$75,000",year:"2024"},{id:3,title:"Smart City Infrastructure Development",pi:"Dr. Hassan Raza",department:"Civil Engineering",status:"Completed",budget:"$120,000",year:"2023"},{id:4,title:"Machine Learning for Agricultural Optimization",pi:"Dr. Fatima Malik",department:"Data Science",status:"Active",budget:"$60,000",year:"2024"},{id:5,title:"Blockchain in Supply Chain Management",pi:"Dr. Usman Tariq",department:"Management Sciences",status:"Active",budget:"$45,000",year:"2024"}],z6=[{id:1,title:"Deep Learning Applications in Healthcare",journal:"IEEE Transactions on Medical Imaging",authors:"Khan, A., et al.",year:"2024",impact:"10.2"},{id:2,title:"Sustainable Energy Systems: A Comprehensive Review",journal:"Renewable Energy Journal",authors:"Ali, S., et al.",year:"2024",impact:"8.5"},{id:3,title:"Smart Infrastructure for Modern Cities",journal:"Urban Planning Review",authors:"Raza, H., et al.",year:"2023",impact:"6.8"},{id:4,title:"Machine Learning in Agricultural Forecasting",journal:"Agricultural Systems",authors:"Malik, F., et al.",year:"2024",impact:"7.3"},{id:5,title:"Blockchain Technology: Security and Applications",journal:"Journal of Computer Security",authors:"Tariq, U., et al.",year:"2024",impact:"9.1"},{id:6,title:"Neural Networks for Medical Image Analysis",journal:"Medical Image Analysis",authors:"Khan, A., et al.",year:"2023",impact:"11.5"}],B6=[{id:1,title:"HEC Research Grant - AI in Healthcare",amount:"$100,000",agency:"Higher Education Commission",status:"Active",year:"2024"},{id:2,title:"NSF Grant - Renewable Energy Research",amount:"$150,000",agency:"National Science Foundation",status:"Active",year:"2024"},{id:3,title:"UNESCO Grant - Educational Technology",amount:"$80,000",agency:"UNESCO",status:"Under Review",year:"2024"},{id:4,title:"Industry Partnership - Smart Agriculture",amount:"$120,000",agency:"AgriTech International",status:"Active",year:"2024"}];function Zce(){const e=z6,n=B6,a=Gce,r=()=>{const f=["Section","Title","Detail","Year","Amount/Impact"],h=[...a.map(b=>["Project",b.title,`${b.department}  ${b.status}`,b.year,b.budget]),...n.map(b=>["Grant",b.title,b.agency,b.year,b.amount]),...e.map(b=>["Publication",b.title,b.journal,b.year,b.impact])],g=[f.join(","),...h.map(b=>b.map(w=>`"${String(w).replace(/"/g,'""')}"`).join(","))].join(`
`),y=new Blob([g],{type:"text/csv;charset=utf-8;"}),v=URL.createObjectURL(y),j=document.createElement("a");j.href=v,j.download="oric-dashboard-data.csv",j.click(),URL.revokeObjectURL(v)},s=Object.values(a.reduce((f,h)=>(f[h.department]=f[h.department]||{department:h.department,count:0},f[h.department].count+=1,f),{})),l=["Active","Completed","Pending"].map(f=>({name:f,value:a.filter(h=>h.status===f).length})),c=Object.values(a.reduce((f,h)=>{const g=Number((h.budget||"0").replace(/[$,]/g,""));return f[h.year]=f[h.year]||{year:h.year,budget:0},f[h.year].budget+=g,f},{})).sort((f,h)=>f.year.localeCompare(h.year)),d=[...a].map(f=>({...f,budgetValue:Number((f.budget||"0").replace(/[$,]/g,""))})).sort((f,h)=>h.budgetValue-f.budgetValue).slice(0,4).map((f,h)=>({...f,fill:["#4f46e5","#0ea5e9","#22c55e","#f59e0b"][h%4]})),m=["#4f46e5","#0ea5e9","#22c55e","#f59e0b","#ef4444"];return t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"ORIC Dashboard"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"Key metrics and research performance at a glance."})]}),t.jsx(Z,{variant:"primary",size:"sm",onClick:r,className:"shadow-md",children:"Download Excel (CSV)"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsx(Et,{title:"Active Grants",value:n.length,icon:ur,color:"success"}),t.jsx(Et,{title:"Publications",value:e.length,icon:gt,color:"info"})]}),t.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[t.jsx(H,{title:"Projects by Department",children:t.jsx("div",{className:"h-72 min-w-0",children:t.jsx(ht,{width:"100%",height:"100%",minWidth:0,minHeight:0,children:t.jsxs(Rr,{data:s,margin:{top:10,right:10,left:-10,bottom:0},children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"deptGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#4f46e5",stopOpacity:.9}),t.jsx("stop",{offset:"100%",stopColor:"#a855f7",stopOpacity:.6})]})}),t.jsx(tn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(nn,{dataKey:"department",stroke:"#6b7280",style:{fontSize:"0.8rem"}}),t.jsx(an,{stroke:"#6b7280",style:{fontSize:"0.8rem"},allowDecimals:!1}),t.jsx(pt,{}),t.jsx(ra,{dataKey:"count",radius:[8,8,0,0],fill:"url(#deptGradient)"})]})})})}),t.jsx(H,{title:"Project Status Mix",children:t.jsx("div",{className:"h-72 min-w-0",children:t.jsx(ht,{width:"100%",height:"100%",minWidth:0,minHeight:0,children:t.jsxs(fr,{children:[t.jsx(Wa,{data:l,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:55,outerRadius:85,paddingAngle:2,label:!0,children:l.map((f,h)=>t.jsx(kn,{fill:m[h%m.length]},f.name))}),t.jsx(pt,{}),t.jsx(cr,{verticalAlign:"bottom",height:36})]})})})}),t.jsx(H,{title:"Project Budget by Year",children:t.jsx("div",{className:"h-72 min-w-0",children:t.jsx(ht,{width:"100%",height:"100%",minWidth:0,minHeight:0,children:t.jsxs(Mo,{data:c,margin:{top:10,right:10,left:-10,bottom:0},children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"budgetGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#22c55e",stopOpacity:.8}),t.jsx("stop",{offset:"100%",stopColor:"#bbf7d0",stopOpacity:.5})]})}),t.jsx(tn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.jsx(nn,{dataKey:"year",stroke:"#6b7280",style:{fontSize:"0.8rem"}}),t.jsx(an,{stroke:"#6b7280",style:{fontSize:"0.8rem"},tickFormatter:f=>`$${Math.round(f/1e3)}k`}),t.jsx(pt,{formatter:f=>`$${f.toLocaleString()}`}),t.jsx(Ua,{type:"monotone",dataKey:"budget",stroke:"#22c55e",strokeWidth:3,fill:"url(#budgetGradient)"})]})})})}),t.jsx(H,{title:"Top Project Budgets",children:t.jsx("div",{className:"h-112 min-w-0",children:t.jsx(ht,{width:"100%",height:"100%",minWidth:0,minHeight:0,children:t.jsxs(dse,{cx:"50%",cy:"50%",innerRadius:"22%",outerRadius:"100%",barSize:16,data:d,children:[t.jsx(_R,{background:!0,dataKey:"budgetValue",cornerRadius:8,label:{position:"insideStart",fill:"#fff",fontSize:10,formatter:f=>`$${Math.round(f/1e3)}k`}}),t.jsx(cr,{iconSize:10,layout:"vertical",verticalAlign:"top",align:"right",wrapperStyle:{fontSize:11,lineHeight:"16px",right:8,top:8},formatter:(f,h)=>`${h.payload.title}`}),t.jsx(pt,{formatter:f=>`$${Number(f).toLocaleString()}`})]})})})})]}),t.jsx(H,{title:"Recent Publications",children:t.jsx("div",{className:"space-y-4",children:e.slice(0,5).map(f=>t.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:f.title}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[f.authors,"  ",f.journal]}),t.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[t.jsxs("span",{className:"text-xs text-gray-500",children:["Year: ",f.year]}),t.jsxs("span",{className:"text-xs font-medium text-blue-600",children:["Impact Factor: ",f.impact]})]})]},f.id))})}),t.jsx(H,{title:"Active Grants",children:t.jsx("div",{className:"space-y-3",children:n.map(f=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[t.jsx("h5",{className:"text-sm font-semibold text-gray-900",children:f.title}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Agency: ",f.agency]}),t.jsxs("div",{className:"flex items-center justify-between mt-2",children:[t.jsx("span",{className:"text-sm font-bold text-green-600",children:f.amount}),t.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-800 rounded-full",children:f.status})]})]},f.id))})})]})}function Xce(){return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Publications"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"Research publications and journal articles."})]}),t.jsx(H,{title:"All Publications",children:t.jsx("div",{className:"space-y-4",children:z6.map(e=>t.jsx("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:e.title}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.authors,"  ",e.journal]}),t.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[t.jsxs("span",{className:"text-xs text-gray-500",children:["Year: ",e.year]}),t.jsxs("span",{className:"text-xs font-medium text-blue-600",children:["Impact Factor: ",e.impact]})]})]})})},e.id))})})]})}function Qce(){return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Funding & Grants"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"Overview of all grants and funding sources."})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:B6.map(e=>t.jsx(H,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("h5",{className:"text-sm font-semibold text-gray-900",children:e.title}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Agency: ",e.agency]}),t.jsxs("div",{className:"border-t border-gray-200 pt-3 mt-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Amount:"}),t.jsx("span",{className:"text-sm font-bold text-green-600",children:e.amount})]}),t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Year:"}),t.jsx("span",{className:"text-sm text-gray-900",children:e.year})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Status:"}),t.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${e.status==="Active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e.status})]})]})]})},e.id))})]})}function Jce(){const{isAuthenticated:e,user:n}=at();return t.jsx(eL,{children:t.jsxs(Mi,{children:[t.jsx(Ce,{path:"/login",element:t.jsx(m8,{})}),e?t.jsxs(t.Fragment,{children:[t.jsx(Ce,{path:"/admin/*",element:t.jsx($8,{})}),t.jsx(Ce,{path:"/hr/*",element:t.jsx(Die,{})}),t.jsx(Ce,{path:"/dean/*",element:t.jsx(Yie,{})}),t.jsx(Ce,{path:"/hod/*",element:t.jsx(fle,{})}),t.jsx(Ce,{path:"/employee/*",element:t.jsx(hce,{})}),t.jsx(Ce,{path:"/president/*",element:t.jsx(Mce,{})}),t.jsx(Ce,{path:"/vc/*",element:t.jsx(Lce,{})}),t.jsx(Ce,{path:"/finance/*",element:t.jsx(Vce,{})}),t.jsxs(Ce,{path:"/oric/*",element:t.jsx(Yce,{}),children:[t.jsx(Ce,{index:!0,element:t.jsx(Zce,{})}),t.jsx(Ce,{path:"publications",element:t.jsx(Xce,{})}),t.jsx(Ce,{path:"funding",element:t.jsx(Qce,{})})]}),t.jsx(Ce,{path:"/",element:t.jsx(Ns,{to:mu[n?.primaryRole]||"/employee",replace:!0})})]}):t.jsx(Ce,{path:"*",element:t.jsx(Ns,{to:"/login",replace:!0})}),t.jsx(Ce,{path:"*",element:t.jsx(f8,{})})]})})}LL.createRoot(document.getElementById("root")).render(t.jsx(Oe.StrictMode,{children:t.jsx(Jce,{})}));
